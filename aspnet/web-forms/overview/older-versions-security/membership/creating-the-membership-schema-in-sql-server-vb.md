---
uid: web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-vb
title: Создание схемы членства в SQL Server (Visual Basic) | Документация Майкрософт
author: rick-anderson
description: Этот учебник начинает проверять методы для добавления необходимую схему в базу данных для использования SqlMembershipProvider. После этого мы wi...
ms.author: riande
ms.date: 01/18/2008
ms.assetid: 112a674d-716f-41a6-99b8-4074d65a54c0
msc.legacyurl: /web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-vb
msc.type: authoredcontent
ms.openlocfilehash: 17fbc85ab1be16e2b4a5c179db3c24645a6a0a64
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59404173"
---
# <a name="creating-the-membership-schema-in-sql-server-vb"></a><span data-ttu-id="83386-104">Создание схемы членства в SQL Server (VB)</span><span class="sxs-lookup"><span data-stu-id="83386-104">Creating the Membership Schema in SQL Server (VB)</span></span>

<span data-ttu-id="83386-105">по [Скотт Митчелл](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="83386-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="83386-106">[Скачать код](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_VB.zip) или [скачать PDF](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_vb.pdf)</span><span class="sxs-lookup"><span data-stu-id="83386-106">[Download Code](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_VB.zip) or [Download PDF](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_vb.pdf)</span></span>

> <span data-ttu-id="83386-107">Этот учебник начинает проверять методы для добавления необходимую схему в базу данных для использования SqlMembershipProvider.</span><span class="sxs-lookup"><span data-stu-id="83386-107">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the SqlMembershipProvider.</span></span> <span data-ttu-id="83386-108">После этого мы проверка ключей таблиц в схеме и обсудить их назначении и важности.</span><span class="sxs-lookup"><span data-stu-id="83386-108">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="83386-109">Этот учебник завершает со взгляда на инструкции по определению приложения ASP.NET, какой поставщик, следует использовать платформу членства.</span><span class="sxs-lookup"><span data-stu-id="83386-109">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>


## <a name="introduction"></a><span data-ttu-id="83386-110">Вступление</span><span class="sxs-lookup"><span data-stu-id="83386-110">Introduction</span></span>

<span data-ttu-id="83386-111">Двух предыдущих учебных при просмотре с помощью проверки подлинности форм для идентификации посетителей веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="83386-111">The previous two tutorials examined using forms authentication to identify website visitors.</span></span> <span data-ttu-id="83386-112">Структуры проверки подлинности forms упрощает для разработчиков для входа пользователя в веб-сайт и запомнить их посещений страницы при помощи билеты проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="83386-112">The forms authentication framework makes it easy for developers to log a user into a website and to remember them across page visits through the use of authentication tickets.</span></span> <span data-ttu-id="83386-113">`FormsAuthentication` Класс включает методы для генерации билета и его добавления к файлам cookie посетителя.</span><span class="sxs-lookup"><span data-stu-id="83386-113">The `FormsAuthentication` class includes methods for generating the ticket and adding it to the visitor's cookies.</span></span> <span data-ttu-id="83386-114">`FormsAuthenticationModule` Проверяет все входящие запросы и для тех, с помощью билета проверки подлинности, создает и связывает `GenericPrincipal` и `FormsIdentity` объект с текущим запросом.</span><span class="sxs-lookup"><span data-stu-id="83386-114">The `FormsAuthenticationModule` examines all incoming requests and, for those with a valid authentication ticket, creates and associates a `GenericPrincipal` and a `FormsIdentity` object with the current request.</span></span> <span data-ttu-id="83386-115">Проверка подлинности форм — просто в механизм предоставления билет проверки подлинности пользователь при входе в и при последующих запросах, синтаксический анализ Этот билет для определения удостоверения пользователя.</span><span class="sxs-lookup"><span data-stu-id="83386-115">Forms authentication is merely a mechanism for granting an authentication ticket to a visitor when logging in and, on subsequent requests, parsing that ticket to determine the user's identity.</span></span> <span data-ttu-id="83386-116">Для веб-приложения для поддержки учетных записей пользователей по-прежнему необходимо реализовать пользовательского хранилища и расширяют его функциональные возможности проверить учетные данные, регистрировать новых пользователей и множество других пользовательских задач, связанные с учетной записью.</span><span class="sxs-lookup"><span data-stu-id="83386-116">For a web application to support user accounts, we still need to implement a user store and add functionality to validate credentials, register new users, and the myriad of other user account-related tasks.</span></span>

<span data-ttu-id="83386-117">До версии ASP.NET 2.0 разработчикам было на ком оно висит для реализации всех этих задач связанные с учетной записью пользователя.</span><span class="sxs-lookup"><span data-stu-id="83386-117">Prior to ASP.NET 2.0, developers were on the hook for implementing all of these user account-related tasks.</span></span> <span data-ttu-id="83386-118">К счастью, группа разработчиков ASP.NET распознан этот недостаток и появился структуру членства в ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="83386-118">Fortunately the ASP.NET team recognized this shortcoming and introduced the Membership framework with ASP.NET 2.0.</span></span> <span data-ttu-id="83386-119">Структуру членства — это набор классов в .NET Framework, предоставляющие программный интерфейс для выполнения основных задач, связанных с учетной записи пользователя.</span><span class="sxs-lookup"><span data-stu-id="83386-119">The Membership framework is a set of classes in the .NET Framework that provide a programmatic interface for accomplishing core user account-related tasks.</span></span> <span data-ttu-id="83386-120">Эта платформа строится поверх [модель поставщика](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), что позволяет разработчикам подключать настраиваемую реализацию стандартизированный API-Интерфейс.</span><span class="sxs-lookup"><span data-stu-id="83386-120">This framework is built atop the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which allows developers to plug a customized implementation into a standardized API.</span></span>

<span data-ttu-id="83386-121">Как уже говорилось в <a id="Tutorial1"> </a> [ *основы управления и поддержки ASP.NET* ](../introduction/security-basics-and-asp-net-support-vb.md) учебник, в .NET Framework поставляется с двумя встроенными поставщиками членства: [ `ActiveDirectoryMembershipProvider` ](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) и [ `SqlMembershipProvider` ](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span><span class="sxs-lookup"><span data-stu-id="83386-121">As discussed in the <a id="Tutorial1"></a>[*Security Basics and ASP.NET Support*](../introduction/security-basics-and-asp-net-support-vb.md) tutorial, the .NET Framework ships with two built-in Membership providers: [`ActiveDirectoryMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) and [`SqlMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span></span> <span data-ttu-id="83386-122">Как понятно из названия, `SqlMembershipProvider` использует базу данных Microsoft SQL Server в качестве хранилища пользователя.</span><span class="sxs-lookup"><span data-stu-id="83386-122">As its name implies, the `SqlMembershipProvider` uses a Microsoft SQL Server database as the user store.</span></span> <span data-ttu-id="83386-123">Чтобы использовать этот поставщик в приложении, нам нужно указать поставщику, какую базу данных для использования в качестве хранилища.</span><span class="sxs-lookup"><span data-stu-id="83386-123">In order to use this provider in an application, we need to tell the provider what database to use as the store.</span></span> <span data-ttu-id="83386-124">Как можно себе представить, `SqlMembershipProvider` ожидает, что базе данных хранилища пользователя, чтобы определенные таблицы базы данных, представления и хранимые процедуры.</span><span class="sxs-lookup"><span data-stu-id="83386-124">As you might imagine, the `SqlMembershipProvider` expects the user store database to have certain database tables, views, and stored procedures.</span></span> <span data-ttu-id="83386-125">Необходимо добавить этот ожидаемую схему для выбранной базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-125">We need to add this expected schema to the selected database.</span></span>

<span data-ttu-id="83386-126">Этот учебник начинает проверять методы для добавления необходимую схему в базу данных для использования `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="83386-126">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the `SqlMembershipProvider`.</span></span> <span data-ttu-id="83386-127">После этого мы проверка ключей таблиц в схеме и обсудить их назначении и важности.</span><span class="sxs-lookup"><span data-stu-id="83386-127">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="83386-128">Этот учебник завершает со взгляда на инструкции по определению приложения ASP.NET, какой поставщик, следует использовать платформу членства.</span><span class="sxs-lookup"><span data-stu-id="83386-128">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>

<span data-ttu-id="83386-129">Давайте начнем!</span><span class="sxs-lookup"><span data-stu-id="83386-129">Let's get started!</span></span>

## <a name="step-1-deciding-where-to-place-the-user-store"></a><span data-ttu-id="83386-130">Шаг 1. Принятия решения о расположении пользователя Store</span><span class="sxs-lookup"><span data-stu-id="83386-130">Step 1: Deciding Where to Place the User Store</span></span>

<span data-ttu-id="83386-131">Приложения ASP.NET данные обычно хранятся в несколько таблиц в базе данных.</span><span class="sxs-lookup"><span data-stu-id="83386-131">An ASP.NET application's data is commonly stored in a number of tables in a database.</span></span> <span data-ttu-id="83386-132">При реализации `SqlMembershipProvider` схемы базы данных, нам необходимо решить, следует ли заключать схемы членства в той же базе данных, как данные приложения или в альтернативную базу данных.</span><span class="sxs-lookup"><span data-stu-id="83386-132">When implementing the `SqlMembershipProvider` database schema we must decide whether to place the Membership schema in the same database as the application data or in an alternate database.</span></span>

<span data-ttu-id="83386-133">Я рекомендую, поиск схемы членства в той же базе данных, как данные приложения по следующим причинам:</span><span class="sxs-lookup"><span data-stu-id="83386-133">I recommend locating the Membership schema in the same database as the application data for the following reasons:</span></span>

- <span data-ttu-id="83386-134">**Удобство поддержки** приложения, данные которых инкапсулируется в одной базе данных проще понять, обслуживании и развертывании чем приложения, которое содержит две отдельные базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-134">**Maintainability** � an application whose data is encapsulated in one database is easier to understand, maintain, and deploy than an application that has two separate databases.</span></span>
- <span data-ttu-id="83386-135">**Реляционной целостности** , найдя в таблицах, связанных с членством в той же базе данных, как приложение таблицы, он является возможность установления [ограничения внешнего ключа](http://en.wikipedia.org/wiki/Foreign_key) первичных ключей в Таблицы, связанные с членством и связанный с приложением таблицы.</span><span class="sxs-lookup"><span data-stu-id="83386-135">**Relational Integrity** � by locating the Membership-related tables in the same database as the application tables it is possible to establish [foreign key constraints](http://en.wikipedia.org/wiki/Foreign_key) between the primary keys in the Membership-related tables and related application tables.</span></span>

<span data-ttu-id="83386-136">Разделение данных хранилища и приложения пользователя в разных базах данных имеет смысл только при наличии нескольких приложений, что каждый используются отдельные базы данных, но должны совместно использовать общее хранилище пользователя.</span><span class="sxs-lookup"><span data-stu-id="83386-136">Decoupling the user store and application data into separate databases only makes sense if you have multiple applications that each use separate databases, but need to share a common user store.</span></span>

### <a name="creating-a-database"></a><span data-ttu-id="83386-137">Создание базы данных</span><span class="sxs-lookup"><span data-stu-id="83386-137">Creating a Database</span></span>

<span data-ttu-id="83386-138">Приложение, которое мы занимаются созданием так как второе руководство еще не обязательно базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-138">The application we have been building since the second tutorial has not yet needed a database.</span></span> <span data-ttu-id="83386-139">Вам понадобится один, тем не менее, для хранилища пользователя.</span><span class="sxs-lookup"><span data-stu-id="83386-139">We need one now, however, for the user store.</span></span> <span data-ttu-id="83386-140">Давайте создайте ее, а затем добавьте к нему схему, необходимую `SqlMembershipProvider` поставщика (см. шаг 2).</span><span class="sxs-lookup"><span data-stu-id="83386-140">Let's create one and then add to it the schema required by the `SqlMembershipProvider` provider (see Step 2).</span></span>

> [!NOTE]
> <span data-ttu-id="83386-141">Данной серии учебных курсов мы будем использовать [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) базу данных для хранения наших таблиц приложений и `SqlMembershipProvider` схемы.</span><span class="sxs-lookup"><span data-stu-id="83386-141">Throughout this tutorial series we will be using a [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) database to store our application tables and the `SqlMembershipProvider` schema.</span></span> <span data-ttu-id="83386-142">Было принято это решение по двум причинам: во-первых, из-за его стоимости — бесплатная версия — Express Edition — это наиболее легче читаются, доступный версия SQL Server 2005; Во-вторых, базы данных SQL Server 2005 Express Edition можно поместить непосредственно в веб-приложения `App_Data` папку, что делает несложной упаковка базы данных и веб-приложения в один ZIP-файл и повторно развернуть ее без специальной настройки инструкции или параметры конфигурации.</span><span class="sxs-lookup"><span data-stu-id="83386-142">This decision was made for two reasons: first, due to its cost - free - the Express Edition is the most readably accessible version of SQL Server 2005; second, SQL Server 2005 Express Edition databases can be placed directly in the web application's `App_Data` folder, making it a cinch to package the database and web application together in one ZIP file and to redeploy it without any special setup instructions or configuration options.</span></span> <span data-ttu-id="83386-143">Если вы предпочитаете для выполнения этой процедуры с помощью экспресс-выпуск не - версии SQL Server, вы можете.</span><span class="sxs-lookup"><span data-stu-id="83386-143">If you'd prefer to follow along using a non-Express Edition version of SQL Server, feel free.</span></span> <span data-ttu-id="83386-144">Действия практически идентичны.</span><span class="sxs-lookup"><span data-stu-id="83386-144">The steps are virtually identical.</span></span> <span data-ttu-id="83386-145">`SqlMembershipProvider` Схемы будет работать с любой версией Microsoft SQL Server 2000 и до.</span><span class="sxs-lookup"><span data-stu-id="83386-145">The `SqlMembershipProvider` schema will work with any version of Microsoft SQL Server 2000 and up.</span></span>

<span data-ttu-id="83386-146">В обозревателе решений щелкните правой кнопкой мыши `App_Data` папку и выберите команду Добавить новый элемент.</span><span class="sxs-lookup"><span data-stu-id="83386-146">From the Solution Explorer, right-click on the `App_Data` folder and choose to Add New Item.</span></span> <span data-ttu-id="83386-147">(Если вы не видите `App_Data` в проекте, щелкните правой кнопкой мыши проект в обозревателе решений, выберите Добавить папку ASP.NET и выбрать `App_Data`.) В диалоговом окне Add New Item выберите, чтобы добавить новую базу данных SQL с именем `SecurityTutorials.mdf`.</span><span class="sxs-lookup"><span data-stu-id="83386-147">(If you do not see an `App_Data` folder in your project, right-click on the project in Solution Explorer, select Add ASP.NET Folder, and pick `App_Data`.) From the Add New Item dialog box, choose to add a new SQL Database named `SecurityTutorials.mdf`.</span></span> <span data-ttu-id="83386-148">В этом руководстве мы добавим `SqlMembershipProvider` схемы к этой базе данных; в последующих руководствах мы создадим дополнительных таблиц для захвата наши данные приложения.</span><span class="sxs-lookup"><span data-stu-id="83386-148">In this tutorial we will add the `SqlMembershipProvider` schema to this database; in subsequent tutorials we will create additional tables to capture our application data.</span></span>


[![A<span data-ttu-id="83386-149">дд новой базы данных с именем SecurityTutorials.mdf базы данных SQL в папку App_Data]</span><span class="sxs-lookup"><span data-stu-id="83386-149">dd a New SQL Database Named SecurityTutorials.mdf Database to the App_Data Folder]</span></span>(creating-the-membership-schema-in-sql-server-vb/_static/image2.png)](creating-the-membership-schema-in-sql-server-vb/_static/image1.png)

<span data-ttu-id="83386-150">**Рис. 1**: Добавление новой базы данных SQL с именем `SecurityTutorials.mdf` базы данных для `App_Data` папку ([Просмотр полноразмерного изображения](creating-the-membership-schema-in-sql-server-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="83386-150">**Figure 1**: Add a New SQL Database Named `SecurityTutorials.mdf` Database to the `App_Data` Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image3.png))</span></span>


<span data-ttu-id="83386-151">Добавление базы данных к `App_Data` папки автоматически включит его в представлении обозревателя базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-151">Adding a database to the `App_Data` folder automatically includes it in the Database Explorer view.</span></span> <span data-ttu-id="83386-152">(В экспресс-выпуск не - версии Visual Studio, обозреватель баз данных называется обозревателя серверов). Перейдите в обозреватель базы данных и разверните узел только что добавленные `SecurityTutorials` базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-152">(In the non-Express Edition version of Visual Studio, the Database Explorer is called the Server Explorer.) Go to the Database Explorer and expand the just-added `SecurityTutorials` database.</span></span> <span data-ttu-id="83386-153">Если вы не видите обозреватель баз данных на экране, перейдите к меню "Вид" и выберите Обозреватель баз данных или нажмите сочетание клавиш Ctrl + Alt + S.</span><span class="sxs-lookup"><span data-stu-id="83386-153">If you do not see the Database Explorer on screen, go to the View menu and choose Database Explorer, or hit Ctrl+Alt+S.</span></span> <span data-ttu-id="83386-154">Как показано на рис. 2, `SecurityTutorials` база данных пуста — он содержит ни одной таблицы, нет представлений и хранимых процедур.</span><span class="sxs-lookup"><span data-stu-id="83386-154">As Figure 2 shows, the `SecurityTutorials` database is empty - it contains no tables, no views, and no stored procedures.</span></span>


[![T<span data-ttu-id="83386-155">он SecurityTutorials базы данных сейчас пуст]</span><span class="sxs-lookup"><span data-stu-id="83386-155">he SecurityTutorials Database is Currently Empty]</span></span>(creating-the-membership-schema-in-sql-server-vb/_static/image5.png)](creating-the-membership-schema-in-sql-server-vb/_static/image4.png)

<span data-ttu-id="83386-156">**Рис. 2**: `SecurityTutorials` Базы данных сейчас пуст ([Просмотр полноразмерного изображения](creating-the-membership-schema-in-sql-server-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="83386-156">**Figure 2**: The `SecurityTutorials` Database is Currently Empty ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image6.png))</span></span>


## <a name="step-2-adding-thesqlmembershipproviderschema-to-the-database"></a><span data-ttu-id="83386-157">Шаг 2. Добавление`SqlMembershipProvider`схемы в базу данных</span><span class="sxs-lookup"><span data-stu-id="83386-157">Step 2: Adding the`SqlMembershipProvider`Schema to the Database</span></span>

<span data-ttu-id="83386-158">`SqlMembershipProvider` Требует определенный набор таблиц, представлений и хранимых процедур для установки в пользовательской базе данных хранилища.</span><span class="sxs-lookup"><span data-stu-id="83386-158">The `SqlMembershipProvider` requires a particular set of tables, views, and stored procedures to be installed in the user store database.</span></span> <span data-ttu-id="83386-159">Эти объекты необходимые базы данных могут добавляться с помощью [ `aspnet_regsql.exe` средство](https://msdn.microsoft.com/library/ms229862.aspx).</span><span class="sxs-lookup"><span data-stu-id="83386-159">These requisite database objects can be added using the [`aspnet_regsql.exe` tool](https://msdn.microsoft.com/library/ms229862.aspx).</span></span> <span data-ttu-id="83386-160">Этот файл находится в `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` папку.</span><span class="sxs-lookup"><span data-stu-id="83386-160">This file is located in the `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder.</span></span>

> [!NOTE]
> <span data-ttu-id="83386-161">`aspnet_regsql.exe` Средство предоставляет графический пользовательский интерфейс и функции командной строки.</span><span class="sxs-lookup"><span data-stu-id="83386-161">The `aspnet_regsql.exe` tool offers both command line functionality and a graphical user interface.</span></span> <span data-ttu-id="83386-162">Графический интерфейс — более понятные и что будут рассмотрены в этом руководстве.</span><span class="sxs-lookup"><span data-stu-id="83386-162">The graphical interface is more user friendly and is what we will examine in this tutorial.</span></span> <span data-ttu-id="83386-163">Интерфейс командной строки используется при добавлении `SqlMembershipProvider` схему необходимо автоматизировать, например сборки скрипты или автоматические сценарии тестирования.</span><span class="sxs-lookup"><span data-stu-id="83386-163">The command line interface is useful when the addition of the `SqlMembershipProvider` schema needs to be automated, such as in build scripts or automated testing scenarios.</span></span>

<span data-ttu-id="83386-164">`aspnet_regsql.exe` Средство используется для добавления или удаления *служб приложений ASP.NET* в указанную базу данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="83386-164">The `aspnet_regsql.exe` tool is used to add or remove *ASP.NET application services* to a specified SQL Server database.</span></span> <span data-ttu-id="83386-165">Службы приложения ASP.NET включают схемы для `SqlMembershipProvider` и `SqlRoleProvider`, а также схем для поставщиков на базе SQL для других платформ ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="83386-165">The ASP.NET application services encompass the schemas for the `SqlMembershipProvider` and `SqlRoleProvider`, along with the schemas for the SQL-based providers for other ASP.NET 2.0 frameworks.</span></span> <span data-ttu-id="83386-166">Необходимо предоставить два бита информации для `aspnet_regsql.exe` средство:</span><span class="sxs-lookup"><span data-stu-id="83386-166">We need to provide two bits of information to the `aspnet_regsql.exe` tool:</span></span>

- <span data-ttu-id="83386-167">Нужно ли добавлять или удалять приложения службы, и</span><span class="sxs-lookup"><span data-stu-id="83386-167">Whether we want to add or remove application services, and</span></span>
- <span data-ttu-id="83386-168">Схема служб базы данных, из которой нужно добавить или удалить приложение</span><span class="sxs-lookup"><span data-stu-id="83386-168">The database from which to add or remove the application services schema</span></span>

<span data-ttu-id="83386-169">В выполнении запроса на ее использование, `aspnet_regsql.exe` средство запрос на указание имени сервера базы данных размещаются на учетные данные безопасности для подключения к базе данных и имя базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-169">In prompting for the database to use, the `aspnet_regsql.exe` tool asks us to provide the name of the server the database resides on, the security credentials for connecting to the database, and the database name.</span></span> <span data-ttu-id="83386-170">Если вы используете в не - экспресс выпуск SQL Server, вы уже знаете эти сведения, так как это те же сведения, которые нужно указать в строке подключения при работе с базой данных через веб-страницу ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="83386-170">If you are using the non-Express Edition of SQL Server, you should already know this information, as it is the same information you must provide through a connection string when working with the database through an ASP.NET web page.</span></span> <span data-ttu-id="83386-171">Определение имени сервера и базы данных, при использовании базы данных SQL Server 2005 Express Edition в `App_Data` папку, но немного сложнее.</span><span class="sxs-lookup"><span data-stu-id="83386-171">Determining the server and database name when using a SQL Server 2005 Express Edition database in the `App_Data` folder, however, is a bit more involved.</span></span>

<span data-ttu-id="83386-172">В следующем разделе рассматриваются простым способом для указания имени сервера и базы данных для базы данных SQL Server 2005 Express Edition в `App_Data` папку.</span><span class="sxs-lookup"><span data-stu-id="83386-172">The following section examines a straightforward way for specifying the server and database name for a SQL Server 2005 Express Edition database in the `App_Data` folder.</span></span> <span data-ttu-id="83386-173">Если вы не используете SQL Server 2005 Express Edition Вы можете сразу перейти к установке в разделе службы приложений.</span><span class="sxs-lookup"><span data-stu-id="83386-173">If you are not using SQL Server 2005 Express Edition feel free to skip ahead to the Installing the Application Services section.</span></span>

### <a name="determining-the-server-and-database-name-for-a-sql-server-2005-express-edition-database-in-theappdatafolder"></a><span data-ttu-id="83386-174">Определить имена сервера и базы данных для базы данных экспресс-выпуск SQL Server 2005 в`App_Data`папки</span><span class="sxs-lookup"><span data-stu-id="83386-174">Determining the Server and Database Name for a SQL Server 2005 Express Edition Database in the`App_Data`Folder</span></span>

<span data-ttu-id="83386-175">Чтобы использовать `aspnet_regsql.exe` средство, нам нужно знать имена сервера и базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-175">In order to use the `aspnet_regsql.exe` tool we need to know the server and database names.</span></span> <span data-ttu-id="83386-176">Имя сервера — `localhost\InstanceName`.</span><span class="sxs-lookup"><span data-stu-id="83386-176">The server name is `localhost\InstanceName`.</span></span> <span data-ttu-id="83386-177">Скорее всего, *InstanceName* является `SQLExpress`.</span><span class="sxs-lookup"><span data-stu-id="83386-177">Most likely, the *InstanceName* is `SQLExpress`.</span></span> <span data-ttu-id="83386-178">Тем не менее если вы вручную установили SQL Server 2005 Express Edition (то есть вы не устанавливали его автоматически при установке Visual Studio), то может возникнуть ситуация, что вы выбрали другое имя экземпляра.</span><span class="sxs-lookup"><span data-stu-id="83386-178">However, if you installed SQL Server 2005 Express Edition manually (that is, you did not install it automatically while installing Visual Studio), then it is possible that you selected a different instance name.</span></span>

<span data-ttu-id="83386-179">Имя базы данных будет несколько сложнее определить.</span><span class="sxs-lookup"><span data-stu-id="83386-179">The database name is a bit trickier to determine.</span></span> <span data-ttu-id="83386-180">Баз данных в `App_Data` папку обычно имеют имя базы данных, который включает в себя [глобальный уникальный идентификатор](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) вместе с путем к файлу базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-180">Databases in the `App_Data` folder typically have a database name that includes a [globally unique identifier](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) along with the path to the database file.</span></span> <span data-ttu-id="83386-181">Нам нужно определить имя этой базы данных, чтобы добавить схему службы приложений через `aspnet_regsql.exe`.</span><span class="sxs-lookup"><span data-stu-id="83386-181">We need to determine this database name in order to add the application services schema through `aspnet_regsql.exe`.</span></span>

<span data-ttu-id="83386-182">Самый простой способ выяснить имя базы данных — в том, чтобы изучить его через SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="83386-182">The easiest way to ascertain the database name is to examine it through SQL Server Management Studio.</span></span> <span data-ttu-id="83386-183">SQL Server Management Studio предоставляет графический интерфейс для управления базами данных SQL Server 2005, но он не входит в состав Express Edition SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="83386-183">SQL Server Management Studio provides a graphical interface for managing SQL Server 2005 databases, but it does not ship with the Express Edition of SQL Server 2005.</span></span> <span data-ttu-id="83386-184">Хорошая новость в том, что [можно загрузить](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) бесплатный Express Edition из SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="83386-184">The good news is that [you can download](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) the free Express Edition of SQL Server Management Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="83386-185">Если у вас также есть экспресс-выпуск не - версию SQL Server 2005 установлен на рабочем столе, то скорее всего установлена полная версия Management Studio.</span><span class="sxs-lookup"><span data-stu-id="83386-185">If you also have a non-Express Edition version of SQL Server 2005 installed on your desktop then the full version of Management Studio is likely installed.</span></span> <span data-ttu-id="83386-186">Полную версию можно использовать для определения имени базы данных, выполните те же действия, как описано ниже, для экспресс-выпуск.</span><span class="sxs-lookup"><span data-stu-id="83386-186">You can use the full version to determine the database name, following the same steps as outlined below for the Express Edition.</span></span>

<span data-ttu-id="83386-187">Сначала необходимо закрыть Visual Studio, чтобы убедиться, что закрыты все блокировки, наложенные Visual Studio в файле базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-187">Start by closing Visual Studio to ensure that any locks imposed by Visual Studio on the database file are closed.</span></span> <span data-ttu-id="83386-188">Затем запустите SQL Server Management Studio и подключитесь к `localhost\InstanceName` базы данных для SQL Server 2005 Express Edition.</span><span class="sxs-lookup"><span data-stu-id="83386-188">Next, launch SQL Server Management Studio and connect to the `localhost\InstanceName` database for SQL Server 2005 Express Edition.</span></span> <span data-ttu-id="83386-189">Как отмечалось ранее, скорее всего, имя экземпляра должно `SQLExpress`.</span><span class="sxs-lookup"><span data-stu-id="83386-189">As noted earlier, chances are the instance name is `SQLExpress`.</span></span> <span data-ttu-id="83386-190">Для проверки подлинности выберите проверку подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="83386-190">For the Authentication option, select Windows Authentication.</span></span>


[![C<span data-ttu-id="83386-191">подключиться к экземпляру SQL Server 2005 Express Edition]</span><span class="sxs-lookup"><span data-stu-id="83386-191">onnect to the SQL Server 2005 Express Edition Instance]</span></span>(creating-the-membership-schema-in-sql-server-vb/_static/image8.png)](creating-the-membership-schema-in-sql-server-vb/_static/image7.png)

<span data-ttu-id="83386-192">**Рис. 3**: Подключение к экземпляру SQL Server 2005 Express Edition ([Просмотр полноразмерного изображения](creating-the-membership-schema-in-sql-server-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="83386-192">**Figure 3**: Connect to the SQL Server 2005 Express Edition Instance ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image9.png))</span></span>


<span data-ttu-id="83386-193">После подключения к экземпляру SQL Server 2005 Express Edition, Management Studio отображаются папки для базы данных, параметры безопасности, серверные объекты и т. д.</span><span class="sxs-lookup"><span data-stu-id="83386-193">After connecting to the SQL Server 2005 Express Edition instance, Management Studio displays folders for the Databases, the Security settings, the Server Objects, and so on.</span></span> <span data-ttu-id="83386-194">Если развернуть вкладку базы данных вы увидите, что `SecurityTutorials.mdf` база данных является *не* зарегистрированным в экземпляре базы данных -, нам нужно сначала присоединить базу данных.</span><span class="sxs-lookup"><span data-stu-id="83386-194">If you expand the Databases tab you will see that the `SecurityTutorials.mdf` database is *not* registered in the database instance - we need to attach the database first.</span></span>

<span data-ttu-id="83386-195">Щелкните правой кнопкой мыши на папку базы данных и выберите присоединение в контекстном меню.</span><span class="sxs-lookup"><span data-stu-id="83386-195">Right-click on the Databases folder and choose Attach from the context menu.</span></span> <span data-ttu-id="83386-196">Откроется диалоговое окно Присоединение баз данных.</span><span class="sxs-lookup"><span data-stu-id="83386-196">This will display the Attach Databases dialog box.</span></span> <span data-ttu-id="83386-197">На этой странице нажмите кнопку "Добавить", перейдите к `SecurityTutorials.mdf` базы данных и нажмите кнопку ОК.</span><span class="sxs-lookup"><span data-stu-id="83386-197">From here, click the Add button, browse to the `SecurityTutorials.mdf` database, and click OK.</span></span> <span data-ttu-id="83386-198">Рис. 4 показано диалоговое окно Присоединение баз данных после `SecurityTutorials.mdf` выбрать базу данных.</span><span class="sxs-lookup"><span data-stu-id="83386-198">Figure 4 shows the Attach Databases dialog box after the `SecurityTutorials.mdf` database has been selected.</span></span> <span data-ttu-id="83386-199">Рис. 5 показан в обозревателе объектов среды Management Studio после присоединения базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-199">Figure 5 shows Management Studio's Object Explorer after the database has been successfully attached.</span></span>


[![A<span data-ttu-id="83386-200">единить SecurityTutorials.mdf базы данных]</span><span class="sxs-lookup"><span data-stu-id="83386-200">ttach the SecurityTutorials.mdf Database]</span></span>(creating-the-membership-schema-in-sql-server-vb/_static/image11.png)](creating-the-membership-schema-in-sql-server-vb/_static/image10.png)

<span data-ttu-id="83386-201">**Рис. 4**: Присоединение `SecurityTutorials.mdf` базы данных ([Просмотр полноразмерного изображения](creating-the-membership-schema-in-sql-server-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="83386-201">**Figure 4**: Attach the `SecurityTutorials.mdf` Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image12.png))</span></span>


[![T<span data-ttu-id="83386-202">он SecurityTutorials.mdf база данных появится в папке баз данных]</span><span class="sxs-lookup"><span data-stu-id="83386-202">he SecurityTutorials.mdf Database Appears in the Databases Folder]</span></span>(creating-the-membership-schema-in-sql-server-vb/_static/image14.png)](creating-the-membership-schema-in-sql-server-vb/_static/image13.png)

<span data-ttu-id="83386-203">**Рис. 5**: `SecurityTutorials.mdf` Базы данных появится в папке базы данных ([Просмотр полноразмерного изображения](creating-the-membership-schema-in-sql-server-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="83386-203">**Figure 5**: The `SecurityTutorials.mdf` Database Appears in the Databases Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image15.png))</span></span>


<span data-ttu-id="83386-204">Как показано на рис. 5, `SecurityTutorials.mdf` базы данных имеет имя, а abstruse.</span><span class="sxs-lookup"><span data-stu-id="83386-204">As Figure 5 shows, the `SecurityTutorials.mdf` database has a rather abstruse name.</span></span> <span data-ttu-id="83386-205">Давайте изменим его, чтобы легче запоминать (и проще набирать) имя.</span><span class="sxs-lookup"><span data-stu-id="83386-205">Let's change it to a more memorable (and easier to type) name.</span></span> <span data-ttu-id="83386-206">Щелкните правой кнопкой мыши, в базе данных, выберите команду "Переименовать" в контекстном меню и переименуйте его `SecurityTutorialsDatabase`.</span><span class="sxs-lookup"><span data-stu-id="83386-206">Right-click on the database, choose Rename from the context menu, and rename it `SecurityTutorialsDatabase`.</span></span> <span data-ttu-id="83386-207">При этом не изменяется имя файла, имени базы данных использует для собственной идентификации в SQL Server.</span><span class="sxs-lookup"><span data-stu-id="83386-207">This does not change the filename, just the name the database uses to identify itself to SQL Server.</span></span>


[![R<span data-ttu-id="83386-208">eName базу данных для SecurityTutorialsDatabase]</span><span class="sxs-lookup"><span data-stu-id="83386-208">ename the Database to SecurityTutorialsDatabase]</span></span>(creating-the-membership-schema-in-sql-server-vb/_static/image17.png)](creating-the-membership-schema-in-sql-server-vb/_static/image16.png)

<span data-ttu-id="83386-209">**Рис. 6**: Переименовать базу данных для `SecurityTutorialsDatabase`([Просмотр полноразмерного изображения](creating-the-membership-schema-in-sql-server-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="83386-209">**Figure 6**: Rename the Database to `SecurityTutorialsDatabase`([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image18.png))</span></span>


<span data-ttu-id="83386-210">На этом этапе мы знаем, имена сервера и базы данных для `SecurityTutorials.mdf` файл базы данных: `localhost\InstanceName` и `SecurityTutorialsDatabase`, соответственно.</span><span class="sxs-lookup"><span data-stu-id="83386-210">At this point we know the server and database names for the `SecurityTutorials.mdf` database file: `localhost\InstanceName` and `SecurityTutorialsDatabase`, respectively.</span></span> <span data-ttu-id="83386-211">Теперь мы готовы установить службами приложений через `aspnet_regsql.exe` средство.</span><span class="sxs-lookup"><span data-stu-id="83386-211">We are now ready to install the application services through the `aspnet_regsql.exe` tool.</span></span>

### <a name="installing-the-application-services"></a><span data-ttu-id="83386-212">Установка служб приложений</span><span class="sxs-lookup"><span data-stu-id="83386-212">Installing the Application Services</span></span>

<span data-ttu-id="83386-213">Чтобы запустить `aspnet_regsql.exe` средство, перейдите в меню "Пуск" и выберите Run.</span><span class="sxs-lookup"><span data-stu-id="83386-213">To launch the `aspnet_regsql.exe` tool, go to the start menu and choose Run.</span></span> <span data-ttu-id="83386-214">Введите `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` в текстовое поле и нажмите кнопку ОК.</span><span class="sxs-lookup"><span data-stu-id="83386-214">Enter `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` into the textbox and click OK.</span></span> <span data-ttu-id="83386-215">Кроме того, можно использовать Windows Explorer детализировать углублением соответствующую папку и дважды щелкните `aspnet_regsql.exe` файл.</span><span class="sxs-lookup"><span data-stu-id="83386-215">Alternatively, you can use Windows Explorer to drill down to the appropriate folder and double-click the `aspnet_regsql.exe` file.</span></span> <span data-ttu-id="83386-216">Любой из этих подходов будет net те же результаты.</span><span class="sxs-lookup"><span data-stu-id="83386-216">Either approach will net the same results.</span></span>

<span data-ttu-id="83386-217">Под управлением `aspnet_regsql.exe` графического пользовательского интерфейса ASP.NET мастер установки SQL Server запускает средство без аргументов командной строки.</span><span class="sxs-lookup"><span data-stu-id="83386-217">Running the `aspnet_regsql.exe` tool without any command line arguments launches the ASP.NET SQL Server Setup Wizard graphical user interface.</span></span> <span data-ttu-id="83386-218">Мастер позволяет легко добавлять или удалять службы приложения ASP.NET в указанной базе данных.</span><span class="sxs-lookup"><span data-stu-id="83386-218">The wizard makes it easy to add or remove the ASP.NET application services on a specified database.</span></span> <span data-ttu-id="83386-219">Первый экран мастера, показанный на рис. 7, описывающая назначение инструмента.</span><span class="sxs-lookup"><span data-stu-id="83386-219">The first screen of the wizard, shown in Figure 7, describes the purpose of the tool.</span></span>


[![U<span data-ttu-id="83386-220">SE ASP.NET SQL Server создает программа установки мастера для добавления схемы членства]</span><span class="sxs-lookup"><span data-stu-id="83386-220">se the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema]</span></span>(creating-the-membership-schema-in-sql-server-vb/_static/image20.png)](creating-the-membership-schema-in-sql-server-vb/_static/image19.png)

<span data-ttu-id="83386-221">**Рис. 7**: Используйте ASP.NET SQL Server создает программа установки мастера для добавления схемы членства ([Просмотр полноразмерного изображения](creating-the-membership-schema-in-sql-server-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="83386-221">**Figure 7**: Use the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image21.png))</span></span>


<span data-ttu-id="83386-222">Второй шаг в мастере запрашивает ли мы хотим добавить службы приложений или удалить их.</span><span class="sxs-lookup"><span data-stu-id="83386-222">The second step in the wizard asks us whether we want to add the application services or remove them.</span></span> <span data-ttu-id="83386-223">Поскольку мы хотим добавить таблицы, представления и хранимые процедуры, необходимые для `SqlMembershipProvider`, выбрать SQL Server настройте для параметра службы приложений.</span><span class="sxs-lookup"><span data-stu-id="83386-223">Since we want to add the tables, views, and stored procedures necessary for the `SqlMembershipProvider`, choose the Configure SQL Server for application services option.</span></span> <span data-ttu-id="83386-224">Позже Если вы хотите удалить эту схему из базы данных, повторно запустите этот мастер, но вместо этого выбрать сведения о службах удаление приложений из существующего параметра базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-224">Later, if you want to remove this schema from your database, re-run this wizard, but instead choose the Remove application services information from an existing database option.</span></span>


[![C<span data-ttu-id="83386-225">выберите Configure SQL Server для параметра приложения служб]</span><span class="sxs-lookup"><span data-stu-id="83386-225">hoose the Configure SQL Server for Application Services Option]</span></span>(creating-the-membership-schema-in-sql-server-vb/_static/image23.png)](creating-the-membership-schema-in-sql-server-vb/_static/image22.png)

<span data-ttu-id="83386-226">**Рис. 8**: Выберите SQL Server можно настроить для параметра службы приложений ([Просмотр полноразмерного изображения](creating-the-membership-schema-in-sql-server-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="83386-226">**Figure 8**: Choose the Configure SQL Server for Application Services Option ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image24.png))</span></span>


<span data-ttu-id="83386-227">Третий шаг запрашивает сведения о базе данных: имя сервера, сведения о проверке подлинности и имя базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-227">The third step prompts for the database information: the server name, authentication information, and the database name.</span></span> <span data-ttu-id="83386-228">Если действия с этим руководством и добавили `SecurityTutorials.mdf` базы данных для `App_Data`, присоединена к `localhost\InstanceName`и переименован в `SecurityTutorialsDatabase`, затем используйте следующие значения:</span><span class="sxs-lookup"><span data-stu-id="83386-228">If you have been following along with this tutorial and have added the `SecurityTutorials.mdf` database to `App_Data`, attached it to `localhost\InstanceName`, and renamed it to `SecurityTutorialsDatabase`, then use the following values:</span></span>

- <span data-ttu-id="83386-229">Сервер:</span><span class="sxs-lookup"><span data-stu-id="83386-229">Server:</span></span> `localhost\InstanceName`
- <span data-ttu-id="83386-230">Аутентификация Windows</span><span class="sxs-lookup"><span data-stu-id="83386-230">Windows authentication</span></span>
- <span data-ttu-id="83386-231">База данных:</span><span class="sxs-lookup"><span data-stu-id="83386-231">Database:</span></span> `SecurityTutorialsDatabase`


[![E<span data-ttu-id="83386-232">Введите сведения о базе данных]</span><span class="sxs-lookup"><span data-stu-id="83386-232">nter the Database Information]</span></span>(creating-the-membership-schema-in-sql-server-vb/_static/image26.png)](creating-the-membership-schema-in-sql-server-vb/_static/image25.png)

<span data-ttu-id="83386-233">**Рис. 9**: Введите сведения о базе данных ([Просмотр полноразмерного изображения](creating-the-membership-schema-in-sql-server-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="83386-233">**Figure 9**: Enter the Database Information ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image27.png))</span></span>


<span data-ttu-id="83386-234">После ввода сведений о базе данных, нажмите кнопку "Далее".</span><span class="sxs-lookup"><span data-stu-id="83386-234">After entering the database information, click Next.</span></span> <span data-ttu-id="83386-235">Последним шагом описаны шаги, которые будут выполнены.</span><span class="sxs-lookup"><span data-stu-id="83386-235">The final step summarizes the steps that will be taken.</span></span> <span data-ttu-id="83386-236">Для установки службы приложений и завершите работу мастера, нажмите кнопку "Далее".</span><span class="sxs-lookup"><span data-stu-id="83386-236">Click Next to install the application services and then Finish to complete the wizard.</span></span>

> [!NOTE]
> <span data-ttu-id="83386-237">Если вы использовали Management Studio для присоединения базы данных и переименуйте файл базы данных, не забудьте отсоединить базу данных и закройте Management Studio, прежде чем повторно открыть Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="83386-237">If you used Management Studio to attach the database and rename the database file, be sure to detach the database and close Management Studio before reopening Visual Studio.</span></span> <span data-ttu-id="83386-238">Чтобы отключить `SecurityTutorialsDatabase` базы данных, щелкните правой кнопкой мыши имя базы данных и, в меню "задачи", выберите команду отсоединения.</span><span class="sxs-lookup"><span data-stu-id="83386-238">To detach the `SecurityTutorialsDatabase` database, right-click on the database name and, from the Tasks menu, choose Detach.</span></span>

<span data-ttu-id="83386-239">После завершения работы мастера вернитесь в Visual Studio и перейдите в обозревателе базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-239">Upon completion of the wizard, return to Visual Studio and navigate to the Database Explorer.</span></span> <span data-ttu-id="83386-240">Разверните папку «таблицы».</span><span class="sxs-lookup"><span data-stu-id="83386-240">Expand the Tables folder.</span></span> <span data-ttu-id="83386-241">Вы увидите несколько таблиц, имена которых начинаются с префикса `aspnet_`.</span><span class="sxs-lookup"><span data-stu-id="83386-241">You should see a series of tables whose names start with the prefix `aspnet_`.</span></span> <span data-ttu-id="83386-242">Аналогично широкий набор представлений и хранимых процедур можно найти в папках, представления и хранимые процедуры.</span><span class="sxs-lookup"><span data-stu-id="83386-242">Likewise, a variety of views and stored procedures can be found under the Views and Stored Procedures folders.</span></span> <span data-ttu-id="83386-243">Эти объекты базы данных, составляющие схему службы приложения.</span><span class="sxs-lookup"><span data-stu-id="83386-243">These database objects make up the application services schema.</span></span> <span data-ttu-id="83386-244">Мы рассмотрим объекты конкретного членство и роли базы данных на шаге 3.</span><span class="sxs-lookup"><span data-stu-id="83386-244">We will examine the membership- and role-specific database objects in Step 3.</span></span>


[![A <span data-ttu-id="83386-245">Различные таблицы, представления и хранимые процедуры были добавлены в базу данных]</span><span class="sxs-lookup"><span data-stu-id="83386-245">Variety of Tables, Views, and Stored Procedures Have Been Added to the Database]</span></span>(creating-the-membership-schema-in-sql-server-vb/_static/image29.png)](creating-the-membership-schema-in-sql-server-vb/_static/image28.png)

<span data-ttu-id="83386-246">**Рис. 10**: В различные таблицы, представления и хранимые процедуры были добавлены в базу данных ([Просмотр полноразмерного изображения](creating-the-membership-schema-in-sql-server-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="83386-246">**Figure 10**: A Variety of Tables, Views, and Stored Procedures Have Been Added to the Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image30.png))</span></span>


> [!NOTE]
> <span data-ttu-id="83386-247">`aspnet_regsql.exe` Графический пользовательский интерфейс программы устанавливает схему служб всего приложения.</span><span class="sxs-lookup"><span data-stu-id="83386-247">The `aspnet_regsql.exe` tool's graphical user interface installs the entire application services schema.</span></span> <span data-ttu-id="83386-248">Но при выполнении `aspnet_regsql.exe` из командной строки можно указать, какие конкретного приложения служб компонентов для установки (или удаления).</span><span class="sxs-lookup"><span data-stu-id="83386-248">But when executing `aspnet_regsql.exe` from the command-line you can specify what particular application services components to install (or remove).</span></span> <span data-ttu-id="83386-249">Таким образом, если вы хотите добавить только таблицы, представления и хранимых процедур, необходимых для `SqlMembershipProvider` и `SqlRoleProvider` поставщиков, запустите `aspnet_regsql.exe` из командной строки.</span><span class="sxs-lookup"><span data-stu-id="83386-249">Therefore, if you want to add just the tables, views, and stored procedures necessary for the `SqlMembershipProvider` and `SqlRoleProvider` providers, run `aspnet_regsql.exe` from the command-line.</span></span> <span data-ttu-id="83386-250">Кроме того, вы можете вручную запустить соответствующий подмножество T-SQL создания сценариев, используемых `aspnet_regsql.exe`.</span><span class="sxs-lookup"><span data-stu-id="83386-250">Alternatively, you can manually run the appropriate subset of T-SQL create scripts used by `aspnet_regsql.exe`.</span></span> <span data-ttu-id="83386-251">Эти сценарии находятся в `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` папки с именами вида `InstallCommon.sql`, `InstallMembership.sql`, `InstallRoles.sql`, `InstallProfile.sql`, `InstallSqlState.sql`, и т. д.</span><span class="sxs-lookup"><span data-stu-id="83386-251">These scripts are located in the `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder with names like `InstallCommon.sql`, `InstallMembership.sql`, `InstallRoles.sql`, `InstallProfile.sql`, `InstallSqlState.sql`, and so on.</span></span>

<span data-ttu-id="83386-252">На этом этапе мы создали объекты базы данных, необходимые `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="83386-252">At this point we have created the database objects needed by the `SqlMembershipProvider`.</span></span> <span data-ttu-id="83386-253">Тем не менее, мы по-прежнему необходимо указать структуру членства, следует использовать `SqlMembershipProvider` (и, скажем, `ActiveDirectoryMembershipProvider`) и что `SqlMembershipProvider` следует использовать `SecurityTutorials` базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-253">However, we still need to instruct the Membership framework that it should use the `SqlMembershipProvider` (versus, say, the `ActiveDirectoryMembershipProvider`) and that the `SqlMembershipProvider` should use the `SecurityTutorials` database.</span></span> <span data-ttu-id="83386-254">Мы рассмотрим способы указания какой поставщик для использования и как настроить параметры выбранного поставщика на шаге 4.</span><span class="sxs-lookup"><span data-stu-id="83386-254">We'll look at how to specify what provider to use and how to customize the selected provider's settings in Step 4.</span></span> <span data-ttu-id="83386-255">Но сначала давайте подробнее рассмотрим объекты базы данных, которые были только что создали.</span><span class="sxs-lookup"><span data-stu-id="83386-255">But first, let's take a deeper look at the database objects that were just created.</span></span>

## <a name="step-3-a-look-at-the-schemas-core-tables"></a><span data-ttu-id="83386-256">Шаг 3. Краткий обзор схемы основных таблиц</span><span class="sxs-lookup"><span data-stu-id="83386-256">Step 3: A Look at the Schema's Core Tables</span></span>

<span data-ttu-id="83386-257">При работе с платформами членства и ролей в приложении ASP.NET, детали реализации инкапсулированы поставщиком.</span><span class="sxs-lookup"><span data-stu-id="83386-257">When working with the Membership and Roles frameworks in an ASP.NET application, the implementation details are encapsulated by the provider.</span></span> <span data-ttu-id="83386-258">В будущих учебных курсах, мы будет взаимодействовать с помощью этих платформ с помощью платформы .NET Framework `Membership` и `Roles` классы.</span><span class="sxs-lookup"><span data-stu-id="83386-258">In future tutorials we will interface with these frameworks via the .NET Framework's `Membership` and `Roles` classes.</span></span> <span data-ttu-id="83386-259">При использовании этих API высокого уровня нам не нужно заниматься сами низкоуровневые детали, как выполняются запросы или изменения какие таблицы с `SqlMembershipProvider` и `SqlRoleProvider`.</span><span class="sxs-lookup"><span data-stu-id="83386-259">When using these high-level APIs we do not need to concern ourselves with the low-level details, like what queries are executed or what tables are modified by the `SqlMembershipProvider` and `SqlRoleProvider`.</span></span>

<span data-ttu-id="83386-260">Учитывая это, мы может уверенно использовать членства и ролей платформы без изучать схему базы данных, созданного на шаге 2.</span><span class="sxs-lookup"><span data-stu-id="83386-260">Given this, we could confidently use the Membership and Roles frameworks without having explored the database schema created in Step 2.</span></span> <span data-ttu-id="83386-261">Тем не менее при создании таблицы для хранения данных приложений мы может потребоваться создать сущности, которые относятся к пользователям и ролям.</span><span class="sxs-lookup"><span data-stu-id="83386-261">However, when creating the tables to store application data we may need to create entities that relate to users or roles.</span></span> <span data-ttu-id="83386-262">Необходимо иметь хорошее знание `SqlMembershipProvider` и `SqlRoleProvider` схем при создании внешнего ключа ограничения между таблицами данных приложения и эти таблицы, созданные на шаге 2.</span><span class="sxs-lookup"><span data-stu-id="83386-262">It helps to have a familiarity with the `SqlMembershipProvider` and `SqlRoleProvider` schemas when establishing foreign key constraints between the application data tables and those tables created in Step 2.</span></span> <span data-ttu-id="83386-263">Кроме того, в некоторых редких случаях нам может понадобиться для взаимодействия с пользователем и сохраняет роли на уровне базы данных (вместо использования `Membership` или `Roles` классы).</span><span class="sxs-lookup"><span data-stu-id="83386-263">Moreover, in certain rare circumstances we may need to interface with the user and role stores directly at the database level (instead of through the `Membership` or `Roles` classes).</span></span>

### <a name="partitioning-the-user-store-into-applications"></a><span data-ttu-id="83386-264">Секционирование Store пользователей в приложения</span><span class="sxs-lookup"><span data-stu-id="83386-264">Partitioning the User Store Into Applications</span></span>

<span data-ttu-id="83386-265">На платформах членства и ролей разработаны таким образом, что одно хранилище пользователя и роли могут совместно использоваться множества различных приложений.</span><span class="sxs-lookup"><span data-stu-id="83386-265">The Membership and Roles frameworks are designed such that a single user and role store can be shared among many different applications.</span></span> <span data-ttu-id="83386-266">Приложение ASP.NET, использующее платформы членства или ролей необходимо указать, какие секции приложения для использования.</span><span class="sxs-lookup"><span data-stu-id="83386-266">An ASP.NET application that uses the Membership or Roles frameworks must specify what application partition to use.</span></span> <span data-ttu-id="83386-267">Короче говоря нескольких веб-приложений можно использовать одинаковые хранилища пользователя и роли.</span><span class="sxs-lookup"><span data-stu-id="83386-267">In short, multiple web applications can use the same user and role stores.</span></span> <span data-ttu-id="83386-268">Рис. 11 показана хранилищ пользователя и роли, на которые секционируются в три приложения: HRSite CustomerSite и SalesSite.</span><span class="sxs-lookup"><span data-stu-id="83386-268">Figure 11 depicts user and role stores that are partitioned into three applications: HRSite, CustomerSite, and SalesSite.</span></span> <span data-ttu-id="83386-269">Эти три веб-приложения каждого имеют собственные уникальных пользователей и ролей, но все они физически хранить учетные данные учетной записи и роли в тех же таблицах базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-269">These three web applications each have their own unique users and roles, yet they all physically store their user account and role information in the same database tables.</span></span>


[![U<span data-ttu-id="83386-270">ser учетные записи могут быть секционированы по несколько приложений]</span><span class="sxs-lookup"><span data-stu-id="83386-270">ser Accounts May Be Partitioned Across Multiple Applications]</span></span>(creating-the-membership-schema-in-sql-server-vb/_static/image32.png)](creating-the-membership-schema-in-sql-server-vb/_static/image31.png)

<span data-ttu-id="83386-271">**Рис. 11**: Пользователя учетные записи могут быть секционированы по несколько приложений ([Просмотр полноразмерного изображения](creating-the-membership-schema-in-sql-server-vb/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="83386-271">**Figure 11**: User Accounts May Be Partitioned Across Multiple Applications ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image33.png))</span></span>


<span data-ttu-id="83386-272">`aspnet_Applications` Таблица является то, что определяет этих секций.</span><span class="sxs-lookup"><span data-stu-id="83386-272">The `aspnet_Applications` table is what defines these partitions.</span></span> <span data-ttu-id="83386-273">Строки в этой таблице представлены каждого приложения, которое использует базу данных для хранения учетных записей пользователей.</span><span class="sxs-lookup"><span data-stu-id="83386-273">Each application that uses the database to store user account information is represented by a row in this table.</span></span> <span data-ttu-id="83386-274">`aspnet_Applications` Таблица имеет четыре столбца: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`, и `Description`.</span><span class="sxs-lookup"><span data-stu-id="83386-274">The `aspnet_Applications` table has four columns: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`, and `Description`.</span></span>`ApplicationId` <span data-ttu-id="83386-275">имеет тип [ `uniqueidentifier` ](https://msdn.microsoft.com/library/ms187942.aspx) и является первичным ключом таблицы; `ApplicationName` предоставляет уникальное имя понятном для каждого приложения.</span><span class="sxs-lookup"><span data-stu-id="83386-275">is of type [`uniqueidentifier`](https://msdn.microsoft.com/library/ms187942.aspx) and is the table's primary key; `ApplicationName` provides a unique human-friendly name for each application.</span></span>

<span data-ttu-id="83386-276">Другие таблицы, связанные с членством и ролями, связаны с `ApplicationId` в `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="83386-276">The other Membership- and Role-related tables link back to the `ApplicationId` field in `aspnet_Applications`.</span></span> <span data-ttu-id="83386-277">Например `aspnet_Users` таблицы, которая содержит запись для каждой учетной записи пользователя, имеет `ApplicationId` поле внешнего ключа; это также касается `aspnet_Roles` таблицы.</span><span class="sxs-lookup"><span data-stu-id="83386-277">For example, the `aspnet_Users` table, which contains a record for each user account, has an `ApplicationId` foreign key field; ditto for the `aspnet_Roles` table.</span></span> <span data-ttu-id="83386-278">`ApplicationId` Поля в этих таблицах указывает раздел приложения учетной записи пользователя или роль.</span><span class="sxs-lookup"><span data-stu-id="83386-278">The `ApplicationId` field in these tables specifies the application partition the user account or role belongs to.</span></span>

### <a name="storing-user-account-information"></a><span data-ttu-id="83386-279">Хранение учетных записей пользователей</span><span class="sxs-lookup"><span data-stu-id="83386-279">Storing User Account Information</span></span>

<span data-ttu-id="83386-280">Сведения об учетной записи пользователя размещается в двух таблицах: `aspnet_Users` и `aspnet_Membership`.</span><span class="sxs-lookup"><span data-stu-id="83386-280">User account information is housed in two tables: `aspnet_Users` and `aspnet_Membership`.</span></span> <span data-ttu-id="83386-281">`aspnet_Users` Таблица содержит поля, которые содержат важные учетные данные.</span><span class="sxs-lookup"><span data-stu-id="83386-281">The `aspnet_Users` table contains fields that hold the essential user account information.</span></span> <span data-ttu-id="83386-282">Ниже приведены три наиболее важные столбцы.</span><span class="sxs-lookup"><span data-stu-id="83386-282">The three most pertinent columns are:</span></span>

- `UserId`
- `UserName`
- `ApplicationId`

`UserId` <span data-ttu-id="83386-283">является первичным ключом (и типа `uniqueidentifier`).</span><span class="sxs-lookup"><span data-stu-id="83386-283">is the primary key (and of type `uniqueidentifier`).</span></span> `UserName` <span data-ttu-id="83386-284">имеет тип `nvarchar(256)` и вместе с паролем, составляющий учетные данные пользователя.</span><span class="sxs-lookup"><span data-stu-id="83386-284">is of type `nvarchar(256)` and, along with the password, makes up the user's credentials.</span></span> <span data-ttu-id="83386-285">(Пароль хранится в `aspnet_Membership` таблицы.) `ApplicationId` связывает учетной записи пользователя к конкретному приложению в `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="83386-285">(A user's password is stored in the `aspnet_Membership` table.) `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="83386-286">Нет составного [ `UNIQUE` ограничение](https://msdn.microsoft.com/library/ms191166.aspx) на `UserName` и `ApplicationId` столбцов.</span><span class="sxs-lookup"><span data-stu-id="83386-286">There is a composite [`UNIQUE` constraint](https://msdn.microsoft.com/library/ms191166.aspx) on the `UserName` and `ApplicationId` columns.</span></span> <span data-ttu-id="83386-287">Это гарантирует, что определенного приложения каждое имя пользователя является уникальным, но он позволяет одним и тем же `UserName` для использования в разных приложениях.</span><span class="sxs-lookup"><span data-stu-id="83386-287">This ensures that in a given application each UserName is unique, yet it allows for the same `UserName` to be used in different applications.</span></span>

<span data-ttu-id="83386-288">`aspnet_Membership` Таблица содержит дополнительные сведения, такие как пароль пользователя, адрес электронной почты, последняя дата входа и времени и т. д.</span><span class="sxs-lookup"><span data-stu-id="83386-288">The `aspnet_Membership` table includes additional user account information, like the user's password, email address, the last login date and time, and so forth.</span></span> <span data-ttu-id="83386-289">Имеется взаимно-однозначное соответствие между записями в `aspnet_Users` и `aspnet_Membership` таблицы.</span><span class="sxs-lookup"><span data-stu-id="83386-289">There is a one-to-one correspondence between records in the `aspnet_Users` and `aspnet_Membership` tables.</span></span> <span data-ttu-id="83386-290">Это отношение, за счет `UserId` в `aspnet_Membership`, который используется в качестве первичного ключа таблицы.</span><span class="sxs-lookup"><span data-stu-id="83386-290">This relationship is ensured by the `UserId` field in `aspnet_Membership`, which serves as the table's primary key.</span></span> <span data-ttu-id="83386-291">Как и `aspnet_Users` таблицы, `aspnet_Membership` включает в себя `ApplicationId` поле, которое связывает эту информацию для определенного раздела приложений.</span><span class="sxs-lookup"><span data-stu-id="83386-291">Like the `aspnet_Users` table, `aspnet_Membership` includes an `ApplicationId` field that ties this information to a particular application partition.</span></span>

### <a name="securing-passwords"></a><span data-ttu-id="83386-292">Защита паролей</span><span class="sxs-lookup"><span data-stu-id="83386-292">Securing Passwords</span></span>

<span data-ttu-id="83386-293">Сведения о пароле хранится в `aspnet_Membership` таблицы.</span><span class="sxs-lookup"><span data-stu-id="83386-293">Password information is stored in the `aspnet_Membership` table.</span></span> <span data-ttu-id="83386-294">`SqlMembershipProvider` Позволяет пароли не нужно хранить в базе данных с помощью одного из следующих трех способов:</span><span class="sxs-lookup"><span data-stu-id="83386-294">The `SqlMembershipProvider` allows for passwords to be stored in the database using one of the following three techniques:</span></span>

- <span data-ttu-id="83386-295">**Очистить** -пароль хранится в базе данных как обычный текст.</span><span class="sxs-lookup"><span data-stu-id="83386-295">**Clear** - the password is stored in the database as plain-text.</span></span> <span data-ttu-id="83386-296">Я настоятельно не рекомендуется создавать с помощью этого параметра.</span><span class="sxs-lookup"><span data-stu-id="83386-296">I strongly discourage using this option.</span></span> <span data-ttu-id="83386-297">При компрометации базы данных — будь то злоумышленник нашедший черным или обозленных сотрудников, которые имеют доступ к базе данных - учетные данные каждого одного пользователя существуют для выполнения.</span><span class="sxs-lookup"><span data-stu-id="83386-297">If the database is compromised - be it by a hacker who finds a back door or a disgruntled employee who has database access - every single user's credentials are there for the taking.</span></span>
- <span data-ttu-id="83386-298">**Хэшированные** -пароли хэшируются с помощью одностороннего алгоритма хеширования и произвольно создаваемого случайного значения.</span><span class="sxs-lookup"><span data-stu-id="83386-298">**Hashed** - passwords are hashed using a one-way hash algorithm and a randomly generated salt value.</span></span> <span data-ttu-id="83386-299">Это хэшированное значение (вместе с солью) хранится в базе данных.</span><span class="sxs-lookup"><span data-stu-id="83386-299">This hashed value (along with the salt) is stored in the database.</span></span>
- <span data-ttu-id="83386-300">**Шифрование** -зашифрованную версию пароля хранится в базе данных.</span><span class="sxs-lookup"><span data-stu-id="83386-300">**Encrypted** - an encrypted version of the password is stored in the database.</span></span>

<span data-ttu-id="83386-301">Пароль хранилища методика зависит от `SqlMembershipProvider` , заданные в `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="83386-301">The password storage technique used depends on the `SqlMembershipProvider` settings specified in `Web.config`.</span></span> <span data-ttu-id="83386-302">Мы рассмотрим Настройка `SqlMembershipProvider` параметры на шаге 4.</span><span class="sxs-lookup"><span data-stu-id="83386-302">We will look at customizing the `SqlMembershipProvider` settings in Step 4.</span></span> <span data-ttu-id="83386-303">Поведение по умолчанию — сохранять хэш пароля.</span><span class="sxs-lookup"><span data-stu-id="83386-303">The default behavior is to store the hash of the password.</span></span>

<span data-ttu-id="83386-304">Столбцы, ответственный за хранение пароля `Password`, `PasswordFormat`, и `PasswordSalt`.</span><span class="sxs-lookup"><span data-stu-id="83386-304">The columns responsible for storing the password are `Password`, `PasswordFormat`, and `PasswordSalt`.</span></span> `PasswordFormat` <span data-ttu-id="83386-305">является полем типа `int` , значение которого указывает метод, используемый для хранения пароля: 0 для Clear; 1 для Hashed; 2 для шифрования.</span><span class="sxs-lookup"><span data-stu-id="83386-305">is a field of type `int` whose value indicates the technique used for storing the password: 0 for Clear; 1 for Hashed; 2 for Encrypted.</span></span> `PasswordSalt` <span data-ttu-id="83386-306">назначается случайным строка независимо от того, пароль хранилища методика; значение `PasswordSalt` используется только в том случае, если вычисления хэша пароля.</span><span class="sxs-lookup"><span data-stu-id="83386-306">is assigned a randomly generated string regardless of the password storage technique used; the value of `PasswordSalt` is only used when computing the hash of the password.</span></span> <span data-ttu-id="83386-307">Наконец `Password` столбец содержит данные фактический пароль, будь то обычный текст пароля, хэш пароля или зашифрованный пароль.</span><span class="sxs-lookup"><span data-stu-id="83386-307">Finally, the `Password` column contains the actual password data, be it the plain-text password, the hash of the password, or the encrypted password.</span></span>

<span data-ttu-id="83386-308">В таблице 1 показано, как эти три столбца может выглядеть для различных методов хранения при сохранении пароля MySecret!</span><span class="sxs-lookup"><span data-stu-id="83386-308">Table 1 illustrates what these three columns might look like for the various storage techniques when storing the password MySecret!</span></span> <span data-ttu-id="83386-309">.</span><span class="sxs-lookup"><span data-stu-id="83386-309">.</span></span>

| **<span data-ttu-id="83386-310">Storage Technique&lt;\_o3a\_p /&gt;</span><span class="sxs-lookup"><span data-stu-id="83386-310">Storage Technique&lt;\_o3a\_p /&gt;</span></span>** | **<span data-ttu-id="83386-311">Пароль&lt;\_o3a\_p /&gt;</span><span class="sxs-lookup"><span data-stu-id="83386-311">Password&lt;\_o3a\_p /&gt;</span></span>** | **<span data-ttu-id="83386-312">PasswordFormat&lt;\_o3a\_p /&gt;</span><span class="sxs-lookup"><span data-stu-id="83386-312">PasswordFormat&lt;\_o3a\_p /&gt;</span></span>** | **<span data-ttu-id="83386-313">PasswordSalt&lt;\_o3a\_p /&gt;</span><span class="sxs-lookup"><span data-stu-id="83386-313">PasswordSalt&lt;\_o3a\_p /&gt;</span></span>** |
| --- | --- | --- | --- |
| <span data-ttu-id="83386-314">Clear</span><span class="sxs-lookup"><span data-stu-id="83386-314">Clear</span></span> | <span data-ttu-id="83386-315">MySecret!</span><span class="sxs-lookup"><span data-stu-id="83386-315">MySecret!</span></span> | <span data-ttu-id="83386-316">0</span><span class="sxs-lookup"><span data-stu-id="83386-316">0</span></span> | <span data-ttu-id="83386-317">tTnkPlesqissc2y2SMEygA==</span><span class="sxs-lookup"><span data-stu-id="83386-317">tTnkPlesqissc2y2SMEygA==</span></span> |
| <span data-ttu-id="83386-318">Хэшированный</span><span class="sxs-lookup"><span data-stu-id="83386-318">Hashed</span></span> | <span data-ttu-id="83386-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM=</span><span class="sxs-lookup"><span data-stu-id="83386-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM=</span></span> | <span data-ttu-id="83386-320">1</span><span class="sxs-lookup"><span data-stu-id="83386-320">1</span></span> | <span data-ttu-id="83386-321">wFgjUfhdUFOCKQiI61vtiQ==</span><span class="sxs-lookup"><span data-stu-id="83386-321">wFgjUfhdUFOCKQiI61vtiQ==</span></span> |
| <span data-ttu-id="83386-322">Шифрование</span><span class="sxs-lookup"><span data-stu-id="83386-322">Encrypted</span></span> | <span data-ttu-id="83386-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span><span class="sxs-lookup"><span data-stu-id="83386-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span></span> | <span data-ttu-id="83386-324">2</span><span class="sxs-lookup"><span data-stu-id="83386-324">2</span></span> | <span data-ttu-id="83386-325">LSRzhGS/aa/oqAXGLHJNBw==</span><span class="sxs-lookup"><span data-stu-id="83386-325">LSRzhGS/aa/oqAXGLHJNBw==</span></span> |

<span data-ttu-id="83386-326">**Таблица 1**: Примеры значений для полей, связанные с паролем при сохранении пароля MySecret!</span><span class="sxs-lookup"><span data-stu-id="83386-326">**Table 1**: Example Values for the Password-Related Fields When Storing the Password MySecret!</span></span>

> [!NOTE]
> <span data-ttu-id="83386-327">Определенный шифрования или алгоритм хэширования, используемый `SqlMembershipProvider` определяется параметрами в `<machineKey>` элемент.</span><span class="sxs-lookup"><span data-stu-id="83386-327">The particular encryption or hashing algorithm used by the `SqlMembershipProvider` is determined by the settings in the `<machineKey>` element.</span></span> <span data-ttu-id="83386-328">Мы рассмотрели данного элемента конфигурации на шаге 3 <a id="Tutorial3"> </a> [ *конфигурацию проверки подлинности форм и дополнительные разделы* ](../introduction/forms-authentication-configuration-and-advanced-topics-vb.md) руководства.</span><span class="sxs-lookup"><span data-stu-id="83386-328">We discussed this configuration element in Step 3 of the <a id="Tutorial3"></a>[*Forms Authentication Configuration and Advanced Topics*](../introduction/forms-authentication-configuration-and-advanced-topics-vb.md) tutorial.</span></span>

### <a name="storing-roles-and-role-associations"></a><span data-ttu-id="83386-329">Хранение роли и роли ассоциации</span><span class="sxs-lookup"><span data-stu-id="83386-329">Storing Roles and Role Associations</span></span>

<span data-ttu-id="83386-330">Роли framework позволяет разработчикам определить набор ролей и указать, какие пользователи принадлежат к роли.</span><span class="sxs-lookup"><span data-stu-id="83386-330">The Roles framework allows developers to define a set of roles and specify what users belong to what roles.</span></span> <span data-ttu-id="83386-331">Эта информация сохраняется в базе данных с помощью двух таблиц: `aspnet_Roles` и `aspnet_UsersInRoles`.</span><span class="sxs-lookup"><span data-stu-id="83386-331">This information is captured in the database through two tables: `aspnet_Roles` and `aspnet_UsersInRoles`.</span></span> <span data-ttu-id="83386-332">Каждая запись в `aspnet_Roles` таблице представляет роль для конкретного приложения.</span><span class="sxs-lookup"><span data-stu-id="83386-332">Each record in the `aspnet_Roles` table represents a role for a particular application.</span></span> <span data-ttu-id="83386-333">Подобно тому как `aspnet_Users` таблицы, `aspnet_Roles` таблица содержит три столбца, необходимой для нашего обсуждения:</span><span class="sxs-lookup"><span data-stu-id="83386-333">Much like the `aspnet_Users` table, the `aspnet_Roles` table has three columns pertinent to our discussion:</span></span>

- `RoleId`
- `RoleName`
- `ApplicationId`

`RoleId` <span data-ttu-id="83386-334">является первичным ключом (и типа `uniqueidentifier`).</span><span class="sxs-lookup"><span data-stu-id="83386-334">is the primary key (and of type `uniqueidentifier`).</span></span> `RoleName` <span data-ttu-id="83386-335">имеет тип `nvarchar(256)`.</span><span class="sxs-lookup"><span data-stu-id="83386-335">is of type `nvarchar(256)`.</span></span> <span data-ttu-id="83386-336">И `ApplicationId` связывает учетной записи пользователя к конкретному приложению в `aspnet_Applications`.</span><span class="sxs-lookup"><span data-stu-id="83386-336">And `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="83386-337">Нет составного `UNIQUE` ограничение на `RoleName` и `ApplicationId` столбцы, обеспечение что определенного приложения каждой роли используется уникальное имя.</span><span class="sxs-lookup"><span data-stu-id="83386-337">There is a composite `UNIQUE` constraint on the `RoleName` and `ApplicationId` columns, ensuring that in a given application each role name is unique.</span></span>

<span data-ttu-id="83386-338">`aspnet_UsersInRoles` Таблицы служит сопоставление пользователей и ролей.</span><span class="sxs-lookup"><span data-stu-id="83386-338">The `aspnet_UsersInRoles` table serves as a mapping between users and roles.</span></span> <span data-ttu-id="83386-339">Существует только два столбца - `UserId` и `RoleId` - и вместе они составляют составного первичного ключа.</span><span class="sxs-lookup"><span data-stu-id="83386-339">There are only two columns - `UserId` and `RoleId` - and together they make up a composite primary key.</span></span>

## <a name="step-4-specifying-the-provider-and-customizing-its-settings"></a><span data-ttu-id="83386-340">Шаг 4. Указание поставщика и настройка параметров</span><span class="sxs-lookup"><span data-stu-id="83386-340">Step 4: Specifying the Provider and Customizing Its Settings</span></span>

<span data-ttu-id="83386-341">Всеми платформами, которые поддерживают модели поставщика — например, членства и ролей платформы - отсутствуют сведения о реализации, сами и вместо этого делегировать ответственность на класс поставщика.</span><span class="sxs-lookup"><span data-stu-id="83386-341">All of the frameworks that support the provider model - such as the Membership and Roles frameworks - lack implementation details themselves and instead delegate that responsibility to a provider class.</span></span> <span data-ttu-id="83386-342">В случае структуру членства `Membership` класс определяет API управления учетными записями пользователей, но он не взаимодействует напрямую с любого хранилища пользователя.</span><span class="sxs-lookup"><span data-stu-id="83386-342">In the case of the Membership framework, the `Membership` class defines the API for managing user accounts, but it does not interact directly with any user store.</span></span> <span data-ttu-id="83386-343">Вместо этого `Membership` методы класса будут передавать запрос на настроенный поставщик — мы будем использовать `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="83386-343">Rather, the `Membership` class's methods hand off the request to the configured provider - we will be using the `SqlMembershipProvider`.</span></span> <span data-ttu-id="83386-344">Когда мы вызываем один из методов в `Membership` класса, как платформу членства узнает, делегировать вызов `SqlMembershipProvider`?</span><span class="sxs-lookup"><span data-stu-id="83386-344">When we invoke one of the methods in the `Membership` class, how does the Membership framework know to delegate the call to the `SqlMembershipProvider`?</span></span>

<span data-ttu-id="83386-345">`Membership` Класс имеет [ `Providers` свойство](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) , содержащий ссылку на все классы зарегистрированного поставщика, доступных для использования платформой членства.</span><span class="sxs-lookup"><span data-stu-id="83386-345">The `Membership` class has a [`Providers` property](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) that contains a reference to all of the registered provider classes available for use by the Membership framework.</span></span> <span data-ttu-id="83386-346">Каждый зарегистрированный поставщик имеет соответствующее имя и тип.</span><span class="sxs-lookup"><span data-stu-id="83386-346">Each registered provider has an associated name and type.</span></span> <span data-ttu-id="83386-347">Имя предоставляет способ понятном, чтобы ссылаться на определенного поставщика в `Providers` коллекции, а тип определяет класс поставщика.</span><span class="sxs-lookup"><span data-stu-id="83386-347">The name offers a human-friendly way to reference a particular provider in the `Providers` collection, while the type identifies the provider class.</span></span> <span data-ttu-id="83386-348">Кроме того каждый зарегистрированный поставщик может включать параметры конфигурации.</span><span class="sxs-lookup"><span data-stu-id="83386-348">Moreover, each registered provider may include configuration settings.</span></span> <span data-ttu-id="83386-349">Параметры конфигурации для структуры членства `PasswordFormat` и `requiresUniqueEmail`, среди прочих.</span><span class="sxs-lookup"><span data-stu-id="83386-349">Configuration settings for the Membership framework include `PasswordFormat` and `requiresUniqueEmail`, among many others.</span></span> <span data-ttu-id="83386-350">См. в таблице 2 полный список параметров конфигурации, используемые `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="83386-350">See Table 2 for a complete list of configuration settings used by the `SqlMembershipProvider`.</span></span>

<span data-ttu-id="83386-351">`Providers` Содержимое свойства указываются с помощью параметров конфигурации веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="83386-351">The `Providers` property's contents are specified through the web application's configuration settings.</span></span> <span data-ttu-id="83386-352">По умолчанию все веб-приложения имеется поставщик с именем `AspNetSqlMembershipProvider` типа `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="83386-352">By default, all web applications have a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span> <span data-ttu-id="83386-353">Этот поставщик членства по умолчанию регистрируется в `machine.config` (расположенный `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG`):</span><span class="sxs-lookup"><span data-stu-id="83386-353">This default Membership provider is registered in `machine.config` (located at `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG`):</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample1.xml)]

<span data-ttu-id="83386-354">Как разметка выше [ `<membership>` элемент](https://msdn.microsoft.com/library/1b9hw62f.aspx) определяет параметры конфигурации для структуры членства при [ `<providers>` дочерний элемент](https://msdn.microsoft.com/library/6d4936ht.aspx) указывает зарегистрированный Поставщики.</span><span class="sxs-lookup"><span data-stu-id="83386-354">As the markup above shows, the [`<membership>` element](https://msdn.microsoft.com/library/1b9hw62f.aspx) defines the configuration settings for the Membership framework while the [`<providers>` child element](https://msdn.microsoft.com/library/6d4936ht.aspx) specifies the registered providers.</span></span> <span data-ttu-id="83386-355">Поставщики могут быть добавлены или удалены с помощью [ `<add>` ](https://msdn.microsoft.com/library/whae3t94.aspx) или [ `<remove>` ](https://msdn.microsoft.com/library/aykw9a6d.aspx) элементов; используйте [ `<clear>` ](https://msdn.microsoft.com/library/t062y6yc.aspx) элемент для удаления всех сейчас зарегистрированных поставщиков.</span><span class="sxs-lookup"><span data-stu-id="83386-355">Providers may be added or removed using the [`<add>`](https://msdn.microsoft.com/library/whae3t94.aspx) or [`<remove>`](https://msdn.microsoft.com/library/aykw9a6d.aspx) elements; use the [`<clear>`](https://msdn.microsoft.com/library/t062y6yc.aspx) element to remove all currently registered providers.</span></span> <span data-ttu-id="83386-356">Как разметка выше `machine.config` добавляет поставщик с именем `AspNetSqlMembershipProvider` типа `SqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="83386-356">As the markup above shows, `machine.config` adds a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span>

<span data-ttu-id="83386-357">В дополнение к `name` и `type` атрибуты, `<add>` содержит атрибуты, определяющие значения для различных настройку параметров.</span><span class="sxs-lookup"><span data-stu-id="83386-357">In addition to the `name` and `type` attributes, the `<add>` element contains attributes that define the values for various configuring settings.</span></span> <span data-ttu-id="83386-358">В таблице 2 перечислены доступные `SqlMembershipProvider`-определенных настроек конфигурации, а также описание каждого из них.</span><span class="sxs-lookup"><span data-stu-id="83386-358">Table 2 lists the available `SqlMembershipProvider`-specific configuration settings, along with a description of each.</span></span>

> [!NOTE]
> <span data-ttu-id="83386-359">Любые значения по умолчанию, указанных в таблице 2 см. значения по умолчанию, определенные в `SqlMembershipProvider` класса.</span><span class="sxs-lookup"><span data-stu-id="83386-359">Any default values noted in Table 2 refer to the default values defined in the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="83386-360">Обратите внимание, что не все параметры конфигурации в `AspNetSqlMembershipProvider` соответствуют значениям по умолчанию `SqlMembershipProvider` класса.</span><span class="sxs-lookup"><span data-stu-id="83386-360">Note that not all of the configuration settings in `AspNetSqlMembershipProvider` correspond to the default values of the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="83386-361">Например, если не указан в поставщике членства `requiresUniqueEmail` задание значения по умолчанию true.</span><span class="sxs-lookup"><span data-stu-id="83386-361">For example, if not specified in a Membership provider, the `requiresUniqueEmail` setting defaults to true.</span></span> <span data-ttu-id="83386-362">Тем не менее `AspNetSqlMembershipProvider` переопределяет это значение по умолчанию, явно указав значение `false`.</span><span class="sxs-lookup"><span data-stu-id="83386-362">However, the `AspNetSqlMembershipProvider` overrides this default value by explicitly specifying a value of `false`.</span></span>

| **<span data-ttu-id="83386-363">Установка&lt;\_o3a\_p /&gt;</span><span class="sxs-lookup"><span data-stu-id="83386-363">Setting&lt;\_o3a\_p /&gt;</span></span>** | **<span data-ttu-id="83386-364">Описание&lt;\_o3a\_p /&gt;</span><span class="sxs-lookup"><span data-stu-id="83386-364">Description&lt;\_o3a\_p /&gt;</span></span>** |
| --- | --- |
| `ApplicationName` | <span data-ttu-id="83386-365">Помните, что структуры членства разрешает одного пользовательского хранилища между несколькими приложениями.</span><span class="sxs-lookup"><span data-stu-id="83386-365">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="83386-366">Этот параметр указывает имя секции приложения, используемый поставщиком членства.</span><span class="sxs-lookup"><span data-stu-id="83386-366">This setting indicates the name of the application partition used by the Membership provider.</span></span> <span data-ttu-id="83386-367">Если это значение не указано явным образом, он установлен, во время выполнения, равным пути виртуального корневого каталога приложения.</span><span class="sxs-lookup"><span data-stu-id="83386-367">If this value is not explicitly specified, it is set, at runtime, to the value of the application's virtual root path.</span></span> |
| `commandTimeout` | <span data-ttu-id="83386-368">Указывает значение времени ожидания команды SQL (в секундах).</span><span class="sxs-lookup"><span data-stu-id="83386-368">Specifies the SQL command timeout value (in seconds).</span></span> <span data-ttu-id="83386-369">Значение по умолчанию — 30.</span><span class="sxs-lookup"><span data-stu-id="83386-369">The default value is 30.</span></span> |
| `connectionStringName` | <span data-ttu-id="83386-370">Имя строки подключения в `<connectionStrings>` элемент, используемый для подключения к базе данных хранилища пользователя.</span><span class="sxs-lookup"><span data-stu-id="83386-370">The name of the connection string in the `<connectionStrings>` element to use to connect to the user store database.</span></span> <span data-ttu-id="83386-371">Это значение является обязательным.</span><span class="sxs-lookup"><span data-stu-id="83386-371">This value is required.</span></span> |
| `description` | <span data-ttu-id="83386-372">Содержит описание понятном зарегистрированного поставщика.</span><span class="sxs-lookup"><span data-stu-id="83386-372">Provides a human-friendly description of the registered provider.</span></span> |
| `enablePasswordRetrieval` | <span data-ttu-id="83386-373">Указывает, могут ли пользователи получить их забытого пароля.</span><span class="sxs-lookup"><span data-stu-id="83386-373">Specifies whether users may retrieve their forgotten password.</span></span> <span data-ttu-id="83386-374">Значение по умолчанию — `false`.</span><span class="sxs-lookup"><span data-stu-id="83386-374">The default value is `false`.</span></span> |
| `enablePasswordReset` | <span data-ttu-id="83386-375">Указывает, разрешено ли пользователям для сброса пароля.</span><span class="sxs-lookup"><span data-stu-id="83386-375">Indicates whether users are allowed to reset their password.</span></span> <span data-ttu-id="83386-376">По умолчанию — `true`.</span><span class="sxs-lookup"><span data-stu-id="83386-376">Defaults to `true`.</span></span> |
| `maxInvalidPasswordAttempts` | <span data-ttu-id="83386-377">Максимальное количество неудачных входов, которые могут возникнуть для данного пользователя в определенное `passwordAttemptWindow` пользователь блокируется. Значение по умолчанию — 5.</span><span class="sxs-lookup"><span data-stu-id="83386-377">The maximum number of unsuccessful login attempts that may occur for a given user during the specified `passwordAttemptWindow` before the user is locked out. The default value is 5.</span></span> |
| `minRequiredNonalphanumericCharacters` | <span data-ttu-id="83386-378">Минимальное число не буквенно-цифровых символов, которые должны располагаться в пароле пользователя.</span><span class="sxs-lookup"><span data-stu-id="83386-378">The minimum number of non-alphanumeric characters that must appear in a user's password.</span></span> <span data-ttu-id="83386-379">Это значение должно быть в диапазоне от 0 до 128. значение по умолчанию равно 1.</span><span class="sxs-lookup"><span data-stu-id="83386-379">This value must be between 0 and 128; the default is 1.</span></span> |
| `minRequiredPasswordLength` | <span data-ttu-id="83386-380">Минимальное число символов в пароле.</span><span class="sxs-lookup"><span data-stu-id="83386-380">The minimum number of characters required in a password.</span></span> <span data-ttu-id="83386-381">Это значение должно быть в диапазоне от 0 до 128. значение по умолчанию — 7.</span><span class="sxs-lookup"><span data-stu-id="83386-381">This value must be between 0 and 128; the default is 7.</span></span> |
| `name` | <span data-ttu-id="83386-382">Имя зарегистрированного поставщика.</span><span class="sxs-lookup"><span data-stu-id="83386-382">The name of the registered provider.</span></span> <span data-ttu-id="83386-383">Это значение является обязательным.</span><span class="sxs-lookup"><span data-stu-id="83386-383">This value is required.</span></span> |
| `passwordAttemptWindow` | <span data-ttu-id="83386-384">Количество минут в течение которого не отслеживаются попыток входа.</span><span class="sxs-lookup"><span data-stu-id="83386-384">The number of minutes during which failed login attempts are tracked.</span></span> <span data-ttu-id="83386-385">Если пользователь предоставляет учетные данные для входа недопустимый `maxInvalidPasswordAttempts` указано время в данном окне, они заблокированы. Значение по умолчанию — 10.</span><span class="sxs-lookup"><span data-stu-id="83386-385">If a user supplies invalid login credentials `maxInvalidPasswordAttempts` times within this specified window, they are locked out. The default value is 10.</span></span> |
| `PasswordFormat` | <span data-ttu-id="83386-386">Формат хранения паролей: `Clear`, `Hashed`, или `Encrypted`.</span><span class="sxs-lookup"><span data-stu-id="83386-386">The password storage format: `Clear`, `Hashed`, or `Encrypted`.</span></span> <span data-ttu-id="83386-387">Значение по умолчанию — `Hashed`.</span><span class="sxs-lookup"><span data-stu-id="83386-387">The default is `Hashed`.</span></span> |
| `passwordStrengthRegularExpression` | <span data-ttu-id="83386-388">Если указано, это регулярное выражение используется для оценки надежности выбранного пароля пользователя при создании новой учетной записи или при изменении пароля.</span><span class="sxs-lookup"><span data-stu-id="83386-388">If provided, this regular expression is used to evaluate the strength of the user's selected password when creating a new account or when changing their password.</span></span> <span data-ttu-id="83386-389">Значение по умолчанию - пустая строка.</span><span class="sxs-lookup"><span data-stu-id="83386-389">The default value is an empty string.</span></span> |
| `requiresQuestionAndAnswer` | <span data-ttu-id="83386-390">Указывает, является ли пользователь должен ответить его контрольный вопрос при извлечении или сбросе пароля.</span><span class="sxs-lookup"><span data-stu-id="83386-390">Specifies whether a user must answer his security question when retrieving or resetting his password.</span></span> <span data-ttu-id="83386-391">Значение по умолчанию — `true`.</span><span class="sxs-lookup"><span data-stu-id="83386-391">The default value is `true`.</span></span> |
| `requiresUniqueEmail` | <span data-ttu-id="83386-392">Указывает, является ли все учетные записи пользователей в разделе данного приложения должен иметь уникальный адрес электронной почты.</span><span class="sxs-lookup"><span data-stu-id="83386-392">Indicates whether all user accounts in a given application partition must have a unique email address.</span></span> <span data-ttu-id="83386-393">Значение по умолчанию — `true`.</span><span class="sxs-lookup"><span data-stu-id="83386-393">The default value is `true`.</span></span> |
| `type` | <span data-ttu-id="83386-394">Указывает тип поставщика.</span><span class="sxs-lookup"><span data-stu-id="83386-394">Specifies the type of the provider.</span></span> <span data-ttu-id="83386-395">Это значение является обязательным.</span><span class="sxs-lookup"><span data-stu-id="83386-395">This value is required.</span></span> |

<span data-ttu-id="83386-396">**Таблица 2**: Членство и `SqlMembershipProvider` параметры конфигурации</span><span class="sxs-lookup"><span data-stu-id="83386-396">**Table 2**: Membership and `SqlMembershipProvider` Configuration Settings</span></span>

<span data-ttu-id="83386-397">В дополнение к `AspNetSqlMembershipProvider`, другие поставщики членства могут быть зарегистрированы на основе приложений по, добавив аналогичные разметку для `Web.config` файла.</span><span class="sxs-lookup"><span data-stu-id="83386-397">In addition to `AspNetSqlMembershipProvider`, other Membership providers may be registered on an application-by-application basis by adding similar markup to the `Web.config` file.</span></span>

> [!NOTE]
> <span data-ttu-id="83386-398">Framework ролей работает во многом так же: нет зарегистрированных роли поставщика по умолчанию в `machine.config` и зарегистрированных поставщиков можно настроить для отдельных приложений по в `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="83386-398">The Roles framework works in much the same way: there is a default registered role provider in `machine.config` and the registered providers may be customized on an application-by-application basis in `Web.config`.</span></span> <span data-ttu-id="83386-399">Мы рассмотрим framework ролей и его разметку настройки подробно в следующем учебном курсе.</span><span class="sxs-lookup"><span data-stu-id="83386-399">We will examine the Roles framework and its configuration markup in detail in a future tutorial.</span></span>

### <a name="customizing-thesqlmembershipprovidersettings"></a><span data-ttu-id="83386-400">Настройка`SqlMembershipProvider`параметры</span><span class="sxs-lookup"><span data-stu-id="83386-400">Customizing the`SqlMembershipProvider`Settings</span></span>

<span data-ttu-id="83386-401">Значение по умолчанию `SqlMembershipProvider` (`AspNetSqlMembershipProvider`) имеет его `connectionStringName` атрибут `LocalSqlServer`.</span><span class="sxs-lookup"><span data-stu-id="83386-401">The default `SqlMembershipProvider` (`AspNetSqlMembershipProvider`) has its `connectionStringName` attribute set to `LocalSqlServer`.</span></span> <span data-ttu-id="83386-402">Как и `AspNetSqlMembershipProvider` поставщика, имя строки подключения `LocalSqlServer` определяется в `machine.config`.</span><span class="sxs-lookup"><span data-stu-id="83386-402">Like the `AspNetSqlMembershipProvider` provider, the connection string name `LocalSqlServer` is defined in `machine.config`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample2.xml)]

<span data-ttu-id="83386-403">Как видите, эта строка подключения определяет SQL 2005 Express Edition базы данных, расположенный | DataDirectory|aspnetdb.mdf.</span><span class="sxs-lookup"><span data-stu-id="83386-403">As you can see, this connection string defines a SQL 2005 Express Edition database located at |DataDirectory|aspnetdb.mdf.</span></span> <span data-ttu-id="83386-404">Строка | DataDirectory | преобразуется во время выполнения, чтобы они указывали `~/App_Data/` каталога, поэтому путь к базе данных | Преобразуется DataDirectory|aspnetdb.mdf `~/App_Data` / `aspnet.mdf`.</span><span class="sxs-lookup"><span data-stu-id="83386-404">The string |DataDirectory| is translated at runtime to point to the `~/App_Data/` directory, so the database path |DataDirectory|aspnetdb.mdf translates to `~/App_Data`/`aspnet.mdf`.</span></span>

<span data-ttu-id="83386-405">Если мы не указали сведения о поставщиках членства в нашем приложении `Web.config` файл, приложение использует поставщик членства по умолчанию зарегистрированные, `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="83386-405">If we did not specify any Membership provider information in our application's `Web.config` file, the application uses the default registered Membership provider, `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="83386-406">Если `~/App_Data/aspnet.mdf` базы данных не существует, среда выполнения ASP.NET будет автоматически создать его и добавить схему служб приложения.</span><span class="sxs-lookup"><span data-stu-id="83386-406">If the `~/App_Data/aspnet.mdf` database does not exist, the ASP.NET runtime will automatically create it and add the application services schema.</span></span> <span data-ttu-id="83386-407">Тем не менее, мы не хотим использовать `aspnet.mdf` базы данных; вместо этого мы хотим использовать `SecurityTutorials.mdf` базы данных, созданную на шаге 2.</span><span class="sxs-lookup"><span data-stu-id="83386-407">However, we don't want to use the `aspnet.mdf` database; rather, we want to use the `SecurityTutorials.mdf` database we created in Step 2.</span></span> <span data-ttu-id="83386-408">Это изменение можно выполнить одним из двух способов:</span><span class="sxs-lookup"><span data-stu-id="83386-408">This modification can be accomplished in one of two ways:</span></span>

- <span data-ttu-id="83386-409"><strong>Укажите значение для</strong><strong>`LocalSqlServer`</strong><strong>имя строки подключения в</strong><strong>`Web.config`</strong><strong>.</strong></span><span class="sxs-lookup"><span data-stu-id="83386-409"><strong>Specify a value for the</strong><strong>`LocalSqlServer`</strong><strong>connection string name in</strong><strong>`Web.config`</strong><strong>.</strong></span></span> <span data-ttu-id="83386-410">Путем перезаписи `LocalSqlServer` значение имя строки подключения в `Web.config`, можно использовать поставщик членства по умолчанию зарегистрированные (`AspNetSqlMembershipProvider`), который будет правильно работать с `SecurityTutorials.mdf` базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-410">By overwriting the `LocalSqlServer` connection string name value in `Web.config`, we can use the default registered Membership provider (`AspNetSqlMembershipProvider`) and have it correctly work with the `SecurityTutorials.mdf` database.</span></span> <span data-ttu-id="83386-411">Этот метод подходит, если вы являетесь содержимого с параметрами конфигурации, заданные `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="83386-411">This approach is fine if you are content with the configuration settings specified by `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="83386-412">Дополнительные сведения об этом приеме см. в разделе [Скотт Гатри](https://weblogs.asp.net/scottgu/)в записи блога, [Настройка ASP.NET 2.0 службы приложений для использования SQL Server 2000 или SQL Server 2005](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span><span class="sxs-lookup"><span data-stu-id="83386-412">For more information on this technique, see [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span></span>
- <span data-ttu-id="83386-413"><strong>Добавить новый зарегистрированный поставщик типа</strong><strong>`SqlMembershipProvider`</strong><strong>и настроить его</strong><strong>`connectionStringName`</strong><strong>параметр для указания</strong> <strong>`SecurityTutorials.mdf`</strong> <strong>базы данных.</strong></span><span class="sxs-lookup"><span data-stu-id="83386-413"><strong>Add a new registered provider of type</strong><strong>`SqlMembershipProvider`</strong><strong>and configure its</strong><strong>`connectionStringName`</strong><strong>setting to point to the</strong><strong>`SecurityTutorials.mdf`</strong><strong>database.</strong></span></span> <span data-ttu-id="83386-414">Этот подход полезен в сценариях, где вы хотите настроить другие свойства конфигурации, в дополнение к строке подключения базы данных.</span><span class="sxs-lookup"><span data-stu-id="83386-414">This approach is useful in scenarios where you want to customize other configuration properties in addition to the database connection string.</span></span> <span data-ttu-id="83386-415">В собственных проектах я всегда использую этот подход из-за его гибкости и удобства чтения.</span><span class="sxs-lookup"><span data-stu-id="83386-415">In my own projects I always use this approach because of its flexibility and readability.</span></span>

<span data-ttu-id="83386-416">Перед добавлением нового зарегистрированного поставщика, который ссылается на `SecurityTutorials.mdf` базы данных, необходимо сначала добавить строковое значение соответствующее соединение в `<connectionStrings>` статьи `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="83386-416">Before we can add a new registered provider that references the `SecurityTutorials.mdf` database, we first need to add an appropriate connection string value in the `<connectionStrings>` section in `Web.config`.</span></span> <span data-ttu-id="83386-417">Следующая разметка добавляет новую строку подключения с именем `SecurityTutorialsConnectionString` , ссылающийся на SQL Server 2005 Express Edition `SecurityTutorials.mdf` базы данных в `App_Data` папку.</span><span class="sxs-lookup"><span data-stu-id="83386-417">The following markup adds a new connection string named `SecurityTutorialsConnectionString` that references the SQL Server 2005 Express Edition `SecurityTutorials.mdf` database in the `App_Data` folder.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample3.xml)]

> [!NOTE]
> <span data-ttu-id="83386-418">Если вы используете файл альтернативной базы данных, обновите строку подключения, при необходимости.</span><span class="sxs-lookup"><span data-stu-id="83386-418">If you are using an alternate database file, update the connection string as needed.</span></span> <span data-ttu-id="83386-419">Дополнительные сведения о формировании правильная строка подключения, см. [ConnectionStrings.com](http://www.connectionstrings.com/).</span><span class="sxs-lookup"><span data-stu-id="83386-419">For more information on forming the correct connection string, refer to [ConnectionStrings.com](http://www.connectionstrings.com/).</span></span>

<span data-ttu-id="83386-420">Добавьте следующую разметку настройки членства, чтобы `Web.config` файл.</span><span class="sxs-lookup"><span data-stu-id="83386-420">Next, add the following Membership configuration markup to the `Web.config` file.</span></span> <span data-ttu-id="83386-421">Эта разметка регистрирует новый поставщик с именем `SecurityTutorialsSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="83386-421">This markup registers a new provider named `SecurityTutorialsSqlMembershipProvider`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample4.xml)]

<span data-ttu-id="83386-422">В дополнение к регистрации `SecurityTutorialsSqlMembershipProvider` поставщик, приведенная выше разметка определяет `SecurityTutorialsSqlMembershipProvider` как поставщик по умолчанию (с помощью `defaultProvider` атрибут в `<membership>` элемент).</span><span class="sxs-lookup"><span data-stu-id="83386-422">In addition to registering the `SecurityTutorialsSqlMembershipProvider` provider, the above markup defines the `SecurityTutorialsSqlMembershipProvider` as the default provider (via the `defaultProvider` attribute in the `<membership>` element).</span></span> <span data-ttu-id="83386-423">Помните, что структуры членства может иметь несколько зарегистрированных поставщиков.</span><span class="sxs-lookup"><span data-stu-id="83386-423">Recall that the Membership framework can have multiple registered providers.</span></span> <span data-ttu-id="83386-424">Так как `AspNetSqlMembershipProvider` регистрируется как первый поставщик в `machine.config`, он служит в качестве поставщика по умолчанию если мы указываем, в противном случае.</span><span class="sxs-lookup"><span data-stu-id="83386-424">Since `AspNetSqlMembershipProvider` is registered as the first provider in `machine.config`, it serves as the default provider unless we indicate otherwise.</span></span>

<span data-ttu-id="83386-425">В настоящее время наше приложение имеет два зарегистрированных поставщиков: `AspNetSqlMembershipProvider` и `SecurityTutorialsSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="83386-425">Currently, our application has two registered providers: `AspNetSqlMembershipProvider` and `SecurityTutorialsSqlMembershipProvider`.</span></span> <span data-ttu-id="83386-426">Тем не менее, перед регистрацией `SecurityTutorialsSqlMembershipProvider` поставщика, нам удалось очистки всех ранее зарегистрированных поставщиков, добавив [ `<clear />` элемент](https://msdn.microsoft.com/library/t062y6yc.aspx) непосредственно перед наших `<add>` элемент.</span><span class="sxs-lookup"><span data-stu-id="83386-426">However, before registering the `SecurityTutorialsSqlMembershipProvider` provider we could have cleared out all previously registered providers by adding a [`<clear />` element](https://msdn.microsoft.com/library/t062y6yc.aspx) immediately before our `<add>` element.</span></span> <span data-ttu-id="83386-427">Это будет очистить `AspNetSqlMembershipProvider` из списка зарегистрированных поставщиков, что означает, что `SecurityTutorialsSqlMembershipProvider` бы только зарегистрированного поставщика членства.</span><span class="sxs-lookup"><span data-stu-id="83386-427">This would clear out the `AspNetSqlMembershipProvider` from the list of registered providers, meaning that the `SecurityTutorialsSqlMembershipProvider` would be the only registered Membership provider.</span></span> <span data-ttu-id="83386-428">Если мы использовали этот подход, то мы бы не нужно отмечать `SecurityTutorialsSqlMembershipProvider` как поставщик по умолчанию, так как было бы только зарегистрированного поставщика членства.</span><span class="sxs-lookup"><span data-stu-id="83386-428">If we used this approach, then we would not need to mark the `SecurityTutorialsSqlMembershipProvider` as the default provider, since it would be the only registered Membership provider.</span></span> <span data-ttu-id="83386-429">Дополнительные сведения об использовании `<clear />`, см. в разделе [Using `<clear />` при добавлении поставщиков](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span><span class="sxs-lookup"><span data-stu-id="83386-429">For more information on using `<clear />`, see [Using `<clear />` When Adding providers](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span></span>

<span data-ttu-id="83386-430">Обратите внимание, что `SecurityTutorialsSqlMembershipProvider` `connectionStringName` Указание ссылок только что добавленные `SecurityTutorialsConnectionString` имя строки подключения и что его `applicationName` параметр было присвоено значение SecurityTutorials.</span><span class="sxs-lookup"><span data-stu-id="83386-430">Note that the `SecurityTutorialsSqlMembershipProvider`'s `connectionStringName` setting references the just-added `SecurityTutorialsConnectionString` connection string name, and that its `applicationName` setting has been set to a value of SecurityTutorials.</span></span> <span data-ttu-id="83386-431">Кроме того `requiresUniqueEmail` параметру было присвоено `true`.</span><span class="sxs-lookup"><span data-stu-id="83386-431">Additionally, the `requiresUniqueEmail` setting has been set to `true`.</span></span> <span data-ttu-id="83386-432">Все другие параметры конфигурации совпадают со значениями в `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="83386-432">All other configuration options are identical to the values in `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="83386-433">Можно вносить любые изменения конфигурации, при необходимости.</span><span class="sxs-lookup"><span data-stu-id="83386-433">Feel free to make any configuration modifications here, if you wish.</span></span> <span data-ttu-id="83386-434">Например это сделать надежность пароля, требуя двух не буквенно-цифровых символов вместо одного, или, увеличивая длину пароля до восьми символов, а не семь.</span><span class="sxs-lookup"><span data-stu-id="83386-434">For example, you could tighten the password strength by requiring two non-alphanumeric characters instead of one, or by increasing the password length to eight characters instead of seven.</span></span>

> [!NOTE]
> <span data-ttu-id="83386-435">Помните, что структуры членства разрешает одного пользовательского хранилища между несколькими приложениями.</span><span class="sxs-lookup"><span data-stu-id="83386-435">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="83386-436">Поставщик членства `applicationName` параметр указывает, какое приложение, поставщик использует при работе с хранилище пользователя.</span><span class="sxs-lookup"><span data-stu-id="83386-436">The Membership provider's `applicationName` setting indicates what application the provider uses when working with the user store.</span></span> <span data-ttu-id="83386-437">Очень важно, явно задать значение для `applicationName` значение параметра конфигурации, поскольку если `applicationName` не заданы явным образом, она назначается виртуальный корневой путь веб-приложения во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="83386-437">It is important that you explicitly set a value for the `applicationName` configuration setting because if the `applicationName` is not explicitly set, it is assigned to the web application's virtual root path at runtime.</span></span> <span data-ttu-id="83386-438">Это работает отлично до тех пор, пока не изменяется путь виртуального корневого каталога приложения, но при перемещении приложения по другому пути, `applicationName` слишком изменит параметр.</span><span class="sxs-lookup"><span data-stu-id="83386-438">This works fine as long as the application's virtual root path doesn't change, but if you move the application to a different path, the `applicationName` setting will change too.</span></span> <span data-ttu-id="83386-439">В этом случае поставщик членства будет начать работу с раздел различных приложений, который использовался ранее.</span><span class="sxs-lookup"><span data-stu-id="83386-439">When this happens, the Membership provider will start working with a different application partition than was previously used.</span></span> <span data-ttu-id="83386-440">Учетные записи пользователей, созданные до перемещения будет находиться в другом приложении секции, и эти пользователи больше не смогут войти на сайт.</span><span class="sxs-lookup"><span data-stu-id="83386-440">User accounts created prior to the move will reside in a different application partition and those users will no longer be able to log into the site.</span></span> <span data-ttu-id="83386-441">Более подробные сведения по данному вопросу см. в разделе [всегда значение `applicationName` свойство при настройке ASP.NET 2.0 поставщиков членства и других](https://weblogs.asp.net/scottgu/443634).</span><span class="sxs-lookup"><span data-stu-id="83386-441">For a more in-depth discussion on this matter, see [Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other providers](https://weblogs.asp.net/scottgu/443634).</span></span>

## <a name="summary"></a><span data-ttu-id="83386-442">Сводка</span><span class="sxs-lookup"><span data-stu-id="83386-442">Summary</span></span>

<span data-ttu-id="83386-443">На этом этапе у нас есть базы данных со службами настроенное приложение (`SecurityTutorials.mdf`) и настроили нашего веб-приложения, таким образом, использовал платформу членства `SecurityTutorialsSqlMembershipProvider` мы только что зарегистрировали поставщик.</span><span class="sxs-lookup"><span data-stu-id="83386-443">At this point we have a database with the configured application services (`SecurityTutorials.mdf`) and have configured our web application so that the Membership framework uses the `SecurityTutorialsSqlMembershipProvider` provider we just registered.</span></span> <span data-ttu-id="83386-444">Этот зарегистрированного поставщика имеет тип `SqlMembershipProvider` и имеет его `connectionStringName` равным соответствующей строкой подключения (`SecurityTutorialsConnectionString`) и его `applicationName` явно задать значение.</span><span class="sxs-lookup"><span data-stu-id="83386-444">This registered provider is of type `SqlMembershipProvider` and has its `connectionStringName` set to the appropriate connection string (`SecurityTutorialsConnectionString`) and its `applicationName` value explicitly set.</span></span>

<span data-ttu-id="83386-445">Теперь мы готовы использовать платформу членства из нашего приложения.</span><span class="sxs-lookup"><span data-stu-id="83386-445">We are now ready to use the Membership framework from our application.</span></span> <span data-ttu-id="83386-446">В следующем учебном курсе мы рассмотрим, как создавать новые учетные записи пользователей.</span><span class="sxs-lookup"><span data-stu-id="83386-446">In the next tutorial we will examine how to create new user accounts.</span></span> <span data-ttu-id="83386-447">После того, что мы изучим, проверка подлинности пользователей, выполняет авторизацию на основе пользователя и сохраняя дополнительную информацию, связанную с пользователем в базе данных.</span><span class="sxs-lookup"><span data-stu-id="83386-447">Following that we will explore authenticating users, performing user-based authorization, and storing additional user-related information in the database.</span></span>

<span data-ttu-id="83386-448">Счастливого вам программирования!</span><span class="sxs-lookup"><span data-stu-id="83386-448">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="83386-449">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="83386-449">Further Reading</span></span>

<span data-ttu-id="83386-450">Дополнительные сведения по темам, обсуждавшимся в этом руководстве см. в следующих ресурсах:</span><span class="sxs-lookup"><span data-stu-id="83386-450">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="83386-451">Всегда значение `applicationName` свойства при настройке 2.0 членства ASP.NET и других поставщиков</span><span class="sxs-lookup"><span data-stu-id="83386-451">Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other providers</span></span>](https://weblogs.asp.net/scottgu/443634)
- [<span data-ttu-id="83386-452">Настройка ASP.NET 2.0 служб приложений для использования SQL Server 2000 или SQL Server 2005</span><span class="sxs-lookup"><span data-stu-id="83386-452">Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005</span></span>](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx)
- [<span data-ttu-id="83386-453">Скачать SQL Server Management Studio Express Edition</span><span class="sxs-lookup"><span data-stu-id="83386-453">Download SQL Server Management Studio Express Edition</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en)
- [<span data-ttu-id="83386-454">Изучение ASP.NET 2.0 s членства, ролей и профиля</span><span class="sxs-lookup"><span data-stu-id="83386-454">Examining ASP.NET 2.0�s Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="83386-455">`<add>` Элемент для поставщиков</span><span class="sxs-lookup"><span data-stu-id="83386-455">The `<add>` Element for providers for Membership</span></span>](https://msdn.microsoft.com/library/whae3t94.aspx)
- [<span data-ttu-id="83386-456">Элемент `<membership>`</span><span class="sxs-lookup"><span data-stu-id="83386-456">The `<membership>` Element</span></span>](https://msdn.microsoft.com/library/1b9hw62f.aspx)
- [<span data-ttu-id="83386-457">`<providers>` Элемент для членства</span><span class="sxs-lookup"><span data-stu-id="83386-457">The `<providers>` Element for Membership</span></span>](https://msdn.microsoft.com/library/6d4936ht.aspx)
- [<span data-ttu-id="83386-458">С помощью `<clear />` при добавлении поставщиков</span><span class="sxs-lookup"><span data-stu-id="83386-458">Using `<clear />` When Adding providers</span></span>](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx)
- [<span data-ttu-id="83386-459">Работа непосредственно с</span><span class="sxs-lookup"><span data-stu-id="83386-459">Working Directly with the</span></span> `SqlMembershipProvider`](http://aspnet.4guysfromrolla.com/articles/091207-1.aspx)

### <a name="video-training-on-topics-contained-in-this-tutorial"></a><span data-ttu-id="83386-460">Учебные видеоматериалы по таким темам, содержащихся в этом руководстве</span><span class="sxs-lookup"><span data-stu-id="83386-460">Video Training on Topics Contained in this Tutorial</span></span>

- [<span data-ttu-id="83386-461">Общие сведения о членствах ASP.NET</span><span class="sxs-lookup"><span data-stu-id="83386-461">Understanding ASP.NET Memberships</span></span>](../../../videos/authentication/understanding-aspnet-memberships.md)
- [<span data-ttu-id="83386-462">Настройка SQL для работы со схемами членства</span><span class="sxs-lookup"><span data-stu-id="83386-462">Configuring SQL To Work with Membership Schemas</span></span>](../../../videos/authentication/configuring-sql-to-work-with-membership-schemas.md)
- [<span data-ttu-id="83386-463">Изменение настроек членства в схеме членства по умолчанию</span><span class="sxs-lookup"><span data-stu-id="83386-463">Changing Membership Settings in the Default Membership Schema</span></span>](../../../videos/authentication/changing-membership-settings-in-the-default-membership-schema.md)

### <a name="about-the-author"></a><span data-ttu-id="83386-464">Об авторе</span><span class="sxs-lookup"><span data-stu-id="83386-464">About the Author</span></span>

<span data-ttu-id="83386-465">Скотт Митчелл, автор нескольких книг по ASP/ASP.NET и основатель веб-узла 4GuysFromRolla.com, работает с веб-технологиями Microsoft с 1998 года.</span><span class="sxs-lookup"><span data-stu-id="83386-465">Scott Mitchell, author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="83386-466">Скотт — независимый консультант, преподаватель и автор.</span><span class="sxs-lookup"><span data-stu-id="83386-466">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="83386-467">Его последняя книга —  *[Sams Teach ASP.NET 2.0 in 24 часа](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span><span class="sxs-lookup"><span data-stu-id="83386-467">His latest book is *[Sams Teach Yourself ASP.NET 2.0 in 24 Hours](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span></span> <span data-ttu-id="83386-468">Скоттом можно связаться по адресу [ mitchell@4guysfromrolla.com ](mailto:mitchell@4guysfromrolla.com) или через его блог по адресу [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="83386-468">Scott can be reached at [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="83386-469">Особая благодарность</span><span class="sxs-lookup"><span data-stu-id="83386-469">Special Thanks To</span></span>

<span data-ttu-id="83386-470">В этой серии руководств пособий рецензировалась многими компетентными редакторами.</span><span class="sxs-lookup"><span data-stu-id="83386-470">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="83386-471">Основной рецензент этого учебного был Alicja Maziarz.</span><span class="sxs-lookup"><span data-stu-id="83386-471">Lead reviewer for this tutorial was Alicja Maziarz.</span></span> <span data-ttu-id="83386-472">Хотите поработать с моих последующих статей для MSDN?</span><span class="sxs-lookup"><span data-stu-id="83386-472">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="83386-473">Если Да, напишите мне [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com).</span><span class="sxs-lookup"><span data-stu-id="83386-473">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="83386-474">[Назад](storing-additional-user-information-cs.md)
> [Вперед](creating-user-accounts-vb.md)</span><span class="sxs-lookup"><span data-stu-id="83386-474">[Previous](storing-additional-user-information-cs.md)
[Next](creating-user-accounts-vb.md)</span></span>
