---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/ui_and_navigation
title: Пользовательский интерфейс и Навигация | Документация Майкрософт
author: Erikre
description: В этой серии руководств вы узнаете об основах создания приложения ASP.NET Web Forms с помощью ASP.NET 4,5 и Microsoft Visual Studio Express 2013...
ms.author: riande
ms.date: 09/08/2014
ms.assetid: 5c76891d-e515-4885-b576-76bd2c494efe
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/ui_and_navigation
msc.type: authoredcontent
ms.openlocfilehash: ac1dcaf1ba911fdcaeb3845c6836ec771733d93e
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78522906"
---
# <a name="ui-and-navigation"></a><span data-ttu-id="e1b1d-103">Пользовательский интерфейс и навигация</span><span class="sxs-lookup"><span data-stu-id="e1b1d-103">UI and Navigation</span></span>

<span data-ttu-id="e1b1d-104">по [Эрик Реитан](https://github.com/Erikre)</span><span class="sxs-lookup"><span data-stu-id="e1b1d-104">by [Erik Reitan](https://github.com/Erikre)</span></span>

<span data-ttu-id="e1b1d-105">[Скачайте образец проекта Wingtip Toys (C#)](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) или [Загрузите электронную книгу (PDF)](https://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span><span class="sxs-lookup"><span data-stu-id="e1b1d-105">[Download Wingtip Toys Sample Project (C#)](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) or [Download E-book (PDF)](https://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span></span>

> <span data-ttu-id="e1b1d-106">В этой серии руководств вы узнаете об основах создания приложения ASP.NET Web Forms с помощью ASP.NET 4,5 и Microsoft Visual Studio Express 2013 для Web.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-106">This tutorial series will teach you the basics of building an ASP.NET Web Forms application using ASP.NET 4.5 and Microsoft Visual Studio Express 2013 for Web.</span></span> <span data-ttu-id="e1b1d-107">Для этой серии руководств доступен [проект Visual Studio 2013 с C# исходным кодом](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-107">A Visual Studio 2013 [project with C# source code](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) is available to accompany this tutorial series.</span></span>

<span data-ttu-id="e1b1d-108">В этом руководстве вы измените пользовательский интерфейс веб-приложения по умолчанию, чтобы обеспечить поддержку функций клиентского приложения Wingtip Toys Store.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-108">In this tutorial, you will modify the UI of the default Web application to support features of the Wingtip Toys store front application.</span></span> <span data-ttu-id="e1b1d-109">Кроме того, вы добавите простую навигацию с привязкой к данным.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-109">Also, you will add simple and data bound navigation.</span></span> <span data-ttu-id="e1b1d-110">Это руководство построено на предыдущем учебном курсе «создание уровня доступа к данным» и входит в серию руководств по Wingtip Toys.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-110">This tutorial builds on the previous tutorial "Create the Data Access Layer" and is part of the Wingtip Toys tutorial series.</span></span>

## <a name="what-youll-learn"></a><span data-ttu-id="e1b1d-111">Из этого руководства вы узнаете, как выполнять такие задачи:</span><span class="sxs-lookup"><span data-stu-id="e1b1d-111">What you'll learn:</span></span>

- <span data-ttu-id="e1b1d-112">Как изменить пользовательский интерфейс для поддержки функций приложения, работающего в магазине Wingtip Toys.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-112">How to change the UI to support features of the Wingtip Toys store front application.</span></span>
- <span data-ttu-id="e1b1d-113">Настройка элемента HTML5 для включения навигации по страницам.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-113">How to configure an HTML5 element to include page navigation.</span></span>
- <span data-ttu-id="e1b1d-114">Создание управляемого данными элемента управления для перехода к конкретным данным продукта.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-114">How to create a data-driven control to navigate to specific product data.</span></span>
- <span data-ttu-id="e1b1d-115">Как отобразить данные из базы данных, созданной с помощью Entity Framework Code First.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-115">How to display data from a database created using Entity Framework Code First.</span></span>

<span data-ttu-id="e1b1d-116">ASP.NET Web Forms позволяет создавать динамическое содержимое для веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-116">ASP.NET Web Forms allow you to create dynamic content for your Web application.</span></span> <span data-ttu-id="e1b1d-117">Каждая веб-страница ASP.NET создается таким же образом, как и статическая веб-страница HTML (страница, которая не включает серверную обработку), но веб-страница ASP.NET включает дополнительные элементы, которые ASP.NET распознает и обрабатывает создание HTML при выполнении страницы.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-117">Each ASP.NET Web page is created in a manner similar to a static HTML Web page (a page that does not include server-based processing), but ASP.NET Web page includes extra elements that ASP.NET recognizes and processes to generate HTML when the page runs.</span></span>

<span data-ttu-id="e1b1d-118">При использовании статической HTML-страницы (*htm* или *HTML* ) сервер выполняет запрос `Web`, считывая файл и отправляя его как есть в браузер.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-118">With a static HTML page (*.htm* or *.html* file), the server fulfills a `Web` request by reading the file and sending it as-is to the browser.</span></span> <span data-ttu-id="e1b1d-119">В противоположность этому, когда кто-то запрашивает страницу ASP.NET (файл*ASPX* ), страница выполняется как программа на веб-сервере.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-119">In contrast, when someone requests an ASP.NET Web page (*.aspx* file), the page runs as a program on the Web server.</span></span> <span data-ttu-id="e1b1d-120">Во время выполнения страницы она может выполнять любую задачу, которую требует веб-сайт, включая вычисление значений, чтение или запись сведений о базе данных или вызов других программ.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-120">While the page is running, it can perform any task that your Web site requires, including calculating values, reading or writing database information, or calling other programs.</span></span> <span data-ttu-id="e1b1d-121">В качестве выходных данных страница динамически создает разметку (например, элементы в HTML-коде) и отправляет этот динамический вывод в браузер.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-121">As its output, the page dynamically produces markup (such as elements in HTML) and sends this dynamic output to the browser.</span></span>

## <a name="modifying-the-ui"></a><span data-ttu-id="e1b1d-122">Изменение пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="e1b1d-122">Modifying the UI</span></span>

<span data-ttu-id="e1b1d-123">Вы продолжите изучение этой серии руководств, изменив страницу *Default. aspx* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-123">You'll continue this tutorial series by modifying the *Default.aspx* page.</span></span> <span data-ttu-id="e1b1d-124">Вы измените пользовательский интерфейс, который уже был установлен шаблоном по умолчанию, используемым для создания приложения.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-124">You will modify the UI that's already established by the default template used to create the application.</span></span> <span data-ttu-id="e1b1d-125">Тип изменений, которые вы будете выполнять, является типичным при создании любого приложения веб-форм.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-125">The type of modifications you'll do are typical when creating any Web Forms application.</span></span> <span data-ttu-id="e1b1d-126">Это можно сделать, изменив заголовок, заменив некоторое содержимое и удалив ненужное содержимое по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-126">You'll do this by changing the title, replacing some content, and removing unneeded default content.</span></span>

1. <span data-ttu-id="e1b1d-127">Откройте страницу *Default. aspx* или переключитесь на нее.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-127">Open or switch to the *Default.aspx* page.</span></span>
2. <span data-ttu-id="e1b1d-128">Если страница отображается в режиме **конструктора** , переключитесь в представление **исходного кода** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-128">If the page appears in **Design** view, switch to **Source** view.</span></span>
3. <span data-ttu-id="e1b1d-129">В верхней части страницы директивы `@Page` измените атрибут `Title` на «Добро пожаловать», как показано на желтом фоне.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-129">At the top of the page in the `@Page` directive, change the `Title` attribute to "Welcome", as shown highlighted in yellow below.</span></span> 

    [!code-aspx[Main](ui_and_navigation/samples/sample1.aspx?highlight=1)]
4. <span data-ttu-id="e1b1d-130">Кроме того, на странице *Default. aspx* замените все содержимое по умолчанию, содержащееся в теге `<asp:Content>`, так, чтобы разметка была показана ниже.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-130">Also on the *Default.aspx* page, replace all of the default content contained in the `<asp:Content>` tag so that the markup appears as below.</span></span> 

    [!code-aspx[Main](ui_and_navigation/samples/sample2.aspx)]
5. <span data-ttu-id="e1b1d-131">Сохраните страницу *Default. aspx* , выбрав в меню **файл** пункт **сохранить Default. aspx** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-131">Save the *Default.aspx* page by selecting **Save Default.aspx** from the **File** menu.</span></span>

   <span data-ttu-id="e1b1d-132">Полученная страница *Default. aspx* будет выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="e1b1d-132">The resulting *Default.aspx* page will appear as follows:</span></span> 

[!code-aspx[Main](ui_and_navigation/samples/sample3.aspx)]

<span data-ttu-id="e1b1d-133">В этом примере вы установили атрибут `Title` директивы `@Page`.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-133">In the example, you have set the `Title` attribute of the `@Page` directive.</span></span> <span data-ttu-id="e1b1d-134">Когда HTML отображается в браузере, серверный код `<%: Page.Title %>` разрешается в содержимое, содержащееся в атрибуте `Title`.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-134">When the HTML is displayed in a browser, the server code `<%: Page.Title %>` resolves to the content contained in the `Title` attribute.</span></span>

<span data-ttu-id="e1b1d-135">На странице пример включены основные элементы, составляющие веб-страницу ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-135">The example page includes the basic elements that constitute an ASP.NET Web page.</span></span> <span data-ttu-id="e1b1d-136">Страница содержит статический текст, который может быть на HTML-странице, а также элементы, относящиеся к ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-136">The page contains static text as you might have in an HTML page, along with elements that are specific to ASP.NET.</span></span> <span data-ttu-id="e1b1d-137">Содержимое, содержащееся на странице *Default. aspx* , будет интегрировано с содержимым главной страницы, которое будет объяснено далее в этом руководстве.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-137">The content contained in the *Default.aspx* page will be integrated with the master page content, which will be explained later in this tutorial.</span></span>

### <a name="page-directive"></a><span data-ttu-id="e1b1d-138">Директива @Page</span><span class="sxs-lookup"><span data-stu-id="e1b1d-138">@Page Directive</span></span>

<span data-ttu-id="e1b1d-139">Веб-формы ASP.NET обычно содержат директивы, позволяющие задавать свойства страницы и сведения о конфигурации для страницы.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-139">ASP.NET Web Forms usually contain directives that allow you to specify page properties and configuration information for the page.</span></span> <span data-ttu-id="e1b1d-140">Директивы используются ASP.NET в качестве инструкций по обработке страницы, но не подготавливаются к просмотру в виде части разметки, отправляемой в браузер.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-140">The directives are used by ASP.NET as instructions for how to process the page, but they are not rendered as part of the markup that is sent to the browser.</span></span>

<span data-ttu-id="e1b1d-141">Наиболее часто используемой директивой является директива `@Page`, которая позволяет указать для страницы множество параметров конфигурации, включая следующие:</span><span class="sxs-lookup"><span data-stu-id="e1b1d-141">The most commonly used directive is the `@Page` directive, which allows you to specify many configuration options for the page, including the following:</span></span>

1. <span data-ttu-id="e1b1d-142">Язык программирования на сервере для кода на странице, например C#.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-142">The server programming language for code in the page, such as C#.</span></span>
2. <span data-ttu-id="e1b1d-143">Является ли страница страницей с серверным кодом непосредственно на странице, которая называется страницей с одним файлом, или страницей с кодом в отдельном файле класса, который называется страницей кода программной части.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-143">Whether the page is a page with server code directly in the page, which is called a single-file page, or whether it is a page with code in a separate class file, which is called a code-behind page.</span></span>
3. <span data-ttu-id="e1b1d-144">Имеет ли страница связанную главную страницу и поэтому должна рассматриваться как страница содержимого.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-144">Whether the page has an associated master page and should therefore be treated as a content page.</span></span>
4. <span data-ttu-id="e1b1d-145">Параметры отладки и трассировки.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-145">Debugging and tracing options.</span></span>

<span data-ttu-id="e1b1d-146">Если на странице не включена директива `@Page` или если директива не содержит определенного параметра, параметр будет унаследован из файла конфигурации *Web. config* или из файла конфигурации *Machine. config* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-146">If you do not include an `@Page` directive in the page, or if the directive does not include a specific setting, a setting will be inherited from the *Web.config* configuration file or from the *Machine.config* configuration file.</span></span> <span data-ttu-id="e1b1d-147">Файл *Machine. config* предоставляет дополнительные параметры конфигурации для всех приложений, выполняющихся на компьютере.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-147">The *Machine.config* file provides additional configuration settings to all applications running on a machine.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="e1b1d-148">*Файл Machine. config* также содержит сведения обо всех возможных параметрах конфигурации.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-148">The *Machine.config* also provides details about all possible configuration settings.</span></span>

### <a name="web-server-controls"></a><span data-ttu-id="e1b1d-149">Серверные веб-элементы управления</span><span class="sxs-lookup"><span data-stu-id="e1b1d-149">Web Server Controls</span></span>

<span data-ttu-id="e1b1d-150">В большинстве ASP.NET приложений веб-форм вы добавите элементы управления, позволяющие пользователю взаимодействовать со страницей, например кнопками, текстовыми полями, списками и т. д.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-150">In most ASP.NET Web Forms applications, you will add controls that allow the user to interact with the page, such as buttons, text boxes, lists, and so on.</span></span> <span data-ttu-id="e1b1d-151">Эти серверные веб-элементы управления похожи на кнопки HTML и элементы ввода.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-151">These Web server controls are similar to HTML buttons and input elements.</span></span> <span data-ttu-id="e1b1d-152">Однако они обрабатываются на сервере, что позволяет использовать серверный код для задания их свойств.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-152">However, they are processed on the server, allowing you to use server code to set their properties.</span></span> <span data-ttu-id="e1b1d-153">Эти элементы управления также создают события, которые могут быть обработаны в серверном коде.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-153">These controls also raise events that you can handle in server code.</span></span>

<span data-ttu-id="e1b1d-154">Серверные элементы управления используют специальный синтаксис, который ASP.NET распознает при выполнении страницы.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-154">Server controls use a special syntax that ASP.NET recognizes when the page runs.</span></span> <span data-ttu-id="e1b1d-155">Имя тега для серверных элементов управления ASP.NET начинается с префикса `asp:`.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-155">The tag name for ASP.NET server controls starts with an `asp:` prefix.</span></span> <span data-ttu-id="e1b1d-156">Это позволяет ASP.NET распознать и обработать эти серверные элементы управления.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-156">This allows ASP.NET to recognize and process these server controls.</span></span> <span data-ttu-id="e1b1d-157">Префикс может отличаться, если элемент управления не является частью .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-157">The prefix might be different if the control is not part of the .NET Framework.</span></span> <span data-ttu-id="e1b1d-158">Помимо префикса `asp:` серверные элементы управления ASP.NET также включают атрибут `runat="server"` и `ID`, которые можно использовать для ссылки на элемент управления в серверном коде.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-158">In addition to the `asp:` prefix, ASP.NET server controls also include the `runat="server"` attribute and an `ID` that you can use to reference the control in server code.</span></span>

<span data-ttu-id="e1b1d-159">При запуске страницы ASP.NET идентифицирует серверные элементы управления и выполняет код, связанный с этими элементами управления.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-159">When the page runs, ASP.NET identifies the server controls and runs the code that is associated with those controls.</span></span> <span data-ttu-id="e1b1d-160">Многие элементы управления отображают на странице HTML или другую разметку, когда она отображается в браузере.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-160">Many controls render some HTML or other markup into the page when it is displayed in a browser.</span></span>

### <a name="server-code"></a><span data-ttu-id="e1b1d-161">Серверный код</span><span class="sxs-lookup"><span data-stu-id="e1b1d-161">Server Code</span></span>

<span data-ttu-id="e1b1d-162">Большинство приложений веб-форм ASP.NET содержат код, который выполняется на сервере при обработке страницы.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-162">Most ASP.NET Web Forms applications include code that runs on the server when the page is processed.</span></span> <span data-ttu-id="e1b1d-163">Как упоминалось выше, серверный код можно использовать для выполнения различных задач, таких как добавление данных в элемент управления ListView.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-163">As mentioned above, server code can be used to do a variety of things, such as adding data to a ListView control.</span></span> <span data-ttu-id="e1b1d-164">ASP.NET поддерживает множество языков для работы на сервере, включая C#, Visual Basic, J# и другие.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-164">ASP.NET supports many languages to run on the server, including C#, Visual Basic, J#, and others.</span></span>

<span data-ttu-id="e1b1d-165">ASP.NET поддерживает две модели для написания серверного кода для веб-страницы.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-165">ASP.NET supports two models for writing server code for a Web page.</span></span> <span data-ttu-id="e1b1d-166">В модели с одним файлом код страницы находится в элементе script, где открывающий тег содержит атрибут `runat="server"`.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-166">In the single-file model, the code for the page is in a script element where the opening tag includes the `runat="server"` attribute.</span></span> <span data-ttu-id="e1b1d-167">Кроме того, можно создать код для страницы в отдельном файле класса, который называется моделью кода программной части.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-167">Alternatively, you can create the code for the page in a separate class file, which is referred to as the code-behind model.</span></span> <span data-ttu-id="e1b1d-168">В этом случае страница веб-форм ASP.NET обычно не содержит код сервера.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-168">In this case, the ASP.NET Web Forms page generally contains no server code.</span></span> <span data-ttu-id="e1b1d-169">Вместо этого директива `@Page` содержит сведения, связывающие страницу *ASPX* со связанным файлом кода программной части.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-169">Instead, the `@Page` directive includes information that links the *.aspx* page with its associated code-behind file.</span></span>

<span data-ttu-id="e1b1d-170">Атрибут `CodeBehind`, содержащийся в директиве `@Page`, задает имя отдельного файла класса, а атрибут `Inherits` указывает имя класса в файле кода программной части, соответствующем странице.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-170">The `CodeBehind` attribute contained in the `@Page` directive specifies the name of the separate class file, and the `Inherits` attribute specifies the name of the class within the code-behind file that corresponds to the page.</span></span>

### <a name="updating-the-master-page"></a><span data-ttu-id="e1b1d-171">Обновление главной страницы</span><span class="sxs-lookup"><span data-stu-id="e1b1d-171">Updating the Master Page</span></span>

<span data-ttu-id="e1b1d-172">В среде веб-форм ASP.NET главные страницы позволяют создавать устойчивый макет страниц приложения.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-172">In ASP.NET Web Forms, master pages allow you to create a consistent layout for the pages in your application.</span></span> <span data-ttu-id="e1b1d-173">Одна главная страница определяет внешний вид и стандартное поведение всех страниц (или группы страниц) приложения.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-173">A single master page defines the look and feel and standard behavior that you want for all of the pages (or a group of pages) in your application.</span></span> <span data-ttu-id="e1b1d-174">Затем можно создать отдельные страницы содержимого, содержащие содержимое, которое необходимо отобразить, как описано выше.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-174">You can then create individual content pages that contain the content you want to display, as explained above.</span></span> <span data-ttu-id="e1b1d-175">При поступлении запросов на страницы контента от пользователей ASP.NET объединяет их с главной страницей, чтобы получить на выходе макет главной страницы с содержимым страницы контента.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-175">When users request the content pages, ASP.NET merges them with the master page to produce output that combines the layout of the master page with the content from the content page.</span></span>

<span data-ttu-id="e1b1d-176">Для нового сайта требуется один логотип, отображаемый на каждой странице.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-176">The new site needs a single logo to display on every page.</span></span> <span data-ttu-id="e1b1d-177">Чтобы добавить этот логотип, можно изменить HTML на главной странице.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-177">To add this logo, you can modify the HTML on the master page.</span></span>

1. <span data-ttu-id="e1b1d-178">В **Обозревателе решений**найдите и откройте страницу **Site.Master** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-178">In **Solution Explorer**, find and open the **Site.Master** page.</span></span>
2. <span data-ttu-id="e1b1d-179">Если страница находится в режиме **конструктора** , переключитесь в представление **исходного кода** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-179">If the page is in **Design** view, switch to **Source** view.</span></span>
3. <span data-ttu-id="e1b1d-180">Обновите главную страницу, **изменив или добавив** разметку, выделенную желтым цветом:</span><span class="sxs-lookup"><span data-stu-id="e1b1d-180">Update the master page by **modifying or adding** the markup highlighted in yellow:</span></span> 

    [!code-aspx[Main](ui_and_navigation/samples/sample4.aspx?highlight=9,49,76-81,87)]

<span data-ttu-id="e1b1d-181">Этот HTML-код будет отображать изображение с именем *Logo. jpg* из папки *Images* , которая будет добавлена позже.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-181">This HTML will display the image named *logo.jpg* from the *Images* folder of the Web application, which you'll add later.</span></span> <span data-ttu-id="e1b1d-182">При отображении страницы, использующей главную страницу, в браузере отображается эмблема.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-182">When a page that uses the master page is displayed in a browser, the logo will be displayed.</span></span> <span data-ttu-id="e1b1d-183">Если пользователь щелкнет эмблему, он вернется на страницу *Default. aspx* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-183">If a user clicks on the logo, the user will navigate back to the *Default.aspx* page.</span></span> <span data-ttu-id="e1b1d-184">Тег привязки HTML `<a>` создает оболочку для элемента управления сервера изображений и позволяет включить изображение в состав ссылки.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-184">The HTML anchor tag `<a>` wraps the image server control and allows the image to be included as part of the link.</span></span> <span data-ttu-id="e1b1d-185">Атрибут `href` для тега привязки задает корневой "`~/`веб-сайта в качестве расположения ссылки.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-185">The `href` attribute for the anchor tag specifies the root "`~/`" of the Web site as the link location.</span></span> <span data-ttu-id="e1b1d-186">По умолчанию страница *Default. aspx* отображается, когда пользователь переходит в корневую папку веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-186">By default, the *Default.aspx* page is displayed when the user navigates to the root of the Web site.</span></span> <span data-ttu-id="e1b1d-187">Элемент управления **Image** `<asp:Image>` Server содержит дополнительные свойства, такие как `BorderStyle`, которые отображаются в виде HTML-кода при отображении в браузере.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-187">The **Image** `<asp:Image>` server control includes addition properties, such as `BorderStyle`, that render as HTML when displayed in a browser.</span></span>

### <a name="master-pages"></a><span data-ttu-id="e1b1d-188">Эталонные страницы</span><span class="sxs-lookup"><span data-stu-id="e1b1d-188">Master Pages</span></span>

<span data-ttu-id="e1b1d-189">Главная страница — это файл ASP.NET с расширением. master (например, *site. master*) с предварительно заданным макетом, который может включать в себя статический текст, элементы HTML и серверные элементы управления.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-189">A master page is an ASP.NET file with the extension .master (for example, *Site.Master*) with a predefined layout that can include static text, HTML elements, and server controls.</span></span> <span data-ttu-id="e1b1d-190">Эталонная страница определяется специальной директивой `@Master`, которая заменяет директиву `@Page`, используемую для обычных страниц *. aspx* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-190">The master page is identified by a special `@Master` directive that replaces the `@Page` directive that is used for ordinary *.aspx* pages.</span></span>

<span data-ttu-id="e1b1d-191">Кроме директивы `@Master`, Главная страница также содержит все элементы HTML верхнего уровня для страницы, такие как `html`, `head`и `form`.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-191">In addition to the `@Master` directive, the master page also contains all of the top-level HTML elements for a page, such as `html`, `head`, and `form`.</span></span> <span data-ttu-id="e1b1d-192">Например, на главной странице, добавленной выше, вы используете HTML-`table` для макета, элемент `img` для эмблемы компании, статический текст и серверные элементы управления для общего членства на сайте.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-192">For example, on the master page you added above, you use an HTML `table` for the layout, an `img` element for the company logo, static text, and server controls to handle common membership for your site.</span></span> <span data-ttu-id="e1b1d-193">В качестве части главной страницы можно использовать любые элементы HTML и ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-193">You can use any HTML and any ASP.NET elements as part of your master page.</span></span>

<span data-ttu-id="e1b1d-194">В дополнение к статическому тексту и элементам управления, которые будут отображаться на всех страницах, Главная страница также включает один или несколько элементов управления **ContentPlaceHolder** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-194">In addition to static text and controls that will appear on all pages, the master page also includes one or more **ContentPlaceHolder** controls.</span></span> <span data-ttu-id="e1b1d-195">Эти элементы управления заполнителями определяют регионы, в которых будет отображаться заменяемое содержимое.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-195">These placeholder controls define regions where replaceable content will appear.</span></span> <span data-ttu-id="e1b1d-196">Заменяемое содержимое, в свою очередь, определяется на страницах содержимого, таких как *Default. aspx*, с помощью серверного элемента управления **Content** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-196">In turn, the replaceable content is defined in content pages, such as *Default.aspx*, using the **Content** server control.</span></span>

#### <a name="adding-image-files"></a><span data-ttu-id="e1b1d-197">Добавление файлов изображений</span><span class="sxs-lookup"><span data-stu-id="e1b1d-197">Adding Image Files</span></span>

<span data-ttu-id="e1b1d-198">Изображение логотипа, указанное выше вместе со всеми образами продукта, должно быть добавлено в веб-приложение, чтобы их можно было видеть при отображении проекта в браузере.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-198">The logo image that is referenced above, along with all the product images, must be added to the Web application so that they can be seen when the project is displayed in a browser.</span></span>

#### <a name="download-from-msdn-samples-site"></a><span data-ttu-id="e1b1d-199">Скачать на сайте MSDN Samples:</span><span class="sxs-lookup"><span data-stu-id="e1b1d-199">Download from MSDN Samples site:</span></span>

<span data-ttu-id="e1b1d-200">[Начало работы с веб-формами ASP.NET 4,5 и Visual Studio 2013-Wingtip Toys](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) (C#)</span><span class="sxs-lookup"><span data-stu-id="e1b1d-200">[Getting Started with ASP.NET 4.5 Web Forms and Visual Studio 2013 - Wingtip Toys](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) (C#)</span></span>

<span data-ttu-id="e1b1d-201">В загружаемом файле содержатся ресурсы в папке *WingtipToys-Assets* , которые используются для создания примера приложения.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-201">The download includes resources in the *WingtipToys-Assets* folder that are used to create the sample application.</span></span>

1. <span data-ttu-id="e1b1d-202">Если вы еще не сделали этого, скачайте сжатые образцы файлов, используя приведенную выше ссылку на сайте MSDN Samples.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-202">If you haven't already done so, download the compressed sample files using the above link from the MSDN Samples site.</span></span>
2. <span data-ttu-id="e1b1d-203">После скачивания Откройте ZIP-файл и скопируйте его содержимое в локальную папку на компьютере.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-203">Once downloaded, open the .zip file and copy the contents to a local folder on your machine.</span></span>
3. <span data-ttu-id="e1b1d-204">Найдите и откройте папку *WingtipToys-Assets* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-204">Find and open the *WingtipToys-Assets* folder.</span></span>
4. <span data-ttu-id="e1b1d-205">Путем перетаскивания скопируйте папку *каталога* из локальной папки в корневую папку проекта веб-приложения в **Обозреватель решений** Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-205">By dragging and dropping, copy the *Catalog* folder from your local folder to the root of the Web application project in the **Solution Explorer** of Visual Studio.</span></span> 

    ![Пользовательский интерфейс и навигация — копирование файлов](ui_and_navigation/_static/image1.png)
5. <span data-ttu-id="e1b1d-207">Затем создайте новую папку с именем *Images* , щелкнув правой кнопкой мыши проект **WingtipToys** в **обозреватель решений** и выбрав **Добавить** -&gt; **Новая папка**.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-207">Next, create a new folder named *Images* by right-clicking the **WingtipToys** project in **Solution Explorer** and selecting **Add** -&gt; **New Folder**.</span></span>
6. <span data-ttu-id="e1b1d-208">Скопируйте файл *Logo. jpg* из папки *WingtipToys-Assets* в **проводнике** в папку *images* проекта веб-приложения в **Обозреватель решений** Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-208">Copy the *logo.jpg* file from the *WingtipToys-Assets* folder in **File Explorer** to the *Images* folder of the Web application project in **Solution Explorer** of Visual Studio.</span></span>
7. <span data-ttu-id="e1b1d-209">Щелкните параметр **Показать все файлы** в верхней части **Обозреватель решений** , чтобы обновить список файлов, если вы не видите новые файлы.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-209">Click the **Show All Files** option at the top of **Solution Explorer** to update the list of files if you don't see the new files.</span></span>  
  
    <span data-ttu-id="e1b1d-210">В **Обозреватель решений** теперь отображаются обновленные файлы проекта.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-210">**Solution Explorer** now shows the updated project files.</span></span> 

    ![Пользовательский интерфейс и навигация — обозреватель решений](ui_and_navigation/_static/image2.png)

### <a name="adding-pages"></a><span data-ttu-id="e1b1d-212">Добавление страниц</span><span class="sxs-lookup"><span data-stu-id="e1b1d-212">Adding Pages</span></span>

<span data-ttu-id="e1b1d-213">Прежде чем добавлять навигацию в веб-приложение, вы сначала добавите две новые страницы, к которым вы будете переходить.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-213">Before adding navigation to the Web application, you'll first add two new pages that you'll navigate to.</span></span> <span data-ttu-id="e1b1d-214">Далее в этой серии руководств будут показаны продукты и сведения о продукте на этих новых страницах.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-214">Later in this tutorial series, you'll display products and product details on these new pages.</span></span>

1. <span data-ttu-id="e1b1d-215">В **Обозреватель решений**щелкните правой кнопкой мыши **WingtipToys**, выберите команду **Добавить**, а затем щелкните **новый элемент**.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-215">In **Solution Explorer**, right-click **WingtipToys**, click **Add**, and then click **New Item**.</span></span>   
 <span data-ttu-id="e1b1d-216">Откроется диалоговое окно **Добавление нового элемента** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-216">The **Add New Item** dialog box is displayed.</span></span>
2. <span data-ttu-id="e1b1d-217">Выберите в левой части группы **веб-** шаблоны **Visual C#**  -&gt;.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-217">Select the **Visual C#** -&gt; **Web** templates group on the left.</span></span> <span data-ttu-id="e1b1d-218">Затем выберите **веб-форму с главной страницей** из среднего списка и назовите ее *ProductList. aspx*.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-218">Then, select **Web Form with Master Page** from the middle list and name it *ProductList.aspx*.</span></span> 

    ![Пользовательский интерфейс и навигация — диалоговое окно "Добавление нового элемента"](ui_and_navigation/_static/image3.png)
3. <span data-ttu-id="e1b1d-220">Выберите **site. master** , чтобы присоединить главную страницу к только что созданной странице *. aspx* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-220">Select **Site.Master** to attach the master page to the newly created *.aspx* page.</span></span> 

    ![Пользовательский интерфейс и навигация — Выбор главной страницы](ui_and_navigation/_static/image4.png)
4. <span data-ttu-id="e1b1d-222">Добавьте дополнительную страницу с именем *продуктдетаилс. aspx* , выполнив те же действия.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-222">Add an additional page named *ProductDetails.aspx* by following these same steps.</span></span>

### <a name="updating-bootstrap"></a><span data-ttu-id="e1b1d-223">Обновление начальной загрузки</span><span class="sxs-lookup"><span data-stu-id="e1b1d-223">Updating Bootstrap</span></span>

<span data-ttu-id="e1b1d-224">В шаблонах проектов Visual Studio 2013 используется [Начальная](http://getbootstrap.com/)Загрузка, макет и инфраструктура, созданные Twitter.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-224">The Visual Studio 2013 project templates use [Bootstrap](http://getbootstrap.com/), a layout and theming framework created by Twitter.</span></span> <span data-ttu-id="e1b1d-225">Начальная загрузка использует CSS3 для обеспечения быстроты реагирования, что означает возможность динамического адаптации макетов к различным размерам окон браузера.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-225">Bootstrap uses CSS3 to provide responsive design, which means layouts can dynamically adapt to different browser window sizes.</span></span> <span data-ttu-id="e1b1d-226">Вы также можете воспользоваться функцией начальной загрузки, чтобы упростить изменение внешнего вида и поведения приложения.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-226">You can also use Bootstrap's theming feature to easily effect a change in the application's look and feel.</span></span> <span data-ttu-id="e1b1d-227">По умолчанию шаблон веб-приложения ASP.NET в Visual Studio 2013 включает начальную загрузку в качестве пакета NuGet.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-227">By default, the ASP.NET Web Application template in Visual Studio 2013 includes Bootstrap as a NuGet package.</span></span>

<span data-ttu-id="e1b1d-228">В этом руководстве вы измените вид и поведение приложения Wingtip Toys, заменив начальные файлы CSS.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-228">In this tutorial, you will change look and feel of the Wingtip Toys application by replacing the Bootstrap CSS files.</span></span>

1. <span data-ttu-id="e1b1d-229">В **Обозреватель решений**откройте папку *содержимое* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-229">In **Solution Explorer**, open the *Content* folder.</span></span>
2. <span data-ttu-id="e1b1d-230">Щелкните правой кнопкой мыши файл *начальной загрузки CSS* и переименуйте его в *бутстрап-оригинал. CSS*.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-230">Right-click the *bootstrap.css* file and rename it to *bootstrap-original.css*.</span></span>
3. <span data-ttu-id="e1b1d-231">Переименуйте параметр *начальной загрузки. min. CSS* в *бутстрап-оригинал. min. CSS*.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-231">Rename the *bootstrap.min.css* to *bootstrap-original.min.css*.</span></span>
4. <span data-ttu-id="e1b1d-232">В **Обозреватель решений**щелкните правой кнопкой мыши папку *содержимое* и выберите **в проводнике пункт Открыть папку**.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-232">In **Solution Explorer**, right-click the *Content* folder and select **Open Folder in File Explorer**.</span></span>  
   <span data-ttu-id="e1b1d-233">Откроется окно проводника.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-233">The File Explorer will be displayed.</span></span> <span data-ttu-id="e1b1d-234">В это расположение будут сохранены загруженные файлы начальной загрузки CSS.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-234">You will save a downloaded bootstrap CSS files to this location.</span></span>
5. <span data-ttu-id="e1b1d-235">В браузере перейдите по адресу [https://bootswatch.com/3/](https://bootswatch.com/3/).</span><span class="sxs-lookup"><span data-stu-id="e1b1d-235">In your browser, go to [https://bootswatch.com/3/](https://bootswatch.com/3/).</span></span>
6. <span data-ttu-id="e1b1d-236">Прокрутите окно браузера, пока не увидите тему Церулеан.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-236">Scroll the browser window until you see the Cerulean theme.</span></span> 

    ![Пользовательский интерфейс и навигация — тема Церулеан](ui_and_navigation/_static/image5.png)
7. <span data-ttu-id="e1b1d-238">Загрузите файл *начальной загрузки. CSS* и файл *начальной загрузки. min. CSS* в папку *Content* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-238">Download both the *bootstrap.css* file and the *bootstrap.min.css* file to the *Content* folder.</span></span> <span data-ttu-id="e1b1d-239">Используйте путь к папке содержимого, которая отображается в ранее открывшемся окне **проводника** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-239">Use the path to the content folder that is displayed in the **File Explorer** window that you previously opened.</span></span>
8. <span data-ttu-id="e1b1d-240">В верхней части **Обозреватель решений**в **Visual Studio** выберите параметр **Показать все файлы** , чтобы отобразить новые файлы в папке содержимого.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-240">In **Visual Studio** at the top of **Solution Explorer**, select the **Show All Files** option to display the new files in the Content folder.</span></span> 

    ![Пользовательский интерфейс и навигация — обозреватель решений](ui_and_navigation/_static/image6.png)

   <span data-ttu-id="e1b1d-242">Вы увидите два новых CSS-файла в папке **Content** , но обратите внимание, что значок рядом с именем каждого файла неактивен. Это означает, что файл еще не был добавлен в проект.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-242">You will see the two new CSS files in the **Content** folder, but notice that the icon next to each file name is grayed out. This means that the file has not yet been added to the project.</span></span>
9. <span data-ttu-id="e1b1d-243">Щелкните правой кнопкой мыши файлы *начальной загрузки. CSS* и *начальной загрузки. min. CSS* и выберите **включить в проект**.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-243">Right-click the *bootstrap.css* and the *bootstrap.min.css* files and select **Include In Project**.</span></span>   
   <span data-ttu-id="e1b1d-244">При запуске приложения Wingtip Toys позже в этом учебнике будет отображен новый пользовательский интерфейс.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-244">When you run the Wingtip Toys application later in this tutorial, the new UI will be displayed.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="e1b1d-245">Шаблон веб-приложения ASP.NET использует файл *пакета. config* в корне проекта для хранения пути начальной загрузки файлов CSS.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-245">The ASP.NET Web Application template uses the *Bundle.config* file at the root of the project to store the path of the Bootstrap CSS files.</span></span>

### <a name="modifying-the-default-navigation"></a><span data-ttu-id="e1b1d-246">Изменение структуры навигации по умолчанию</span><span class="sxs-lookup"><span data-stu-id="e1b1d-246">Modifying the Default Navigation</span></span>

<span data-ttu-id="e1b1d-247">Навигацию по умолчанию для каждой страницы в приложении можно изменить, изменив элемент списка неупорядоченных элементов навигации, который находится на странице *site. master* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-247">The default navigation for every page in the application can be modified by changing the unordered navigation list element that's in the *Site.Master* page.</span></span>

1. <span data-ttu-id="e1b1d-248">В **Обозреватель решений**перейдите на страницу *site. master* и откройте ее.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-248">In **Solution Explorer**, locate and open the *Site.Master* page.</span></span>
2. <span data-ttu-id="e1b1d-249">Добавьте дополнительную ссылку навигации, выделенную желтым цветом, в неупорядоченный список, показанный ниже:</span><span class="sxs-lookup"><span data-stu-id="e1b1d-249">Add the additional navigation link highlighted in yellow to the unordered list shown below:</span></span>   

    [!code-html[Main](ui_and_navigation/samples/sample5.html?highlight=5)]

<span data-ttu-id="e1b1d-250">Как видно из приведенного выше HTML, вы изменили каждый элемент строки `<li>` содержащий тег привязки `<a>` с атрибутом ссылки `href`.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-250">As you can see in the above HTML, you modified each line item `<li>` containing an anchor tag `<a>` with a link `href` attribute.</span></span> <span data-ttu-id="e1b1d-251">Каждый `href` указывает на страницу в веб-приложении.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-251">Each `href` points to a page in the Web application.</span></span> <span data-ttu-id="e1b1d-252">В браузере, когда пользователь щелкает одну из этих ссылок (например, **продукты**), они будут переходить на страницу, содержащуюся в `href` (например, **ProductList. aspx**).</span><span class="sxs-lookup"><span data-stu-id="e1b1d-252">In the browser, when a user clicks on one of these links (such as **Products**), they will navigate to the page contained in the `href` (such as **ProductList.aspx**).</span></span> <span data-ttu-id="e1b1d-253">Приложение будет запущено в конце этого руководства.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-253">You will run the application at the end of this tutorial.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="e1b1d-254">Символ тильды (`~`) используется для указания того, что путь `href` начинается с корневого каталога проекта.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-254">The tilde (`~`) character is used to specify that the `href` path begins at the root of the project.</span></span>

### <a name="adding-a-data-control-to-display-navigation-data"></a><span data-ttu-id="e1b1d-255">Добавление элемента управления данными для вывода данных навигации</span><span class="sxs-lookup"><span data-stu-id="e1b1d-255">Adding a Data Control to Display Navigation Data</span></span>

<span data-ttu-id="e1b1d-256">Далее предстоит добавить элемент управления для вывода всех категорий из базы данных.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-256">Next, you'll add a control to display all of the categories from the database.</span></span> <span data-ttu-id="e1b1d-257">Каждая категория будет действовать как ссылка на страницу *ProductList. aspx* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-257">Each category will act as a link to the *ProductList.aspx* page.</span></span> <span data-ttu-id="e1b1d-258">Когда пользователь щелкает ссылку на категорию в браузере, он перейдет на страницу Products (продукты) и увидит только продукты, связанные с выбранной категорией.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-258">When a user clicks on a category link in the browser, they will navigate to the products page and see only the products associated with the selected category.</span></span>

<span data-ttu-id="e1b1d-259">Элемент управления **ListView** используется для вывода всех категорий, содержащихся в базе данных.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-259">You'll use a **ListView** control to display all the categories contained in the database.</span></span> <span data-ttu-id="e1b1d-260">Чтобы добавить элемент управления **ListView** на главную страницу, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-260">To add a **ListView** control to the master page:</span></span>

1. <span data-ttu-id="e1b1d-261">На странице *site. master* добавьте следующий выделенный элемент `<div>` **после** элемента `<div>`, содержащего добавленный ранее `id="TitleContent"`:</span><span class="sxs-lookup"><span data-stu-id="e1b1d-261">In the *Site.Master* page, add the following highlighted `<div>` element **after** the `<div>` element containing the `id="TitleContent"` that you added earlier:</span></span>  

    [!code-aspx[Main](ui_and_navigation/samples/sample6.aspx?highlight=7-21)]

<span data-ttu-id="e1b1d-262">Этот код отобразит все категории из базы данных.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-262">This code will display all the categories from the database.</span></span> <span data-ttu-id="e1b1d-263">Элемент управления **ListView** отображает имя каждой категории как текст ссылки и включает ссылку на страницу *ProductList. aspx* со значением строки запроса, содержащим `ID` категории.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-263">The **ListView** control displays each category name as link text and includes a link to the *ProductList.aspx* page with a query-string value containing the `ID` of the category.</span></span> <span data-ttu-id="e1b1d-264">Устанавливая свойство `ItemType` в элементе управления **ListView** , выражение привязки данных `Item` доступно в `ItemTemplate` узле, а элемент управления становится строго типизированным.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-264">By setting the `ItemType` property in the **ListView** control, the data-binding expression `Item` is available within the `ItemTemplate` node and the control becomes strongly typed.</span></span> <span data-ttu-id="e1b1d-265">Можно выбрать сведения об объекте `Item` с помощью IntelliSense, например, указав `CategoryName`.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-265">You can select details of the `Item` object using IntelliSense, such as specifying the `CategoryName`.</span></span> <span data-ttu-id="e1b1d-266">Этот код содержится в контейнере `<%#: %>`, помечающий выражение привязки данных.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-266">This code is contained inside the container `<%#: %>` that marks a data-binding expression.</span></span> <span data-ttu-id="e1b1d-267">Путем добавления (:) до конца префикса `<%#` результат выражения привязки данных кодируется в формате HTML.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-267">By adding the (:) to the end of the `<%#` prefix, the result of the data-binding expression is HTML-encoded.</span></span> <span data-ttu-id="e1b1d-268">Когда результат кодируется в формате HTML, приложение лучше защищать от атак путем внедрения межсайтовых сценариев (XSS) и внедрения кода HTML.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-268">When the result is HTML-encoded, your application is better protected against cross-site script injection (XSS) and HTML injection attacks.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="e1b1d-269">**Подсказка**</span><span class="sxs-lookup"><span data-stu-id="e1b1d-269">**Tip**</span></span>
> 
> <span data-ttu-id="e1b1d-270">При добавлении кода путем ввода во время разработки можно убедиться, что допустимый член объекта найден, так как строго типизированные элементы управления данными отображают доступные элементы на основе IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-270">When you add code by typing during development, you can be certain that a valid member of an object is found because strongly typed data controls show the available members based on IntelliSense.</span></span> <span data-ttu-id="e1b1d-271">IntelliSense предлагает соответствующие контексту варианты кода при вводе кода, например свойства, методы и объекты.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-271">IntelliSense offers context-appropriate code choices as you type code, such as properties, methods, and objects.</span></span>

<span data-ttu-id="e1b1d-272">На следующем шаге будет реализован метод `GetCategories` для получения данных.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-272">In the next step, you will implement the `GetCategories` method to retrieve data.</span></span>

### <a name="linking-the-data-control-to-the-database"></a><span data-ttu-id="e1b1d-273">Связывание элемента управления данными с базой данных</span><span class="sxs-lookup"><span data-stu-id="e1b1d-273">Linking the Data Control to the Database</span></span>

<span data-ttu-id="e1b1d-274">Прежде чем можно будет отображать данные в элементе управления данными, необходимо связать элемент управления данными с базой данных.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-274">Before you can display data in the data control, you need to link the data control to the database.</span></span> <span data-ttu-id="e1b1d-275">Чтобы создать ссылку, можно изменить код программной части файла *site.master.CS* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-275">To make the link, you can modify the code behind of the *Site.Master.cs* file.</span></span>

1. <span data-ttu-id="e1b1d-276">В **Обозреватель решений**щелкните правой кнопкой мыши страницу *site. master* и выберите пункт **Просмотреть код**.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-276">In **Solution Explorer**, right-click the *Site.Master* page and then click **View Code**.</span></span> <span data-ttu-id="e1b1d-277">Файл *site.master.CS* открывается в редакторе.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-277">The *Site.Master.cs* file is opened in the editor.</span></span>
2. <span data-ttu-id="e1b1d-278">Рядом с началом файла *site.master.CS* добавьте два дополнительных пространства имен, чтобы все включаемые пространства имен отображались следующим образом:</span><span class="sxs-lookup"><span data-stu-id="e1b1d-278">Near the beginning of the *Site.Master.cs* file, add two additional namespaces so that all the included namespaces appear as follows:</span></span>  

    [!code-csharp[Main](ui_and_navigation/samples/sample7.cs?highlight=8-9)]
3. <span data-ttu-id="e1b1d-279">Добавьте выделенный метод `GetCategories` после обработчика событий `Page_Load` следующим образом:</span><span class="sxs-lookup"><span data-stu-id="e1b1d-279">Add the highlighted `GetCategories` method after the `Page_Load` event handler as follows:</span></span>  

    [!code-csharp[Main](ui_and_navigation/samples/sample8.cs?highlight=6-11)]

<span data-ttu-id="e1b1d-280">Приведенный выше код выполняется, когда в браузере загружается любая страница, использующая главную страницу.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-280">The above code is executed when any page that uses the master page is loaded in the browser.</span></span> <span data-ttu-id="e1b1d-281">Элемент управления `ListView` (с именем "categoryList"), добавленный ранее в этом руководстве, использует привязку модели для выбора данных.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-281">The `ListView` control (named "categoryList") that you added earlier in this tutorial uses model binding to select data.</span></span> <span data-ttu-id="e1b1d-282">В разметке элемента управления `ListView` для свойства `SelectMethod` элемента управления задается метод `GetCategories`, показанный выше.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-282">In the markup of the `ListView` control you set the control's `SelectMethod` property to the `GetCategories` method, shown above.</span></span> <span data-ttu-id="e1b1d-283">Элемент управления `ListView` вызывает метод `GetCategories` в соответствующее время жизненного цикла страницы и автоматически привязывает возвращенные данные.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-283">The `ListView` control calls the `GetCategories` method at the appropriate time in the page life cycle and automatically binds the returned data.</span></span> <span data-ttu-id="e1b1d-284">Дополнительные сведения о привязке данных см. в следующем руководстве.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-284">You will learn more about binding data in the next tutorial.</span></span>

### <a name="running-the-application-and-creating-the-database"></a><span data-ttu-id="e1b1d-285">Запуск приложения и создание базы данных</span><span class="sxs-lookup"><span data-stu-id="e1b1d-285">Running the Application and Creating the Database</span></span>

<span data-ttu-id="e1b1d-286">Ранее в этой серии руководств вы создали класс инициализатора (с именем "Продуктдатабасеинитиализер") и указали этот класс в файле *Global.asax.CS* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-286">Earlier in this tutorial series you created an initializer class (named "ProductDatabaseInitializer") and specified this class in the *global.asax.cs* file.</span></span> <span data-ttu-id="e1b1d-287">Entity Framework создаст базу данных при первом запуске приложения, так как метод `Application_Start`, содержащийся в файле *Global.asax.CS* , будет вызывать класс инициализатора.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-287">The Entity Framework will generate the database when the application is run the first time because the `Application_Start` method contained in the *global.asax.cs* file will call the initializer class.</span></span> <span data-ttu-id="e1b1d-288">Класс инициализатора будет использовать классы модели (`Category` и `Product`), добавленные ранее в этой серии руководств для создания базы данных.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-288">The initializer class will use the model classes (`Category` and `Product`) that you added earlier in this tutorial series to create the database.</span></span>

1. <span data-ttu-id="e1b1d-289">В **Обозреватель решений**щелкните правой кнопкой мыши страницу *Default. aspx* и выберите **задать в качестве начальной страницы**.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-289">In **Solution Explorer**, right-click the *Default.aspx* page and select **Set As Start Page**.</span></span>
2. <span data-ttu-id="e1b1d-290">В Visual Studio нажмите клавишу **F5**.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-290">In Visual Studio press **F5**.</span></span>   
 <span data-ttu-id="e1b1d-291">Установка всех объектов во время первого выполнения займет немного времени.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-291">It will take a little time to set everything up during this first run.</span></span>   
    <span data-ttu-id="e1b1d-292">![пользовательский интерфейс и навигация —](ui_and_navigation/_static/image7.png) окна браузера</span><span class="sxs-lookup"><span data-stu-id="e1b1d-292">![UI and Navigation - Browser Windows](ui_and_navigation/_static/image7.png)</span></span>  
 <span data-ttu-id="e1b1d-293">При запуске приложения приложение будет скомпилировано, а база данных с именем *wingtiptoys. mdf* будет создана в папке *приложения\_данных* .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-293">When you run the application, the application will be compiled and the database named *wingtiptoys.mdf* will be created in the *App\_Data* folder.</span></span> <span data-ttu-id="e1b1d-294">В браузере вы увидите меню навигации по категориям.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-294">In the browser, you will see a category navigation menu.</span></span> <span data-ttu-id="e1b1d-295">Это меню было создано путем извлечения категорий из базы данных.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-295">This menu was generated by retrieving the categories from the database.</span></span> <span data-ttu-id="e1b1d-296">В следующем учебнике будет реализована Навигация.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-296">In the next tutorial, you will implement the navigation.</span></span>
3. <span data-ttu-id="e1b1d-297">Закройте окно браузера, чтобы завершить работу приложения.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-297">Close the browser to stop the running application.</span></span>

### <a name="reviewing-the-database"></a><span data-ttu-id="e1b1d-298">Проверка базы данных</span><span class="sxs-lookup"><span data-stu-id="e1b1d-298">Reviewing the Database</span></span>

<span data-ttu-id="e1b1d-299">Откройте файл *Web. config* и просмотрите раздел строка подключения.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-299">Open the *Web.config* file and look at the connection string section.</span></span> <span data-ttu-id="e1b1d-300">Вы видите, что `AttachDbFilename` значение в строке подключения указывает на `DataDirectory` для проекта веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-300">You can see that the `AttachDbFilename` value in the connection string points to the `DataDirectory` for the Web application project.</span></span> <span data-ttu-id="e1b1d-301">Значение `|DataDirectory|` является зарезервированным значением, представляющим папку *данных приложения\_* в проекте.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-301">The value `|DataDirectory|` is a reserved value that represents the *App\_Data* folder in the project.</span></span> <span data-ttu-id="e1b1d-302">В этой папке находится база данных, созданная из классов сущностей.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-302">This folder is where the database that was created from your entity classes is located.</span></span>

[!code-xml[Main](ui_and_navigation/samples/sample9.xml)]

> [!NOTE] 
> 
> <span data-ttu-id="e1b1d-303">Если папка " *приложение\_данных* " не видна или папка пуста, щелкните значок " **Обновить** ", а затем значок " **Показать все файлы** " в верхней части окна **Обозреватель решений** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-303">If the *App\_Data* folder is not visible or if the folder is empty, select the **Refresh** icon and then the **Show All Files** icon at the top of the **Solution Explorer** window.</span></span> <span data-ttu-id="e1b1d-304">Для отображения всех доступных значков может потребоваться развернуть ширину окон **Обозреватель решений** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-304">Expanding the width of the **Solution Explorer** windows may be required to show all available icons.</span></span>

<span data-ttu-id="e1b1d-305">Теперь можно просмотреть данные, содержащиеся в файле базы данных *wingtiptoys. mdf* , с помощью окна **Обозреватель сервера** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-305">Now you can inspect the data contained in the *wingtiptoys.mdf* database file by using the **Server Explorer** window.</span></span>

1. <span data-ttu-id="e1b1d-306">Разверните папку " *приложение\_данных* ".</span><span class="sxs-lookup"><span data-stu-id="e1b1d-306">Expand the *App\_Data* folder.</span></span> <span data-ttu-id="e1b1d-307">Если папка " *приложение\_данных* " не отображается, см. примечание выше.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-307">If the *App\_Data* folder is not visible, see the note above.</span></span>
2. <span data-ttu-id="e1b1d-308">Если файл базы данных *wingtiptoys. mdf* не отображается, щелкните значок **обновления** , а затем значок **Показать все файлы** в верхней части окна **Обозреватель решений** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-308">If the *wingtiptoys.mdf* database file is not visible, select the **Refresh** icon and then the **Show All Files** icon at the top of the **Solution Explorer** window.</span></span>
3. <span data-ttu-id="e1b1d-309">Щелкните правой кнопкой мыши файл базы данных *wingtiptoys. mdf* и выберите команду **Открыть**.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-309">Right-click the *wingtiptoys.mdf* database file and select **Open**.</span></span>  
    <span data-ttu-id="e1b1d-310">Отображается **Обозреватель сервера** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-310">**Server Explorer** is displayed.</span></span> 

    ![Пользовательский интерфейс и навигация — обозреватель сервера](ui_and_navigation/_static/image8.png)
4. <span data-ttu-id="e1b1d-312">Разверните папку *Таблицы*.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-312">Expand the *Tables* folder.</span></span>
5. <span data-ttu-id="e1b1d-313">Щелкните правой кнопкой мыши таблицу **Products**и выберите команду **отобразить данные таблицы**.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-313">Right-click the **Products**table and select **Show Table Data**.</span></span>  
 <span data-ttu-id="e1b1d-314">Отобразится таблица **Products** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-314">The **Products** table is displayed.</span></span> 

    ![Пользовательский интерфейс и навигация — таблица Products](ui_and_navigation/_static/image9.png)
6. <span data-ttu-id="e1b1d-316">Это представление позволяет просматривать и изменять данные в таблице **Products** вручную.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-316">This view lets you see and modify the data in the **Products** table by hand.</span></span>
7. <span data-ttu-id="e1b1d-317">Закройте окно Таблица **Products** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-317">Close the **Products** table window.</span></span>
8. <span data-ttu-id="e1b1d-318">В **Обозреватель сервера**щелкните правой кнопкой мыши таблицу **Products** и выберите **Open Table Definition (Открыть определение таблицы**).</span><span class="sxs-lookup"><span data-stu-id="e1b1d-318">In the **Server Explorer**, right-click the **Products** table again and select **Open Table Definition**.</span></span>  
 <span data-ttu-id="e1b1d-319">Отобразится структура данных для таблицы **Products** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-319">The data design for the **Products** table is displayed.</span></span> 

    ![Пользовательский интерфейс и навигация — проектирование продуктов](ui_and_navigation/_static/image10.png)
9. <span data-ttu-id="e1b1d-321">На вкладке **T-SQL** вы увидите инструкцию SQL DDL, которая использовалась для создания таблицы.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-321">In the **T-SQL** tab you will see the SQL DDL statement that was used to create the table.</span></span> <span data-ttu-id="e1b1d-322">Можно также использовать пользовательский интерфейс на вкладке **Конструирование** , чтобы изменить схему.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-322">You can also use the UI in the **Design** tab to modify the schema.</span></span>
10. <span data-ttu-id="e1b1d-323">В **Обозреватель сервера**щелкните правой кнопкой мыши база данных **WingtipToys** и выберите пункт **закрыть подключение**.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-323">In the **Server Explorer**, right-click **WingtipToys** database and select **Close Connection**.</span></span>   
 <span data-ttu-id="e1b1d-324">После отсоединения базы данных от Visual Studio схему базы данных можно будет изменить позже в этой серии руководств.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-324">By detaching the database from Visual Studio, the database schema will be able to be modified later in this tutorial series.</span></span>
11. <span data-ttu-id="e1b1d-325">Вернитесь в **Обозреватель решений**, выбрав вкладку **Обозреватель решений** в нижней части окна **Обозреватель сервера** .</span><span class="sxs-lookup"><span data-stu-id="e1b1d-325">Return to **Solution Explorer**by selecting the **Solution Explorer** tab at the bottom of the **Server Explorer** window.</span></span>

## <a name="summary"></a><span data-ttu-id="e1b1d-326">Сводка</span><span class="sxs-lookup"><span data-stu-id="e1b1d-326">Summary</span></span>

<span data-ttu-id="e1b1d-327">В этом руководстве по ряду вы добавили простой пользовательский интерфейс, графику, страницы и навигацию.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-327">In this tutorial of the series you have added some basic UI, graphics, pages, and navigation.</span></span> <span data-ttu-id="e1b1d-328">Кроме того, вы запустили веб-приложение, которое создало базу данных из классов данных, добавленных в предыдущем руководстве.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-328">Additionally, you ran the Web application, which created the database from the data classes that you added in the previous tutorial.</span></span> <span data-ttu-id="e1b1d-329">Вы также Просмотрели содержимое таблицы *Products* базы данных, просматривая базу данных напрямую.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-329">You also viewed the contents of the *Products* table of the database by viewing the database directly.</span></span> <span data-ttu-id="e1b1d-330">В следующем руководстве будут показаны элементы данных и сведения из базы данных.</span><span class="sxs-lookup"><span data-stu-id="e1b1d-330">In the next tutorial, you'll display data items and details from the database.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="e1b1d-331">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="e1b1d-331">Additional Resources</span></span>

<span data-ttu-id="e1b1d-332">[Введение в программирование веб-страницы ASP.NET](https://msdn.microsoft.com/library/ms178125.aspx) </span><span class="sxs-lookup"><span data-stu-id="e1b1d-332">[Introduction to Programming ASP.NET Web Pages](https://msdn.microsoft.com/library/ms178125.aspx) </span></span>  
<span data-ttu-id="e1b1d-333">[Общие сведения об элементах управления веб-сервера ASP.NET](https://msdn.microsoft.com/library/zsyt68f1.aspx) </span><span class="sxs-lookup"><span data-stu-id="e1b1d-333">[ASP.NET Web Server Controls Overview](https://msdn.microsoft.com/library/zsyt68f1.aspx) </span></span>  
[<span data-ttu-id="e1b1d-334">Учебник по CSS</span><span class="sxs-lookup"><span data-stu-id="e1b1d-334">CSS Tutorial</span></span>](http://www.w3schools.com/css/default.asp)

> [!div class="step-by-step"]
> <span data-ttu-id="e1b1d-335">[Назад](create_the_data_access_layer.md)
> [Вперед](display_data_items_and_details.md)</span><span class="sxs-lookup"><span data-stu-id="e1b1d-335">[Previous](create_the_data_access_layer.md)
[Next](display_data_items_and_details.md)</span></span>
