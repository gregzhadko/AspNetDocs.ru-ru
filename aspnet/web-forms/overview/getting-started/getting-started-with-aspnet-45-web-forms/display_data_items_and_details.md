---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/display_data_items_and_details
title: Отображение элементов данных и сведений | Документация Майкрософт
author: Erikre
description: В этой серии руководств показано, основы создания приложения веб-форм ASP.NET с помощью ASP.NET 4.7 и Microsoft Visual Studio 2017
ms.author: riande
ms.date: 1/04/2019
ms.assetid: 64a491a8-0ed6-4c2f-9c1c-412962eb6006
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/display_data_items_and_details
msc.type: authoredcontent
ms.openlocfilehash: acc2f8e78375ef0455d467e2af750ecbee623224
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57044641"
---
<a name="display-data-items-and-details"></a>Отображаемые элементы данных и сведения
====================
по [Erik Reitan](https://github.com/Erikre)

> В этой серии руководств представлены основы создания приложений веб-форм ASP.NET с помощью ASP.NET 4.7 и Microsoft Visual Studio 2017.

В этом руководстве вы узнаете, как отобразить элементы данных и сведений об элементе данных с помощью веб-форм ASP.NET и Entity Framework Code First. Этот учебник основан на предыдущем учебном курсе «И навигация по пользовательскому Интерфейсу» как часть этой серии руководств Store Toy Wingtip. После завершения этого учебника, вы увидите продуктов на *ProductsList.aspx* страницы и сведения о продукте на *ProductDetails.aspx* страницы.

## <a name="youll-learn-how-to"></a>Вы научитесь:

- Добавьте элемент управления данные для отображения продуктов из базы данных
- Подключения элемента управления данными для выбранных данных
- Добавьте элемент управления данные для отображения сведений о продукте из базы данных
- Извлечь значение из строки запроса и использовать это значение, чтобы ограничить данные, которые извлекаются из базы данных

### <a name="features-introduced-in-this-tutorial"></a>Функции, представленных в этом руководстве:

- Привязка модели
- Поставщики значений

## <a name="add-a-data-control"></a>Добавление данных элемента управления

Можно использовать несколько вариантов для привязки данных к серверному элементу управления. Наиболее распространенные включают:

 * Добавление элемента управления источника данных
 * Добавление кода вручную
 * С помощью привязки модели

### <a name="use-a-data-source-control-to-bind-data"></a>Используйте элемент управления источником данных для привязки данных

Добавление элемента управления источника данных позволяет связать элемент управления источником данных элемент управления, который отображает данные. При таком подходе вы можно декларативно, а не программным образом, подключение серверных элементов управления к источникам данных.

### <a name="code-by-hand-to-bind-data"></a>Код вручную, для привязки данных

Кодировании вручную включает в себя:

1. Считывая значение
2. Проверяется, является ли значение null
3. Преобразование его в соответствующий тип
4. Проверка успешного преобразования
5. С помощью значения в запросе 

Такой подход позволяет иметь полный контроль над логику доступа к данным.

### <a name="use-model-binding-to-bind-data"></a>Использование привязки модели для привязки данных

Привязка модели позволяет привязать результаты гораздо меньше кода и дает возможность повторно использовать функциональные возможности во всем приложении. Она упрощает работу с логики доступа к данным на ориентированный на код по-прежнему предоставляя это богатый инфраструктура привязки данных.

## <a name="display-products"></a>Отобразить продукты

В этом руководстве вы используете привязки модели для привязки данных. Чтобы настроить элемент управления данные для использования привязки модели для выбора данных, значение элемента управления `SelectMethod` равным имени метода в код страницы. Элемент управления данными вызывает метод в соответствующее время жизненного цикла страницы и автоматически связывает возвращаемых данных. Нет необходимости явно вызвать `DataBind` метод.

1. В **обозревателе решений**откройте *ProductList.aspx*.
2. Замените существующую разметку с этой разметкой:   

    [!code-aspx-csharp[Main](display_data_items_and_details/samples/sample1.aspx)]

Этот код использует **ListView** управления с именем `productList` для отображения продуктов.

[!code-aspx-csharp[Main](display_data_items_and_details/samples/sample2.aspx)]

С помощью шаблонов и стилей, можно определить как **ListView** отображаются в элементе управления. Это полезно для данных в любой повторяющейся структуре. Хотя это **ListView** примере просто отображает базы данных, кроме того, можно без кода, позволяют пользователям для редактирования, вставки и удаления данных и отсортировать и данные страницы.

Задав `ItemType` свойство в **ListView** управления, выражение привязки данных `Item` доступна и элемент управления становится строго типизированными. Как упоминалось в предыдущем учебном курсе, можно выбрать сведения об элементе объекта с поддержкой технологии IntelliSense, например, указать `ProductName`:

![Отображение данных элементов и сведения о — IntelliSense](display_data_items_and_details/_static/image1.png)

Вы также используете привязки модели для указания `SelectMethod` значение. Это значение (`GetProducts`) соответствует методу, вы добавите код запаздывает, для отображения продуктов на следующем шаге.

### <a name="add-code-to-display-products"></a>Добавьте код для отображения продуктов

На этом шаге вы добавите код для заполнения **ListView** элемента управления с данными о продуктах из базы данных. Этот код поддерживает отображаются все продукты и отдельной категории продуктов.

1. В **обозревателе решений**, щелкните правой кнопкой мыши *ProductList.aspx* , а затем выберите **Просмотр кода**.
2. Замените существующий код в *ProductList.aspx.cs* файл с этим:   

    [!code-csharp[Main](display_data_items_and_details/samples/sample3.cs)]

В следующем коде показано `GetProducts` метод, **ListView** элемента управления `ItemType` ссылается на свойство в *ProductList.aspx* страницы. Чтобы ограничить результаты для конкретной базы данных категории, код задает `categoryId` значение из значения строки запроса, передаваемые *ProductList.aspx* страницы при *ProductList.aspx* страница Переход к. `QueryStringAttribute` В класс `System.Web.ModelBinding` пространство имен используется для получения значения переменной строки запроса `id`. Это указывает, что привязка модели к попытке привязать значение из строки запроса для `categoryId` параметра во время выполнения.

При передаче допустимую категорию как строку запроса на страницу, результаты запроса ограничиваются продуктов в базе данных, которые соответствуют `categoryId` значение. Например если *ProductsList.aspx* это URL-адрес страницы:


[!code-console[Main](display_data_items_and_details/samples/sample4.cmd)]

На странице отображаются только те продукты, где `categoryId` равно `1`.

Все продукты отображаются в том случае, если строка запроса отсутствует включается при *ProductList.aspx* вызова страницы.

Источники значений для этих методов, называются *значение поставщики* (такие как *QueryString*), и параметр атрибуты, которые указывают, какой поставщик значений для использования, называются *значение атрибуты поставщика* (такие как `id`). ASP.NET включает в себя поставщики значений и соответствующих атрибутов для всех типичных источников данных, введенных пользователем в приложении веб-форм, например строки запроса, файлы cookie, значения формы, элементы управления, состояние представления, состояние сеанса и свойства профиля. Можно также написать пользовательские поставщики значений.

### <a name="run-the-application"></a>Запуск приложения

Запустите приложение и просмотреть все продукты или категории продуктов.

1. Нажмите клавишу **F5** при работе в Visual Studio для запуска приложения.  
   Откроется браузер и показывает *Default.aspx* страницы.

2. Выберите **автомобили** меню навигации категории продукта.  
   *ProductList.aspx* страница отображает только **автомобили** категории продуктов. Далее в этом руководстве описано как отображать сведения о продукте.  

    ![Отображение данных элементов и сведения о — автомобили](display_data_items_and_details/_static/image2.png)

3. Выберите **продуктов** меню навигации вверху.  
   Опять же *ProductList.aspx* страница отображается, однако в настоящее время он показан весь список продуктов.   

    ![Отображение данных элементов и сведения о — продуктов](display_data_items_and_details/_static/image3.png)

4. Закройте браузер и вернуться в Visual Studio.

### <a name="add-a-data-control-to-display-product-details"></a>Добавьте элемент управления данные для отображения сведений о продукте

Затем вы измените разметку в *ProductDetails.aspx* страницы, добавленные в предыдущем руководстве, чтобы отобразить сведения о конкретных продуктах.

1. В **обозревателе решений**откройте *ProductDetails.aspx*.

2. Замените существующую разметку с этой разметкой:

    [!code-aspx-csharp[Main](display_data_items_and_details/samples/sample5.aspx)] 

    Этот код использует **FormView** управления для отображения сведений определенного продукта. Эта разметка использует методы, такие как методы, используемые для отображения данных в *ProductList.aspx* страницы. **FormView** элемент управления используется для отображения одной записи за раз из источника данных. При использовании **FormView** элемента управления, создавать шаблоны для отображения и редактирования значений с привязкой к данным. Эти шаблоны содержат элементы управления, выражения, привязки и форматирование, которое определить вид и функциональные возможности формы.

Предыдущей разметки для подключения к базе данных требуется дополнительный код.

1. В **обозревателе решений**, щелкните правой кнопкой мыши *ProductDetails.aspx* и нажмите кнопку **Просмотр кода**.  
   *ProductDetails.aspx.cs* отобразится файл.

2. Замените существующий код следующим кодом:   

    [!code-csharp[Main](display_data_items_and_details/samples/sample6.cs)]

Этот код проверяет наличие "`productID`" значения строки запроса. Если значение допустимым строка запроса обнаруживается, отображается соответствующий продукт. Если не найдено в строке запроса или его значение является недопустимым, программы не отображается.

### <a name="run-the-application"></a>Запуск приложения

Теперь вы можете запустить приложение, чтобы просмотреть отдельные продукта, отображаемое в зависимости от идентификатора продукта.

1. Нажмите клавишу **F5** при работе в Visual Studio для запуска приложения.  
   Откроется браузер и показывает *Default.aspx* страницы.

2. Выберите **лодок** меню навигации категории.  
   *ProductList.aspx* откроется страница.

3. Выберите **яхту бумаги** из списка продуктов.
   *ProductDetails.aspx* откроется страница.

    ![Отображение данных элементов и сведения о — продуктов](display_data_items_and_details/_static/image4.png)
    
4. Закройте браузер.


## <a name="additional-resources"></a>Дополнительные ресурсы

[Извлечение и отображение данных с помощью привязки модели и веб-форм](../../presenting-and-managing-data/model-binding/retrieving-data.md)

## <a name="next-steps"></a>Следующие шаги

В этом руководстве вы добавили разметки и кода для отображения продуктов и сведения о продукте. Вы узнали о строго типизированные элементы управления данными, привязка модели и поставщики значений. В следующем руководстве вы добавите корзины для покупок в пример приложения Wingtip Toys. 

> [!div class="step-by-step"]
> [Назад](ui_and_navigation.md)
> [Вперед](shopping-cart.md)
