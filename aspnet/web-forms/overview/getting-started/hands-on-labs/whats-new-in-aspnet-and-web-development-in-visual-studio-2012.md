---
uid: web-forms/overview/getting-started/hands-on-labs/whats-new-in-aspnet-and-web-development-in-visual-studio-2012
title: Новые возможности ASP.NET и веб-разработки в Visual Studio 2012 | Документация Майкрософт
author: rick-anderson
description: Новая версия Visual Studio содержит ряд улучшений, которые посвящены повышению производительности и эффективности работы с веб-технологиями...
ms.author: riande
ms.date: 02/18/2013
ms.assetid: 6d40d276-1642-4a77-b6c9-02ac914f6805
msc.legacyurl: /web-forms/overview/getting-started/hands-on-labs/whats-new-in-aspnet-and-web-development-in-visual-studio-2012
msc.type: authoredcontent
ms.openlocfilehash: 80c77ec65ed86b06e417d3f6ba608e404c46768b
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78422100"
---
# <a name="whats-new-in-aspnet-and-web-development-in-visual-studio-2012"></a>Новые возможности ASP.NET и веб-разработки в Visual Studio 2012

по [веб-Camp командам](https://twitter.com/webcamps)

> Новая версия Visual Studio содержит ряд улучшений, которые посвящены повышению удобства работы и производительности при работе с веб-технологиями. Редакторы Visual Studio для CSS, JavaScript и HTML были полностью пересмотрены с целью включения многих вспомогательных средств кода по запросу, таких как IntelliSense и автоматическое структурирование. В связи с производительностью объединение и минификации теперь интегрируются в качестве встроенных функций, что позволяет легко сократить время загрузки страницы.
> 
> Visual Studio позволяет работать с новейшими технологиями веб-сайта. Вы можете использовать фрагменты CSS3, чтобы убедиться, что сайт работает независимо от клиентской платформы, а также воспользоваться новыми элементами и функциями HTML5.
> 
> Написание и профилирование кода JavaScript должно быть проще с этой версией Visual Studio. Списки IntelliSense, интегрированная Документация XML и функции навигации теперь доступны для кода JavaScript. Теперь у вас есть каталог JavaScript. Кроме того, вы можете проверить соответствие ECMAScript5 сценариям и выявить синтаксические ошибки на раннем этапе.
> 
> Последняя, но не менее поздняя версия Visual Studio реализует встроенные объединения и минификации. Файлы сценариев и таблицы стилей будут упакованы и сжаты, чтобы сайт выполнялся быстрее.
> 
> Эта лабораторная работа посвящена усовершенствованиям и новым функциям, описанным выше, путем применения незначительных изменений в образце веб-приложения, предоставленном в исходной папке.
> 
> Все примеры кода и фрагментов включены в комплект обучающих курсов Web Camp, доступный по адресу [https://go.microsoft.com/fwlink/?LinkID=248297&clcid=0x409](https://go.microsoft.com/fwlink/?LinkID=248297&clcid=0x409).

<a id="Objectives"></a>

<a id="Objectives"></a>
### <a name="objectives"></a>Цели

В этом практическом занятии вы научитесь:

- Использование новых функций и улучшений в редакторе CSS
- Использование новых функций и улучшений в редакторе HTML
- Использование новых функций и улучшений в редакторе JavaScript
- Настройка и использование объединения и минификации

<a id="Prerequisites"></a>

<a id="Prerequisites"></a>
### <a name="prerequisites"></a>предварительные требования

- [Microsoft Visual Studio Express 2012 для Web](https://www.microsoft.com/visualstudio/eng/products/visual-studio-express-for-web) или старше (см. [приложение а](#AppendixA) для получения инструкций по его установке).
- [Windows PowerShell](https://support.microsoft.com/kb/968930/) (для сценариев установки — уже установлены в Windows 8 и windows Server 2008 R2)
- [Internet Explorer 10](https://windows.microsoft.com/internet-explorer/products/ie/home) или браузер, совместимый с HTML5

<a id="Exercises"></a>

<a id="Exercises"></a>
## <a name="exercises"></a>Полнят

Это практическое занятие включает в себя следующие упражнения.

1. [Упражнение 1. новые возможности редактора CSS](#Exercise1)
2. [Упражнение 2. новые возможности редактора HTML](#Exercise2)
3. [Упражнение 3. новые возможности редактора JavaScript](#Exercise3)
4. [Упражнение 4. объединение и минификации](#Exercise4)

Предполагаемое время выполнения этой лабораторной работы: **60 минут**.

<a id="Exercise1"></a>

<a id="Exercise_1_Whats_New_in_the_CSS_Editor"></a>
### <a name="exercise-1-whats-new-in-the-css-editor"></a>Упражнение 1. новые возможности редактора CSS

Веб-разработчики должны быть знакомы с множеством трудностей, связанных с редактированием CSS. Одной из крупнейших проблем стиля CSS является совместимость между браузерами. Это часто случается, что после применения стилей к сайту вы увидите, что он выглядит иначе, если открыть его в другом браузере или устройстве. Таким образом, вы можете потратить значительное время на устранение этих визуальных проблем, чтобы понять, что, когда вы наконец сделаете ее работу в одном браузере, она разбивается на другие.

Visual Studio теперь включает функции, которые помогают разработчикам эффективно обращаться к таблицам стилей CSS, работать с ними и упорядочивать их. В рамках этого упражнения вы будете соответствовать новым функциям эффективной организации и выпуска, а также фрагментам кода CSS3 для обеспечения совместимости между браузерами.

<a id="Ex1Task1"></a>

<a id="Task_1_-_New_Editor_Features"></a>
#### <a name="task-1---new-editor-features"></a>Задача 1. новые функции редактора

В этой задаче вы узнаете о новых функциях редактора CSS. Этот новый редактор поможет повысить производительность, используя преимущества нового интеллектуального отступа, улучшенные комментарии к коду и расширенный список IntelliSense.

1. Запустите **Visual Studio** и откройте решение **вхатсневаспнет. sln** , расположенное в папке **саурце\вхатсневаспнет** этой лабораторной работы.
2. В обозреватель решений откройте файл **site. CSS** , расположенный в папке **styles** . Убедитесь, что на панели инструментов отображаются средства **текстового редактора** . Для этого выберите пункт меню View | Toolbars ( **вид** **панели инструментов** ) и проверьте параметры **текстового редактора** . Вы заметите, что, так как эта новая версия, кнопка **Комментарий** (![](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image1.png) комментарий) и кнопка **раскомментировать** (![раскомментировать кнопки](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image2.png)) также включены для редактора CSS.

    ![Включение редактора и средств CSS](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image3.png "Включение редактора и средств CSS")

    *Включение редактора и средств CSS*
3. Прокрутите код и выберите любое определение класса CSS. Нажмите кнопку **comment** (![комментарий-кнопка](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image4.png)), чтобы закомментировать выбранные строки. Затем нажмите кнопку **раскомментировать** (![раскомментировать кнопку](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image5.png)), чтобы отменить изменения.
4. Нажмите кнопки **Свернуть** (![свернуть](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image6.png)) и **развернуть** (![развернуть](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image7.png)), расположенные в левом поле текста. Обратите внимание, что теперь можно скрыть стили, которые не используются для представления очистки.

    ![Сворачивание классов CSS](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image8.png "Сворачивание классов CSS")

    *Сворачивание классов CSS*
5. Убедитесь, что включена функция интеллектуального отступа. Выберите пункт меню **сервис** | **Параметры** , а затем выберите **текстовый редактор** | **CSS** | **Форматирование** страницы в левой области экрана. Проверьте параметр **иерархического отступа** .

    ![Включение иерархических отступов](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image9.png "Включение иерархических отступов")

    *Включение иерархических отступов*
6. Нахождение основного определения класса (Main) и Добавление стиля к элементам div. Вы заметите, что код автоматически выполнится, помогая пользователям быстро находить родительские классы.

    CSS

    [!code-css[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample1.css)]

    ![Иерархическое выравнивание в CSS](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image10.png "Иерархическое выравнивание в CSS")

    *Иерархическое выравнивание в CSS*
7. Внутри класса **div. Main** поместите курсор в конец **границы: 0px;** и нажмите клавишу **Ввод** , чтобы отобразить список IntelliSense. Начните вводить **Top** и обратите внимание на то, как список фильтруется по мере ввода. В списке отобразятся элементы, содержащие **Top** в любой части слова (в предыдущих версиях Visual Studio список фильтруется по элементам, которые *начинаются* с термина).

    ![Усовершенствования IntelliSense в CSS](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image11.png "Усовершенствования IntelliSense в CSS")

    *Усовершенствования IntelliSense в CSS*

<a id="Ex1Task2"></a>

<a id="Task_2_-_The_Color_Picker"></a>
#### <a name="task-2---the-color-picker"></a>Задача 2. Палитра цветов

В этой задаче будет обнаружено новое средство выбора цвета CSS, интегрированное в IntelliSense Visual Studio.

1. В **site. CSS** наведите указатель на определение класса заголовка (. Header) и поместите курсор рядом с атрибутом **цвет фона** между &quot;:&quot; и &quot;#&quot; символов в этой строке кода **.**

    ![Поиск курсора](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image12.png "Поиск курсора")

    *Поиск курсора*
2. Удалите **двоеточие** (:) и снова запишите его, чтобы отобразить палитру цветов. Обратите внимание, что первые цвета, которые вы увидите, являются самыми частыми цветами вашего сайта. Если щелкнуть белый цвет, его код цвета HTML (#fff) заменит текущий код цвета в таблице стилей.

    ![Палитра цветов](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image13.png "Выбор цвета")

    *Палитра цветов*
3. Нажмите кнопку **развернуть** (![com](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image14.png)) в палитре цветов, чтобы отобразить цветовой градиент, а затем перетащите курсор градиента, чтобы выбрать другой цвет. После этого нажмите кнопку **Пипетка** и выберите любой цвет на экране. Обратите внимание, что значение цвета фона изменяется динамически при перемещении курсора.

    ![Градиент палитры выбора цвета](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image15.png "Градиент палитры выбора цвета")

    *Градиент палитры выбора цвета*
4. На ползунке **прозрачность** переместите селектор в центр панели, чтобы уменьшить непрозрачность. Обратите внимание, что значение параметра цвет фона теперь изменяет масштаб на RGBA.

    ![Непрозрачность палитры цветов](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image16.png "Непрозрачность палитры цветов")

    *Непрозрачность палитры цветов*

    > [!NOTE]
    > Определение цвета RGBA (красное, зеленое, синее, альфа) в CSS3 позволяет определить значение непрозрачности цвета для одного элемента. В отличие от **непрозрачности —** аналогичный атрибут CSS **-** цвета RGBA также совместимы с последними браузерами.

<a id="Ex1Task3"></a>

<a id="Task_3_-_CSS_Compatible_Code_Snippets"></a>
#### <a name="task-3---css-compatible-code-snippets"></a>Задачи 3 — фрагменты кода, совместимые с CSS

В этой задаче вы узнаете, как использовать совместимые с несколькими браузерами фрагменты CSS3 для реализации некоторых функций на веб-сайте.

1. В файле **site. CSS** выберите заголовок определение класса CSS (заголовок) и поместите курсор под **заголовком** **/\*границы\*/границу радиуса** , чтобы добавить новый фрагмент. Нажмите клавишу **Ввод** , чтобы отобразить список IntelliSense, и введите **RADIUS** для фильтрации списка. Выберите параметр **border-radius** в списке двойным щелчком и нажмите клавишу **Tab** , чтобы вставить фрагмент. Затем введите размер радиуса в пикселях и нажмите клавишу **Ввод**. Например, введите **15px**.

    Атрибуты CSS3, добавленные фрагментом, будут отображать скругленные границы в большинстве браузеров соответствия HTML5, включая браузеры на основе Mozilla и WebKit.

    ![Использование фрагмента кода с границей RADIUS](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image17.png "Использование фрагмента кода с границей RADIUS")

    *Использование фрагмента кода с границей RADIUS*
2. Примените те **же самые** фрагменты в стиле страницы (страница).

    CSS

    [!code-css[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample2.css)]
3. Чтобы запустить решение, нажмите клавишу **F5**. Обратите внимание, что на каждой странице теперь есть скругленные границы.

    ![Скругленные углы](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image18.png "Скругленные углы")

    *Скругленные углы*
4. Закройте браузер и вернитесь в Visual Studio.
5. Откройте файл **Custom. CSS** , расположенный в папке **styles** , и поместите курсор внутрь определения класса **img. Images UL LI** .
6. Нажмите клавишу ВВОД, чтобы отобразить список IntelliSense, введите **тень Box** и дважды нажмите клавишу **Tab** , чтобы вставить фрагмент кода с тенью в определение класса по умолчанию. Задайте значения теневых значений **10px 10px 5px #888**. Затем введите **border-radius** и вставьте фрагмент кода. Введите **15px** , чтобы задать размер радиуса, и нажмите клавишу **Ввод**.

    ![Скругленные углы с тенью](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image19.png "Скругленные углы с тенью")

    *Скругленные углы с тенью*

    > [!NOTE]
    > В настоящее время атрибут Shadow вставляется с соответствующим префиксом (MOZ, WebKit, o) для поддержки браузеров Mozilla и WebKit (Chrome, Safari, Конкерор).
7. Создайте новый класс **div. Images UL LI img: наведите** под определение класса **img. Images UL LI** и поместите курсор внутрь квадратных скобок **.**

    CSS

    [!code-css[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample3.css)]
8. Введите **Преобразование** и дважды нажмите клавишу **Tab** , чтобы вставить фрагмент преобразования. Затем введите **вращение (-15deg)** , чтобы изменить значение угла вращения при наведении на изображения.

    CSS

    [!code-css[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample4.css)]
9. Нажмите клавишу **F5** , чтобы запустить решение и перейти на страницу CSS3. Обратите внимание, что изображения имеют скругленные углы и квадратные тени. Наведите указатель мыши на изображения и посмотрите, как они поворачиваются.

    ![Фрагмент преобразования, повращающий изображение](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image20.png "Фрагмент преобразования, повращающий изображение")

    *Фрагмент преобразования, повращающий изображение*

    > [!NOTE]
    > Если вы используете Internet Explorer 10 и не видите тени, убедитесь, что для режима документа задано значение IE10 Standards. Нажмите клавишу **F12** , чтобы открыть средства разработчика Internet Explorer, и выберите **режим документа** , чтобы изменить стандарты IE10.

    ![About-us](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image21.png)

<a id="Exercise2"></a>

<a id="Exercise_2_Whats_New_in_the_HTML_Editor"></a>
### <a name="exercise-2-whats-new-in-the-html-editor"></a>Упражнение 2. новые возможности редактора HTML

Visual Studio имеет улучшенный редактор HTML. Некоторые из улучшений, реализованных в этой версии, являются интеллектуальным отступом в HTML-документах, фрагментами HTML5, открывающим и закрывающим тегами HTML и проверкой HTML. В рамках этого упражнения вы увидите, как эти изменения улучшают владение при работе в разметке веб-сайта.

Как и редактор CSS, также был улучшен редактор HTML. Большая часть этих усовершенствований является небольшим, что упрощает жизнь веб-разработчиков. Что еще больше фрагментов кода для HTML5, Интеллектуальный отступ, сопоставление открывающего и закрывающего тегов при редактировании и проверке, предназначенной для DOCTYPE документа HTML, являются некоторыми из этих усовершенствований.

<a id="Ex2Task1"></a>

<a id="Task_1_-_Improved_DOCTYPE_Validation"></a>
#### <a name="task-1---improved-doctype-validation"></a>Задача 1. Улучшенная проверка DOCTYPE

Редактор HTML теперь имеет возможность проверить DOCTYPE страницы, даже если определение может находиться на главной странице. В зависимости от типа документа, редактор HTML выполняет проверку с помощью правильного набора правил и фильтрует список IntelliSense, учитывая элементы DOCTYPE.

В этой задаче будет изменен тип документа страницы, чтобы увидеть, как именно изменяется поведение редактора HTML.

1. Если он еще не открыт, запустите **Visual Studio** и откройте решение **вхатсневаспнет. sln** , расположенное в папке **саурце\вхатсневаспнет** этой лабораторной работы.
2. Откройте страницу **site. master** .
3. Обратите внимание на целевую схему для панели инструментов проверки. Способ, которым редактор HTML (проверка, IntelliSense и т. д.) будет правильно изменен в соответствии с выбранным DOCTYPE.

    ![Использование DOCTYPE на панели инструментов редактирования исходного кода HTML](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image22.png "Использование DOCTYPE на панели инструментов редактирования исходного кода HTML")

    *Использование DOCTYPE на панели инструментов редактирования исходного кода HTML*
4. Измените целевую схему на HTML 4,01.

    ![Изменение DOCTYPE на панели инструментов редактирования исходного кода HTML](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image23.png "Изменение DOCTYPE на панели инструментов редактирования исходного кода HTML")

    *Изменение DOCTYPE на панели инструментов редактирования исходного кода HTML*
5. Поместите курсор под элементом **Body** и начните вводить имя элемента HTML5 (например, **Video**). Обратите внимание, что элемент недоступен в списке IntelliSense.

    ![Элементы HTML5, не указанные в списке](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image24.png "Элементы HTML5, не указанные в списке")

    *Элементы HTML5, не указанные в списке*
6. Отмените изменения в целевой схеме для панели инструментов проверки, выбрав DOCTYPE: XHTML5 из раскрывающегося списка.

    ![Использование DOCTYPE на панели инструментов редактирования исходного кода HTML](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image25.png "Использование DOCTYPE на панели инструментов редактирования исходного кода HTML")

    *Сброс типа документа на панели инструментов редактирования исходного кода HTML*
7. Поместите курсор под элементом **Body** и снова начните вводить элемент HTML5 (например, как **видео**). Обратите внимание, что элементы HTML5 теперь доступны в списке IntelliSense.

    ![Список элементов HTML5](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image26.png "Список элементов HTML5")

    *Список элементов HTML5*

<a id="Ex2Task2"></a>

<a id="Task_2_-_StartEnd_Tags_Automatic_Update"></a>
#### <a name="task-2---startend-tags-automatic-update"></a>Задача 2. начало и конец тегов автоматическое обновление

Теперь Visual Studio обновляет открывающий или закрывающий теги HTML элемента, который редактируется в соответствии друг с другом. Эта новая функция повысит производительность при редактировании HTML-тегов.

1. На странице **Default. aspx** добавьте элемент **H3** с заголовком (например, Visual Studio 2012 Rocks!).

    [!code-aspx[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample5.aspx)]
2. Измените тег **H3** и введите **H2** или **H1.**

    Обратите внимание, что закрывающий тег автоматически обновляется. Можно также изменить закрывающий тег, чтобы убедиться в том, что тег Start тоже обновляется соответствующим образом.

    ![Автоматическое обновление закрывающего тега](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image27.png "Автоматическое обновление закрывающего тега")

    *Автоматическое обновление закрывающего тега*

<a id="Ex2Task3"></a>

<a id="Task_3_-_New_HTML5_Code_Snippets"></a>
#### <a name="task-3---new-html5-code-snippets"></a>Задача 3. новые фрагменты кода HTML5

Visual Studio теперь включает несколько фрагментов кода HTML5. В этой задаче будут использованы некоторые из этих фрагментов кода.

1. Добавьте новую папку с именем **Audio** в корневую папку веб-сайта. Откройте проводник Windows и скопируйте любой звуковой файл в папку **Audio** решения **вхатсневаспнет. sln** .
2. На странице **Default. aspx** нахождение курсора в разделе Web11 Rocks!! Заголовок. Введите **Audio** и нажмите клавишу TAB.

    Новый редактор HTML включает фрагменты кода для содержимого HTML5. Не забудьте использовать правильное определение DOCTYPE для включения фрагментов HTML5.

    ![Вставка фрагментов кода HTML5](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image28.png "Вставка фрагментов кода HTML5")

    *Вставка фрагментов кода HTML5*
3. Обновите источник аудио, чтобы он указывал на существующий звуковой файл.

    [!code-aspx[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample6.aspx)]

    > [!NOTE]
    > Необходимо добавить звуковой файл в решение.
4. Нажмите клавишу **F5** , чтобы запустить сайт и воспроизвести звук.

    ![Запуск элемента управления аудио](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image29.png "Запуск элемента управления аудио")

    *Запуск элемента управления аудио*

    > [!NOTE]
    > Вы также можете попробовать больше фрагментов кода, входящих в Visual Studio, таких как видео, рисунок и т. д.
5. Теперь попробуйте вставить элемент управления в некоторую часть страницы. Например, попробуйте вставить элемент управления **GridView** , но вместо ввода **&lt;етке** Начните вводить **&lt;GV**. Обратите внимание, что в списке IntelliSense показан элемент управления **ASP: GridView** .

    IntelliSense в редакторе HTML теперь предоставляет поиск по регистру заголовка, а также частичное сопоставление (получение всех элементов, содержащих термин).

    ![Вставка элемента GridView со списками IntelliSense](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image30.png "Вставка элемента GridView со списками IntelliSense")

    *Вставка элемента GridView со списками IntelliSense*

    Если ввести **&lt;ную сетку** , будут получены все элементы, соответствующие условию, но Visual Studio предложит элемент управления **GridView** :

    ![Вставка элемента GridView с списками IntelliSense и частичным сопоставлением](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image31.png "Вставка элемента GridView с списками IntelliSense и частичным сопоставлением")

    *Вставка элемента GridView с списками IntelliSense и частичным сопоставлением*

<a id="Ex2Task4"></a>

<a id="Task_4_-_HTML_Editor_Smart_Tags"></a>
#### <a name="task-4---html-editor-smart-tags"></a>Задача 4. смарт-теги редактора HTML

Еще одно улучшение в редакторе HTML — это функция смарт-тегов. Интеллектуальные Теги упрощают выполнение общих или повторяющихся задач разработки для каждого элемента управления. Эта функция уже доступна в конструкторе HTML, но не в редакторе HTML.

1. Откройте **site. master** и перейдите к элементу **ASP: Menu** . Поместите курсор на открывающий тег и обратите внимание, что маленький глиф, отображаемый в нижней части элемента, щелкните его, чтобы открыть меню "Интеллектуальные задачи". Обратите внимание, что у вас есть быстрый доступ к некоторым задачам, связанным с элементом управления Menu.

    ![Интеллектуальные задачи для элемента управления Menu](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image32.png "Интеллектуальные задачи для элемента управления Menu")

    *Интеллектуальные задачи для элемента управления Menu*

<a id="Ex2Task5"></a>

<a id="Task_5_-_Smart_Indentation"></a>
#### <a name="task-5---smart-indentation"></a>Задача 5. Интеллектуальные отступы

Одним из рекомендаций в HTML является отступ вложенных элементов, чтобы код оставался читаемым. В Visual Studio 2012 можно заметить, что редактор автоматически делает отступ для элементов во время написания кода.

> [!NOTE]
> В предыдущей версии Visual Studio Интеллектуальный отступ был доступен в редакторе XML, но не в редакторе HTML.

1. Убедитесь, что для параметра Настройка отступов в редакторе HTML выбрано значение Интеллектуальный отступ. Для этого выберите **инструменты |** Пункт меню "Параметры", а затем выберите " **текстовый редактор" | HTML | Страница вкладок** в левой области экрана. Выберите параметр Интеллектуальный отступ.

    ![Параметры редактора HTML](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image33.png "Параметры редактора HTML")

    *Параметры редактора HTML*
2. На странице **Default. aspx** удалите все содержимое элемента audio.
3. Поместите курсор в конец открывающего **звукового** элемента и нажмите клавишу **Ввод**.

    Обратите внимание, что новое расположение курсора имеет дополнительный уровень отступа.

    ![Интеллектуальный отступ в редакторе HTML](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image34.png "Интеллектуальный отступ в редакторе HTML")

    *Интеллектуальный отступ в редакторе HTML*
4. Восстановите тег audio с удаленным содержимым или закройте **Default. aspx** без сохранения изменений.

<a id="Ex2Task6"></a>

<a id="Task_6_-_Extract_to_User_Control"></a>
#### <a name="task-6---extract-to-user-control"></a>Задача 6. Извлечение в пользовательский элемент управления

Средства рефакторинга, входящие в состав Visual Studio, такие как извлечение части кода в функцию, являются превосходными функциями, которые упрощают усовершенствование и рефакторинг существующего кода. Аналогом страниц ASP.NET является извлечение HTML-кода в пользовательский элемент управления. Выполнение этой процедуры вручную влечет за собой несколько шагов, таких как создание нового пользовательского элемента управления, перемещение раздела кода в пользовательский элемент управления, регистрация префикса тега для пользовательского элемента управления и, наконец, создание экземпляра пользовательского элемента управления на страницах. Теперь новое средство *извлечения в пользовательский элемент управления* автоматически выполняет все эти действия.

В этой задаче для создания нового пользовательского элемента управления из выбранного кода будет использоваться контекстная операция извлечь в пользовательский элемент управления.

1. На странице **Default. aspx** выберите элементы **H2** и **Audio** .
2. Щелкните правой кнопкой мыши и выберите **извлечь в пользовательский элемент управления**.

    ![Пункт меню "извлечь в пользовательский элемент управления"](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image35.png "Пункт меню "извлечь в пользовательский элемент управления"")

    *Пункт меню "извлечь в пользовательский элемент управления"*
3. Введите имя нового пользовательского элемента управления. Например, **сменщик. ascx**и нажмите кнопку **ОК**.

    ![Сохранение извлеченного пользовательского элемента управления](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image36.png "Сохранение извлеченного пользовательского элемента управления")

    *Сохранение извлеченного пользовательского элемента управления*
4. Обратите внимание, что выбранный код был извлечен в пользовательский элемент управления, а исходное расположение выбранного кода было заменено экземпляром нового пользовательского элемента управления.

    ![Страница автоматически обновлена для использования нового пользовательского элемента управления](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image37.png "Страница автоматически обновлена для использования нового пользовательского элемента управления")

    *Страница автоматически обновлена для использования нового пользовательского элемента управления*
5. Нажмите клавишу **F5** , чтобы запустить страницу и убедиться, что элемент управления работает.

<a id="Exercise3"></a>

<a id="Exercise_3_Whats_New_in_the_JavaScript_Editor"></a>
### <a name="exercise-3-whats-new-in-the-javascript-editor"></a>Упражнение 3. новые возможности редактора JavaScript

Написание или редактирование кода JavaScript — это не простая задача, особенно в том случае, когда приложение начинает расти по размеру и вы можете работать с длинными файлами и сотнями функций. Разработчики сценариев, как правило, должны выполнять некоторую дополнительную работу, чтобы поддерживать читаемость кода и перемещаться по файлам. Благодаря включению библиотек JavaScript, таких как jQuery, Навигация в сценариях стала очень сложной задачей из-за длины кода.

Visual Studio обновила редактор JavaScript с обещанием, чтобы обеспечить доступ и упорядочение режима кода. Многие функции Visual Studio, которые уже существовали в C# или РЕДАКТОРах VB, теперь реализуются в редакторе JavaScript: перейдите к определению, автоматически расстановку отступов, документацию и проверку при написании. Благодаря обновленному списку IntelliSense вы получите каталог функций JavaScript.

В этом упражнении вы узнаете о новых возможностях и улучшениях редактора JavaScript. Вы просматриваете образцы файлов и узнаете о новых характеристиках, которые сделают программирование JavaScript более эффективным в рамках Visual Studio 2012.

<a id="Ex3Task1"></a>

<a id="Task_1_-_JavaScript_Editor_New_Features"></a>
#### <a name="task-1---javascript-editor-new-features"></a>Задача 1. новые возможности редактора JavaScript

Эта задача познакомит вас с некоторыми новыми функциями редактора JavaScript, в которых основное внимание уделяется организации кода и повышению удобства работы пользователей.

1. Если он еще не открыт, запустите **Visual Studio** и откройте решение **вхатсневаспнет. sln** , расположенное в папке **саурце\вхатсневаспнет** этой лабораторной работы.
2. Нажмите клавишу **F5** , чтобы запустить приложение, а затем щелкните ссылку JavaScript на панели навигации. Обновите страницу несколько раз и проверьте, как увеличивается значение счетчика.

    ![Счетчик страниц](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image38.png "Счетчик страниц")

    *Счетчик страниц*
3. Закройте браузер и вернитесь в Visual Studio.
4. Откройте страницу **JavaScript. aspx** и перейдите к блоку **&gt;скрипта&lt;** (как показано ниже).

    Следующий код использует локальное хранилище HTML5 для хранения переменной *пажелоадкаунт* , в которой хранится количество посещений страницы текущим пользователем. Локальное хранилище — это клиентская база данных значений, появившаяся в HTML5. Данные сохраняются на локальном компьютере в браузере пользователя.

    [!code-html[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample7.html)]

    > [!NOTE]
    > Убедитесь, что для DOCTYPE задано значение XHTML5, прежде чем переходить к следующему этапу.
5. Измените код и обратите внимание, что IntelliSense для JavaScript включает функции HTML5, такие как локальное хранилище, и их внутренние методы.

    ![Функции JavaScript в HTML5 в JavaScript](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image39.png "Функции JavaScript в HTML5 в JavaScript")

    *Функции JavaScript в HTML5 в JavaScript*
6. Щелкните любую открывающую скобку ( **{** ) из кода скрипта и обратите внимание, что скобки выделены.

    ![Скобки выделены](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image40.png "Скобки выделены")

    *Скобки выделены*
7. Раскомментируйте функцию **тестаутоалигн ()** (выберите три строки и можно использовать **CTRL** + **K**; **CTRL** + **U**) и нахождение курсора внутри кода функции. Нажмите клавишу ВВОД, чтобы добавить вторую строку. Обратите внимание, что теперь код **выровнен** и имеет **Автоматическое отступ**.

    ![Код JavaScript с автоподбором](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image41.png "Код JavaScript с автоподбором")

    *Код JavaScript с автоподбором*

<a id="Ex3Task2"></a>

<a id="Task_2_-_Validating_JavaScript"></a>
#### <a name="task-2---validating-javascript"></a>Задача 2. Проверка JavaScript

В этой задаче будет обнаружена новая проверка JavaScript для стандарта ECMAScript5. Эта функция поможет вам написать совместимый код JavaScript и избежать проблем со сценариями перед развертыванием сайта.

> [!NOTE]
> Visual Studio 2010 реализовала соответствие ECMAStript3, а Visual Studio 2012 обеспечивает соответствие ECMAScript5.

1. Откройте **ECMA5script5. js** , расположенный в папке проекта **скриптс\кустом** . Теперь вы проверите проверку для ECMAScript5 Standard.

    [!code-html[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample8.html)]

    Вы можете узнать, &quot; **использовать** в первой строке файла &quot; направление, что обеспечивает **режим**ECMAScript5. Этот режим состоит из подмножества языка, в котором уточнены неоднозначности из прошлого выпуска, и добавляются некоторые новые функции, такие как методы получения и установки, поддержка библиотек для JSON и более полное отражение свойств объекта.
2. Откройте **Список ошибок** , если он еще не открыт (меню "**вид** " | **Список ошибок**). Обратите внимание, что объявление **функции** подчеркнуто. Это обусловлено тем, что в стандартных функциях ECMA5 не могут быть вложены в языковые структуры. В списке ошибок ниже отображаются сведения о предупреждении.

    ![Сообщение об ошибке проверки JavaScript](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image42.png "Сообщение об ошибке проверки JavaScript")

    *Сообщение об ошибке проверки JavaScript*
3. Закомментируйте **&quot;использовать&quot;** направление и обратите внимание, что ошибки исчезают, но предупреждения остаются.
4. В последней строке файла напишите любую строку, например **&quot;тестовую&quot;** (включите кавычки, чтобы указать, что это строка в виде строки). Напишите точку рядом со строкой, чтобы отобразить список IntelliSense, и выберите параметр **Trim** .

    В ECMAScript5 Standard строковые значения и переменные также имеют определенные строковые методы, такие как Trim, прописные и строчные буквы, Поиск и замена.

    ![Список IntelliSense в JavaScript](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image43.png "Список IntelliSense в JavaScript")

    *Список IntelliSense в JavaScript*

<a id="Ex3Task3"></a>

<a id="Task_3_-_XML_Documentation_for_JavaScript"></a>
#### <a name="task-3---xml-documentation-for-javascript"></a>Задача 3. документация по XML для JavaScript

В этой задаче будут рассмотрены функции Visual Studio для XML-документации в JavaScript. В списке JavaScript IntelliSense теперь отображается XML-документация по каждой функции. Кроме того, вы обнаружите функцию навигации в JavaScript.

1. Откройте файл **XMLDoc. js** , расположенный в папке **Scripts/Custom** Project. Этот файл содержит XML-документацию по каждой из функций JavaScript.

    ![XML-документация JavaScript, интегрированная с IntelliSense](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image44.png "XML-документация JavaScript, интегрированная с IntelliSense")

    *XML-документация JavaScript, интегрированная с IntelliSense*
2. Ниже **добавьте** функцию в файл **XMLDoc. js** , создайте новую функцию с именем **Test**.
3. В **тестовой** функции вызовите функцию **умножения** , которая принимает два параметра. Обратите внимание, что в поле Подсказка отображается документация по функциям **перемножения** .

    [!code-javascript[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample9.js)]

    ![Документация по XML для функций JavaScript](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image45.png "Документация по XML для функций JavaScript")

    *Документация по XML для функций JavaScript*
4. Завершите инструкцию вызова функции и введите *точку* , чтобы открыть список IntelliSense для возвращаемого значения. Обратите внимание, что Visual Studio обнаруживает **возвращаемое** значение в документации, рассматривая значение как число.

    ![Документация XML для возвращаемых типов](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image46.png "Документация XML для возвращаемых типов")

    *Документация XML для возвращаемых типов*
5. Теперь вставьте вызов функции добавить функцию. Обратите внимание, что редактор JavaScript теперь поддерживает перегрузки функций. При написании имени функции вы сможете выбрать любую из доступных перегрузок, указанных в документации.

    ![XML-документация по перегрузкам](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image47.png "XML-документация по перегрузкам")

    *XML-документация по перегрузкам*
6. Откройте файл **готодефинитион. js** и перейдите к вызову функции **$ (). HTML ()** . Нахождение курсора на **HTML**.
7. Нажмите клавишу **F12** и перейдите к определению. Обратите внимание, что теперь вы можете получать доступ к коду JavaScript и просматривать его без использования средства **поиска** .
8. Нахождение курсора в инструкции jQuery перед блоком сигнатур в нижней части файла кода. Нажмите клавишу **F12**. Будет выполнен переход к файлу библиотеки jQuery. Обратите внимание, что можно также перемещаться по файлам jQuery с помощью **F12**.

    ![Переход к определениям jQuery](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image48.png "Переход к определениям jQuery")

    *Переход к определениям jQuery*

> [!NOTE]
> Убедитесь, что в Готодефинитион. js нет синтаксических ошибок, прежде чем сохранять файл.

<a id="Exercise4"></a>

<a id="Exercise_4_Bundling_and_Minification"></a>
### <a name="exercise-4-bundling-and-minification"></a>Упражнение 4. объединение и минификации

Сколько раз веб-сайты содержат более одного файла JavaScript или CSS? Это очень распространенный сценарий, в котором объединение и минификации могут помочь уменьшить размер файла и сделать сайт более быстрым. Новая функция объединения в ASP.NET 4,5 упаковывает набор файлов JS или CSS в один элемент и уменьшает его размер, Минификация содержимое (т. е. удаление необязательных пробелов, удаление комментариев, сокращение идентификаторов).

Объединение и минификации в ASP.NET 4,5 выполняется во время выполнения, чтобы процесс мог определять агент пользователя (например, IE, Mozilla и т. д.) и, таким образом, улучшить сжатие, нацеливание на пользовательский браузер (например, удалив все компоненты, относящиеся к Mozilla Когда запрос поступает из IE).

В этом упражнении вы узнаете, как включить и использовать различные типы объединения и минификации в ASP.NET 4,5.

<a id="Ex4Task1"></a>

<a id="Task_1_-_Installing_the_Bundling_and_Minification_Package_from_NuGet"></a>
#### <a name="task-1---installing-the-bundling-and-minification-package-from-nuget"></a>Задача 1. Установка пакета для объединения и минификации из NuGet

1. Если он еще не открыт, запустите **Visual Studio** и откройте решение **вхатсневаспнет. sln** , расположенное в папке **саурце\вхатсневаспнет** этой лабораторной работы.
2. Откройте консоль диспетчера пакетов NuGet. Для этого используйте **представление** меню | другой **консоли диспетчера пакетов** | **Windows** .

    ![Открытие диспетчера пакетов file:///C:/Users/User/AppData/Local/Temp/Marker3744//media/44462/Multiple-Stylesheets-and-JavaScript-files-in-the-application.pngconsole](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image49.png "Открытие консоли диспетчера пакетов")

    *Открытие консоли диспетчера пакетов*
3. В **консоли диспетчера пакетов** введите **Install-Package Microsoft. Web. Optimization** и нажмите клавишу **Ввод**.

<a id="Ex4Task2"></a>

<a id="Task_2_-_Default_Bundles"></a>
#### <a name="task-2---default-bundles"></a>Задача 2. пакеты по умолчанию

Самый простой способ использовать объединение и минификации — включить пакеты по умолчанию. В этом методе используются соглашения, позволяющие ссылаться на Объединенную и минифицированные версию файлов JS и CSS в папке.

В этой задаче вы узнаете, как включить и сослаться на пакеты и файлы минифицированные JS и CSS, а также просмотреть полученные выходные данные.

1. Если он еще не открыт, запустите **Visual Studio** и откройте решение **вхатсневаспнет. sln** , расположенное в папке **саурце\вхатсневаспнет** этой лабораторной работы.
2. В **Обозреватель решений**разверните папки **styles**, **скриптс\кустом** и **скриптс\бундле** .

    Обратите внимание, что приложение использует более одного файла CSS и JS.

    ![Несколько таблиц стилей и файлов JavaScript в приложении](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image50.png "Несколько таблиц стилей и файлов JavaScript в приложении")

    *Несколько таблиц стилей и файлов JavaScript в приложении*
3. Откройте файл **Global.asax.CS** .

    Обратите внимание, что новое пространство имен **Microsoft. Web. Optimization** записывается в комментарий в начале файла. Раскомментируйте директиву using, чтобы включить в нее функции объединения и минификации.

    [!code-csharp[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample10.cs)]
4. Откройте метод **\_запуск приложения** .

    В этом методе раскомментируйте вызов Енабледефаултбундлес, как показано в следующем фрагменте кода. Это позволяет сослаться на объединенную коллекцию CSS-файлов в папку, используя путь к этой папке, а также &quot;&quot; CSS или суффикс &quot;JS&quot;.

    [!code-csharp[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample11.cs)]
5. Откройте файл **Optimization. aspx** и выберите элемент управления содержимым для **HeadContent**.

    Обратите внимание, что файлы CSS и JS-файлы имеют один тег, на который указывает ссылка.

    [!code-aspx[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample12.aspx)]

    > [!NOTE]
    > Этот код предназначен для демонстрационных целей. В идеале вы будете ссылаться на пакеты в файле Site. master. В этом примере кода вы обнаружите, что на некоторые из упакованных файлов также ссылается файл Site. master, что делает эту последнюю ссылку избыточной.
6. Обратите внимание, что ссылки используют соглашения о объединениях в атрибуте **href** для получения всех файлов CSS или JS из папки Styles and скриптс\кустом соответственно.

    Чтобы объединить и уменьшение все JS-файлы в **скрипты или пользовательские** папки, можно использовать **скрипты пути/Custom/JS** , как показано ниже. Это поведение по умолчанию для пакетов по умолчанию.

    [!code-aspx[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample13.aspx)]
7. Откройте файл **стилес\сите.КСС** .

    Обратите внимание, что исходный файл CSS содержит код с отступами, пробелы и комментарии, увеличивающие размер файла. (Кроме того, файл JavaScript содержит пробелы и комментарии).

    ![Один из исходных файлов CSS в папке Scripts](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image51.png "Один из исходных файлов CSS в папке Scripts")

    *Один из исходных файлов CSS в папке Scripts*
8. Нажмите клавишу **F5** , чтобы запустить приложение, и перейдите на страницу **Оптимизация** .
9. Щелкните ссылку на **пакет CSS** , чтобы скачать и открыть файл.

    Ознакомьтесь с файлом в объединенном файле минифицированные. Вы заметите, что удалены все пробелы, комментарии и символы отступов, что приводит к созданию файла меньшего размера.

    ![Объединенные CSS файлы](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image52.png "Объединенные CSS файлы")

    *Объединенные CSS файлы*
10. Теперь щелкните ссылку **пакет JS** , чтобы открыть файл, Объединенный в JavaScript. Предупреждение обозревателя можно спокойно игнорировать. Обратите внимание, что файлы JavaScript в **пользовательской** папке также объединены в пакеты и минифицированные.

    ![Объединенные файлы JavaScript](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image53.png "Объединенные файлы JavaScript")

    *Объединенные файлы JavaScript*

    Включение сжатия для файлов CSS или JS было гораздо более сложным в предыдущей версии ASP.NET. Теперь, как вы уже видели, нужно просто добавить одну строку в файл *Global. asax* , чтобы включить объединение, а затем ссылаться на упакованные файлы с сайта.

<a id="Ex4Task3"></a>

<a id="Task_3_-_Static_Bundles"></a>
#### <a name="task-3---static-bundles"></a>Задача 3. статические пакеты

Подход со статическими пакетами позволяет настроить набор файлов в пакет, ссылку и метод минификации, которые будут использоваться.

В этой задаче будет настроен статический пакет для определения определенного набора файлов, которые будут объединены в пакет и уменьшение.

1. Закройте браузер.
2. Откройте файл **Global.asax.CS** и перейдите к методу **\_запуск приложения** .
3. Раскомментируйте код статического пакета, как показано в приведенном ниже коде.

    Вы определяете статический пакет, на который будет ссылаться &quot; **~/статикбундле**&quot; виртуальный путь и использовать **жсминифи** для минификации всех указанных файлов с помощью метода **AddFile** . Наконец, вы добавляете статический пакет в **бундлетабле** и включаете его.

    Обратите внимание, что файлы находятся в разных местах. Это еще одно преимущество по сравнению с объединением по умолчанию.

    [!code-csharp[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample14.cs)]
4. Откройте файл **Optimization. aspx** .

    Обратите внимание, что ссылка на **статический пакет JS** использует путь, который был объявлен при настройке статического пакета в файле Global.asax.cs: **/статикбундле**.

    [!code-aspx[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample15.aspx)]
5. Нажмите клавишу **F5** , чтобы запустить приложение, а затем перейдите на страницу **Оптимизация** .
6. Щелкните ссылку **статический пакет JS** , чтобы открыть файл.

    Обратите внимание, что файл JavaScript, Объединенный в минифицированные, является выходными данными для всех файлов JavaScript, настроенных в файле статического пакета по пути &quot;/Статикбундле&quot;.

    ![Пакет статических файлов JavaScript](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image54.png "Пакет статических файлов JavaScript")

    *Пакет статических файлов JavaScript*
7. Закройте браузер и вернитесь в Visual Studio.

<a id="Ex4Task4"></a>

<a id="Task_4_-_Dynamic_Folder_Bundles"></a>
#### <a name="task-4---dynamic-folder-bundles"></a>Задача 4. динамические пакеты папок

В этой задаче вы узнаете, как настроить динамические пакеты папок. Мощь динамического объединения заключается в том, что можно включить статический код JavaScript, а также другие файлы на языках, компилируемых в JavaScript, и, таким образом, требовать некоторой обработки перед выполнением объединения.

В этом примере вы узнаете, как использовать класс **динамикфолдербундле** для создания динамического пакета для файлов, написанных в кофискрипт. Кофискрипт — это язык программирования, который компилируется в JavaScript и предоставляет более простой синтаксис для написания кода JavaScript, повышая простоту и удобочитаемость JavaScript.

1. Откройте файл **Global.asax.CS** и перейдите к методу **\_запуск приложения** .
2. Раскомментируйте код динамического пакета, как показано в приведенном ниже коде.

    Вы определяете динамический пакет папок, который будет использовать пользовательский процессор **коффиминифи** минификации, который будет применяться только к файлам с расширением &quot; **. кофе**&quot; (файлы CoffeeScript). Обратите внимание, что можно использовать шаблон поиска, чтобы выбрать файлы для объединения в папке, например "\*. кофе".

    [!code-csharp[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample16.cs)]
3. Откройте консоль диспетчера пакетов NuGet. Для этого используйте **представление** меню | другой **консоли диспетчера пакетов** | **Windows** .
4. В **консоли диспетчера пакетов** введите **Install-Package коффишарп** и нажмите клавишу **Ввод**.
5. Нажмите кнопку " **Показывать все файлы** " в окне **Обозреватель решений**

    ![Показаны все файлы](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image55.png "Показаны все файлы")

    *Показаны все файлы*
6. Щелкните правой кнопкой мыши файл **CoffeeMinify.CS** в **Обозреватель решений** и выберите **включить в проект** .

    ![Включить файл CoffeeMinify.cs в проект](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image56.png "Включить файл CoffeeMinify.cs в проект")

    *Включить файл CoffeeMinify.cs в проект*
7. Откройте файл **CoffeeMinify.CS** .

    Этот класс наследует от Жсминифи, чтобы уменьшение выходные данные JavaScript, полученные в результате компиляции кода CoffeeScript. Он вызывает компилятор CoffeeScript для предварительного создания кода JavaScript, а затем отправляет его методу Жсминифи. Process, чтобы уменьшение результирующий код.

    [!code-csharp[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample17.cs)]
8. Откройте файлы **Script1. кофе** и **Script2. кофе** из папки **Scripts/пакета** .

    Эти файлы будут содержать код Коффескрипт для компиляции при выполнении объединения с классом Коффиминифи.

    В целях простоты предоставленные файлы CoffeeScript включают только пример кода CoffeeScript. Комментарии исключаются в процессе Жсминифи.

    ![Файлы CoffeeScript](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image57.png "Файлы CoffeeScript")

    *Файлы CoffeeScript*

    > [!NOTE]
    > [Кофискрипт](https://github.com/jashkenas/coffeescript/) предоставляет более простой синтаксис для написания кода JavaScript, улучшения краткости и удобочитаемости JavaScript, а также добавление других функций, таких как охват массива и сопоставление шаблонов.
9. Откройте файл **Optimization. aspx** и выберите ссылки на набор.

    Обратите внимание, что ссылка на **динамический пакет JS** ссылается на папку **Scripts/пакета** с помощью суффикса **/Коффи** , настроенного для пакета динамических папок.

    [!code-aspx[Main](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/samples/sample18.aspx)]
10. Нажмите клавишу **F5** , чтобы запустить приложение, а затем перейдите на страницу **Оптимизация** .
11. Щелкните ссылку **динамический пакет JS** , чтобы открыть созданный файл.

    Обратите внимание, что содержимое, включенное в этот пакет, содержит файлы **. кофе** . Можно также увидеть, что код CoffeeScript был скомпилирован в JavaScript, а строки с комментариями удалены.

    ![Пакет динамических файлов JS](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image58.png "Пакет динамических файлов JS")

    *Пакет динамических файлов JS*

> [!NOTE]
> Кроме того, это приложение можно развернуть на веб-сайтах Windows Azure в [приложении б: Публикация приложения ASP.NET MVC 4 с помощью веб-развертывание](#AppendixB).

<a id="Summary"></a>
## <a name="summary"></a>Сводка

Эта лабораторная работа поможет вам понять, что нового в ASP.NET и веб-разработке в Visual Studio 2012 и как воспользоваться преимуществами различных усовершенствований в Visual Studio 2012.

Выполняя эту практическую лабораторию, вы узнаете, как использовать новые функции и усовершенствования в редакторах Visual Studio 2012 для CSS, JavaScript и HTML. Кроме того, вы узнали, как Visual Studio 2012 реализует встроенные объединения и минификации.

<a id="AppendixA"></a>

<a id="Appendix_A_Installing_Visual_Studio_Express_2012_for_Web"></a>
## <a name="appendix-a-installing-visual-studio-express-2012-for-web"></a>Приложение а. Установка Visual Studio Express 2012 для Web

Вы можете установить **Microsoft Visual Studio Express 2012 для Web** или другой &quot;Express&quot; версии с помощью **[установщик веб-платформы Майкрософт](https://www.microsoft.com/web/downloads/platform.aspx)** . Следующие инструкции помогут вам выполнить действия, необходимые для установки *Visual Studio Express 2012 для Web* с помощью *установщик веб-платформы Майкрософт*.

1. Перейдите в [[https://go.microsoft.com/?linkid=9810169](https://go.microsoft.com/?linkid=9810169)](https://go.microsoft.com/?linkid=9810169). Кроме того, если у вас уже установлен установщик веб-платформы, вы можете открыть его и найти продукт &quot;<em>Visual Studio Express 2012 для Web с Windows Azure SDK</em>&quot;.
2. Щелкните **Install Now (установить сейчас**). Если у вас нет **установщика веб-платформы** , вы будете сначала перенаправлены на загрузку и установку.
3. После открытия **установщика веб-платформы** нажмите кнопку **установить** , чтобы начать установку.

    ![Установка Visual Studio Express](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image59.png "Установка Visual Studio Express")

    *Установка Visual Studio Express*
4. Прочитайте все лицензии и условия продуктов и нажмите кнопку " **принять** ", чтобы продолжить.

    ![Принятие условий лицензии](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image60.png)

    *Принятие условий лицензии*
5. Дождитесь завершения процесса загрузки и установки.

    ![Ход установки](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image61.png)

    *Ход установки*
6. После завершения установки нажмите кнопку **Готово**.

    ![Установка завершена](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image62.png)

    *Установка завершена*
7. Нажмите кнопку **выход** , чтобы закрыть установщик веб-платформы.
8. Чтобы открыть Visual Studio Express для Интернета, перейдите на **начальный** экран и начните запись &quot;**VS Express**&quot;, а затем щелкните плитку **VS Express для Web** .

    ![Плитка VS Express для Web](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image63.png)

    *Плитка VS Express для Web*

---

<a id="AppendixB"></a>

<a id="Appendix_B_Publishing_an_ASPNET_MVC_4_Application_using_Web_Deploy"></a>
## <a name="appendix-b-publishing-an-aspnet-mvc-4-application-using-web-deploy"></a>Приложение б. Публикация приложения ASP.NET MVC 4 с помощью веб-развертывание

В этом приложении показано, как создать новый веб-сайт из портал управления Windows Azure и опубликовать полученное приложение, выполнив следующие лабораторные занятия, используя возможности публикации веб-развертывание, предоставляемые Windows Azure.

<a id="Ex1Task1"></a>

<a id="Task_1_-_Creating_a_New_Web_Site_from_the_Windows_Azure_Portal"></a>
#### <a name="task-1---creating-a-new-web-site-from-the-windows-azure-portal"></a>Задача 1. Создание нового веб-сайта на портале Windows Azure

1. Перейдите в [портал управления Windows Azure](https://manage.windowsazure.com/) и выполните вход с использованием учетных данных Майкрософт, связанных с подпиской.

    > [!NOTE]
    > С помощью Windows Azure можно бесплатно разместить 10 веб-сайтов ASP.NET, а затем масштабировать их по мере роста объема трафика. Вы можете зарегистрироваться [здесь](https://aka.ms/aspnet-hol-azure).

    ![Вход в Windows портал Azure](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image64.png "Вход в Windows портал Azure")

    *Вход в Windows Azure портал управления*
2. На панели команд щелкните **создать** .

    ![Создание нового веб-сайта](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image65.png "Создание нового веб-сайта")

    *Создание нового веб-сайта*
3. Щелкните **Compute** | **веб-сайт**. Затем выберите пункт **Быстрое создание** . Предоставьте доступный URL-адрес для нового веб-сайта и щелкните **создать веб-сайт**.

    > [!NOTE]
    > Веб-сайт Windows Azure — это узел для веб-приложения, работающего в облаке, которыми можно управлять и которыми вы управляете. Параметр Быстрое создание позволяет развернуть завершенное веб-приложение на веб-сайте Windows Azure извне портала. Он не включает шаги по настройке базы данных.

    ![Создание нового веб-сайта с помощью быстрого создания](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image66.png "Создание нового веб-сайта с помощью быстрого создания")

    *Создание нового веб-сайта с помощью быстрого создания*
4. Дождитесь создания нового **веб-сайта** .
5. После создания веб-сайта щелкните ссылку в столбце **URL-адрес** . Убедитесь, что новый веб-сайт работает.

    ![Обзор нового веб-сайта](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image67.png "Обзор нового веб-сайта")

    *Обзор нового веб-сайта*

    ![Веб-сайт работает](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image68.png "Веб-сайт работает")

    *Веб-сайт работает*
6. Вернитесь на портал и щелкните имя веб-сайта в столбце **имя** , чтобы отобразить страницы управления.

    ![Открытие страниц управления веб-сайтом](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image69.png "Открытие страниц управления веб-сайтом")

    *Открытие страниц управления веб-сайтом*
7. На странице **панель мониторинга** в разделе **краткий обзор** щелкните ссылку **скачать профиль публикации** .

    > [!NOTE]
    > *Профиль публикации* содержит все сведения, необходимые для публикации веб-приложения на веб-сайте Windows Azure для каждого включенного метода публикации. Профиль публикации содержит URL-адреса, учетные данные пользователей и строки для открытия базы данных, которые необходимы для проверки подлинности и подключения к каждой из конечных точек, соответствующей разрешенному методу публикации. **Microsoft WebMatrix 2**, **Microsoft Visual Studio Express для Web** и **Microsoft Visual Studio 2012** поддерживают чтение профилей публикации для автоматизации настройки этих программ для публикации веб-приложений на веб-сайтах Windows Azure.

    ![Скачивание профиля публикации веб-сайта](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image70.png "Скачивание профиля публикации веб-сайта")

    *Скачивание профиля публикации веб-сайта*
8. Скачайте файл профиля публикации в известное расположение. Далее в этом упражнении вы узнаете, как использовать этот файл для публикации веб-приложения на веб-сайтах Windows Azure из Visual Studio.

    ![Сохранение файла профиля публикации](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image71.png "Сохранение профиля публикации")

    *Сохранение файла профиля публикации*

<a id="Ex1Task2"></a>

<a id="Task_2_-_Configuring_the_Database_Server"></a>
#### <a name="task-2---configuring-the-database-server"></a>Задача 2. Настройка сервера базы данных

Если приложение использует SQL Server базы данных, потребуется создать сервер базы данных SQL. Если вы хотите развернуть простое приложение, которое не использует SQL Server вы можете пропустить эту задачу.

1. Для хранения базы данных приложения необходим сервер базы данных SQL. Серверы базы данных SQL можно просмотреть в подписке на портале управления Windows Azure в **базах данных sql** | **серверы** | **панели мониторинга сервера**. Если сервер не создан, можно создать его с помощью кнопки **Добавить** на панели команд. Запишите **имя сервера и URL-адрес, имя для входа администратора и пароль**, так как они будут использоваться в следующих задачах. Пока не создавайте базу данных, так как она будет создана на более позднем этапе.

    ![Панель мониторинга сервера базы данных SQL](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image72.png "Панель мониторинга сервера базы данных SQL")

    *Панель мониторинга сервера базы данных SQL*
2. В следующей задаче вы проверите подключение к базе данных из Visual Studio. по этой причине необходимо включить локальный IP-адрес в список **разрешенных IP-адресов**сервера. Для этого щелкните **настроить**, выберите IP-адрес из списка **текущий клиент IP** и вставьте его в текстовые поля **начальный IP-адрес** и **конечный IP-адрес** . Введите имя правила и нажмите кнопку ![добавить-Client-IP-Address-ОК-кнопка](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image73.png).

    ![Добавление IP-адреса клиента](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image74.png)

    *Добавление IP-адреса клиента*
3. После добавления **IP-адреса клиента** в список Разрешенные IP-адреса нажмите кнопку **сохранить** , чтобы подтвердить изменения.

    ![Подтверждение изменений](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image75.png)

    *Подтверждение изменений*

<a id="Ex1Task3"></a>

<a id="Task_3_-_Publishing_an_ASPNET_MVC_4_Application_using_Web_Deploy"></a>
#### <a name="task-3---publishing-an-aspnet-mvc-4-application-using-web-deploy"></a>Задача 3. Публикация приложения ASP.NET MVC 4 с помощью веб-развертывание

1. Вернитесь к решению ASP.NET MVC 4. В **Обозреватель решений**щелкните правой кнопкой мыши проект веб-сайта и выберите **опубликовать**.

    ![Публикация приложения](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image76.png "Публикация приложения")

    *Публикация веб-сайта*
2. Импортируйте профиль публикации, сохраненный в первой задаче.

    ![Импорт профиля публикации](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image77.png "Импорт профиля публикации")

    *Импорт профиля публикации*
3. Щелкните **проверить подключение**. После завершения проверки нажмите кнопку **Далее**.

    > [!NOTE]
    > Проверка завершится, когда появится зеленая галочка рядом с кнопкой проверить подключение.

    ![Проверка подключения](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image78.png "Проверка подключения")

    *Проверка подключения*
4. На странице **Параметры** в разделе **базы данных** нажмите кнопку рядом с текстовым полем подключения к базе данных (т. е. **DefaultConnection**).

    ![Конфигурация веб-развертывания](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image79.png "Конфигурация веб-развертывания")

    *Конфигурация веб-развертывания*
5. Настройте подключение к базе данных следующим образом.

   - В поле **имя сервера** введите URL-адрес сервера базы данных SQL с помощью префикса *TCP:* .
   - В окне **имя пользователя** введите имя для входа администратора сервера.
   - В окне **пароль** введите пароль для входа администратора сервера.
   - Введите имя новой базы данных, например: *MVC4SampleDB*.

     ![Настройка строки подключения к целевому объекту](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image80.png "Настройка строки подключения к целевому объекту")

     *Настройка строки подключения к целевому объекту*
6. Нажмите кнопку **ОК**. При появлении запроса на создание базы данных нажмите кнопку **Да**.

    ![Создание базы данных](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image81.png "Создание строки базы данных")

    *Создание базы данных*
7. Строка подключения, которая будет использоваться для подключения к базе данных SQL в Windows Azure, отображается в текстовом поле подключения по умолчанию. Затем нажмите кнопку **Далее**.

    ![Строка подключения, указывающая на базу данных SQL](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image82.png "Строка подключения, указывающая на базу данных SQL")

    *Строка подключения, указывающая на базу данных SQL*
8. На странице **Предварительный просмотр** нажмите кнопку **опубликовать**.

    ![Публикация веб-приложения](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image83.png "Публикация веб-приложения")

    *Публикация веб-приложения*
9. По завершении процесса публикации браузер по умолчанию будет открывать опубликованный веб-сайт.

    ![Приложение, опубликованное в Windows Azure](whats-new-in-aspnet-and-web-development-in-visual-studio-2012/_static/image84.png "Приложение, опубликованное в Windows Azure")

    *Приложение, опубликованное в Windows Azure*
