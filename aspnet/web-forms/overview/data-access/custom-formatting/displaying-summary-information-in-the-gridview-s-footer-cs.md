---
uid: web-forms/overview/data-access/custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs
title: Отображение сводных данных в нижнем колонтитуле GridView (C#) | Документация Майкрософт
author: rick-anderson
description: Сводные данные часто отображаются в нижней части отчета в строке сводки. Элемент управления GridView может содержать строку нижнего колонтитула, ячейки которой мы можем использовать...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: d50edc31-9286-4c6a-8635-be09e72752a4
msc.legacyurl: /web-forms/overview/data-access/custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs
msc.type: authoredcontent
ms.openlocfilehash: b258a2bdeaea8da4e9c5c5d8043b167d94e1e817
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78441780"
---
# <a name="displaying-summary-information-in-the-gridviews-footer-c"></a><span data-ttu-id="2086c-104">Отображение сводной информации в нижнем колонтитуле элемента управления GridView (C#)</span><span class="sxs-lookup"><span data-stu-id="2086c-104">Displaying Summary Information in the GridView's Footer (C#)</span></span>

<span data-ttu-id="2086c-105">по [Скотт Митчелл](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="2086c-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="2086c-106">[Скачивание примера приложения](https://download.microsoft.com/download/9/6/9/969e5c94-dfb6-4e47-9570-d6d9e704c3c1/ASPNET_Data_Tutorial_15_CS.exe) или [Загрузка PDF-файла](displaying-summary-information-in-the-gridview-s-footer-cs/_static/datatutorial15cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="2086c-106">[Download Sample App](https://download.microsoft.com/download/9/6/9/969e5c94-dfb6-4e47-9570-d6d9e704c3c1/ASPNET_Data_Tutorial_15_CS.exe) or [Download PDF](displaying-summary-information-in-the-gridview-s-footer-cs/_static/datatutorial15cs1.pdf)</span></span>

> <span data-ttu-id="2086c-107">Сводные данные часто отображаются в нижней части отчета в строке сводки.</span><span class="sxs-lookup"><span data-stu-id="2086c-107">Summary information is often displayed at the bottom of the report in a summary row.</span></span> <span data-ttu-id="2086c-108">Элемент управления GridView может включать строку нижнего колонтитула, в которой можно программно внедрять статистические данные.</span><span class="sxs-lookup"><span data-stu-id="2086c-108">The GridView control can include a footer row into whose cells we can programmatically inject aggregate data.</span></span> <span data-ttu-id="2086c-109">В этом учебнике мы посмотрим, как отображать статистические данные в этой строке нижнего колонтитула.</span><span class="sxs-lookup"><span data-stu-id="2086c-109">In this tutorial we'll see how to display aggregate data in this footer row.</span></span>

## <a name="introduction"></a><span data-ttu-id="2086c-110">Введение</span><span class="sxs-lookup"><span data-stu-id="2086c-110">Introduction</span></span>

<span data-ttu-id="2086c-111">В дополнение к просмотру каждой цены продуктов, единиц на складе, единиц по заказу и переупорядочения, пользователь может также заинтересовать статистические сведения, такие как средняя цена, общее количество единиц на складе и т. д.</span><span class="sxs-lookup"><span data-stu-id="2086c-111">In addition to seeing each of the products' prices, units in stock, units on order, and reorder levels, a user might also be interested in aggregate information, such as the average price, the total number of units in stock, and so on.</span></span> <span data-ttu-id="2086c-112">Такие сводные сведения часто отображаются в нижней части отчета в строке сводки.</span><span class="sxs-lookup"><span data-stu-id="2086c-112">Such summary information is often displayed at the bottom of the report in a summary row.</span></span> <span data-ttu-id="2086c-113">Элемент управления GridView может включать строку нижнего колонтитула, в которой можно программно внедрять статистические данные.</span><span class="sxs-lookup"><span data-stu-id="2086c-113">The GridView control can include a footer row into whose cells we can programmatically inject aggregate data.</span></span>

<span data-ttu-id="2086c-114">Эта задача предоставляет нам три проблемы:</span><span class="sxs-lookup"><span data-stu-id="2086c-114">This task presents us with three challenges:</span></span>

1. <span data-ttu-id="2086c-115">Настройка GridView для вывода строки нижнего колонтитула</span><span class="sxs-lookup"><span data-stu-id="2086c-115">Configuring the GridView to display its footer row</span></span>
2. <span data-ttu-id="2086c-116">Определение сводных данных; то есть как вычислить среднюю цену или сумму единиц в запасах?</span><span class="sxs-lookup"><span data-stu-id="2086c-116">Determining the summary data; that is, how do we compute the average price or the total of the units in stock?</span></span>
3. <span data-ttu-id="2086c-117">Внедрение сводных данных в соответствующие ячейки строки нижнего колонтитула</span><span class="sxs-lookup"><span data-stu-id="2086c-117">Injecting the summary data into the appropriate cells of the footer row</span></span>

<span data-ttu-id="2086c-118">В этом учебнике мы посмотрим, как преодолеть эти трудности.</span><span class="sxs-lookup"><span data-stu-id="2086c-118">In this tutorial we'll see how to overcome these challenges.</span></span> <span data-ttu-id="2086c-119">В частности, мы создадим страницу со списком категорий в раскрывающемся списке с продуктами выбранной категории, отображаемыми в GridView.</span><span class="sxs-lookup"><span data-stu-id="2086c-119">Specifically, we'll create a page that lists the categories in a drop-down list with the selected category's products displayed in a GridView.</span></span> <span data-ttu-id="2086c-120">GridView будет содержать строку нижнего колонтитула, которая показывает среднюю цену и общее количество единиц в запасе и по заказу для продуктов в этой категории.</span><span class="sxs-lookup"><span data-stu-id="2086c-120">The GridView will include a footer row that shows the average price and total number of units in stock and on order for products in that category.</span></span>

<span data-ttu-id="2086c-121">[![сводные сведения отображаются в строке нижнего колонтитула GridView.](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image2.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-121">[![Summary Information is Displayed in the GridView's Footer Row](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image2.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image1.png)</span></span>

<span data-ttu-id="2086c-122">**Рис. 1**. Сводные данные отображаются в строке нижнего колонтитула GridView ([щелкните, чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="2086c-122">**Figure 1**: Summary Information is Displayed in the GridView's Footer Row ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image3.png))</span></span>

<span data-ttu-id="2086c-123">В этом учебнике со сведениями о категориях и интерфейсах "основной" и "подробности" реализованы концепции, описанные в предыдущей [фильтрации "основной/подробности" с помощью DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) .</span><span class="sxs-lookup"><span data-stu-id="2086c-123">This tutorial, with its category to products master/detail interface, builds upon the concepts covered in the earlier [Master/Detail Filtering With a DropDownList](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) tutorial.</span></span> <span data-ttu-id="2086c-124">Если вы еще не работали с предыдущим руководством, сделайте это, прежде чем продолжить.</span><span class="sxs-lookup"><span data-stu-id="2086c-124">If you've not yet worked through the earlier tutorial, please do so before continuing on with this one.</span></span>

## <a name="step-1-adding-the-categories-dropdownlist-and-products-gridview"></a><span data-ttu-id="2086c-125">Шаг 1. Добавление элемента управления DropDownList и Products в элемент управления "категории"</span><span class="sxs-lookup"><span data-stu-id="2086c-125">Step 1: Adding the Categories DropDownList and Products GridView</span></span>

<span data-ttu-id="2086c-126">Прежде чем добавлять сводные данные к нижнему колонтитулу GridView, давайте сначала создадим отчет «основной/подробности».</span><span class="sxs-lookup"><span data-stu-id="2086c-126">Before concerning ourselves with adding summary information to the GridView's footer, let's first simply build the master/detail report.</span></span> <span data-ttu-id="2086c-127">После завершения первого шага мы рассмотрим, как включать сводные данные.</span><span class="sxs-lookup"><span data-stu-id="2086c-127">Once we've completed this first step, we'll look at how to include summary data.</span></span>

<span data-ttu-id="2086c-128">Для начала откройте страницу `SummaryDataInFooter.aspx` в папке `CustomFormatting`.</span><span class="sxs-lookup"><span data-stu-id="2086c-128">Start by opening the `SummaryDataInFooter.aspx` page in the `CustomFormatting` folder.</span></span> <span data-ttu-id="2086c-129">Добавьте элемент управления DropDownList и задайте для его `ID` значение `Categories`.</span><span class="sxs-lookup"><span data-stu-id="2086c-129">Add a DropDownList control and set its `ID` to `Categories`.</span></span> <span data-ttu-id="2086c-130">Затем щелкните ссылку Выбор источника данных из смарт-тега DropDownList и выберите Добавить новый элемент ObjectDataSource с именем `CategoriesDataSource`, который вызывает метод `GetCategories()` класса `CategoriesBLL`.</span><span class="sxs-lookup"><span data-stu-id="2086c-130">Next, click on the Choose Data Source link from the DropDownList's smart tag and opt to add a new ObjectDataSource named `CategoriesDataSource` that invokes the `CategoriesBLL` class's `GetCategories()` method.</span></span>

<span data-ttu-id="2086c-131">[![добавить новый элемент управления ObjectDataSource с именем CategoriesDataSource](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image5.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-131">[![Add a New ObjectDataSource Named CategoriesDataSource](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image5.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image4.png)</span></span>

<span data-ttu-id="2086c-132">**Рис. 2**. Добавление нового элемента управления ObjectDataSource с именем `CategoriesDataSource` ([щелкните, чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="2086c-132">**Figure 2**: Add a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image6.png))</span></span>

<span data-ttu-id="2086c-133">[![, что ObjectDataSource вызывает метод CategoriesBLL класса](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image8.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-133">[![Have the ObjectDataSource Invoke the CategoriesBLL Class's GetCategories() Method](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image8.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image7.png)</span></span>

<span data-ttu-id="2086c-134">**Рис. 3**. элемент ObjectDataSource вызывает метод `GetCategories()` класса `CategoriesBLL` ([щелкните, чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="2086c-134">**Figure 3**: Have the ObjectDataSource Invoke the `CategoriesBLL` Class's `GetCategories()` Method ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image9.png))</span></span>

<span data-ttu-id="2086c-135">После настройки элемента управления ObjectDataSource мастер возвращает нас в мастер настройки источника данных DropDownList, из которого необходимо указать, какое значение поля данных должно быть отображено, и какое должно соответствовать значению элемента управления DropDownList `ListItem` s.</span><span class="sxs-lookup"><span data-stu-id="2086c-135">After configuring the ObjectDataSource, the wizard returns us to the DropDownList's Data Source Configuration wizard from which we need to specify what data field value should be displayed and which one should correspond to the value of the DropDownList's `ListItem` s.</span></span> <span data-ttu-id="2086c-136">Отобразите поле `CategoryName` и используйте в качестве значения `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="2086c-136">Have the `CategoryName` field displayed and use the `CategoryID` as the value.</span></span>

<span data-ttu-id="2086c-137">[![использовать поля CategoryName и CategoryID в качестве текста и значения для ListItem соответственно](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image11.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-137">[![Use the CategoryName and CategoryID Fields as the Text and Value for the ListItems, Respectively](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image11.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image10.png)</span></span>

<span data-ttu-id="2086c-138">**Рис. 4**. использование полей `CategoryName` и `CategoryID` в качестве `Text` и `Value` для `ListItem` s соответственно (щелкните,[чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="2086c-138">**Figure 4**: Use the `CategoryName` and `CategoryID` Fields as the `Text` and `Value` for the `ListItem` s, Respectively ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image12.png))</span></span>

<span data-ttu-id="2086c-139">На этом этапе у нас есть элемент DropDownList (`Categories`), в котором перечислены категории в системе.</span><span class="sxs-lookup"><span data-stu-id="2086c-139">At this point we have a DropDownList (`Categories`) that lists the categories in the system.</span></span> <span data-ttu-id="2086c-140">Теперь необходимо добавить GridView, в котором перечислены продукты, принадлежащие к выбранной категории.</span><span class="sxs-lookup"><span data-stu-id="2086c-140">We now need to add a GridView that lists those products that belong to the selected category.</span></span> <span data-ttu-id="2086c-141">Тем не менее, прежде чем делать это, установите флажок Включить автообратную передачу в смарт-теге DropDownList.</span><span class="sxs-lookup"><span data-stu-id="2086c-141">Before we do, though, take a moment to check the Enable AutoPostBack checkbox in the DropDownList's smart tag.</span></span> <span data-ttu-id="2086c-142">Как обсуждалось в разделе *Фильтрация "основной/подробности" с помощью DropDownList* , присвоив свойству `AutoPostBack` dropdownlist значение `true` страница будет отправлена обратно при каждом изменении значения DropDownList.</span><span class="sxs-lookup"><span data-stu-id="2086c-142">As discussed in the *Master/Detail Filtering With a DropDownList* tutorial, by setting the DropDownList's `AutoPostBack` property to `true` the page will be posted back each time the DropDownList value is changed.</span></span> <span data-ttu-id="2086c-143">Это приведет к обновлению GridView, отображая продукты для вновь выбранной категории.</span><span class="sxs-lookup"><span data-stu-id="2086c-143">This will cause the GridView to be refreshed, showing those products for the newly selected category.</span></span> <span data-ttu-id="2086c-144">Если свойство `AutoPostBack` имеет значение `false` (по умолчанию), то изменение категории не приведет к обратной передаче и, следовательно, не обновит список продуктов.</span><span class="sxs-lookup"><span data-stu-id="2086c-144">If the `AutoPostBack` property is set to `false` (the default), changing the category won't cause a postback and therefore won't update the listed products.</span></span>

<span data-ttu-id="2086c-145">[![установите флажок Включить автообратную передачу в смарт-теге DropDownList.](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image14.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-145">[![Check the Enable AutoPostBack Checkbox in the DropDownList's Smart Tag](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image14.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image13.png)</span></span>

<span data-ttu-id="2086c-146">**Рис. 5**. Установите флажок Включить автообратную передачу в смарт-теге DropDownList ([щелкните, чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image15.png)).</span><span class="sxs-lookup"><span data-stu-id="2086c-146">**Figure 5**: Check the Enable AutoPostBack Checkbox in the DropDownList's Smart Tag ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image15.png))</span></span>

<span data-ttu-id="2086c-147">Добавьте на страницу элемент управления GridView, чтобы отобразить продукты для выбранной категории.</span><span class="sxs-lookup"><span data-stu-id="2086c-147">Add a GridView control to the page in order to display the products for the selected category.</span></span> <span data-ttu-id="2086c-148">Задайте для `ID` GridView значение `ProductsInCategory` и привяжите его к новому ObjectDataSource с именем `ProductsInCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="2086c-148">Set the GridView's `ID` to `ProductsInCategory` and bind it to a new ObjectDataSource named `ProductsInCategoryDataSource`.</span></span>

<span data-ttu-id="2086c-149">[![добавить новый элемент управления ObjectDataSource с именем Продуктсинкатегоридатасаурце](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image17.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-149">[![Add a New ObjectDataSource Named ProductsInCategoryDataSource](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image17.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image16.png)</span></span>

<span data-ttu-id="2086c-150">**Рис. 6**. Добавление нового элемента управления ObjectDataSource с именем `ProductsInCategoryDataSource` ([щелкните, чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="2086c-150">**Figure 6**: Add a New ObjectDataSource Named `ProductsInCategoryDataSource` ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image18.png))</span></span>

<span data-ttu-id="2086c-151">Настройте ObjectDataSource таким образом, чтобы он вызывал метод `GetProductsByCategoryID(categoryID)` класса `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="2086c-151">Configure the ObjectDataSource so that it invokes the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span>

<span data-ttu-id="2086c-152">[![, что ObjectDataSource вызывает метод GetProductsByCategoryID (categoryID)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image20.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-152">[![Have the ObjectDataSource Invoke the GetProductsByCategoryID(categoryID) Method](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image20.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image19.png)</span></span>

<span data-ttu-id="2086c-153">**Рис. 7**. вызов метода `GetProductsByCategoryID(categoryID)` ObjectDataSource ([щелкните, чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="2086c-153">**Figure 7**: Have the ObjectDataSource Invoke the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image21.png))</span></span>

<span data-ttu-id="2086c-154">Так как метод `GetProductsByCategoryID(categoryID)` принимает входной параметр, на последнем шаге мастера можно указать источник значения параметра.</span><span class="sxs-lookup"><span data-stu-id="2086c-154">Since the `GetProductsByCategoryID(categoryID)` method takes in an input parameter, in the final step of the wizard we can specify the source of the parameter value.</span></span> <span data-ttu-id="2086c-155">Чтобы отобразить эти продукты из выбранной категории, необходимо, чтобы параметр был извлечен из `Categories` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="2086c-155">In order to display those products from the selected category, have the parameter pulled from the `Categories` DropDownList.</span></span>

<span data-ttu-id="2086c-156">[![получить значение параметра categoryID из элемента DropDownList выбранных категорий](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image23.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-156">[![Get the categoryID Parameter Value from the Selected Categories DropDownList](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image23.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image22.png)</span></span>

<span data-ttu-id="2086c-157">**Рис. 8**. получение значения параметра *`categoryID`* из DropDownList выбранных категорий ([щелкните, чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="2086c-157">**Figure 8**: Get the *`categoryID`* Parameter Value from the Selected Categories DropDownList ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image24.png))</span></span>

<span data-ttu-id="2086c-158">После завершения работы мастера GridView будет иметь BoundField для каждого свойства продукта.</span><span class="sxs-lookup"><span data-stu-id="2086c-158">After completing the wizard the GridView will have a BoundField for each of the product properties.</span></span> <span data-ttu-id="2086c-159">Сделаем эти BoundFields, чтобы отображались только `ProductName`, `UnitPrice`, `UnitsInStock`и `UnitsOnOrder` BoundFields.</span><span class="sxs-lookup"><span data-stu-id="2086c-159">Let's clean up these BoundFields so that only the `ProductName`, `UnitPrice`, `UnitsInStock`, and `UnitsOnOrder` BoundFields are displayed.</span></span> <span data-ttu-id="2086c-160">Вы можете добавлять любые параметры уровня поля в остальные BoundFields (например, форматировать `UnitPrice` как валюту).</span><span class="sxs-lookup"><span data-stu-id="2086c-160">Feel free to add any field-level settings to the remaining BoundFields (such as formatting the `UnitPrice` as a currency).</span></span> <span data-ttu-id="2086c-161">После внесения этих изменений декларативная разметка GridView должна выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="2086c-161">After making these changes, the GridView's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample1.aspx)]

<span data-ttu-id="2086c-162">На этом этапе у нас есть полностью работающий отчет «основной/подробности», в котором отображается имя, Цена за единицу, единицы складского учета и единицы измерения по заказу для продуктов, принадлежащих выбранной категории.</span><span class="sxs-lookup"><span data-stu-id="2086c-162">At this point we have a fully functioning master/detail report that shows the name, unit price, units in stock, and units on order for those products that belong to the selected category.</span></span>

<span data-ttu-id="2086c-163">[![получить значение параметра categoryID из элемента DropDownList выбранных категорий](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image26.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-163">[![Get the categoryID Parameter Value from the Selected Categories DropDownList](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image26.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image25.png)</span></span>

<span data-ttu-id="2086c-164">**Рис. 9**. получение значения параметра *`categoryID`* из DropDownList выбранных категорий ([щелкните, чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="2086c-164">**Figure 9**: Get the *`categoryID`* Parameter Value from the Selected Categories DropDownList ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image27.png))</span></span>

## <a name="step-2-displaying-a-footer-in-the-gridview"></a><span data-ttu-id="2086c-165">Шаг 2. Отображение нижнего колонтитула в GridView</span><span class="sxs-lookup"><span data-stu-id="2086c-165">Step 2: Displaying a Footer in the GridView</span></span>

<span data-ttu-id="2086c-166">Элемент управления GridView может отображать как строку верхнего, так и нижнего колонтитула.</span><span class="sxs-lookup"><span data-stu-id="2086c-166">The GridView control can display both a header and footer row.</span></span> <span data-ttu-id="2086c-167">Эти строки отображаются в зависимости от значений свойств `ShowHeader` и `ShowFooter` соответственно, с `ShowHeader` по умолчанию `true` и `ShowFooter` в `false`.</span><span class="sxs-lookup"><span data-stu-id="2086c-167">These rows are displayed depending on the values of the `ShowHeader` and `ShowFooter` properties, respectively, with `ShowHeader` defaulting to `true` and `ShowFooter` to `false`.</span></span> <span data-ttu-id="2086c-168">Чтобы включить нижний колонтитул в GridView, просто установите для свойства `ShowFooter` значение `true`.</span><span class="sxs-lookup"><span data-stu-id="2086c-168">To include a footer in the GridView simply set its `ShowFooter` property to `true`.</span></span>

<span data-ttu-id="2086c-169">[![присвоить свойству Шовфутер элемента GridView значение true](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image29.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-169">[![Set the GridView's ShowFooter Property to true](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image29.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image28.png)</span></span>

<span data-ttu-id="2086c-170">**Рис. 10**. задание для свойства `ShowFooter` GridView значения `true` ([щелкните, чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="2086c-170">**Figure 10**: Set the GridView's `ShowFooter` Property to `true` ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image30.png))</span></span>

<span data-ttu-id="2086c-171">Строка нижнего колонтитула содержит ячейку для каждого поля, определенного в GridView; Однако по умолчанию эти ячейки пусты.</span><span class="sxs-lookup"><span data-stu-id="2086c-171">The footer row has a cell for each of the fields defined in the GridView; however, these cells are empty by default.</span></span> <span data-ttu-id="2086c-172">Уделите время для просмотра хода выполнения в браузере.</span><span class="sxs-lookup"><span data-stu-id="2086c-172">Take a moment to view our progress in a browser.</span></span> <span data-ttu-id="2086c-173">Если свойство `ShowFooter` теперь имеет значение `true`, GridView содержит пустую строку нижнего колонтитула.</span><span class="sxs-lookup"><span data-stu-id="2086c-173">With the `ShowFooter` property now set to `true`, the GridView includes an empty footer row.</span></span>

<span data-ttu-id="2086c-174">[![GridView теперь содержит строку нижнего колонтитула](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image32.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-174">[![The GridView Now Includes a Footer Row](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image32.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image31.png)</span></span>

<span data-ttu-id="2086c-175">**Рис. 11**. Теперь GridView содержит строку нижнего колонтитула ([щелкните, чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="2086c-175">**Figure 11**: The GridView Now Includes a Footer Row ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image33.png))</span></span>

<span data-ttu-id="2086c-176">Строка нижнего колонтитула на рис. 11 не выделена, так как она имеет белый фон.</span><span class="sxs-lookup"><span data-stu-id="2086c-176">The footer row in Figure 11 doesn't stand out, as it has a white background.</span></span> <span data-ttu-id="2086c-177">Давайте создадим `FooterStyle` класс CSS в `Styles.css`, который указывает темно-красный фон, а затем настроит файл обложки `GridView.skin` в теме `DataWebControls`, чтобы назначить этот класс CSS свойству `FooterStyle``CssClass` элемента управления GridView.</span><span class="sxs-lookup"><span data-stu-id="2086c-177">Let's create a `FooterStyle` CSS class in `Styles.css` that specifies a dark red background and then configure the `GridView.skin` Skin file in the `DataWebControls` Theme to assign this CSS class to the GridView's `FooterStyle`'s `CssClass` property.</span></span> <span data-ttu-id="2086c-178">Если вам нужно зарезервировать обложки и темы, см. статью о [просмотре данных с помощью элемента управления ObjectDataSource](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) .</span><span class="sxs-lookup"><span data-stu-id="2086c-178">If you need to brush up on Skins and Themes, refer back to the [Displaying Data With the ObjectDataSource](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) tutorial.</span></span>

<span data-ttu-id="2086c-179">Для начала добавьте следующий класс CSS в `Styles.css`:</span><span class="sxs-lookup"><span data-stu-id="2086c-179">Start by adding the following CSS class to `Styles.css`:</span></span>

[!code-css[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample2.css)]

<span data-ttu-id="2086c-180">Класс `FooterStyle` CSS аналогичен стилю для класса `HeaderStyle`, хотя цвет фона `HeaderStyle`является более темным, а его текст отображается полужирным шрифтом.</span><span class="sxs-lookup"><span data-stu-id="2086c-180">The `FooterStyle` CSS class is similar in style to the `HeaderStyle` class, although the `HeaderStyle`'s background color is subtlety darker and its text is displayed in a bold font.</span></span> <span data-ttu-id="2086c-181">Более того, текст в нижнем колонтитуле выравнивается по правому краю, в то время как текст заголовка выравнивается по центру.</span><span class="sxs-lookup"><span data-stu-id="2086c-181">Furthermore, the text in the footer is right-aligned whereas the header's text is centered.</span></span>

<span data-ttu-id="2086c-182">Затем, чтобы связать этот класс CSS с нижним колонтитулом GridView, откройте файл `GridView.skin` в теме `DataWebControls` и задайте свойство `CssClass` `FooterStyle`.</span><span class="sxs-lookup"><span data-stu-id="2086c-182">Next, to associate this CSS class with every GridView's footer, open the `GridView.skin` file in the `DataWebControls` Theme and set the `FooterStyle`'s `CssClass` property.</span></span> <span data-ttu-id="2086c-183">После этого добавления разметка файла должна выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="2086c-183">After this addition the file's markup should look like:</span></span>

[!code-aspx[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample3.aspx)]

<span data-ttu-id="2086c-184">Как видно на снимке экрана, это изменение делает нижний колонтитул более четким.</span><span class="sxs-lookup"><span data-stu-id="2086c-184">As the screen shot below shows, this change makes the footer stand out more clearly.</span></span>

<span data-ttu-id="2086c-185">[![строка нижнего колонтитула GridView теперь имеет цвет фона Реддиш](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image35.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-185">[![The GridView's Footer Row Now Has a Reddish Background Color](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image35.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image34.png)</span></span>

<span data-ttu-id="2086c-186">**Рис. 12**. Теперь строка нижнего колонтитула GridView имеет цвет фона Реддиш ([щелкните, чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="2086c-186">**Figure 12**: The GridView's Footer Row Now Has a Reddish Background Color ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image36.png))</span></span>

## <a name="step-3-computing-the-summary-data"></a><span data-ttu-id="2086c-187">Шаг 3. Вычисление сводных данных</span><span class="sxs-lookup"><span data-stu-id="2086c-187">Step 3: Computing the Summary Data</span></span>

<span data-ttu-id="2086c-188">При отображении нижнего колонтитула GridView мы рассмотрим, как вычислять сводные данные.</span><span class="sxs-lookup"><span data-stu-id="2086c-188">With the GridView's footer displayed, the next challenge facing us is how to compute the summary data.</span></span> <span data-ttu-id="2086c-189">Существует два способа вычисления этой статистической информации:</span><span class="sxs-lookup"><span data-stu-id="2086c-189">There are two ways to compute this aggregate information:</span></span>

1. <span data-ttu-id="2086c-190">С помощью SQL-запроса можно выдать дополнительный запрос к базе данных, чтобы вычислить сводные данные для определенной категории.</span><span class="sxs-lookup"><span data-stu-id="2086c-190">Through a SQL query we could issue an additional query to the database to compute the summary data for a particular category.</span></span> <span data-ttu-id="2086c-191">SQL содержит ряд агрегатных функций вместе с предложением `GROUP BY` для указания данных, по которым должны суммироваться данные.</span><span class="sxs-lookup"><span data-stu-id="2086c-191">SQL includes a number of aggregate functions along with a `GROUP BY` clause to specify the data over which the data should be summarized.</span></span> <span data-ttu-id="2086c-192">Следующий запрос SQL вернет необходимые сведения:</span><span class="sxs-lookup"><span data-stu-id="2086c-192">The following SQL query would bring back the needed information:</span></span>  

    [!code-sql[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample4.sql)]

    <span data-ttu-id="2086c-193">Конечно, вам не нужно выдавать этот запрос непосредственно с `SummaryDataInFooter.aspx` страницы, а путем создания метода в `ProductsTableAdapter` и `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="2086c-193">Of course you wouldn't want to issue this query directly from the `SummaryDataInFooter.aspx` page, but rather by creating a method in the `ProductsTableAdapter` and the `ProductsBLL`.</span></span>
2. <span data-ttu-id="2086c-194">Вычислите эту информацию по мере добавления в GridView, как описано в разделе [пользовательское форматирование на основе данных](custom-formatting-based-upon-data-cs.md) , обработчик событий `RowDataBound` GridView срабатывает один раз для каждой строки, добавляемой в GridView после привязкой к данным.</span><span class="sxs-lookup"><span data-stu-id="2086c-194">Compute this information as it's being added to the GridView as discussed in [Custom Formatting Based Upon Data](custom-formatting-based-upon-data-cs.md) tutorial, the GridView's `RowDataBound` event handler fires once for each row being added to the GridView after its been databound.</span></span> <span data-ttu-id="2086c-195">Создав обработчик событий для этого события, можно удержать общую сумму значений, которые мы хотим агрегировать.</span><span class="sxs-lookup"><span data-stu-id="2086c-195">By creating an event handler for this event we can keep a running total of the values we want to aggregate.</span></span> <span data-ttu-id="2086c-196">После привязки последней строки данных к GridView мы получаем итоги и сведения, необходимые для вычисления среднего значения.</span><span class="sxs-lookup"><span data-stu-id="2086c-196">After the last data row has been bound to the GridView we have the totals and the information needed to compute the average.</span></span>

<span data-ttu-id="2086c-197">Я обычно использую второй подход, так как он сохраняет поездку в базу данных и усилия, необходимые для реализации сводных функций уровня доступа к данным и уровня бизнес-логики, но любой из этих подходов будет достаточно.</span><span class="sxs-lookup"><span data-stu-id="2086c-197">I typically employ the second approach as it saves a trip to the database and the effort needed to implement the summary functionality in the Data Access Layer and Business Logic Layer, but either approach would suffice.</span></span> <span data-ttu-id="2086c-198">В этом учебнике мы будем использовать второй вариант и отслеживаю промежуточный итог с помощью обработчика событий `RowDataBound`.</span><span class="sxs-lookup"><span data-stu-id="2086c-198">For this tutorial let's use the second option and keep track of the running total using the `RowDataBound` event handler.</span></span>

<span data-ttu-id="2086c-199">Создайте обработчик событий `RowDataBound` для GridView, выбрав элемент GridView в конструкторе, щелкнув значок с молнией из окно свойств и дважды щелкнув событие `RowDataBound`.</span><span class="sxs-lookup"><span data-stu-id="2086c-199">Create a `RowDataBound` event handler for the GridView by selecting the GridView in the Designer, clicking the lightning bolt icon from the Properties window, and double-clicking the `RowDataBound` event.</span></span> <span data-ttu-id="2086c-200">Будет создан новый обработчик событий с именем `ProductsInCategory_RowDataBound` в классе кода программной части `SummaryDataInFooter.aspx` страницы.</span><span class="sxs-lookup"><span data-stu-id="2086c-200">This will create a new event handler named `ProductsInCategory_RowDataBound` in the `SummaryDataInFooter.aspx` page's code-behind class.</span></span>

[!code-csharp[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample5.cs)]

<span data-ttu-id="2086c-201">Чтобы обеспечить выполнение итоговой суммы, необходимо определить переменные вне области обработчика событий.</span><span class="sxs-lookup"><span data-stu-id="2086c-201">In order to maintain a running total we need to define variables outside of the scope of the event handler.</span></span> <span data-ttu-id="2086c-202">Создайте следующие четыре переменные уровня страницы:</span><span class="sxs-lookup"><span data-stu-id="2086c-202">Create the following four page-level variables:</span></span>

- <span data-ttu-id="2086c-203">`_totalUnitPrice`, типа `decimal`</span><span class="sxs-lookup"><span data-stu-id="2086c-203">`_totalUnitPrice`, of type `decimal`</span></span>
- <span data-ttu-id="2086c-204">`_totalNonNullUnitPriceCount`, типа `int`</span><span class="sxs-lookup"><span data-stu-id="2086c-204">`_totalNonNullUnitPriceCount`, of type `int`</span></span>
- <span data-ttu-id="2086c-205">`_totalUnitsInStock`, типа `int`</span><span class="sxs-lookup"><span data-stu-id="2086c-205">`_totalUnitsInStock`, of type `int`</span></span>
- <span data-ttu-id="2086c-206">`_totalUnitsOnOrder`, типа `int`</span><span class="sxs-lookup"><span data-stu-id="2086c-206">`_totalUnitsOnOrder`, of type `int`</span></span>

<span data-ttu-id="2086c-207">Затем напишите код для увеличения этих трех переменных для каждой строки данных, обнаруженной в обработчике событий `RowDataBound`.</span><span class="sxs-lookup"><span data-stu-id="2086c-207">Next, write the code to increment these three variables for each data row encountered in the `RowDataBound` event handler.</span></span>

[!code-csharp[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample6.cs)]

<span data-ttu-id="2086c-208">Обработчик событий `RowDataBound` начинает с того, что мы работаем с DataRow.</span><span class="sxs-lookup"><span data-stu-id="2086c-208">The `RowDataBound` event handler starts by ensuring that we're dealing with a DataRow.</span></span> <span data-ttu-id="2086c-209">После установки `Northwind.ProductsRow` экземпляр, который был только что связан с `GridViewRow`ным объектом в `e.Row`, сохраняется в переменной `product`.</span><span class="sxs-lookup"><span data-stu-id="2086c-209">Once that's been established, the `Northwind.ProductsRow` instance that was just bound to the `GridViewRow` object in `e.Row` is stored in the variable `product`.</span></span> <span data-ttu-id="2086c-210">Затем выполнение итоговых переменных увеличивается на соответствующие значения текущего продукта (предполагая, что они не содержат значение `NULL` базы данных).</span><span class="sxs-lookup"><span data-stu-id="2086c-210">Next, running total variables are incremented by the current product's corresponding values (assuming that they don't contain a database `NULL` value).</span></span> <span data-ttu-id="2086c-211">Мы отслеживаем общее `UnitPrice` и количество записей, не относящихся к `UnitPrice``NULL`, поскольку средняя цена является частями этих двух чисел.</span><span class="sxs-lookup"><span data-stu-id="2086c-211">We keep track of both the running `UnitPrice` total and the number of non-`NULL` `UnitPrice` records because the average price is the quotient of these two numbers.</span></span>

## <a name="step-4-displaying-the-summary-data-in-the-footer"></a><span data-ttu-id="2086c-212">Шаг 4. Отображение сводных данных в нижнем колонтитуле</span><span class="sxs-lookup"><span data-stu-id="2086c-212">Step 4: Displaying the Summary Data in the Footer</span></span>

<span data-ttu-id="2086c-213">При суммировании сводных данных последним шагом является отображение их в строке нижнего колонтитула GridView.</span><span class="sxs-lookup"><span data-stu-id="2086c-213">With the summary data totaled, the last step is to display it in the GridView's footer row.</span></span> <span data-ttu-id="2086c-214">Эта задача также может быть выполнена программно с помощью обработчика событий `RowDataBound`.</span><span class="sxs-lookup"><span data-stu-id="2086c-214">This task, too, can be accomplished programmatically through the `RowDataBound` event handler.</span></span> <span data-ttu-id="2086c-215">Помните, что обработчик событий `RowDataBound` срабатывает для *каждой* строки, привязанной к GridView, включая строку нижнего колонтитула.</span><span class="sxs-lookup"><span data-stu-id="2086c-215">Recall that the `RowDataBound` event handler fires for *every* row that's bound to the GridView, including the footer row.</span></span> <span data-ttu-id="2086c-216">Поэтому мы можем расширить наш обработчик событий, чтобы отобразить данные в строке нижнего колонтитула, используя следующий код:</span><span class="sxs-lookup"><span data-stu-id="2086c-216">Therefore, we can augment our event handler to display the data in the footer row using the following code:</span></span>

[!code-csharp[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample7.cs)]

<span data-ttu-id="2086c-217">Так как строка нижнего колонтитула добавляется в GridView после добавления всех строк данных, мы можем быть уверены, что по мере готовности к отображению сводных данных в нижнем колонтитуле все выполненные итоговые вычисления будут завершены.</span><span class="sxs-lookup"><span data-stu-id="2086c-217">Since the footer row is added to the GridView after all of the data rows have been added, we can be confident that by the time we're ready to display the summary data in the footer the running total calculations will have completed.</span></span> <span data-ttu-id="2086c-218">Последним шагом является задание этих значений в ячейках нижнего колонтитула.</span><span class="sxs-lookup"><span data-stu-id="2086c-218">The last step, then, is to set these values in the footer's cells.</span></span>

<span data-ttu-id="2086c-219">Чтобы отобразить текст в определенной ячейке нижнего колонтитула, используйте `e.Row.Cells[index].Text = value`, где `Cells` индексирование начинается с 0.</span><span class="sxs-lookup"><span data-stu-id="2086c-219">To display text in a particular footer cell, use `e.Row.Cells[index].Text = value`, where the `Cells` indexing starts at 0.</span></span> <span data-ttu-id="2086c-220">Следующий код вычисляет среднюю цену (общую цену, деленную на количество продуктов) и отображает ее вместе с общим количеством единиц в запасах и единицах по порядку в соответствующих ячейках нижнего колонтитула GridView.</span><span class="sxs-lookup"><span data-stu-id="2086c-220">The following code computes the average price (the total price divided by the number of products) and displays it along with the total number of units in stock and units on order in the appropriate footer cells of the GridView.</span></span>

[!code-csharp[Main](displaying-summary-information-in-the-gridview-s-footer-cs/samples/sample8.cs)]

<span data-ttu-id="2086c-221">На рис. 13 показан отчет после добавления этого кода.</span><span class="sxs-lookup"><span data-stu-id="2086c-221">Figure 13 shows the report after this code has been added.</span></span> <span data-ttu-id="2086c-222">Обратите внимание, что `ToString("c")` приводит к форматированию средней сводной информации о ценах как денежной.</span><span class="sxs-lookup"><span data-stu-id="2086c-222">Note how the `ToString("c")` causes the average price summary information to be formatted like a currency.</span></span>

<span data-ttu-id="2086c-223">[![строка нижнего колонтитула GridView теперь имеет цвет фона Реддиш](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image38.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="2086c-223">[![The GridView's Footer Row Now Has a Reddish Background Color](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image38.png)](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image37.png)</span></span>

<span data-ttu-id="2086c-224">**Рис. 13**. Теперь строка нижнего колонтитула GridView имеет цвет фона Реддиш ([щелкните, чтобы просмотреть изображение с полным размером](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="2086c-224">**Figure 13**: The GridView's Footer Row Now Has a Reddish Background Color ([Click to view full-size image](displaying-summary-information-in-the-gridview-s-footer-cs/_static/image39.png))</span></span>

## <a name="summary"></a><span data-ttu-id="2086c-225">Сводка</span><span class="sxs-lookup"><span data-stu-id="2086c-225">Summary</span></span>

<span data-ttu-id="2086c-226">Отображение сводных данных является общим требованием к отчету, а элемент управления GridView упрощает включение таких сведений в строку нижнего колонтитула.</span><span class="sxs-lookup"><span data-stu-id="2086c-226">Displaying summary data is a common report requirement, and the GridView control makes it easy to include such information in its footer row.</span></span> <span data-ttu-id="2086c-227">Строка нижнего колонтитула отображается, когда свойству `ShowFooter` GridView присвоено значение `true` и текст в ячейках может быть задан программно с помощью обработчика событий `RowDataBound`.</span><span class="sxs-lookup"><span data-stu-id="2086c-227">The footer row is displayed when the GridView's `ShowFooter` property is set to `true` and can have the text in its cells set programmatically through the `RowDataBound` event handler.</span></span> <span data-ttu-id="2086c-228">Вычисление сводных данных может выполняться путем повторного запроса к базе данных или с помощью кода в классе кода программной части страницы ASP.NET для программного вычисления сводных данных.</span><span class="sxs-lookup"><span data-stu-id="2086c-228">Computing the summary data can either be done by re-querying the database or by using code in the ASP.NET page's code-behind class to programmatically compute the summary data.</span></span>

<span data-ttu-id="2086c-229">Это руководство завершает изучение пользовательского форматирования с помощью элементов управления GridView, DetailsView и FormView.</span><span class="sxs-lookup"><span data-stu-id="2086c-229">This tutorial concludes our examination of custom formatting with the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="2086c-230">В нашем следующем учебнике мы начнем с того, чтобы исследовать вставку, обновление и удаление данных с помощью этих же элементов управления.</span><span class="sxs-lookup"><span data-stu-id="2086c-230">Our next tutorial kicks off our exploration of inserting, updating, and deleting data using these same controls.</span></span>

<span data-ttu-id="2086c-231">Поздравляем с программированием!</span><span class="sxs-lookup"><span data-stu-id="2086c-231">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="2086c-232">Об авторе</span><span class="sxs-lookup"><span data-stu-id="2086c-232">About the Author</span></span>

<span data-ttu-id="2086c-233">[Скотт Митчелл](http://www.4guysfromrolla.com/ScottMitchell.shtml), автор семи книг по ASP/ASP. NET и основатель [4GuysFromRolla.com](http://www.4guysfromrolla.com), работал с веб-технологиями Майкрософт с 1998.</span><span class="sxs-lookup"><span data-stu-id="2086c-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="2086c-234">Скотт работает как независимый консультант, преподаватель и модуль записи.</span><span class="sxs-lookup"><span data-stu-id="2086c-234">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="2086c-235">Его последняя книга — [*Sams обучать себя ASP.NET 2,0 за 24 часа*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="2086c-235">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="2086c-236">Он доступен по адресу [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="2086c-236">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="2086c-237">или через его блог, который можно найти по адресу [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="2086c-237">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="2086c-238">[Назад](using-the-formview-s-templates-cs.md)
> [Вперед](custom-formatting-based-upon-data-vb.md)</span><span class="sxs-lookup"><span data-stu-id="2086c-238">[Previous](using-the-formview-s-templates-cs.md)
[Next](custom-formatting-based-upon-data-vb.md)</span></span>
