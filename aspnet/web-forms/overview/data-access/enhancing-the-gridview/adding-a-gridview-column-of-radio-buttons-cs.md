---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-cs
title: Добавление столбца GridView для переключателей (C#) | Документация Майкрософт
author: rick-anderson
description: В этом учебнике рассматривается добавление столбца переключателей в элемент управления GridView для предоставления пользователю более интуитивно понятного способа выбора одной строки...
ms.author: riande
ms.date: 03/06/2007
ms.assetid: 32377145-ec25-4715-8370-a1c590a331d5
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-cs
msc.type: authoredcontent
ms.openlocfilehash: b59cc64b14c6414e6558fdb8a281644db8386701
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2019
ms.locfileid: "74593672"
---
# <a name="adding-a-gridview-column-of-radio-buttons-c"></a><span data-ttu-id="778f0-103">Добавление столбца GridView переключателей (C#)</span><span class="sxs-lookup"><span data-stu-id="778f0-103">Adding a GridView Column of Radio Buttons (C#)</span></span>

<span data-ttu-id="778f0-104">по [Скотт Митчелл](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="778f0-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="778f0-105">[Скачивание примера приложения](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_CS.exe) или [Загрузка PDF-файла](adding-a-gridview-column-of-radio-buttons-cs/_static/datatutorial51cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="778f0-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_CS.exe) or [Download PDF](adding-a-gridview-column-of-radio-buttons-cs/_static/datatutorial51cs1.pdf)</span></span>

> <span data-ttu-id="778f0-106">В этом учебнике рассматривается добавление столбца переключателей в элемент управления GridView для предоставления пользователю более интуитивно понятного способа выбора одной строки GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-106">This tutorial looks at how to add a column of radio buttons to a GridView control to provide the user with a more intuitive way of selecting a single row of the GridView.</span></span>

## <a name="introduction"></a><span data-ttu-id="778f0-107">Введение</span><span class="sxs-lookup"><span data-stu-id="778f0-107">Introduction</span></span>

<span data-ttu-id="778f0-108">Элемент управления GridView предоставляет большую часть встроенных функций.</span><span class="sxs-lookup"><span data-stu-id="778f0-108">The GridView control offers a great deal of built-in functionality.</span></span> <span data-ttu-id="778f0-109">Он включает несколько различных полей для отображения текста, изображений, гиперссылок и кнопок.</span><span class="sxs-lookup"><span data-stu-id="778f0-109">It includes a number of different fields for displaying text, images, hyperlinks, and buttons.</span></span> <span data-ttu-id="778f0-110">Он поддерживает шаблоны для дальнейшей настройки.</span><span class="sxs-lookup"><span data-stu-id="778f0-110">It supports templates for further customization.</span></span> <span data-ttu-id="778f0-111">С помощью нескольких щелчков мыши можно создать элемент управления GridView, в котором каждая строка может быть выбрана с помощью кнопки, или для включения возможности редактирования или удаления.</span><span class="sxs-lookup"><span data-stu-id="778f0-111">With a few clicks of the mouse, it s possible to make a GridView where each row can be selected via a button, or to enable editing or deleting capabilities.</span></span> <span data-ttu-id="778f0-112">Несмотря на множество предоставляемых функций, часто возникают ситуации, в которых необходимо добавить дополнительные неподдерживаемые функции.</span><span class="sxs-lookup"><span data-stu-id="778f0-112">Despite the plethora of provided features, there will often be situations in which additional, non-supported features will need to be added.</span></span> <span data-ttu-id="778f0-113">В этом руководстве и следующих двух мы рассмотрим, как расширить функциональность GridView s, чтобы включить дополнительные функции.</span><span class="sxs-lookup"><span data-stu-id="778f0-113">In this tutorial and the next two we'll examine how to enhance the GridView s functionality to include additional features.</span></span>

<span data-ttu-id="778f0-114">Это руководство и следующее основное внимание уделяется улучшению процесса выбора строк.</span><span class="sxs-lookup"><span data-stu-id="778f0-114">This tutorial and the next one focus on enhancing the row-selection process.</span></span> <span data-ttu-id="778f0-115">Как было рассмотрено в [образце/подробностях с помощью выбираемого элемента управления GridView с подробными сведениями DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md), мы можем добавить в GridView элемент CommandField, включающий кнопку SELECT.</span><span class="sxs-lookup"><span data-stu-id="778f0-115">As examined in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md), we can add a CommandField to the GridView that includes a Select button.</span></span> <span data-ttu-id="778f0-116">При нажатии происходит обратная передача, и свойство `SelectedIndex` GridView s обновляется до индекса строки, для которой была нажата кнопка выбора.</span><span class="sxs-lookup"><span data-stu-id="778f0-116">When clicked, a postback ensues and the GridView s `SelectedIndex` property is updated to the index of the row whose Select button was clicked.</span></span> <span data-ttu-id="778f0-117">В базе данных "основной/подробности" с помощью доступного для [выбора главного элемента управления GridView с](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) руководством по DetailView мы увидели, как использовать эту функцию для отображения сведений о выбранной строке GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-117">In the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial, we saw how to use this feature to display details for the selected GridView row.</span></span>

<span data-ttu-id="778f0-118">Хотя кнопка выбрать работает во многих ситуациях, она может не работать и для других.</span><span class="sxs-lookup"><span data-stu-id="778f0-118">While the Select button works in many situations, it may not work as well for others.</span></span> <span data-ttu-id="778f0-119">Вместо того, чтобы использовать кнопку, для выбора обычно используются два других элемента пользовательского интерфейса: переключатель и флажок.</span><span class="sxs-lookup"><span data-stu-id="778f0-119">Rather than using a button, two other user interface elements are commonly used for selection: the radio button and checkbox.</span></span> <span data-ttu-id="778f0-120">Можно дополнить GridView, чтобы вместо кнопки выбора каждая строка содержала переключатель или флажок.</span><span class="sxs-lookup"><span data-stu-id="778f0-120">We can augment the GridView so that instead of a Select button, each row contains a radio button or checkbox.</span></span> <span data-ttu-id="778f0-121">В сценариях, где пользователь может выбрать только одну из записей GridView, переключатель может оказаться предпочтительнее, чем кнопка выбрать.</span><span class="sxs-lookup"><span data-stu-id="778f0-121">In scenarios where the user can only select one of the GridView records, the radio button might be preferred over the Select button.</span></span> <span data-ttu-id="778f0-122">В ситуациях, когда пользователь потенциально может выбрать несколько записей, например в веб-приложении электронной почты, где пользователю может потребоваться выбрать несколько сообщений для удаления флажка предлагает функции, недоступные при нажатии кнопки "выбрать" или "переключатель". пользовательские интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="778f0-122">In situations where the user can potentially select multiple records such as in a web-based email application, where a user might want to select multiple messages to delete the checkbox offers functionality that is not available from the Select button or radio button user interfaces.</span></span>

<span data-ttu-id="778f0-123">В этом учебнике рассматривается добавление столбца переключателей в GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-123">This tutorial looks at how to add a column of radio buttons to the GridView.</span></span> <span data-ttu-id="778f0-124">В руководстве по переходу к использованию посвящены флажки.</span><span class="sxs-lookup"><span data-stu-id="778f0-124">The proceeding tutorial explores using checkboxes.</span></span>

## <a name="step-1-creating-the-enhancing-the-gridview-web-pages"></a><span data-ttu-id="778f0-125">Шаг 1. Создание усовершенствованных веб-страниц GridView</span><span class="sxs-lookup"><span data-stu-id="778f0-125">Step 1: Creating the Enhancing the GridView Web Pages</span></span>

<span data-ttu-id="778f0-126">Прежде чем начать улучшать элемент управления GridView для включения столбца переключателей, давайте сначала создадим страницы ASP.NET в нашем проекте веб-сайта, которые понадобятся для работы с этим руководством и следующих двух.</span><span class="sxs-lookup"><span data-stu-id="778f0-126">Before we start enhancing the GridView to include a column of radio buttons, let s first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next two.</span></span> <span data-ttu-id="778f0-127">Для начала добавьте новую папку с именем `EnhancedGridView`.</span><span class="sxs-lookup"><span data-stu-id="778f0-127">Start by adding a new folder named `EnhancedGridView`.</span></span> <span data-ttu-id="778f0-128">Затем добавьте в эту папку следующие страницы ASP.NET, чтобы связать каждую страницу с главной страницей `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="778f0-128">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `RadioButtonField.aspx`
- `CheckBoxField.aspx`
- `InsertThroughFooter.aspx`

![Добавление страниц ASP.NET для учебников, связанных с SqlDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.gif)

<span data-ttu-id="778f0-130">**Рис. 1**. добавление страниц ASP.NET для учебников, связанных с SqlDataSource</span><span class="sxs-lookup"><span data-stu-id="778f0-130">**Figure 1**: Add the ASP.NET Pages for the SqlDataSource-Related Tutorials</span></span>

<span data-ttu-id="778f0-131">Как и в других папках, `Default.aspx` в папке `EnhancedGridView` будут перечислены учебники в разделе.</span><span class="sxs-lookup"><span data-stu-id="778f0-131">Like in the other folders, `Default.aspx` in the `EnhancedGridView` folder will list the tutorials in its section.</span></span> <span data-ttu-id="778f0-132">Вспомним, что `SectionLevelTutorialListing.ascx` пользовательский элемент управления предоставляет эти функции.</span><span class="sxs-lookup"><span data-stu-id="778f0-132">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="778f0-133">Таким образом, добавьте этот пользовательский элемент управления в `Default.aspx`, перетащив его из обозреватель решений на страницу s представление конструирования.</span><span class="sxs-lookup"><span data-stu-id="778f0-133">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page s Design view.</span></span>

<span data-ttu-id="778f0-134">[![добавить пользовательский элемент управления SectionLevelTutorialListing. ascx в Default. aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-134">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.png)</span></span>

<span data-ttu-id="778f0-135">**Рис. 2**. Добавление пользовательского элемента управления `SectionLevelTutorialListing.ascx` в `Default.aspx` ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-135">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.png))</span></span>

<span data-ttu-id="778f0-136">Наконец, добавьте эти четыре страницы в качестве записей в файл `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="778f0-136">Lastly, add these four pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="778f0-137">В частности, добавьте следующую разметку после использования `<siteMapNode>`элемента управления SqlDataSource:</span><span class="sxs-lookup"><span data-stu-id="778f0-137">Specifically, add the following markup after the Using the SqlDataSource Control `<siteMapNode>`:</span></span>

[!code-xml[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample1.xml)]

<span data-ttu-id="778f0-138">После обновления `Web.sitemap`просмотрите веб-сайт учебников в браузере.</span><span class="sxs-lookup"><span data-stu-id="778f0-138">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="778f0-139">В меню слева теперь содержатся элементы для учебников по редактированию, вставке и удалению.</span><span class="sxs-lookup"><span data-stu-id="778f0-139">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>

![На карте веб-узла теперь есть записи для улучшения учебников по GridView.](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.gif)

<span data-ttu-id="778f0-141">**Рис. 3**. схема узла теперь включает в себя записи для улучшения учебников по GridView</span><span class="sxs-lookup"><span data-stu-id="778f0-141">**Figure 3**: The Site Map Now Includes Entries for the Enhancing the GridView Tutorials</span></span>

## <a name="step-2-displaying-the-suppliers-in-a-gridview"></a><span data-ttu-id="778f0-142">Шаг 2. Отображение поставщиков в элементе управления GridView</span><span class="sxs-lookup"><span data-stu-id="778f0-142">Step 2: Displaying the Suppliers in a GridView</span></span>

<span data-ttu-id="778f0-143">В этом руководстве мы добавим GridView, в котором перечислены поставщики из США, и каждая строка GridView предоставляет переключатель.</span><span class="sxs-lookup"><span data-stu-id="778f0-143">For this tutorial let s build a GridView that lists the suppliers from the USA, with each GridView row providing a radio button.</span></span> <span data-ttu-id="778f0-144">После выбора поставщика с помощью переключателя пользователь может просматривать продукты поставщика, нажав кнопку.</span><span class="sxs-lookup"><span data-stu-id="778f0-144">After selecting a supplier via the radio button, the user can view the supplier s products by clicking a button.</span></span> <span data-ttu-id="778f0-145">Хотя эта задача может показаться тривиальной, существует ряд тонкостей, которые делают его особенно сложным.</span><span class="sxs-lookup"><span data-stu-id="778f0-145">While this task may sound trivial, there are a number of subtleties that make it particularly tricky.</span></span> <span data-ttu-id="778f0-146">Прежде чем углубляться в эти тонкости, давайте сначала создадим GridView с перечнем поставщиков.</span><span class="sxs-lookup"><span data-stu-id="778f0-146">Before we delve into these subtleties, let s first get a GridView listing the suppliers.</span></span>

<span data-ttu-id="778f0-147">Для начала откройте страницу `RadioButtonField.aspx` в папке `EnhancedGridView`, перетащив элемент управления GridView с панели инструментов в конструктор.</span><span class="sxs-lookup"><span data-stu-id="778f0-147">Start by opening the `RadioButtonField.aspx` page in the `EnhancedGridView` folder by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="778f0-148">Задайте для `ID` GridView s `Suppliers` и в его смарт-теге выберите Создание нового источника данных.</span><span class="sxs-lookup"><span data-stu-id="778f0-148">Set the GridView s `ID` to `Suppliers` and, from its smart tag, choose to create a new data source.</span></span> <span data-ttu-id="778f0-149">В частности, создайте объект ObjectDataSource с именем `SuppliersDataSource`, который извлекает свои данные из объекта `SuppliersBLL`.</span><span class="sxs-lookup"><span data-stu-id="778f0-149">Specifically, create an ObjectDataSource named `SuppliersDataSource` that pulls its data from the `SuppliersBLL` object.</span></span>

<span data-ttu-id="778f0-150">[![создать новый элемент управления ObjectDataSource с именем Супплиерсдатасаурце](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-150">[![Create a New ObjectDataSource Named SuppliersDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.png)</span></span>

<span data-ttu-id="778f0-151">**Рис. 4**. Создание нового элемента управления ObjectDataSource с именем `SuppliersDataSource` ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-151">**Figure 4**: Create a New ObjectDataSource Named `SuppliersDataSource` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.png))</span></span>

<span data-ttu-id="778f0-152">[![настроить ObjectDataSource для использования класса Супплиерсблл](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-152">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.png)</span></span>

<span data-ttu-id="778f0-153">**Рис. 5**. Настройка ObjectDataSource для использования класса `SuppliersBLL` ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-153">**Figure 5**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.png))</span></span>

<span data-ttu-id="778f0-154">Так как мы хотим вывести только поставщиков из США, выберите метод `GetSuppliersByCountry(country)` из раскрывающегося списка на вкладке Выбор.</span><span class="sxs-lookup"><span data-stu-id="778f0-154">Since we only want to list those suppliers in the USA, choose the `GetSuppliersByCountry(country)` method from the drop-down list in the SELECT tab.</span></span>

<span data-ttu-id="778f0-155">[![настроить ObjectDataSource для использования класса Супплиерсблл](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-155">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.png)</span></span>

<span data-ttu-id="778f0-156">**Рис. 6**. Настройка ObjectDataSource для использования класса `SuppliersBLL` ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-156">**Figure 6**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.png))</span></span>

<span data-ttu-id="778f0-157">На вкладке обновление выберите параметр (нет) и нажмите кнопку Далее.</span><span class="sxs-lookup"><span data-stu-id="778f0-157">From the UPDATE tab, select the (None) option and click Next.</span></span>

<span data-ttu-id="778f0-158">[![настроить ObjectDataSource для использования класса Супплиерсблл](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-158">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.png)</span></span>

<span data-ttu-id="778f0-159">**Рис. 7**. Настройка ObjectDataSource для использования класса `SuppliersBLL` ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-159">**Figure 7**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.png))</span></span>

<span data-ttu-id="778f0-160">Так как метод `GetSuppliersByCountry(country)` принимает параметр, мастер настройки источника данных запрашивает у нас источник этого параметра.</span><span class="sxs-lookup"><span data-stu-id="778f0-160">Since the `GetSuppliersByCountry(country)` method accepts a parameter, the Configure Data Source wizard prompts us for the source of that parameter.</span></span> <span data-ttu-id="778f0-161">Чтобы указать жестко закодированное значение (в данном примере это USA), оставьте в раскрывающемся списке Источник параметра значение нет и введите значение по умолчанию в текстовое поле.</span><span class="sxs-lookup"><span data-stu-id="778f0-161">To specify a hard coded value ( USA, in this example), leave the Parameter source drop-down list set to None and enter the default value in the textbox.</span></span> <span data-ttu-id="778f0-162">Чтобы завершить работу мастера, нажмите кнопку Готово.</span><span class="sxs-lookup"><span data-stu-id="778f0-162">Click Finish to complete the wizard.</span></span>

<span data-ttu-id="778f0-163">[![использовать USA в качестве значения по умолчанию для параметра Country](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-163">[![Use USA as the Default Value for the country Parameter](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.png)</span></span>

<span data-ttu-id="778f0-164">**Рис. 8**. Использование USA в качестве значения по умолчанию для параметра `country` ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-164">**Figure 8**: Use USA as the Default Value for the `country` Parameter ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.png))</span></span>

<span data-ttu-id="778f0-165">После завершения работы мастера GridView будет включать BoundField для каждого поля данных поставщика.</span><span class="sxs-lookup"><span data-stu-id="778f0-165">After completing the wizard, the GridView will include a BoundField for each of the supplier data fields.</span></span> <span data-ttu-id="778f0-166">Удалите все, кроме `CompanyName`, `City`и `Country` BoundFields, и переименуйте свойство `CompanyName` BoundFields `HeaderText` на поставщик.</span><span class="sxs-lookup"><span data-stu-id="778f0-166">Remove all but the `CompanyName`, `City`, and `Country` BoundFields, and rename the `CompanyName` BoundFields `HeaderText` property to Supplier.</span></span> <span data-ttu-id="778f0-167">После этого декларативный синтаксис GridView и ObjectDataSource должен выглядеть следующим образом.</span><span class="sxs-lookup"><span data-stu-id="778f0-167">After doing so, the GridView and ObjectDataSource declarative syntax should look similar to the following.</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample2.aspx)]

<span data-ttu-id="778f0-168">В рамках этого руководства разрешить пользователю просматривать выбранные продукты поставщика на той же странице, что и список поставщиков, или на другой странице.</span><span class="sxs-lookup"><span data-stu-id="778f0-168">For this tutorial, let s allow the user to view the selected supplier s products on the same page as the supplier list, or on a different page.</span></span> <span data-ttu-id="778f0-169">Для этого добавьте на страницу два веб-элемента управления "Кнопка".</span><span class="sxs-lookup"><span data-stu-id="778f0-169">To accommodate this, add two Button Web controls to the page.</span></span> <span data-ttu-id="778f0-170">Я настроил `ID` s этих двух кнопок для `ListProducts` и `SendToProducts`, предложим, что при нажатии `ListProducts` произойдет обратная передача, и выбранные продукты поставщика будут перечислены на той же странице, но при нажатии `SendToProducts` пользователь будет перейти на другую страницу со списком продуктов.</span><span class="sxs-lookup"><span data-stu-id="778f0-170">I ve set the `ID` s of these two Buttons to `ListProducts` and `SendToProducts`, with the idea that when `ListProducts` is clicked a postback will occur and the selected supplier s products will be listed on the same page, but when `SendToProducts` is clicked, the user will be whisked to a another page that lists the products.</span></span>

<span data-ttu-id="778f0-171">На рис. 9 показаны `Suppliers` GridView и два веб-элемента управления "Кнопка" при просмотре в браузере.</span><span class="sxs-lookup"><span data-stu-id="778f0-171">Figure 9 shows the `Suppliers` GridView and the two Button Web controls when viewed through a browser.</span></span>

<span data-ttu-id="778f0-172">[![для поставщиков из США у вас есть сведения об имени, городе и стране.](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-172">[![Those Suppliers from the USA Have Their Name, City, and Country Information Listed](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.png)</span></span>

<span data-ttu-id="778f0-173">**Рис. 9**. в списке поставщиков из США указаны сведения о названии, городе и стране ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-173">**Figure 9**: Those Suppliers from the USA Have Their Name, City, and Country Information Listed ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.png))</span></span>

## <a name="step-3-adding-a-column-of-radio-buttons"></a><span data-ttu-id="778f0-174">Шаг 3. Добавление столбца переключателей</span><span class="sxs-lookup"><span data-stu-id="778f0-174">Step 3: Adding a Column of Radio Buttons</span></span>

<span data-ttu-id="778f0-175">На этом этапе `Suppliers` GridView имеет три BoundFields, в которых отображается название компании, город и страна каждого поставщика в США.</span><span class="sxs-lookup"><span data-stu-id="778f0-175">At this point the `Suppliers` GridView has three BoundFields displaying the company name, city, and country of each supplier in the USA.</span></span> <span data-ttu-id="778f0-176">Однако в нем по-прежнему отсутствует столбец переключателей.</span><span class="sxs-lookup"><span data-stu-id="778f0-176">It is still lacking a column of radio buttons, however.</span></span> <span data-ttu-id="778f0-177">К сожалению, GridView не включает встроенный Радиобуттонфиелд, в противном случае мы можем просто добавить его в сетку и выполнить.</span><span class="sxs-lookup"><span data-stu-id="778f0-177">Unfortunately, the GridView doesn t include a built-in RadioButtonField, otherwise we could just add that to the grid and be done.</span></span> <span data-ttu-id="778f0-178">Вместо этого можно добавить TemplateField и настроить его `ItemTemplate` для отрисовки переключателя, в результате чего будет переключатель для каждой строки GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-178">Instead, we can add a TemplateField and configure its `ItemTemplate` to render a radio button, resulting in a radio button for each GridView row.</span></span>

<span data-ttu-id="778f0-179">Изначально мы можем предположить, что нужный пользовательский интерфейс можно реализовать, добавив веб-элемент управления RadioButton в `ItemTemplate` TemplateField.</span><span class="sxs-lookup"><span data-stu-id="778f0-179">Initially, we might assume that the desired user interface can be implemented by adding a RadioButton Web control to the `ItemTemplate` of a TemplateField.</span></span> <span data-ttu-id="778f0-180">Хотя это действительно добавляет один переключатель к каждой строке GridView, переключатели не могут быть сгруппированы и поэтому не являются взаимоисключающими.</span><span class="sxs-lookup"><span data-stu-id="778f0-180">While this will indeed add a single radio button to each row of the GridView, the radio buttons cannot be grouped and therefore are not mutually exclusive.</span></span> <span data-ttu-id="778f0-181">Это значит, что конечный пользователь может одновременно выбрать несколько переключателей из GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-181">That is, an end user is able to select multiple radio buttons simultaneously from the GridView.</span></span>

<span data-ttu-id="778f0-182">Несмотря на то, что использование TemplateField веб-элементов управления RadioButton не предоставляет требуемых функций, давайте разберем этот подход, так как стоит изучить, почему результирующие переключатели не сгруппированы.</span><span class="sxs-lookup"><span data-stu-id="778f0-182">Even though using a TemplateField of RadioButton Web controls does not offer the functionality we need, let s implement this approach, as it s worthwhile to examine why the resulting radio buttons are not grouped.</span></span> <span data-ttu-id="778f0-183">Начните с добавления TemplateField к GridView поставщиков, сделав его крайним левым полем.</span><span class="sxs-lookup"><span data-stu-id="778f0-183">Start by adding a TemplateField to the Suppliers GridView, making it the leftmost field.</span></span> <span data-ttu-id="778f0-184">Затем из смарт-тега GridView s щелкните ссылку Edit Templates (изменить шаблоны) и перетащите веб-элемент управления RadioButton из панели элементов в `ItemTemplate` TemplateField s (см. рис. 10).</span><span class="sxs-lookup"><span data-stu-id="778f0-184">Next, from the GridView s smart tag, click the Edit Templates link and drag a RadioButton Web control from the Toolbox into the TemplateField s `ItemTemplate` (see Figure 10).</span></span> <span data-ttu-id="778f0-185">Задайте для свойства RadioButton `ID` значение `RowSelector`, а для свойства `GroupName` значение `SuppliersGroup`.</span><span class="sxs-lookup"><span data-stu-id="778f0-185">Set the RadioButton s `ID` property to `RowSelector` and the `GroupName` property to `SuppliersGroup`.</span></span>

<span data-ttu-id="778f0-186">[![Добавление веб-элемента управления RadioButton в ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-186">[![Add a RadioButton Web Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.png)</span></span>

<span data-ttu-id="778f0-187">**Рис. 10**. Добавление веб-элемента управления RadioButton в `ItemTemplate` ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-187">**Figure 10**: Add a RadioButton Web Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.png))</span></span>

<span data-ttu-id="778f0-188">После внесения этих дополнений с помощью конструктора разметка GridView s должна выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="778f0-188">After making these additions through the Designer, your GridView s markup should look similar to the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample3.aspx)]

<span data-ttu-id="778f0-189">[Свойство RadioButton`GroupName`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx) используется для группирования ряда переключателей.</span><span class="sxs-lookup"><span data-stu-id="778f0-189">The RadioButton s [`GroupName` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx) is what is used to group a series of radio buttons.</span></span> <span data-ttu-id="778f0-190">Все элементы управления RadioButton с одинаковым значением `GroupName` считаются сгруппированными. только один переключатель может быть выбран из группы за раз.</span><span class="sxs-lookup"><span data-stu-id="778f0-190">All RadioButton controls with the same `GroupName` value are considered grouped; only one radio button can be selected from a group at a time.</span></span> <span data-ttu-id="778f0-191">Свойство `GroupName` задает значение для отображаемого `name` атрибута переключателя.</span><span class="sxs-lookup"><span data-stu-id="778f0-191">The `GroupName` property specifies the value for the rendered radio button s `name` attribute.</span></span> <span data-ttu-id="778f0-192">Браузер проверяет переключатели, `name` атрибуты, чтобы определить группы переключателей.</span><span class="sxs-lookup"><span data-stu-id="778f0-192">The browser examines the radio buttons `name` attributes to determine the radio button groupings.</span></span>

<span data-ttu-id="778f0-193">После добавления веб-элемента управления RadioButton в `ItemTemplate`посетите эту страницу в браузере и щелкните переключатели в строках сетки.</span><span class="sxs-lookup"><span data-stu-id="778f0-193">With the RadioButton Web control added to the `ItemTemplate`, visit this page through a browser and click on the radio buttons in the grid s rows.</span></span> <span data-ttu-id="778f0-194">Обратите внимание, что переключатели не сгруппированы, что позволяет выбрать все строки, как показано на рис. 11.</span><span class="sxs-lookup"><span data-stu-id="778f0-194">Notice how the radio buttons are not grouped, making it possible to select all of the rows, as Figure 11 shows.</span></span>

<span data-ttu-id="778f0-195">[![переключатели GridView s не сгруппированы](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-195">[![The GridView s Radio Buttons are Not Grouped](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.png)</span></span>

<span data-ttu-id="778f0-196">**Рис. 11**. переключатели GridView s не сгруппированы ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-196">**Figure 11**: The GridView s Radio Buttons are Not Grouped ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.png))</span></span>

<span data-ttu-id="778f0-197">Причина, по которой переключатели не группируются, заключается в том, что их отображаемые `name` атрибуты различаются, несмотря на то же значение свойства `GroupName`.</span><span class="sxs-lookup"><span data-stu-id="778f0-197">The reason the radio buttons are not grouped is because their rendered `name` attributes are different, despite having the same `GroupName` property setting.</span></span> <span data-ttu-id="778f0-198">Чтобы увидеть эти различия, выполните представление/источник в браузере и изучите разметку переключателя:</span><span class="sxs-lookup"><span data-stu-id="778f0-198">To see these differences, do a View/Source from the browser and examine the radio button markup:</span></span>

[!code-html[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample4.html)]

<span data-ttu-id="778f0-199">Обратите внимание, что атрибуты `name` и `id` не являются точными значениями, указанными в окно свойств, но добавляются в начало с числом других `ID` значений.</span><span class="sxs-lookup"><span data-stu-id="778f0-199">Notice how both the `name` and `id` attributes are not the exact values as specified in the Properties window, but are prepended with a number of other `ID` values.</span></span> <span data-ttu-id="778f0-200">Дополнительные значения `ID`, добавляемые в начало отображаемых `id` и `name` атрибутов, — это `ID` s из переключателей родительские элементы управления `GridViewRow` s `ID` s, GridView s `ID`, `ID`элемента управления содержимым и веб-форм `ID`.</span><span class="sxs-lookup"><span data-stu-id="778f0-200">The additional `ID` values added to the front of the rendered `id` and `name` attributes are the `ID` s of the radio buttons parent controls the `GridViewRow` s `ID` s, the GridView s `ID`, the Content control s `ID`, and the Web Form s `ID`.</span></span> <span data-ttu-id="778f0-201">Эти `ID` s добавляются таким образом, чтобы каждый отображаемый веб-элемент управления в GridView получил уникальные значения `id` и `name`.</span><span class="sxs-lookup"><span data-stu-id="778f0-201">These `ID` s are added so that each rendered Web control in the GridView has a unique `id` and `name` values.</span></span>

<span data-ttu-id="778f0-202">Каждому визуализированному элементу управления требуются разные `name` и `id`, так как в этом случае браузер уникально идентифицирует каждый элемент управления на стороне клиента и как он идентифицирует веб-серверу, какое действие или изменение произошло при обратной передаче.</span><span class="sxs-lookup"><span data-stu-id="778f0-202">Each rendered control needs a different `name` and `id` because this is how the browser uniquely identifies each control on the client-side and how it identifies to the web server what action or change has occurred on postback.</span></span> <span data-ttu-id="778f0-203">Например, представьте, что нам нужно выполнить некоторый серверный код при изменении состояния RadioButton s.</span><span class="sxs-lookup"><span data-stu-id="778f0-203">For example, imagine that we wanted to run some server-side code whenever a RadioButton s checked state was changed.</span></span> <span data-ttu-id="778f0-204">Это можно сделать, задав для свойства RadioButton `AutoPostBack` значение `true` и создав обработчик событий для события `CheckChanged`.</span><span class="sxs-lookup"><span data-stu-id="778f0-204">We could accomplish this by setting the RadioButton s `AutoPostBack` property to `true` and creating an event handler for the `CheckChanged` event.</span></span> <span data-ttu-id="778f0-205">Однако если отображаемые значения `name` и `id` для всех переключателей одинаковы, при обратной передаче не удалось определить, какой именно переключатель был нажат.</span><span class="sxs-lookup"><span data-stu-id="778f0-205">However, if the rendered `name` and `id` values for all of the radio buttons were the same, on postback we could not determine what specific RadioButton was clicked.</span></span>

<span data-ttu-id="778f0-206">Вкратце, мы не можем создать столбец переключателей в GridView с помощью веб-элемента управления RadioButton.</span><span class="sxs-lookup"><span data-stu-id="778f0-206">The short of it is that we cannot create a column of radio buttons in a GridView using the RadioButton Web control.</span></span> <span data-ttu-id="778f0-207">Вместо этого необходимо использовать довольно устаревшим методики, чтобы гарантировать, что соответствующая разметка будет вставлена в каждую строку GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-207">Instead, we must use rather archaic techniques to ensure that the appropriate markup is injected into each GridView row.</span></span>

> [!NOTE]
> <span data-ttu-id="778f0-208">Как и в случае с веб-элементом управления RadioButton, элемент управления HTML переключателя, добавляемый к шаблону, будет включать уникальный атрибут `name`, делая переключатели в сетке разгруппированными.</span><span class="sxs-lookup"><span data-stu-id="778f0-208">Like the RadioButton Web control, the radio button HTML control, when added to a template, will include the unique `name` attribute, making the radio buttons in the grid ungrouped.</span></span> <span data-ttu-id="778f0-209">Если вы не знакомы с HTML-элементами управления, вы можете проигнорировать это Примечание, так как элементы управления HTML редко используются, особенно в ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="778f0-209">If you are not familiar with HTML controls, feel free to disregard this note, as HTML controls are rarely used, especially in ASP.NET 2.0.</span></span> <span data-ttu-id="778f0-210">Но если вы заинтересованы в дополнительном изучении, см. статью о [веб-элементах управления и](http://www.odetocode.com/Articles/348.aspx)элементах управления HTML в записи блога [K. Скотт Аллен](http://odetocode.com/blogs/scott/default.aspx) s.</span><span class="sxs-lookup"><span data-stu-id="778f0-210">But if you are interested in learning more, see [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx) s blog entry [Web Controls and HTML Controls](http://www.odetocode.com/Articles/348.aspx).</span></span>

## <a name="using-a-literal-control-to-inject-radio-button-markup"></a><span data-ttu-id="778f0-211">Использование элемента управления Literal для внедрения разметки переключателей</span><span class="sxs-lookup"><span data-stu-id="778f0-211">Using a Literal Control to Inject Radio Button Markup</span></span>

<span data-ttu-id="778f0-212">Чтобы правильно сгруппировать все переключатели в GridView, необходимо вручную вставить разметку переключателей в `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="778f0-212">In order to correctly group all of the radio buttons within the GridView, we need to manually inject the radio buttons markup into the `ItemTemplate`.</span></span> <span data-ttu-id="778f0-213">Каждый переключатель должен иметь один и тот же атрибут `name`, но должен иметь уникальный атрибут `id` (если мы хотим получить доступ к переключателю через клиентский сценарий).</span><span class="sxs-lookup"><span data-stu-id="778f0-213">Each radio button needs the same `name` attribute, but should have a unique `id` attribute (in case we want to access a radio button via client-side script).</span></span> <span data-ttu-id="778f0-214">После того как пользователь выберет переключатель и отправляет обратно страницу, браузер отправит значение выбранного переключателя `value` атрибут.</span><span class="sxs-lookup"><span data-stu-id="778f0-214">After a user selects a radio button and posts back the page, the browser will send back the value of the selected radio button s `value` attribute.</span></span> <span data-ttu-id="778f0-215">Таким образом, каждому переключателю потребуется уникальный атрибут `value`.</span><span class="sxs-lookup"><span data-stu-id="778f0-215">Therefore, each radio button will need a unique `value` attribute.</span></span> <span data-ttu-id="778f0-216">Наконец, при обратной передаче необходимо добавить атрибут `checked` к выбранному переключателю. в противном случае после того, как пользователь сделает выбор и отправит ответ, переключатели будут возвращаться к состоянию по умолчанию (все невыбранные).</span><span class="sxs-lookup"><span data-stu-id="778f0-216">Finally, on postback we need to make sure to add the `checked` attribute to the one radio button that is selected, otherwise after the user makes a selection and posts back, the radio buttons will return to their default state (all unselected).</span></span>

<span data-ttu-id="778f0-217">Существует два подхода к внедрению разметки нижнего уровня в шаблон.</span><span class="sxs-lookup"><span data-stu-id="778f0-217">There are two approaches that can be taken in order to inject low-level markup into a template.</span></span> <span data-ttu-id="778f0-218">Одна из них — выполнить смесь разметки и вызовов методов форматирования, определенных в классе кода программной части.</span><span class="sxs-lookup"><span data-stu-id="778f0-218">One is to do a mix of markup and calls to formatting methods defined in the code-behind class.</span></span> <span data-ttu-id="778f0-219">Этот метод впервые обсуждался в разделе [Использование полей TemplateField в руководстве по элементу управления GridView](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) .</span><span class="sxs-lookup"><span data-stu-id="778f0-219">This technique was first discussed in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial.</span></span> <span data-ttu-id="778f0-220">В нашем случае он может выглядеть примерно так:</span><span class="sxs-lookup"><span data-stu-id="778f0-220">In our case it might look something like:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample5.aspx)]

<span data-ttu-id="778f0-221">Здесь `GetUniqueRadioButton` и `GetRadioButtonValue` будут методами, определенными в классе кода программной части, который возвращал соответствующие значения атрибутов `id` и `value` для каждого переключателя.</span><span class="sxs-lookup"><span data-stu-id="778f0-221">Here, `GetUniqueRadioButton` and `GetRadioButtonValue` would be methods defined in the code-behind class that returned the appropriate `id` and `value` attribute values for each radio button.</span></span> <span data-ttu-id="778f0-222">Этот подход хорошо работает при назначении атрибутов `id` и `value`, но оказывается коротким, когда требуется указать значение атрибута `checked`, поскольку синтаксис DataBinding выполняется только при первой привязке данных к GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-222">This approach works well for assigning the `id` and `value` attributes, but falls short when needing to specify the `checked` attribute value because the databinding syntax is only executed when data is first bound to the GridView.</span></span> <span data-ttu-id="778f0-223">Таким образом, если для GridView включено состояние представления, то методы форматирования будут срабатывать только при первой загрузке страницы (или при явной повторной привязке GridView к источнику данных), поэтому функция, устанавливающая `checked` атрибут, не будет вызываться при обратной передаче.</span><span class="sxs-lookup"><span data-stu-id="778f0-223">Therefore, if the GridView has view state enabled, the formatting methods will only fire when the page is first loaded (or when the GridView is explicitly rebound to the data source), and therefore the function that sets the `checked` attribute won't be called on postback.</span></span> <span data-ttu-id="778f0-224">Это довольно несложная проблема и немного выходит за рамки этой статьи, поэтому я оставлю это.</span><span class="sxs-lookup"><span data-stu-id="778f0-224">It s a rather subtle problem and a bit beyond the scope of this article, so I'll leave it at this.</span></span> <span data-ttu-id="778f0-225">Однако я рекомендую использовать описанный выше подход и работать с ним до того момента, когда вы забудете.</span><span class="sxs-lookup"><span data-stu-id="778f0-225">I do, however, encourage you to try using the above approach and work it through to the point where you'll get stuck.</span></span> <span data-ttu-id="778f0-226">Хотя такое упражнение не будет более близко к рабочей версии, оно поможет улучшить понимание элемента GridView и жизненного цикла привязки данных.</span><span class="sxs-lookup"><span data-stu-id="778f0-226">While such an exercise won't get you any closer to a working version, it will help foster a deeper understanding of the GridView and the databinding lifecycle.</span></span>

<span data-ttu-id="778f0-227">Другой подход к внедрению настраиваемой разметки нижнего уровня в шаблон и подход, который мы будем использовать для работы с этим руководством, — добавить к шаблону [элемент управления Literal](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx) .</span><span class="sxs-lookup"><span data-stu-id="778f0-227">The other approach to injecting custom, low-level markup in a template and the approach that we'll be using for this tutorial is to add a [Literal control](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx) to the template.</span></span> <span data-ttu-id="778f0-228">Затем в `RowCreated` обработчике событий GridView s или `RowDataBound` к элементу управления Literal можно обращаться программно, а свойству `Text` — разметке для выдачи.</span><span class="sxs-lookup"><span data-stu-id="778f0-228">Then, in the GridView s `RowCreated` or `RowDataBound` event handler, the Literal control can be programmatically accessed and its `Text` property set to the markup to emit.</span></span>

<span data-ttu-id="778f0-229">Начните с удаления RadioButton из TemplateField `ItemTemplate`s, заменив его на элемент управления Literal.</span><span class="sxs-lookup"><span data-stu-id="778f0-229">Start by removing the RadioButton from the TemplateField s `ItemTemplate`, replacing it with a Literal control.</span></span> <span data-ttu-id="778f0-230">Задайте для свойства `ID` литерала значение `RadioButtonMarkup`.</span><span class="sxs-lookup"><span data-stu-id="778f0-230">Set the Literal control s `ID` to `RadioButtonMarkup`.</span></span>

<span data-ttu-id="778f0-231">[![добавить элемент управления Literal в ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-231">[![Add a Literal Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.png)</span></span>

<span data-ttu-id="778f0-232">**Рис. 12**. Добавление элемента управления Literal в `ItemTemplate` ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-232">**Figure 12**: Add a Literal Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.png))</span></span>

<span data-ttu-id="778f0-233">Затем создайте обработчик событий для события `RowCreated` GridView s.</span><span class="sxs-lookup"><span data-stu-id="778f0-233">Next, create an event handler for the GridView s `RowCreated` event.</span></span> <span data-ttu-id="778f0-234">Событие `RowCreated` срабатывает один раз для каждой добавляемой строки, независимо от того, выполняется ли повторное связывание данных с GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-234">The `RowCreated` event fires once for every row added, whether or not the data is being rebound to the GridView.</span></span> <span data-ttu-id="778f0-235">Это означает, что даже при обратной передаче данных из состояния представления, событие `RowCreated` по-прежнему срабатывает, и именно поэтому мы используем его вместо `RowDataBound` (который срабатывает только в том случае, если данные явно привязаны к веб-элементу управления данными).</span><span class="sxs-lookup"><span data-stu-id="778f0-235">That means that even on a postback when the data is reloaded from view state, the `RowCreated` event still fires and this is the reason we are using it instead of `RowDataBound` (which fires only when the data is explicitly bound to the data Web control).</span></span>

<span data-ttu-id="778f0-236">В этом обработчике событий мы хотим продолжить, только если мы переработаем со строкой данных.</span><span class="sxs-lookup"><span data-stu-id="778f0-236">In this event handler, we only want to proceed if we re dealing with a data row.</span></span> <span data-ttu-id="778f0-237">Для каждой строки данных необходимо программно ссылаться на `RadioButtonMarkup` литеральный элемент управления и устанавливать его свойство `Text` в разметку для выдачи.</span><span class="sxs-lookup"><span data-stu-id="778f0-237">For each data row we want to programmatically reference the `RadioButtonMarkup` Literal control and set its `Text` property to the markup to emit.</span></span> <span data-ttu-id="778f0-238">Как показано в следующем коде, созданная разметка создает переключатель, атрибут `name` которого имеет значение `SuppliersGroup`, чей атрибут `id` имеет значение `RowSelectorX`, где *X* — индекс строки GridView, а атрибут `value` — индекс строки GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-238">As the following code shows, the markup emitted creates a radio button whose `name` attribute is set to `SuppliersGroup`, whose `id` attribute is set to `RowSelectorX`, where *X* is the index of the GridView row, and whose `value` attribute is set to the index of the GridView row.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample6.cs)]

<span data-ttu-id="778f0-239">Если строка GridView выбрана и выполняется обратная передача, мы заинтересованы в `SupplierID` выбранного поставщика.</span><span class="sxs-lookup"><span data-stu-id="778f0-239">When a GridView row is selected and a postback occurs, we are interested in the `SupplierID` of the selected supplier.</span></span> <span data-ttu-id="778f0-240">Таким образом, можно предположить, что значение каждого переключателя должно быть фактическим `SupplierID` (а не индексом строки GridView).</span><span class="sxs-lookup"><span data-stu-id="778f0-240">Therefore, one might think that the value of each radio button should be the actual `SupplierID` (rather than the index of the GridView row).</span></span> <span data-ttu-id="778f0-241">Хотя это может работать в определенных обстоятельствах, угроза безопасности не принимает и не обрабатывает `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="778f0-241">While this may work in certain circumstances, it would be a security risk to blindly accept and process a `SupplierID`.</span></span> <span data-ttu-id="778f0-242">Например, наш GridView перечисляет только поставщиков в США.</span><span class="sxs-lookup"><span data-stu-id="778f0-242">Our GridView, for example, lists only those suppliers in the USA.</span></span> <span data-ttu-id="778f0-243">Однако, если `SupplierID` передается непосредственно из переключателя, что нужно сделать, чтобы запретить пользователю хитрый манипулировать значением `SupplierID`, передаваемым при обратной передаче?</span><span class="sxs-lookup"><span data-stu-id="778f0-243">However, if the `SupplierID` is passed directly from the radio button, what s to stop a mischievous user from manipulating the `SupplierID` value sent back on postback?</span></span> <span data-ttu-id="778f0-244">Используя индекс строки в качестве `value`и получив `SupplierID` при обратной передаче из коллекции `DataKeys`, можно гарантировать, что пользователь использует только одно из значений `SupplierID`, связанных с одной из строк GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-244">By using the row index as the `value`, and then getting the `SupplierID` on postback from the `DataKeys` collection, we can ensure that the user is only using one of the `SupplierID` values associated with one of the GridView rows.</span></span>

<span data-ttu-id="778f0-245">После добавления этого кода обработчика событий уделите минуту, чтобы протестировать страницу в браузере.</span><span class="sxs-lookup"><span data-stu-id="778f0-245">After adding this event handler code, take a minute to test out the page in a browser.</span></span> <span data-ttu-id="778f0-246">Во-первых, обратите внимание, что за раз можно выбрать только один переключатель в сетке.</span><span class="sxs-lookup"><span data-stu-id="778f0-246">First, note that only one radio button in the grid can be selected at a time.</span></span> <span data-ttu-id="778f0-247">Однако при выборе переключателя и нажатии одной из кнопок происходит обратная передача и все переключатели возвращаются в исходное состояние (то есть при обратной передаче выбранный переключатель больше не выбирается).</span><span class="sxs-lookup"><span data-stu-id="778f0-247">However, when selecting a radio button and clicking one of the buttons, a postback occurs and the radio buttons all revert to their initial state (that is, on postback, the selected radio button is no longer selected).</span></span> <span data-ttu-id="778f0-248">Чтобы устранить эту проблему, необходимо расширить обработчик событий `RowCreated` таким образом, чтобы он проверил выбранный индекс переключателя, отправленный из обратной передачи, и добавил атрибут `checked="checked"` в созданную разметку индекса строки.</span><span class="sxs-lookup"><span data-stu-id="778f0-248">To fix this, we need to augment the `RowCreated` event handler so that it inspects the selected radio button index sent from the postback and adds the `checked="checked"` attribute to the emitted markup of the row index matches.</span></span>

<span data-ttu-id="778f0-249">Когда происходит обратная передача, браузер отправляет обратно `name` и `value` выбранного переключателя.</span><span class="sxs-lookup"><span data-stu-id="778f0-249">When a postback occurs, the browser sends back the `name` and `value` of the selected radio button.</span></span> <span data-ttu-id="778f0-250">Значение может быть получено программным способом с помощью `Request.Form["name"]`.</span><span class="sxs-lookup"><span data-stu-id="778f0-250">The value can be programmatically retrieved using `Request.Form["name"]`.</span></span> <span data-ttu-id="778f0-251">[Свойство`Request.Form`](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx) предоставляет [`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) , представляющий переменные формы.</span><span class="sxs-lookup"><span data-stu-id="778f0-251">The [`Request.Form` property](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx) provides a [`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) representing the form variables.</span></span> <span data-ttu-id="778f0-252">Переменные формы представляют собой имена и значения полей формы на веб-странице и отправляются обратно веб-браузером каждый раз, когда происходит обратная передача.</span><span class="sxs-lookup"><span data-stu-id="778f0-252">The form variables are the names and values of the form fields in the web page, and are sent back by the web browser whenever a postback ensues.</span></span> <span data-ttu-id="778f0-253">Поскольку отображаемый атрибут `name` переключателей в GridView имеет `SuppliersGroup`, при обратной передаче веб-страницы браузер отправляет `SuppliersGroup=valueOfSelectedRadioButton` обратно на веб-сервер (вместе с другими полями формы).</span><span class="sxs-lookup"><span data-stu-id="778f0-253">Because the rendered `name` attribute of the radio buttons in the GridView is `SuppliersGroup`, when the web page is posted back the browser will send `SuppliersGroup=valueOfSelectedRadioButton` back to the web server (along with the other form fields).</span></span> <span data-ttu-id="778f0-254">Затем эти сведения можно получить из свойства `Request.Form` с помощью: `Request.Form["SuppliersGroup"]`.</span><span class="sxs-lookup"><span data-stu-id="778f0-254">This information can then be accessed from the `Request.Form` property using: `Request.Form["SuppliersGroup"]`.</span></span>

<span data-ttu-id="778f0-255">Так как нам нужно определить индекс выбранного переключателя не только в обработчике `RowCreated` событий, но и в обработчиках событий `Click` для веб-элементов управления "Кнопка", добавим свойство `SuppliersSelectedIndex` в класс кода программной части, который возвращает значение `-1`, если переключатель не выбран, и выбранный индекс, если выбран один из переключателей.</span><span class="sxs-lookup"><span data-stu-id="778f0-255">Since we'll need to determine the selected radio button index not only in the `RowCreated` event handler, but in the `Click` event handlers for the Button Web controls, let s add a `SuppliersSelectedIndex` property to the code-behind class that returns `-1` if no radio button was selected and the selected index if one of the radio buttons is selected.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample7.cs)]

<span data-ttu-id="778f0-256">После добавления этого свойства мы будем добавлять разметку `checked="checked"` в обработчик событий `RowCreated`, когда `SuppliersSelectedIndex` равно `e.Row.RowIndex`.</span><span class="sxs-lookup"><span data-stu-id="778f0-256">With this property added, we know to add the `checked="checked"` markup in the `RowCreated` event handler when `SuppliersSelectedIndex` equals `e.Row.RowIndex`.</span></span> <span data-ttu-id="778f0-257">Обновите обработчик событий, чтобы включить эту логику:</span><span class="sxs-lookup"><span data-stu-id="778f0-257">Update the event handler to include this logic:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample8.cs)]

<span data-ttu-id="778f0-258">После этого изменения выбранный переключатель остается выбранным после обратной передачи.</span><span class="sxs-lookup"><span data-stu-id="778f0-258">With this change, the selected radio button remains selected after a postback.</span></span> <span data-ttu-id="778f0-259">Теперь, когда у нас есть возможность указать, какой переключатель выбран, можно изменить поведение таким образом, чтобы при первом посещении страницы был выбран переключатель первого элемента GridView Row s (вместо того, чтобы ни один переключатель не был выбран по умолчанию, а это текущий поведение).</span><span class="sxs-lookup"><span data-stu-id="778f0-259">Now that we have the ability to specify what radio button is selected, we could change the behavior so that when the page was first visited, the first GridView row s radio button was selected (rather than having no radio buttons selected by default, which is the current behavior).</span></span> <span data-ttu-id="778f0-260">Чтобы первый переключатель был выбран по умолчанию, просто измените инструкцию `if (SuppliersSelectedIndex == e.Row.RowIndex)` следующим образом: `if (SuppliersSelectedIndex == e.Row.RowIndex || (!Page.IsPostBack && e.Row.RowIndex == 0))`.</span><span class="sxs-lookup"><span data-stu-id="778f0-260">To have the first radio button selected by default, simply change the `if (SuppliersSelectedIndex == e.Row.RowIndex)` statement to the following: `if (SuppliersSelectedIndex == e.Row.RowIndex || (!Page.IsPostBack && e.Row.RowIndex == 0))`.</span></span>

<span data-ttu-id="778f0-261">На этом этапе мы добавили в GridView столбец с сгруппированными переключателями, позволяющий выбрать одну строку GridView и запомнить ее в обратных передачах.</span><span class="sxs-lookup"><span data-stu-id="778f0-261">At this point we have added a column of grouped radio buttons to the GridView that allows for a single GridView row to be selected and remembered across postbacks.</span></span> <span data-ttu-id="778f0-262">Следующим этапом является отображение продуктов, предоставленных выбранным поставщиком.</span><span class="sxs-lookup"><span data-stu-id="778f0-262">Our next steps are to display the products provided by the selected supplier.</span></span> <span data-ttu-id="778f0-263">На шаге 4 мы посмотрим, как перенаправить пользователя на другую страницу, отправляя выбранные `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="778f0-263">In Step 4 we'll see how to redirect the user to another page, sending along the selected `SupplierID`.</span></span> <span data-ttu-id="778f0-264">На шаге 5 мы посмотрим, как отобразить выбранные продукты поставщика в элементе управления GridView на той же странице.</span><span class="sxs-lookup"><span data-stu-id="778f0-264">In Step 5, we'll see how to display the selected supplier s products in a GridView on the same page.</span></span>

> [!NOTE]
> <span data-ttu-id="778f0-265">Вместо использования TemplateField (на этом шаге 3) можно создать пользовательский класс `DataControlField`, который отображает соответствующий пользовательский интерфейс и функциональные возможности.</span><span class="sxs-lookup"><span data-stu-id="778f0-265">Rather than using a TemplateField (the focus of this lengthy Step 3), we could create a custom `DataControlField` class that renders the appropriate user interface and functionality.</span></span> <span data-ttu-id="778f0-266">[Класс`DataControlField`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx) является базовым классом, из которого наследуются BoundField, CheckBoxField, TemplateField и другие встроенные поля GridView и DetailsView.</span><span class="sxs-lookup"><span data-stu-id="778f0-266">The [`DataControlField` class](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx) is the base class from which the BoundField, CheckBoxField, TemplateField, and other built-in GridView and DetailsView fields derive.</span></span> <span data-ttu-id="778f0-267">Создание пользовательского `DataControlField` класса означает, что столбец переключателей можно было бы добавить только с помощью декларативного синтаксиса, а также значительно упростить репликацию функций на других веб-страницах и других веб-приложениях.</span><span class="sxs-lookup"><span data-stu-id="778f0-267">Creating a custom `DataControlField` class would mean that the column of radio buttons could be added just using declarative syntax, and would also make replicating the functionality on other web pages and other web applications significantly easier.</span></span>

<span data-ttu-id="778f0-268">Если вы ранее создавали собственные скомпилированные элементы управления в ASP.NET, то, тем не менее, вам известно, что это требует достаточного количества беготней и несет их на узел тонкостей и граничных вариантов, которые должны быть тщательно обработаны.</span><span class="sxs-lookup"><span data-stu-id="778f0-268">If you ve ever created custom, compiled controls in ASP.NET, however, you know that doing so requires a fair amount of legwork and carries with it a host of subtleties and edge cases that must be carefully handled.</span></span> <span data-ttu-id="778f0-269">Таким образом, мы отказаться от реализацию столбца переключателей в качестве настраиваемого класса `DataControlField` для Now и заносимся в параметр TemplateField.</span><span class="sxs-lookup"><span data-stu-id="778f0-269">Therefore, we will forgo implementing a column of radio buttons as a custom `DataControlField` class for now and stick with the TemplateField option.</span></span> <span data-ttu-id="778f0-270">Возможно, у нас будет возможность исследовать создание, использование и развертывание пользовательских классов `DataControlField` в следующем учебном курсе.</span><span class="sxs-lookup"><span data-stu-id="778f0-270">Perhaps we'll have the chance to explore creating, using, and deploying custom `DataControlField` classes in a future tutorial!</span></span>

## <a name="step-4-displaying-the-selected-supplier-s-products-in-a-separate-page"></a><span data-ttu-id="778f0-271">Шаг 4. Отображение выбранных продуктов поставщика на отдельной странице</span><span class="sxs-lookup"><span data-stu-id="778f0-271">Step 4: Displaying the Selected Supplier s Products in a Separate Page</span></span>

<span data-ttu-id="778f0-272">После выбора пользователем строки GridView необходимо отобразить выбранные продукты поставщика.</span><span class="sxs-lookup"><span data-stu-id="778f0-272">After the user has selected a GridView row, we need to show the selected supplier s products.</span></span> <span data-ttu-id="778f0-273">В некоторых обстоятельствах нам может потребоваться отобразить эти продукты на отдельной странице, в других — это можно сделать на одной странице.</span><span class="sxs-lookup"><span data-stu-id="778f0-273">In some circumstances, we may want to display these products in a separate page, in others we might prefer to do it in the same page.</span></span> <span data-ttu-id="778f0-274">Давайте сначала рассмотрим, как отобразить продукты на отдельной странице. на шаге 5 мы рассмотрим добавление GridView для `RadioButtonField.aspx` для отображения выбранных продуктов поставщика.</span><span class="sxs-lookup"><span data-stu-id="778f0-274">Let s first examine how to display the products in a separate page; in Step 5 we'll look at adding a GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="778f0-275">В настоящее время на странице есть два веб-элемента управления "Кнопка" `ListProducts` и `SendToProducts`.</span><span class="sxs-lookup"><span data-stu-id="778f0-275">Currently there are two Button Web controls on the page `ListProducts` and `SendToProducts`.</span></span> <span data-ttu-id="778f0-276">При нажатии кнопки `SendToProducts` необходимо отправить пользователю `~/Filtering/ProductsForSupplierDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="778f0-276">When the `SendToProducts` Button is clicked, we want to send the user to `~/Filtering/ProductsForSupplierDetails.aspx`.</span></span> <span data-ttu-id="778f0-277">Эта страница была создана в учебнике " [основной/подробности" в двух страницах](../masterdetail/master-detail-filtering-across-two-pages-cs.md) и отображает продукты для поставщика, `SupplierID` передается через поле QueryString с именем `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="778f0-277">This page was created in the [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial and displays the products for the supplier whose `SupplierID` is passed through the querystring field named `SupplierID`.</span></span>

<span data-ttu-id="778f0-278">Чтобы предоставить эти функциональные возможности, создайте обработчик событий для `Click` события кнопки `SendToProducts`.</span><span class="sxs-lookup"><span data-stu-id="778f0-278">To provide this functionality, create an event handler for the `SendToProducts` Button s `Click` event.</span></span> <span data-ttu-id="778f0-279">На шаге 3 мы добавили свойство `SuppliersSelectedIndex`, которое возвращает индекс строки, переключатель которой выбран.</span><span class="sxs-lookup"><span data-stu-id="778f0-279">In Step 3 we added the `SuppliersSelectedIndex` property, which returns the index of the row whose radio button is selected.</span></span> <span data-ttu-id="778f0-280">Соответствующий `SupplierID` можно получить из коллекции GridView s `DataKeys` и пользователь может отправить `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` с помощью `Response.Redirect("url")`.</span><span class="sxs-lookup"><span data-stu-id="778f0-280">The corresponding `SupplierID` can be retrieved from the GridView s `DataKeys` collection and the user can then be sent to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` using `Response.Redirect("url")`.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample9.cs)]

<span data-ttu-id="778f0-281">Этот код работает замечательно, пока один из переключателей выбран из GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-281">This code works wonderfully as long as one of the radio buttons is selected from the GridView.</span></span> <span data-ttu-id="778f0-282">Если изначально элемент управления GridView не имеет выбранных переключателей и пользователь нажимает кнопку `SendToProducts`, `SuppliersSelectedIndex` будет `-1`, что приведет к возникновению исключения, так как `-1` находится вне диапазона индекса `DataKeys` коллекции.</span><span class="sxs-lookup"><span data-stu-id="778f0-282">If, initially, the GridView does not have any radio buttons selected, and the user clicks the `SendToProducts` button, `SuppliersSelectedIndex` will be `-1`, which will cause an exception to be thrown since `-1` is out of the index range of the `DataKeys` collection.</span></span> <span data-ttu-id="778f0-283">Однако это не является проблемой, но если вы решили обновить обработчик событий `RowCreated`, как описано в шаге 3, чтобы сначала был выбран первый переключатель в GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-283">This is not a concern, however, if you decided to update the `RowCreated` event handler as discussed in Step 3 so as to have the first radio button in the GridView initially selected.</span></span>

<span data-ttu-id="778f0-284">Чтобы разместить `SuppliersSelectedIndex` значение `-1`, добавьте веб-элемент управления Label на страницу над GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-284">To accommodate a `SuppliersSelectedIndex` value of `-1`, add a Label Web control to the page above the GridView.</span></span> <span data-ttu-id="778f0-285">Задайте для свойства `ID` значение `ChooseSupplierMsg`, его свойство `CssClass` для `Warning`, свойства `EnableViewState` и `Visible` в `false`, а также свойство `Text`, чтобы выбрать поставщика из сетки.</span><span class="sxs-lookup"><span data-stu-id="778f0-285">Set its `ID` property to `ChooseSupplierMsg`, its `CssClass` property to `Warning`, its `EnableViewState` and `Visible` properties to `false`, and its `Text` property to Please choose a supplier from the grid.</span></span> <span data-ttu-id="778f0-286">Класс CSS `Warning` отображает текст красным, курсивным шрифтом, большим шрифтом и определяется в `Styles.css`.</span><span class="sxs-lookup"><span data-stu-id="778f0-286">The CSS class `Warning` displays text in a red, italic, bold, large font and is defined in `Styles.css`.</span></span> <span data-ttu-id="778f0-287">Установив для свойств `EnableViewState` и `Visible` значение `false`, метка не подготавливается к просмотру, кроме тех случаев, когда свойству `Visible` элемента управления программным образом присваивается значение `true`.</span><span class="sxs-lookup"><span data-stu-id="778f0-287">By setting the `EnableViewState` and `Visible` properties to `false`, the Label is not rendered except for only those postbacks where the control s `Visible` property is programmatically set to `true`.</span></span>

<span data-ttu-id="778f0-288">[![добавить веб-элемент управления Label над GridView](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-288">[![Add a Label Web Control Above the GridView](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image21.png)</span></span>

<span data-ttu-id="778f0-289">**Рис. 13**. Добавление веб-элемента управления Label над элементом GridView ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-289">**Figure 13**: Add a Label Web Control Above the GridView ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image22.png))</span></span>

<span data-ttu-id="778f0-290">Затем дополните обработчик событий `Click`, чтобы отобразить `ChooseSupplierMsg` метку, если `SuppliersSelectedIndex` меньше нуля, и перенаправить пользователя на `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` в противном случае.</span><span class="sxs-lookup"><span data-stu-id="778f0-290">Next, augment the `Click` event handler to display the `ChooseSupplierMsg` Label if `SuppliersSelectedIndex` is less than zero, and redirect the user to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` otherwise.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample10.cs)]

<span data-ttu-id="778f0-291">Перейдите на страницу в браузере и нажмите кнопку `SendToProducts` перед выбором поставщика из GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-291">Visit the page in a browser and click the `SendToProducts` button before selecting a supplier from the GridView.</span></span> <span data-ttu-id="778f0-292">Как показано на рис. 14, отображается метка `ChooseSupplierMsg`.</span><span class="sxs-lookup"><span data-stu-id="778f0-292">As Figure 14 shows, this displays the `ChooseSupplierMsg` label.</span></span> <span data-ttu-id="778f0-293">Затем выберите поставщика и нажмите кнопку `SendToProducts`.</span><span class="sxs-lookup"><span data-stu-id="778f0-293">Next, select a supplier and click the `SendToProducts` button.</span></span> <span data-ttu-id="778f0-294">Это позволит вам перенесет на страницу со списком продуктов, предоставленных выбранным поставщиком.</span><span class="sxs-lookup"><span data-stu-id="778f0-294">This will whisk you to a page that lists the products supplied by the selected supplier.</span></span> <span data-ttu-id="778f0-295">На рис. 15 показана страница `ProductsForSupplierDetails.aspx` при выборе поставщика Бигфут Бревериес.</span><span class="sxs-lookup"><span data-stu-id="778f0-295">Figure 15 shows the `ProductsForSupplierDetails.aspx` page when the Bigfoot Breweries supplier was selected.</span></span>

<span data-ttu-id="778f0-296">[![отображается метка Чусесупплиермсг, если не выбран поставщик](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-296">[![The ChooseSupplierMsg Label is Displayed if No Supplier is Selected](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image23.png)</span></span>

<span data-ttu-id="778f0-297">**Рис. 14**. метка `ChooseSupplierMsg` отображается, если не выбран поставщик ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-297">**Figure 14**: The `ChooseSupplierMsg` Label is Displayed if No Supplier is Selected ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image24.png))</span></span>

<span data-ttu-id="778f0-298">[![выбранные продукты поставщика отображаются в Продуктсфорсупплиердетаилс. aspx.](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-298">[![The Selected Supplier s Products are Displayed in ProductsForSupplierDetails.aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image25.png)</span></span>

<span data-ttu-id="778f0-299">**Рис. 15**. выбранные продукты поставщика отображаются в `ProductsForSupplierDetails.aspx` ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-299">**Figure 15**: The Selected Supplier s Products are Displayed in `ProductsForSupplierDetails.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image26.png))</span></span>

## <a name="step-5-displaying-the-selected-supplier-s-products-on-the-same-page"></a><span data-ttu-id="778f0-300">Шаг 5. Отображение выбранных продуктов поставщика на той же странице</span><span class="sxs-lookup"><span data-stu-id="778f0-300">Step 5: Displaying the Selected Supplier s Products on the Same Page</span></span>

<span data-ttu-id="778f0-301">На шаге 4 мы видели, как отправить пользователя на другую веб-страницу для отображения выбранных продуктов поставщика.</span><span class="sxs-lookup"><span data-stu-id="778f0-301">In Step 4 we saw how to send the user to another web page to display the selected supplier s products.</span></span> <span data-ttu-id="778f0-302">Кроме того, выбранные продукты поставщика могут отображаться на одной и той же странице.</span><span class="sxs-lookup"><span data-stu-id="778f0-302">Alternatively, the selected supplier s products can be displayed on the same page.</span></span> <span data-ttu-id="778f0-303">Чтобы проиллюстрировать это, мы добавим еще один элемент управления GridView для `RadioButtonField.aspx` для просмотра выбранных продуктов поставщика.</span><span class="sxs-lookup"><span data-stu-id="778f0-303">To illustrate this, we'll add another GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="778f0-304">Так как мы хотим, чтобы этот элемент GridView продуктов отображался только после выбора поставщика, добавьте веб-элементы управления Panel под `Suppliers` GridView, задав для его `ID` значение `ProductsBySupplierPanel`, а для свойства `Visible` — значение `false`.</span><span class="sxs-lookup"><span data-stu-id="778f0-304">Since we only want this GridView of products to display once a supplier has been selected, add a Panel Web control beneath the `Suppliers` GridView, setting its `ID` to `ProductsBySupplierPanel` and its `Visible` property to `false`.</span></span> <span data-ttu-id="778f0-305">На панели добавьте текстовые продукты для выбранного поставщика, а затем элемент управления GridView с именем `ProductsBySupplier`.</span><span class="sxs-lookup"><span data-stu-id="778f0-305">Within the Panel, add the text Products for the Selected Supplier, followed by a GridView named `ProductsBySupplier`.</span></span> <span data-ttu-id="778f0-306">В смарт-теге GridView s выберите привязку к новому ObjectDataSource с именем `ProductsBySupplierDataSource`.</span><span class="sxs-lookup"><span data-stu-id="778f0-306">From the GridView s smart tag, choose to bind it to a new ObjectDataSource named `ProductsBySupplierDataSource`.</span></span>

<span data-ttu-id="778f0-307">[![привязки элемента управления GridView Продуктсбисупплиер к новому элементу управления ObjectDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-307">[![Bind the ProductsBySupplier GridView to a New ObjectDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image27.png)</span></span>

<span data-ttu-id="778f0-308">**Рис. 16**. Привязка `ProductsBySupplier` GridView к новому элементу управления ObjectDataSource ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-308">**Figure 16**: Bind the `ProductsBySupplier` GridView to a New ObjectDataSource ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image28.png))</span></span>

<span data-ttu-id="778f0-309">Затем настройте ObjectDataSource для использования класса `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="778f0-309">Next, configure the ObjectDataSource to use the `ProductsBLL` class.</span></span> <span data-ttu-id="778f0-310">Так как мы хотим получить только те продукты, которые предоставлены выбранным поставщиком, необходимо указать, что ObjectDataSource должен вызвать метод `GetProductsBySupplierID(supplierID)` для получения своих данных.</span><span class="sxs-lookup"><span data-stu-id="778f0-310">Since we only want to retrieve those products provided by the selected supplier, specify that the ObjectDataSource should invoke the `GetProductsBySupplierID(supplierID)` method to retrieve its data.</span></span> <span data-ttu-id="778f0-311">Выберите (нет) в раскрывающихся списках на вкладках обновление, вставка и удаление.</span><span class="sxs-lookup"><span data-stu-id="778f0-311">Select (None) from the drop-down lists in the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="778f0-312">[![настроить ObjectDataSource для использования метода Жетпродуктсбисупплиерид (КодПоставщика)](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-312">[![Configure the ObjectDataSource to Use the GetProductsBySupplierID(supplierID) Method](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image29.png)</span></span>

<span data-ttu-id="778f0-313">**Рис. 17**. Настройка ObjectDataSource для использования метода `GetProductsBySupplierID(supplierID)` ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-313">**Figure 17**: Configure the ObjectDataSource to Use the `GetProductsBySupplierID(supplierID)` Method ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image30.png))</span></span>

<span data-ttu-id="778f0-314">[![установка в раскрывающихся списках (нет) на вкладках «обновить», «вставить» и «удалить»](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-314">[![Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image31.png)</span></span>

<span data-ttu-id="778f0-315">**Рис. 18**. Установка в раскрывающихся списках (нет) на вкладках "Обновить", "вставить" и "Удалить" ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image32.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-315">**Figure 18**: Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image32.png))</span></span>

<span data-ttu-id="778f0-316">После настройки вкладок выбор, обновление, вставка и удаление нажмите кнопку Далее.</span><span class="sxs-lookup"><span data-stu-id="778f0-316">After configuring the SELECT, UPDATE, INSERT, and DELETE tabs, click Next.</span></span> <span data-ttu-id="778f0-317">Так как метод `GetProductsBySupplierID(supplierID)` ожидает входный параметр, мастер создания источника данных предлагает указать источник для значения параметра s.</span><span class="sxs-lookup"><span data-stu-id="778f0-317">Since the `GetProductsBySupplierID(supplierID)` method expects an input parameter, the Create Data Source wizard prompts us to specify the source for the parameter s value.</span></span>

<span data-ttu-id="778f0-318">Здесь есть несколько вариантов указания источника значения параметра s.</span><span class="sxs-lookup"><span data-stu-id="778f0-318">We have a couple of options here in specifying the source of the parameter s value.</span></span> <span data-ttu-id="778f0-319">Мы могли бы использовать объект параметра по умолчанию и программно назначить значение свойства `SuppliersSelectedIndex` свойству `DefaultValue` параметра в обработчике событий ObjectDataSource `Selecting`.</span><span class="sxs-lookup"><span data-stu-id="778f0-319">We could use the default Parameter object, and programmatically assign the value of the `SuppliersSelectedIndex` property to the Parameter s `DefaultValue` property in the ObjectDataSource s `Selecting` event handler.</span></span> <span data-ttu-id="778f0-320">Вернитесь к руководству по [программному заданию значений параметров ObjectDataSource](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md) в руководстве по программному назначению значений параметрам ObjectDataSource s.</span><span class="sxs-lookup"><span data-stu-id="778f0-320">Refer back to the [Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md) tutorial for a refresher on programmatically assigning values to the ObjectDataSource s parameters.</span></span>

<span data-ttu-id="778f0-321">Кроме того, можно использовать ControlParameter и обратиться к [свойству](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx) `Suppliers` GridView s`SelectedValue` (см. рис. 19).</span><span class="sxs-lookup"><span data-stu-id="778f0-321">Alternatively, we can use a ControlParameter and refer to the `Suppliers` GridView s [`SelectedValue` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx) (see Figure 19).</span></span> <span data-ttu-id="778f0-322">Свойство `SelectedValue` GridView s возвращает значение `DataKey`, соответствующее [свойству`SelectedIndex`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx).</span><span class="sxs-lookup"><span data-stu-id="778f0-322">The GridView s `SelectedValue` property returns the `DataKey` value corresponding to the [`SelectedIndex` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx).</span></span> <span data-ttu-id="778f0-323">Чтобы этот параметр работал, необходимо программно задать свойство `SelectedIndex` GridView s для выбранной строки при нажатии кнопки `ListProducts`.</span><span class="sxs-lookup"><span data-stu-id="778f0-323">In order for this option to work, we need to programmatically set the GridView s `SelectedIndex` property to the selected row when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="778f0-324">В качестве дополнительного преимущества, установив `SelectedIndex`, выбранная запись будет принимать `SelectedRowStyle`, определенные в `DataWebControls`ой теме (желтый фон).</span><span class="sxs-lookup"><span data-stu-id="778f0-324">As an added benefit, by setting the `SelectedIndex`, the selected record will take on the `SelectedRowStyle` defined in the `DataWebControls` Theme (a yellow background).</span></span>

<span data-ttu-id="778f0-325">[![использовать ControlParameter, чтобы указать GridView s SelectedValue в качестве источника параметра.](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-325">[![Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image33.png)</span></span>

<span data-ttu-id="778f0-326">**Рис. 19**. Использование ControlParameter для указания GridView s SelectedValue в качестве источника параметра ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-326">**Figure 19**: Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image34.png))</span></span>

<span data-ttu-id="778f0-327">После завершения работы мастера Visual Studio автоматически добавит поля для полей данных Product.</span><span class="sxs-lookup"><span data-stu-id="778f0-327">Upon completing the wizard, Visual Studio will automatically add fields for the product s data fields.</span></span> <span data-ttu-id="778f0-328">Удалите все, кроме `ProductName`, `CategoryName`и `UnitPrice` BoundFields, а также измените свойства `HeaderText` на "продукт", "Категория" и "цена".</span><span class="sxs-lookup"><span data-stu-id="778f0-328">Remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="778f0-329">Настройте `UnitPrice` BoundField, чтобы его значение было отформатировано как денежная единица.</span><span class="sxs-lookup"><span data-stu-id="778f0-329">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="778f0-330">После внесения этих изменений декларативная разметка Panel, GridView и ObjectDataSource должна выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="778f0-330">After making these changes, the Panel, GridView, and ObjectDataSource s declarative markup should look like the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample11.aspx)]

<span data-ttu-id="778f0-331">Для выполнения этого упражнения необходимо задать для свойства `SelectedIndex` GridView s значение `SelectedSuppliersIndex` а для свойства `Visible` панели `ProductsBySupplierPanel` — значение `true` при нажатии кнопки `ListProducts`.</span><span class="sxs-lookup"><span data-stu-id="778f0-331">To complete this exercise, we need to set the GridView s `SelectedIndex` property to the `SelectedSuppliersIndex` and the `ProductsBySupplierPanel` Panel s `Visible` property to `true` when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="778f0-332">Для этого создайте обработчик событий для `Click` события `ListProducts` Web Control Button и добавьте следующий код:</span><span class="sxs-lookup"><span data-stu-id="778f0-332">To accomplish this, create an event handler for the `ListProducts` Button Web control s `Click` event and add the following code:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample12.cs)]

<span data-ttu-id="778f0-333">Если поставщик не был выбран из GridView, отображается `ChooseSupplierMsg` метка, а панель `ProductsBySupplierPanel` скрыта.</span><span class="sxs-lookup"><span data-stu-id="778f0-333">If a supplier has not been selected from the GridView, the `ChooseSupplierMsg` Label is displayed and the `ProductsBySupplierPanel` Panel hidden.</span></span> <span data-ttu-id="778f0-334">В противном случае, если выбран поставщик, `ProductsBySupplierPanel` отображается и свойство GridView s `SelectedIndex` обновляется.</span><span class="sxs-lookup"><span data-stu-id="778f0-334">Otherwise, if a supplier has been selected, the `ProductsBySupplierPanel` is displayed and the GridView s `SelectedIndex` property is updated.</span></span>

<span data-ttu-id="778f0-335">На рис. 20 показаны результаты после выбора поставщика Бигфут Бревериес и нажатия кнопки Показать продукты на странице.</span><span class="sxs-lookup"><span data-stu-id="778f0-335">Figure 20 shows the results after the Bigfoot Breweries supplier has been selected and the Show Products on Page button has been clicked.</span></span>

<span data-ttu-id="778f0-336">[![продукты, предоставляемые Бигфут Бревериес, перечислены на одной странице.](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="778f0-336">[![The Products Supplied by Bigfoot Breweries are Listed on the Same Page](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image35.png)</span></span>

<span data-ttu-id="778f0-337">**Рис. 20**. продукты, предоставляемые Бигфут Бревериес, перечислены на одной странице ([щелкните, чтобы просмотреть изображение с полным размером](adding-a-gridview-column-of-radio-buttons-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="778f0-337">**Figure 20**: The Products Supplied by Bigfoot Breweries are Listed on the Same Page ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image36.png))</span></span>

## <a name="summary"></a><span data-ttu-id="778f0-338">Сводка</span><span class="sxs-lookup"><span data-stu-id="778f0-338">Summary</span></span>

<span data-ttu-id="778f0-339">Как обсуждалось в разделе " [Основные/подробности" с помощью DetailView главного GridView с](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) учебником "подробности", записи можно выбрать из GridView с помощью CommandField, свойство `ShowSelectButton` которого имеет значение `true`.</span><span class="sxs-lookup"><span data-stu-id="778f0-339">As discussed in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial, records can be selected from a GridView using a CommandField whose `ShowSelectButton` property is set to `true`.</span></span> <span data-ttu-id="778f0-340">Но CommandField отображает свои кнопки как обычные кнопки, ссылки или изображения.</span><span class="sxs-lookup"><span data-stu-id="778f0-340">But the CommandField displays its buttons either as regular push buttons, links, or images.</span></span> <span data-ttu-id="778f0-341">Альтернативным пользовательским интерфейсом выбора строк является предоставление переключателя или флажка в каждой строке GridView.</span><span class="sxs-lookup"><span data-stu-id="778f0-341">An alternative row-selection user interface is to provide a radio button or checkbox in each GridView row.</span></span> <span data-ttu-id="778f0-342">В этом учебнике мы рассмотрели, как добавить столбец переключателей.</span><span class="sxs-lookup"><span data-stu-id="778f0-342">In this tutorial we examined how to add a column of radio buttons.</span></span>

<span data-ttu-id="778f0-343">К сожалению, Добавление столбца переключателей t не так просто, как можно ожидать.</span><span class="sxs-lookup"><span data-stu-id="778f0-343">Unfortunately, adding a column of radio buttons isn t as straightforward or simple as one might expect.</span></span> <span data-ttu-id="778f0-344">Нет встроенных Радиобуттонфиелд, которые можно добавить при нажатии кнопки, а использование веб-элемента управления RadioButton в TemplateField вводит собственный набор проблем.</span><span class="sxs-lookup"><span data-stu-id="778f0-344">There is no built-in RadioButtonField that can be added at the click of a button, and using the RadioButton Web control within a TemplateField introduces its own set of problems.</span></span> <span data-ttu-id="778f0-345">В итоге, чтобы предоставить такой интерфейс, необходимо создать пользовательский класс `DataControlField` или попытаться внедрить соответствующий HTML-код в TemplateField во время события `RowCreated`.</span><span class="sxs-lookup"><span data-stu-id="778f0-345">In the end, to provide such an interface we either have to create a custom `DataControlField` class or resort to injecting the appropriate HTML into a TemplateField during the `RowCreated` event.</span></span>

<span data-ttu-id="778f0-346">Познакомьтесь с тем, как добавить столбец переключателей, чтобы мы могли привлечь внимание к добавлению столбца флажков.</span><span class="sxs-lookup"><span data-stu-id="778f0-346">Having explored how to add a column of radio buttons, let us turn our attention to adding a column of checkboxes.</span></span> <span data-ttu-id="778f0-347">С помощью столбца флажков пользователь может выбрать одну или несколько строк GridView, а затем выполнить некоторые операции со всеми выбранными строками (например, выбрать набор сообщений электронной почты из веб-клиента, а затем удалить все выбранные сообщения).</span><span class="sxs-lookup"><span data-stu-id="778f0-347">With a column of checkboxes, a user can select one or more GridView rows and then perform some operation on all of the selected rows (such as selecting a set of emails from a web-based email client, and then choosing to delete all selected emails).</span></span> <span data-ttu-id="778f0-348">В следующем учебном курсе будет показано, как добавить такой столбец.</span><span class="sxs-lookup"><span data-stu-id="778f0-348">In the next tutorial we'll see how to add such a column.</span></span>

<span data-ttu-id="778f0-349">Поздравляем с программированием!</span><span class="sxs-lookup"><span data-stu-id="778f0-349">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="778f0-350">Об авторе</span><span class="sxs-lookup"><span data-stu-id="778f0-350">About the Author</span></span>

<span data-ttu-id="778f0-351">[Скотт Митчелл](http://www.4guysfromrolla.com/ScottMitchell.shtml), автор семи книг по ASP/ASP. NET и основатель [4GuysFromRolla.com](http://www.4guysfromrolla.com), работал с веб-технологиями Майкрософт с 1998.</span><span class="sxs-lookup"><span data-stu-id="778f0-351">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="778f0-352">Скотт работает как независимый консультант, преподаватель и модуль записи.</span><span class="sxs-lookup"><span data-stu-id="778f0-352">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="778f0-353">Его последняя книга — [*Sams обучать себя ASP.NET 2,0 за 24 часа*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="778f0-353">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="778f0-354">Он доступен по адресу [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="778f0-354">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="778f0-355">или через его блог, который можно найти по адресу [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="778f0-355">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="778f0-356">Специальная благодарность</span><span class="sxs-lookup"><span data-stu-id="778f0-356">Special Thanks To</span></span>

<span data-ttu-id="778f0-357">Эта серия руководств была рассмотрена многими полезными рецензентами.</span><span class="sxs-lookup"><span data-stu-id="778f0-357">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="778f0-358">Специалистом по интересу для работы с этим руководством был Дэвид суру.</span><span class="sxs-lookup"><span data-stu-id="778f0-358">Lead reviewer for this tutorial was David Suru.</span></span> <span data-ttu-id="778f0-359">Хотите ознакомиться с моими будущими статьями MSDN?</span><span class="sxs-lookup"><span data-stu-id="778f0-359">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="778f0-360">Если это так, расположите строку в [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="778f0-360">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="778f0-361">Вперед</span><span class="sxs-lookup"><span data-stu-id="778f0-361">Next</span></span>](adding-a-gridview-column-of-checkboxes-cs.md)
