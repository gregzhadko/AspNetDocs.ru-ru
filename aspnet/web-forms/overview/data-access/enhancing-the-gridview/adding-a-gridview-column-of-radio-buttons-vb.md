---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-vb
title: Добавление столбца GridView переключателей (Visual Basic) | Документация Майкрософт
author: rick-anderson
description: Этот учебник рассказывает, как для добавления столбца кнопок-переключателей для элемента управления GridView для предоставления пользователю более интуитивно понятный способ выбора одной строки...
ms.author: riande
ms.date: 03/06/2007
ms.assetid: 2e31b60b-8723-4f14-b7ee-37859454dc3b
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-vb
msc.type: authoredcontent
ms.openlocfilehash: 8d531a6ac9afc3ece4a60774124855ab0c16cd77
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59396906"
---
# <a name="adding-a-gridview-column-of-radio-buttons-vb"></a><span data-ttu-id="d1ee7-103">Добавление столбца GridView переключателей (VB)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-103">Adding a GridView Column of Radio Buttons (VB)</span></span>

<span data-ttu-id="d1ee7-104">по [Скотт Митчелл](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="d1ee7-105">[Скачайте пример приложения](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_VB.exe) или [скачать PDF](adding-a-gridview-column-of-radio-buttons-vb/_static/datatutorial51vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_VB.exe) or [Download PDF](adding-a-gridview-column-of-radio-buttons-vb/_static/datatutorial51vb1.pdf)</span></span>

> <span data-ttu-id="d1ee7-106">Этом руководстве рассказывается, как для добавления столбца кнопок-переключателей для элемента управления GridView для предоставления пользователю более интуитивно понятный способ выбора одной строки GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-106">This tutorial looks at how to add a column of radio buttons to a GridView control to provide the user with a more intuitive way of selecting a single row of the GridView.</span></span>


## <a name="introduction"></a><span data-ttu-id="d1ee7-107">Вступление</span><span class="sxs-lookup"><span data-stu-id="d1ee7-107">Introduction</span></span>

<span data-ttu-id="d1ee7-108">Элемент управления GridView предоставляет немало встроенных функциональных возможностей.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-108">The GridView control offers a great deal of built-in functionality.</span></span> <span data-ttu-id="d1ee7-109">Он включает в себя несколько разных полей для отображения текста, изображений, гиперссылки и кнопки.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-109">It includes a number of different fields for displaying text, images, hyperlinks, and buttons.</span></span> <span data-ttu-id="d1ee7-110">Он поддерживает шаблоны для дальнейшей настройки.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-110">It supports templates for further customization.</span></span> <span data-ttu-id="d1ee7-111">Несколькими щелчками мыши оно s, возможно, чтобы сделать элемент управления GridView, где можно выбрать каждую строку по нажатию кнопки или чтобы включить изменение или удаление возможностей.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-111">With a few clicks of the mouse, it s possible to make a GridView where each row can be selected via a button, or to enable editing or deleting capabilities.</span></span> <span data-ttu-id="d1ee7-112">Несмотря на множество имеющиеся функции часто будет ситуаций, в которых дополнительные, неподдерживаемых функций будет необходимо добавить.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-112">Despite the plethora of provided features, there will often be situations in which additional, non-supported features will need to be added.</span></span> <span data-ttu-id="d1ee7-113">В этом руководстве и следующих двух мы рассмотрим, как расширить функциональность s GridView, чтобы включить дополнительные функции.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-113">In this tutorial and the next two we'll examine how to enhance the GridView s functionality to include additional features.</span></span>

<span data-ttu-id="d1ee7-114">Этот учебник и еще один сосредоточиться на улучшение процесса выбора строк.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-114">This tutorial and the next one focus on enhancing the row-selection process.</span></span> <span data-ttu-id="d1ee7-115">Как изучить в [Master/Detail, с помощью выбираемого основного элемента GridView с DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb.md), мы можем добавить поле CommandField GridView, который включает кнопки "выбрать".</span><span class="sxs-lookup"><span data-stu-id="d1ee7-115">As examined in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb.md), we can add a CommandField to the GridView that includes a Select button.</span></span> <span data-ttu-id="d1ee7-116">При щелчке, обратная и GridView s `SelectedIndex` обновляется индекс строки, в которых кнопка "выбрать" была нажата.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-116">When clicked, a postback ensues and the GridView s `SelectedIndex` property is updated to the index of the row whose Select button was clicked.</span></span> <span data-ttu-id="d1ee7-117">В [Master/Detail, с помощью выбираемого основного элемента GridView с DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb.md) было показано, как использовать эту функцию для отображения сведений по выбранной строки GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-117">In the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb.md) tutorial, we saw how to use this feature to display details for the selected GridView row.</span></span>

<span data-ttu-id="d1ee7-118">Кнопка "выбрать" работает во многих ситуациях, он может не работать также для других пользователей.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-118">While the Select button works in many situations, it may not work as well for others.</span></span> <span data-ttu-id="d1ee7-119">Вместо использования кнопки, два других элементов пользовательского интерфейса обычно используются для выбора: переключатель и флажок.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-119">Rather than using a button, two other user interface elements are commonly used for selection: the radio button and checkbox.</span></span> <span data-ttu-id="d1ee7-120">Мы можем расширить GridView, таким образом, вместо кнопки "выбрать", каждая строка содержит переключателя или флажка.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-120">We can augment the GridView so that instead of a Select button, each row contains a radio button or checkbox.</span></span> <span data-ttu-id="d1ee7-121">В сценариях, где пользователь может выбрать только одну из записей GridView переключатель может быть предпочтительнее кнопки "выбрать".</span><span class="sxs-lookup"><span data-stu-id="d1ee7-121">In scenarios where the user can only select one of the GridView records, the radio button might be preferred over the Select button.</span></span> <span data-ttu-id="d1ee7-122">В ситуациях, где пользователь может выбрать несколько записей, например в электронной почты, веб-приложении, где пользователь может потребоваться выбрать несколько сообщений, чтобы удалить флажок предлагает возможности, не доступно для кнопки "выбрать" или "переключатель" пользовательские интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-122">In situations where the user can potentially select multiple records such as in a web-based email application, where a user might want to select multiple messages to delete the checkbox offers functionality that is not available from the Select button or radio button user interfaces.</span></span>

<span data-ttu-id="d1ee7-123">Этом руководстве рассказывается, как добавить столбец кнопок-переключателей к GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-123">This tutorial looks at how to add a column of radio buttons to the GridView.</span></span> <span data-ttu-id="d1ee7-124">Продолжить руководстве описано, как использовать флажки.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-124">The proceeding tutorial explores using checkboxes.</span></span>

## <a name="step-1-creating-the-enhancing-the-gridview-web-pages"></a><span data-ttu-id="d1ee7-125">Шаг 1. Создание веб-страниц GridView улучшение</span><span class="sxs-lookup"><span data-stu-id="d1ee7-125">Step 1: Creating the Enhancing the GridView Web Pages</span></span>

<span data-ttu-id="d1ee7-126">Прежде чем приступать к улучшение GridView, чтобы включить столбец кнопок-переключателей, позвольте s уделим несколько минут созданию в нашем проекте веб-сайта, что нам понадобится для этого учебника и следующих двух страниц ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-126">Before we start enhancing the GridView to include a column of radio buttons, let s first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next two.</span></span> <span data-ttu-id="d1ee7-127">Начните с добавления новой папки с именем `EnhancedGridView`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-127">Start by adding a new folder named `EnhancedGridView`.</span></span> <span data-ttu-id="d1ee7-128">Добавьте следующие страницы ASP.NET в этой папке, не забывая связывать каждую с `Site.master` главной страницы:</span><span class="sxs-lookup"><span data-stu-id="d1ee7-128">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `RadioButtonField.aspx`
- `CheckBoxField.aspx`
- `InsertThroughFooter.aspx`


![Добавление страниц ASP.NET для элемента управления SqlDataSource руководств](adding-a-gridview-column-of-radio-buttons-vb/_static/image1.gif)

<span data-ttu-id="d1ee7-130">**Рис. 1**: Добавление страниц ASP.NET для элемента управления SqlDataSource руководств</span><span class="sxs-lookup"><span data-stu-id="d1ee7-130">**Figure 1**: Add the ASP.NET Pages for the SqlDataSource-Related Tutorials</span></span>


<span data-ttu-id="d1ee7-131">Как и в других папках, `Default.aspx` в `EnhancedGridView` папку перечислит учебные курсы в своем разделе.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-131">Like in the other folders, `Default.aspx` in the `EnhancedGridView` folder will list the tutorials in its section.</span></span> <span data-ttu-id="d1ee7-132">Помните, что `SectionLevelTutorialListing.ascx` пользовательский элемент управления предоставляет следующие функциональные возможности.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-132">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="d1ee7-133">Поэтому добавьте данный пользовательский элемент управления для `Default.aspx` , перетащив его из обозревателя решений на странице s режиме конструктора.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-133">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page s Design view.</span></span>


<span data-ttu-id="d1ee7-134">[![Добавление элемента управления Sectionleveltutoriallisting.ascx к странице Default.aspx](adding-a-gridview-column-of-radio-buttons-vb/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-134">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](adding-a-gridview-column-of-radio-buttons-vb/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image1.png)</span></span>

<span data-ttu-id="d1ee7-135">**Рис. 2**: Добавить `SectionLevelTutorialListing.ascx` для пользовательского элемента управления `Default.aspx` ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-135">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image2.png))</span></span>


<span data-ttu-id="d1ee7-136">Наконец, добавьте эти четыре страницы как записи для `Web.sitemap` файла.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-136">Lastly, add these four pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="d1ee7-137">В частности, добавьте следующую разметку после использование элемента управления SqlDataSource `<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="d1ee7-137">Specifically, add the following markup after the Using the SqlDataSource Control `<siteMapNode>`:</span></span>


[!code-xml[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample1.xml)]

<span data-ttu-id="d1ee7-138">После обновления `Web.sitemap`, Отвлекитесь и просмотрите учебный веб-узел в обозревателе.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-138">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="d1ee7-139">В меню слева теперь есть элементы для редактирования, вставки и удаления учебных курсов.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-139">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>


![Карта узла теперь включают записи для совершенствования учебники GridView](adding-a-gridview-column-of-radio-buttons-vb/_static/image3.gif)

<span data-ttu-id="d1ee7-141">**Рис. 3**: Карта узла теперь включают записи для совершенствования учебники GridView</span><span class="sxs-lookup"><span data-stu-id="d1ee7-141">**Figure 3**: The Site Map Now Includes Entries for the Enhancing the GridView Tutorials</span></span>


## <a name="step-2-displaying-the-suppliers-in-a-gridview"></a><span data-ttu-id="d1ee7-142">Шаг 2. Отображение поставщиков в элементе управления GridView</span><span class="sxs-lookup"><span data-stu-id="d1ee7-142">Step 2: Displaying the Suppliers in a GridView</span></span>

<span data-ttu-id="d1ee7-143">Для этого руководства позволяют s построения элемента управления GridView, перечисляющего поставщиков из США, с каждой строкой GridView, предоставляя типа "переключатель".</span><span class="sxs-lookup"><span data-stu-id="d1ee7-143">For this tutorial let s build a GridView that lists the suppliers from the USA, with each GridView row providing a radio button.</span></span> <span data-ttu-id="d1ee7-144">После выбора поставщика с помощью переключателя, пользователь может просмотреть продукты поставщика нажатием кнопки.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-144">After selecting a supplier via the radio button, the user can view the supplier s products by clicking a button.</span></span> <span data-ttu-id="d1ee7-145">Хотя эта задача может показаться тривиальным, есть несколько тонкостей, которые упрощают задача особенно сложная.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-145">While this task may sound trivial, there are a number of subtleties that make it particularly tricky.</span></span> <span data-ttu-id="d1ee7-146">Прежде чем мы углубимся в этих тонкостей, позвольте s сначала нужно получить список поставщиков GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-146">Before we delve into these subtleties, let s first get a GridView listing the suppliers.</span></span>

<span data-ttu-id="d1ee7-147">Сначала откройте `RadioButtonField.aspx` странице в `EnhancedGridView` папки, перетащив элемент управления GridView с панели инструментов в конструктор.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-147">Start by opening the `RadioButtonField.aspx` page in the `EnhancedGridView` folder by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="d1ee7-148">Набор GridView s `ID` для `Suppliers` и его смарт-теге решили создать новый источник данных.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-148">Set the GridView s `ID` to `Suppliers` and, from its smart tag, choose to create a new data source.</span></span> <span data-ttu-id="d1ee7-149">В частности, для создания нового ObjectDataSource, именуемого `SuppliersDataSource` , извлекает свои данные из `SuppliersBLL` объекта.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-149">Specifically, create an ObjectDataSource named `SuppliersDataSource` that pulls its data from the `SuppliersBLL` object.</span></span>


<span data-ttu-id="d1ee7-150">[![Создайте новый ObjectDataSource, именуемого SuppliersDataSource](adding-a-gridview-column-of-radio-buttons-vb/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-150">[![Create a New ObjectDataSource Named SuppliersDataSource](adding-a-gridview-column-of-radio-buttons-vb/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image3.png)</span></span>

<span data-ttu-id="d1ee7-151">**Рис. 4**: Создайте новый ObjectDataSource с именем `SuppliersDataSource` ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-151">**Figure 4**: Create a New ObjectDataSource Named `SuppliersDataSource` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image4.png))</span></span>


<span data-ttu-id="d1ee7-152">[![Настройка ObjectDataSource на использование метода Getsuppliers() класса](adding-a-gridview-column-of-radio-buttons-vb/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-152">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-vb/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image5.png)</span></span>

<span data-ttu-id="d1ee7-153">**Рис. 5**: Настройка ObjectDataSource для использования `SuppliersBLL` класс ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-153">**Figure 5**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image6.png))</span></span>


<span data-ttu-id="d1ee7-154">Поскольку нам требуется только список этих поставщиков в США, выберите `GetSuppliersByCountry(country)` метода из раскрывающегося списка на вкладке "SELECT".</span><span class="sxs-lookup"><span data-stu-id="d1ee7-154">Since we only want to list those suppliers in the USA, choose the `GetSuppliersByCountry(country)` method from the drop-down list in the SELECT tab.</span></span>


<span data-ttu-id="d1ee7-155">[![Настройка ObjectDataSource на использование метода Getsuppliers() класса](adding-a-gridview-column-of-radio-buttons-vb/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-155">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-vb/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image7.png)</span></span>

<span data-ttu-id="d1ee7-156">**Рис. 6**: Настройка ObjectDataSource для использования `SuppliersBLL` класс ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-156">**Figure 6**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image8.png))</span></span>


<span data-ttu-id="d1ee7-157">Обновление вкладки, выберите (нет) и нажмите кнопку Далее.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-157">From the UPDATE tab, select the (None) option and click Next.</span></span>


<span data-ttu-id="d1ee7-158">[![Настройка ObjectDataSource на использование метода Getsuppliers() класса](adding-a-gridview-column-of-radio-buttons-vb/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-158">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-vb/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image9.png)</span></span>

<span data-ttu-id="d1ee7-159">**Рис. 7**: Настройка ObjectDataSource для использования `SuppliersBLL` класс ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-159">**Figure 7**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image10.png))</span></span>


<span data-ttu-id="d1ee7-160">Так как `GetSuppliersByCountry(country)` метод принимает параметр, мастер настройки источников данных запрашивает источник этого параметра.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-160">Since the `GetSuppliersByCountry(country)` method accepts a parameter, the Configure Data Source wizard prompts us for the source of that parameter.</span></span> <span data-ttu-id="d1ee7-161">Чтобы указать жестко запрограммированное значение (в этом примере США) оставить параметр источника стрелку раскрывающегося списка значение None и введите значение по умолчанию в текстовом поле.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-161">To specify a hard coded value ( USA, in this example), leave the Parameter source drop-down list set to None and enter the default value in the textbox.</span></span> <span data-ttu-id="d1ee7-162">Нажмите кнопку Готово, чтобы завершить работу мастера.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-162">Click Finish to complete the wizard.</span></span>


<span data-ttu-id="d1ee7-163">[![Использовать США в качестве значения по умолчанию для параметра страны](adding-a-gridview-column-of-radio-buttons-vb/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-163">[![Use USA as the Default Value for the country Parameter](adding-a-gridview-column-of-radio-buttons-vb/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image11.png)</span></span>

<span data-ttu-id="d1ee7-164">**Рис. 8**: Используйте в качестве значения по умолчанию для США `country` параметра ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-164">**Figure 8**: Use USA as the Default Value for the `country` Parameter ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image12.png))</span></span>


<span data-ttu-id="d1ee7-165">По завершении работы мастера GridView будет включать BoundField для каждого поля данных поставщика.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-165">After completing the wizard, the GridView will include a BoundField for each of the supplier data fields.</span></span> <span data-ttu-id="d1ee7-166">Удалите все, кроме `CompanyName`, `City`, и `Country` полей BoundField и переименуйте `CompanyName` поля BoundField, кроме `HeaderText` свойства поставщика.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-166">Remove all but the `CompanyName`, `City`, and `Country` BoundFields, and rename the `CompanyName` BoundFields `HeaderText` property to Supplier.</span></span> <span data-ttu-id="d1ee7-167">После этого GridView и элемент управления ObjectDataSource должен выглядеть следующим образом.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-167">After doing so, the GridView and ObjectDataSource declarative syntax should look similar to the following.</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample2.aspx)]

<span data-ttu-id="d1ee7-168">Для этого руководства позволяют s разрешить пользователю просмотр выбранного поставщика продукты, на ту же страницу списка поставщиков или на другую страницу.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-168">For this tutorial, let s allow the user to view the selected supplier s products on the same page as the supplier list, or on a different page.</span></span> <span data-ttu-id="d1ee7-169">Чтобы решить эту проблему, добавьте две кнопки веб-элементов управления на страницу.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-169">To accommodate this, add two Button Web controls to the page.</span></span> <span data-ttu-id="d1ee7-170">Я набора ve `ID` s из этих двух кнопок `ListProducts` и `SendToProducts`, на идее, что при `ListProducts` щелчке произойдет обратная передача, и продукты выбранного поставщика s появится в списке на этой же странице, но когда `SendToProducts` нажатии пользователь будет перейти на другую страницу, которая перечисляет продукты.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-170">I ve set the `ID` s of these two Buttons to `ListProducts` and `SendToProducts`, with the idea that when `ListProducts` is clicked a postback will occur and the selected supplier s products will be listed on the same page, but when `SendToProducts` is clicked, the user will be whisked to a another page that lists the products.</span></span>

<span data-ttu-id="d1ee7-171">Рис. 9 показана `Suppliers` GridView и два веб-кнопка управляет при просмотре через браузер.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-171">Figure 9 shows the `Suppliers` GridView and the two Button Web controls when viewed through a browser.</span></span>


<span data-ttu-id="d1ee7-172">[![Поставщики из США имеют свои имя, Город и Страна информация, указанная](adding-a-gridview-column-of-radio-buttons-vb/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-172">[![Those Suppliers from the USA Have Their Name, City, and Country Information Listed](adding-a-gridview-column-of-radio-buttons-vb/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image13.png)</span></span>

<span data-ttu-id="d1ee7-173">**Рис. 9**: Поставщики из США имеют их имя города и страны в списке сведения ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-173">**Figure 9**: Those Suppliers from the USA Have Their Name, City, and Country Information Listed ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image14.png))</span></span>


## <a name="step-3-adding-a-column-of-radio-buttons"></a><span data-ttu-id="d1ee7-174">Шаг 3. Добавление столбца кнопок-переключателей</span><span class="sxs-lookup"><span data-stu-id="d1ee7-174">Step 3: Adding a Column of Radio Buttons</span></span>

<span data-ttu-id="d1ee7-175">На этом этапе `Suppliers` GridView есть три поля BoundField, кроме отображения название компании, Город и Страна всех поставщиков в США.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-175">At this point the `Suppliers` GridView has three BoundFields displaying the company name, city, and country of each supplier in the USA.</span></span> <span data-ttu-id="d1ee7-176">Столбец кнопок-переключателей, однако по-прежнему некий.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-176">It is still lacking a column of radio buttons, however.</span></span> <span data-ttu-id="d1ee7-177">К сожалению t GridView включают встроенные RadioButtonField, в противном случае мы можем просто добавить, в сетку и выполняться.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-177">Unfortunately, the GridView doesn t include a built-in RadioButtonField, otherwise we could just add that to the grid and be done.</span></span> <span data-ttu-id="d1ee7-178">Вместо этого можно добавить поле TemplateField и настроить его `ItemTemplate` для отображения типа "переключатель", приводит к типа "переключатель" для каждой строки GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-178">Instead, we can add a TemplateField and configure its `ItemTemplate` to render a radio button, resulting in a radio button for each GridView row.</span></span>

<span data-ttu-id="d1ee7-179">Изначально мы предположить, что нужный пользовательский интерфейс можно реализовать, добавив RadioButton веб-элемент управления для `ItemTemplate` из TemplateField.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-179">Initially, we might assume that the desired user interface can be implemented by adding a RadioButton Web control to the `ItemTemplate` of a TemplateField.</span></span> <span data-ttu-id="d1ee7-180">Хотя это будет действительно добавить отдельного переключателя к каждой строке GridView, переключатели не могут быть сгруппированы и следовательно не являются взаимоисключающими.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-180">While this will indeed add a single radio button to each row of the GridView, the radio buttons cannot be grouped and therefore are not mutually exclusive.</span></span> <span data-ttu-id="d1ee7-181">То есть пользователь имеет возможность одновременный выбор нескольких переключателей из GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-181">That is, an end user is able to select multiple radio buttons simultaneously from the GridView.</span></span>

<span data-ttu-id="d1ee7-182">Несмотря на то, что использование TemplateField RadioButton веб-элементов управления не предлагает функциональные возможности, нам нужно, s позволяют реализовать этот подход, так как он s, следует выяснить, почему итоговый переключатели не группируются.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-182">Even though using a TemplateField of RadioButton Web controls does not offer the functionality we need, let s implement this approach, as it s worthwhile to examine why the resulting radio buttons are not grouped.</span></span> <span data-ttu-id="d1ee7-183">Начните с добавления TemplateField для поставщиков GridView, делая, крайнего левого поля.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-183">Start by adding a TemplateField to the Suppliers GridView, making it the leftmost field.</span></span> <span data-ttu-id="d1ee7-184">Затем s смарт-теге GridView, щелкните ссылку Изменить шаблоны и перетащите элемент управления RadioButton Web из области элементов в TemplateField s `ItemTemplate` (см. рис. 10).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-184">Next, from the GridView s smart tag, click the Edit Templates link and drag a RadioButton Web control from the Toolbox into the TemplateField s `ItemTemplate` (see Figure 10).</span></span> <span data-ttu-id="d1ee7-185">Набор RadioButton s `ID` свойства `RowSelector` и `GroupName` свойства `SuppliersGroup`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-185">Set the RadioButton s `ID` property to `RowSelector` and the `GroupName` property to `SuppliersGroup`.</span></span>


<span data-ttu-id="d1ee7-186">[![Добавление элемента управления RadioButton Web ItemTemplate](adding-a-gridview-column-of-radio-buttons-vb/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-186">[![Add a RadioButton Web Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-vb/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image15.png)</span></span>

<span data-ttu-id="d1ee7-187">**Рис. 10**: Добавить веб-элемент управления RadioButton для `ItemTemplate` ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-187">**Figure 10**: Add a RadioButton Web Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image16.png))</span></span>


<span data-ttu-id="d1ee7-188">После внесения этих изменений в конструкторе, разметка GridView s должен выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="d1ee7-188">After making these additions through the Designer, your GridView s markup should look similar to the following:</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample3.aspx)]

<span data-ttu-id="d1ee7-189">RadioButton s [ `GroupName` свойство](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx) используется для группирования ряд переключателей.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-189">The RadioButton s [`GroupName` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx) is what is used to group a series of radio buttons.</span></span> <span data-ttu-id="d1ee7-190">Все элементы управления RadioButton с тем же `GroupName` значения считаются сгруппированных; из группы одновременно можно выбрать только один переключатель.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-190">All RadioButton controls with the same `GroupName` value are considered grouped; only one radio button can be selected from a group at a time.</span></span> <span data-ttu-id="d1ee7-191">`GroupName` Свойство задает значения для отображаемого переключателя s `name` атрибута.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-191">The `GroupName` property specifies the value for the rendered radio button s `name` attribute.</span></span> <span data-ttu-id="d1ee7-192">Браузер проверяет переключателей `name` атрибутам, чтобы определить радио кнопку группирований.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-192">The browser examines the radio buttons `name` attributes to determine the radio button groupings.</span></span>

<span data-ttu-id="d1ee7-193">С помощью веб-управления RadioButton добавляемый `ItemTemplate`, посетите эту страницу через обозреватель и щелкнуть переключатели в строки сетки s.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-193">With the RadioButton Web control added to the `ItemTemplate`, visit this page through a browser and click on the radio buttons in the grid s rows.</span></span> <span data-ttu-id="d1ee7-194">Обратите внимание, что как переключатели не группируются, что позволяет выбрать все строки, как на рис. 11 показан.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-194">Notice how the radio buttons are not grouped, making it possible to select all of the rows, as Figure 11 shows.</span></span>


<span data-ttu-id="d1ee7-195">[![Переключатели GridView s не группируются](adding-a-gridview-column-of-radio-buttons-vb/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-195">[![The GridView s Radio Buttons are Not Grouped](adding-a-gridview-column-of-radio-buttons-vb/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image17.png)</span></span>

<span data-ttu-id="d1ee7-196">**Рис. 11**: Переключатели GridView s не группируются ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-196">**Figure 11**: The GridView s Radio Buttons are Not Grouped ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image18.png))</span></span>


<span data-ttu-id="d1ee7-197">Переключатели не сгруппированы, так как их готовый для просмотра `name` атрибуты отличаются, несмотря на то, имеющих одинаковый `GroupName` значение свойства.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-197">The reason the radio buttons are not grouped is because their rendered `name` attributes are different, despite having the same `GroupName` property setting.</span></span> <span data-ttu-id="d1ee7-198">Чтобы просмотреть эти различия, выполнить просмотр исходного кода из обозревателя и проверьте разметку переключателей кнопки:</span><span class="sxs-lookup"><span data-stu-id="d1ee7-198">To see these differences, do a View/Source from the browser and examine the radio button markup:</span></span>


[!code-html[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample4.html)]

<span data-ttu-id="d1ee7-199">Обратите внимание, что как оба `name` и `id` атрибуты не точные значения, как указано в окне «Свойства», но предваряются символом количество других `ID` значения.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-199">Notice how both the `name` and `id` attributes are not the exact values as specified in the Properties window, but are prepended with a number of other `ID` values.</span></span> <span data-ttu-id="d1ee7-200">Дополнительный `ID` значения, добавленные в начало отображаемого объекта `id` и `name` атрибуты являются `ID` s переключателя кнопки родительских элементов управления `GridViewRow` s `ID` s, GridView s `ID`, Содержимое элемента управления s `ID`и веб-формы s `ID`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-200">The additional `ID` values added to the front of the rendered `id` and `name` attributes are the `ID` s of the radio buttons parent controls the `GridViewRow` s `ID` s, the GridView s `ID`, the Content control s `ID`, and the Web Form s `ID`.</span></span> <span data-ttu-id="d1ee7-201">Эти `ID` s добавляются, что всех преобразуемых веб-элемента управления GridView содержит уникальное `id` и `name` значения.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-201">These `ID` s are added so that each rendered Web control in the GridView has a unique `id` and `name` values.</span></span>

<span data-ttu-id="d1ee7-202">Всех преобразуемых потребности управления другой `name` и `id` так, как это как браузер однозначно определяет каждый элемент управления на стороне клиента и том, как он определяет на веб-сервер какое действие или было изменено при обратной передаче.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-202">Each rendered control needs a different `name` and `id` because this is how the browser uniquely identifies each control on the client-side and how it identifies to the web server what action or change has occurred on postback.</span></span> <span data-ttu-id="d1ee7-203">Например представьте, что мы хотели бы выполняться код на стороне сервера при каждом RadioButton s извлечен состояние было изменено.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-203">For example, imagine that we wanted to run some server-side code whenever a RadioButton s checked state was changed.</span></span> <span data-ttu-id="d1ee7-204">Это может сделать, задав RadioButton s `AutoPostBack` свойства `True` и Создание обработчика событий для `CheckChanged` событий.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-204">We could accomplish this by setting the RadioButton s `AutoPostBack` property to `True` and creating an event handler for the `CheckChanged` event.</span></span> <span data-ttu-id="d1ee7-205">Тем не менее если создаваемые `name` и `id` значения для всех переключателей были теми же, на обратной передачи не удалось определить какие именно RadioButton была нажата.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-205">However, if the rendered `name` and `id` values for all of the radio buttons were the same, on postback we could not determine what specific RadioButton was clicked.</span></span>

<span data-ttu-id="d1ee7-206">Краткосрочного его является то, что мы не удается создать столбец кнопок-переключателей в элементе управления GridView с помощью элемента управления RadioButton.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-206">The short of it is that we cannot create a column of radio buttons in a GridView using the RadioButton Web control.</span></span> <span data-ttu-id="d1ee7-207">Вместо этого необходимо использовать вместо древнее методы чтобы убедиться, что соответствующая разметка внедряется в каждой строки GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-207">Instead, we must use rather archaic techniques to ensure that the appropriate markup is injected into each GridView row.</span></span>

> [!NOTE]
> <span data-ttu-id="d1ee7-208">Как и веб-управления RadioButton, переключатель HTML-элемент управления, при добавлении в шаблон, будет включать уникальный `name` атрибута, что переключатели в сетке несгруппированные.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-208">Like the RadioButton Web control, the radio button HTML control, when added to a template, will include the unique `name` attribute, making the radio buttons in the grid ungrouped.</span></span> <span data-ttu-id="d1ee7-209">Если вы не знакомы с HTML-элементы управления, вы можете пропустить эту заметку, как редко используются элементы управления HTML, особенно в ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-209">If you are not familiar with HTML controls, feel free to disregard this note, as HTML controls are rarely used, especially in ASP.NET 2.0.</span></span> <span data-ttu-id="d1ee7-210">Но если вы заинтересованы в получении дополнительной, см. в разделе [к. Скотт Аллен](http://odetocode.com/blogs/scott/default.aspx) запись в блоге s [веб-элементы управления и элементы управления HTML](http://www.odetocode.com/Articles/348.aspx).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-210">But if you are interested in learning more, see [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx) s blog entry [Web Controls and HTML Controls](http://www.odetocode.com/Articles/348.aspx).</span></span>


## <a name="using-a-literal-control-to-inject-radio-button-markup"></a><span data-ttu-id="d1ee7-211">Использование литерала элемента управления для добавления кнопки разметку переключателей</span><span class="sxs-lookup"><span data-stu-id="d1ee7-211">Using a Literal Control to Inject Radio Button Markup</span></span>

<span data-ttu-id="d1ee7-212">Чтобы правильно группирования всех переключателей в пределах GridView, нам нужно вручную запустить разметку переключателей кнопки в `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-212">In order to correctly group all of the radio buttons within the GridView, we need to manually inject the radio buttons markup into the `ItemTemplate`.</span></span> <span data-ttu-id="d1ee7-213">Каждый переключатель должен же `name` атрибута, но должен иметь уникальный `id` атрибута (если необходимо получить доступ типа "переключатель" с помощью скрипта на стороне клиента).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-213">Each radio button needs the same `name` attribute, but should have a unique `id` attribute (in case we want to access a radio button via client-side script).</span></span> <span data-ttu-id="d1ee7-214">Когда пользователь выбирает типа "переключатель" и сообщения обратно странице, браузер отправит обратно значение выбранного переключателя s `value` атрибута.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-214">After a user selects a radio button and posts back the page, the browser will send back the value of the selected radio button s `value` attribute.</span></span> <span data-ttu-id="d1ee7-215">Таким образом, потребуется уникальный каждого переключателя `value` атрибута.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-215">Therefore, each radio button will need a unique `value` attribute.</span></span> <span data-ttu-id="d1ee7-216">Наконец, при обратной передаче нужно обязательно добавьте `checked` атрибут один переключатель, который выбран, в противном случае после пользователь делает выбор и сообщения обратно, переключатели вернется к состоянию по умолчанию (все невыбранные).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-216">Finally, on postback we need to make sure to add the `checked` attribute to the one radio button that is selected, otherwise after the user makes a selection and posts back, the radio buttons will return to their default state (all unselected).</span></span>

<span data-ttu-id="d1ee7-217">Существует два подхода, которые можно использовать для вставки низкоуровневые разметки в шаблон.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-217">There are two approaches that can be taken in order to inject low-level markup into a template.</span></span> <span data-ttu-id="d1ee7-218">Один заключается в осуществлении разметки и вызовы методов, определенных в классе фонового кода форматирования.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-218">One is to do a mix of markup and calls to formatting methods defined in the code-behind class.</span></span> <span data-ttu-id="d1ee7-219">Этот метод впервые было рассказано в [использование полей TemplateField в элементе управления GridView](../custom-formatting/using-templatefields-in-the-gridview-control-vb.md) руководства.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-219">This technique was first discussed in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-vb.md) tutorial.</span></span> <span data-ttu-id="d1ee7-220">В нашем случае он может выглядеть примерно так:</span><span class="sxs-lookup"><span data-stu-id="d1ee7-220">In our case it might look something like:</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample5.aspx)]

<span data-ttu-id="d1ee7-221">Здесь `GetUniqueRadioButton` и `GetRadioButtonValue` бы методы, определенные в классе фонового кода, который возвращается соответствующий `id` и `value` значения для каждого переключателя атрибутов.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-221">Here, `GetUniqueRadioButton` and `GetRadioButtonValue` would be methods defined in the code-behind class that returned the appropriate `id` and `value` attribute values for each radio button.</span></span> <span data-ttu-id="d1ee7-222">Этот подход хорошо работает для назначения `id` и `value` атрибуты, но не хватает, при необходимости указания `checked` значение атрибута, так как синтаксис привязки данных выполняется только в том случае, когда данные сначала будут привязаны к GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-222">This approach works well for assigning the `id` and `value` attributes, but falls short when needing to specify the `checked` attribute value because the databinding syntax is only executed when data is first bound to the GridView.</span></span> <span data-ttu-id="d1ee7-223">Таким образом, если у GridView есть состояние просмотра включено, методы форматирования возникает только при первой загрузке страницы (или когда GridView явно повторно привязываются к источнику данных) и поэтому функция, которая задает `checked` атрибута не будет вызываться на обратной передачи.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-223">Therefore, if the GridView has view state enabled, the formatting methods will only fire when the page is first loaded (or when the GridView is explicitly rebound to the data source), and therefore the function that sets the `checked` attribute won't be called on postback.</span></span> <span data-ttu-id="d1ee7-224">Он s довольно деталь и немного выходит за рамки данной статьи, поэтому я оставляю это.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-224">It s a rather subtle problem and a bit beyond the scope of this article, so I'll leave it at this.</span></span> <span data-ttu-id="d1ee7-225">Я сделать, тем не менее, рекомендуем вам попробовать выше подход и работать через точку, где вы будете уверены.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-225">I do, however, encourage you to try using the above approach and work it through to the point where you'll get stuck.</span></span> <span data-ttu-id="d1ee7-226">Хотя упражнения не дает все ближе до рабочей версии, он поможет стимулировать углубленное рассмотрение GridView и жизненный цикл привязки данных.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-226">While such an exercise won't get you any closer to a working version, it will help foster a deeper understanding of the GridView and the databinding lifecycle.</span></span>

<span data-ttu-id="d1ee7-227">Другой подход для добавления пользовательских низкоуровневые разметки в шаблон и подход, который мы будем использовать для этого учебника является добавление [управления Literal](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx) в шаблон.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-227">The other approach to injecting custom, low-level markup in a template and the approach that we'll be using for this tutorial is to add a [Literal control](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx) to the template.</span></span> <span data-ttu-id="d1ee7-228">Затем в GridView s `RowCreated` или `RowDataBound` обработчик событий, текстовый элемент управления может осуществляться программными средствами и его `Text` свойства в разметку для выпуска.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-228">Then, in the GridView s `RowCreated` or `RowDataBound` event handler, the Literal control can be programmatically accessed and its `Text` property set to the markup to emit.</span></span>

<span data-ttu-id="d1ee7-229">Удалите элемент управления RadioButton из TemplateField s `ItemTemplate`, заменив его элементом управления.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-229">Start by removing the RadioButton from the TemplateField s `ItemTemplate`, replacing it with a Literal control.</span></span> <span data-ttu-id="d1ee7-230">Значение литерала элемента управления s `ID` для `RadioButtonMarkup`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-230">Set the Literal control s `ID` to `RadioButtonMarkup`.</span></span>


<span data-ttu-id="d1ee7-231">[![Добавление литерала элемента управления ItemTemplate](adding-a-gridview-column-of-radio-buttons-vb/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-231">[![Add a Literal Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-vb/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image19.png)</span></span>

<span data-ttu-id="d1ee7-232">**Рис. 12**: Добавление литерала элемента управления к `ItemTemplate` ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-232">**Figure 12**: Add a Literal Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image20.png))</span></span>


<span data-ttu-id="d1ee7-233">Создайте обработчик событий для GridView s `RowCreated` событий.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-233">Next, create an event handler for the GridView s `RowCreated` event.</span></span> <span data-ttu-id="d1ee7-234">`RowCreated` Событие запускается, когда для каждой добавляемой строки ли данные повторно привязываются к GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-234">The `RowCreated` event fires once for every row added, whether or not the data is being rebound to the GridView.</span></span> <span data-ttu-id="d1ee7-235">Это означает, что даже на обратную передачу при повторной загрузке данных из состояния представления, `RowCreated` событие по-прежнему запускается, и вот почему мы используем его вместо `RowDataBound` (который срабатывает, только когда данные явно связан с данным веб-элемента управления).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-235">That means that even on a postback when the data is reloaded from view state, the `RowCreated` event still fires and this is the reason we are using it instead of `RowDataBound` (which fires only when the data is explicitly bound to the data Web control).</span></span>

<span data-ttu-id="d1ee7-236">В этом обработчике событий должны продолжать, если мы повторно освободили строку данных.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-236">In this event handler, we only want to proceed if we re dealing with a data row.</span></span> <span data-ttu-id="d1ee7-237">Для каждой строки данных необходимо создавать программную ссылку на `RadioButtonMarkup` литерала элемента управления и задайте его `Text` свойства в разметку для выпуска.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-237">For each data row we want to programmatically reference the `RadioButtonMarkup` Literal control and set its `Text` property to the markup to emit.</span></span> <span data-ttu-id="d1ee7-238">Как в следующем коде показано, в разметке, генерируемой создает переключателя кнопку с заданным `name` атрибуту присваивается `SuppliersGroup`, чей `id` атрибут имеет значение `RowSelectorX`, где *X* — это индекс строке GridView а `value` атрибуту присваивается индекс строки GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-238">As the following code shows, the markup emitted creates a radio button whose `name` attribute is set to `SuppliersGroup`, whose `id` attribute is set to `RowSelectorX`, where *X* is the index of the GridView row, and whose `value` attribute is set to the index of the GridView row.</span></span>


[!code-vb[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample6.vb)]

<span data-ttu-id="d1ee7-239">Если выбрана строка GridView происходит обратная передача, нас интересует `SupplierID` выбранного поставщика.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-239">When a GridView row is selected and a postback occurs, we are interested in the `SupplierID` of the selected supplier.</span></span> <span data-ttu-id="d1ee7-240">Таким образом, может показаться, что значение каждого переключателя должно быть фактическим `SupplierID` (а не индекс строки GridView).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-240">Therefore, one might think that the value of each radio button should be the actual `SupplierID` (rather than the index of the GridView row).</span></span> <span data-ttu-id="d1ee7-241">Хотя это может работать в определенных обстоятельствах, было бы угрозу безопасности, чтобы вслепую принимать и обрабатывать `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-241">While this may work in certain circumstances, it would be a security risk to blindly accept and process a `SupplierID`.</span></span> <span data-ttu-id="d1ee7-242">Наши GridView, например, список только тех поставщиков в США.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-242">Our GridView, for example, lists only those suppliers in the USA.</span></span> <span data-ttu-id="d1ee7-243">Тем не менее если `SupplierID` передается непосредственно из переключатель, какие s, чтобы остановить хитрый пользователя из управления `SupplierID` значение, отправляемое обратно на обратную передачу?</span><span class="sxs-lookup"><span data-stu-id="d1ee7-243">However, if the `SupplierID` is passed directly from the radio button, what s to stop a mischievous user from manipulating the `SupplierID` value sent back on postback?</span></span> <span data-ttu-id="d1ee7-244">С помощью строки индекса в качестве `value`, а затем `SupplierID` при обратной передаче из `DataKeys` коллекции, мы можно убедиться, что пользователь является только одним из `SupplierID` значения, связанные с одной из строк GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-244">By using the row index as the `value`, and then getting the `SupplierID` on postback from the `DataKeys` collection, we can ensure that the user is only using one of the `SupplierID` values associated with one of the GridView rows.</span></span>

<span data-ttu-id="d1ee7-245">Когда вы добавите этот код обработчика событий, внимательно протестировать страницу в браузере.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-245">After adding this event handler code, take a minute to test out the page in a browser.</span></span> <span data-ttu-id="d1ee7-246">Во-первых, обратите внимание, что только один переключатель можно нажать кнопку в сетке одновременно.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-246">First, note that only one radio button in the grid can be selected at a time.</span></span> <span data-ttu-id="d1ee7-247">Тем не менее, при выборе типа "переключатель", а также выбрать одну из кнопок, происходит обратная передача и всех переключателей восстановить исходное состояние (то есть при обратной передаче выбранного переключателя больше не выбран).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-247">However, when selecting a radio button and clicking one of the buttons, a postback occurs and the radio buttons all revert to their initial state (that is, on postback, the selected radio button is no longer selected).</span></span> <span data-ttu-id="d1ee7-248">Чтобы устранить эту проблему, нам нужно дополнить `RowCreated` обработчик событий, так что он проверяет индекс кнопки выбранного переключателя, отправленные из обратной передачи и добавляет `checked="checked"` атрибут порожденную разметки совпадения строк индекса.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-248">To fix this, we need to augment the `RowCreated` event handler so that it inspects the selected radio button index sent from the postback and adds the `checked="checked"` attribute to the emitted markup of the row index matches.</span></span>

<span data-ttu-id="d1ee7-249">Когда происходит обратная передача, а браузер отправляет обратно `name` и `value` выбранного переключателя.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-249">When a postback occurs, the browser sends back the `name` and `value` of the selected radio button.</span></span> <span data-ttu-id="d1ee7-250">Значение можно программно получить с помощью `Request.Form("name")`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-250">The value can be programmatically retrieved using `Request.Form("name")`.</span></span> <span data-ttu-id="d1ee7-251">[ `Request.Form` Свойство](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx) предоставляет [ `NameValueCollection` ](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) представляющий переменных формы.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-251">The [`Request.Form` property](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx) provides a [`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) representing the form variables.</span></span> <span data-ttu-id="d1ee7-252">Переменные формы являются имена и значения полей формы в веб-страницы и отправляются обратно веб-обозревателем, каждый раз, когда выполняется обратная.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-252">The form variables are the names and values of the form fields in the web page, and are sent back by the web browser whenever a postback ensues.</span></span> <span data-ttu-id="d1ee7-253">Так как готовый для просмотра `name` атрибут переключателей в GridView `SuppliersGroup`, при публикации веб-страницу назад, браузер будет отправлять `SuppliersGroup=valueOfSelectedRadioButton` веб-сервере (а также другие поля формы).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-253">Because the rendered `name` attribute of the radio buttons in the GridView is `SuppliersGroup`, when the web page is posted back the browser will send `SuppliersGroup=valueOfSelectedRadioButton` back to the web server (along with the other form fields).</span></span> <span data-ttu-id="d1ee7-254">Эта информация затем может быть организован `Request.Form` свойства с помощью: `Request.Form("SuppliersGroup")`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-254">This information can then be accessed from the `Request.Form` property using: `Request.Form("SuppliersGroup")`.</span></span>

<span data-ttu-id="d1ee7-255">С момента мы будем нужны для определения выбранного переключателя индексировать не только в `RowCreated` обработчик событий, но в `Click` добавить обработчики событий для кнопки веб-элементы управления, позволяющие s `SuppliersSelectedIndex` свойство к классу кода, который возвращает `-1`Если был выбран переключатель "Нет" и выбранного индекса, если выбран один из переключателей.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-255">Since we'll need to determine the selected radio button index not only in the `RowCreated` event handler, but in the `Click` event handlers for the Button Web controls, let s add a `SuppliersSelectedIndex` property to the code-behind class that returns `-1` if no radio button was selected and the selected index if one of the radio buttons is selected.</span></span>


[!code-vb[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample7.vb)]

<span data-ttu-id="d1ee7-256">Это свойство добавлен, мы знаем, чтобы добавить `checked="checked"` разметки в `RowCreated` обработчик событий при `SuppliersSelectedIndex` равно `e.Row.RowIndex`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-256">With this property added, we know to add the `checked="checked"` markup in the `RowCreated` event handler when `SuppliersSelectedIndex` equals `e.Row.RowIndex`.</span></span> <span data-ttu-id="d1ee7-257">Обновите этот обработчик событий, включение этой логики:</span><span class="sxs-lookup"><span data-stu-id="d1ee7-257">Update the event handler to include this logic:</span></span>


[!code-vb[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample8.vb)]

<span data-ttu-id="d1ee7-258">Благодаря этому изменению выбранного переключателя остается выбранным после обратной передачи.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-258">With this change, the selected radio button remains selected after a postback.</span></span> <span data-ttu-id="d1ee7-259">Теперь, когда у нас есть возможность указать, какой переключатель, мы может изменить поведение, так что при первом посещении страницы был выбран первый переключатель строк GridView (вместо того, не переключателей, по умолчанию, который является текущим поведение).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-259">Now that we have the ability to specify what radio button is selected, we could change the behavior so that when the page was first visited, the first GridView row s radio button was selected (rather than having no radio buttons selected by default, which is the current behavior).</span></span> <span data-ttu-id="d1ee7-260">Чтобы включить для первого переключателя по умолчанию, просто измените `If SuppliersSelectedIndex = e.Row.RowIndex Then` следующим образом: `If SuppliersSelectedIndex = e.Row.RowIndex OrElse (Not Page.IsPostBack AndAlso e.Row.RowIndex = 0) Then`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-260">To have the first radio button selected by default, simply change the `If SuppliersSelectedIndex = e.Row.RowIndex Then` statement to the following: `If SuppliersSelectedIndex = e.Row.RowIndex OrElse (Not Page.IsPostBack AndAlso e.Row.RowIndex = 0) Then`.</span></span>

<span data-ttu-id="d1ee7-261">На этом этапе мы добавили столбец сгруппированных переключателей к GridView, позволяющий выделить и запоминать одной строки GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-261">At this point we have added a column of grouped radio buttons to the GridView that allows for a single GridView row to be selected and remembered across postbacks.</span></span> <span data-ttu-id="d1ee7-262">Наши вам потребуется отобразить продукты, предоставляемые выбранным поставщиком.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-262">Our next steps are to display the products provided by the selected supplier.</span></span> <span data-ttu-id="d1ee7-263">На шаге 4 мы будет показано, как перенаправить пользователя на другую страницу отправки вдоль выбранного `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-263">In Step 4 we'll see how to redirect the user to another page, sending along the selected `SupplierID`.</span></span> <span data-ttu-id="d1ee7-264">На шаге 5 узнаете, как для отображения в элементе управления GridView на той же странице продукты выбранного поставщика.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-264">In Step 5, we'll see how to display the selected supplier s products in a GridView on the same page.</span></span>

> [!NOTE]
> <span data-ttu-id="d1ee7-265">Вместо того чтобы использовать поле TemplateField (тема этой длительной шаг 3), мы создадим пользовательский `DataControlField` класс, который выводит соответствующий пользовательский интерфейс и функциональность.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-265">Rather than using a TemplateField (the focus of this lengthy Step 3), we could create a custom `DataControlField` class that renders the appropriate user interface and functionality.</span></span> <span data-ttu-id="d1ee7-266">[ `DataControlField` Класс](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx) является базовым классом, от которого наследуют BoundField, CheckBoxField, TemplateField и другие встроенные поля GridView и DetailsView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-266">The [`DataControlField` class](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx) is the base class from which the BoundField, CheckBoxField, TemplateField, and other built-in GridView and DetailsView fields derive.</span></span> <span data-ttu-id="d1ee7-267">Создание настраиваемого `DataControlField` класс означает столбец кнопок-переключателей может быть добавлен только с помощью декларативного синтаксиса что Кроме того, предоставляющие функции на других веб-страниц и другие веб-приложения значительно проще.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-267">Creating a custom `DataControlField` class would mean that the column of radio buttons could be added just using declarative syntax, and would also make replicating the functionality on other web pages and other web applications significantly easier.</span></span>


<span data-ttu-id="d1ee7-268">Если ve когда-либо созданных пользовательских, компилируются элементы управления в ASP.NET, тем не менее, вы знаете, что это так требуется значительный объем подготовительная работа и несет с собой множество тонкостей и крайних случаев, которые нужно тщательно обработать.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-268">If you ve ever created custom, compiled controls in ASP.NET, however, you know that doing so requires a fair amount of legwork and carries with it a host of subtleties and edge cases that must be carefully handled.</span></span> <span data-ttu-id="d1ee7-269">Таким образом, мы будет отказаться от реализации столбец кнопок-переключателей как строка настраиваемого `DataControlField` класса сейчас и продолжайте применять параметр TemplateField.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-269">Therefore, we will forgo implementing a column of radio buttons as a custom `DataControlField` class for now and stick with the TemplateField option.</span></span> <span data-ttu-id="d1ee7-270">Возможно, будет возможность познакомиться с создание, использование и развертывание пользовательских `DataControlField` классы в следующем учебном курсе!</span><span class="sxs-lookup"><span data-stu-id="d1ee7-270">Perhaps we'll have the chance to explore creating, using, and deploying custom `DataControlField` classes in a future tutorial!</span></span>

## <a name="step-4-displaying-the-selected-supplier-s-products-in-a-separate-page"></a><span data-ttu-id="d1ee7-271">Шаг 4. Отображение продукты выбранного поставщика на отдельной странице</span><span class="sxs-lookup"><span data-stu-id="d1ee7-271">Step 4: Displaying the Selected Supplier s Products in a Separate Page</span></span>

<span data-ttu-id="d1ee7-272">После выбора пользователем строке GridView необходимо показать продукты выбранного поставщика.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-272">After the user has selected a GridView row, we need to show the selected supplier s products.</span></span> <span data-ttu-id="d1ee7-273">В некоторых случаях нам может потребоваться отображение этих продуктов в отдельную страницу, в других случаях мы можете сделать это в той же странице.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-273">In some circumstances, we may want to display these products in a separate page, in others we might prefer to do it in the same page.</span></span> <span data-ttu-id="d1ee7-274">Позвольте s сначала рассмотрим, как отображение продуктов в отдельную страницу; на шаге 5 мы рассмотрим добавить GridView к `RadioButtonField.aspx` для отображения продукты выбранного поставщика s.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-274">Let s first examine how to display the products in a separate page; in Step 5 we'll look at adding a GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="d1ee7-275">В настоящее время существует две кнопки элементах на странице `ListProducts` и `SendToProducts`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-275">Currently there are two Button Web controls on the page `ListProducts` and `SendToProducts`.</span></span> <span data-ttu-id="d1ee7-276">Когда `SendToProducts` кнопки, мы хотим отправить пользователю `~/Filtering/ProductsForSupplierDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-276">When the `SendToProducts` Button is clicked, we want to send the user to `~/Filtering/ProductsForSupplierDetails.aspx`.</span></span> <span data-ttu-id="d1ee7-277">Эта страница была создана в ["основной/подробности" Фильтрация по две страницы](../masterdetail/master-detail-filtering-across-two-pages-vb.md) учебник и отображает продукты для поставщика, `SupplierID` передается через поле строки запроса с именем `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-277">This page was created in the [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-vb.md) tutorial and displays the products for the supplier whose `SupplierID` is passed through the querystring field named `SupplierID`.</span></span>

<span data-ttu-id="d1ee7-278">Для обеспечения данной функциональности, создайте обработчик событий для `SendToProducts` кнопку s `Click` событий.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-278">To provide this functionality, create an event handler for the `SendToProducts` Button s `Click` event.</span></span> <span data-ttu-id="d1ee7-279">На шаге 3 мы добавили `SuppliersSelectedIndex` свойство, которое возвращает индекс строки, переключатель выбран.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-279">In Step 3 we added the `SuppliersSelectedIndex` property, which returns the index of the row whose radio button is selected.</span></span> <span data-ttu-id="d1ee7-280">Соответствующий `SupplierID` могут быть получены из GridView s `DataKeys` коллекции и пользователь затем может передаваться к `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` с помощью `Response.Redirect("url")`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-280">The corresponding `SupplierID` can be retrieved from the GridView s `DataKeys` collection and the user can then be sent to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` using `Response.Redirect("url")`.</span></span>


[!code-vb[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample9.vb)]

<span data-ttu-id="d1ee7-281">Этот код прекрасно работает, до тех пор, пока один из переключателей выбирается из GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-281">This code works wonderfully as long as one of the radio buttons is selected from the GridView.</span></span> <span data-ttu-id="d1ee7-282">Если изначально GridView не поддерживает все переключатели выбран и пользователь нажимает кнопку `SendToProducts` кнопки `SuppliersSelectedIndex` будет `-1`, которое может вызвать исключение, поскольку у `-1` выходит за пределы диапазона индексов `DataKeys`коллекции.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-282">If, initially, the GridView does not have any radio buttons selected, and the user clicks the `SendToProducts` button, `SuppliersSelectedIndex` will be `-1`, which will cause an exception to be thrown since `-1` is out of the index range of the `DataKeys` collection.</span></span> <span data-ttu-id="d1ee7-283">Это не столь важно, тем не менее, если вы решили обновить `RowCreated` обработчик событий, как описано в шаге 3, таким образом, чтобы иметь для первого переключателя в GridView изначально выбираются.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-283">This is not a concern, however, if you decided to update the `RowCreated` event handler as discussed in Step 3 so as to have the first radio button in the GridView initially selected.</span></span>

<span data-ttu-id="d1ee7-284">В соответствии с `SuppliersSelectedIndex` значение `-1`, добавьте элемент управления Label Web страницы над элементом управления GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-284">To accommodate a `SuppliersSelectedIndex` value of `-1`, add a Label Web control to the page above the GridView.</span></span> <span data-ttu-id="d1ee7-285">Задайте его `ID` свойства `ChooseSupplierMsg`, ее `CssClass` свойства `Warning`, ее `EnableViewState` и `Visible` свойства `False`и его `Text` свойство до сначала необходимо выбрать поставщика из сетки.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-285">Set its `ID` property to `ChooseSupplierMsg`, its `CssClass` property to `Warning`, its `EnableViewState` and `Visible` properties to `False`, and its `Text` property to Please choose a supplier from the grid.</span></span> <span data-ttu-id="d1ee7-286">Класс CSS `Warning` отображает текст красного, курсив, полужирный и больших шрифта и определен в `Styles.css`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-286">The CSS class `Warning` displays text in a red, italic, bold, large font and is defined in `Styles.css`.</span></span> <span data-ttu-id="d1ee7-287">Задав `EnableViewState` и `Visible` свойства `False`, метка не отображается за исключением для только те обратные передачи, где элемент управления s `Visible` программно свойству `True`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-287">By setting the `EnableViewState` and `Visible` properties to `False`, the Label is not rendered except for only those postbacks where the control s `Visible` property is programmatically set to `True`.</span></span>


<span data-ttu-id="d1ee7-288">[![Добавьте элемент управления Label Web над элементом управления GridView](adding-a-gridview-column-of-radio-buttons-vb/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-288">[![Add a Label Web Control Above the GridView](adding-a-gridview-column-of-radio-buttons-vb/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image21.png)</span></span>

<span data-ttu-id="d1ee7-289">**Рис. 13**: Добавить метку Web управления выше элемента управления GridView ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-289">**Figure 13**: Add a Label Web Control Above the GridView ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image22.png))</span></span>


<span data-ttu-id="d1ee7-290">Затем дополнить `Click` обработчик событий для отображения `ChooseSupplierMsg` метку, если `SuppliersSelectedIndex` меньше нуля и перенаправить пользователя на `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` в противном случае.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-290">Next, augment the `Click` event handler to display the `ChooseSupplierMsg` Label if `SuppliersSelectedIndex` is less than zero, and redirect the user to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` otherwise.</span></span>


[!code-vb[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample10.vb)]

<span data-ttu-id="d1ee7-291">Откройте страницу в обозревателе и нажмите кнопку `SendToProducts` кнопку, затем выберите поставщика в GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-291">Visit the page in a browser and click the `SendToProducts` button before selecting a supplier from the GridView.</span></span> <span data-ttu-id="d1ee7-292">Как показано на рис. 14, откроется `ChooseSupplierMsg` метки.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-292">As Figure 14 shows, this displays the `ChooseSupplierMsg` label.</span></span> <span data-ttu-id="d1ee7-293">Затем выберите поставщика и нажмите кнопку `SendToProducts` кнопки.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-293">Next, select a supplier and click the `SendToProducts` button.</span></span> <span data-ttu-id="d1ee7-294">Это перенесет вас на страницу, которая перечисляет продукты, предоставляемые выбранным поставщиком.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-294">This will whisk you to a page that lists the products supplied by the selected supplier.</span></span> <span data-ttu-id="d1ee7-295">Рис. 15 приведен `ProductsForSupplierDetails.aspx` странице был выбран поставщик Breweries на снежном человеке.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-295">Figure 15 shows the `ProductsForSupplierDetails.aspx` page when the Bigfoot Breweries supplier was selected.</span></span>


<span data-ttu-id="d1ee7-296">[![Подпись ChooseSupplierMsg отображается в том случае, если поставщик не выбран](adding-a-gridview-column-of-radio-buttons-vb/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-296">[![The ChooseSupplierMsg Label is Displayed if No Supplier is Selected](adding-a-gridview-column-of-radio-buttons-vb/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image23.png)</span></span>

<span data-ttu-id="d1ee7-297">**Рис. 14**: `ChooseSupplierMsg` Метка отображается в том случае, если поставщик не установлен ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-297">**Figure 14**: The `ChooseSupplierMsg` Label is Displayed if No Supplier is Selected ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image24.png))</span></span>


<span data-ttu-id="d1ee7-298">[![Продукты выбранного поставщика, отображаются в ProductsForSupplierDetails.aspx](adding-a-gridview-column-of-radio-buttons-vb/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-298">[![The Selected Supplier s Products are Displayed in ProductsForSupplierDetails.aspx](adding-a-gridview-column-of-radio-buttons-vb/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image25.png)</span></span>

<span data-ttu-id="d1ee7-299">**Рис. 15**: Продукты выбранного поставщика, отображаются в `ProductsForSupplierDetails.aspx` ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-299">**Figure 15**: The Selected Supplier s Products are Displayed in `ProductsForSupplierDetails.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image26.png))</span></span>


## <a name="step-5-displaying-the-selected-supplier-s-products-on-the-same-page"></a><span data-ttu-id="d1ee7-300">Шаг 5. Отображение продукты выбранного поставщика на одной странице</span><span class="sxs-lookup"><span data-stu-id="d1ee7-300">Step 5: Displaying the Selected Supplier s Products on the Same Page</span></span>

<span data-ttu-id="d1ee7-301">На шаге 4 мы увидели, как будет перенаправлен на другой веб-страницу для отображения выбранного поставщика продукты.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-301">In Step 4 we saw how to send the user to another web page to display the selected supplier s products.</span></span> <span data-ttu-id="d1ee7-302">Кроме того продукты выбранного поставщика могут отображаться на одной странице.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-302">Alternatively, the selected supplier s products can be displayed on the same page.</span></span> <span data-ttu-id="d1ee7-303">Чтобы проиллюстрировать это, мы добавим другой GridView к `RadioButtonField.aspx` для отображения продукты выбранного поставщика s.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-303">To illustrate this, we'll add another GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="d1ee7-304">Так как нам нужен только этот GridView продуктов для отображения после выбора поставщика, добавить панели веб-элемент управления под `Suppliers` GridView, установка его `ID` для `ProductsBySupplierPanel` и его `Visible` свойства `False`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-304">Since we only want this GridView of products to display once a supplier has been selected, add a Panel Web control beneath the `Suppliers` GridView, setting its `ID` to `ProductsBySupplierPanel` and its `Visible` property to `False`.</span></span> <span data-ttu-id="d1ee7-305">В пределах панели, добавьте текст продуктов для выбранного поставщика, за которым следует элемент управления GridView с именем `ProductsBySupplier`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-305">Within the Panel, add the text Products for the Selected Supplier, followed by a GridView named `ProductsBySupplier`.</span></span> <span data-ttu-id="d1ee7-306">Выберите смарт-тега GridView s привязать его к элементу управления ObjectDataSource с именем `ProductsBySupplierDataSource`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-306">From the GridView s smart tag, choose to bind it to a new ObjectDataSource named `ProductsBySupplierDataSource`.</span></span>


<span data-ttu-id="d1ee7-307">[![Привязки ProductsBySupplier GridView к элементу управления ObjectDataSource](adding-a-gridview-column-of-radio-buttons-vb/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-307">[![Bind the ProductsBySupplier GridView to a New ObjectDataSource](adding-a-gridview-column-of-radio-buttons-vb/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image27.png)</span></span>

<span data-ttu-id="d1ee7-308">**Рис. 16**: Привязать `ProductsBySupplier` GridView к элементу управления ObjectDataSource ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-308">**Figure 16**: Bind the `ProductsBySupplier` GridView to a New ObjectDataSource ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image28.png))</span></span>


<span data-ttu-id="d1ee7-309">Настройте ObjectDataSource на использование `ProductsBLL` класса.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-309">Next, configure the ObjectDataSource to use the `ProductsBLL` class.</span></span> <span data-ttu-id="d1ee7-310">Так, как только мы хотим получить эти продукты, предоставляемые выбранным поставщиком, указать, что элемент управления ObjectDataSource должен вызывать `GetProductsBySupplierID(supplierID)` метод для извлечения данных.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-310">Since we only want to retrieve those products provided by the selected supplier, specify that the ObjectDataSource should invoke the `GetProductsBySupplierID(supplierID)` method to retrieve its data.</span></span> <span data-ttu-id="d1ee7-311">Выберите (нет) из раскрывающихся списков в UPDATE, INSERT и удаление вкладок.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-311">Select (None) from the drop-down lists in the UPDATE, INSERT, and DELETE tabs.</span></span>


<span data-ttu-id="d1ee7-312">[![Настройка ObjectDataSource на использование метода GetProductsBySupplierID(supplierID)](adding-a-gridview-column-of-radio-buttons-vb/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-312">[![Configure the ObjectDataSource to Use the GetProductsBySupplierID(supplierID) Method](adding-a-gridview-column-of-radio-buttons-vb/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image29.png)</span></span>

<span data-ttu-id="d1ee7-313">**Рис. 17**: Настройка ObjectDataSource для использования `GetProductsBySupplierID(supplierID)` метод ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-313">**Figure 17**: Configure the ObjectDataSource to Use the `GetProductsBySupplierID(supplierID)` Method ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image30.png))</span></span>


<span data-ttu-id="d1ee7-314">[![Установите раскрывающиеся списки (нет) в UPDATE, INSERT и удаление вкладок](adding-a-gridview-column-of-radio-buttons-vb/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-314">[![Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs](adding-a-gridview-column-of-radio-buttons-vb/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image31.png)</span></span>

<span data-ttu-id="d1ee7-315">**Рис. 18**: Установите раскрывающиеся списки (нет) в обновления, вставки и удаления вкладок ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image32.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-315">**Figure 18**: Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image32.png))</span></span>


<span data-ttu-id="d1ee7-316">После настройки SELECT, вставка и удаление вкладок, нажмите кнопку Далее.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-316">After configuring the SELECT, UPDATE, INSERT, and DELETE tabs, click Next.</span></span> <span data-ttu-id="d1ee7-317">Так как `GetProductsBySupplierID(supplierID)` метод ожидает входной параметр, мастер создания источника данных запрашивает, чтобы указать источник для значения параметра s.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-317">Since the `GetProductsBySupplierID(supplierID)` method expects an input parameter, the Create Data Source wizard prompts us to specify the source for the parameter s value.</span></span>

<span data-ttu-id="d1ee7-318">У нас есть несколько вариантов здесь в Указание источника значения параметра s.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-318">We have a couple of options here in specifying the source of the parameter s value.</span></span> <span data-ttu-id="d1ee7-319">Мы могли бы использовать объект параметра по умолчанию и программным образом назначьте `SuppliersSelectedIndex` свойства параметр s `DefaultValue` свойства в элемент управления ObjectDataSource s `Selecting` обработчик событий.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-319">We could use the default Parameter object, and programmatically assign the value of the `SuppliersSelectedIndex` property to the Parameter s `DefaultValue` property in the ObjectDataSource s `Selecting` event handler.</span></span> <span data-ttu-id="d1ee7-320">Вернуться к [Программная установка значений параметров ObjectDataSource](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-vb.md) учебника программно присвоение значений параметров ObjectDataSource s в памяти.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-320">Refer back to the [Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-vb.md) tutorial for a refresher on programmatically assigning values to the ObjectDataSource s parameters.</span></span>

<span data-ttu-id="d1ee7-321">Кроме того, можно использовать ControlParameter и ссылаться на `Suppliers` GridView s [ `SelectedValue` свойство](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx) (см. рис. 19).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-321">Alternatively, we can use a ControlParameter and refer to the `Suppliers` GridView s [`SelectedValue` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx) (see Figure 19).</span></span> <span data-ttu-id="d1ee7-322">GridView s `SelectedValue` возвращает `DataKey` значение, соответствующее [ `SelectedIndex` свойство](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-322">The GridView s `SelectedValue` property returns the `DataKey` value corresponding to the [`SelectedIndex` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx).</span></span> <span data-ttu-id="d1ee7-323">Чтобы этот параметр действовал, необходимо программно задать GridView s `SelectedIndex` свойство для выбранной строки, если `ListProducts` кнопки.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-323">In order for this option to work, we need to programmatically set the GridView s `SelectedIndex` property to the selected row when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="d1ee7-324">Как бонус, задав `SelectedIndex`, будут присутствовать выбранной записи `SelectedRowStyle` определенные в `DataWebControls` темы (желтый фон).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-324">As an added benefit, by setting the `SelectedIndex`, the selected record will take on the `SelectedRowStyle` defined in the `DataWebControls` Theme (a yellow background).</span></span>


<span data-ttu-id="d1ee7-325">[![Используйте ControlParameter для указания GridView s SelectedValue как источник параметра](adding-a-gridview-column-of-radio-buttons-vb/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-325">[![Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source](adding-a-gridview-column-of-radio-buttons-vb/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image33.png)</span></span>

<span data-ttu-id="d1ee7-326">**Рис. 19**: Позволяет указать GridView s SelectedValue как источник параметра ControlParameter ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-326">**Figure 19**: Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image34.png))</span></span>


<span data-ttu-id="d1ee7-327">После завершения работы мастера, Visual Studio автоматически добавит поля для поля данных продукта s.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-327">Upon completing the wizard, Visual Studio will automatically add fields for the product s data fields.</span></span> <span data-ttu-id="d1ee7-328">Удалите все, кроме `ProductName`, `CategoryName`, и `UnitPrice` полей BoundField и измените `HeaderText` свойства категорию и цену продукта.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-328">Remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="d1ee7-329">Настройка `UnitPrice` BoundField таким образом, чтобы его значение форматируется как денежная единица.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-329">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="d1ee7-330">После внесения этих изменений, панели, GridView и ObjectDataSource s декларативная разметка должна выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="d1ee7-330">After making these changes, the Panel, GridView, and ObjectDataSource s declarative markup should look like the following:</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample11.aspx)]

<span data-ttu-id="d1ee7-331">Чтобы завершить это упражнение, нам нужно установить GridView s `SelectedIndex` свойства `SelectedSuppliersIndex` и `ProductsBySupplierPanel` панели s `Visible` свойства `True` при `ListProducts` кнопки.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-331">To complete this exercise, we need to set the GridView s `SelectedIndex` property to the `SelectedSuppliersIndex` and the `ProductsBySupplierPanel` Panel s `Visible` property to `True` when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="d1ee7-332">Для этого необходимо создать обработчик событий для `ListProducts` веб-управления Button s `Click` событий и добавьте следующий код:</span><span class="sxs-lookup"><span data-stu-id="d1ee7-332">To accomplish this, create an event handler for the `ListProducts` Button Web control s `Click` event and add the following code:</span></span>


[!code-vb[Main](adding-a-gridview-column-of-radio-buttons-vb/samples/sample12.vb)]

<span data-ttu-id="d1ee7-333">Если поставщик не была выбрана из GridView, `ChooseSupplierMsg` метка будет отображаться и `ProductsBySupplierPanel` панели скрыты.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-333">If a supplier has not been selected from the GridView, the `ChooseSupplierMsg` Label is displayed and the `ProductsBySupplierPanel` Panel hidden.</span></span> <span data-ttu-id="d1ee7-334">В противном случае, если был выбран поставщик, `ProductsBySupplierPanel` отображается и GridView s `SelectedIndex` обновляется свойство.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-334">Otherwise, if a supplier has been selected, the `ProductsBySupplierPanel` is displayed and the GridView s `SelectedIndex` property is updated.</span></span>

<span data-ttu-id="d1ee7-335">Рис. 20 показаны результаты, после того как был выбран поставщик Breweries на снежном человеке и Показать продукты кнопки страницы был выполнен щелчок.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-335">Figure 20 shows the results after the Bigfoot Breweries supplier has been selected and the Show Products on Page button has been clicked.</span></span>


<span data-ttu-id="d1ee7-336">[![Продукты предоставляемые Breweries на снежном человеке, перечислены на одной странице](adding-a-gridview-column-of-radio-buttons-vb/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-336">[![The Products Supplied by Bigfoot Breweries are Listed on the Same Page](adding-a-gridview-column-of-radio-buttons-vb/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-vb/_static/image35.png)</span></span>

<span data-ttu-id="d1ee7-337">**Рис. 20**: Продукты предоставляемые Breweries на снежном человеке, перечислены на этой же странице ([Просмотр полноразмерного изображения](adding-a-gridview-column-of-radio-buttons-vb/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="d1ee7-337">**Figure 20**: The Products Supplied by Bigfoot Breweries are Listed on the Same Page ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-vb/_static/image36.png))</span></span>


## <a name="summary"></a><span data-ttu-id="d1ee7-338">Сводка</span><span class="sxs-lookup"><span data-stu-id="d1ee7-338">Summary</span></span>

<span data-ttu-id="d1ee7-339">Как уже говорилось в [Master/Detail, с помощью выбираемого основного элемента GridView с DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb.md) руководства, записи могут быть выбраны из элемента управления GridView с помощью CommandField которого `ShowSelectButton` свойство имеет значение `True`.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-339">As discussed in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb.md) tutorial, records can be selected from a GridView using a CommandField whose `ShowSelectButton` property is set to `True`.</span></span> <span data-ttu-id="d1ee7-340">Но CommandField отображает его как обычные Нажимаемые кнопки, ссылки или изображения.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-340">But the CommandField displays its buttons either as regular push buttons, links, or images.</span></span> <span data-ttu-id="d1ee7-341">Пользовательский интерфейс выбора альтернативных строк является предоставление переключателя или флажка в каждой строке GridView.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-341">An alternative row-selection user interface is to provide a radio button or checkbox in each GridView row.</span></span> <span data-ttu-id="d1ee7-342">В этом учебнике мы рассмотрели, как добавить столбец кнопок-переключателей.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-342">In this tutorial we examined how to add a column of radio buttons.</span></span>

<span data-ttu-id="d1ee7-343">К сожалению Добавление столбца t является переключатель кнопок как простой или простой, как можно ожидать, что.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-343">Unfortunately, adding a column of radio buttons isn t as straightforward or simple as one might expect.</span></span> <span data-ttu-id="d1ee7-344">Имеется не встроенные RadioButtonField, которые могут добавляться по нажатию кнопки, и использование веб-управления RadioButton в поле TemplateField создает свой собственный набор проблем.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-344">There is no built-in RadioButtonField that can be added at the click of a button, and using the RadioButton Web control within a TemplateField introduces its own set of problems.</span></span> <span data-ttu-id="d1ee7-345">В конце концов, для обеспечения такой интерфейс мы должны создать пользовательский `DataControlField` класса и не прибегая к ввод соответствующий HTML-кода в поле TemplateField во время `RowCreated` событий.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-345">In the end, to provide such an interface we either have to create a custom `DataControlField` class or resort to injecting the appropriate HTML into a TemplateField during the `RowCreated` event.</span></span>

<span data-ttu-id="d1ee7-346">Продемонстрировано, как добавить столбец кнопок-переключателей, сообщите нам обратить внимание на добавление столбца флажков.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-346">Having explored how to add a column of radio buttons, let us turn our attention to adding a column of checkboxes.</span></span> <span data-ttu-id="d1ee7-347">С помощью столбца флажков пользователь может выбрать один или несколько строк GridView и затем выполнить некую операцию на всех выбранных строк (например, выбрать набор сообщений электронной почты от клиента веб-почты и затем выбрав удаление всех выбранных сообщений электронной почты).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-347">With a column of checkboxes, a user can select one or more GridView rows and then perform some operation on all of the selected rows (such as selecting a set of emails from a web-based email client, and then choosing to delete all selected emails).</span></span> <span data-ttu-id="d1ee7-348">В следующем учебном курсе будет показано, как для добавления такого столбца.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-348">In the next tutorial we'll see how to add such a column.</span></span>

<span data-ttu-id="d1ee7-349">Счастливого вам программирования!</span><span class="sxs-lookup"><span data-stu-id="d1ee7-349">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="d1ee7-350">Об авторе</span><span class="sxs-lookup"><span data-stu-id="d1ee7-350">About the Author</span></span>

<span data-ttu-id="d1ee7-351">[Скотт Митчелл](http://www.4guysfromrolla.com/ScottMitchell.shtml), автор семи книг по ASP/ASP.NET и основатель веб- [4GuysFromRolla.com](http://www.4guysfromrolla.com), работает с веб-технологиями Microsoft с 1998 года.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-351">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="d1ee7-352">Скотт — независимый консультант, преподаватель и автор.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-352">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="d1ee7-353">Его последняя книга — [ *Sams Teach ASP.NET 2.0 in 24 часа*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-353">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="d1ee7-354">Ним можно связаться по адресу [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-354">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="d1ee7-355">или через его блог, который можно найти в [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="d1ee7-355">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="d1ee7-356">Особая благодарность</span><span class="sxs-lookup"><span data-stu-id="d1ee7-356">Special Thanks To</span></span>

<span data-ttu-id="d1ee7-357">В этой серии руководств пособий рецензировалась многими компетентными редакторами.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-357">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="d1ee7-358">Основной рецензент этого учебного был Дэвид Suru.</span><span class="sxs-lookup"><span data-stu-id="d1ee7-358">Lead reviewer for this tutorial was David Suru.</span></span> <span data-ttu-id="d1ee7-359">Хотите поработать с моих последующих статей для MSDN?</span><span class="sxs-lookup"><span data-stu-id="d1ee7-359">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="d1ee7-360">Если Да, напишите мне [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-360">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d1ee7-361">[Назад](inserting-a-new-record-from-the-gridview-s-footer-cs.md)
> [Вперед](adding-a-gridview-column-of-checkboxes-vb.md)</span><span class="sxs-lookup"><span data-stu-id="d1ee7-361">[Previous](inserting-a-new-record-from-the-gridview-s-footer-cs.md)
[Next](adding-a-gridview-column-of-checkboxes-vb.md)</span></span>
