---
uid: web-forms/overview/data-access/introduction/master-pages-and-site-navigation-cs
title: Главные страницы и Навигация по сайтуC#() | Документация Майкрософт
author: rick-anderson
description: Одной из распространенных характеристик удобных для пользователя веб-сайтов является то, что они имеют единообразный макет страниц и схему навигации на уровне всего сайта. В этом учебнике рассматривается, как y...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 5aee8202-a4e3-4aa9-8a95-cd5d156cea4c
msc.legacyurl: /web-forms/overview/data-access/introduction/master-pages-and-site-navigation-cs
msc.type: authoredcontent
ms.openlocfilehash: e1ddd43524a61ff2e012171eba1a8dc8efbf8f1d
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2019
ms.locfileid: "74587716"
---
# <a name="master-pages-and-site-navigation-c"></a><span data-ttu-id="53a94-104">Эталонные страницы и структура навигации веб-сайта (C#)</span><span class="sxs-lookup"><span data-stu-id="53a94-104">Master Pages and Site Navigation (C#)</span></span>

<span data-ttu-id="53a94-105">по [Скотт Митчелл](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="53a94-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="53a94-106">[Скачивание примера приложения](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_3_CS.exe) или [Загрузка PDF-файла](master-pages-and-site-navigation-cs/_static/datatutorial03cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="53a94-106">[Download Sample App](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_3_CS.exe) or [Download PDF](master-pages-and-site-navigation-cs/_static/datatutorial03cs1.pdf)</span></span>

> <span data-ttu-id="53a94-107">Одной из распространенных характеристик удобных для пользователя веб-сайтов является то, что они имеют единообразный макет страниц и схему навигации на уровне всего сайта.</span><span class="sxs-lookup"><span data-stu-id="53a94-107">One common characteristic of user-friendly websites is that they have a consistent, site-wide page layout and navigation scheme.</span></span> <span data-ttu-id="53a94-108">В этом учебнике рассматривается создание согласованного внешнего вида и поведения на всех страницах, которые можно легко обновить.</span><span class="sxs-lookup"><span data-stu-id="53a94-108">This tutorial looks at how you can create a consistent look and feel across all pages that can easily be updated.</span></span>

## <a name="introduction"></a><span data-ttu-id="53a94-109">Введение</span><span class="sxs-lookup"><span data-stu-id="53a94-109">Introduction</span></span>

<span data-ttu-id="53a94-110">Одной из распространенных характеристик удобных для пользователя веб-сайтов является то, что они имеют единообразный макет страниц и схему навигации на уровне всего сайта.</span><span class="sxs-lookup"><span data-stu-id="53a94-110">One common characteristic of user-friendly websites is that they have a consistent, site-wide page layout and navigation scheme.</span></span> <span data-ttu-id="53a94-111">В ASP.NET 2,0 появились две новые функции, которые значительно упрощают реализацию макета страницы и схемы навигации на уровне всего сайта: главные страницы и Навигация по веб-узлу.</span><span class="sxs-lookup"><span data-stu-id="53a94-111">ASP.NET 2.0 introduces two new features that greatly simplify implementing both a site-wide page layout and navigation scheme: master pages and site navigation.</span></span> <span data-ttu-id="53a94-112">Главные страницы позволяют разработчикам создавать шаблоны на уровне сайта с назначенными редактируемыми областями.</span><span class="sxs-lookup"><span data-stu-id="53a94-112">Master pages allow for developers to create a site-wide template with designated editable regions.</span></span> <span data-ttu-id="53a94-113">Затем этот шаблон можно применить к страницам ASP.NET на сайте.</span><span class="sxs-lookup"><span data-stu-id="53a94-113">This template can then be applied to ASP.NET pages in the site.</span></span> <span data-ttu-id="53a94-114">Такие страницы ASP.NET должны предоставлять только содержимое для изменяемых регионов главной страницы. вся остальная разметка главной страницы идентична на всех страницах ASP.NET, использующих эту главную страницу.</span><span class="sxs-lookup"><span data-stu-id="53a94-114">Such ASP.NET pages need only provide content for the master page's specified editable regions all other markup in the master page is identical across all ASP.NET pages that use the master page.</span></span> <span data-ttu-id="53a94-115">Эта модель позволяет разработчикам определять и централизовать макет страниц на уровне всего сайта, тем самым упрощая создание единообразного внешнего вида и поведения на всех страницах, которые можно легко обновлять.</span><span class="sxs-lookup"><span data-stu-id="53a94-115">This model allows developers to define and centralize a site-wide page layout, thereby making it easier to create a consistent look and feel across all pages that can easily be updated.</span></span>

<span data-ttu-id="53a94-116">[Система навигации по веб-узлу](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx) предоставляет разработчикам страниц механизм, позволяющий определить карту узла и API-интерфейс для этой схемы узла для программного запроса.</span><span class="sxs-lookup"><span data-stu-id="53a94-116">The [site navigation system](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx) provides both a mechanism for page developers to define a site map and an API for that site map to be programmatically queried.</span></span> <span data-ttu-id="53a94-117">Новые навигационные веб-элементы управления — меню, TreeView и SiteMapPath позволяют легко отображать карту узла или ее часть в общем элементе пользовательского интерфейса навигации.</span><span class="sxs-lookup"><span data-stu-id="53a94-117">The new navigation Web controls the Menu, TreeView, and SiteMapPath make it easy to render all or part of the site map in a common navigation user interface element.</span></span> <span data-ttu-id="53a94-118">Мы будем использовать поставщик навигации по веб-узлу по умолчанию, что означает, что наша схема узла будет определяться в файле формата XML.</span><span class="sxs-lookup"><span data-stu-id="53a94-118">We'll be using the default site navigation provider, meaning that our site map will be defined in an XML-formatted file.</span></span>

<span data-ttu-id="53a94-119">Чтобы проиллюстрировать эти понятия и сделать наш веб-сайт учебных материалов более удобным, давайте проверим, что это занятие, определяющее макет страницы на уровне сайта, реализуя карту узла и добавив Пользовательский интерфейс навигации.</span><span class="sxs-lookup"><span data-stu-id="53a94-119">To illustrate these concepts and make our tutorials website more usable, let's spend this lesson defining a site-wide page layout, implementing a site map, and adding the navigation UI.</span></span> <span data-ttu-id="53a94-120">По завершении работы с этим руководством у нас будет готовая разработка веб-страниц для создания наших руководств.</span><span class="sxs-lookup"><span data-stu-id="53a94-120">By the end of this tutorial we'll have a polished website design for building our tutorial web pages.</span></span>

<span data-ttu-id="53a94-121">[![конечный результат работы с этим руководством](master-pages-and-site-navigation-cs/_static/image2.png)](master-pages-and-site-navigation-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="53a94-121">[![The End Result of This Tutorial](master-pages-and-site-navigation-cs/_static/image2.png)](master-pages-and-site-navigation-cs/_static/image1.png)</span></span>

<span data-ttu-id="53a94-122">**Рис. 1**. конечный результат этого учебника ([щелкните, чтобы просмотреть изображение с полным размером](master-pages-and-site-navigation-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="53a94-122">**Figure 1**: The End Result of This Tutorial ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image3.png))</span></span>

## <a name="step-1-creating-the-master-page"></a><span data-ttu-id="53a94-123">Шаг 1. Создание главной страницы</span><span class="sxs-lookup"><span data-stu-id="53a94-123">Step 1: Creating the Master Page</span></span>

<span data-ttu-id="53a94-124">Первым шагом является создание главной страницы для сайта.</span><span class="sxs-lookup"><span data-stu-id="53a94-124">The first step is to create the master page for the site.</span></span> <span data-ttu-id="53a94-125">Сейчас наш веб-сайт состоит только из типизированного набора данных (`Northwind.xsd`, в папке `App_Code`), классов BLL (`ProductsBLL.cs`, `CategoriesBLL.cs`и т. д., всех в папке `App_Code`), базы данных (`NORTHWND.MDF`, в папке `App_Data`), файла конфигурации (`Web.config`) и файла таблицы стилей CSS (`Styles.css`).</span><span class="sxs-lookup"><span data-stu-id="53a94-125">Right now our website consists of only the Typed DataSet (`Northwind.xsd`, in the `App_Code` folder), the BLL classes (`ProductsBLL.cs`, `CategoriesBLL.cs`, and so on, all in the `App_Code` folder), the database (`NORTHWND.MDF`, in the `App_Data` folder), the configuration file (`Web.config`), and a CSS stylesheet file (`Styles.css`).</span></span> <span data-ttu-id="53a94-126">Я удалил эти страницы и файлы, демонстрирующие использование DAL и BLL из первых двух руководств, так как мы будем изучать эти примеры более подробно в следующих учебных курсах.</span><span class="sxs-lookup"><span data-stu-id="53a94-126">I cleaned out those pages and files demonstrating using the DAL and BLL from the first two tutorials since we will be reexamining those examples in greater detail in future tutorials.</span></span>

![Файлы в нашем проекте](master-pages-and-site-navigation-cs/_static/image4.png)

<span data-ttu-id="53a94-128">**Рис. 2**. файлы в нашем проекте</span><span class="sxs-lookup"><span data-stu-id="53a94-128">**Figure 2**: The Files in Our Project</span></span>

<span data-ttu-id="53a94-129">Чтобы создать главную страницу, щелкните правой кнопкой мыши имя проекта в обозреватель решений и выберите команду Добавить новый элемент.</span><span class="sxs-lookup"><span data-stu-id="53a94-129">To create a master page, right-click on the project name in the Solution Explorer and choose Add New Item.</span></span> <span data-ttu-id="53a94-130">Затем выберите тип главной страницы из списка шаблонов и назовите его `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="53a94-130">Then select the Master Page type from the list of templates and name it `Site.master`.</span></span>

<span data-ttu-id="53a94-131">[![добавить на веб-сайт новую главную страницу](master-pages-and-site-navigation-cs/_static/image6.png)](master-pages-and-site-navigation-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="53a94-131">[![Add a New Master Page to the Website](master-pages-and-site-navigation-cs/_static/image6.png)](master-pages-and-site-navigation-cs/_static/image5.png)</span></span>

<span data-ttu-id="53a94-132">**Рис. 3**. Добавление новой главной страницы на веб-сайт ([щелкните, чтобы просмотреть изображение с полным размером](master-pages-and-site-navigation-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="53a94-132">**Figure 3**: Add a New Master Page to the Website ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image7.png))</span></span>

<span data-ttu-id="53a94-133">Определите макет страницы для всего сайта на главной странице.</span><span class="sxs-lookup"><span data-stu-id="53a94-133">Define the site-wide page layout here in the master page.</span></span> <span data-ttu-id="53a94-134">Вы можете использовать представление конструирования и добавлять необходимые макеты или веб-элементы управления, или вручную добавить разметку в представлении источника.</span><span class="sxs-lookup"><span data-stu-id="53a94-134">You can use the Design view and add whatever Layout or Web controls you need, or you can manually add the markup by hand in the Source view.</span></span> <span data-ttu-id="53a94-135">На главной странице я использую [каскадные таблицы стилей](http://www.w3schools.com/css/default.asp) для позиционирования и стилей с параметрами CSS, определенными во внешнем файле `Style.css`.</span><span class="sxs-lookup"><span data-stu-id="53a94-135">In my master page I use [cascading style sheets](http://www.w3schools.com/css/default.asp) for positioning and styles with the CSS settings defined in the external file `Style.css`.</span></span> <span data-ttu-id="53a94-136">Хотя вы не можете понять приведенную ниже разметку, правила CSS определены таким образом, что содержимое `<div>`навигации имеет абсолютное позиционирование, чтобы оно отображалось слева и имеет фиксированную ширину 200 пикселей.</span><span class="sxs-lookup"><span data-stu-id="53a94-136">While you cannot tell from the markup shown below, the CSS rules are defined such that the navigation `<div>`'s content is absolutely positioned so that it appears on the left and has a fixed width of 200 pixels.</span></span>

<span data-ttu-id="53a94-137">Site. master</span><span class="sxs-lookup"><span data-stu-id="53a94-137">Site.master</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample1.aspx)]

<span data-ttu-id="53a94-138">Эталонная страница определяет как статический макет страницы, так и регионы, которые можно изменять с помощью страниц ASP.NET, использующих главную страницу.</span><span class="sxs-lookup"><span data-stu-id="53a94-138">A master page defines both the static page layout and the regions that can be edited by the ASP.NET pages that use the master page.</span></span> <span data-ttu-id="53a94-139">Эти изменяемые регионы обозначаются элементом управления ContentPlaceHolder, который можно увидеть в `<div>`содержимого.</span><span class="sxs-lookup"><span data-stu-id="53a94-139">These content editable regions are indicated by the ContentPlaceHolder control, which can be seen within the content `<div>`.</span></span> <span data-ttu-id="53a94-140">Наша главная страница имеет один элемент ContentPlaceHolder (`MainContent`), но у главной страницы может быть несколько элементов управления ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="53a94-140">Our master page has a single ContentPlaceHolder (`MainContent`), but master page's may have multiple ContentPlaceHolders.</span></span>

<span data-ttu-id="53a94-141">После того, как была указана разметка, переход на представление конструирования отображает макет главной страницы.</span><span class="sxs-lookup"><span data-stu-id="53a94-141">With the markup entered above, switching to the Design view shows the master page's layout.</span></span> <span data-ttu-id="53a94-142">Все страницы ASP.NET, использующие эту эталонную страницу, будут иметь такой единообразный макет с возможностью указать разметку для `MainContent` региона.</span><span class="sxs-lookup"><span data-stu-id="53a94-142">Any ASP.NET pages that use this master page will have this uniform layout, with the ability to specify the markup for the `MainContent` region.</span></span>

<span data-ttu-id="53a94-143">[![главную страницу при просмотре в режиме конструктора](master-pages-and-site-navigation-cs/_static/image9.png)](master-pages-and-site-navigation-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="53a94-143">[![The Master Page, When Viewed Through the Design View](master-pages-and-site-navigation-cs/_static/image9.png)](master-pages-and-site-navigation-cs/_static/image8.png)</span></span>

<span data-ttu-id="53a94-144">**Рис. 4**. Главная страница при просмотре в режиме конструктора ([щелкните, чтобы просмотреть изображение с полным размером](master-pages-and-site-navigation-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="53a94-144">**Figure 4**: The Master Page, When Viewed Through the Design View ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image10.png))</span></span>

## <a name="step-2-adding-a-homepage-to-the-website"></a><span data-ttu-id="53a94-145">Шаг 2. Добавление домашней страницы на веб-сайт</span><span class="sxs-lookup"><span data-stu-id="53a94-145">Step 2: Adding a Homepage to the Website</span></span>

<span data-ttu-id="53a94-146">После определения главной страницы мы готовы добавить страницы ASP.NET для веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="53a94-146">With the master page defined, we're ready to add the ASP.NET pages for the website.</span></span> <span data-ttu-id="53a94-147">Начнем с добавления `Default.aspx`, домашней страницы веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="53a94-147">Let's start by adding `Default.aspx`, our website's homepage.</span></span> <span data-ttu-id="53a94-148">Щелкните правой кнопкой мыши имя проекта в обозреватель решений и выберите команду Добавить новый элемент.</span><span class="sxs-lookup"><span data-stu-id="53a94-148">Right-click on the project name in the Solution Explorer and choose Add New Item.</span></span> <span data-ttu-id="53a94-149">Выберите параметр веб-форма из списка шаблонов и присвойте файлу имя `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="53a94-149">Pick the Web Form option from the template list and name the file `Default.aspx`.</span></span> <span data-ttu-id="53a94-150">Также установите флажок "выбрать главную страницу".</span><span class="sxs-lookup"><span data-stu-id="53a94-150">Also, check the "Select master page" checkbox.</span></span>

<span data-ttu-id="53a94-151">[![добавить новую веб-форму, установив флажок Выбрать главную страницу](master-pages-and-site-navigation-cs/_static/image12.png)](master-pages-and-site-navigation-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="53a94-151">[![Add a New Web Form, Checking the Select master page Checkbox](master-pages-and-site-navigation-cs/_static/image12.png)](master-pages-and-site-navigation-cs/_static/image11.png)</span></span>

<span data-ttu-id="53a94-152">**Рис. 5**. Добавление новой веб-формы и установка флажка «выбор главной страницы» ([щелкните, чтобы просмотреть изображение с полным размером](master-pages-and-site-navigation-cs/_static/image13.png))</span><span class="sxs-lookup"><span data-stu-id="53a94-152">**Figure 5**: Add a New Web Form, Checking the Select master page Checkbox ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image13.png))</span></span>

<span data-ttu-id="53a94-153">После нажатия кнопки "ОК" вам будет предложено выбрать главную страницу, которую должна использовать эта новая страница ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="53a94-153">After clicking the OK button, we're asked to choose what master page this new ASP.NET page should use.</span></span> <span data-ttu-id="53a94-154">Хотя в проекте может быть несколько главных страниц, у нас есть только одна.</span><span class="sxs-lookup"><span data-stu-id="53a94-154">While you can have multiple master pages in your project, we have only one.</span></span>

<span data-ttu-id="53a94-155">[![выбрать главную страницу, которую должна использовать Эта страница ASP.NET](master-pages-and-site-navigation-cs/_static/image15.png)](master-pages-and-site-navigation-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="53a94-155">[![Choose the Master Page this ASP.NET Page Should Use](master-pages-and-site-navigation-cs/_static/image15.png)](master-pages-and-site-navigation-cs/_static/image14.png)</span></span>

<span data-ttu-id="53a94-156">**Рис. 6**. Выбор главной страницы, которую должна использовать эта страница ASP.NET ([щелкните, чтобы просмотреть изображение с полным размером](master-pages-and-site-navigation-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="53a94-156">**Figure 6**: Choose the Master Page this ASP.NET Page Should Use ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image16.png))</span></span>

<span data-ttu-id="53a94-157">После выбора главной страницы новые страницы ASP.NET будут содержать следующую разметку:</span><span class="sxs-lookup"><span data-stu-id="53a94-157">After picking the master page, the new ASP.NET pages will contain the following markup:</span></span>

<span data-ttu-id="53a94-158">Default.aspx</span><span class="sxs-lookup"><span data-stu-id="53a94-158">Default.aspx</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample2.aspx)]

<span data-ttu-id="53a94-159">В директиве `@Page` имеется ссылка на используемый файл главной страницы (`MasterPageFile="~/Site.master"`), а разметка страницы ASP.NET содержит элемент управления содержимым для каждого элемента управления ContentPlaceHolder, определенного на главной странице, и `ContentPlaceHolderID` элемента управления, сопоставляя элемент управления Content с определенным элементом ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="53a94-159">In the `@Page` directive there's a reference to the master page file used (`MasterPageFile="~/Site.master"`), and the ASP.NET page's markup contains a Content control for each of the ContentPlaceHolder controls defined in the master page, with the control's `ContentPlaceHolderID` mapping the Content control to a specific ContentPlaceHolder.</span></span> <span data-ttu-id="53a94-160">Элемент управления содержимым позволяет поместить разметку, которая будет отображаться в соответствующем элементе ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="53a94-160">The Content control is where you place the markup you want to appear in the corresponding ContentPlaceHolder.</span></span> <span data-ttu-id="53a94-161">Задайте для `Title`ной директивы `@Page` атрибут Home и добавьте некоторое содержимое дружелюбны в элемент управления содержимым:</span><span class="sxs-lookup"><span data-stu-id="53a94-161">Set the `@Page` directive's `Title` attribute to Home and add some welcoming content to the Content control:</span></span>

<span data-ttu-id="53a94-162">Default.aspx</span><span class="sxs-lookup"><span data-stu-id="53a94-162">Default.aspx</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample3.aspx)]

<span data-ttu-id="53a94-163">Атрибут `Title` в директиве `@Page` позволяет нам задать заголовок страницы на странице ASP.NET, даже если элемент `<title>` определен на главной странице.</span><span class="sxs-lookup"><span data-stu-id="53a94-163">The `Title` attribute in the `@Page` directive allows us to set the page's title from the ASP.NET page, even though the `<title>` element is defined in the master page.</span></span> <span data-ttu-id="53a94-164">Можно также задать заголовок программно с помощью `Page.Title`.</span><span class="sxs-lookup"><span data-stu-id="53a94-164">We can also set the title programmatically, using `Page.Title`.</span></span> <span data-ttu-id="53a94-165">Также обратите внимание, что ссылки на эталонную страницу таблиц стилей (например, `Style.css`) автоматически обновляются, чтобы они работали на любой странице ASP.NET, независимо от каталога, в котором находится страница ASP.NET, относительно главной страницы.</span><span class="sxs-lookup"><span data-stu-id="53a94-165">Also note that the master page's references to stylesheets (such as `Style.css`) are automatically updated so that they work in any ASP.NET page, regardless of what directory the ASP.NET page is in relative to the master page.</span></span>

<span data-ttu-id="53a94-166">Перейдя к представление конструирования можно увидеть, как страница будет выглядеть в браузере.</span><span class="sxs-lookup"><span data-stu-id="53a94-166">Switching to the Design view we can see how our page will look in a browser.</span></span> <span data-ttu-id="53a94-167">Обратите внимание на то, что в представление конструирования для страницы ASP.NET, что изменяемая разметка, не относящаяся к элементу ContentPlaceHolder, определенная на главной странице, неактивна.</span><span class="sxs-lookup"><span data-stu-id="53a94-167">Note that in the Design view for the ASP.NET page that only the content editable regions are editable the non-ContentPlaceHolder markup defined in the master page is grayed out.</span></span>

<span data-ttu-id="53a94-168">[![режиме конструктора для страницы ASP.NET отображаются изменяемые и неизменяемые регионы.](master-pages-and-site-navigation-cs/_static/image18.png)](master-pages-and-site-navigation-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="53a94-168">[![The Design View for the ASP.NET Page Shows Both the Editable and Non-Editable Regions](master-pages-and-site-navigation-cs/_static/image18.png)](master-pages-and-site-navigation-cs/_static/image17.png)</span></span>

<span data-ttu-id="53a94-169">**Рис. 7**. в представлении конструктора для страницы ASP.NET отображаются редактируемые и нередактируемые регионы ([щелкните, чтобы просмотреть изображение с полным размером](master-pages-and-site-navigation-cs/_static/image19.png)).</span><span class="sxs-lookup"><span data-stu-id="53a94-169">**Figure 7**: The Design View for the ASP.NET Page Shows Both the Editable and Non-Editable Regions ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image19.png))</span></span>

<span data-ttu-id="53a94-170">Когда браузер посещает страницу `Default.aspx`, подсистема ASP.NET автоматически объединяет содержимое главной страницы страницы и ASP. И готовит содержимое к просмотру в окончательном HTML-коде, который отправляется в запрашивающий браузер.</span><span class="sxs-lookup"><span data-stu-id="53a94-170">When the `Default.aspx` page is visited by a browser, the ASP.NET engine automatically merges the page's master page content and the ASP.NET's content, and renders the merged content into the final HTML that is sent down to the requesting browser.</span></span> <span data-ttu-id="53a94-171">При обновлении содержимого главной страницы содержимое всех ASP.NET страниц, использующих эту эталонную страницу, будет объединено с новым содержимым главной страницы при следующем запросе.</span><span class="sxs-lookup"><span data-stu-id="53a94-171">When the master page's content is updated, all ASP.NET pages that use this master page will have their content remerged with the new master page content the next time they are requested.</span></span> <span data-ttu-id="53a94-172">Вкратце, модель главной страницы позволяет определить один шаблон макета страницы (главную страницу), изменения которого немедленно отражаются на всем сайте.</span><span class="sxs-lookup"><span data-stu-id="53a94-172">In short, the master page model allows for a single page layout template to be defined (the master page) whose changes are immediately reflected across the entire site.</span></span>

## <a name="adding-additional-aspnet-pages-to-the-website"></a><span data-ttu-id="53a94-173">Добавление дополнительных страниц ASP.NET на веб-сайт</span><span class="sxs-lookup"><span data-stu-id="53a94-173">Adding Additional ASP.NET Pages to the Website</span></span>

<span data-ttu-id="53a94-174">Давайте попробуем добавить дополнительные заглушки страниц ASP.NET на сайт, где в конечном итоге будут храниться различные демонстрационные версии отчетов.</span><span class="sxs-lookup"><span data-stu-id="53a94-174">Let's take a moment to add additional ASP.NET page stubs to the site that will eventually hold the various reporting demos.</span></span> <span data-ttu-id="53a94-175">Общее количество демонстраций будет более 35, поэтому, вместо того чтобы создавать все страницы-заглушки, создадим только первые.</span><span class="sxs-lookup"><span data-stu-id="53a94-175">There will be more than 35 demos in total, so rather than creating all of the stub pages let's just create the first few.</span></span> <span data-ttu-id="53a94-176">Так как также будет много категорий демонстраций, чтобы лучше управлять демонстрационными роликами, добавьте папку для категорий.</span><span class="sxs-lookup"><span data-stu-id="53a94-176">Since there will also be many categories of demos, to better manage the demos add a folder for the categories.</span></span> <span data-ttu-id="53a94-177">Для этого добавьте следующие три папки:</span><span class="sxs-lookup"><span data-stu-id="53a94-177">Add the following three folders for now:</span></span>

- `BasicReporting`
- `Filtering`
- `CustomFormatting`

<span data-ttu-id="53a94-178">Наконец, добавьте новые файлы, как показано на обозреватель решений рис. 8.</span><span class="sxs-lookup"><span data-stu-id="53a94-178">Finally, add new files as shown in the Solution Explorer in Figure 8.</span></span> <span data-ttu-id="53a94-179">При добавлении каждого файла не забудьте установить флажок "выбрать главную страницу".</span><span class="sxs-lookup"><span data-stu-id="53a94-179">When adding each file, remember to check the "Select master page" checkbox.</span></span>

![Добавьте следующие файлы:](master-pages-and-site-navigation-cs/_static/image20.png)

<span data-ttu-id="53a94-181">**Рис. 8**. добавление следующих файлов</span><span class="sxs-lookup"><span data-stu-id="53a94-181">**Figure 8**: Add the Following Files</span></span>

## <a name="step-2-creating-a-site-map"></a><span data-ttu-id="53a94-182">Шаг 2. Создание схемы узла</span><span class="sxs-lookup"><span data-stu-id="53a94-182">Step 2: Creating a Site Map</span></span>

<span data-ttu-id="53a94-183">Одной из задач управления веб-сайтом, состоящей из более чем нескольких страниц, является простой способ перемещения посетителей по сайту.</span><span class="sxs-lookup"><span data-stu-id="53a94-183">One of the challenges of managing a website composed of more than a handful of pages is providing a straightforward way for visitors to navigate through the site.</span></span> <span data-ttu-id="53a94-184">Для начала необходимо определить структуру навигации сайта.</span><span class="sxs-lookup"><span data-stu-id="53a94-184">To begin with, the site's navigational structure must be defined.</span></span> <span data-ttu-id="53a94-185">Затем эта структура должна быть преобразована в элементы пользовательского интерфейса, такие как меню или пути.</span><span class="sxs-lookup"><span data-stu-id="53a94-185">Next, this structure must be translated into navigable user interface elements, such as menus or breadcrumbs.</span></span> <span data-ttu-id="53a94-186">Наконец, весь процесс должен поддерживаться и обновляться по мере добавления новых страниц на сайт и удаления существующих.</span><span class="sxs-lookup"><span data-stu-id="53a94-186">Finally, this whole process needs to be maintained and updated as new pages are added to the site and existing ones removed.</span></span> <span data-ttu-id="53a94-187">До ASP.NET 2,0 разработчикам приходилось самостоятельно создавать структуру навигации сайта, поддерживать ее и переводить в элементы пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="53a94-187">Prior to ASP.NET 2.0, developers were on their own for creating the site's navigational structure, maintaining it, and translating it into navigable user interface elements.</span></span> <span data-ttu-id="53a94-188">Однако с помощью ASP.NET 2,0 разработчики могут использовать очень гибкую встроенную систему навигации по сайту.</span><span class="sxs-lookup"><span data-stu-id="53a94-188">With ASP.NET 2.0, however, developers can utilize the very flexible built in site navigation system.</span></span>

<span data-ttu-id="53a94-189">Система навигации по сайтам ASP.NET 2,0 предоставляет разработчикам средства для определения карт веб-узлов и доступа к этим сведениям через программный API.</span><span class="sxs-lookup"><span data-stu-id="53a94-189">The ASP.NET 2.0 site navigation system provides a means for a developer to define a site map and to then access this information through a programmatic API.</span></span> <span data-ttu-id="53a94-190">ASP.NET поставляется с поставщиком карт узла, который должен хранить данные карт узла в XML-файле, отформатированном определенным образом.</span><span class="sxs-lookup"><span data-stu-id="53a94-190">ASP.NET ships with a site map provider that expects site map data to be stored in an XML file formatted in a particular way.</span></span> <span data-ttu-id="53a94-191">Но поскольку система навигации по сайту построена на основе [модели поставщика](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx) , ее можно расширить для поддержки альтернативных способов сериализации сведений о карте узла.</span><span class="sxs-lookup"><span data-stu-id="53a94-191">But, since the site navigation system is built on the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx) it can be extended to support alternative ways for serializing the site map information.</span></span> <span data-ttu-id="53a94-192">В статье «Джефф Просайз» [поставщик схемы узла SQL, который вы ожидаете](https://msdn.microsoft.com/msdnmag/issues/06/02/WickedCode/default.aspx) , показывает, как создать поставщик карт узла, хранящий карту узла в базе данных SQL Server; другой вариант — создать [поставщик карт узла на основе структуры файловой системы](http://aspnet.4guysfromrolla.com/articles/020106-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="53a94-192">Jeff Prosise's article, [The SQL Site Map Provider You've Been Waiting For](https://msdn.microsoft.com/msdnmag/issues/06/02/WickedCode/default.aspx) shows how to create a site map provider that stores the site map in a SQL Server database; another option is to create [a site map provider based on the file system structure](http://aspnet.4guysfromrolla.com/articles/020106-1.aspx).</span></span>

<span data-ttu-id="53a94-193">Однако в этом руководстве мы будем использовать поставщик карт узла по умолчанию, который поставляется с ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="53a94-193">For this tutorial, however, let's use the default site map provider that ships with ASP.NET 2.0.</span></span> <span data-ttu-id="53a94-194">Чтобы создать карту узла, просто щелкните правой кнопкой мыши имя проекта в обозреватель решений, выберите команду Добавить новый элемент и выберите параметр Схема узла.</span><span class="sxs-lookup"><span data-stu-id="53a94-194">To create the site map, simply right-click on the project name in the Solution Explorer, choose Add New Item, and choose the Site Map option.</span></span> <span data-ttu-id="53a94-195">Оставьте имя `Web.sitemap` и нажмите кнопку Добавить.</span><span class="sxs-lookup"><span data-stu-id="53a94-195">Leave the name as `Web.sitemap` and click the Add button.</span></span>

<span data-ttu-id="53a94-196">[![добавить карту сайта в проект](master-pages-and-site-navigation-cs/_static/image22.png)](master-pages-and-site-navigation-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="53a94-196">[![Add a Site Map to Your Project](master-pages-and-site-navigation-cs/_static/image22.png)](master-pages-and-site-navigation-cs/_static/image21.png)</span></span>

<span data-ttu-id="53a94-197">**Рис. 9**. Добавление в проект схемы узла ([щелкните, чтобы просмотреть изображение с полным размером](master-pages-and-site-navigation-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="53a94-197">**Figure 9**: Add a Site Map to Your Project ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image23.png))</span></span>

<span data-ttu-id="53a94-198">Файл схемы узла является XML-файлом.</span><span class="sxs-lookup"><span data-stu-id="53a94-198">The site map file is an XML file.</span></span> <span data-ttu-id="53a94-199">Обратите внимание, что Visual Studio предоставляет IntelliSense для структуры карт узла.</span><span class="sxs-lookup"><span data-stu-id="53a94-199">Note that Visual Studio provides IntelliSense for the site map structure.</span></span> <span data-ttu-id="53a94-200">Файл схемы узла должен иметь узел `<siteMap>` в качестве корневого узла, который должен содержать ровно один дочерний элемент `<siteMapNode>`.</span><span class="sxs-lookup"><span data-stu-id="53a94-200">The site map file must have the `<siteMap>` node as its root node, which must contain precisely one `<siteMapNode>` child element.</span></span> <span data-ttu-id="53a94-201">Первый `<siteMapNode>` элемент может содержать произвольное число элементов `<siteMapNode>` потомков.</span><span class="sxs-lookup"><span data-stu-id="53a94-201">That first `<siteMapNode>` element can then contain an arbitrary number of descendent `<siteMapNode>` elements.</span></span>

<span data-ttu-id="53a94-202">Определите карту узла, чтобы имитировать структуру файловой системы.</span><span class="sxs-lookup"><span data-stu-id="53a94-202">Define the site map to mimic the file system structure.</span></span> <span data-ttu-id="53a94-203">То есть добавьте элемент `<siteMapNode>` для каждой из трех папок и дочерние элементы `<siteMapNode>` для каждой из ASP.NET страниц в этих папках следующим образом:</span><span class="sxs-lookup"><span data-stu-id="53a94-203">That is, add a `<siteMapNode>` element for each of the three folders, and child `<siteMapNode>` elements for each of the ASP.NET pages in those folders, like so:</span></span>

<span data-ttu-id="53a94-204">Web. Sitemap</span><span class="sxs-lookup"><span data-stu-id="53a94-204">Web.sitemap</span></span>

[!code-xml[Main](master-pages-and-site-navigation-cs/samples/sample4.xml)]

<span data-ttu-id="53a94-205">На карте узла определяется структура навигации веб-сайта, которая представляет собой иерархию, описывающую различные разделы сайта.</span><span class="sxs-lookup"><span data-stu-id="53a94-205">The site map defines the website's navigational structure, which is a hierarchy that describes the various sections of the site.</span></span> <span data-ttu-id="53a94-206">Каждый элемент `<siteMapNode>` в `Web.sitemap` представляет раздел структуры навигации сайта.</span><span class="sxs-lookup"><span data-stu-id="53a94-206">Each `<siteMapNode>` element in `Web.sitemap` represents a section in the site's navigational structure.</span></span>

<span data-ttu-id="53a94-207">[![схема узла представляет иерархическую структуру навигации](master-pages-and-site-navigation-cs/_static/image25.png)](master-pages-and-site-navigation-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="53a94-207">[![The Site Map Represents a Hierarchical Navigational Structure](master-pages-and-site-navigation-cs/_static/image25.png)](master-pages-and-site-navigation-cs/_static/image24.png)</span></span>

<span data-ttu-id="53a94-208">**Рис. 10**. схема узла представляет иерархическую структуру навигации ([щелкните, чтобы просмотреть изображение с полным размером](master-pages-and-site-navigation-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="53a94-208">**Figure 10**: The Site Map Represents a Hierarchical Navigational Structure ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image26.png))</span></span>

<span data-ttu-id="53a94-209">ASP.NET предоставляет структуру карты узла через [класс SiteMap](https://msdn.microsoft.com/library/system.web.sitemap.aspx).NET Framework.</span><span class="sxs-lookup"><span data-stu-id="53a94-209">ASP.NET exposes the site map's structure through the .NET Framework's [SiteMap class](https://msdn.microsoft.com/library/system.web.sitemap.aspx).</span></span> <span data-ttu-id="53a94-210">Этот класс имеет свойство `CurrentNode`, которое возвращает сведения о разделе, который в данный момент посещает пользователь; Свойство `RootNode` возвращает корневой элемент схемы узла (Домашняя страница в карте сайта).</span><span class="sxs-lookup"><span data-stu-id="53a94-210">This class has a `CurrentNode` property, which returns information about the section the user is currently visiting; the `RootNode` property returns the root of the site map (Home, in our site map).</span></span> <span data-ttu-id="53a94-211">Свойства `CurrentNode` и `RootNode` возвращают экземпляры [SiteMapNode](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) , имеющие такие свойства, как `ParentNode`, `ChildNodes`, `NextSibling`, `PreviousSibling`и т. д., которые позволяют выполнять обход иерархии карт узла.</span><span class="sxs-lookup"><span data-stu-id="53a94-211">Both the `CurrentNode` and `RootNode` properties return [SiteMapNode](https://msdn.microsoft.com/library/system.web.sitemapnode.aspx) instances, which have properties like `ParentNode`, `ChildNodes`, `NextSibling`, `PreviousSibling`, and so on, that allow for the site map hierarchy to be walked.</span></span>

## <a name="step-3-displaying-a-menu-based-on-the-site-map"></a><span data-ttu-id="53a94-212">Шаг 3. Отображение меню на основе схемы узла</span><span class="sxs-lookup"><span data-stu-id="53a94-212">Step 3: Displaying a Menu Based on the Site Map</span></span>

<span data-ttu-id="53a94-213">Доступ к данным в ASP.NET 2,0 можно выполнить программным способом, например в ASP.NET 1. x, или декларативно, с помощью новых [элементов управления источниками данных](https://msdn.microsoft.com/library/ms227679.aspx).</span><span class="sxs-lookup"><span data-stu-id="53a94-213">Accessing data in ASP.NET 2.0 can be accomplished programmatically, like in ASP.NET 1.x, or declaratively, through the new [data source controls](https://msdn.microsoft.com/library/ms227679.aspx).</span></span> <span data-ttu-id="53a94-214">Существует несколько встроенных элементов управления источниками данных, таких как элемент управления SqlDataSource, для доступа к данным реляционной базы данных, элемента управления ObjectDataSource для доступа к данным из классов и других.</span><span class="sxs-lookup"><span data-stu-id="53a94-214">There are several built-in data source controls such as the SqlDataSource control, for accessing relational database data, the ObjectDataSource control, for accessing data from classes, and others.</span></span> <span data-ttu-id="53a94-215">Вы даже можете создавать собственные [пользовательские элементы управления источниками данных](https://msdn.microsoft.com/asp.net/reference/data/default.aspx?pull=/library/dnvs05/html/DataSourceCon1.asp).</span><span class="sxs-lookup"><span data-stu-id="53a94-215">You can even create your own [custom data source controls](https://msdn.microsoft.com/asp.net/reference/data/default.aspx?pull=/library/dnvs05/html/DataSourceCon1.asp).</span></span>

<span data-ttu-id="53a94-216">Элементы управления источниками данных служат посредником между страницей ASP.NET и базовыми данными.</span><span class="sxs-lookup"><span data-stu-id="53a94-216">The data source controls serve as a proxy between your ASP.NET page and the underlying data.</span></span> <span data-ttu-id="53a94-217">Чтобы отобразить извлеченные данные элемента управления источника данных, мы обычно добавим на страницу еще один веб-элемент управления и привязали его к элементу управления источником данных.</span><span class="sxs-lookup"><span data-stu-id="53a94-217">In order to display a data source control's retrieved data, we'll typically add another Web control to the page and bind it to the data source control.</span></span> <span data-ttu-id="53a94-218">Чтобы привязать веб-элемент управления к элементу управления источником данных, просто задайте свойству `DataSourceID` веб-элемента управления значение свойства `ID` элемента управления источника данных.</span><span class="sxs-lookup"><span data-stu-id="53a94-218">To bind a Web control to a data source control, simply set the Web control's `DataSourceID` property to the value of the data source control's `ID` property.</span></span>

<span data-ttu-id="53a94-219">Чтобы помочь в работе с данными схемы узла, ASP.NET включает элемент управления SiteMapDataSource, позволяющий нам привязать веб-элемент управления к карте веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="53a94-219">To aid in working with the site map's data, ASP.NET includes the SiteMapDataSource control, which allows us to bind a Web control against our website's site map.</span></span> <span data-ttu-id="53a94-220">Два веб-элемента управления — TreeView и Menu обычно используются для предоставления пользовательского интерфейса навигации.</span><span class="sxs-lookup"><span data-stu-id="53a94-220">Two Web controls the TreeView and Menu are commonly used to provide a navigation user interface.</span></span> <span data-ttu-id="53a94-221">Чтобы привязать данные схемы узла к одному из этих двух элементов управления, просто добавьте на страницу SiteMapDataSource, а также элемент управления TreeView или Menu, свойство `DataSourceID` которого задано соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="53a94-221">To bind the site map data to one of these two controls, simply add a SiteMapDataSource to the page along with a TreeView or Menu control whose `DataSourceID` property is set accordingly.</span></span> <span data-ttu-id="53a94-222">Например, можно добавить элемент управления Menu на главную страницу с помощью следующей разметки:</span><span class="sxs-lookup"><span data-stu-id="53a94-222">For example, we could add a Menu control to the master page using the following markup:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample5.aspx)]

<span data-ttu-id="53a94-223">Чтобы более точно контролировать создаваемый HTML-код, можно привязать элемент управления SiteMapDataSource к элементу управления Repeater следующим образом:</span><span class="sxs-lookup"><span data-stu-id="53a94-223">For a finer degree of control over the emitted HTML, we can bind the SiteMapDataSource control to the Repeater control, like so:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample6.aspx)]

<span data-ttu-id="53a94-224">Элемент управления SiteMapDataSource возвращает иерархию карт сайта на один уровень за раз, начиная с корневого узла карт сайтов (Главная, на карте сайта), затем на следующем уровне (базовая отчетность, фильтрация отчетов и настраиваемое форматирование) и т. д.</span><span class="sxs-lookup"><span data-stu-id="53a94-224">The SiteMapDataSource control returns the site map hierarchy one level at a time, starting with the root site map node (Home, in our site map), then the next level (Basic Reporting, Filtering Reports, and Customized Formatting), and so on.</span></span> <span data-ttu-id="53a94-225">При привязке SiteMapDataSource к элементу Repeater он перечислит первый возвращенный уровень и создаст экземпляр `ItemTemplate` для каждого экземпляра `SiteMapNode` на первом уровне.</span><span class="sxs-lookup"><span data-stu-id="53a94-225">When binding the SiteMapDataSource to a Repeater, it enumerates the first level returned and instantiates the `ItemTemplate` for each `SiteMapNode` instance in that first level.</span></span> <span data-ttu-id="53a94-226">Чтобы получить доступ к определенному свойству `SiteMapNode`, мы можем использовать `Eval(propertyName)`, то есть, как мы получаем свойства `Url` и `Title` для каждого `SiteMapNode`элемента управления HyperLink.</span><span class="sxs-lookup"><span data-stu-id="53a94-226">To access a particular property of the `SiteMapNode`, we can use `Eval(propertyName)`, which is how we get each `SiteMapNode`'s `Url` and `Title` properties for the HyperLink control.</span></span>

<span data-ttu-id="53a94-227">В приведенном выше примере Repeater будет отображаться следующая разметка:</span><span class="sxs-lookup"><span data-stu-id="53a94-227">The Repeater example above will render the following markup:</span></span>

[!code-html[Main](master-pages-and-site-navigation-cs/samples/sample7.html)]

<span data-ttu-id="53a94-228">Эти узлы карт узла (базовый отчет, фильтрация отчетов и настраиваемое форматирование) составляют *второй* уровень отображаемой схемы узла, а не первый.</span><span class="sxs-lookup"><span data-stu-id="53a94-228">These site map nodes (Basic Reporting, Filtering Reports, and Customized Formatting) comprise the *second* level of the site map being rendered, not the first.</span></span> <span data-ttu-id="53a94-229">Это связано с тем, что свойство `ShowStartingNode` SiteMapDataSource имеет значение false, в результате чего SiteMapDataSource будет обходить корневой узел схемы сайта и начать с возврата второго уровня в иерархии карт узла.</span><span class="sxs-lookup"><span data-stu-id="53a94-229">This is because the SiteMapDataSource's `ShowStartingNode` property is set to False, causing the SiteMapDataSource to bypass the root site map node and instead begin by returning the second level in the site map hierarchy.</span></span>

<span data-ttu-id="53a94-230">Чтобы отобразить дочерние элементы для базовых отчетов, фильтрации отчетов и настраиваемого форматирования `SiteMapNode` s, можно добавить еще один элемент Repeater в `ItemTemplate`исходного элемента Repeater.</span><span class="sxs-lookup"><span data-stu-id="53a94-230">To display the children for the Basic Reporting, Filtering Reports, and Customized Formatting `SiteMapNode` s, we can add another Repeater to the initial Repeater's `ItemTemplate`.</span></span> <span data-ttu-id="53a94-231">Второй элемент Repeater будет привязан к свойству `ChildNodes` экземпляра `SiteMapNode`, вот так:</span><span class="sxs-lookup"><span data-stu-id="53a94-231">This second Repeater will be bound to the `SiteMapNode` instance's `ChildNodes` property, like so:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample8.aspx)]

<span data-ttu-id="53a94-232">Эти два повтора приводят к следующему разметке (для краткости была удалена часть разметки):</span><span class="sxs-lookup"><span data-stu-id="53a94-232">These two Repeaters result in the following markup (some markup has been removed for brevity):</span></span>

[!code-html[Main](master-pages-and-site-navigation-cs/samples/sample9.html)]

<span data-ttu-id="53a94-233">С помощью стилей CSS, выбранных из книги [Рейчел Эндрю](http://www.rachelandrew.co.uk/) [Антология: 101. советы, приемы &amp; хакеров](https://www.amazon.com/gp/product/0957921888/qid=1137565739/sr=8-1/ref=pd_bbs_1/103-0562306-3386214?n=507846&amp;s=books&amp;v=glance), `<ul>` и `<li>` элементы имеют стиль, что разметка создает следующие визуальные выходные данные:</span><span class="sxs-lookup"><span data-stu-id="53a94-233">Using CSS styles chosen from [Rachel Andrew](http://www.rachelandrew.co.uk/)'s book [The CSS Anthology: 101 Essential Tips, Tricks, &amp; Hacks](https://www.amazon.com/gp/product/0957921888/qid=1137565739/sr=8-1/ref=pd_bbs_1/103-0562306-3386214?n=507846&amp;s=books&amp;v=glance), the `<ul>` and `<li>` elements are styled such that the markup produces the following visual output:</span></span>

![Меню, состоящее из двух повторяющихся и некоторых CSS](master-pages-and-site-navigation-cs/_static/image27.png)

<span data-ttu-id="53a94-235">**Рис. 11**. меню, состоящее из двух повторяющихся и некоторых CSS</span><span class="sxs-lookup"><span data-stu-id="53a94-235">**Figure 11**: A Menu Composed from Two Repeaters and Some CSS</span></span>

<span data-ttu-id="53a94-236">Это меню находится на главной странице и привязано к карте узла, определенной в `Web.sitemap`, что означает, что любые изменения в карте узла будут немедленно отражены на всех страницах, использующих главную страницу `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="53a94-236">This menu is in the master page and bound to the site map defined in `Web.sitemap`, meaning that any change to the site map will be immediately reflected on all pages that use the `Site.master` master page.</span></span>

## <a name="disabling-viewstate"></a><span data-ttu-id="53a94-237">Отключение ViewState</span><span class="sxs-lookup"><span data-stu-id="53a94-237">Disabling ViewState</span></span>

<span data-ttu-id="53a94-238">Все элементы управления ASP.NET могут сохранять свое состояние в [состоянии представления](https://msdn.microsoft.com/msdnmag/issues/03/02/CuttingEdge/), которое сериализуется как скрытое поле формы в отображаемом HTML-коде.</span><span class="sxs-lookup"><span data-stu-id="53a94-238">All ASP.NET controls can optionally persist their state to the [view state](https://msdn.microsoft.com/msdnmag/issues/03/02/CuttingEdge/), which is serialized as a hidden form field in the rendered HTML.</span></span> <span data-ttu-id="53a94-239">Состояние представления используется элементами управления, чтобы запоминать их программно измененное состояние во всех обратных передачах, например данные, привязанные к веб-элементу управления данными.</span><span class="sxs-lookup"><span data-stu-id="53a94-239">View state is used by controls to remember their programmatically-changed state across postbacks, such as the data bound to a data Web control.</span></span> <span data-ttu-id="53a94-240">В то время как состояние представления позволяет сохранять информацию между обратными передачами, она увеличивает размер разметки, которая должна быть отправлена клиенту, и может привести к серьезному увеличению страничного состояния, если не будет тщательно отслеживаться.</span><span class="sxs-lookup"><span data-stu-id="53a94-240">While view state permits information to be remembered across postbacks, it increases the size of the markup that must be sent to the client and can lead to severe page bloat if not closely monitored.</span></span> <span data-ttu-id="53a94-241">Веб-элементы управления данными, особенно применяющие GridView, особенно известны для добавления десятков дополнительных килобайтов разметки на страницу.</span><span class="sxs-lookup"><span data-stu-id="53a94-241">Data Web controls especially the GridView are particularly notorious for adding dozens of extra kilobytes of markup to a page.</span></span> <span data-ttu-id="53a94-242">Хотя такое увеличение может быть незначительным для пользователей широкополосной сети или интрасети, состояние просмотра может добавить несколько секунд в цикл обработки для удаленных пользователей.</span><span class="sxs-lookup"><span data-stu-id="53a94-242">While such an increase may be negligible for broadband or intranet users, view state can add several seconds to the round trip for dial-up users.</span></span>

<span data-ttu-id="53a94-243">Чтобы увидеть влияние состояния представления, откройте страницу в браузере и просмотрите исходный код, отправленный веб-страницей (в Internet Explorer перейдите в меню Вид и выберите параметр источник).</span><span class="sxs-lookup"><span data-stu-id="53a94-243">To see the impact of view state, visit a page in a browser and then view the source sent by the web page (in Internet Explorer, go to the View menu and choose the Source option).</span></span> <span data-ttu-id="53a94-244">Можно также включить [трассировку страниц](https://msdn.microsoft.com/library/sfbfw58f.aspx) , чтобы просмотреть выделение состояния представления, используемое каждым из элементов управления на странице.</span><span class="sxs-lookup"><span data-stu-id="53a94-244">You can also turn on [page tracing](https://msdn.microsoft.com/library/sfbfw58f.aspx) to see the view state allocation used by each of the controls on the page.</span></span> <span data-ttu-id="53a94-245">Сведения о состоянии представления сериализуются в скрытом поле формы с именем `__VIEWSTATE`, расположенном в элементе `<div>` сразу после открывающего тега `<form>`.</span><span class="sxs-lookup"><span data-stu-id="53a94-245">The view state information is serialized in a hidden form field named `__VIEWSTATE`, located in a `<div>` element immediately after the opening `<form>` tag.</span></span> <span data-ttu-id="53a94-246">Состояние представления сохраняется только при использовании веб-формы. Если страница ASP.NET не содержит `<form runat="server">` в декларативном синтаксисе, в отображаемой разметке не будет `__VIEWSTATE` скрытого поля формы.</span><span class="sxs-lookup"><span data-stu-id="53a94-246">View state is only persisted when there is a Web Form being used; if your ASP.NET page does not include a `<form runat="server">` in its declarative syntax there won't be a `__VIEWSTATE` hidden form field in the rendered markup.</span></span>

<span data-ttu-id="53a94-247">Поле формы `__VIEWSTATE`, созданное главной страницей, добавляет примерно 1 800 байт к создаваемой разметке страницы.</span><span class="sxs-lookup"><span data-stu-id="53a94-247">The `__VIEWSTATE` form field generated by the master page adds roughly 1,800 bytes to the page's generated markup.</span></span> <span data-ttu-id="53a94-248">Это очень неувеличенное значение связано с элементом управления Repeater, так как содержимое элемента управления SiteMapDataSource сохраняется в состоянии представления.</span><span class="sxs-lookup"><span data-stu-id="53a94-248">This extra bloat is due primarily to the Repeater control, as the contents of the SiteMapDataSource control are persisted to view state.</span></span> <span data-ttu-id="53a94-249">Хотя дополнительные 1 800 байта могут не показаться очень удобным, при использовании элемента управления GridView с множеством полей и записей состояние представления может легко разрастаются с множителем 10 или более.</span><span class="sxs-lookup"><span data-stu-id="53a94-249">While an extra 1,800 bytes may not seem like much to get excited about, when using a GridView with many fields and records, the view state can easily swell by a factor of 10 or more.</span></span>

<span data-ttu-id="53a94-250">Состояние представления может быть отключено на уровне страницы или элемента управления путем присвоения свойству `EnableViewState` значения `false`, тем самым уменьшая размер отображаемой разметки.</span><span class="sxs-lookup"><span data-stu-id="53a94-250">View state can be disabled at the page or control level by setting the `EnableViewState` property to `false`, thereby reducing the size of the rendered markup.</span></span> <span data-ttu-id="53a94-251">Поскольку состояние представления для веб-элемента управления данными сохраняет данные, привязанные к веб-элементу управления данными во время обратной передачи, при отключении состояния представления для веб-элемента управления данными необходимо привязать данные к каждой обратной передаче.</span><span class="sxs-lookup"><span data-stu-id="53a94-251">Since the view state for a data Web control persists the data bound to the data Web control across postbacks, when disabling the view state for a data Web control the data must be bound on each and every postback.</span></span> <span data-ttu-id="53a94-252">В ASP.NET версии 1. x эта ответственность лежит на плечие разработчика страницы; Однако при использовании ASP.NET 2,0 веб-элементы управления данными при необходимости будут повторно привязаны к своему элементу управления источниками данных при каждой обратной передаче.</span><span class="sxs-lookup"><span data-stu-id="53a94-252">In ASP.NET version 1.x this responsibility fell on the shoulders of the page developer; with ASP.NET 2.0, however, the data Web controls will rebind to their data source control on each postback if needed.</span></span>

<span data-ttu-id="53a94-253">Чтобы уменьшить состояние представления страницы, задайте для свойства `EnableViewState` элемента управления Repeater значение `false`.</span><span class="sxs-lookup"><span data-stu-id="53a94-253">To reduce the page's view state let's set the Repeater control's `EnableViewState` property to `false`.</span></span> <span data-ttu-id="53a94-254">Это можно сделать с помощью окно свойств в конструкторе или декларативно в представлении исходного кода.</span><span class="sxs-lookup"><span data-stu-id="53a94-254">This can be done through the Properties window in the Designer or declaratively in the Source view.</span></span> <span data-ttu-id="53a94-255">После внесения этого изменения декларативная разметка Repeater должна выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="53a94-255">After making this change the Repeater's declarative markup should look like:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample10.aspx)]

<span data-ttu-id="53a94-256">После этого изменения размер состояния представления, отображаемого для просмотра страницы, сокращается до 52 байт, а 97% — на размер состояния представления.</span><span class="sxs-lookup"><span data-stu-id="53a94-256">After this change, the page's rendered view state size has shrunk to a mere 52 bytes, a 97% savings in view state size!</span></span> <span data-ttu-id="53a94-257">В учебниках по всей этой серии мы отключим состояние представления веб-элементов управления данными по умолчанию, чтобы уменьшить размер отображаемой разметки.</span><span class="sxs-lookup"><span data-stu-id="53a94-257">In the tutorials throughout this series we'll disable the view state of the data Web controls by default in order to reduce the size of the rendered markup.</span></span> <span data-ttu-id="53a94-258">В большинстве примеров свойству `EnableViewState` будет присвоено значение `false` и сделать это без упоминания.</span><span class="sxs-lookup"><span data-stu-id="53a94-258">In the majority of the examples the `EnableViewState` property will be set to `false` and done so without mention.</span></span> <span data-ttu-id="53a94-259">В сценариях, где для веб-элемента управления данными необходимо включить требуемые функциональные возможности, будет рассмотрено единственное состояние представления времени.</span><span class="sxs-lookup"><span data-stu-id="53a94-259">The only time view state will be discussed is in scenarios where it must be enabled in order for the data Web control to provide its expected functionality.</span></span>

## <a name="step-4-adding-breadcrumb-navigation"></a><span data-ttu-id="53a94-260">Шаг 4. Добавление навигации по навигатору</span><span class="sxs-lookup"><span data-stu-id="53a94-260">Step 4: Adding Breadcrumb Navigation</span></span>

<span data-ttu-id="53a94-261">Чтобы завершить главную страницу, добавим в каждую страницу навигаторный элемент пользовательского интерфейса навигации.</span><span class="sxs-lookup"><span data-stu-id="53a94-261">To complete the master page, let's add a breadcrumb navigation UI element to each page.</span></span> <span data-ttu-id="53a94-262">Навигатор быстро показывает пользователей с текущей позицией в иерархии сайта.</span><span class="sxs-lookup"><span data-stu-id="53a94-262">The breadcrumb quickly shows users their current position within the site hierarchy.</span></span> <span data-ttu-id="53a94-263">Добавление элемента управления "Навигатор" в ASP.NET 2,0 позволяет просто добавить на страницу управляющий элемент SiteMapPath. код не требуется.</span><span class="sxs-lookup"><span data-stu-id="53a94-263">Adding a breadcrumb in ASP.NET 2.0 is easy just add a SiteMapPath control to the page; no code is needed.</span></span>

<span data-ttu-id="53a94-264">Для нашего сайта добавьте этот элемент управления в заголовок `<div>`:</span><span class="sxs-lookup"><span data-stu-id="53a94-264">For our site, add this control to the header `<div>`:</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample11.aspx)]

<span data-ttu-id="53a94-265">Навигатор показывает текущую страницу, которую пользователь посещает в иерархии карт узла, а также родительский элемент узла схемы узла, который соответствует корневому элементу (Домашняя страница в карте узла).</span><span class="sxs-lookup"><span data-stu-id="53a94-265">The breadcrumb shows the current page the user is visiting in the site map hierarchy as well as that site map node's "ancestors," all the way up to the root (Home, in our site map).</span></span>

![Навигатор отображает текущую страницу и ее предков в иерархии карт узла.](master-pages-and-site-navigation-cs/_static/image28.png)

<span data-ttu-id="53a94-267">**Рис. 12**. Навигатор отображает текущую страницу и ее предков в иерархии карт сайта</span><span class="sxs-lookup"><span data-stu-id="53a94-267">**Figure 12**: The Breadcrumb Displays the Current Page and its Ancestors in the Site Map Hierarchy</span></span>

## <a name="step-5-adding-the-default-page-for-each-section"></a><span data-ttu-id="53a94-268">Шаг 5. Добавление страницы по умолчанию для каждого раздела</span><span class="sxs-lookup"><span data-stu-id="53a94-268">Step 5: Adding the Default Page for Each Section</span></span>

<span data-ttu-id="53a94-269">Руководства на нашем сайте разбиваются на различные категории: основные отчеты, фильтрация, пользовательское форматирование и т. д. с папкой для каждой категории и соответствующими руководствами в качестве ASP.NET страниц в этой папке.</span><span class="sxs-lookup"><span data-stu-id="53a94-269">The tutorials in our site are broken down into different categories Basic Reporting, Filtering, Custom Formatting, and so on with a folder for each category and the corresponding tutorials as ASP.NET pages within that folder.</span></span> <span data-ttu-id="53a94-270">Кроме того, в каждой папке содержится страница `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="53a94-270">Additionally, each folder contains a `Default.aspx` page.</span></span> <span data-ttu-id="53a94-271">Для этой страницы по умолчанию давайте выберем все руководства для текущего раздела.</span><span class="sxs-lookup"><span data-stu-id="53a94-271">For this default page, let's display all of the tutorials for the current section.</span></span> <span data-ttu-id="53a94-272">Это значит, что для `Default.aspx` в папке `BasicReporting` имеются ссылки на `SimpleDisplay.aspx`, `DeclarativeParams.aspx`и `ProgrammaticParams.aspx`.</span><span class="sxs-lookup"><span data-stu-id="53a94-272">That is, for the `Default.aspx` in the `BasicReporting` folder we'd have links to `SimpleDisplay.aspx`, `DeclarativeParams.aspx`, and `ProgrammaticParams.aspx`.</span></span> <span data-ttu-id="53a94-273">Здесь, опять же, мы можем использовать класс `SiteMap` и веб-элемент управления данными для отображения этих сведений на основе схемы узла, определенной в `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="53a94-273">Here, again, we can use the `SiteMap` class and a data Web control to display this information based upon the site map defined in `Web.sitemap`.</span></span>

<span data-ttu-id="53a94-274">Давайте снова выберем неупорядоченный список с помощью повторителя, но на этот раз мы будем отображать название и описание руководств.</span><span class="sxs-lookup"><span data-stu-id="53a94-274">Let's display an unordered list using a Repeater again, but this time we'll display the title and description of the tutorials.</span></span> <span data-ttu-id="53a94-275">Поскольку разметка и код для выполнения этой задачи потребуется повторить для каждой `Default.aspx` страницы, мы можем инкапсулировать эту логику пользовательского интерфейса в [Пользовательский элемент управления](https://msdn.microsoft.com/library/y6wb1a0e.aspx).</span><span class="sxs-lookup"><span data-stu-id="53a94-275">Since the markup and code to accomplish this will need to be repeated for each `Default.aspx` page, we can encapsulate this UI logic in a [User Control](https://msdn.microsoft.com/library/y6wb1a0e.aspx).</span></span> <span data-ttu-id="53a94-276">Создайте на веб-сайте папку с именем `UserControls` и добавьте в нее новый элемент типа пользовательский веб-элемент управления с именем `SectionLevelTutorialListing.ascx`и добавьте следующую разметку:</span><span class="sxs-lookup"><span data-stu-id="53a94-276">Create a folder in the website called `UserControls` and add to that a new item of type Web User Control named `SectionLevelTutorialListing.ascx`, and add the following markup:</span></span>

<span data-ttu-id="53a94-277">[![добавить новый пользовательский веб-элемент управления в папку UserControls](master-pages-and-site-navigation-cs/_static/image30.png)](master-pages-and-site-navigation-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="53a94-277">[![Add a New Web User Control to the UserControls Folder](master-pages-and-site-navigation-cs/_static/image30.png)](master-pages-and-site-navigation-cs/_static/image29.png)</span></span>

<span data-ttu-id="53a94-278">**Рис. 13**. Добавление нового пользовательского веб-элемента управления в папку `UserControls` ([щелкните, чтобы просмотреть изображение с полным размером](master-pages-and-site-navigation-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="53a94-278">**Figure 13**: Add a New Web User Control to the `UserControls` Folder ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image31.png))</span></span>

<span data-ttu-id="53a94-279">SectionLevelTutorialListing. ascx</span><span class="sxs-lookup"><span data-stu-id="53a94-279">SectionLevelTutorialListing.ascx</span></span>

[!code-aspx[Main](master-pages-and-site-navigation-cs/samples/sample12.aspx)]

<span data-ttu-id="53a94-280">SectionLevelTutorialListing.ascx.cs</span><span class="sxs-lookup"><span data-stu-id="53a94-280">SectionLevelTutorialListing.ascx.cs</span></span>

[!code-csharp[Main](master-pages-and-site-navigation-cs/samples/sample13.cs)]

<span data-ttu-id="53a94-281">В предыдущем примере с Repeater мы декларативно привязываете `SiteMap`ные данные к элементу Repeater. Однако `SectionLevelTutorialListing` пользовательский элемент управления выполняется программным способом.</span><span class="sxs-lookup"><span data-stu-id="53a94-281">In the previous Repeater example we bound the `SiteMap` data to the Repeater declaratively; the `SectionLevelTutorialListing` User Control, however, does so programmatically.</span></span> <span data-ttu-id="53a94-282">В обработчике событий `Page_Load` выполняется проверка того, что URL-адрес этой страницы сопоставляется с узлом на карте сайта.</span><span class="sxs-lookup"><span data-stu-id="53a94-282">In the `Page_Load` event handler, a check is made to ensure that this page s URL maps to a node in the site map.</span></span> <span data-ttu-id="53a94-283">Если этот пользовательский элемент управления используется на странице, не имеющей соответствующей записи `<siteMapNode>`, `SiteMap.CurrentNode` вернет `null`, а данные не будут привязаны к элементу Repeater.</span><span class="sxs-lookup"><span data-stu-id="53a94-283">If this User Control is used in a page that does not have a corresponding `<siteMapNode>` entry, `SiteMap.CurrentNode` will return `null` and no data will be bound to the Repeater.</span></span> <span data-ttu-id="53a94-284">При условии, что у нас есть `CurrentNode`, можно привязать `ChildNodes`ную коллекцию к элементу Repeater.</span><span class="sxs-lookup"><span data-stu-id="53a94-284">Assuming we have a `CurrentNode`, we bind its `ChildNodes` collection to the Repeater.</span></span> <span data-ttu-id="53a94-285">Так как наша схема узла настроена таким образом, что страница `Default.aspx` в каждом разделе является родительским узлом всех руководств в этом разделе, в этом коде будут отображаться ссылки на все руководства раздела, как показано на снимке экрана ниже.</span><span class="sxs-lookup"><span data-stu-id="53a94-285">Since our site map is set up such that the `Default.aspx` page in each section is the parent node of all of the tutorials within that section, this code will display links to and descriptions of all of the section's tutorials, as shown in the screen shot below.</span></span>

<span data-ttu-id="53a94-286">После создания этого элемента управления Repeater откройте `Default.aspx` страницы в каждой из папок, перейдите к представление конструирования и просто перетащите пользовательский элемент контроля из обозреватель решений в область конструктора, где должен отображаться список учебников.</span><span class="sxs-lookup"><span data-stu-id="53a94-286">Once this Repeater has been created, open the `Default.aspx` pages in each of the folders, go to the Design view, and simply drag the User Control from the Solution Explorer onto the Design surface where you want the tutorial list to appear.</span></span>

<span data-ttu-id="53a94-287">[![пользовательский элемент управления добавлен в Default. aspx](master-pages-and-site-navigation-cs/_static/image33.png)](master-pages-and-site-navigation-cs/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="53a94-287">[![The User Control has Been Added to Default.aspx](master-pages-and-site-navigation-cs/_static/image33.png)](master-pages-and-site-navigation-cs/_static/image32.png)</span></span>

<span data-ttu-id="53a94-288">**Рис. 14**. пользовательский элемент управления добавлен в `Default.aspx` ([щелкните, чтобы просмотреть изображение с полным размером](master-pages-and-site-navigation-cs/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="53a94-288">**Figure 14**: The User Control has Been Added to `Default.aspx` ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image34.png))</span></span>

<span data-ttu-id="53a94-289">[![перечислены основные руководства по отчетам](master-pages-and-site-navigation-cs/_static/image36.png)](master-pages-and-site-navigation-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="53a94-289">[![The Basic Reporting Tutorials are Listed](master-pages-and-site-navigation-cs/_static/image36.png)](master-pages-and-site-navigation-cs/_static/image35.png)</span></span>

<span data-ttu-id="53a94-290">**Рис. 15**. список основных руководств по отчетам ([щелкните, чтобы просмотреть изображение с полным размером](master-pages-and-site-navigation-cs/_static/image37.png))</span><span class="sxs-lookup"><span data-stu-id="53a94-290">**Figure 15**: The Basic Reporting Tutorials are Listed ([Click to view full-size image](master-pages-and-site-navigation-cs/_static/image37.png))</span></span>

## <a name="summary"></a><span data-ttu-id="53a94-291">Сводка</span><span class="sxs-lookup"><span data-stu-id="53a94-291">Summary</span></span>

<span data-ttu-id="53a94-292">После определения схемы узла и завершения главной страницы теперь есть единообразный макет страницы и схема навигации для наших руководств, связанных с данными.</span><span class="sxs-lookup"><span data-stu-id="53a94-292">With the site map defined and the master page complete, we now have a consistent page layout and navigation scheme for our data-related tutorials.</span></span> <span data-ttu-id="53a94-293">Независимо от того, сколько страниц мы добавляем на наш сайт, обновление макета страницы для всего сайта или сведений о переходе к веб-узлу является быстрым и простым процессом из-за централизованной информации.</span><span class="sxs-lookup"><span data-stu-id="53a94-293">Regardless of how many pages we add to our site, updating the site-wide page layout or site navigation information is a quick and simple process due to this information being centralized.</span></span> <span data-ttu-id="53a94-294">В частности, сведения о макете страницы определяются на главной странице `Site.master` и карте узла в `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="53a94-294">Specifically, the page layout information is defined in the master page `Site.master` and the site map in `Web.sitemap`.</span></span> <span data-ttu-id="53a94-295">Нам не пришлось писать *код* для реализации макета страницы и механизма навигации на уровне сайта, и мы сохранили полную поддержку WYSIWYG Designer в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="53a94-295">We didn't need to write *any* code to achieve this site-wide page layout and navigation mechanism, and we retain full WYSIWYG designer support in Visual Studio.</span></span>

<span data-ttu-id="53a94-296">Выполняя уровень доступа к данным и уровень бизнес-логики и определив единообразный макет страницы и структуру навигации по сайту, мы готовы приступить к изучению общих шаблонов отчетов.</span><span class="sxs-lookup"><span data-stu-id="53a94-296">Having completed the Data Access Layer and Business Logic Layer and having a consistent page layout and site navigation defined, we're ready to begin exploring common reporting patterns.</span></span> <span data-ttu-id="53a94-297">В [следующих](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) трех учебниках мы рассмотрим основные задачи создания отчетов, отображающие данные, полученные из BLL, в элементах управления GridView, DetailsView и FormView.</span><span class="sxs-lookup"><span data-stu-id="53a94-297">In the [next](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) three tutorials we'll look at basic reporting tasks displaying data retrieved from the BLL in the GridView, DetailsView, and FormView controls.</span></span>

<span data-ttu-id="53a94-298">Поздравляем с программированием!</span><span class="sxs-lookup"><span data-stu-id="53a94-298">Happy Programming!</span></span>

## <a name="further-reading"></a><span data-ttu-id="53a94-299">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="53a94-299">Further Reading</span></span>

<span data-ttu-id="53a94-300">Дополнительные сведения о разделах, обсуждаемых в этом руководстве, см. в следующих ресурсах:</span><span class="sxs-lookup"><span data-stu-id="53a94-300">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="53a94-301">Общие сведения о главных страницах ASP.NET</span><span class="sxs-lookup"><span data-stu-id="53a94-301">ASP.NET Master Pages Overview</span></span>](https://msdn.microsoft.com/library/wtxbf3hh.aspx)
- [<span data-ttu-id="53a94-302">Главные страницы в ASP.NET 2,0</span><span class="sxs-lookup"><span data-stu-id="53a94-302">Master Pages in ASP.NET 2.0</span></span>](http://odetocode.com/Articles/419.aspx)
- [<span data-ttu-id="53a94-303">Шаблоны проектирования ASP.NET 2,0</span><span class="sxs-lookup"><span data-stu-id="53a94-303">ASP.NET 2.0 Design Templates</span></span>](https://msdn.microsoft.com/asp.net/reference/design/templates/default.aspx)
- [<span data-ttu-id="53a94-304">Обзор навигации по сайту ASP.NET</span><span class="sxs-lookup"><span data-stu-id="53a94-304">ASP.NET Site Navigation Overview</span></span>](https://msdn.microsoft.com/library/e468hxky.aspx)
- [<span data-ttu-id="53a94-305">Изучение навигации по веб-узлу ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="53a94-305">Examining ASP.NET 2.0's Site Navigation</span></span>](http://aspnet.4guysfromrolla.com/articles/111605-1.aspx)
- [<span data-ttu-id="53a94-306">Функции навигации по сайтам ASP.NET 2,0</span><span class="sxs-lookup"><span data-stu-id="53a94-306">ASP.NET 2.0 Site Navigation Features</span></span>](https://weblogs.asp.net/scottgu/archive/2005/11/20/431019.aspx)
- [<span data-ttu-id="53a94-307">Основные сведения о состоянии представления ASP.NET</span><span class="sxs-lookup"><span data-stu-id="53a94-307">Understanding ASP.NET View State</span></span>](https://msdn.microsoft.com/library/default.asp?url=/library/dnaspp/html/viewstate.asp)
- [<span data-ttu-id="53a94-308">Как включить трассировку для страницы ASP.NET</span><span class="sxs-lookup"><span data-stu-id="53a94-308">How to: Enable Tracing for an ASP.NET Page</span></span>](https://msdn.microsoft.com/library/94c55d08%28VS.80%29.aspx)
- [<span data-ttu-id="53a94-309">ASP.NET пользовательские элементы управления</span><span class="sxs-lookup"><span data-stu-id="53a94-309">ASP.NET User Controls</span></span>](https://msdn.microsoft.com/library/y6wb1a0e.aspx)

## <a name="about-the-author"></a><span data-ttu-id="53a94-310">Об авторе</span><span class="sxs-lookup"><span data-stu-id="53a94-310">About the Author</span></span>

<span data-ttu-id="53a94-311">[Скотт Митчелл](http://www.4guysfromrolla.com/ScottMitchell.shtml), автор семи книг по ASP/ASP. NET и основатель [4GuysFromRolla.com](http://www.4guysfromrolla.com), работал с веб-технологиями Майкрософт с 1998.</span><span class="sxs-lookup"><span data-stu-id="53a94-311">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="53a94-312">Скотт работает как независимый консультант, преподаватель и модуль записи.</span><span class="sxs-lookup"><span data-stu-id="53a94-312">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="53a94-313">Его последняя книга — [*Sams обучать себя ASP.NET 2,0 за 24 часа*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="53a94-313">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="53a94-314">Он доступен по адресу [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="53a94-314">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="53a94-315">или через его блог, который можно найти по адресу [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="53a94-315">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="53a94-316">Специальная благодарность</span><span class="sxs-lookup"><span data-stu-id="53a94-316">Special Thanks To</span></span>

<span data-ttu-id="53a94-317">Эта серия руководств была рассмотрена многими полезными рецензентами.</span><span class="sxs-lookup"><span data-stu-id="53a94-317">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="53a94-318">Потенциальные рецензенты для этого руководства: основными рецензентами, Деннис Patterson и Хилтон Гизнау.</span><span class="sxs-lookup"><span data-stu-id="53a94-318">Lead reviewers for this tutorial were Liz Shulok, Dennis Patterson, and Hilton Giesenow.</span></span> <span data-ttu-id="53a94-319">Хотите ознакомиться с моими будущими статьями MSDN?</span><span class="sxs-lookup"><span data-stu-id="53a94-319">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="53a94-320">Если это так, расположите строку в [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="53a94-320">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="53a94-321">[Назад](creating-a-business-logic-layer-cs.md)
> [Вперед](creating-a-data-access-layer-vb.md)</span><span class="sxs-lookup"><span data-stu-id="53a94-321">[Previous](creating-a-business-logic-layer-cs.md)
[Next](creating-a-data-access-layer-vb.md)</span></span>
