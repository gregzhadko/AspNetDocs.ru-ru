---
uid: web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-cs
title: Отображение данных с помощью элементов управления DataList и Repeater (C#) | Документация Майкрософт
author: rick-anderson
description: В предыдущих руководствах мы использовали элемент управления GridView для вывода данных. Начиная с этого руководства мы рассмотрим создание общих шаблонов отчетов с помощью...
ms.author: riande
ms.date: 09/13/2006
ms.assetid: 0591cacc-b34b-4cf6-885e-2c9953bb0946
msc.legacyurl: /web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/displaying-data-with-the-datalist-and-repeater-controls-cs
msc.type: authoredcontent
ms.openlocfilehash: 09d3faf811f21a66bb5c234f71d77b2552ae6516
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2019
ms.locfileid: "74623202"
---
# <a name="displaying-data-with-the-datalist-and-repeater-controls-c"></a><span data-ttu-id="1e6f8-104">Отображение данных с помощью элементов управления DataList и Repeater (C#)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-104">Displaying Data with the DataList and Repeater Controls (C#)</span></span>

<span data-ttu-id="1e6f8-105">по [Скотт Митчелл](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="1e6f8-106">[Скачивание примера приложения](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_29_CS.exe) или [Загрузка PDF-файла](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/datatutorial29cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-106">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_29_CS.exe) or [Download PDF](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/datatutorial29cs1.pdf)</span></span>

> <span data-ttu-id="1e6f8-107">В предыдущих руководствах мы использовали элемент управления GridView для вывода данных.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-107">In the preceding tutorials we have used the GridView control to display data.</span></span> <span data-ttu-id="1e6f8-108">Начиная с этого руководства мы рассмотрим создание общих шаблонов отчетов с помощью элементов управления DataList и Repeater, начиная с основ отображения данных с помощью этих элементов управления.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-108">Starting with this tutorial, we look at building common reporting patterns with the DataList and Repeater controls, starting with the basics of displaying data with these controls.</span></span>

## <a name="introduction"></a><span data-ttu-id="1e6f8-109">Введение</span><span class="sxs-lookup"><span data-stu-id="1e6f8-109">Introduction</span></span>

<span data-ttu-id="1e6f8-110">Во всех примерах за последние 28 учебников, если нам требовалось отобразить несколько записей из источника данных, который мы включили в элемент управления GridView.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-110">In all of the examples throughout the past 28 tutorials, if we needed to display multiple records from a data source we turned to the GridView control.</span></span> <span data-ttu-id="1e6f8-111">Элемент управления GridView отображает строку для каждой записи в источнике данных, отображая поля данных записей в столбцах.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-111">The GridView renders a row for each record in the data source, displaying the record s data fields in columns.</span></span> <span data-ttu-id="1e6f8-112">Хотя GridView делает его привязкой для отображения, постраничного просмотра, сортировки, редактирования и удаления данных, его внешний вид является угловат.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-112">While the GridView makes it a snap to display, page through, sort, edit, and delete data, its appearance is a bit boxy.</span></span> <span data-ttu-id="1e6f8-113">Кроме того, разметка, ответственная за структуру GridView s, является фиксированной, она включает HTML-`<table>` со строкой таблицы (`<tr>`) для каждой записи и ячейку таблицы (`<td>`) для каждого поля.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-113">Moreover, the markup responsible for the GridView s structure is fixed it includes an HTML `<table>` with a table row (`<tr>`) for each record and a table cell (`<td>`) for each field.</span></span>

<span data-ttu-id="1e6f8-114">Чтобы обеспечить большую степень настройки в виде и визуализации разметки при отображении нескольких записей, ASP.NET 2,0 предлагает элементы управления DataList и Repeater (оба из них также доступны в ASP.NET версии 1. x).</span><span class="sxs-lookup"><span data-stu-id="1e6f8-114">To provide a greater degree of customization in the appearance and rendered markup when displaying multiple records, ASP.NET 2.0 offers the DataList and Repeater controls (both of which were also available in ASP.NET version 1.x).</span></span> <span data-ttu-id="1e6f8-115">Элементы управления DataList и Repeater визуализируют свое содержимое с помощью шаблонов, а не BoundFields, Чеккбоксфиелдс, Буттонфиелдс и т. д.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-115">The DataList and Repeater controls render their content using templates rather than BoundFields, CheckBoxFields, ButtonFields, and so on.</span></span> <span data-ttu-id="1e6f8-116">Как и GridView, DataList отображается как HTML-`<table>`, но позволяет отображать несколько записей источников данных для каждой строки таблицы.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-116">Like the GridView, the DataList renders as an HTML `<table>`, but allows for multiple data source records to be displayed per table row.</span></span> <span data-ttu-id="1e6f8-117">С другой стороны, элемент управления Repeater не отображает дополнительную разметку, чем то, что вы явно указали, и является идеальным кандидатом, когда требуется точный контроль над порожденной разметкой.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-117">The Repeater, on the other hand, renders no additional markup than what you explicitly specify, and is an ideal candidate when you need precise control over the markup emitted.</span></span>

<span data-ttu-id="1e6f8-118">В течение следующих десятков материалов или инструкций мы рассмотрим создание общих шаблонов отчетов с помощью элементов управления DataList и Repeater, начиная с основ отображения данных с помощью этих шаблонов элементов управления.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-118">Over the next dozen or so tutorials, we'll look at building common reporting patterns with the DataList and Repeater controls, starting with the basics of displaying data with these controls templates.</span></span> <span data-ttu-id="1e6f8-119">Мы покажем, как форматировать эти элементы управления, изменять макет записей источников данных в DataList, общие сценарии с основными и подробными сведениями, способы изменения и удаления данных, пролистывать записи и т. д.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-119">We'll see how to format these controls, how to alter the layout of data source records in the DataList, common master/details scenarios, ways to edit and delete data, how to page through records, and so on.</span></span>

## <a name="step-1-adding-the-datalist-and-repeater-tutorial-web-pages"></a><span data-ttu-id="1e6f8-120">Шаг 1. Добавление веб-страниц учебника по DataList и Repeater</span><span class="sxs-lookup"><span data-stu-id="1e6f8-120">Step 1: Adding the DataList and Repeater Tutorial Web Pages</span></span>

<span data-ttu-id="1e6f8-121">Прежде чем приступить к работе с этим руководством, давайте сначала добавим страницы ASP.NET, которые понадобятся для работы с этим руководством, и несколько руководств, посвященных отображению данных с помощью элементов управления DataList и Repeater.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-121">Before we start this tutorial, let s first take a moment to add the ASP.NET pages we'll need for this tutorial and the next few tutorials dealing with displaying data using the DataList and Repeater.</span></span> <span data-ttu-id="1e6f8-122">Начните с создания новой папки в проекте с именем `DataListRepeaterBasics`.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-122">Start by creating a new folder in the project named `DataListRepeaterBasics`.</span></span> <span data-ttu-id="1e6f8-123">Затем добавьте в эту папку следующие пять страниц ASP.NET, чтобы все они были настроены для использования главной страницы `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="1e6f8-123">Next, add the following five ASP.NET pages to this folder, having all of them configured to use the master page `Site.master`:</span></span>

- `Default.aspx`
- `Basics.aspx`
- `Formatting.aspx`
- `RepeatColumnAndDirection.aspx`
- `NestedControls.aspx`

![Создание папки DataListRepeaterBasics и добавление страниц Tutorial ASP.NET](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image1.png)

<span data-ttu-id="1e6f8-125">**Рис. 1**. Создание `DataListRepeaterBasics` папки и добавление страниц Tutorial ASP.NET</span><span class="sxs-lookup"><span data-stu-id="1e6f8-125">**Figure 1**: Create a `DataListRepeaterBasics` Folder and Add the Tutorial ASP.NET Pages</span></span>

<span data-ttu-id="1e6f8-126">Откройте страницу `Default.aspx` и перетащите `SectionLevelTutorialListing.ascx` пользовательский элемент управления из папки `UserControls` в область конструктора.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-126">Open the `Default.aspx` page and drag the `SectionLevelTutorialListing.ascx` User Control from the `UserControls` folder onto the Design surface.</span></span> <span data-ttu-id="1e6f8-127">Этот пользовательский элемент управления, созданный в учебнике « [главные страницы и Навигация по узлу](../introduction/master-pages-and-site-navigation-cs.md) », перечисляет карту узла и отображает учебники из текущего раздела в маркированном списке.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-127">This User Control, which we created in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial, enumerates the site map and displays the tutorials from the current section in a bulleted list.</span></span>

<span data-ttu-id="1e6f8-128">[![добавить пользовательский элемент управления SectionLevelTutorialListing. ascx в Default. aspx](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image3.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-128">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image3.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image2.png)</span></span>

<span data-ttu-id="1e6f8-129">**Рис. 2**. Добавление пользовательского элемента управления `SectionLevelTutorialListing.ascx` в `Default.aspx` ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-129">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image4.png))</span></span>

<span data-ttu-id="1e6f8-130">Чтобы в маркированном списке отображались учебники по DataList и Repeater, которые будут созданы, необходимо добавить их на карту узла.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-130">In order to have the bulleted list display the DataList and Repeater tutorials we'll be creating, we need to add them to the site map.</span></span> <span data-ttu-id="1e6f8-131">Откройте файл `Web.sitemap` и добавьте следующую разметку после разметки узла карт узла "Добавление настраиваемых кнопок":</span><span class="sxs-lookup"><span data-stu-id="1e6f8-131">Open the `Web.sitemap` file and add the following markup after the Adding Custom Buttons site map node markup:</span></span>

[!code-xml[Main](displaying-data-with-the-datalist-and-repeater-controls-cs/samples/sample1.xml)]

![Обновление схемы узла для включения новых страниц ASP.NET](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image5.png)

<span data-ttu-id="1e6f8-133">**Рис. 3**. обновление схемы узла для включения новых страниц ASP.NET</span><span class="sxs-lookup"><span data-stu-id="1e6f8-133">**Figure 3**: Update the Site Map to Include the New ASP.NET Pages</span></span>

## <a name="step-2-displaying-product-information-with-the-datalist"></a><span data-ttu-id="1e6f8-134">Шаг 2. Отображение сведений о продукте с помощью элемента управления DataList</span><span class="sxs-lookup"><span data-stu-id="1e6f8-134">Step 2: Displaying Product Information with the DataList</span></span>

<span data-ttu-id="1e6f8-135">Как и в FormView, выходные данные элемента управления DataList зависят от шаблонов, а не от BoundFields, Чеккбоксфиелдс и т. д.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-135">Similar to the FormView, the DataList control s rendered output depends upon templates rather than BoundFields, CheckBoxFields, and so on.</span></span> <span data-ttu-id="1e6f8-136">В отличие от FormView, DataList предназначен для показа набора записей, а не одиночные.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-136">Unlike the FormView, the DataList is designed to display a set of records rather than a solitary one.</span></span> <span data-ttu-id="1e6f8-137">Давайте начнем с этого руководства и взглянем на то, как привязать сведения о продукте к DataList.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-137">Let s begin this tutorial with a look at binding product information to a DataList.</span></span> <span data-ttu-id="1e6f8-138">Для начала откройте страницу `Basics.aspx` в папке `DataListRepeaterBasics`.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-138">Start by opening the `Basics.aspx` page in the `DataListRepeaterBasics` folder.</span></span> <span data-ttu-id="1e6f8-139">Затем перетащите элемент управления DataList с панели элементов в конструктор.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-139">Next, drag a DataList from the Toolbox onto the Designer.</span></span> <span data-ttu-id="1e6f8-140">Как показано на рис. 4, прежде чем указывать шаблоны DataList, конструктор отображает его в виде серого прямоугольника.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-140">As Figure 4 illustrates, before specifying the DataList s templates, the Designer displays it as a gray box.</span></span>

<span data-ttu-id="1e6f8-141">[![перетащить элемент управления DataList с панели элементов в конструктор](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image7.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-141">[![Drag the DataList From the Toolbox Onto the Designer](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image7.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image6.png)</span></span>

<span data-ttu-id="1e6f8-142">**Рис. 4**. Перетаскивание элемента управления DataList из панели элементов в конструктор ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-142">**Figure 4**: Drag the DataList From the Toolbox Onto the Designer ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image8.png))</span></span>

<span data-ttu-id="1e6f8-143">Из смарт-тега DataList добавьте новый элемент ObjectDataSource и настройте его на использование метода `GetProducts` `ProductsBLL` класса.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-143">From the DataList s smart tag, add a new ObjectDataSource and configure it to use the `ProductsBLL` class s `GetProducts` method.</span></span> <span data-ttu-id="1e6f8-144">Так как в этом руководстве мы воссоздадим список DataList только для чтения, установите в раскрывающемся списке значение (нет) на вкладках Вставка, обновление и удаление мастера.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-144">Since we re creating a read-only DataList in this tutorial, set the drop-down list to (None) in the wizard s INSERT, UPDATE, and DELETE tabs.</span></span>

<span data-ttu-id="1e6f8-145">[![выбрать создание нового элемента управления ObjectDataSource](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image10.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-145">[![Opt to Create a New ObjectDataSource](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image10.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image9.png)</span></span>

<span data-ttu-id="1e6f8-146">**Рис. 5**. Создание нового элемента управления ObjectDataSource ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-146">**Figure 5**: Opt to Create a New ObjectDataSource ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image11.png))</span></span>

<span data-ttu-id="1e6f8-147">[![настроить ObjectDataSource для использования класса ProductsBLL](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image13.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-147">[![Configure the ObjectDataSource to Use the ProductsBLL Class](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image13.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image12.png)</span></span>

<span data-ttu-id="1e6f8-148">**Рис. 6**. Настройка ObjectDataSource для использования класса `ProductsBLL` ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-148">**Figure 6**: Configure the ObjectDataSource to Use the `ProductsBLL` Class ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image14.png))</span></span>

<span data-ttu-id="1e6f8-149">[![получить сведения обо всех продуктах с помощью метода Products](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image16.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-149">[![Retrieve Information About All of the Products Using the GetProducts Method](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image16.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image15.png)</span></span>

<span data-ttu-id="1e6f8-150">**Рис. 7**. Получение сведений обо всех продуктах с помощью метода `GetProducts` ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-150">**Figure 7**: Retrieve Information About All of the Products Using the `GetProducts` Method ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image17.png))</span></span>

<span data-ttu-id="1e6f8-151">После настройки ObjectDataSource и связывания его с элементом управления DataList через его смарт-тег Visual Studio автоматически создаст в DataList `ItemTemplate`, отображающий имя и значение каждого поля данных, возвращаемого источником данных (см. разметку ниже).</span><span class="sxs-lookup"><span data-stu-id="1e6f8-151">After configuring the ObjectDataSource and associating it with the DataList through its smart tag, Visual Studio will automatically create an `ItemTemplate` in the DataList that displays the name and value of each data field returned by the data source (see the markup below).</span></span> <span data-ttu-id="1e6f8-152">Этот вид `ItemTemplate` по умолчанию аналогичен шаблонам, автоматически создаваемым при привязке источника данных к FormView через конструктор.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-152">This default `ItemTemplate` s appearance is identical to that of the templates automatically created when binding a data source to the FormView through the Designer.</span></span>

[!code-aspx[Main](displaying-data-with-the-datalist-and-repeater-controls-cs/samples/sample2.aspx)]

> [!NOTE]
> <span data-ttu-id="1e6f8-153">Помните, что при привязке источника данных к элементу управления FormView через смарт-тег FormView s Visual Studio создает `ItemTemplate`, `InsertItemTemplate`и `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-153">Recall that when binding a data source to a FormView control through the FormView s smart tag, Visual Studio created an `ItemTemplate`, `InsertItemTemplate`, and `EditItemTemplate`.</span></span> <span data-ttu-id="1e6f8-154">Однако с элементом управления DataList создается только `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-154">With the DataList, however, only an `ItemTemplate` is created.</span></span> <span data-ttu-id="1e6f8-155">Это связано с тем, что элемент управления DataList не имеет такой же встроенной поддержки правки и вставки, которая предоставляется FormView.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-155">This is because the DataList does not have the same built-in editing and inserting support offered by the FormView.</span></span> <span data-ttu-id="1e6f8-156">Элемент управления DataList содержит события, связанные с редактированием и удалением, а также поддержку редактирования и удаления, которую можно добавить с помощью фрагмента кода, но нет простой встроенной поддержки, как в элементе управления FormView.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-156">The DataList does contain edit- and delete-related events, and editing and deleting support can be added with a bit of code, but there s no simple out-of-the-box support as with the FormView.</span></span> <span data-ttu-id="1e6f8-157">В следующем учебнике мы покажем, как включить поддержку редактирования и удаления элементов управления DataList.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-157">We'll see how to include editing and deleting support with the DataList in a future tutorial.</span></span>

<span data-ttu-id="1e6f8-158">Подождите немного, чтобы улучшить внешний вид этого шаблона.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-158">Let s take a moment to improve the appearance of this template.</span></span> <span data-ttu-id="1e6f8-159">Вместо того чтобы отображать все поля данных, добавим в s только название продукта, поставщик, категорию, количество на единицу и цену за единицу.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-159">Rather than displaying all of the data fields, let s only display the product s name, supplier, category, quantity per unit, and unit price.</span></span> <span data-ttu-id="1e6f8-160">Кроме того, давайте отображаем имя в заголовке `<h4>` и разметьте оставшиеся поля, используя `<table>` под заголовком.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-160">Moreover, let s display the name in an `<h4>` heading and lay out the remaining fields using a `<table>` beneath the heading.</span></span>

<span data-ttu-id="1e6f8-161">Чтобы внести эти изменения, можно использовать функции редактирования шаблонов в конструкторе из смарт-тега DataList, щелкнуть ссылку изменить шаблоны или изменить шаблон вручную с помощью декларативного синтаксиса Pages.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-161">To make these changes you can either use the template editing features in the Designer from the DataList s smart tag click on the Edit Templates link or you can modify the template manually through the page s declarative syntax.</span></span> <span data-ttu-id="1e6f8-162">При использовании параметра изменить шаблоны в конструкторе полученная разметка может не соответствовать следующей разметке точно, но при просмотре в браузере он очень похож на снимок экрана, показанный на рис. 8.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-162">If you use the Edit Templates option in the Designer, your resulting markup may not match the following markup exactly, but when viewed through a browser should look very similar to the screen shot shown in Figure 8.</span></span>

[!code-aspx[Main](displaying-data-with-the-datalist-and-repeater-controls-cs/samples/sample3.aspx)]

> [!NOTE]
> <span data-ttu-id="1e6f8-163">В приведенном выше примере используются элементы управления Label, которым свойству `Text` присвоено значение синтаксиса DataBinding.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-163">The example above uses Label Web controls whose `Text` property is assigned the value of the databinding syntax.</span></span> <span data-ttu-id="1e6f8-164">Кроме того, можно полностью опустить метки, вводя только синтаксис привязки данных.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-164">Alternatively, we could have omitted the Labels altogether, typing in just the databinding syntax.</span></span> <span data-ttu-id="1e6f8-165">То есть вместо использования `<asp:Label ID="CategoryNameLabel" runat="server" Text='<%# Eval("CategoryName") %>' />` можно было бы использовать декларативный синтаксис `<%# Eval("CategoryName") %>`.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-165">That is, instead of using `<asp:Label ID="CategoryNameLabel" runat="server" Text='<%# Eval("CategoryName") %>' />` we could have instead used the declarative syntax `<%# Eval("CategoryName") %>`.</span></span>

<span data-ttu-id="1e6f8-166">Однако при этом в веб-элементах управления Label предусмотрено два преимущества.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-166">Leaving in the Label Web controls, however, offer two advantages.</span></span> <span data-ttu-id="1e6f8-167">Во первых, он предоставляет более простые средства для форматирования данных на основе данных, как будет показано в следующем руководстве.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-167">First, it provides an easier means for formatting the data based on the data, as we'll see in the next tutorial.</span></span> <span data-ttu-id="1e6f8-168">Во-вторых, параметр Edit Templates (редактирование шаблонов) в конструкторе не отображает декларативный синтаксис привязки данных, который появляется за пределами определенного элемента управления.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-168">Second, the Edit Templates option in the Designer doesn t display declarative databinding syntax that appears outside of some Web control.</span></span> <span data-ttu-id="1e6f8-169">Вместо этого интерфейс Edit Templates разработан для упрощения работы со статической разметкой и веб-элементами управления и предполагает, что все привязки данных будут выполняться с помощью диалогового окна Изменение привязок, доступного из смарт-тегов Web Controls.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-169">Instead, the Edit Templates interface is designed to facilitate working with static markup and Web controls and assumes that any databinding will be done through the Edit DataBindings dialog box, which is accessible from the Web controls smart tags.</span></span>

<span data-ttu-id="1e6f8-170">Таким образом, при работе с элементом управления DataList, который предоставляет возможность редактирования шаблонов с помощью конструктора, я предпочитаю использовать элементы Web Controls Label, чтобы содержимое было доступно через интерфейс редактирование шаблонов.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-170">Therefore, when working with the DataList, which provides the option of editing the templates through the Designer, I prefer to use Label Web controls so that the content is accessible through the Edit Templates interface.</span></span> <span data-ttu-id="1e6f8-171">Как мы увидим чуть ниже, Repeater требует, чтобы содержимое шаблона было изменено из представления исходного кода.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-171">As we'll see shortly, the Repeater requires that the template s contents be edited from the Source view.</span></span> <span data-ttu-id="1e6f8-172">Следовательно, при создании шаблонов Repeater мы часто будем опускать метки Web Controls, если не знать, что нужно отформатировать текст, привязанный к данным, на основе программной логики.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-172">Consequently, when crafting the Repeater s templates I'll often omit the Label Web controls unless I know I'll need to format the appearance of the data bound text based on programmatic logic.</span></span>

<span data-ttu-id="1e6f8-173">[![каждый из выходных данных продукта отображается с помощью DataList s ItemTemplate](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image19.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-173">[![Each Product s Output is Rendered Using the DataList s ItemTemplate](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image19.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image18.png)</span></span>

<span data-ttu-id="1e6f8-174">**Рис. 8**. выходные данные каждого продукта отображаются с помощью `ItemTemplate` DataList s ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-174">**Figure 8**: Each Product s Output is Rendered Using the DataList s `ItemTemplate` ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image20.png))</span></span>

## <a name="step-3-improving-the-appearance-of-the-datalist"></a><span data-ttu-id="1e6f8-175">Шаг 3. улучшение внешнего вида элемента управления DataList</span><span class="sxs-lookup"><span data-stu-id="1e6f8-175">Step 3: Improving the Appearance of the DataList</span></span>

<span data-ttu-id="1e6f8-176">Как и GridView, DataList предлагает ряд свойств, связанных со стилем, таких как `Font`, `ForeColor`, `BackColor`, `CssClass`, `ItemStyle`, `AlternatingItemStyle`, `SelectedItemStyle`и т. д.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-176">Like the GridView, the DataList offers a number of style-related properties, such as `Font`, `ForeColor`, `BackColor`, `CssClass`, `ItemStyle`, `AlternatingItemStyle`, `SelectedItemStyle`, and so on.</span></span> <span data-ttu-id="1e6f8-177">При работе с элементами управления GridView и DetailsView мы создали файлы обложки в теме `DataWebControls`, в которой заранее определены свойства `CssClass` для этих двух элементов управления и свойство `CssClass` для некоторых их вложенных свойств (`RowStyle`, `HeaderStyle`и т. д.).</span><span class="sxs-lookup"><span data-stu-id="1e6f8-177">When working with the GridView and DetailsView controls, we created Skin files in the `DataWebControls` Theme that pre-defined the `CssClass` properties for these two controls and the `CssClass` property for several of their subproperties (`RowStyle`, `HeaderStyle`, and so on).</span></span> <span data-ttu-id="1e6f8-178">Позвольте s сделать то же самое для DataList.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-178">Let s do the same for the DataList.</span></span>

<span data-ttu-id="1e6f8-179">Как обсуждалось в разделе [Отображение данных с помощью элемента управления ObjectDataSource](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) , в файле обложки задаются свойства, связанные с внешним видом по умолчанию для веб-элемента. Тема — это коллекция файлов Skin, CSS, Image и JavaScript, которые определяют конкретный внешний вид веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-179">As discussed in the [Displaying Data With the ObjectDataSource](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) tutorial, a Skin file specifies the default appearance-related properties for a Web control; a Theme is a collection of Skin, CSS, image, and JavaScript files that define a particular look and feel for a website.</span></span> <span data-ttu-id="1e6f8-180">При *отображении данных с помощью* учебника по ObjectDataSource мы создали тему `DataWebControls` (которая реализована в виде папки в папке `App_Themes`), в которой в настоящее время есть два файла обложки — `GridView.skin` и `DetailsView.skin`.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-180">In the *Displaying Data With the ObjectDataSource* tutorial, we created a `DataWebControls` Theme (which is implemented as a folder within the `App_Themes` folder) that has, currently, two Skin files - `GridView.skin` and `DetailsView.skin`.</span></span> <span data-ttu-id="1e6f8-181">Добавим третий файл обложки, чтобы указать предварительно определенные параметры стиля для DataList.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-181">Let s add a third Skin file to specify the pre-defined style settings for the DataList.</span></span>

<span data-ttu-id="1e6f8-182">Чтобы добавить файл обложки, щелкните правой кнопкой мыши папку `App_Themes/DataWebControls`, выберите пункт Добавить новый элемент и выберите в списке параметр файл обложки.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-182">To add a Skin file, right-click on the `App_Themes/DataWebControls` folder, choose Add a New Item, and select the Skin File option from the list.</span></span> <span data-ttu-id="1e6f8-183">Назовите файл `DataList.skin`.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-183">Name the file `DataList.skin`.</span></span>

<span data-ttu-id="1e6f8-184">[![создать новый файл обложки с именем DataList. Skin](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image22.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-184">[![Create a New Skin File Named DataList.skin](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image22.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image21.png)</span></span>

<span data-ttu-id="1e6f8-185">**Рис. 9**. Создание нового файла обложки с именем `DataList.skin` ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-185">**Figure 9**: Create a New Skin File Named `DataList.skin` ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image23.png))</span></span>

<span data-ttu-id="1e6f8-186">Используйте следующую разметку для файла `DataList.skin`:</span><span class="sxs-lookup"><span data-stu-id="1e6f8-186">Use the following markup for the `DataList.skin` file:</span></span>

[!code-aspx[Main](displaying-data-with-the-datalist-and-repeater-controls-cs/samples/sample4.aspx)]

<span data-ttu-id="1e6f8-187">Эти параметры применяют те же классы CSS к соответствующим свойствам DataList, что использовались с элементами управления GridView и DetailsView.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-187">These settings assign the same CSS classes to the appropriate DataList properties as were used with the GridView and DetailsView controls.</span></span> <span data-ttu-id="1e6f8-188">Используемые здесь классы CSS `DataWebControlStyle`, `AlternatingRowStyle`, `RowStyle`и т. д. определяются в файле `Styles.css` и были добавлены в предыдущих учебных курсах.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-188">The CSS classes used here `DataWebControlStyle`, `AlternatingRowStyle`, `RowStyle`, and so on are defined in the `Styles.css` file and were added in previous tutorials.</span></span>

<span data-ttu-id="1e6f8-189">При добавлении этого файла обложки внешний вид DataList обновляется в конструкторе (для просмотра эффектов нового файла обложки может потребоваться обновить представление конструктора). в меню "вид" выберите команду "Обновить".</span><span class="sxs-lookup"><span data-stu-id="1e6f8-189">With the addition of this Skin file, the DataList s appearance is updated in the Designer (you may need to refresh the Designer view to see the effects of the new Skin file; from the View menu, choose Refresh).</span></span> <span data-ttu-id="1e6f8-190">Как показано на рис. 10, каждый чередующийся продукт имеет светло-розовый цвет фона.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-190">As Figure 10 shows, each alternating product has a light pink background color.</span></span>

<span data-ttu-id="1e6f8-191">[![создать новый файл обложки с именем DataList. Skin](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image25.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-191">[![Create a New Skin File Named DataList.skin](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image25.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image24.png)</span></span>

<span data-ttu-id="1e6f8-192">**Рис. 10**. Создание нового файла обложки с именем `DataList.skin` ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-192">**Figure 10**: Create a New Skin File Named `DataList.skin` ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image26.png))</span></span>

## <a name="step-4-exploring-the-datalist-s-other-templates"></a><span data-ttu-id="1e6f8-193">Шаг 4. изучение DataList s другие шаблоны</span><span class="sxs-lookup"><span data-stu-id="1e6f8-193">Step 4: Exploring the DataList s Other Templates</span></span>

<span data-ttu-id="1e6f8-194">Помимо `ItemTemplate`, DataList поддерживает шесть других необязательных шаблонов:</span><span class="sxs-lookup"><span data-stu-id="1e6f8-194">In addition to the `ItemTemplate`, the DataList supports six other optional templates:</span></span>

- <span data-ttu-id="1e6f8-195">`HeaderTemplate` если указано, добавляет строку заголовка к выходным данным и используется для визуализации этой строки.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-195">`HeaderTemplate` if provided, adds a header row to the output and is used to render this row</span></span>
- <span data-ttu-id="1e6f8-196">`AlternatingItemTemplate`, используемый для визуализации чередующихся элементов</span><span class="sxs-lookup"><span data-stu-id="1e6f8-196">`AlternatingItemTemplate` used to render alternating items</span></span>
- <span data-ttu-id="1e6f8-197">`SelectedItemTemplate`, используемый для отрисовки выбранного элемента; выбранный элемент является элементом, индекс которого соответствует [свойству`SelectedIndex`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.selectedindex.aspx) DataList s</span><span class="sxs-lookup"><span data-stu-id="1e6f8-197">`SelectedItemTemplate` used to render the selected item; the selected item is the item whose index corresponds to the DataList s [`SelectedIndex` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.selectedindex.aspx)</span></span>
- <span data-ttu-id="1e6f8-198">`EditItemTemplate`, используемый для визуализации редактируемого элемента</span><span class="sxs-lookup"><span data-stu-id="1e6f8-198">`EditItemTemplate` used to render the item being edited</span></span>
- <span data-ttu-id="1e6f8-199">`SeparatorTemplate`, если он указан, добавляет разделитель между каждым элементом и используется для отображения этого разделителя.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-199">`SeparatorTemplate` if provided, adds a separator between each item and is used to render this separator</span></span>
- <span data-ttu-id="1e6f8-200">`FooterTemplate` — если предоставлено, добавляет к выходу строку нижнего колонтитула и используется для визуализации этой строки.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-200">`FooterTemplate` - if provided, adds a footer row to the output and is used to render this row</span></span>

<span data-ttu-id="1e6f8-201">При указании `HeaderTemplate` или `FooterTemplate`DataList добавляет дополнительную строку верхнего или нижнего колонтитула в отображаемые выходные данные.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-201">When specifying the `HeaderTemplate` or `FooterTemplate`, the DataList adds an additional header or footer row to the rendered output.</span></span> <span data-ttu-id="1e6f8-202">Как и в случае с заголовками и нижними колонтитулами GridView s, верхний и нижний колонтитулы в DataList не привязаны к данным.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-202">Like with the GridView s header and footer rows, the header and footer in a DataList are not bound to data.</span></span> <span data-ttu-id="1e6f8-203">Таким образом, любой синтаксис привязки данных в `HeaderTemplate` или `FooterTemplate`, пытающийся получить доступ к привязанным данным, вернет пустую строку.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-203">Therefore, any databinding syntax in the `HeaderTemplate` or `FooterTemplate` that attempts to access bound data will return a blank string.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6f8-204">Как было показано в статье [Отображение сводных данных в нижнем колонтитуле GridView s](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs.md) , в то время как строки верхнего и нижнего колонтитула не поддерживают синтаксис привязки данных, сведения, относящиеся к данным, могут быть добавлены непосредственно в эти строки из обработчика `RowDataBound` GridView s.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-204">As we saw in the [Displaying Summary Information in the GridView s Footer](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs.md) tutorial, while the header and footer rows don t support databinding syntax, data-specific information can be injected directly into these rows from the GridView s `RowDataBound` event handler.</span></span> <span data-ttu-id="1e6f8-205">Этот метод можно использовать для вычисления текущих итогов или другой информации из данных, привязанных к элементу управления, а также для назначения этих сведений нижнему колонтитулу.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-205">This technique can be used to both calculate running totals or other information from the data bound to the control as well as assign that information to the footer.</span></span> <span data-ttu-id="1e6f8-206">Эта же концепция может применяться к элементам управления DataList и Repeater; Единственное различие заключается в том, что для элементов управления DataList и Repeater создается обработчик событий `ItemDataBound` события (вместо события `RowDataBound`).</span><span class="sxs-lookup"><span data-stu-id="1e6f8-206">This same concept can be applied to the DataList and Repeater controls; the only difference is that for the DataList and Repeater create an event handler for the `ItemDataBound` event (instead of for the `RowDataBound` event).</span></span>

<span data-ttu-id="1e6f8-207">В нашем примере пусть в верхней части списка DataList отображаются сведения о продукте, заголовком `<h3>`.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-207">For our example, let s have the title Product Information displayed at the top of the DataList s results in an `<h3>` heading.</span></span> <span data-ttu-id="1e6f8-208">Для этого добавьте `HeaderTemplate` с соответствующей разметкой.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-208">To accomplish this, add a `HeaderTemplate` with the appropriate markup.</span></span> <span data-ttu-id="1e6f8-209">В конструкторе это можно сделать, щелкнув ссылку изменить шаблоны в смарт-теге DataList, выбрав шаблон заголовка из раскрывающегося списка и введя текст в раскрывающемся списке стиль (см. рис. 11).</span><span class="sxs-lookup"><span data-stu-id="1e6f8-209">From the Designer, this can be accomplished by clicking on the Edit Templates link in the DataList s smart tag, choosing the Header Template from the drop-down list, and typing in the text after picking the Heading 3 option from the style drop-down list (see Figure 11).</span></span>

<span data-ttu-id="1e6f8-210">[![добавить HeaderTemplate с текстовыми сведениями о продукте](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image28.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-210">[![Add a HeaderTemplate with the Text Product Information](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image28.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image27.png)</span></span>

<span data-ttu-id="1e6f8-211">**Рис. 11**. Добавление `HeaderTemplate` со сведениями о продукте ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image29.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-211">**Figure 11**: Add a `HeaderTemplate` with the Text Product Information ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image29.png))</span></span>

<span data-ttu-id="1e6f8-212">Кроме того, это можно добавить декларативно, введя следующую разметку в теги `<asp:DataList>`:</span><span class="sxs-lookup"><span data-stu-id="1e6f8-212">Alternatively, this can be added declaratively by entering the following markup within the `<asp:DataList>` tags:</span></span>

[!code-html[Main](displaying-data-with-the-datalist-and-repeater-controls-cs/samples/sample5.html)]

<span data-ttu-id="1e6f8-213">Чтобы добавить в список продуктов несколько пробелов, добавим `SeparatorTemplate`, включающую линию между каждым разделом.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-213">To add a bit of space between each product listing, let s add a `SeparatorTemplate` that includes a line between each section.</span></span> <span data-ttu-id="1e6f8-214">Тег горизонтального правила (`<hr>`) добавляет такой разделитель.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-214">The horizontal rule tag (`<hr>`), adds such a divider.</span></span> <span data-ttu-id="1e6f8-215">Создайте `SeparatorTemplate` так, чтобы он наработал следующую разметку:</span><span class="sxs-lookup"><span data-stu-id="1e6f8-215">Create the `SeparatorTemplate` so that it has the following markup:</span></span>

[!code-html[Main](displaying-data-with-the-datalist-and-repeater-controls-cs/samples/sample6.html)]

> [!NOTE]
> <span data-ttu-id="1e6f8-216">Как и `HeaderTemplate` и `FooterTemplates`, `SeparatorTemplate` не привязана к какой-либо записи из источника данных и поэтому не может напрямую обращаться к записям источников данных, привязанным к DataList.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-216">Like the `HeaderTemplate` and `FooterTemplates`, the `SeparatorTemplate` is not bound to any record from the data source and therefore cannot directly access the data source records bound to the DataList.</span></span>

<span data-ttu-id="1e6f8-217">После выполнения этого сложения при просмотре страницы в браузере она должна выглядеть примерно так, как показано на рис. 12.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-217">After making this addition, when viewing the page through a browser it should look similar to Figure 12.</span></span> <span data-ttu-id="1e6f8-218">Обратите внимание на строку заголовка и строку между каждым списком продуктов.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-218">Note the header row and the line between each product listing.</span></span>

<span data-ttu-id="1e6f8-219">[![DataList включает строку заголовка и горизонтальное правило между каждым списком продуктов.](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image31.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-219">[![The DataList Includes a Header Row and a Horizontal Rule Between Each Product Listing](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image31.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image30.png)</span></span>

<span data-ttu-id="1e6f8-220">**Рис. 12**. элемент управления DataList содержит строку заголовка и горизонтальное правило между каждым списком продуктов ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image32.png)).</span><span class="sxs-lookup"><span data-stu-id="1e6f8-220">**Figure 12**: The DataList Includes a Header Row and a Horizontal Rule Between Each Product Listing ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image32.png))</span></span>

## <a name="step-5-rendering-specific-markup-with-the-repeater-control"></a><span data-ttu-id="1e6f8-221">Шаг 5. отрисовка определенной разметки с помощью элемента управления Repeater</span><span class="sxs-lookup"><span data-stu-id="1e6f8-221">Step 5: Rendering Specific Markup with the Repeater Control</span></span>

<span data-ttu-id="1e6f8-222">Если вы выполняете представление или источник из браузера при просмотре примера DataList на рис. 12, вы увидите, что DataList выдает `<table>` HTML, содержащий строку таблицы (`<tr>`) с одной ячейкой таблицы (`<td>`) для каждого элемента, привязанного к DataList.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-222">If you do a View/Source from your browser when visiting the DataList example from Figure 12, you'll see that the DataList emits an HTML `<table>` that contains a table row (`<tr>`) with a single table cell (`<td>`) for each item bound to the DataList.</span></span> <span data-ttu-id="1e6f8-223">На самом деле эти выходные данные идентичны тому, что получится из GridView с одним TemplateField.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-223">This output, in fact, is identical to what would be emitted from a GridView with a single TemplateField.</span></span> <span data-ttu-id="1e6f8-224">Как можно будет увидеть в следующем учебном курсе, DataList допускает дальнейшую настройку выходных данных, позволяя нам отображать несколько записей источников данных в каждой строке таблицы.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-224">As we'll see in a future tutorial, the DataList does allow further customization of the output, enabling us to display multiple data source records per table row.</span></span>

<span data-ttu-id="1e6f8-225">Но если вы не хотите создавать HTML-`<table>`?</span><span class="sxs-lookup"><span data-stu-id="1e6f8-225">What if you don t want to emit an HTML `<table>`, though?</span></span> <span data-ttu-id="1e6f8-226">Для общего и полного управления разметкой, создаваемой веб-элементом управления данными, необходимо использовать элемент управления Repeater.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-226">For total and complete control over the markup generated by a data Web control, we must use the Repeater control.</span></span> <span data-ttu-id="1e6f8-227">Как и в DataList, элемент управления Repeater создается на основе шаблонов.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-227">Like the DataList, the Repeater is constructed based upon templates.</span></span> <span data-ttu-id="1e6f8-228">Однако Repeater предлагает только следующие пять шаблонов:</span><span class="sxs-lookup"><span data-stu-id="1e6f8-228">The Repeater, however, only offers the following five templates:</span></span>

- <span data-ttu-id="1e6f8-229">`HeaderTemplate` если предоставлено, добавляет указанную разметку перед элементами.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-229">`HeaderTemplate` if provided, adds the specified markup before the items</span></span>
- <span data-ttu-id="1e6f8-230">`ItemTemplate`, используемые для отрисовки элементов</span><span class="sxs-lookup"><span data-stu-id="1e6f8-230">`ItemTemplate` used to render items</span></span>
- <span data-ttu-id="1e6f8-231">`AlternatingItemTemplate`, если он задан, используется для визуализации чередующихся элементов</span><span class="sxs-lookup"><span data-stu-id="1e6f8-231">`AlternatingItemTemplate` if provided, used to render alternating items</span></span>
- <span data-ttu-id="1e6f8-232">`SeparatorTemplate`, если оно предоставлено, добавляет указанную разметку между каждым элементом.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-232">`SeparatorTemplate` if provided, adds the specified markup between each item</span></span>
- <span data-ttu-id="1e6f8-233">`FooterTemplate` — если предоставлено, добавляет указанную разметку после элементов.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-233">`FooterTemplate` - if provided, adds the specified markup after the items</span></span>

<span data-ttu-id="1e6f8-234">В ASP.NET 1. x элемент управления Repeater обычно использовался для вывода маркированного списка, данные которого получены из источника данных.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-234">In ASP.NET 1.x, the Repeater control was commonly used to display a bulleted list whose data came from some data source.</span></span> <span data-ttu-id="1e6f8-235">В этом случае `HeaderTemplate` и `FooterTemplates` будут содержать открывающие и закрывающие теги `<ul>` соответственно, а `ItemTemplate` будет содержать элементы `<li>` с синтаксисом DataBinding.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-235">In such a case, the `HeaderTemplate` and `FooterTemplates` would contain the opening and closing `<ul>` tags, respectively, while the `ItemTemplate` would contain `<li>` elements with databinding syntax.</span></span> <span data-ttu-id="1e6f8-236">Этот подход по-прежнему можно использовать в ASP.NET 2,0, как мы видели в двух примерах на [главных страницах и](../introduction/master-pages-and-site-navigation-cs.md) в учебнике по переходу на сайт.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-236">This approach can still be used in ASP.NET 2.0 as we saw in two examples in the [Master Pages and Site Navigation](../introduction/master-pages-and-site-navigation-cs.md) tutorial:</span></span>

- <span data-ttu-id="1e6f8-237">На главной странице `Site.master` используется Repeater для отображения маркированного списка содержимого карт узла верхнего уровня (базовый отчет, фильтрация отчетов, настраиваемое форматирование и т. д.). другой вложенный элемент Repeater использовался для вывода дочерних разделов разделов верхнего уровня.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-237">In the `Site.master` master page, a Repeater was used to display a bulleted list of the top-level site map contents (Basic Reporting, Filtering Reports, Customized Formatting, and so on); another, nested Repeater was used to display the children sections of the top-level sections</span></span>
- <span data-ttu-id="1e6f8-238">В `SectionLevelTutorialListing.ascx`для отображения маркированного списка дочерних разделов текущего раздела схемы веб-узла используется элемент Repeater.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-238">In `SectionLevelTutorialListing.ascx`, a Repeater was used to display a bulleted list of the children sections of the current site map section</span></span>

> [!NOTE]
> <span data-ttu-id="1e6f8-239">В ASP.NET 2,0 появился новый [элемент управления "маркированный](https://msdn.microsoft.com/library/ms228101.aspx)", который можно привязать к элементу управления источником данных, чтобы отобразить простой маркированный список.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-239">ASP.NET 2.0 introduces the new [BulletedList control](https://msdn.microsoft.com/library/ms228101.aspx), which can be bound to a data source control in order to display a simple bulleted list.</span></span> <span data-ttu-id="1e6f8-240">При использовании элемента управления маркированными списками не нужно указывать ни один из HTML-страниц, связанных со списком; Вместо этого мы просто обозначаем поле данных, которое будет отображаться как текст для каждого элемента списка.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-240">With the BulletedList control we do not need to specify any of the list-related HTML; instead, we simply indicate the data field to display as the text for each list item.</span></span>

<span data-ttu-id="1e6f8-241">Repeater служит в качестве веб-элемента управления для перехвата всех данных.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-241">The Repeater serves as a catch all data Web control.</span></span> <span data-ttu-id="1e6f8-242">Если существующего элемента управления, создающего необходимую разметку, не существует, можно использовать элемент управления Repeater.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-242">If there is not an existing control that generates the needed markup, the Repeater control can be used.</span></span> <span data-ttu-id="1e6f8-243">Чтобы проиллюстрировать использование элемента управления Repeater, давайте, чтобы список категорий отображался над элементом управления DataList, созданным на шаге 2.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-243">To illustrate using the Repeater, let s have the list of categories displayed above the Product Information DataList created in Step 2.</span></span> <span data-ttu-id="1e6f8-244">В частности, пусть категории отображаются в HTML-`<table>` одной строки с каждой категорией, отображаемой в виде столбца в таблице.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-244">In particular, let s have the categories displayed in a single-row HTML `<table>` with each category displayed as a column in the table.</span></span>

<span data-ttu-id="1e6f8-245">Чтобы сделать это, начните с перетаскивания элемента управления Repeater с панели инструментов в конструктор над элементом DataList сведений о продукте.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-245">To accomplish this, start by dragging a Repeater control from the Toolbox onto the Designer, above the Product Information DataList.</span></span> <span data-ttu-id="1e6f8-246">Как и в элементе управления DataList, элемент управления Repeater первоначально отображается как серый прямоугольник, пока его шаблоны не определены.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-246">As with the DataList, the Repeater initially displays as a gray box until its templates have been defined.</span></span>

<span data-ttu-id="1e6f8-247">[![Добавление элемента Repeater в конструктор](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image34.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-247">[![Add a Repeater to the Designer](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image34.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image33.png)</span></span>

<span data-ttu-id="1e6f8-248">**Рис. 13**. Добавление элемента Repeater в конструктор ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image35.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-248">**Figure 13**: Add a Repeater to the Designer ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image35.png))</span></span>

<span data-ttu-id="1e6f8-249">В смарт-теге Repeater s есть только один параметр: выберите источник данных.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-249">There s only one option in the Repeater s smart tag: Choose Data Source.</span></span> <span data-ttu-id="1e6f8-250">Необходимо создать новый элемент ObjectDataSource и настроить его для использования метода `GetCategories` `CategoriesBLL` класса.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-250">Opt to create a new ObjectDataSource and configure it to use the `CategoriesBLL` class s `GetCategories` method.</span></span>

<span data-ttu-id="1e6f8-251">[![создать новый элемент управления ObjectDataSource](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image37.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-251">[![Create a New ObjectDataSource](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image37.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image36.png)</span></span>

<span data-ttu-id="1e6f8-252">**Рис. 14**. Создание нового элемента управления ObjectDataSource ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image38.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-252">**Figure 14**: Create a New ObjectDataSource ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image38.png))</span></span>

<span data-ttu-id="1e6f8-253">[![настроить ObjectDataSource для использования класса CategoriesBLL](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image40.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-253">[![Configure the ObjectDataSource to Use the CategoriesBLL Class](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image40.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image39.png)</span></span>

<span data-ttu-id="1e6f8-254">**Рис. 15**. Настройка ObjectDataSource для использования класса `CategoriesBLL` ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image41.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-254">**Figure 15**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image41.png))</span></span>

<span data-ttu-id="1e6f8-255">[![получить сведения обо всех категориях с помощью метода Categories](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image43.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-255">[![Retrieve Information About All of the Categories Using the GetCategories Method](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image43.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image42.png)</span></span>

<span data-ttu-id="1e6f8-256">**Рис. 16**. Получение сведений обо всех категориях с помощью метода `GetCategories` ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image44.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-256">**Figure 16**: Retrieve Information About All of the Categories Using the `GetCategories` Method ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image44.png))</span></span>

<span data-ttu-id="1e6f8-257">В отличие от DataList, Visual Studio не создает ItemTemplate автоматически для элемента управления Repeater после его привязки к источнику данных.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-257">Unlike the DataList, Visual Studio does not automatically create an ItemTemplate for the Repeater after binding it to a data source.</span></span> <span data-ttu-id="1e6f8-258">Более того, шаблоны Repeater не могут быть настроены с помощью конструктора и должны быть заданы декларативно.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-258">Furthermore, the Repeater s templates cannot be configured through the Designer and must be specified declaratively.</span></span>

<span data-ttu-id="1e6f8-259">Чтобы отобразить категории в виде однострочного `<table>` со столбцом для каждой категории, нам нужен элемент Repeater для создания разметки, аналогичной следующей:</span><span class="sxs-lookup"><span data-stu-id="1e6f8-259">To display the categories as a single-row `<table>` with a column for each category, we need the Repeater to emit markup similar to the following:</span></span>

[!code-html[Main](displaying-data-with-the-datalist-and-repeater-controls-cs/samples/sample7.html)]

<span data-ttu-id="1e6f8-260">Так как текст `<td>Category X</td>` — это повторяющаяся часть, она появится в элементе Repeater s ItemTemplate.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-260">Since the `<td>Category X</td>` text is the portion that repeats, this will appear in the Repeater s ItemTemplate.</span></span> <span data-ttu-id="1e6f8-261">Разметка, которая появляется перед `<table><tr>`, будет помещена в `HeaderTemplate`, а конечная разметка `</tr></table>` — помещается в `FooterTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-261">The markup that appears before it - `<table><tr>` - will be placed in the `HeaderTemplate` while the ending markup - `</tr></table>` - will placed in the `FooterTemplate`.</span></span> <span data-ttu-id="1e6f8-262">Чтобы ввести эти параметры шаблона, перейдите к декларативной части страницы ASP.NET, нажав кнопку Источник в левом нижнем углу и введя следующий синтаксис:</span><span class="sxs-lookup"><span data-stu-id="1e6f8-262">To enter these template settings, go to the declarative portion of the ASP.NET page by clicking on the Source button in the lower left corner and type in the following syntax:</span></span>

[!code-aspx[Main](displaying-data-with-the-datalist-and-repeater-controls-cs/samples/sample8.aspx)]

<span data-ttu-id="1e6f8-263">Элемент Repeater создает точную разметку, указанную в шаблонах, ничего больше, ничего не меньше.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-263">The Repeater emits the precise markup as specified by its templates, nothing more, nothing less.</span></span> <span data-ttu-id="1e6f8-264">На рис. 17 показан вывод данных Repeater при просмотре в браузере.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-264">Figure 17 shows the Repeater s output when viewed through a browser.</span></span>

<span data-ttu-id="1e6f8-265">[![&lt;таблице HTML с одной строкой&gt; список каждой категории в отдельном столбце](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image46.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-265">[![A Single-Row HTML &lt;table&gt; Lists Each Category in a Separate Column](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image46.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image45.png)</span></span>

<span data-ttu-id="1e6f8-266">**Рис. 17**. HTML-`<table>` одной строки содержит каждую категорию в отдельном столбце ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image47.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-266">**Figure 17**: A Single-Row HTML `<table>` Lists Each Category in a Separate Column ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image47.png))</span></span>

## <a name="step-6-improving-the-appearance-of-the-repeater"></a><span data-ttu-id="1e6f8-267">Шаг 6. улучшение внешнего вида элемента Repeater</span><span class="sxs-lookup"><span data-stu-id="1e6f8-267">Step 6: Improving the Appearance of the Repeater</span></span>

<span data-ttu-id="1e6f8-268">Так как Repeater создает точную разметку, указанную в шаблонах, она должна не задуматься о том, что для Repeater нет свойств, связанных с стилем.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-268">Since the Repeater emits precisely the markup specified by its templates, it should come as no surprise that there are no style-related properties for the Repeater.</span></span> <span data-ttu-id="1e6f8-269">Чтобы изменить внешний вид содержимого, созданного Repeater, необходимо вручную добавить требуемое содержимое HTML или CSS непосредственно в шаблоны Repeater s.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-269">To alter the appearance of the content generated by the Repeater, we must manually add the needed HTML or CSS content directly to the Repeater s templates.</span></span>

<span data-ttu-id="1e6f8-270">В нашем примере пусть столбцы категории имеют альтернативные цвета фона, например с чередованием строк в DataList.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-270">For our example, let s have the category columns alternate background colors, like with the alternating rows in the DataList.</span></span> <span data-ttu-id="1e6f8-271">Для этого необходимо присвоить `RowStyle` классу CSS каждому элементу Repeater и классу `AlternatingRowStyle` CSS к каждому альтернативному элементу Repeater с помощью шаблонов `ItemTemplate` и `AlternatingItemTemplate`, вот так:</span><span class="sxs-lookup"><span data-stu-id="1e6f8-271">To accomplish this, we need to assign the `RowStyle` CSS class to each Repeater item and the `AlternatingRowStyle` CSS class to each alternating Repeater item through the `ItemTemplate` and `AlternatingItemTemplate` templates, like so:</span></span>

[!code-aspx[Main](displaying-data-with-the-datalist-and-repeater-controls-cs/samples/sample9.aspx)]

<span data-ttu-id="1e6f8-272">Давайте также добавим к выходу строку заголовка с использованием текстовых категорий продуктов.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-272">Let s also add a header row to the output with the text Product Categories.</span></span> <span data-ttu-id="1e6f8-273">Поскольку мы не понимаем, сколько столбцов будет состоять в итоговой `<table>`, самый простой способ создать строку заголовка, которая гарантированно охватывает все столбцы, — использовать *две* `<table>` s.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-273">Since we don t know how many columns our resulting `<table>` will be comprised of, the simplest way to generate a header row that is guaranteed to span all columns is to use *two* `<table>` s.</span></span> <span data-ttu-id="1e6f8-274">Первая `<table>` будет содержать две строки заголовка и строку, которая будет содержать вторую однострочную `<table>` со столбцом для каждой категории в системе.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-274">The first `<table>` will contain two rows the header row and a row that will contain the second, single-row `<table>` that has a column for each category in the system.</span></span> <span data-ttu-id="1e6f8-275">То есть мы хотим создать следующую разметку:</span><span class="sxs-lookup"><span data-stu-id="1e6f8-275">That is, we want to emit the following markup:</span></span>

[!code-html[Main](displaying-data-with-the-datalist-and-repeater-controls-cs/samples/sample10.html)]

<span data-ttu-id="1e6f8-276">Следующие `HeaderTemplate` и `FooterTemplate` приводят к желаемой разметке:</span><span class="sxs-lookup"><span data-stu-id="1e6f8-276">The following `HeaderTemplate` and `FooterTemplate` result in the desired markup:</span></span>

[!code-aspx[Main](displaying-data-with-the-datalist-and-repeater-controls-cs/samples/sample11.aspx)]

<span data-ttu-id="1e6f8-277">На рис. 18 показан элемент Repeater после внесения этих изменений.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-277">Figure 18 shows the Repeater after these changes have been made.</span></span>

<span data-ttu-id="1e6f8-278">[![столбцы категорий в альтернативном цвете и включает строку заголовка](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image49.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-278">[![The Category Columns Alternate in Background Color and Includes a Header Row](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image49.png)](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image48.png)</span></span>

<span data-ttu-id="1e6f8-279">**Рис. 18**. столбцы категорий, которые относятся к цвету фона и включают строку заголовка ([щелкните, чтобы просмотреть изображение с полным размером](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image50.png))</span><span class="sxs-lookup"><span data-stu-id="1e6f8-279">**Figure 18**: The Category Columns Alternate in Background Color and Includes a Header Row ([Click to view full-size image](displaying-data-with-the-datalist-and-repeater-controls-cs/_static/image50.png))</span></span>

## <a name="summary"></a><span data-ttu-id="1e6f8-280">Сводка</span><span class="sxs-lookup"><span data-stu-id="1e6f8-280">Summary</span></span>

<span data-ttu-id="1e6f8-281">Хотя элемент управления GridView упрощает отображение, изменение, удаление, сортировку и детализацию данных, внешний вид является очень угловатным и в виде сетки.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-281">While the GridView control makes it easy to display, edit, delete, sort, and page through data, the appearance is very boxy and grid-like.</span></span> <span data-ttu-id="1e6f8-282">Чтобы лучше контролировать внешний вид, необходимо включить элементы управления DataList или Repeater.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-282">For more control over the appearance, we need to turn to either the DataList or Repeater controls.</span></span> <span data-ttu-id="1e6f8-283">Оба этих элемента управления отображают набор записей с помощью шаблонов вместо BoundFields, Чеккбоксфиелдс и т. д.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-283">Both of these controls display a set of records using templates instead of BoundFields, CheckBoxFields, and so on.</span></span>

<span data-ttu-id="1e6f8-284">Элемент управления DataList готовится к просмотру как `<table>` HTML, который по умолчанию отображает каждую запись источника данных в одной строке таблицы, как и GridView с одним TemplateField.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-284">The DataList renders as an HTML `<table>` that, by default, displays each data source record in a single table row, just like a GridView with a single TemplateField.</span></span> <span data-ttu-id="1e6f8-285">Как мы увидим в следующем учебном курсе, элемент управления DataList позволяет отображать несколько записей в каждой строке таблицы.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-285">As we will see in a future tutorial, however, the DataList does permit multiple records to be displayed per table row.</span></span> <span data-ttu-id="1e6f8-286">С другой стороны, Repeater строго создает разметку, указанную в ее шаблонах. Он не добавляет дополнительную разметку и, таким образом, обычно используется для вывода данных в HTML-элементах, отличных от `<table>` (например, в маркированном списке).</span><span class="sxs-lookup"><span data-stu-id="1e6f8-286">The Repeater, on the other hand, strictly emits the markup specified in its templates; it does not add any additional markup and therefore is commonly used to display data in HTML elements other than a `<table>` (such as in a bulleted list).</span></span>

<span data-ttu-id="1e6f8-287">Хотя элементы управления DataList и Repeater обеспечивают большую гибкость в отображаемых выходных данных, у них нет многих встроенных функций, имеющихся в GridView.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-287">While the DataList and Repeater offer more flexibility in their rendered output, they lack many of the built-in features found in the GridView.</span></span> <span data-ttu-id="1e6f8-288">Как мы рассмотрим в предстоящих руководствах, некоторые из этих функций могут быть подключены обратно, не требуя слишком больших усилий, но при этом следует помнить, что использование DataList или Repeater вместо GridView ограничивает возможности, которые можно использовать без реализации этих функций. степень.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-288">As we'll examine in upcoming tutorials, some of these features can be plugged back in without too much effort, but do keep in mind that using the DataList or Repeater in lieu of the GridView does limit the features you can use without having to implement those features yourself.</span></span>

<span data-ttu-id="1e6f8-289">Поздравляем с программированием!</span><span class="sxs-lookup"><span data-stu-id="1e6f8-289">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="1e6f8-290">Об авторе</span><span class="sxs-lookup"><span data-stu-id="1e6f8-290">About the Author</span></span>

<span data-ttu-id="1e6f8-291">[Скотт Митчелл](http://www.4guysfromrolla.com/ScottMitchell.shtml), автор семи книг по ASP/ASP. NET и основатель [4GuysFromRolla.com](http://www.4guysfromrolla.com), работал с веб-технологиями Майкрософт с 1998.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-291">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="1e6f8-292">Скотт работает как независимый консультант, преподаватель и модуль записи.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-292">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="1e6f8-293">Его последняя книга — [*Sams обучать себя ASP.NET 2,0 за 24 часа*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="1e6f8-293">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="1e6f8-294">Он доступен по адресу [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-294">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="1e6f8-295">или через его блог, который можно найти по адресу [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="1e6f8-295">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="1e6f8-296">Специальная благодарность</span><span class="sxs-lookup"><span data-stu-id="1e6f8-296">Special Thanks To</span></span>

<span data-ttu-id="1e6f8-297">Эта серия руководств была рассмотрена многими полезными рецензентами.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-297">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="1e6f8-298">Потенциальные рецензенты для этого руководства: Яааков yaakov Ellis), основными рецензентами, Рэнди Шмидт и Стейси парк.</span><span class="sxs-lookup"><span data-stu-id="1e6f8-298">Lead reviewers for this tutorial were Yaakov Ellis, Liz Shulok, Randy Schmidt, and Stacy Park.</span></span> <span data-ttu-id="1e6f8-299">Хотите ознакомиться с моими будущими статьями MSDN?</span><span class="sxs-lookup"><span data-stu-id="1e6f8-299">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="1e6f8-300">Если это так, расположите строку в [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="1e6f8-300">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="1e6f8-301">Вперед</span><span class="sxs-lookup"><span data-stu-id="1e6f8-301">Next</span></span>](formatting-the-datalist-and-repeater-based-upon-data-cs.md)
