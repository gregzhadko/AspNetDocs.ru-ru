---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
title: Обзор вставки, обновления и удаления данных (C#) | Документация Майкрософт
author: rick-anderson
description: В этом руководстве мы будет показано, как сопоставить элементу ObjectDataSource Insert(), Update(), и классы Delete() методов к методам BLL, а также способы настройки...
ms.author: riande
ms.date: 07/17/2006
ms.assetid: b651dc58-93c7-4f83-a74e-3b99f6d60848
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
msc.type: authoredcontent
ms.openlocfilehash: 61b3d54b73e33040baf93a8b7705dfb231835b40
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59410452"
---
# <a name="an-overview-of-inserting-updating-and-deleting-data-c"></a><span data-ttu-id="c1e9c-103">Обзор вставки, обновления и удаления данных (C#)</span><span class="sxs-lookup"><span data-stu-id="c1e9c-103">An Overview of Inserting, Updating, and Deleting Data (C#)</span></span>

<span data-ttu-id="c1e9c-104">по [Скотт Митчелл](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="c1e9c-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="c1e9c-105">[Скачайте пример приложения](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) или [скачать PDF](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="c1e9c-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) or [Download PDF](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span></span>

> <span data-ttu-id="c1e9c-106">В этом руководстве мы будет показано, как сопоставить элементу ObjectDataSource Insert(), Update(), и классы Delete() методов к методам BLL, а также настройке элементов управления GridView, DetailsView и FormView для обеспечения возможностей изменения данных.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-106">In this tutorial we'll see how to map an ObjectDataSource's Insert(), Update(), and Delete() methods to the methods of BLL classes, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>


## <a name="introduction"></a><span data-ttu-id="c1e9c-107">Вступление</span><span class="sxs-lookup"><span data-stu-id="c1e9c-107">Introduction</span></span>

<span data-ttu-id="c1e9c-108">Через нескольких последних учебных курсах мы изучали отображение данных на странице ASP.NET с помощью элементов управления GridView, DetailsView и FormView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-108">Over the past several tutorials we've examined how to display data in an ASP.NET page using the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="c1e9c-109">Эти элементы управления просто работать с данными, которые им предоставлены.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-109">These controls simply work with data supplied to them.</span></span> <span data-ttu-id="c1e9c-110">Часто эти элементы управления получить доступ к данным с помощью элементу управления источником данных, таких как элемент управления ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-110">Commonly, these controls access data through the use of a data source control, such as the ObjectDataSource.</span></span> <span data-ttu-id="c1e9c-111">Мы увидели, как ObjectDataSource действует как прокси между страницей ASP.NET и базовых данных.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-111">We've seen how the ObjectDataSource acts as a proxy between the ASP.NET page and the underlying data.</span></span> <span data-ttu-id="c1e9c-112">Когда GridView необходимые для отображения данных, он вызывает методы `Select()` метод, который в свою очередь вызывает метод из наших бизнес логики (BLL), которая вызывает метод в соответствующий доступ уровне данным (DAL) TableAdapter, который в свою очередь отправляет `SELECT` запроса к базе данных "Борей".</span><span class="sxs-lookup"><span data-stu-id="c1e9c-112">When a GridView needs to display data, it invokes its ObjectDataSource's `Select()` method, which in turn invokes a method from our Business Logic Layer (BLL), which calls a method in the appropriate Data Access Layer's (DAL) TableAdapter, which in turn sends a `SELECT` query to the Northwind database.</span></span>

<span data-ttu-id="c1e9c-113">Помните, что при создании TableAdapter в DAL в [наш первый Учебник](../introduction/creating-a-data-access-layer-cs.md), Visual Studio автоматически добавляла методы для вставки, обновления и удаления данных из основного таблица базы данных.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-113">Recall that when we created the TableAdapters in the DAL in [our first tutorial](../introduction/creating-a-data-access-layer-cs.md), Visual Studio automatically added methods for inserting, updating, and deleting data from the underlying database table.</span></span> <span data-ttu-id="c1e9c-114">Кроме того, в [Создание слой бизнес-логики](../introduction/creating-a-business-logic-layer-cs.md) мы разработали методы в BLL, которая произвела вызов в эти методы DAL изменения данных.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-114">Moreover, in [Creating a Business Logic Layer](../introduction/creating-a-business-logic-layer-cs.md) we designed methods in the BLL that called down into these data modification DAL methods.</span></span>

<span data-ttu-id="c1e9c-115">В дополнение к его `Select()` метод, элемент управления ObjectDataSource также имеет `Insert()`, `Update()`, и `Delete()` методы.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-115">In addition to its `Select()` method, the ObjectDataSource also has `Insert()`, `Update()`, and `Delete()` methods.</span></span> <span data-ttu-id="c1e9c-116">Как и `Select()` метод, эти три метода могут быть сопоставлены методам базового объекта.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-116">Like the `Select()` method, these three methods can be mapped to methods in an underlying object.</span></span> <span data-ttu-id="c1e9c-117">Во время настройки для вставки, обновления или удаления данных элементы управления GridView, DetailsView и FormView предоставляют пользовательский интерфейс для изменения базовых данных.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-117">When configured to insert, update, or delete data, the GridView, DetailsView, and FormView controls provide a user interface for modifying the underlying data.</span></span> <span data-ttu-id="c1e9c-118">Этот пользовательский интерфейс вызывает `Insert()`, `Update()`, и `Delete()` методов ObjectDataSource, которые затем вызвать базового объекта, связанного с методов (см. рис. 1).</span><span class="sxs-lookup"><span data-stu-id="c1e9c-118">This user interface calls the `Insert()`, `Update()`, and `Delete()` methods of the ObjectDataSource, which then invoke the underlying object's associated methods (see Figure 1).</span></span>


[![T<span data-ttu-id="c1e9c-119">HE ObjectDataSource Insert(), Update() и Delete() методы служат в качестве учетной записи-посредника в BLL]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-119">he ObjectDataSource's Insert(), Update(), and Delete() Methods Serve as a Proxy into the BLL]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)

<span data-ttu-id="c1e9c-120">**Рис. 1**: ObjectDataSource `Insert()`, `Update()`, и `Delete()` методы служат в качестве учетной записи-посредника в BLL ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-120">**Figure 1**: The ObjectDataSource's `Insert()`, `Update()`, and `Delete()` Methods Serve as a Proxy into the BLL ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span></span>


<span data-ttu-id="c1e9c-121">В этом руководстве мы будет показано, как сопоставить ObjectDataSource `Insert()`, `Update()`, и `Delete()` методы в методах классов в BLL, а также настройке элементов управления GridView, DetailsView и FormView для обеспечения изменения данных возможности.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-121">In this tutorial we'll see how to map the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods to methods of classes in the BLL, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>

## <a name="step-1-creating-the-insert-update-and-delete-tutorials-web-pages"></a><span data-ttu-id="c1e9c-122">Шаг 1. Создание Insert, Update и Delete учебники веб-страниц</span><span class="sxs-lookup"><span data-stu-id="c1e9c-122">Step 1: Creating the Insert, Update, and Delete Tutorials Web Pages</span></span>

<span data-ttu-id="c1e9c-123">Прежде чем приступать, показывающих, как вставка, обновление и удаление данных, давайте немного, чтобы создавать страницы ASP.NET в нашем проекте веб-сайта, что нам понадобится для этого учебника и нескольких следующих.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-123">Before we start exploring how to insert, update, and delete data, let's first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next several ones.</span></span> <span data-ttu-id="c1e9c-124">Начните с добавления новой папки с именем `EditInsertDelete`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-124">Start by adding a new folder named `EditInsertDelete`.</span></span> <span data-ttu-id="c1e9c-125">Добавьте следующие страницы ASP.NET в этой папке, не забывая связывать каждую с `Site.master` главной страницы:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-125">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `Basics.aspx`
- `DataModificationEvents.aspx`
- `ErrorHandling.aspx`
- `UIValidation.aspx`
- `CustomizedUI.aspx`
- `OptimisticConcurrency.aspx`
- `ConfirmationOnDelete.aspx`
- `UserLevelAccess.aspx`


![Добавление страниц ASP.NET для данных учебных курсов по изменению](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image4.png)

<span data-ttu-id="c1e9c-127">**Рис. 2**: Добавление страниц ASP.NET для данных учебных курсов по изменению</span><span class="sxs-lookup"><span data-stu-id="c1e9c-127">**Figure 2**: Add the ASP.NET Pages for the Data Modification-Related Tutorials</span></span>


<span data-ttu-id="c1e9c-128">Как и в других папках, `Default.aspx` в `EditInsertDelete` папку перечислит учебные курсы в своем разделе.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-128">Like in the other folders, `Default.aspx` in the `EditInsertDelete` folder will list the tutorials in its section.</span></span> <span data-ttu-id="c1e9c-129">Помните, что `SectionLevelTutorialListing.ascx` пользовательский элемент управления предоставляет следующие функциональные возможности.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-129">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="c1e9c-130">Поэтому добавьте данный пользовательский элемент управления для `Default.aspx` , перетащив его из обозревателя решений в режиме конструктора.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-130">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page's Design view.</span></span>


[![A<span data-ttu-id="c1e9c-131">дд пользовательского элемента управления SectionLevelTutorialListing.ascx к странице Default.aspx]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-131">dd the SectionLevelTutorialListing.ascx User Control to Default.aspx]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)

<span data-ttu-id="c1e9c-132">**Рис. 3**: Добавить `SectionLevelTutorialListing.ascx` для пользовательского элемента управления `Default.aspx` ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-132">**Figure 3**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span></span>


<span data-ttu-id="c1e9c-133">Наконец, добавьте страницы как записи, чтобы `Web.sitemap` файл.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-133">Lastly, add the pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="c1e9c-134">В частности, добавьте следующую разметку после узла настраиваемого форматирования `<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-134">Specifically, add the following markup after the Customized Formatting `<siteMapNode>`:</span></span>


[!code-xml[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample1.xml)]

<span data-ttu-id="c1e9c-135">После обновления `Web.sitemap`, Отвлекитесь и просмотрите учебный веб-узел в обозревателе.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-135">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="c1e9c-136">В меню слева теперь есть элементы для редактирования, вставки и удаления учебных курсов.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-136">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>


![Карта узла теперь включают записи для редактирования, вставки и удаления учебных курсов](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image8.png)

<span data-ttu-id="c1e9c-138">**Рис. 4**: Карта узла теперь включают записи для редактирования, вставки и удаления учебных курсов</span><span class="sxs-lookup"><span data-stu-id="c1e9c-138">**Figure 4**: The Site Map Now Includes Entries for the Editing, Inserting, and Deleting Tutorials</span></span>


## <a name="step-2-adding-and-configuring-the-objectdatasource-control"></a><span data-ttu-id="c1e9c-139">Шаг 2. Добавление и настройка элемента управления ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="c1e9c-139">Step 2: Adding and Configuring the ObjectDataSource Control</span></span>

<span data-ttu-id="c1e9c-140">С момента GridView, DetailsView и FormView, каждый по-разному их возможностей изменения данных и макета давайте рассмотрим каждый из них по отдельности.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-140">Since the GridView, DetailsView, and FormView each differ in their data modification capabilities and layout, let's examine each one individually.</span></span> <span data-ttu-id="c1e9c-141">А не у каждого элемента управления, используя свой собственный элемент управления ObjectDataSource, тем не менее, просто создадим один элемент управления ObjectDataSource, можно предоставить все примеры три элемента управления.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-141">Rather than have each control using its own ObjectDataSource, however, let's just create a single ObjectDataSource that all three control examples can share.</span></span>

<span data-ttu-id="c1e9c-142">Откройте `Basics.aspx` странице, перетащите элемент управления ObjectDataSource из панели элементов в конструктор и щелкните ссылку Настройка источника данных из его смарт-тега.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-142">Open the `Basics.aspx` page, drag an ObjectDataSource from the Toolbox onto the Designer, and click the Configure Data Source link from its smart tag.</span></span> <span data-ttu-id="c1e9c-143">Так как `ProductsBLL` — это единственный класс BLL, предоставляющий редактирования, вставки и удаления методов, настройте элемент ObjectDataSource для использования этого класса.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-143">Since the `ProductsBLL` is the only BLL class that provides editing, inserting, and deleting methods, configure the ObjectDataSource to use this class.</span></span>


[![C<span data-ttu-id="c1e9c-144">Настройка ObjectDataSource на использование класса ProductsBLL]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-144">onfigure the ObjectDataSource to Use the ProductsBLL Class]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)

<span data-ttu-id="c1e9c-145">**Рис. 5**: Настройка ObjectDataSource для использования `ProductsBLL` класс ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-145">**Figure 5**: Configure the ObjectDataSource to Use the `ProductsBLL` Class ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span></span>


<span data-ttu-id="c1e9c-146">На следующем экране можно указать методы класса `ProductsBLL` класса сопоставляются с ObjectDataSource `Select()`, `Insert()`, `Update()`, и `Delete()` , выбрав соответствующую вкладку и выбрать метод стрелку раскрывающегося списка.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-146">In the next screen we can specify what methods of the `ProductsBLL` class are mapped to the ObjectDataSource's `Select()`, `Insert()`, `Update()`, and `Delete()` by selecting the appropriate tab and choosing the method from the drop-down list.</span></span> <span data-ttu-id="c1e9c-147">Рис. 6, которая должна быть знакома к этому моменту, сопоставляет ObjectDataSource `Select()` метод `ProductsBLL` класса `GetProducts()` метод.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-147">Figure 6, which should look familiar by now, maps the ObjectDataSource's `Select()` method to the `ProductsBLL` class's `GetProducts()` method.</span></span> <span data-ttu-id="c1e9c-148">`Insert()`, `Update()`, И `Delete()` методы можно настроить, выбрав соответствующую вкладку в списке в верхней.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-148">The `Insert()`, `Update()`, and `Delete()` methods can be configured by selecting the appropriate tab from the list along the top.</span></span>


[![H<span data-ttu-id="c1e9c-149">элемент управления ObjectDataSource возвращает все продукты Ave]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-149">ave the ObjectDataSource Return All of the Products]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)

<span data-ttu-id="c1e9c-150">**Рис. 6**: Иметь элемент управления ObjectDataSource возвращает все продукты ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-150">**Figure 6**: Have the ObjectDataSource Return All of the Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span></span>


<span data-ttu-id="c1e9c-151">Рис. 7, 8 и 9 Показать ObjectDataSource UPDATE, INSERT и DELETE вкладки.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-151">Figures 7, 8, and 9 show the ObjectDataSource's UPDATE, INSERT, and DELETE tabs.</span></span> <span data-ttu-id="c1e9c-152">Настройте эти вкладки, чтобы `Insert()`, `Update()`, и `Delete()` методы вызывают `ProductsBLL` класса `UpdateProduct`, `AddProduct`, и `DeleteProduct` методы, соответственно.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-152">Configure these tabs so that the `Insert()`, `Update()`, and `Delete()` methods invoke the `ProductsBLL` class's `UpdateProduct`, `AddProduct`, and `DeleteProduct` methods, respectively.</span></span>


[![M<span data-ttu-id="c1e9c-153">AP метод Update() класса ObjectDataSource методу UpdateProduct класса ProductBLL]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-153">ap the ObjectDataSource's Update() Method to the ProductBLL Class's UpdateProduct Method]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)

<span data-ttu-id="c1e9c-154">**Рис. 7**: Сопоставить ObjectDataSource `Update()` метод `ProductBLL` класса `UpdateProduct` метод ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-154">**Figure 7**: Map the ObjectDataSource's `Update()` Method to the `ProductBLL` Class's `UpdateProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span></span>


[![M<span data-ttu-id="c1e9c-155">AP методу ObjectDataSource методу AddProduct класса ProductBLL]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-155">ap the ObjectDataSource's Insert() Method to the ProductBLL Class's AddProduct Method]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)

<span data-ttu-id="c1e9c-156">**Рис. 8**: Сопоставить ObjectDataSource `Insert()` метод `ProductBLL` добавить класса `Product` метод ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-156">**Figure 8**: Map the ObjectDataSource's `Insert()` Method to the `ProductBLL` Class's Add `Product` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span></span>


[![M<span data-ttu-id="c1e9c-157">AP метод Delete() ObjectDataSource методу DeleteProduct класса ProductBLL]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-157">ap the ObjectDataSource's Delete() Method to the ProductBLL Class's DeleteProduct Method]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)

<span data-ttu-id="c1e9c-158">**Рис. 9**: Сопоставить ObjectDataSource `Delete()` метод `ProductBLL` класса `DeleteProduct` метод ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-158">**Figure 9**: Map the ObjectDataSource's `Delete()` Method to the `ProductBLL` Class's `DeleteProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span></span>


<span data-ttu-id="c1e9c-159">Вы могли заметить, что раскрывающихся списках на вкладках UPDATE, INSERT и DELETE эти методы уже выбран.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-159">You may have noticed that the drop-down lists in the UPDATE, INSERT, and DELETE tabs already had these methods selected.</span></span> <span data-ttu-id="c1e9c-160">Это обусловлено использованием из `DataObjectMethodAttribute` , установлен для методов класса `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-160">This is thanks to our use of the `DataObjectMethodAttribute` that decorates the methods of `ProductsBLL`.</span></span> <span data-ttu-id="c1e9c-161">Например методу DeleteProduct имеет следующую сигнатуру:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-161">For example, the DeleteProduct method has the following signature:</span></span>


[!code-csharp[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample2.cs)]

<span data-ttu-id="c1e9c-162">`DataObjectMethodAttribute` Указывает назначение каждого метода, будь то для выбора, вставки, обновления, или удаление и ли его значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-162">The `DataObjectMethodAttribute` attribute indicates the purpose of each method whether it is for selecting, inserting, updating, or deleting and whether or not it's the default value.</span></span> <span data-ttu-id="c1e9c-163">Если при создании классов BLL эти атрибуты были пропущены, вы будет необходимо вручную выбрать методы обновления, вставки и удаления вкладок.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-163">If you omitted these attributes when creating your BLL classes, you'll need to manually select the methods from the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="c1e9c-164">Убедившись, что соответствующий `ProductsBLL` сопоставлены методам ObjectDataSource `Insert()`, `Update()`, и `Delete()` методов, нажмите кнопку Готово, чтобы завершить работу мастера.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-164">After ensuring that the appropriate `ProductsBLL` methods are mapped to the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods, click Finish to complete the wizard.</span></span>

## <a name="examining-the-objectdatasources-markup"></a><span data-ttu-id="c1e9c-165">Проверка разметки ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="c1e9c-165">Examining the ObjectDataSource's Markup</span></span>

<span data-ttu-id="c1e9c-166">После настройки ObjectDataSource с помощью мастера, перейдите в представление источника, чтобы проверить созданную декларативную разметку.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-166">After configuring the ObjectDataSource through its wizard, go to the Source view to examine the generated declarative markup.</span></span> <span data-ttu-id="c1e9c-167">`<asp:ObjectDataSource>` Тег задает базовый объект и вызываемые методы.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-167">The `<asp:ObjectDataSource>` tag specifies the underlying object and the methods to invoke.</span></span> <span data-ttu-id="c1e9c-168">Кроме того, существуют `DeleteParameters`, `UpdateParameters`, и `InsertParameters` , которые соответствуют входные параметры для `ProductsBLL` класса `AddProduct`, `UpdateProduct`, и `DeleteProduct` методов:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-168">Additionally, there are `DeleteParameters`, `UpdateParameters`, and `InsertParameters` that map to the input parameters for the `ProductsBLL` class's `AddProduct`, `UpdateProduct`, and `DeleteProduct` methods:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample3.aspx)]

<span data-ttu-id="c1e9c-169">Элемент управления ObjectDataSource включает параметр для каждого из входных параметров для соответствующих методов, так же, как список `SelectParameter` s присутствует, после настройки ObjectDataSource на вызов метода select, который требуется входной параметр (например `GetProductsByCategoryID(categoryID)`).</span><span class="sxs-lookup"><span data-stu-id="c1e9c-169">The ObjectDataSource includes a parameter for each of the input parameters for its associated methods, just like a list of `SelectParameter` s is present when the ObjectDataSource is configured to call a select method that expects an input parameter (such as `GetProductsByCategoryID(categoryID)`).</span></span> <span data-ttu-id="c1e9c-170">Как скоро можно будет увидеть, их значения `DeleteParameters`, `UpdateParameters`, и `InsertParameters` задаются автоматически GridView, DetailsView и FormView до вызова ObjectDataSource `Insert()`, `Update()`, или `Delete()` метод.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-170">As we'll see shortly, values for these `DeleteParameters`, `UpdateParameters`, and `InsertParameters` are set automatically by the GridView, DetailsView, and FormView prior to invoking the ObjectDataSource's `Insert()`, `Update()`, or `Delete()` method.</span></span> <span data-ttu-id="c1e9c-171">Эти значения можно задать программным образом, при необходимости, также будет рассмотрено в дальнейших учебных курсах.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-171">These values can also be set programmatically as needed, as we'll discuss in a future tutorial.</span></span>

<span data-ttu-id="c1e9c-172">Один побочный эффект использования мастера для настройки к ObjectDataSource в том, что Visual Studio [свойство OldValuesParameterFormatString](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) для `original_{0}`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-172">One side effect of using the wizard to configure to ObjectDataSource is that Visual Studio sets the [OldValuesParameterFormatString property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) to `original_{0}`.</span></span> <span data-ttu-id="c1e9c-173">Значение этого свойства используется для включения исходных значений данных, редактируемой и полезно в двух сценариях:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-173">This property value is used to include the original values of the data being edited and is useful in two scenarios:</span></span>

- <span data-ttu-id="c1e9c-174">Если при правке записи, пользователи могут изменять значение первичного ключа.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-174">If, when editing a record, users are able to change the primary key value.</span></span> <span data-ttu-id="c1e9c-175">В этом случае новым значением первичного ключа и исходным значением первичного ключа необходимо указать, чтобы найти и будет иметь значение по соответствующим образом обновлено записи с исходным значением первичного ключа.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-175">In this case, both the new primary key value and the original primary key value must be provided so that the record with the original primary key value can be found and have its value updated accordingly.</span></span>
- <span data-ttu-id="c1e9c-176">При использовании оптимистичного параллелизма.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-176">When using optimistic concurrency.</span></span> <span data-ttu-id="c1e9c-177">Оптимистичный параллелизм – методика убедитесь, что два одновременно работающих пользователей не перезаписать изменения друг друга и это тема будущего учебного курса.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-177">Optimistic concurrency is a technique to ensure that two simultaneous users don't overwrite one another's changes, and is the topic for a future tutorial.</span></span>

<span data-ttu-id="c1e9c-178">`OldValuesParameterFormatString` Свойство указывает имя базового объекта update и delete методы для исходных значений входных параметров.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-178">The `OldValuesParameterFormatString` property indicates the name of the input parameters in the underlying object's update and delete methods for the original values.</span></span> <span data-ttu-id="c1e9c-179">Мы обсудим это свойство и его назначение, более подробно при изучении оптимистичного параллелизма.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-179">We'll discuss this property and its purpose in greater detail when we explore optimistic concurrency.</span></span> <span data-ttu-id="c1e9c-180">Я упомянул его сейчас, тем не менее, так как исходные значения методам BLL не ожидают, и поэтому очень важно, что мы удалим это свойство.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-180">I bring it up now, however, because our BLL's methods do not expect the original values and therefore it's important that we remove this property.</span></span> <span data-ttu-id="c1e9c-181">Оставив `OldValuesParameterFormatString` свойство задано только значение по умолчанию (`{0}`) приведет к ошибке при попытке вызвать ObjectDataSource данных веб-элемента управления `Update()` или `Delete()` методы так, как ObjectDataSource будет попытка передать входные параметры `UpdateParameters` или `DeleteParameters` указан, а также исходные значения параметров.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-181">Leaving the `OldValuesParameterFormatString` property set to anything other than the default (`{0}`) will cause an error when a data Web control attempts to invoke the ObjectDataSource's `Update()` or `Delete()` methods because the ObjectDataSource will attempt to pass in both the `UpdateParameters` or `DeleteParameters` specified as well as original value parameters.</span></span>

<span data-ttu-id="c1e9c-182">Если это не очень на этом этапе, не беспокойтесь, мы рассмотрим это свойство и его программа в следующем учебном курсе.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-182">If this isn't terribly clear at this juncture, don't worry, we'll examine this property and its utility in a future tutorial.</span></span> <span data-ttu-id="c1e9c-183">Пока просто не забудьте удалить это объявление свойства из декларативного синтаксиса или присвоено значение по умолчанию ({0}).</span><span class="sxs-lookup"><span data-stu-id="c1e9c-183">For now, just be certain to either remove this property declaration entirely from the declarative syntax or set the value to the default value ({0}).</span></span>

> [!NOTE]
> <span data-ttu-id="c1e9c-184">Если вы просто очистите `OldValuesParameterFormatString` значение свойства из окна свойств в режиме конструктора, свойство по-прежнему будет существовать в декларативном синтаксисе, но задать пустую строку.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-184">If you simply clear out the `OldValuesParameterFormatString` property value from the Properties window in the Design view, the property will still exist in the declarative syntax, but be set to an empty string.</span></span> <span data-ttu-id="c1e9c-185">Это, увы, по-прежнему приведет та же проблема, описанных выше.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-185">This, unfortunately, will still result in the same problem discussed above.</span></span> <span data-ttu-id="c1e9c-186">Таким образом, либо удалите свойство полностью из декларативного синтаксиса или из окна свойств установите значение по умолчанию, `{0}`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-186">Therefore, either remove the property altogether from the declarative syntax or, from the Properties window, set the value to the default, `{0}`.</span></span>


## <a name="step-3-adding-a-data-web-control-and-configuring-it-for-data-modification"></a><span data-ttu-id="c1e9c-187">Шаг 3. Добавление веб-элемент данных и настроить его для изменения данных</span><span class="sxs-lookup"><span data-stu-id="c1e9c-187">Step 3: Adding a Data Web Control and Configuring It for Data Modification</span></span>

<span data-ttu-id="c1e9c-188">После добавления на страницу и настройки ObjectDataSource мы готовы добавить веб-элементы управления на страницу, чтобы отобразить данные и предоставляют средства для конечного пользователя изменить его.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-188">Once the ObjectDataSource has been added to the page and configured, we're ready to add data Web controls to the page to both display the data and provide a means for the end user to modify it.</span></span> <span data-ttu-id="c1e9c-189">Мы рассмотрим GridView, DetailsView и FormView отдельно, так как эти данные веб-элементов управления по-разному их возможностей изменения данных и конфигурации.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-189">We'll look at the GridView, DetailsView, and FormView separately, as these data Web controls differ in their data modification capabilities and configuration.</span></span>

<span data-ttu-id="c1e9c-190">Как мы увидим в оставшейся части этой статьи, Добавление расширенных возможностей редактирования, вставки и удаления поддержка с помощью GridView, DetailsView и FormView является очень простой установкой нескольких флажков.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-190">As we'll see in the remainder of this article, adding very basic editing, inserting, and deleting support through the GridView, DetailsView, and FormView controls is really as simple as checking a couple of checkboxes.</span></span> <span data-ttu-id="c1e9c-191">Существует множество тонкостей и крайних случаев, в реальной жизни, делающих предоставление этих функций более сложным, чем просто выберите команду и нажмите кнопку.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-191">There are many subtleties and edge cases in the real-world that make providing such functionality more involved than just point and click.</span></span> <span data-ttu-id="c1e9c-192">Этот учебник, тем не менее, рассматриваются только возможности модификации упрощенный данных.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-192">This tutorial, however, focuses solely on proving simplistic data modification capabilities.</span></span> <span data-ttu-id="c1e9c-193">Последующих учебных курсах будут рассмотрены вопросы, которые непременно возникнут в реальных условиях.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-193">Future tutorials will examine concerns that will undoubtedly arise in a real-world setting.</span></span>

## <a name="deleting-data-from-the-gridview"></a><span data-ttu-id="c1e9c-194">Удаление данных из GridView</span><span class="sxs-lookup"><span data-stu-id="c1e9c-194">Deleting Data from the GridView</span></span>

<span data-ttu-id="c1e9c-195">Для начала перетаскивания элемента управления GridView с панели инструментов в конструктор.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-195">Start by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="c1e9c-196">Затем привяжите элемент управления ObjectDataSource к GridView, выбрав его из раскрывающегося списка в смарт-теге элемента GridView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-196">Next, bind the ObjectDataSource to the GridView by selecting it from the drop-down list in the GridView's smart tag.</span></span> <span data-ttu-id="c1e9c-197">На этом этапе декларативная разметка GridView будет:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-197">At this point the GridView's declarative markup will be:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample4.aspx)]

<span data-ttu-id="c1e9c-198">Привязка элемента GridView к элементу ObjectDataSource через его смарт-тег имеет два преимущества:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-198">Binding the GridView to the ObjectDataSource through its smart tag has two benefits:</span></span>

- <span data-ttu-id="c1e9c-199">Поля BoundFields и CheckBoxFields создаются автоматически для каждого из полей, возвращаемые элементом ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-199">BoundFields and CheckBoxFields are automatically created for each of the fields returned by the ObjectDataSource.</span></span> <span data-ttu-id="c1e9c-200">Кроме того BoundField и CheckBoxField элемента свойства задаются на основании метаданных базового поля.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-200">Moreover, the BoundField and CheckBoxField's properties are set based on the underlying field's metadata.</span></span> <span data-ttu-id="c1e9c-201">Например `ProductID`, `CategoryName`, и `SupplierName` поля помечены только для чтения в `ProductsDataTable` и поэтому не должно быть обновляемым при редактировании.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-201">For example, the `ProductID`, `CategoryName`, and `SupplierName` fields are marked as read-only in the `ProductsDataTable` and therefore shouldn't be updatable when editing.</span></span> <span data-ttu-id="c1e9c-202">Для размещения этого, эти поля BoundField, кроме [свойств только для чтения](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) присваивается `true`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-202">To accommodate this, these BoundFields' [ReadOnly properties](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) are set to `true`.</span></span>
- <span data-ttu-id="c1e9c-203">[Свойство DataKeyNames](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) назначается полей первичного ключа базового объекта.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-203">The [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) is assigned to the primary key field(s) of the underlying object.</span></span> <span data-ttu-id="c1e9c-204">Это важно, когда то уникальный с помощью GridView для редактирования или удаления данных, поскольку это свойство указывает поле (или набор полей) определяет каждую запись.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-204">This is essential when using the GridView for editing or deleting data, as this property indicates the field (or set of fields) that unique identifies each record.</span></span> <span data-ttu-id="c1e9c-205">Дополнительные сведения о `DataKeyNames` свойство, обращаться к [Master/Detail, с помощью выбираемого основного элемента GridView с DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) руководства.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-205">For more information on the `DataKeyNames` property, refer back to the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="c1e9c-206">Хотя GridView можно привязать к элементу ObjectDataSource через декларативный синтаксис или окно "Свойства", для этого необходимо вручную добавить соответствующую BoundField и `DataKeyNames` разметки.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-206">While the GridView can be bound to the ObjectDataSource through the Properties window or declarative syntax, doing so requires you to manually add the appropriate BoundField and `DataKeyNames` markup.</span></span>

<span data-ttu-id="c1e9c-207">Элемент управления GridView предоставляет встроенную поддержку редактирования на уровне строк и удаления.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-207">The GridView control provides built-in support for row-level editing and deleting.</span></span> <span data-ttu-id="c1e9c-208">Настройка GridView для поддержки удаления добавляется столбец кнопок «Delete».</span><span class="sxs-lookup"><span data-stu-id="c1e9c-208">Configuring a GridView to support deleting adds a column of Delete buttons.</span></span> <span data-ttu-id="c1e9c-209">Когда конечный пользователь нажимает кнопку «Удалить» для конкретной строки, обратная передача и GridView выполняет следующие действия:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-209">When the end user clicks the Delete button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="c1e9c-210">ObjectDataSource `DeleteParameters` присваиваются значения</span><span class="sxs-lookup"><span data-stu-id="c1e9c-210">The ObjectDataSource's `DeleteParameters` value(s) are assigned</span></span>
2. <span data-ttu-id="c1e9c-211">ObjectDataSource `Delete()` вызывается метод, удаление указанной записи</span><span class="sxs-lookup"><span data-stu-id="c1e9c-211">The ObjectDataSource's `Delete()` method is invoked, deleting the specified record</span></span>
3. <span data-ttu-id="c1e9c-212">GridView повторную привязку к элементу ObjectDataSource, вызвав его `Select()` метод</span><span class="sxs-lookup"><span data-stu-id="c1e9c-212">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="c1e9c-213">Значения, присвоенные `DeleteParameters` являются значениями `DataKeyNames` поля, для которого была нажата для удаления строки.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-213">The values assigned to the `DeleteParameters` are the values of the `DataKeyNames` field(s) for the row whose Delete button was clicked.</span></span> <span data-ttu-id="c1e9c-214">Поэтому крайне важно, элемента GridView `DataKeyNames` установлено правильно.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-214">Therefore it's vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="c1e9c-215">Если он отсутствует, `DeleteParameters` будет назначен `null` значение на шаге 1, что в свою очередь не приведет любой удаленных записей на шаге 2.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-215">If it's missing, the `DeleteParameters` will be assigned a `null` value in Step 1, which in turn will not result in any deleted records in Step 2.</span></span>

> [!NOTE]
> <span data-ttu-id="c1e9c-216">`DataKeys` Коллекция хранится в состояние элемента управления GridView s, это означает, что `DataKeys` значения будут сохранены для обратной передачи, даже если состояние представления GridView s была отключена.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-216">The `DataKeys` collection is stored in the GridView s control state, meaning that the `DataKeys` values will be remembered across postback even if the GridView s view state has been disabled.</span></span> <span data-ttu-id="c1e9c-217">Тем не менее очень важно состояния представления остается включенной для элементов управления GridView, который поддерживает изменение или удаление (поведение по умолчанию).</span><span class="sxs-lookup"><span data-stu-id="c1e9c-217">However, it is very important that view state remains enabled for GridViews that support editing or deleting (the default behavior).</span></span> <span data-ttu-id="c1e9c-218">Если задать GridView s `EnableViewState` свойства `false`, поведение редактирования и удаления, хорошо подходит для одного пользователя, но если одновременно работающих пользователей, удаление данных, существует возможность, что этими пользователями может случайно Удаление или изменение записей, которые они не собирались.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-218">If you set the GridView s `EnableViewState` property to `false`, the editing and deleting behavior will work fine for a single user, but if there are concurrent users deleting data, there exists the possibility that these concurrent users may accidentally delete or edit records that they didn't intend.</span></span> <span data-ttu-id="c1e9c-219">См. мою запись в блоге [предупреждение: Проблема параллелизма с помощью ASP.NET 2.0 элементов управления GridView/DetailsView/FormView среды, поддерживающих правку и/или удаление и которых состояние просмотра отключено](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx), Дополнительные сведения.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-219">See my blog entry, [WARNING: Concurrency Issue with ASP.NET 2.0 GridViews/DetailsView/FormViews that Support Editing and/or Deleting and Whose View State is Disabled](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx), for more information.</span></span>


<span data-ttu-id="c1e9c-220">Это предупреждение также относится к DetailsViews и FormView среды.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-220">This same warning also applies to DetailsViews and FormViews.</span></span>

<span data-ttu-id="c1e9c-221">Для Удаление возможностей к GridView, просто перейдите к его смарт-тег и установите флажок "Разрешить удаление".</span><span class="sxs-lookup"><span data-stu-id="c1e9c-221">To add deleting capabilities to a GridView, simply go to its smart tag and check the Enable Deleting checkbox.</span></span>


![Проверьте включение, удаление флажок](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image24.png)

<span data-ttu-id="c1e9c-223">**Рис. 10**: Проверьте включение, удаление флажок</span><span class="sxs-lookup"><span data-stu-id="c1e9c-223">**Figure 10**: Check the Enable Deleting Checkbox</span></span>


<span data-ttu-id="c1e9c-224">Установив в смарт-теге флажок Разрешить удаление добавлено поле добавляет CommandField к GridView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-224">Checking the Enable Deleting checkbox from the smart tag adds a CommandField to the GridView.</span></span> <span data-ttu-id="c1e9c-225">CommandField отображает столбец в GridView с кнопками для выполнения одной или нескольких из следующих задач: Выбор записи, редактирование и удаление записи.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-225">The CommandField renders a column in the GridView with buttons for performing one or more of the following tasks: selecting a record, editing a record, and deleting a record.</span></span> <span data-ttu-id="c1e9c-226">Ранее была рассмотрена CommandField в действии с помощью записей в [Master/Detail, с помощью выбираемого основного элемента GridView с DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) руководства.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-226">We previously saw the CommandField in action with selecting records in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="c1e9c-227">CommandField содержит ряд `ShowXButton` свойств, которые указывают, какие из набора кнопок изображаются CommandField.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-227">The CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="c1e9c-228">Установив флажок Разрешить удаление CommandField которого `ShowDeleteButton` свойство `true` был добавлен в коллекцию столбцов GridView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-228">By checking the Enable Deleting checkbox a CommandField whose `ShowDeleteButton` property is `true` has been added to the GridView's Columns collection.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample5.aspx)]

<span data-ttu-id="c1e9c-229">На этом этапе Верите или нет, мы закончили Добавление поддержки удаления к элементу GridView!</span><span class="sxs-lookup"><span data-stu-id="c1e9c-229">At this point, believe it or not, we're done with adding deleting support to the GridView!</span></span> <span data-ttu-id="c1e9c-230">Как показано на рис. 11, при просмотре страницы через обозреватель столбец кнопок «Delete» присутствует.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-230">As Figure 11 shows, when visiting this page through a browser a column of Delete buttons is present.</span></span>


[![T<span data-ttu-id="c1e9c-231">он CommandField добавляет столбец из удаление кнопки]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-231">he CommandField Adds a Column of Delete Buttons]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)

<span data-ttu-id="c1e9c-232">**Рис. 11**: CommandField добавляет столбец из удаление кнопки ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-232">**Figure 11**: The CommandField Adds a Column of Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span></span>


<span data-ttu-id="c1e9c-233">Если вы уже создаете этот учебник с нуля самостоятельно, при тестировании этой странице нажмите кнопку «Удалить» будет выдано исключение.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-233">If you've been building this tutorial from the ground up on your own, when testing this page clicking the Delete button will raise an exception.</span></span> <span data-ttu-id="c1e9c-234">Далее вы узнаете о том, почему возникают эти исключения и способы их устранения.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-234">Continue reading to learn as to why these exceptions were raised and how to fix them.</span></span>

> [!NOTE]
> <span data-ttu-id="c1e9c-235">Если вы создаете пример вместе с помощью этого учебника, загрузки, эти проблемы уже учтены для.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-235">If you're following along using the download accompanying this tutorial, these problems have already been accounted for.</span></span> <span data-ttu-id="c1e9c-236">Тем не менее я рекомендую ознакомиться с указанных ниже с целью определения возможных проблем, возникающих, а также поиска подходящих обходных сведениям.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-236">However, I encourage you to read through the details listed below to help identify problems that may arise and suitable workarounds.</span></span>


<span data-ttu-id="c1e9c-237">Если при попытке удаления продукта, возникнет исключение с сообщением, аналогичную "*ObjectDataSource 'ObjectDataSource1' не удалось найти неуниверсальный метод 'DeleteProduct' с параметрами: productID, исходное\_ ProductID*,» скорее всего вы забыли удалить `OldValuesParameterFormatString` свойства из элемента управления ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-237">If, when attempting to delete a product, you get an exception whose message is similar to "*ObjectDataSource 'ObjectDataSource1' could not find a non-generic method 'DeleteProduct' that has parameters: productID, original\_ProductID*," you likely forgot to remove the `OldValuesParameterFormatString` property from the ObjectDataSource.</span></span> <span data-ttu-id="c1e9c-238">С помощью `OldValuesParameterFormatString` свойство задано, ObjectDataSource пытается передать входные параметры `productID` и `original_ProductID` входные параметры `DeleteProduct` метод.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-238">With the `OldValuesParameterFormatString` property specified, the ObjectDataSource attempts to pass in both `productID` and `original_ProductID` input parameters to the `DeleteProduct` method.</span></span> `DeleteProduct`<span data-ttu-id="c1e9c-239">, однако принимает только один входной параметр, поэтому исключение.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-239">, however, only accepts a single input parameter, hence the exception.</span></span> <span data-ttu-id="c1e9c-240">Удаление `OldValuesParameterFormatString` свойство (или присвойте ей значение `{0}`) указывает, что элемент управления ObjectDataSource пытается передать исходный входной параметр.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-240">Removing the `OldValuesParameterFormatString` property (or setting it to `{0}`) instructs the ObjectDataSource to not attempt to pass in the original input parameter.</span></span>


[![E<span data-ttu-id="c1e9c-241">nsure, что свойство OldValuesParameterFormatString был очищен Out]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-241">nsure That the OldValuesParameterFormatString Property Has Been Cleared Out]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)

<span data-ttu-id="c1e9c-242">**Рис. 12**: Убедитесь, что `OldValuesParameterFormatString` свойство имеет был очищен Out ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-242">**Figure 12**: Ensure That the `OldValuesParameterFormatString` Property Has Been Cleared Out ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span></span>


<span data-ttu-id="c1e9c-243">Даже если удалить `OldValuesParameterFormatString` свойство, вы по-прежнему будет вызвано исключение при попытке удаления продукта с сообщением: "*Конфликт инструкции DELETE с ограничением ССЫЛКУ" FK\_порядок\_сведения\_закупочного*.» Базы данных Northwind содержит ограничение внешнего ключа между `Order Details` и `Products` таблицы, это означает, что продукт нельзя удалить из системы, если один или несколько записей о нем в `Order Details` таблицы.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-243">Even if you had removed the `OldValuesParameterFormatString` property, you still will get an exception when trying to delete a product with the message: "*The DELETE statement conflicted with the REFERENCE constraint 'FK\_Order\_Details\_Products'*." The Northwind database contains a foreign key constraint between the `Order Details` and `Products` table, meaning that a product cannot be deleted from the system if there are one or more records for it in the `Order Details` table.</span></span> <span data-ttu-id="c1e9c-244">Поскольку все продукты в базе данных Northwind имеют хотя бы одну запись `Order Details`, перед удалением любых продуктов, необходимо удалить записи сведений о связанных заказах продуктов.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-244">Since every product in the Northwind database has at least one record in `Order Details`, we cannot delete any products until we first delete the product's associated order details records.</span></span>


[![A <span data-ttu-id="c1e9c-245">Ограничение внешнего ключа препятствует удалению продуктов]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-245">Foreign Key Constraint Prohibits the Deletion of Products]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)

<span data-ttu-id="c1e9c-246">**Рис. 13**: Ограничение внешнего ключа запрещает удаление продуктов ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-246">**Figure 13**: A Foreign Key Constraint Prohibits the Deletion of Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span></span>


<span data-ttu-id="c1e9c-247">В этом руководстве, просто удалим все записи из `Order Details` таблицы.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-247">For our tutorial, let's just delete all of the records from the `Order Details` table.</span></span> <span data-ttu-id="c1e9c-248">В реальном приложении необходимо либо:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-248">In a real-world application we'd need to either:</span></span>

- <span data-ttu-id="c1e9c-249">У другого экрана, чтобы управлять сведений о порядке</span><span class="sxs-lookup"><span data-stu-id="c1e9c-249">Have another screen to manage order details information</span></span>
- <span data-ttu-id="c1e9c-250">Дополнить `DeleteProduct` для включения логики, чтобы удалить сведения о заказе указанного продукта</span><span class="sxs-lookup"><span data-stu-id="c1e9c-250">Augment the `DeleteProduct` method to include logic to delete the specified product's order details</span></span>
- <span data-ttu-id="c1e9c-251">Изменение запроса SQL, используемого TableAdapter для включения удаления деталей заказа указанного продукта</span><span class="sxs-lookup"><span data-stu-id="c1e9c-251">Modify the SQL query used by the TableAdapter to include deletion of the specified product's order details</span></span>

<span data-ttu-id="c1e9c-252">Просто удалим все записи из `Order Details` Чтобы обойти ограничение внешнего ключа.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-252">Let's just delete all of the records from the `Order Details` table to circumvent the foreign key constraint.</span></span> <span data-ttu-id="c1e9c-253">Перейдите в проводник по серверам в Visual Studio, щелкните правой кнопкой мыши `NORTHWND.MDF` узел и выберите новый запрос.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-253">Go to the Server Explorer in Visual Studio, right-click on the `NORTHWND.MDF` node, and choose New Query.</span></span> <span data-ttu-id="c1e9c-254">Затем в окне запроса выполните следующую инструкцию SQL:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-254">Then, in the query window, run the following SQL statement:</span></span> `DELETE FROM [Order Details]`


[![D<span data-ttu-id="c1e9c-255">удалить все записи из таблицы Order сведения]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-255">elete All Records from the Order Details Table]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)

<span data-ttu-id="c1e9c-256">**Рис. 14**: Удалить все записи из `Order Details` таблицы ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-256">**Figure 14**: Delete All Records from the `Order Details` Table ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span></span>


<span data-ttu-id="c1e9c-257">После очистки `Order Details` таблицы, нажав кнопку "Удалить" приведет к удалению продукта без ошибок.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-257">After clearing out the `Order Details` table clicking on the Delete button will delete the product without error.</span></span> <span data-ttu-id="c1e9c-258">Если при нажатии кнопки Delete не приводит к удалению продукта, проверьте, чтобы убедиться, что GridView `DataKeyNames` свойству поле первичного ключа (`ProductID`).</span><span class="sxs-lookup"><span data-stu-id="c1e9c-258">If clicking on the Delete button does not delete the product, check to ensure that the GridView's `DataKeyNames` property is set to the primary key field (`ProductID`).</span></span>

> [!NOTE]
> <span data-ttu-id="c1e9c-259">При нажатии кнопки "Удалить" обратная передача и удаляется запись.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-259">When clicking on the Delete button a postback ensues and the record is deleted.</span></span> <span data-ttu-id="c1e9c-260">Это может быть опасно, так как это легко случайно нажмите кнопку Удалить ошибиться.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-260">This can be dangerous since it is easy to accidentally click on the wrong row's Delete button.</span></span> <span data-ttu-id="c1e9c-261">В следующем учебном курсе будет показано, как добавление клиентского подтверждения при удалении записи.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-261">In a future tutorial we'll see how to add a client-side confirmation when deleting a record.</span></span>


## <a name="editing-data-with-the-gridview"></a><span data-ttu-id="c1e9c-262">Редактирование данных с помощью GridView</span><span class="sxs-lookup"><span data-stu-id="c1e9c-262">Editing Data with the GridView</span></span>

<span data-ttu-id="c1e9c-263">Помимо удаления, элемент управления GridView также предоставляет встроенную поддержку редактирования на уровне строк.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-263">Along with deleting, the GridView control also provides built-in row-level editing support.</span></span> <span data-ttu-id="c1e9c-264">Настройка GridView для поддержки редактирования добавляется столбец кнопок кнопки изменения.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-264">Configuring a GridView to support editing adds a column of Edit buttons.</span></span> <span data-ttu-id="c1e9c-265">С точки зрения конечного пользователя, щелкнув строки редактирования кнопку причин, по которым строка становится изменяемой превратив ячейки в текстовые поля, содержащий существующие значения и заменить "Изменить", с обновлением и кнопки "Отмена".</span><span class="sxs-lookup"><span data-stu-id="c1e9c-265">From the end user's perspective, clicking a row's Edit button causes that row to become editable, turning the cells into textboxes containing the existing values and replacing the Edit button with Update and Cancel buttons.</span></span> <span data-ttu-id="c1e9c-266">После внесения необходимых изменения, конечный пользователь может щелкнуть кнопкой "Обновить", чтобы сохранить изменения "или" Отмена ", чтобы отбросить их.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-266">After making their desired changes, the end user can click the Update button to commit the changes or the Cancel button to discard them.</span></span> <span data-ttu-id="c1e9c-267">В любом случае после нажатия кнопки обновления "или" Отмена "GridView возвращает состояние до редактирования.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-267">In either case, after clicking Update or Cancel the GridView returns to its pre-editing state.</span></span>

<span data-ttu-id="c1e9c-268">С нашей точки зрения разработчика страницы когда конечный пользователь нажимает кнопку «Изменить» для конкретной строки, обратная передача и GridView выполняет следующие действия:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-268">From our perspective as the page developer, when the end user clicks the Edit button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="c1e9c-269">GridView `EditItemIndex` свойство назначено индекс строки, была нажата, кнопка "Изменить"</span><span class="sxs-lookup"><span data-stu-id="c1e9c-269">The GridView's `EditItemIndex` property is assigned to the index of the row whose Edit button was clicked</span></span>
2. <span data-ttu-id="c1e9c-270">GridView повторную привязку к элементу ObjectDataSource, вызвав его `Select()` метод</span><span class="sxs-lookup"><span data-stu-id="c1e9c-270">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>
3. <span data-ttu-id="c1e9c-271">Индекс строки, который соответствует `EditItemIndex` и отображается в «режиме правки».</span><span class="sxs-lookup"><span data-stu-id="c1e9c-271">The row index that matches the `EditItemIndex` is rendered in "edit mode."</span></span> <span data-ttu-id="c1e9c-272">В этом режиме "Изменить" заменяется кнопки "обновления" и "Отмена" и поля BoundField, кроме которого `ReadOnly` свойства имеют значение False (по умолчанию) подготавливаются к просмотру как элементы управления TextBox Web, `Text` которых присвоены значения полей данных.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-272">In this mode, the Edit button is replaced by Update and Cancel buttons and BoundFields whose `ReadOnly` properties are False (the default) are rendered as TextBox Web controls whose `Text` properties are assigned to the data fields' values.</span></span>

<span data-ttu-id="c1e9c-273">В этот момент разметка возвращается обозревателю, позволяя пользователю вносить изменения в данные строки.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-273">At this point the markup is returned to the browser, allowing the end user to make any changes to the row's data.</span></span> <span data-ttu-id="c1e9c-274">Когда пользователь щелкает кнопкой "Обновить", происходит обратная передача и GridView выполняет следующие действия:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-274">When the user clicks the Update button, a postback occurs and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="c1e9c-275">ObjectDataSource `UpdateParameters` значения присваиваются значения, введенные конечным пользователем в интерфейс правки элемента GridView</span><span class="sxs-lookup"><span data-stu-id="c1e9c-275">The ObjectDataSource's `UpdateParameters` value(s) are assigned the values entered by the end user into the GridView's editing interface</span></span>
2. <span data-ttu-id="c1e9c-276">ObjectDataSource `Update()` метод, выполняя обновление указанной записи</span><span class="sxs-lookup"><span data-stu-id="c1e9c-276">The ObjectDataSource's `Update()` method is invoked, updating the specified record</span></span>
3. <span data-ttu-id="c1e9c-277">GridView повторную привязку к элементу ObjectDataSource, вызвав его `Select()` метод</span><span class="sxs-lookup"><span data-stu-id="c1e9c-277">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="c1e9c-278">Значения первичного ключа, назначенные `UpdateParameters` на шаге 1, берутся из значений, указанных в `DataKeyNames` свойство, тогда как вторичного ключа значения берутся из текста в элементы управления TextBox Web для редактируемой строки.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-278">The primary key values assigned to the `UpdateParameters` in Step 1 come from the values specified in the `DataKeyNames` property, whereas the non-primary key values come from the text in the TextBox Web controls for the edited row.</span></span> <span data-ttu-id="c1e9c-279">Как в случае удаления, крайне важно, элемента GridView `DataKeyNames` установлено правильно.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-279">As with deleting, it is vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="c1e9c-280">Если он отсутствует, `UpdateParameters` значение первичного ключа будет назначаться `null` значение на шаге 1, что в свою очередь не приведет любой обновленных записей на шаге 2.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-280">If it's missing, the `UpdateParameters` primary key value will be assigned a `null` value in Step 1, which in turn will not result in any updated records in Step 2.</span></span>

<span data-ttu-id="c1e9c-281">Функциональные возможности редактирования может быть активирован, просто установив флажок Enable Editing в смарт-теге элемента GridView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-281">Editing functionality can be activated by simply checking the Enable Editing checkbox in the GridView's smart tag.</span></span>


![Проверка включения редактирования флажок](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image37.png)

<span data-ttu-id="c1e9c-283">**Рис. 15**: Проверка включения редактирования флажок</span><span class="sxs-lookup"><span data-stu-id="c1e9c-283">**Figure 15**: Check the Enable Editing Checkbox</span></span>


<span data-ttu-id="c1e9c-284">Проверка флажок Enable Editing добавит поле CommandField (при необходимости) и задайте его `ShowEditButton` свойства `true`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-284">Checking the Enable Editing checkbox will add a CommandField (if needed) and set its `ShowEditButton` property to `true`.</span></span> <span data-ttu-id="c1e9c-285">Как было сказано ранее, CommandField содержит ряд `ShowXButton` свойств, которые указывают, какие из набора кнопок изображаются CommandField.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-285">As we saw earlier, the CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="c1e9c-286">Установив флажок Enable Editing добавляет `ShowEditButton` свойства существующих CommandField:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-286">Checking the Enable Editing checkbox adds the `ShowEditButton` property to the existing CommandField:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample6.aspx)]

<span data-ttu-id="c1e9c-287">Это все, что требуется для добавления элементарного редактирования.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-287">That's all there is to adding rudimentary editing support.</span></span> <span data-ttu-id="c1e9c-288">Как показано на рисунке 16, интерфейс редактирования довольно каждого типа BoundField которого `ReadOnly` свойству `false` (по умолчанию) подготавливается к просмотру как элемент TextBox.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-288">As Figure16 shows, the editing interface is rather crude each BoundField whose `ReadOnly` property is set to `false` (the default) is rendered as a TextBox.</span></span> <span data-ttu-id="c1e9c-289">Сюда входят такие поля, как `CategoryID` и `SupplierID`, которые являются ключевыми для других таблиц.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-289">This includes fields like `CategoryID` and `SupplierID`, which are keys to other tables.</span></span>


[![C<span data-ttu-id="c1e9c-290">щелкнув строку в режиме правки отображает кнопку Изменить продукт Chai s]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-290">licking Chai s Edit Button Displays the Row in Edit Mode]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)

<span data-ttu-id="c1e9c-291">**Рис. 16**: Щелкнув Chai s кнопка "Изменить" отображает строку в режиме правки ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-291">**Figure 16**: Clicking Chai s Edit Button Displays the Row in Edit Mode ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span></span>


<span data-ttu-id="c1e9c-292">В дополнение к просить пользователей для непосредственного редактирования значения внешнего ключа, интерфейс редактирования хватает одним из следующих способов:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-292">In addition to asking users to edit foreign key values directly, the editing interface's interface is lacking in the following ways:</span></span>

- <span data-ttu-id="c1e9c-293">Если пользователь введет `CategoryID` или `SupplierID` , не существует в базе данных, `UPDATE` нарушают ограничение внешнего ключа, вызывая исключение создано.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-293">If the user enters a `CategoryID` or `SupplierID` that does not exist in the database, the `UPDATE` will violate a foreign key constraint, causing an exception to be raised.</span></span>
- <span data-ttu-id="c1e9c-294">Интерфейс редактирования отсутствует какой-либо проверки.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-294">The editing interface doesn't include any validation.</span></span> <span data-ttu-id="c1e9c-295">Если не указать требуемое значение (например, `ProductName`), или введите строковое значение, где ожидается числовое значение (например, введя «Слишком много!»</span><span class="sxs-lookup"><span data-stu-id="c1e9c-295">If you don't provide a required value (such as `ProductName`), or enter a string value where a numeric value is expected (such as entering "Too much!"</span></span> <span data-ttu-id="c1e9c-296">в `UnitPrice` текстовое поле), будет вызвано исключение.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-296">into the `UnitPrice` textbox), an exception will be thrown.</span></span> <span data-ttu-id="c1e9c-297">Следующем учебном курсе будет рассмотрено Добавление элементов управления проверки к интерфейсу редактирования.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-297">A future tutorial will examine how to add validation controls to the editing user interface.</span></span>
- <span data-ttu-id="c1e9c-298">В настоящее время *все* полей продукта, которые не только для чтения должны быть включены в GridView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-298">Currently, *all* product fields that are not read-only must be included in the GridView.</span></span> <span data-ttu-id="c1e9c-299">Если сейчас, чтобы удалить поле из GridView, скажем `UnitPrice`, при обновлении данных GridView не устанавливал бы значение `UnitPrice` `UpdateParameters` значение, которое изменит записи базы данных `UnitPrice` для `NULL` значение.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-299">If we were to remove a field from the GridView, say `UnitPrice`, when updating the data the GridView would not set the `UnitPrice` `UpdateParameters` value, which would change the database record's `UnitPrice` to a `NULL` value.</span></span> <span data-ttu-id="c1e9c-300">Аналогичным образом, если требуемое поле, такие как `ProductName`, удаляется из GridView, операция обновления заканчивается аварийно с тем же "*столбце «ProductName» запрещены значения NULL*" исключение, упомянутых выше.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-300">Similarly, if a required field, such as `ProductName`, is removed from the GridView, the update will fail with the same "*Column 'ProductName' does not allow nulls*" exception mentioned above.</span></span>
- <span data-ttu-id="c1e9c-301">Интерфейс редактирования форматирование оставляет желать много лучшего.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-301">The editing interface formatting leaves a lot to be desired.</span></span> <span data-ttu-id="c1e9c-302">`UnitPrice` Показано с четырьмя десятичными.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-302">The `UnitPrice` is shown with four decimal points.</span></span> <span data-ttu-id="c1e9c-303">В идеале `CategoryID` и `SupplierID` должны включать элементов управления DropDownList, список категорий и поставщиков в системе.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-303">Ideally the `CategoryID` and `SupplierID` values would contain DropDownLists that list the categories and suppliers in the system.</span></span>

<span data-ttu-id="c1e9c-304">Всеми этими недостатками, которые нам придется смириться с сейчас, но будет устранена в последующих учебных курсах.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-304">These are all shortcomings that we'll have to live with for now, but will be addressed in future tutorials.</span></span>

## <a name="inserting-editing-and-deleting-data-with-the-detailsview"></a><span data-ttu-id="c1e9c-305">Вставка, редактирование и удаление данных с помощью элемента управления DetailsView</span><span class="sxs-lookup"><span data-stu-id="c1e9c-305">Inserting, Editing, and Deleting Data with the DetailsView</span></span>

<span data-ttu-id="c1e9c-306">Как мы видели в предыдущих учебных курсах, элемент управления DetailsView отображает по одной записи за раз и, например GridView, предоставляет возможность редактирования и удаления отображаемой записи.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-306">As we've seen in earlier tutorials, the DetailsView control displays one record at a time and, like the GridView, allows for editing and deleting of the currently displayed record.</span></span> <span data-ttu-id="c1e9c-307">Оба пользователя опыт редактирования и удаления элементов в элементе управления DetailsView и рабочий процесс на стороне ASP.NET идентичны данным, элемента управления GridView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-307">Both the end user's experience with editing and deleting items from a DetailsView and the workflow from the ASP.NET side is identical to that of the GridView.</span></span> <span data-ttu-id="c1e9c-308">Когда DetailsView отличается от GridView — что он также предоставляет встроенную поддержку вставки.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-308">Where the DetailsView differs from the GridView is that it also provides built-in inserting support.</span></span>

<span data-ttu-id="c1e9c-309">Для демонстрации возможностей изменения данных элемента управления GridView, начните с добавления элемента управления DetailsView для `Basics.aspx` странице над существующей GridView и привяжите его к существующей ObjectDataSource смарт-теге DetailsView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-309">To demonstrate the data modification capabilities of the GridView, start by adding a DetailsView to the `Basics.aspx` page above the existing GridView and bind it to the existing ObjectDataSource through the DetailsView's smart tag.</span></span> <span data-ttu-id="c1e9c-310">Затем очистите DetailsView `Height` и `Width` свойства и установите флажок Enable Paging в смарт-теге.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-310">Next, clear out the DetailsView's `Height` and `Width` properties, and check the Enable Paging option from the smart tag.</span></span> <span data-ttu-id="c1e9c-311">Чтобы включить редактирование, вставка и удаление поддержки, просто установите флажки Разрешить изменение, включение вставки и разрешить удаление смарт-тега.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-311">To enable editing, inserting, and deleting support, simply check the Enable Editing, Enable Inserting, and Enable Deleting checkboxes in the smart tag.</span></span>


![Настройка элемента управления DetailsView для поддержки редактирования, вставки и удаления](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image41.png)

<span data-ttu-id="c1e9c-313">**Рис. 17**: Настройка элемента управления DetailsView для поддержки редактирования, вставки и удаления</span><span class="sxs-lookup"><span data-stu-id="c1e9c-313">**Figure 17**: Configure the DetailsView to Support Editing, Inserting, and Deleting</span></span>


<span data-ttu-id="c1e9c-314">Как с GridView, добавление редактирования, вставки или удаления поддержки добавлено поле добавляет CommandField к элементу управления DetailsView, как показано в следующем декларативный синтаксис:</span><span class="sxs-lookup"><span data-stu-id="c1e9c-314">As with the GridView, adding editing, inserting, or deleting support adds a CommandField to the DetailsView, as the following declarative syntax shows:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample7.aspx)]

<span data-ttu-id="c1e9c-315">Обратите внимание на то, что для элемента DetailsView CommandField отображается в конце коллекции столбцов по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-315">Note that for the DetailsView the CommandField appears at the end of the Columns collection by default.</span></span> <span data-ttu-id="c1e9c-316">Поскольку DetailsView поля отображаются как строки, CommandField отображается как строка с инструкцией Insert, изменять и удалять кнопки в нижней части элемента управления DetailsView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-316">Since the DetailsView's fields are rendered as rows, the CommandField appears as a row with Insert, Edit, and Delete buttons at the bottom of the DetailsView.</span></span>


[![C<span data-ttu-id="c1e9c-317">Настройка элемента управления DetailsView для поддержки редактирования, вставки и удаления]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-317">onfigure the DetailsView to Support Editing, Inserting, and Deleting]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)

<span data-ttu-id="c1e9c-318">**Рис. 18**: Настройка элемента управления DetailsView для поддержки редактирования, вставки и удаления ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-318">**Figure 18**: Configure the DetailsView to Support Editing, Inserting, and Deleting ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span></span>


<span data-ttu-id="c1e9c-319">При нажатии кнопки Delete запускает ту же последовательность событий, как и в случае с GridView: обратная передача, следуют DetailsView, заполнение его ObjectDataSource `DeleteParameters` на основе `DataKeyNames` значений; и завершения с помощью вызова его ObjectDataSource `Delete()` метод, который удаляет продукт из базы данных.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-319">Clicking on the Delete button starts the same sequence of events as with the GridView: a postback; followed by the DetailsView populating its ObjectDataSource's `DeleteParameters` based on the `DataKeyNames` values; and completed with a call its ObjectDataSource's `Delete()` method, which actually removes the product from the database.</span></span> <span data-ttu-id="c1e9c-320">Также редактирования в элементе DetailsView работает таким образом, идентична GridView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-320">Editing in the DetailsView also works in a fashion identical to that of the GridView.</span></span>

<span data-ttu-id="c1e9c-321">Для вставки, конечному пользователю предоставляется New кнопка, при нажатии отображает DetailsView в «режиме вставки».</span><span class="sxs-lookup"><span data-stu-id="c1e9c-321">For inserting, the end user is presented with a New button that, when clicked, renders the DetailsView in "insert mode."</span></span> <span data-ttu-id="c1e9c-322">В «режиме вставки» "Создать" заменяется кнопки вставки "и" Отмена "и" только эти поля BoundField, кроме которого `InsertVisible` свойству `true` (по умолчанию), отображаются.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-322">With "insert mode" the New button is replaced by Insert and Cancel buttons and only those BoundFields whose `InsertVisible` property is set to `true` (the default) are displayed.</span></span> <span data-ttu-id="c1e9c-323">Поля данных определены как поля автоприращения, такие как `ProductID`, имеют свои [свойство InsertVisible](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx) присвоено `false` при привязке к источнику данных через смарт-тег элемента управления DetailsView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-323">Those data fields identified as auto-increment fields, such as `ProductID`, have their [InsertVisible property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx) set to `false` when binding the DetailsView to the data source through the smart tag.</span></span>

<span data-ttu-id="c1e9c-324">При привязке источника данных в элементе управления DetailsView через смарт-тег, Visual Studio задает `InsertVisible` свойства `false` только для полей автоприращения.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-324">When binding a data source to a DetailsView through the smart tag, Visual Studio sets the `InsertVisible` property to `false` only for auto-increment fields.</span></span> <span data-ttu-id="c1e9c-325">Поля, доступные только для чтения, таких как `CategoryName` и `SupplierName`, будет отображаться в пользовательском интерфейсе «режиме вставки», если только их `InsertVisible` явно задано значение `false`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-325">Read-only fields, like `CategoryName` and `SupplierName`, will be displayed in the "insert mode" user interface unless their `InsertVisible` property is explicitly set to `false`.</span></span> <span data-ttu-id="c1e9c-326">Отвлекитесь и задавать эти два поля `InsertVisible` свойства `false`, либо через декларативный синтаксис DetailsView или изменить поля ссылку в смарт-тег.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-326">Take a moment to set these two fields' `InsertVisible` properties to `false`, either through the DetailsView's declarative syntax or through the Edit Fields link in the smart tag.</span></span> <span data-ttu-id="c1e9c-327">Рис. 19 показана установка `InsertVisible` свойства `false` по ссылке на изменить поля.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-327">Figure 19 shows setting the `InsertVisible` properties to `false` by clicking on the Edit Fields link.</span></span>


[![N<span data-ttu-id="c1e9c-328">orthwind теперь предлагает Acme чай]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-328">orthwind Traders Now Offers Acme Tea]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)

<span data-ttu-id="c1e9c-329">**Рис. 19**: Northwind Traders теперь предлагает Acme Tea ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-329">**Figure 19**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span></span>


<span data-ttu-id="c1e9c-330">После задания `InsertVisible` свойства, представление `Basics.aspx` в браузере и нажмите кнопку "Создать".</span><span class="sxs-lookup"><span data-stu-id="c1e9c-330">After setting the `InsertVisible` properties, view the `Basics.aspx` page in a browser and click the New button.</span></span> <span data-ttu-id="c1e9c-331">Рис. 20 показан элемент DetailsView, при добавлении нового напитка, Acme Tea, чтобы Линейка наших продуктов.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-331">Figure 20 shows the DetailsView when adding a new beverage, Acme Tea, to our product line.</span></span>


[![N<span data-ttu-id="c1e9c-332">orthwind теперь предлагает Acme чай]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-332">orthwind Traders Now Offers Acme Tea]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)

<span data-ttu-id="c1e9c-333">**Рис. 20**: Northwind Traders теперь предлагает Acme Tea ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-333">**Figure 20**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span></span>


<span data-ttu-id="c1e9c-334">После ввода сведений о продукте Acme Tea и нажатия кнопки "Вставить", обратная передача и добавляется новая запись `Products` таблицы базы данных.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-334">After entering the details for Acme Tea and clicking the Insert button, a postback ensues and the new record is added to the `Products` database table.</span></span> <span data-ttu-id="c1e9c-335">Так как этот DetailsView перечисляет продукты в порядке, с которой они существуют в таблице базы данных, мы должны перейти к последней странице продукта для просмотра нового продукта.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-335">Since this DetailsView lists the products in order with which they exist in the database table, we must page to the last product in order to see the new product.</span></span>


[![D<span data-ttu-id="c1e9c-336">Подробности о продукте Acme Tea]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-336">etails for Acme Tea]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)

<span data-ttu-id="c1e9c-337">**Рис. 21**: Подробные сведения о продукте Acme Tea ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-337">**Figure 21**: Details for Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span></span>


> [!NOTE]
> <span data-ttu-id="c1e9c-338">DetailsView [свойство CurrentMode](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) указывает отображение интерфейс и может принимать одно из следующих значений: `Edit`, `Insert`, или `ReadOnly`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-338">The DetailsView's [CurrentMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) indicates the interface being displayed and can be one of the following values: `Edit`, `Insert`, or `ReadOnly`.</span></span> <span data-ttu-id="c1e9c-339">[Свойства DefaultMode](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) указывает режим элемента управления DetailsView возврата после правки или вставки завершен и может использоваться для отображения элемент DetailsView, окончательно редактирования или вставки в режиме вставки.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-339">The [DefaultMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) indicates the mode the DetailsView returns to after an edit or insert has been completed and is useful for displaying a DetailsView that is permanently in edit or insert mode.</span></span>


<span data-ttu-id="c1e9c-340">Выберите команды и вставляете или изменяете возможности DetailsView страдал те же ограничения, что GridView: пользователь должен ввести существующие `CategoryID` и `SupplierID` значения в текстовом поле; в интерфейсе отсутствует логики проверки; все поля продукта, которые не допускают `NULL` значения или не иметь значение по умолчанию значение, указанное на уровне базы данных должны быть включены в интерфейс вставки и т. д.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-340">The point and click inserting and editing capabilities of the DetailsView suffer from the same limitations as the GridView: the user must enter existing `CategoryID` and `SupplierID` values through a textbox; the interface lacks any validation logic; all product fields that do not allow `NULL` values or don't have a default value specified at the database level must be included in the inserting interface, and so on.</span></span>

<span data-ttu-id="c1e9c-341">Методы будут рассмотрены для расширения и улучшение GridView интерфейс правки в будущих статьях, которые могут применяться для элемента управления DetailsView интерфейсы правки и вставки также.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-341">The techniques we will examine for extending and enhancing the GridView's editing interface in future articles can be applied to the DetailsView control's editing and inserting interfaces as well.</span></span>

## <a name="using-the-formview-for-a-more-flexible-data-modification-user-interface"></a><span data-ttu-id="c1e9c-342">Использование FormView для более гибкий интерфейс пользователя изменения данных</span><span class="sxs-lookup"><span data-stu-id="c1e9c-342">Using the FormView for a More Flexible Data Modification User Interface</span></span>

<span data-ttu-id="c1e9c-343">FormView предлагает встроенную поддержку для редактирования, вставки и удаления данных, но он использует шаблоны вместо полей есть отсутствует место для добавления полей BoundFields или CommandField, используемые элементами управления GridView и DetailsView для предоставления данных интерфейс изменения.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-343">The FormView offers built-in support for inserting, editing, and deleting data, but because it uses templates instead of fields there's no place to add the BoundFields or the CommandField used by the GridView and DetailsView controls to provide the data modification interface.</span></span> <span data-ttu-id="c1e9c-344">Вместо этого этот интерфейс веб-элементы управления для сбора пользователя входных данных при добавлении нового элемента или редактировании существующего, а также создать, изменить, удалить, вставки, обновления и кнопок отмены необходимо вручную добавить к соответствующим шаблонам.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-344">Instead, this interface the Web controls for collecting user input when adding a new item or editing an existing one along with the New, Edit, Delete, Insert, Update, and Cancel buttons must be added manually to the appropriate templates.</span></span> <span data-ttu-id="c1e9c-345">К счастью Visual Studio автоматически создает необходимые элементы интерфейса при привязке FormView к источнику данных с помощью раскрывающегося списка в смарт-тег.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-345">Fortunately, Visual Studio will automatically create the needed interface when binding the FormView to a data source through the drop-down list in its smart tag.</span></span>

<span data-ttu-id="c1e9c-346">Чтобы продемонстрировать данные методы, сначала добавьте элемент управления FormView для `Basics.aspx` странице и из смарт-тега FormView, привязать его к элементу ObjectDataSource, который уже создан.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-346">To illustrate these techniques, start by adding a FormView to the `Basics.aspx` page and, from the FormView's smart tag, bind it to the ObjectDataSource already created.</span></span> <span data-ttu-id="c1e9c-347">При этом будут созданы `EditItemTemplate`, `InsertItemTemplate`, и `ItemTemplate` для FormView TextBox веб-элементами управления для сбора входных данных пользователя и кнопку веб-элементы управления для создания, изменение, удаление, вставки, обновления и кнопки отмены.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-347">This will generate an `EditItemTemplate`, `InsertItemTemplate`, and `ItemTemplate` for the FormView with TextBox Web controls for collecting the user's input and Button Web controls for the New, Edit, Delete, Insert, Update, and Cancel buttons.</span></span> <span data-ttu-id="c1e9c-348">Кроме того, FormView `DataKeyNames` свойству поле первичного ключа (`ProductID`) объектов, возвращаемых элементом ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-348">Additionally, the FormView's `DataKeyNames` property is set to the primary key field (`ProductID`) of the object returned by the ObjectDataSource.</span></span> <span data-ttu-id="c1e9c-349">Наконец установите флажок Enable Paging в смарт-тега FormView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-349">Lastly, check the Enable Paging option in the FormView's smart tag.</span></span>

<span data-ttu-id="c1e9c-350">Ниже приведена декларативная разметка для элемента FormView `ItemTemplate` после привязки FormView к ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-350">The following shows the declarative markup for the FormView's `ItemTemplate` after the FormView has been bound to the ObjectDataSource.</span></span> <span data-ttu-id="c1e9c-351">По умолчанию для всех полей нелогических значений продукта привязан к `Text` свойства элемента управления Label Web при всех полей логических значений (`Discontinued`) привязывается к `Checked` свойство как отключенный элемент управления CheckBox Web.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-351">By default, each non-Boolean value product field is bound to the `Text` property of a Label Web control while each Boolean value field (`Discontinued`) is bound to the `Checked` property of a disabled CheckBox Web control.</span></span> <span data-ttu-id="c1e9c-352">Чтобы активировать определенное поведение FormView при нажатии кнопки New, Edit и Delete, крайне важно, их `CommandName` быть заданы значения для `New`, `Edit`, и `Delete`, соответственно.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-352">In order for the New, Edit, and Delete buttons to trigger certain FormView behavior when clicked, it is imperative that their `CommandName` values be set to `New`, `Edit`, and `Delete`, respectively.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample8.aspx)]

<span data-ttu-id="c1e9c-353">Рис. 22 показан FormView `ItemTemplate` при просмотре через браузер.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-353">Figure 22 shows the FormView's `ItemTemplate` when viewed through a browser.</span></span> <span data-ttu-id="c1e9c-354">Все поля продуктов отображается с кнопками New, Edit и Delete в нижней.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-354">Each product field is listed with the New, Edit, and Delete buttons at the bottom.</span></span>


[![T<span data-ttu-id="c1e9c-355">он по умолчанию ItemTemplate FormView указаны все поля продуктов вместе с New, Edit и кнопки удаления]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-355">he Defaut FormView ItemTemplate Lists Each Product Field Along with New, Edit, and Delete Buttons]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)

<span data-ttu-id="c1e9c-356">**Рис. 22**: По умолчанию FormView `ItemTemplate` перечислены Each продукта поля вместе с New, Edit и удалять кнопки ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-356">**Figure 22**: The Defaut FormView `ItemTemplate` Lists Each Product Field Along with New, Edit, and Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span></span>


<span data-ttu-id="c1e9c-357">Как с помощью GridView и DetailsView, нажав кнопку «Удалить» или любой кнопки, LinkButton или ImageButton которого `CommandName` свойство имеет значение Delete вызывает обратную передачу, заполняет ObjectDataSource `DeleteParameters` основании FormView `DataKeyNames`значение и вызывает ObjectDataSource `Delete()` метод.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-357">Like with the GridView and DetailsView, clicking the Delete button or any Button, LinkButton, or ImageButton whose `CommandName` property is set to Delete causes a postback, populates the ObjectDataSource's `DeleteParameters` based on the FormView's `DataKeyNames` value, and invokes the ObjectDataSource's `Delete()` method.</span></span>

<span data-ttu-id="c1e9c-358">При нажатии кнопки Edit обратная передача и привязываются к `EditItemTemplate`, который отвечает за отображение интерфейса редактирования.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-358">When the Edit button is clicked a postback ensues and the data is rebound to the `EditItemTemplate`, which is responsible for rendering the editing interface.</span></span> <span data-ttu-id="c1e9c-359">Этот интерфейс включает веб-элементы управления для редактирования данных, а также кнопки обновления и отмены.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-359">This interface includes the Web controls for editing data along with the Update and Cancel buttons.</span></span> <span data-ttu-id="c1e9c-360">Значение по умолчанию `EditItemTemplate` созданные Visual Studio содержит метку для всех полей автоприращения (`ProductID`), текстового поля для всех полей нелогических значений и флажок для всех полей логических значений.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-360">The default `EditItemTemplate` generated by Visual Studio contains a Label for any auto-increment fields (`ProductID`), a TextBox for each non-Boolean value field, and a CheckBox for each Boolean value field.</span></span> <span data-ttu-id="c1e9c-361">Это очень похоже на автоматически сгенерированные поля BoundFields в элементах управления GridView и DetailsView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-361">This behavior is very similar to the auto-generated BoundFields in the GridView and DetailsView controls.</span></span>

> [!NOTE]
> <span data-ttu-id="c1e9c-362">Одной небольшой проблемой FormView автоматическое создание `EditItemTemplate` является обработки TextBox Web для полей, которые доступны только для чтения, таких как `CategoryName` и `SupplierName`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-362">One small issue with the FormView's auto-generation of the `EditItemTemplate` is that it renders TextBox Web controls for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="c1e9c-363">Мы рассмотрим это учесть чуть ниже.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-363">We'll see how to account for this shortly.</span></span>


<span data-ttu-id="c1e9c-364">Элементы управления TextBox в `EditItemTemplate` имеют свои `Text` , привязанное к значению, их соответствующие поля данных при помощи *двусторонней привязки данных*.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-364">The TextBox controls in the `EditItemTemplate` have their `Text` property bound to the value of their corresponding data field using *two-way databinding*.</span></span> <span data-ttu-id="c1e9c-365">Двусторонняя привязка к данным, обозначенное с помощью `<%# Bind("dataField") %>`, выполняет привязку данных обоих во время привязки данных к шаблону и заполнении параметров ObjectDataSource для вставки и редактирования записей.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-365">Two-way databinding, denoted by `<%# Bind("dataField") %>`, performs databinding both when binding data to the template and when populating the ObjectDataSource's parameters for inserting or editing records.</span></span> <span data-ttu-id="c1e9c-366">То есть в том случае, когда пользователь нажимает кнопку редактирования из `ItemTemplate`, `Bind()` метод возвращает значение указанного поля.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-366">That is, when the user clicks the Edit button from the `ItemTemplate`, the `Bind()` method returns the specified data field value.</span></span> <span data-ttu-id="c1e9c-367">После того как пользователь производит свои изменения и последнее обновление, отправленные обратно значения, соответствующие полям данных, заданные с помощью `Bind()` применяются к элементу ObjectDataSource `UpdateParameters`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-367">After the user makes their changes and clicks Update, the values posted back that correspond to the data fields specified using `Bind()` are applied to the ObjectDataSource's `UpdateParameters`.</span></span> <span data-ttu-id="c1e9c-368">Кроме того, односторонней привязки данных, обозначенное с помощью `<%# Eval("dataField") %>`, только извлекает значения полей данных при привязке данных к шаблону и выполняет *не* возврата значений, введенных пользователем в параметры источника данных при обратной передаче.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-368">Alternatively, one-way databinding, denoted by `<%# Eval("dataField") %>`, only retrieves the data field values when binding data to the template and does *not* return the user-entered values to the data source's parameters on postback.</span></span>

<span data-ttu-id="c1e9c-369">В следующей декларативной разметке показан FormView `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-369">The following declarative markup shows the FormView's `EditItemTemplate`.</span></span> <span data-ttu-id="c1e9c-370">Обратите внимание, что `Bind()` метод используется в синтаксис привязки данных и элементы управления, обновление и Отмена Web кнопку иметь их `CommandName` свойства, установите соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-370">Note that the `Bind()` method is used in the databinding syntax here and that the Update and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample9.aspx)]

<span data-ttu-id="c1e9c-371">Наши `EditItemTemplate`, это выберите, будут вызывать исключение, если предпринимается попытка использовать его.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-371">Our `EditItemTemplate`, at this point, will cause an exception to be thrown if we attempt to use it.</span></span> <span data-ttu-id="c1e9c-372">Проблема в том, что `CategoryName` и `SupplierName` поля подготавливаются к просмотру как элементы управления TextBox Web в `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-372">The problem is that the `CategoryName` and `SupplierName` fields are rendered as TextBox Web controls in the `EditItemTemplate`.</span></span> <span data-ttu-id="c1e9c-373">Необходимо либо изменить эти текстовые поля в метки или полностью удалить их.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-373">We either need to change these TextBoxes to Labels or remove them altogether.</span></span> <span data-ttu-id="c1e9c-374">Давайте просто удалить их из `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-374">Let's simply delete them entirely from the `EditItemTemplate`.</span></span>

<span data-ttu-id="c1e9c-375">Рис. 23 показан элемент FormView в обозревателе после нажатия "Изменить" для продукта Chai.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-375">Figure 23 shows the FormView in a browser after the Edit button has been clicked for Chai.</span></span> <span data-ttu-id="c1e9c-376">Обратите внимание, что `SupplierName` и `CategoryName` поля, показанные на `ItemTemplate` , больше нет, так как мы только что были удалены из `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-376">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them from the `EditItemTemplate`.</span></span> <span data-ttu-id="c1e9c-377">При нажатии кнопки обновления FormView последовательно выполняет все же последовательность действий, как элементы управления GridView и DetailsView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-377">When the Update button is clicked the FormView proceeds through the same sequence of steps as the GridView and DetailsView controls.</span></span>


[![B<span data-ttu-id="c1e9c-378">по умолчанию y EditItemTemplate показывает все редактируемые поля продуктов как TextBox и CheckBox]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-378">y Default the EditItemTemplate Shows Each Editable Product Field as a TextBox or CheckBox]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)

<span data-ttu-id="c1e9c-379">**Рис. 23**: По умолчанию `EditItemTemplate` показывает Each редактируемой продукта поле как TextBox и CheckBox ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-379">**Figure 23**: By Default the `EditItemTemplate` Shows Each Editable Product Field as a TextBox or CheckBox ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span></span>


<span data-ttu-id="c1e9c-380">При нажатии кнопки вставки FormView `ItemTemplate` обратная.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-380">When the Insert button is clicked the FormView's `ItemTemplate` a postback ensues.</span></span> <span data-ttu-id="c1e9c-381">Тем не менее данные не привязан к FormView, так как добавляется новая запись.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-381">However, no data is bound to the FormView because a new record is being added.</span></span> <span data-ttu-id="c1e9c-382">`InsertItemTemplate` Интерфейс включает веб-элементы управления для добавления новой записи, а также кнопки вставки и "Отмена".</span><span class="sxs-lookup"><span data-stu-id="c1e9c-382">The `InsertItemTemplate` interface includes the Web controls for adding a new record along with the Insert and Cancel buttons.</span></span> <span data-ttu-id="c1e9c-383">Значение по умолчанию `InsertItemTemplate` созданные Visual Studio содержит текстовое поле для всех полей нелогических значений и флажок для всех полей логических значений, аналогичную автоматически созданные `EditItemTemplate`элемента интерфейса.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-383">The default `InsertItemTemplate` generated by Visual Studio contains a TextBox for each non-Boolean value field and a CheckBox for each Boolean value field, similar to the auto-generated `EditItemTemplate`'s interface.</span></span> <span data-ttu-id="c1e9c-384">Эти элементы управления TextBox их `Text` , привязанное к значению соответствующего поля данных с помощью двусторонней привязки данных.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-384">The TextBox controls have their `Text` property bound to the value of their corresponding data field using two-way databinding.</span></span>

<span data-ttu-id="c1e9c-385">В следующей декларативной разметке показан FormView `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-385">The following declarative markup shows the FormView's `InsertItemTemplate`.</span></span> <span data-ttu-id="c1e9c-386">Обратите внимание, что `Bind()` метод используется в синтаксис привязки данных и элементы управления Insert и Отмена Web кнопки имеют свои `CommandName` свойства, установите соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-386">Note that the `Bind()` method is used in the databinding syntax here and that the Insert and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample10.aspx)]

<span data-ttu-id="c1e9c-387">Имеется один важный нюанс с FormView автоматическое создание `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-387">There's a subtlety with the FormView's auto-generation of the `InsertItemTemplate`.</span></span> <span data-ttu-id="c1e9c-388">В частности, элементы управления TextBox Web создаются даже для полей, доступных только для чтения, таких как `CategoryName` и `SupplierName`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-388">Specifically, the TextBox Web controls are created even for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="c1e9c-389">Как с помощью `EditItemTemplate`, нам необходимо удалить эти текстовые поля из `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-389">Like with the `EditItemTemplate`, we need to remove these TextBoxes from the `InsertItemTemplate`.</span></span>

<span data-ttu-id="c1e9c-390">Рис. 24 показан элемент FormView в браузере, при добавлении нового продукта, Acme Coffee.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-390">Figure 24 shows the FormView in a browser when adding a new product, Acme Coffee.</span></span> <span data-ttu-id="c1e9c-391">Обратите внимание, что `SupplierName` и `CategoryName` поля, показанные на `ItemTemplate` , больше нет, так как мы только что были удалены.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-391">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them.</span></span> <span data-ttu-id="c1e9c-392">При нажатии кнопки "Вставить" выручка FormView ту же последовательность шагов в элементе управления DetailsView, добавив новую запись для `Products` таблицы.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-392">When the Insert button is clicked the FormView proceeds through the same sequence of steps as the DetailsView control, adding a new record to the `Products` table.</span></span> <span data-ttu-id="c1e9c-393">Рис. 25 показаны сведения о продукте Acme Coffee в FormView, после его вставки.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-393">Figure 25 shows Acme Coffee product's details in the FormView after it has been inserted.</span></span>


[![T<span data-ttu-id="c1e9c-394">он InsertItemTemplate определяет интерфейс вставки FormView]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-394">he InsertItemTemplate Dictates the FormView's Inserting Interface]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)

<span data-ttu-id="c1e9c-395">**Рис. 24**: `InsertItemTemplate` Определяет интерфейс вставки FormView ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-395">**Figure 24**: The `InsertItemTemplate` Dictates the FormView's Inserting Interface ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span></span>


[![T<span data-ttu-id="c1e9c-396">он подробные сведения о новом продукте, Acme Coffee, отображаются в элеменет FormView]</span><span class="sxs-lookup"><span data-stu-id="c1e9c-396">he Details for New Product, Acme Coffee, are Displayed in the FormView]</span></span>(an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)

<span data-ttu-id="c1e9c-397">**Рис. 25**: Подробные сведения о новом продукте, Acme Coffee, отображаются в элеменет FormView ([Просмотр полноразмерного изображения](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span><span class="sxs-lookup"><span data-stu-id="c1e9c-397">**Figure 25**: The Details for New Product, Acme Coffee, are Displayed in the FormView ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span></span>


<span data-ttu-id="c1e9c-398">Интерфейсы правки и вставки на три различные шаблона, выделяя только для чтения, FormView позволяет точнее контролировать эти интерфейсы, чем DetailsView и GridView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-398">By separating out the read-only, editing, and inserting interfaces into three separate templates, the FormView allows for a finer degree of control over these interfaces than the DetailsView and GridView.</span></span>

> [!NOTE]
> <span data-ttu-id="c1e9c-399">DetailsView, FormView, такие как `CurrentMode` свойство указывает отображение интерфейса и его `DefaultMode` свойство указывает режим FormView возврат после изменения или завершения вставки.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-399">Like the DetailsView, the FormView's `CurrentMode` property indicates the interface being displayed and its `DefaultMode` property indicates the mode the FormView returns to after an edit or insert has been completed.</span></span>


## <a name="summary"></a><span data-ttu-id="c1e9c-400">Сводка</span><span class="sxs-lookup"><span data-stu-id="c1e9c-400">Summary</span></span>

<span data-ttu-id="c1e9c-401">В этом учебнике мы рассмотрели основные принципы Вставка, редактирование и удаление данных с помощью GridView, DetailsView и FormView.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-401">In this tutorial we examined the basics of inserting, editing, and deleting data using the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="c1e9c-402">Все эти три элемента управления предоставляют некоторый уровень возможностей изменения данных, которые могут использоваться без написания кода на странице ASP.NET благодаря веб-элементы управления данными и элемент управления ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-402">All three of these controls provide some level of built-in data modification capabilities that can be utilized without writing a single line of code in the ASP.NET page thanks to the data Web controls and the ObjectDataSource.</span></span> <span data-ttu-id="c1e9c-403">Тем не менее простой точки и нажмите кнопку методы отрисовки довольно frail и упрощенный данных изменения пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-403">However, the simple point and click techniques render a fairly frail and naïve data modification user interface.</span></span> <span data-ttu-id="c1e9c-404">Для выполнения проверки, добавления программных значений, корректно обрабатывать исключения, настройки пользовательского интерфейса и т. д., нам нужно будет использовать множество методов, которые будут рассмотрены нескольких следующих учебных курсах.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-404">To provide validation, inject programmatic values, gracefully handle exceptions, customize the user interface, and so on, we'll need to rely on a bevy of techniques that will be discussed over the next several tutorials.</span></span>

<span data-ttu-id="c1e9c-405">Счастливого вам программирования!</span><span class="sxs-lookup"><span data-stu-id="c1e9c-405">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="c1e9c-406">Об авторе</span><span class="sxs-lookup"><span data-stu-id="c1e9c-406">About the Author</span></span>

<span data-ttu-id="c1e9c-407">[Скотт Митчелл](http://www.4guysfromrolla.com/ScottMitchell.shtml), автор семи книг по ASP/ASP.NET и основатель веб- [4GuysFromRolla.com](http://www.4guysfromrolla.com), работает с веб-технологиями Microsoft с 1998 года.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-407">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="c1e9c-408">Скотт — независимый консультант, преподаватель и автор.</span><span class="sxs-lookup"><span data-stu-id="c1e9c-408">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="c1e9c-409">Его последняя книга — [ *Sams Teach ASP.NET 2.0 in 24 часа*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="c1e9c-409">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="c1e9c-410">Ним можно связаться по адресу [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="c1e9c-410">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="c1e9c-411">или через его блог, который можно найти в [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="c1e9c-411">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="c1e9c-412">Далее</span><span class="sxs-lookup"><span data-stu-id="c1e9c-412">Next</span></span>](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)
