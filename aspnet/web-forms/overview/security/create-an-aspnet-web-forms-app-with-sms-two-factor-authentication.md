---
uid: web-forms/overview/security/create-an-aspnet-web-forms-app-with-sms-two-factor-authentication
title: Создание приложения ASP.NET Web Forms с помощью двусторонней проверки подлинности SMS (C#) | Документация Майкрософт
author: Erikre
description: В этом руководстве показано, как создать приложение веб-форм ASP.NET с двухфакторной проверкой подлинности. Этот учебник был разработан для дополнения учебника с названием CR...
ms.author: riande
ms.date: 10/09/2014
ms.assetid: 716264ae-ab72-45de-bfc5-53a6237089cf
msc.legacyurl: /web-forms/overview/security/create-an-aspnet-web-forms-app-with-sms-two-factor-authentication
msc.type: authoredcontent
ms.openlocfilehash: c9558aca8a655071c0c94ed66433cf721f26c011
ms.sourcegitcommit: 7709c0a091b8d55b7b33bad8849f7b66b23c3d72
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "77466419"
---
# <a name="create-an-aspnet-web-forms-app-with-sms-two-factor-authentication-c"></a><span data-ttu-id="5fdab-104">Создание приложения веб-форм ASP.NET с двухфакторной проверкой подлинности по SMS (C#)</span><span class="sxs-lookup"><span data-stu-id="5fdab-104">Create an ASP.NET Web Forms app with SMS Two-Factor Authentication (C#)</span></span>

<span data-ttu-id="5fdab-105">по [Эрик Реитан](https://github.com/Erikre)</span><span class="sxs-lookup"><span data-stu-id="5fdab-105">by [Erik Reitan](https://github.com/Erikre)</span></span>

[<span data-ttu-id="5fdab-106">Скачивание приложения веб-форм ASP.NET с помощью электронной почты и двухфакторной проверки подлинности SMS</span><span class="sxs-lookup"><span data-stu-id="5fdab-106">Download ASP.NET Web Forms App with Email and SMS Two-Factor Authentication</span></span>](https://code.msdn.microsoft.com/ASPNET-Web-Forms-App-with-5a0ff94e)

> <span data-ttu-id="5fdab-107">В этом руководстве показано, как создать приложение веб-форм ASP.NET с двухфакторной проверкой подлинности.</span><span class="sxs-lookup"><span data-stu-id="5fdab-107">This tutorial shows you how to build an ASP.NET Web Forms app with Two-Factor Authentication.</span></span> <span data-ttu-id="5fdab-108">Этот учебник был разработан для дополнения учебника с названием [Создание безопасного приложения веб-форм ASP.NET с регистрацией пользователей, подтверждением электронной почты и сбросом пароля](create-a-secure-aspnet-web-forms-app-with-user-registration-email-confirmation-and-password-reset.md).</span><span class="sxs-lookup"><span data-stu-id="5fdab-108">This tutorial was designed to complement the tutorial titled [Create a secure ASP.NET Web Forms app with user registration, email confirmation and password reset](create-a-secure-aspnet-web-forms-app-with-user-registration-email-confirmation-and-password-reset.md).</span></span> <span data-ttu-id="5fdab-109">Кроме того, это руководство основано на [руководстве по MVC](../../../mvc/overview/security/aspnet-mvc-5-app-with-sms-and-email-two-factor-authentication.md)Рик Андерсон (.</span><span class="sxs-lookup"><span data-stu-id="5fdab-109">In addition, this tutorial was based on Rick Anderson's [MVC tutorial](../../../mvc/overview/security/aspnet-mvc-5-app-with-sms-and-email-two-factor-authentication.md).</span></span>

## <a name="introduction"></a><span data-ttu-id="5fdab-110">Введение</span><span class="sxs-lookup"><span data-stu-id="5fdab-110">Introduction</span></span>

<span data-ttu-id="5fdab-111">В этом учебнике рассматриваются шаги, необходимые для создания приложения ASP.NET Web Forms, поддерживающего двухфакторную проверку подлинности с помощью Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5fdab-111">This tutorial guides you through the steps required to create an ASP.NET Web Forms application that supports Two-Factor Authentication using Visual Studio.</span></span> <span data-ttu-id="5fdab-112">Двухфакторная проверка подлинности — это дополнительный этап аутентификации пользователя.</span><span class="sxs-lookup"><span data-stu-id="5fdab-112">Two-Factor Authentication is an extra user authentication step.</span></span> <span data-ttu-id="5fdab-113">Этот дополнительный шаг создает уникальный персональный идентификационный номер (ПИН-код) во время входа.</span><span class="sxs-lookup"><span data-stu-id="5fdab-113">This extra step generates a unique personal identification number (PIN) during sign-in.</span></span> <span data-ttu-id="5fdab-114">ПИН-код обычно отправляется пользователю как сообщение электронной почты или SMS.</span><span class="sxs-lookup"><span data-stu-id="5fdab-114">The PIN is commonly sent to the user as an email or SMS message.</span></span> <span data-ttu-id="5fdab-115">Пользователь приложения затем вводит ПИН-код в качестве дополнительной меры проверки подлинности при входе.</span><span class="sxs-lookup"><span data-stu-id="5fdab-115">The user of your app then enters the PIN as an extra authentication measure when signing-in.</span></span>

### <a name="tutorial-tasks-and-information"></a><span data-ttu-id="5fdab-116">Задачи и сведения в учебнике:</span><span class="sxs-lookup"><span data-stu-id="5fdab-116">Tutorial Tasks and Information:</span></span>

- [<span data-ttu-id="5fdab-117">Создание приложения веб-форм ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5fdab-117">Create an ASP.NET Web Forms App</span></span>](#createWebForms)
- [<span data-ttu-id="5fdab-118">Настройка SMS и двухфакторной проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="5fdab-118">Setup SMS and Two-Factor Authentication</span></span>](#SMS)
- [<span data-ttu-id="5fdab-119">Включить двухфакторную проверку подлинности для зарегистрированного пользователя</span><span class="sxs-lookup"><span data-stu-id="5fdab-119">Enable Two-Factor Authentication for Registered User</span></span>](#use2FA)
- [<span data-ttu-id="5fdab-120">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="5fdab-120">Additional Resources</span></span>](#addRes)

<a id="createWebForms"></a>
## <a name="create-an-aspnet-web-forms-app"></a><span data-ttu-id="5fdab-121">Создание приложения веб-форм ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5fdab-121">Create an ASP.NET Web Forms App</span></span>

<span data-ttu-id="5fdab-122">Начните с установки и запуска [Visual Studio Express 2013 для Web](https://go.microsoft.com/fwlink/?LinkId=299058) или [Visual Studio 2013](https://go.microsoft.com/fwlink/?LinkId=306566).</span><span class="sxs-lookup"><span data-stu-id="5fdab-122">Start by installing and running [Visual Studio Express 2013 for Web](https://go.microsoft.com/fwlink/?LinkId=299058) or [Visual Studio 2013](https://go.microsoft.com/fwlink/?LinkId=306566).</span></span> <span data-ttu-id="5fdab-123">Установите [Visual Studio 2013 обновление 3](https://go.microsoft.com/fwlink/?LinkId=390465) или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="5fdab-123">Install [Visual Studio 2013 Update 3](https://go.microsoft.com/fwlink/?LinkId=390465) or higher as well.</span></span> <span data-ttu-id="5fdab-124">Кроме того, необходимо создать учетную запись [Twilio](https://www.twilio.com/try-twilio) , как описано ниже.</span><span class="sxs-lookup"><span data-stu-id="5fdab-124">Also, you will need to create a [Twilio](https://www.twilio.com/try-twilio) account, as explained below.</span></span>

> [!NOTE]
> <span data-ttu-id="5fdab-125">Важно. для работы с этим руководством необходимо установить [Visual Studio 2013 обновление 3](https://go.microsoft.com/fwlink/?LinkId=390465) или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="5fdab-125">Important: You must install [Visual Studio 2013 Update 3](https://go.microsoft.com/fwlink/?LinkId=390465) or higher to complete this tutorial.</span></span>

1. <span data-ttu-id="5fdab-126">Создайте новый проект (**файл** -&gt; **Новый проект**) и выберите шаблон **веб-приложение ASP.NET** вместе с .NET Framework версией 4.5.2 в диалоговом окне **Новый проект** .</span><span class="sxs-lookup"><span data-stu-id="5fdab-126">Create a new project (**File** -&gt; **New Project**) and select the **ASP.NET Web Application** template along with the .NET Framework version 4.5.2 from the **New Project** dialog box.</span></span>
2. <span data-ttu-id="5fdab-127">В диалоговом окне **Новый проект ASP.NET** выберите шаблон **веб-формы** .</span><span class="sxs-lookup"><span data-stu-id="5fdab-127">From the **New ASP.NET Project** dialog box, select the **Web Forms** template.</span></span> <span data-ttu-id="5fdab-128">Оставьте проверку подлинности по умолчанию как **учетные записи отдельных пользователей**.</span><span class="sxs-lookup"><span data-stu-id="5fdab-128">Leave the default authentication as **Individual User Accounts**.</span></span> <span data-ttu-id="5fdab-129">Затем нажмите кнопку **ОК** , чтобы создать новый проект.</span><span class="sxs-lookup"><span data-stu-id="5fdab-129">Then, click **OK** to create the new project.</span></span>  
    <span data-ttu-id="5fdab-130">![Диалоговое окно "Новый проект ASP.NET"](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="5fdab-130">![New ASP.NET Project dialog box](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image1.png)</span></span>
3. <span data-ttu-id="5fdab-131">Включите SSL (SSL) для проекта.</span><span class="sxs-lookup"><span data-stu-id="5fdab-131">Enable Secure Sockets Layer (SSL) for the project.</span></span> <span data-ttu-id="5fdab-132">Выполните действия, описанные в разделе **Включение SSL для проекта** статьи [учебник начало работы with Web Forms](../getting-started/getting-started-with-aspnet-45-web-forms/checkout-and-payment-with-paypal.md#SSLWebForms).</span><span class="sxs-lookup"><span data-stu-id="5fdab-132">Follow the steps available in the **Enable SSL for the Project** section of the [Getting Started with Web Forms tutorial series](../getting-started/getting-started-with-aspnet-45-web-forms/checkout-and-payment-with-paypal.md#SSLWebForms).</span></span>
4. <span data-ttu-id="5fdab-133">В Visual Studio откройте **консоль диспетчера пакетов** (**средства** -&gt; диспетчер **пакетов NuGet** -&gt; **консоли диспетчера пакетов**) и введите следующую команду:</span><span class="sxs-lookup"><span data-stu-id="5fdab-133">In Visual Studio, open the **Package Manager Console** (**Tools** -&gt; **NuGet Package Manger** -&gt; **Package Manager Console**), and enter the following command:</span></span>  
    `Install-Package Twilio`

<a id="SMS"></a>
## <a name="setup-sms-and-two-factor-authentication"></a><span data-ttu-id="5fdab-134">Настройка SMS и двухфакторной проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="5fdab-134">Setup SMS and Two-Factor Authentication</span></span>

<span data-ttu-id="5fdab-135">В этом руководстве используется Twilio, но можно использовать любой поставщик SMS.</span><span class="sxs-lookup"><span data-stu-id="5fdab-135">This tutorial uses Twilio, but you can use any SMS provider.</span></span>

1. <span data-ttu-id="5fdab-136">Создайте учетную запись [Twilio](https://www.twilio.com/try-twilio) .</span><span class="sxs-lookup"><span data-stu-id="5fdab-136">Create a [Twilio](https://www.twilio.com/try-twilio) account.</span></span>
2. <span data-ttu-id="5fdab-137">На вкладке **панель мониторинга** учетной записи TWILIO скопируйте **SID учетной записи** и **токен проверки подлинности.**</span><span class="sxs-lookup"><span data-stu-id="5fdab-137">From the **Dashboard** tab of your Twilio account, copy the **Account SID** and **Auth Token.**</span></span> <span data-ttu-id="5fdab-138">Они будут добавлены в приложение позже.</span><span class="sxs-lookup"><span data-stu-id="5fdab-138">You will add them to your app later.</span></span>
3. <span data-ttu-id="5fdab-139">На вкладке **числа** скопируйте **номер телефона** Twilio.</span><span class="sxs-lookup"><span data-stu-id="5fdab-139">From the **Numbers** tab, copy your Twilio **phone number** as well.</span></span>
4. <span data-ttu-id="5fdab-140">Сделайте **идентификатор безопасности учетной записи**Twilio, **токен проверки подлинности** и **номер телефона** доступными для приложения.</span><span class="sxs-lookup"><span data-stu-id="5fdab-140">Make the Twilio **Account SID**, **Auth Token** and **phone number** available to the app.</span></span> <span data-ttu-id="5fdab-141">Чтобы не усложнять, эти значения будут храниться в файле *Web. config* .</span><span class="sxs-lookup"><span data-stu-id="5fdab-141">To keep things simple you will store these values in the *web.config* file.</span></span> <span data-ttu-id="5fdab-142">При развертывании в Azure значения можно безопасно хранить в разделе **appSettings** на вкладке веб-сайт Настройка. Кроме того, при добавлении номера телефона используются только цифры.</span><span class="sxs-lookup"><span data-stu-id="5fdab-142">When you deploy to Azure, you can store the values securely in the **appSettings** section on the web site configure tab. Also, when adding the phone number, only use numbers.</span></span>   
   <span data-ttu-id="5fdab-143">Обратите внимание, что можно также добавить учетные данные SendGrid.</span><span class="sxs-lookup"><span data-stu-id="5fdab-143">Notice that you can also add SendGrid credentials.</span></span> <span data-ttu-id="5fdab-144">SendGrid — это служба уведомлений по электронной почте.</span><span class="sxs-lookup"><span data-stu-id="5fdab-144">SendGrid is an email notification service.</span></span> <span data-ttu-id="5fdab-145">Дополнительные сведения о том, как включить SendGrid, см. в разделе "подключить up SendGrid" учебника [Создание безопасного приложения веб-форм ASP.NET с регистрацией пользователей, подтверждением электронной почты и сбросом пароля.](create-a-secure-aspnet-web-forms-app-with-user-registration-email-confirmation-and-password-reset.md)</span><span class="sxs-lookup"><span data-stu-id="5fdab-145">For details about how to enable SendGrid, see the 'Hook Up SendGrid' section of the tutorial titled [Create a Secure ASP.NET Web Forms App with user registration, email confirmation and password reset.](create-a-secure-aspnet-web-forms-app-with-user-registration-email-confirmation-and-password-reset.md)</span></span>

    [!code-xml[Main](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/samples/sample1.xml?highlight=2,6-10)]

    > [!WARNING]
    > <span data-ttu-id="5fdab-146">Безопасность — никогда не храните конфиденциальные данные в исходном коде.</span><span class="sxs-lookup"><span data-stu-id="5fdab-146">Security - Never store sensitive data in your source code.</span></span> <span data-ttu-id="5fdab-147">В этом примере учетная запись и учетные данные хранятся в разделе **appSettings** файла *Web. config* .</span><span class="sxs-lookup"><span data-stu-id="5fdab-147">In this example, the account and credentials are stored in the **appSettings** section of the *Web.config* file.</span></span> <span data-ttu-id="5fdab-148">В Azure эти значения можно безопасно сохранить на вкладке **[Настройка](https://blogs.msdn.com/b/webdev/archive/2014/06/04/queuebackgroundworkitem-to-reliably-schedule-and-run-long-background-process-in-asp-net.aspx)** в портал Azure.</span><span class="sxs-lookup"><span data-stu-id="5fdab-148">On Azure, you can securely store these values on the **[Configure](https://blogs.msdn.com/b/webdev/archive/2014/06/04/queuebackgroundworkitem-to-reliably-schedule-and-run-long-background-process-in-asp-net.aspx)** tab in the Azure portal.</span></span> <span data-ttu-id="5fdab-149">Дополнительные сведения см. в разделе Рик Андерсон (, озаглавленном рекомендации [по развертыванию паролей и других конфиденциальных данных в ASP.NET и Azure](/aspnet/identity/overview/features-api/best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure).</span><span class="sxs-lookup"><span data-stu-id="5fdab-149">For related information, see Rick Anderson's topic titled [Best practices for deploying passwords and other sensitive data to ASP.NET and Azure](/aspnet/identity/overview/features-api/best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure).</span></span>
5. <span data-ttu-id="5fdab-150">Настройте класс `SmsService` в файле *App\_старт\идентитиконфиг.КС* , сделав следующие изменения выделенными желтым цветом:</span><span class="sxs-lookup"><span data-stu-id="5fdab-150">Configure the `SmsService` class in the *App\_Start\IdentityConfig.cs* file by making the following changes highlighted in yellow:</span></span> 

    [!code-csharp[Main](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/samples/sample2.cs?highlight=5-17)]
6. <span data-ttu-id="5fdab-151">Добавьте следующие `using` операторы в начало файла *IdentityConfig.CS* :</span><span class="sxs-lookup"><span data-stu-id="5fdab-151">Add the following `using` statements to the beginning of the *IdentityConfig.cs* file:</span></span> 

    [!code-csharp[Main](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/samples/sample3.cs?highlight=1-4)]
7. <span data-ttu-id="5fdab-152">Обновите файл *Account/Manage. aspx* , удалив строки, выделенные желтым цветом:</span><span class="sxs-lookup"><span data-stu-id="5fdab-152">Update the *Account/Manage.aspx* file by removing the lines highlighted in yellow:</span></span>  

    [!code-aspx[Main](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/samples/sample4.aspx?highlight=38,53,57-60,63,66,70,73)]
8. <span data-ttu-id="5fdab-153">В обработчике `Page_Load` кода программной части *Manage.aspx.CS* раскомментируйте строку кода, выделенную желтым цветом, чтобы она появилась следующим образом:</span><span class="sxs-lookup"><span data-stu-id="5fdab-153">In the `Page_Load` handler of the *Manage.aspx.cs* code-behind, uncomment the line of code highlighted in yellow so that it appears as follows:</span></span> 

    [!code-csharp[Main](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/samples/sample5.cs?highlight=8)]
9. <span data-ttu-id="5fdab-154">В раскодировании *Account*/*TwoFactorAuthenticationSignIn.aspx.CS*обновите обработчик `Page_Load`, добавив следующий код, выделенный желтым цветом:</span><span class="sxs-lookup"><span data-stu-id="5fdab-154">In the codebehind of *Account*/*TwoFactorAuthenticationSignIn.aspx.cs*, update the `Page_Load` handler by adding the following code highlighted in yellow:</span></span> 

    [!code-csharp[Main](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/samples/sample6.cs?highlight=3-4,13)]

   <span data-ttu-id="5fdab-155">Выполнив приведенный выше код, элемент "поставщики", содержащий параметры проверки подлинности, не будет сброшен к первому значению.</span><span class="sxs-lookup"><span data-stu-id="5fdab-155">By making the above code change, the "Providers" DropDownList containing the authentication options will not be reset to the first value.</span></span> <span data-ttu-id="5fdab-156">Это позволит пользователю успешно выбрать все параметры, которые будут использоваться при проверке подлинности, а не только первый.</span><span class="sxs-lookup"><span data-stu-id="5fdab-156">This will allow the user to successfully select all options to use when authenticating, not just the first.</span></span>
10. <span data-ttu-id="5fdab-157">В **Обозреватель решений**щелкните правой кнопкой мыши *Default. aspx* и выберите **задать в качестве начальной страницы**.</span><span class="sxs-lookup"><span data-stu-id="5fdab-157">In **Solution Explorer**, right-click *Default.aspx* and select **Set As Start Page**.</span></span>
11. <span data-ttu-id="5fdab-158">Проверив приложение, сначала создайте приложение (**Ctrl**+**SHIFT**+**B**), а затем запустите приложение (**F5**) и либо выберите **Регистрация** , чтобы создать новую учетную запись пользователя, либо выберите **Вход** , если учетная запись пользователя уже зарегистрирована.</span><span class="sxs-lookup"><span data-stu-id="5fdab-158">By testing your app, first build the app (**Ctrl**+**Shift**+**B**) and then run the app (**F5**) and either select **Register** to create a new user account or select **Log in** if the user account has already been registered.</span></span>
12. <span data-ttu-id="5fdab-159">Войдя в систему (как пользователь), щелкните идентификатор пользователя (адрес электронной почты) на панели навигации, чтобы открыть страницу **Управление учетной записью** (Manage. aspx).</span><span class="sxs-lookup"><span data-stu-id="5fdab-159">Once you (as the user) have logged in, click on the User ID (email address) in the navigation bar to display the **Manage Account** page (Manage.aspx).</span></span>  
    ![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image2.png)
13. <span data-ttu-id="5fdab-160">На странице **Управление учетной записью** нажмите кнопку **Добавить** рядом с **номером телефона** .</span><span class="sxs-lookup"><span data-stu-id="5fdab-160">Click **Add** next to **Phone Number** on the **Manage Account** page.</span></span>  
    ![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image3.png)
14. <span data-ttu-id="5fdab-161">Добавьте номер телефона, по которому вы (как пользователь) хотите получить SMS-сообщения (текстовые сообщения), и нажмите кнопку **Submit (отправить** ).</span><span class="sxs-lookup"><span data-stu-id="5fdab-161">Add the phone number where you (as the user) would like to receive SMS messages (text messages) and click the **Submit** button.</span></span>   
    ![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image4.png)  
    <span data-ttu-id="5fdab-162">На этом этапе приложение будет использовать учетные данные из *файла Web. config* для связи с Twilio.</span><span class="sxs-lookup"><span data-stu-id="5fdab-162">At this point, the app will use the credentials from the *Web.config* to contact Twilio.</span></span> <span data-ttu-id="5fdab-163">Сообщение SMS (текстовое сообщение) будет отправлено на телефон, связанный с учетной записью пользователя.</span><span class="sxs-lookup"><span data-stu-id="5fdab-163">A SMS message (text message) will be sent to the phone associated with the user account.</span></span> <span data-ttu-id="5fdab-164">Чтобы убедиться, что сообщение Twilio было отправлено, просмотрите панель мониторинга Twilio.</span><span class="sxs-lookup"><span data-stu-id="5fdab-164">You can verify that the Twilio message was sent by viewing the Twilio dashboard.</span></span>
15. <span data-ttu-id="5fdab-165">Через несколько секунд Телефон, связанный с учетной записью пользователя, получит текстовое сообщение, содержащее код проверки.</span><span class="sxs-lookup"><span data-stu-id="5fdab-165">In a few seconds, the phone associated with the user account will get a text message containing the verification code.</span></span> <span data-ttu-id="5fdab-166">Введите код проверки и нажмите кнопку **Отправить**.</span><span class="sxs-lookup"><span data-stu-id="5fdab-166">Enter the verification code and press **Submit**.</span></span>  
     ![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image5.png)

<a id="use2FA"></a>
## <a name="enable-two-factor-authentication-for-a-registered-user"></a><span data-ttu-id="5fdab-167">Включение двухфакторной проверки подлинности для зарегистрированного пользователя</span><span class="sxs-lookup"><span data-stu-id="5fdab-167">Enable Two-Factor Authentication for a Registered User</span></span>

<span data-ttu-id="5fdab-168">На этом этапе вы включили двухфакторную проверку подлинности для приложения.</span><span class="sxs-lookup"><span data-stu-id="5fdab-168">At this point, you have enabled two-factor authentication for your app.</span></span> <span data-ttu-id="5fdab-169">Чтобы пользователь мог использовать двухфакторную проверку подлинности, он может просто изменить их параметры с помощью пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="5fdab-169">For a user to use two-factor authentication, they can simply change their settings using the UI.</span></span> 

1. <span data-ttu-id="5fdab-170">В качестве пользователя приложения можно включить двухфакторную проверку подлинности для конкретной учетной записи, щелкнув идентификатор пользователя (псевдоним электронной почты) на панели навигации, чтобы отобразить страницу **Управление учетной записью** . Затем щелкните ссылку **включить** , чтобы включить двухфакторную проверку подлинности для учетной записи.![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="5fdab-170">As a user of your app you can enable two-factor authentication for your specific account by clicking on the user ID (email alias) in the navigation bar to display the **Manage Account** page.Then, click on the **Enable** link to enable two-factor authentication for the account.![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image6.png)</span></span>
2. <span data-ttu-id="5fdab-171">Выйдите из системы, а затем снова войдите в систему.</span><span class="sxs-lookup"><span data-stu-id="5fdab-171">Log off, then log back in.</span></span> <span data-ttu-id="5fdab-172">Если вы включили электронную почту, можно выбрать SMS или email для двухфакторной проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="5fdab-172">If you've enabled email, you can select either SMS or email for two-factor authentication.</span></span> <span data-ttu-id="5fdab-173">Если вы еще не включили электронную почту, см. Руководство по [созданию безопасного приложения веб-форм ASP.NET с регистрацией пользователей, подтверждением электронной почты и сбросом пароля](create-a-secure-aspnet-web-forms-app-with-user-registration-email-confirmation-and-password-reset.md).![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="5fdab-173">If you haven't enabled email, see the tutorial titled [Create a Secure ASP.NET Web Forms App with User Registration, Email Confirmation and Password Reset](create-a-secure-aspnet-web-forms-app-with-user-registration-email-confirmation-and-password-reset.md).![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image7.png)</span></span>
3. <span data-ttu-id="5fdab-174">Отобразится страница двухфакторной проверки подлинности, на которой можно ввести код (с помощью SMS или электронной почты).![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="5fdab-174">The Two-Factor Authentication page is displayed where you can enter the code (from SMS or email).![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image8.png)</span></span>  
 <span data-ttu-id="5fdab-175">Если установить флажок **Запомнить этот браузер** , вам будет исключена необходимость использовать двухфакторную проверку подлинности для входа в систему при использовании браузера и устройства, на котором установлен флажок.</span><span class="sxs-lookup"><span data-stu-id="5fdab-175">Clicking on the **Remember this browser** check box will exempt you from needing to use two-factor authentication to log in when using the browser and device where you checked the box.</span></span> <span data-ttu-id="5fdab-176">Если пользователи-злоумышленники не смогут получить доступ к устройству, включите двухфакторную проверку подлинности и щелкните **Запомнить этот браузер** , чтобы предоставить вам удобный доступ к паролю, сохранив строгую двухфакторную проверку подлинности для всех попыток доступа с устройств, не являющихся доверенными.</span><span class="sxs-lookup"><span data-stu-id="5fdab-176">As long as malicious users can't gain access to your device, enabling two-factor authentication and clicking on the **Remember this browser** will provide you with convenient one step password access, while still retaining strong two-factor authentication protection for all access from non-trusted devices.</span></span> <span data-ttu-id="5fdab-177">Это можно сделать на любом устройстве закрытого, которые регулярно использовать.</span><span class="sxs-lookup"><span data-stu-id="5fdab-177">You can do this on any private device you regularly use.</span></span>

<a id="addRes"></a>
## <a name="additional-resources"></a><span data-ttu-id="5fdab-178">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="5fdab-178">Additional Resources</span></span>

- [<span data-ttu-id="5fdab-179">Двухфакторная проверка подлинности с помощью SMS и электронной почты в ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="5fdab-179">Two-factor authentication using SMS and email with ASP.NET Identity</span></span>](../../../identity/overview/features-api/two-factor-authentication-using-sms-and-email-with-aspnet-identity.md)
- [<span data-ttu-id="5fdab-180">Ссылки на ASP.NET Identity Рекомендуемые ресурсы</span><span class="sxs-lookup"><span data-stu-id="5fdab-180">Links to ASP.NET Identity Recommended Resources</span></span>](../../../identity/overview/getting-started/aspnet-identity-recommended-resources.md)
- [<span data-ttu-id="5fdab-181">Развертывание безопасного приложения веб-форм ASP.NET с членством, OAuth и базой данных SQL на веб-сайте Azure</span><span class="sxs-lookup"><span data-stu-id="5fdab-181">Deploy a Secure ASP.NET Web Forms App with Membership, OAuth, and SQL Database to an Azure Website</span></span>](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-webforms-app-membership-oauth-sql-database/)
- [<span data-ttu-id="5fdab-182">Серия руководств по веб-формам ASP.NET. Добавление поставщика OAuth 2,0</span><span class="sxs-lookup"><span data-stu-id="5fdab-182">ASP.NET Web Forms tutorial series - Add an OAuth 2.0 Provider</span></span>](../getting-started/getting-started-with-aspnet-45-web-forms/checkout-and-payment-with-paypal.md#OAuthWebForms)
- [<span data-ttu-id="5fdab-183">Серия руководств по веб-формам ASP.NET. Включение SSL для проекта</span><span class="sxs-lookup"><span data-stu-id="5fdab-183">ASP.NET Web Forms tutorial series - Enable SSL for the Project</span></span>](../getting-started/getting-started-with-aspnet-45-web-forms/checkout-and-payment-with-paypal.md#SSLWebForms)
- [<span data-ttu-id="5fdab-184">Подтверждение учетной записи и восстановление пароля с ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="5fdab-184">Account Confirmation and Password Recovery with ASP.NET Identity</span></span>](../../../identity/overview/features-api/account-confirmation-and-password-recovery-with-aspnet-identity.md)
- [<span data-ttu-id="5fdab-185">Создание приложения в Facebook и подключение приложения к проекту</span><span class="sxs-lookup"><span data-stu-id="5fdab-185">Creating the app in Facebook and connecting the app to the project</span></span>](../../../mvc/overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md#fb)
