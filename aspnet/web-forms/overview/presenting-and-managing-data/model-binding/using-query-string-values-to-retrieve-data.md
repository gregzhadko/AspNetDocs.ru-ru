---
uid: web-forms/overview/presenting-and-managing-data/model-binding/using-query-string-values-to-retrieve-data
title: Использование строковых значений запроса для фильтрации данных с помощью привязки модели и веб-форм | Документация Майкрософт
author: Rick-Anderson
description: В этой серии руководств демонстрируются основные аспекты использования привязки модели с проектом веб-форм ASP.NET. Привязка модели делает взаимодействие данных более прямым-...
ms.author: riande
ms.date: 02/27/2014
ms.assetid: b90978bd-795d-4871-9ade-1671caff5730
msc.legacyurl: /web-forms/overview/presenting-and-managing-data/model-binding/using-query-string-values-to-retrieve-data
msc.type: authoredcontent
ms.openlocfilehash: 143ddcb40b576a3129e659b90bfc8321c061a547
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78519084"
---
# <a name="using-query-string-values-to-filter-data-with-model-binding-and-web-forms"></a>Использование строковых значений запроса для фильтрации данных с помощью привязки модели и веб-форм

от [Tom фитзмаккен](https://github.com/tfitzmac)

> В этой серии руководств демонстрируются основные аспекты использования привязки модели с проектом веб-форм ASP.NET. Привязка модели делает взаимодействие данных более прямым, чем работа с объектами источника данных (например, ObjectDataSource или SqlDataSource). Эта серия начинается с вводного материала и переходит к более сложным концепциям в последующих руководствах.
> 
> В этом руководстве показано, как передать значение в строке запроса и использовать это значение для получения данных с помощью привязки модели.
> 
> Это руководство строится на проекте, созданном в [предыдущих](retrieving-data.md) частях серии.
> 
> Вы можете [скачать](https://go.microsoft.com/fwlink/?LinkId=286116) полный проект в C# или VB. Загружаемый код работает как с Visual Studio 2012, так и с Visual Studio 2013. В нем используется шаблон Visual Studio 2012, который немного отличается от шаблона Visual Studio 2013, показанного в этом руководстве.

## <a name="what-youll-build"></a>Что будет построено

В этом руководстве вы выполните следующие действия.

1. Добавление новой страницы для отображения зарегистрированных курсов для учащихся
2. Получение зарегистрированных курсов для выбранного учащегося на основе значения в строке запроса
3. Добавление гиперссылки со значением строки запроса из представления сетки на новую страницу

Действия, описанные в этом руководстве, практически похожи на те, что были в предыдущем [учебнике](sorting-paging-and-filtering-data.md) для фильтрации отображаемых учащихся на основе выбора пользователя в раскрывающемся списке. В этом руководстве вы использовали атрибут **Control** в методе Select, чтобы указать, что значение параметра берется из элемента управления. В этом руководстве вы будете использовать атрибут **QueryString** в методе Select, чтобы указать, что значение параметра берется из строки запроса.

## <a name="add-new-page-for-displaying-a-students-courses"></a>Добавление новой страницы для отображения курсов учащихся

Добавьте новую веб-форму, использующую главную страницу site. master, и назовите страницы **Courses**.

В файле **Courses. aspx** добавьте представление сетки для отображения курсов выбранного учащегося.

[!code-aspx[Main](using-query-string-values-to-retrieve-data/samples/sample1.aspx)]

## <a name="define-the-select-method"></a>Определение метода Select

В **Courses.aspx.CS**вы добавите метод Select с именем, указанным в свойстве **SelectMethod** в представлении сетки. В этом методе вы определите запрос для получения курсов учащегося и укажите, что параметр поступает из значения строки запроса с тем же именем, что и у параметра.

Сначала необходимо добавить следующие операторы **using** .

[!code-csharp[Main](using-query-string-values-to-retrieve-data/samples/sample2.cs)]

Затем добавьте следующий код в Courses.aspx.cs:

[!code-csharp[Main](using-query-string-values-to-retrieve-data/samples/sample3.cs)]

Атрибут QueryString означает, что значение строки запроса с именем StudentID автоматически назначается параметру в этом методе.

## <a name="add-hyperlink-with-query-string-value"></a>Добавить гиперссылку со значением строки запроса

В представлении сетки на учащихся. aspx Вы добавите поле гиперссылки, которое ссылается на новую страницу курсов. Гиперссылка будет содержать значение строки запроса с идентификатором учащегося.

В файле students. aspx добавьте следующее поле в столбцы представления сетки непосредственно под полем для общего количества кредитов.

[!code-aspx[Main](using-query-string-values-to-retrieve-data/samples/sample4.aspx?highlight=7-8)]

Запустите приложение и обратите внимание, что в представлении "Сетка" теперь есть ссылка "курсы".

![Добавить гиперссылку](using-query-string-values-to-retrieve-data/_static/image1.png)

Щелкнув одну из ссылок, вы увидите зарегистрированные курсы учащегося.

![Отображение курсов](using-query-string-values-to-retrieve-data/_static/image2.png)

## <a name="conclusion"></a>Заключение

В этом руководстве вы добавили ссылку со значением строки запроса. Вы использовали это значение строки запроса для значения параметра в методе Select.

В следующем [руководстве](adding-business-logic-layer.md)мы перейдем код из файлов кода программной части в слой бизнес-логики и уровень доступа к данным.

> [!div class="step-by-step"]
> [Назад](integrating-jquery-ui.md)
> [Вперед](adding-business-logic-layer.md)
