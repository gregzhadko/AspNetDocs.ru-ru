---
uid: web-forms/overview/presenting-and-managing-data/model-binding/sorting-paging-and-filtering-data
title: Сортировка, разбиение по страницам и фильтрация данных с помощью привязки модели и веб-форм | Документация Майкрософт
author: Rick-Anderson
description: В этой серии руководств показано основными аспектами с помощью привязки модели с проектом веб-форм ASP.NET. Привязка модели позволяет взаимодействие с данными более прямой-...
ms.author: riande
ms.date: 02/27/2014
ms.assetid: 266e7866-e327-4687-b29d-627a0925e87d
msc.legacyurl: /web-forms/overview/presenting-and-managing-data/model-binding/sorting-paging-and-filtering-data
msc.type: authoredcontent
ms.openlocfilehash: 1159d75ec5b2f7e5ac94da0a15acf24b5400798b
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59387480"
---
# <a name="sorting-paging-and-filtering-data-with-model-binding-and-web-forms"></a>Сортировка, разбиение по страницам и фильтрация данных с помощью привязки модели и веб-форм

по [Tom FitzMacken](https://github.com/tfitzmac)

> В этой серии руководств показано основными аспектами с помощью привязки модели с проектом веб-форм ASP.NET. Привязка модели упрощает взаимодействие с данными более эффективную чем работа с данными объектов источника (например, элемент управления ObjectDataSource и SqlDataSource). Эта серия начинается с вводный материал и перемещает до более продвинутых в последующих руководствах.
> 
> Этот учебник демонстрирует добавление сортировка, разбиение по страницам и фильтрацию данных с помощью привязки модели.
> 
> Этот учебник основан на проект, созданный в первом [часть](retrieving-data.md) ряда.
> 
> Вы можете [загрузить](https://go.microsoft.com/fwlink/?LinkId=286116) весь проект полностью на C# или Visual Basic. Загружаемый код работает с Visual Studio 2012 или Visual Studio 2013. Он использует шаблон Visual Studio 2012, который немного отличается от шаблона Visual Studio 2013, в этом учебнике.


## <a name="what-youll-build"></a>Вы создадите

В этом руководстве вам потребуется:

1. Включить сортировку и разбиение по страницам данных
2. Включить фильтрацию данных на основе выбранного пользователем

## <a name="add-sorting"></a>Добавление сортировки

Включение сортировки в GridView очень проста. В файле Student.aspx, просто установите **AllowSorting** для **true** в GridView. Необходимо задать **SortExpression** значение для каждого столбца, как DataField используется автоматически. GridView изменяет запрос, чтобы включить упорядочение данных по выбранному значению. Выделенный ниже код показано добавление, что необходимо сделать включить сортировку.

[!code-aspx[Main](sorting-paging-and-filtering-data/samples/sample1.aspx?highlight=5)]

Запустите веб-приложение и протестируйте сортировки записи учащихся по значениям в разных столбцах.

![Сортировка учащихся](sorting-paging-and-filtering-data/_static/image2.png)

## <a name="add-paging"></a>Добавление разбиения по страницам

Включение разбиения на страницы тоже очень просто. В случае с GridView, задайте **AllowPaging** свойства **true** и задайте **PageSize** количество записей, которое должно отображаться на каждой странице. В этом руководстве можно разместить его до 4.

[!code-aspx[Main](sorting-paging-and-filtering-data/samples/sample2.aspx?highlight=5)]

Запустите веб-приложения и обратите внимание, что теперь записи разделяются на несколько страниц с не более 4 записей, отображаемых на одной странице.

![Добавление разбиения по страницам](sorting-paging-and-filtering-data/_static/image4.png)

Отложенное выполнение запросов повышает эффективность работы приложения. Вместо извлечения весь набор данных, GridView изменяет запрос, чтобы получить только те записи, для текущей страницы.

## <a name="filter-records-by-user-selection"></a>Отфильтровать путем выбора пользователя

Привязка модели добавляет несколько атрибутов, которые позволяют вам самостоятельно определить, как задать значение для параметра в методе привязки модели. Эти атрибуты принадлежат **System.Web.ModelBinding** пространства имен. В их число входят следующее.

- Элемент управления
- Куки-файл
- Form
- Профиль
- QueryString
- RouteData
- Сеанс
- UserProfile
- ViewState

В этом руководстве используется значение элемента управления для фильтрации отображаемых записей в GridView. Вы добавите **управления** атрибут методу запроса, который вы создали ранее. В [позже](using-query-string-values-to-retrieve-data.md) руководстве, будет применяться **QueryString** атрибут к параметру, чтобы указать, что значение параметра поступает из значения строки запроса.

Во-первых добавьте над ValidationSummary, раскрывающийся список для фильтрации отображаются какие учащихся.

[!code-aspx[Main](sorting-paging-and-filtering-data/samples/sample3.aspx?highlight=3-11)]

В файле кода изменить метод select для получения значения из элемента управления и задайте имя параметра, имя элемента управления, который предоставляет значение.

Необходимо добавить **с помощью** инструкции для **System.Web.ModelBinding** пространство имен необходимо разрешить атрибут элемента управления.

[!code-csharp[Main](sorting-paging-and-filtering-data/samples/sample4.cs)]

В следующем коде показано метода select, повторно работал для фильтрации возвращаемых данных, на основе значения из раскрывающегося списка. Добавление атрибута элемента управления, прежде, чем параметр указывает, что значение для этого параметра берется из элемента управления с таким именем.

[!code-csharp[Main](sorting-paging-and-filtering-data/samples/sample5.cs)]

Запустите веб-приложение и выберите другие значения в раскрывающемся списке, чтобы отфильтровать список учащихся.

![Фильтр учащихся](sorting-paging-and-filtering-data/_static/image6.png)

## <a name="conclusion"></a>Заключение

В этом руководстве вы включили, сортировка и разбиение по страницам данных. Также вы включили, фильтруя данные по значению свойства элемента управления.

В следующем [руководстве](integrating-jquery-ui.md) поможет повысить эффективность пользовательского интерфейса путем интеграции пользовательского интерфейса JQuery мини-приложения в шаблон динамических данных.

> [!div class="step-by-step"]
> [Назад](updating-deleting-and-creating-data.md)
> [Вперед](integrating-jquery-ui.md)
