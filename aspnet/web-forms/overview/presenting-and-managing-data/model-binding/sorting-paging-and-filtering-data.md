---
uid: web-forms/overview/presenting-and-managing-data/model-binding/sorting-paging-and-filtering-data
title: Сортировка, разбиение на страницы и фильтрация данных с помощью привязки модели и веб-форм | Документация Майкрософт
author: Rick-Anderson
description: В этой серии руководств демонстрируются основные аспекты использования привязки модели с проектом веб-форм ASP.NET. Привязка модели делает взаимодействие данных более прямым-...
ms.author: riande
ms.date: 02/27/2014
ms.assetid: 266e7866-e327-4687-b29d-627a0925e87d
msc.legacyurl: /web-forms/overview/presenting-and-managing-data/model-binding/sorting-paging-and-filtering-data
msc.type: authoredcontent
ms.openlocfilehash: f8e64392af6110f36c6af98c4e4e9481c94a0d82
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78441066"
---
# <a name="sorting-paging-and-filtering-data-with-model-binding-and-web-forms"></a>Сортировка, разбиение на страницы и фильтрация данных с помощью привязки модели и веб-форм

от [Tom фитзмаккен](https://github.com/tfitzmac)

> В этой серии руководств демонстрируются основные аспекты использования привязки модели с проектом веб-форм ASP.NET. Привязка модели делает взаимодействие данных более прямым, чем работа с объектами источника данных (например, ObjectDataSource или SqlDataSource). Эта серия начинается с вводного материала и переходит к более сложным концепциям в последующих руководствах.
> 
> В этом руководстве показано, как добавить сортировку, разбиение по страницам и фильтрацию данных с помощью привязки модели.
> 
> Это руководство строится на проекте, созданном в первой [части](retrieving-data.md) серии.
> 
> Вы можете [скачать](https://go.microsoft.com/fwlink/?LinkId=286116) полный проект в C# или VB. Загружаемый код работает как с Visual Studio 2012, так и с Visual Studio 2013. В нем используется шаблон Visual Studio 2012, который немного отличается от шаблона Visual Studio 2013, показанного в этом руководстве.

## <a name="what-youll-build"></a>Что будет построено

В этом руководстве вы выполните следующие действия.

1. Включение сортировки и разбиения на страницы данных
2. Включить фильтрацию данных на основе выбора пользователем

## <a name="add-sorting"></a>Добавление сортировки

Включить сортировку в GridView очень просто. В файле Student. aspx просто задайте для **GridView** **значение true** в элементе управления GridView. Не нужно задавать значение **SortExpression** для каждого столбца, так как поле данных используется автоматически. GridView изменяет запрос, чтобы включить упорядочивание данных по выбранному значению. В выделенном ниже коде показано добавление, которое необходимо сделать для включения сортировки.

[!code-aspx[Main](sorting-paging-and-filtering-data/samples/sample1.aspx?highlight=5)]

Запустите веб-приложение и протестируйте сортировку записей учащихся по значениям в разных столбцах.

![Сортировка учащихся](sorting-paging-and-filtering-data/_static/image2.png)

## <a name="add-paging"></a>Добавление разбиения по страницам

Включить разбиение на страницы также очень просто. В элементе GridView задайте для свойства **AllowPaging** **значение true** и задайте для свойства **pageSize** количество записей, которые будут отображаться на каждой странице. В этом руководстве вы можете задать для него значение 4.

[!code-aspx[Main](sorting-paging-and-filtering-data/samples/sample2.aspx?highlight=5)]

Запустите веб-приложение и обратите внимание, что теперь записи делятся на несколько страниц, на одной странице не более 4 записей.

![Добавить подкачку](sorting-paging-and-filtering-data/_static/image4.png)

Отложенное выполнение запросов повышает эффективность работы приложения. Вместо получения всего набора данных GridView изменяет запрос, чтобы получить только записи для текущей страницы.

## <a name="filter-records-by-user-selection"></a>Фильтрация записей по выбору пользователя

Привязка модели добавляет несколько атрибутов, которые позволяют определить, как задать значение параметра в методе привязки модели. Эти атрибуты находятся в пространстве имен **System. Web. моделбиндинг** . в том числе:

- Control
- Куки-файл
- Форма
- Профиль
- QueryString
- RouteData
- Сеанс
- Филе
- Состояние вида

В этом учебнике будет использоваться значение элемента управления для фильтрации записей, отображаемых в GridView. Атрибут **элемента управления** будет добавлен к созданному ранее методу запроса. В [следующем](using-query-string-values-to-retrieve-data.md) учебнике к параметру будет применен атрибут **QueryString** , чтобы указать, что значение параметра берется из значения строки запроса.

Во-первых, над ValidationSummary добавьте раскрывающийся список для фильтрации отображаемых учащихся.

[!code-aspx[Main](sorting-paging-and-filtering-data/samples/sample3.aspx?highlight=3-11)]

В файле кода программной части измените метод Select, чтобы получить значение из элемента управления, и задайте в качестве имени параметра имя элемента управления, предоставляющего значение.

Для разрешения атрибута элемента управления необходимо добавить инструкцию **using** для пространства имен **System. Web. моделбиндинг** .

[!code-csharp[Main](sorting-paging-and-filtering-data/samples/sample4.cs)]

В следующем коде показан метод Select, который можно изменить, чтобы отфильтровать возвращенные данные на основе значения раскрывающегося списка. Добавление атрибута элемента управления перед параметром указывает, что значение этого параметра берется из элемента управления с тем же именем.

[!code-csharp[Main](sorting-paging-and-filtering-data/samples/sample5.cs)]

Запустите веб-приложение и выберите другие значения из раскрывающегося списка, чтобы отфильтровать список учащихся.

![Фильтрация учащихся](sorting-paging-and-filtering-data/_static/image6.png)

## <a name="conclusion"></a>Заключение

В этом руководстве вы включили сортировку и разбиение данных на страницы. Вы также включили фильтрацию данных по значению элемента управления.

В следующем [руководстве](integrating-jquery-ui.md) мы улучшаем пользовательский интерфейс, интегрируя мини-приложение пользовательского интерфейса jQuery в шаблон динамических данных.

> [!div class="step-by-step"]
> [Назад](updating-deleting-and-creating-data.md)
> [Вперед](integrating-jquery-ui.md)
