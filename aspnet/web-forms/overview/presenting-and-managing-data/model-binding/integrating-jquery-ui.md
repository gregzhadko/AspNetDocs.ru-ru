---
uid: web-forms/overview/presenting-and-managing-data/model-binding/integrating-jquery-ui
title: Интеграция Datepicker пользовательского интерфейса JQuery с помощью привязки модели и веб-форм | Документация Майкрософт
author: Rick-Anderson
description: В этой серии руководств показано основными аспектами с помощью привязки модели с проектом веб-форм ASP.NET. Привязка модели позволяет взаимодействие с данными более прямой-...
ms.author: riande
ms.date: 02/27/2014
ms.assetid: 3cbab37b-fb0f-4751-9ec4-74e068c3f380
msc.legacyurl: /web-forms/overview/presenting-and-managing-data/model-binding/integrating-jquery-ui
msc.type: authoredcontent
ms.openlocfilehash: 5e9cbb4ca4c45fabfa53f9e3d2537250f1231ba0
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59421970"
---
# <a name="integrating-jquery-ui-datepicker-with-model-binding-and-web-forms"></a>Интеграция Datepicker пользовательского интерфейса JQuery с помощью привязки модели и веб-форм

по [Tom FitzMacken](https://github.com/tfitzmac)

> В этой серии руководств показано основными аспектами с помощью привязки модели с проектом веб-форм ASP.NET. Привязка модели упрощает взаимодействие с данными более эффективную чем работа с данными объектов источника (например, элемент управления ObjectDataSource и SqlDataSource). Эта серия начинается с вводный материал и перемещает до более продвинутых в последующих руководствах.
> 
> Этом руководстве показано, как добавить пользовательский Интерфейс JQuery [Datepicker мини-приложение](http://jqueryui.com/datepicker/) для веб-формы и использование модели привязки для обновления базы данных с выбранным значением.
> 
> Этот учебник основан на проект, созданный в [первый](retrieving-data.md) и [второй](updating-deleting-and-creating-data.md) части серии.
> 
> Вы можете [загрузить](https://go.microsoft.com/fwlink/?LinkId=286116) весь проект полностью на C# или Visual Basic. Загружаемый код работает с Visual Studio 2012 или Visual Studio 2013. Он использует шаблон Visual Studio 2012, который немного отличается от шаблона Visual Studio 2013, в этом учебнике.


## <a name="what-youll-build"></a>Вы создадите

В этом руководстве вам потребуется:

1. Добавление свойства в модели для записи учащегося Дата регистрации
2. Разрешить пользователю выбрать дату регистрации с помощью мини-приложение Datepicker пользовательского интерфейса JQuery
3. Принудительное применение правил проверки для Дата регистрации

Datepicker пользовательского интерфейса JQuery мини-приложение позволяет пользователям легко выбрать дату из календаря, возникающего, когда пользователь взаимодействует с полем. Использование этого мини-приложения может быть более удобным для пользователей, чем вручную вводить даты. Интеграция Datepicker мини-приложения в страницу, которая использует привязку модели для данных операций требуется только небольшой объем дополнительной работы.

## <a name="add-a-new-property-to-the-model"></a>Добавить новое свойство в модель

Во-первых, вы добавите **Datetime** свойство для обучения модели и перенести это изменение в базе данных. Откройте **UniversityModels.cs**и добавьте выделенный код в модель Student.

[!code-csharp[Main](integrating-jquery-ui/samples/sample1.cs?highlight=16-18)]

**RangeAttribute** включается для применения правил проверки для свойства. В этом учебнике предполагается, что университета Contoso была основана на 1 января 2013 г, и поэтому более ранние даты регистрации недопустимы.

В окне управления пакетами, добавить миграцию, выполнив команду **AddEnrollmentDate добавьте миграции**. Обратите внимание на то, что код миграции добавляет новый столбец даты и времени на таблицу Student. В соответствии с значением, которое указано в RangeAttribute, добавьте значение по умолчанию для нового столбца, как показано в выделенный ниже код.

[!code-csharp[Main](integrating-jquery-ui/samples/sample2.cs?highlight=11)]

Сохраните изменения в файл для миграции.

Необходимо повторно заполнить данными. Таким образом, откройте **Configuration.cs** в папку Migrations и удалите или закомментируйте код в **начальное значение** метод. Сохраните и закройте файл.

Теперь выполните команду **обновления базы данных**. Обратите внимание на то, что этот столбец существует в базе данных и всех существующих записей имеют значения по умолчанию для параметра EnrollmentDate.

## <a name="add-dynamic-controls-for-enrollment-date"></a>Добавление динамических элементов управления для Дата регистрации

Теперь вы добавите элементы управления для отображения и редактирования и дату зачисления. На этом этапе значение изменяется в текстовое поле. Далее в этом руководстве текстового поля изменится на JQuery Datepicker мини-приложения.

Во-первых, важно отметить, что не нужно вносить изменения в **AddStudent.aspx** файла. Элемент управления DynamicEntity автоматически будет отображать новое свойство.

Откройте **Students.aspx**и добавьте следующий выделенный код.

[!code-aspx[Main](integrating-jquery-ui/samples/sample3.aspx?highlight=13)]

Запустите приложение и обратите внимание на то, что значение даты регистрации можно задать путем ввода даты. При добавлении нового учащегося:

![даты](integrating-jquery-ui/_static/image1.png)

Или редактировании существующего значения:

![изменить дату](integrating-jquery-ui/_static/image2.png)

Введя works даты, но он может оказаться обслуживание клиентов, которые вы хотите предоставить. В следующем разделе вы включите выбора даты через календаря.

## <a name="install-nuget-package-to-work-with-jquery-ui"></a>Установите пакет NuGet для работы с помощью пользовательского интерфейса JQuery

**Пользовательского интерфейса сок** простая интеграция пользовательского интерфейса JQuery мини-приложений в веб-приложения с помощью пакета NuGet. Чтобы использовать этот пакет, установите его через NuGet.

![Добавление пользовательского интерфейса сок](integrating-jquery-ui/_static/image3.png)

Версия пользовательского интерфейса сок, который вы устанавливаете может конфликтовать с версии JQuery в приложении. Прежде чем продолжить с этим руководством, попробуйте запустить приложение. Если возникла ошибка JavaScript, необходимо согласовать версии JQuery. Можно добавить ожидаемую версию служб JQuery в папке скриптов (версия 1.8.2 во время написания этого учебника), или в Site.master укажите путь к файлу JQuery.

[!code-aspx[Main](integrating-jquery-ui/samples/sample4.aspx)]

## <a name="customize-datetime-template-to-include-datepicker-widget"></a>Настройка шаблона даты и времени для включения Datepicker мини-приложения

Вы добавите Datepicker мини-приложения в шаблон динамических данных для редактирования значения даты и времени. Добавление мини-приложения в шаблон, он автоматически отображается в форме для добавления нового учащегося, а также в представлении в виде сетки для редактирования учащихся. Откройте **DateTime\_Edit.ascx платформы**и добавьте следующий выделенный код.

[!code-aspx[Main](integrating-jquery-ui/samples/sample5.aspx?highlight=3)]

В файле кода будет задайте минимальное и максимальное даты для элемента управления DatePicker. Задавая эти значения, позволит пользователям перейти к недопустимые даты. Вы получите минимальное и максимальное значения из **RangeAttribute** на свойство типа DateTime, если он указан. Откройте **DateTime\_Edit.ascx.cs**и добавьте следующий выделенный код на страницу\_метод Load.

[!code-csharp[Main](integrating-jquery-ui/samples/sample6.cs?highlight=9-14)]

Запустите веб-приложение и перейдите на страницу AddStudent. Укажите значения для полей и обратите внимание, что если щелкнуть текстовое поле для регистрации даты календаря.

![Выбор даты](integrating-jquery-ui/_static/image4.png)

Выберите дату, а затем нажмите кнопку **вставить**. RangeAttribute принудительную проверку на сервере. Установив свойство minDate Datepicker, также применить проверку на стороне клиента. Календарь не позволяющие переходить к даты до значение minDate.

При редактировании записи в представлении в виде сетки, календарь также отображается.

![DatePicker в GridView](integrating-jquery-ui/_static/image5.png)

## <a name="conclusion"></a>Заключение

В этом руководстве вы узнали, как включить JQuery мини-приложения в веб-форму, которая использует привязку модели.

В следующем [руководстве](using-query-string-values-to-retrieve-data.md), будет использовать значения строки запроса, при выборе данных.

> [!div class="step-by-step"]
> [Назад](sorting-paging-and-filtering-data.md)
> [Вперед](using-query-string-values-to-retrieve-data.md)
