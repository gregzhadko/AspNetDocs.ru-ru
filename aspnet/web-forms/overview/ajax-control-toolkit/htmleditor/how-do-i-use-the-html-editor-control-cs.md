---
uid: web-forms/overview/ajax-control-toolkit/htmleditor/how-do-i-use-the-html-editor-control-cs
title: Как использовать элемент управления HTML-редактором? (КЗ) Документы Майкрософт
author: rick-anderson
description: HTMLEditor — это ASP.NET AJAX Control, который позволяет легко создавать и редактировать HTML-контент с помощью кнопок в панели инструментов.
ms.author: riande
ms.date: 05/12/2009
ms.assetid: f47e6224-c2e5-4472-b069-b6c7b6115200
msc.legacyurl: /web-forms/overview/ajax-control-toolkit/htmleditor/how-do-i-use-the-html-editor-control-cs
msc.type: authoredcontent
ms.openlocfilehash: eb3a87f914c24ada52ebb5a315a7e242e96158f7
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2020
ms.locfileid: "81543123"
---
# <a name="how-do-i-use-the-html-editor-control-c"></a>Как использовать элемент управления HTML-редактором? C#

[корпорацией Майкрософт](https://github.com/microsoft)

> HTMLEditor — это ASP.NET AJAX Control, который позволяет легко создавать и редактировать HTML-контент с помощью кнопок в панели инструментов.

Цель этого учебника состоит в том, чтобы предоставить вам обзор управления HTML редактор включены с AJAX управления Toolkit. Html Editor включает в себя варианты изменения размера шрифта, выбора шрифта, изменения цвета фона, изменения цвета переднего плана, добавления ссылок, добавления изображений, изменения выравнивания текста и выполнения операций разреза, копирования и вставки (см. рисунок 1).

[![Редактор HTML](how-do-i-use-the-html-editor-control-cs/_static/image1.jpg)](how-do-i-use-the-html-editor-control-cs/_static/image1.png)

**Рисунок 01**: Html редактор[(Нажмите, чтобы посмотреть полноразмерное изображение](how-do-i-use-the-html-editor-control-cs/_static/image2.png))

HTML-редактор позволяет вводить содержимое в режиме проектирования или вы можете ввести HTML напрямую. Вам также предоставляется возможность предварительного просмотра HTML-контента (см. рисунок 2).

[![Кнопки проектирования, HTML и Preview](how-do-i-use-the-html-editor-control-cs/_static/image2.jpg)](how-do-i-use-the-html-editor-control-cs/_static/image3.png)

**Рисунок 02**: Дизайн, HTML, и Предварительный просмотр кнопок[(Нажмите, чтобы посмотреть полноразмерное изображение](how-do-i-use-the-html-editor-control-cs/_static/image4.png))

В этом уроке вы узнаете, как отобразить HTML-редактор, как настроить кнопки панели инструментов, которые появляются в редакторе HTML, и как избежать перекрестных атак на сценарии.

## <a name="displaying-the-html-editor"></a>Отображение HTML-редактора

Прежде чем использовать HTML-редактор на странице ASP.NET, необходимо сначала добавить элемент управления ScriptManager на страницу. Контроль ScriptManager расположен под вкладкой AJAX Extensions в наборе инструментов Visual Studio/Visual Web Developer Express.

Вы должны поместить элемент управления ScriptManager в верхней части страницы, прежде чем любые другие элементы управления на странице. Например, его можно разместить непосредственно под &lt;тегом формы&gt; сервера.

Управление HTML-редактором находится в наборе инструментов с остальными элементами управления AJAX. Он называется управление редактором (см. рисунок 3).

[![Управление редактором HTML](how-do-i-use-the-html-editor-control-cs/_static/image3.jpg)](how-do-i-use-the-html-editor-control-cs/_static/image5.png)

**Рисунок 03**: Управление редактором HTML[(Нажмите, чтобы просмотреть полноразмерное изображение)](how-do-i-use-the-html-editor-control-cs/_static/image6.png)

После перетаскивания HTML-редактора на страницу можно установить его свойства в листе свойств. Например, обычно требуется установить свойства ширины и высоты. Список 1 содержит источник для страницы ASP.NET, содержащей HTML-редактор.

**Список 1 - SimpleEditor.aspx**

[!code-aspx[Main](how-do-i-use-the-html-editor-control-cs/samples/sample1.aspx)]

Страница в листинге 1 содержит управление HTML-редактором, управление кнопкой и буквальное управление. При нажатии кнопки содержимое HTML-редактора отображается в буквальном элементе управления (см. рисунок 4).

[![Отправка формы с помощью HTML-редактора](how-do-i-use-the-html-editor-control-cs/_static/image4.jpg)](how-do-i-use-the-html-editor-control-cs/_static/image7.png)

**Рисунок 04**: Отправка формы с HTML Редактор[(Нажмите, чтобы посмотреть полноразмерное изображение](how-do-i-use-the-html-editor-control-cs/_static/image8.png))

Свойство HTML Editor Content используется для получения HTML-контента, внесенного в HTML-редактор. Имейте в виду, что этот HTML-контент может содержать JavaScript. В следующем разделе мы обсудим, как можно предотвратить атаки инъекций JavaScript.

## <a name="customizing-the-html-editor-toolbar"></a>Настройка панели инструментов html Editor

Вы можете настроить, какие именно кнопки отображаются в редакторе. Например, можно удалить вкладку HTML, чтобы пользователи не переключали HTML-редактор в режим HTML. Или, возможно, вы захотите удалить список выпадающих размеров шрифта, чтобы предотвратить создание пользователями слишком большого текста в сообщении форума (см. рисунок 5).

[![Индивидуальный HTML-редактор](how-do-i-use-the-html-editor-control-cs/_static/image5.jpg)](how-do-i-use-the-html-editor-control-cs/_static/image9.png)

**Рисунок 05**: Настраиваемый HTML редактор[(Нажмите, чтобы просмотреть полноразмерное изображение](how-do-i-use-the-html-editor-control-cs/_static/image10.png))

Вы настраиваете кнопки панели инструментов, выдыхая новый HTML-редактор из класса базового редактора. Например, пользовательский редактор в листинге 2 содержит только кнопки панели инструментов для смелых и курсивных. Все остальные кнопки панели инструментов были удалены. Кроме того, вкладка HTML была удалена из нижней части редактора (но вкладки Design and Preview все еще существуют).

**Список 2\_- App Code-CustomEditor.cs**

[!code-csharp[Main](how-do-i-use-the-html-editor-control-cs/samples/sample2.cs)]

Необходимо добавить класс в листинге\_2 в папку App Code, чтобы класс был компилирован автоматически. Если папка App\_Code не существует на вашем сайте, то вы можете просто добавить папку.

После создания пользовательского редактора его можно добавить на страницу ASP.NET так же, как и обычный HTML-редактор (см. список 3).

**Список 3 - ShowCustomEditor.aspx**

[!code-aspx[Main](how-do-i-use-the-html-editor-control-cs/samples/sample3.aspx)]

## <a name="avoiding-cross-site-scripting-xss-attacks"></a>Как избежать перекрестного сайта Сценарии (XSS) Атак

Всякий раз, когда вы принимаете ввод от пользователя и повторно отображаете этот вход на вашем сайте, вы потенциально открываете свой веб-сайт для перекрестных атак сценариев (XSS). Теоретически, злоумышленник может отправить код JavaScript, который выполняется при повторном отображении ввода. JavaScript может быть использован для кражи паролей пользователей или другой конфиденциальной информации.

Как правило, вы можете победить XSS-атаки HTML кодирования любой вход, который вы получаете от пользователя, прежде чем отображать его на веб-странице. Тем не менее, HTML кодирования вывода HTML редактор &lt;не&gt; только кодировать теги скрипта, он также будет кодировать все теги HTML. Другими словами, вы потеряете все форматирование, такие как тип шрифта, размер шрифта и цвет фона.

Если вы собираете конфиденциальную информацию от пользователей, например пароли, номера кредитных карт и номера социального страхования, то вам не следует отображать незакодированный контент, который вы получаете от пользователя с HTML-редактором. Редактор HTML следует использовать только в ситуациях, когда вы не переображаете HTML-контент или HTML-контент передается на ваш веб-сайт доверенной стороной.

Представьте себе, например, что вы создаете приложение для блога. В этой ситуации имеет смысл использовать HTML-редактор при составлении сообщений в блоге. Вы единственный, кто представляет сообщение в блоге и, по-видимому, вы можете доверять себе, чтобы не представить вредоносных JavaScript. Тем не менее, не имеет смысла использовать HTML редактор, когда позволяет анонимным пользователям размещать комментарии. Вы должны быть особенно осторожны в ситуациях, когда пользователи отправляют конфиденциальную информацию, такую как пароли. Потенциально, вредоносный пользователь может опубликовать комментарий, который содержит право JavaScript для кражи пароля.

## <a name="summary"></a>Сводка

В этом уроке вам был предоставлен краткий обзор управления HTML-редактором, включенным в набор инструментов управления AJAX. Вы узнали, как использовать HTML Редактор принять богатый контент от пользователя и отправить содержимое на сервер. Мы также обсудили, как можно настроить кнопки панели инструментов, отображаемые редактором HTML. Наконец, вы узнали, как избежать кросс-сайт Скриптирование атак при использовании HTML редактор принять потенциально вредоносных ввода.

> [!div class="step-by-step"]
> [Вперед](how-do-i-use-the-html-editor-control-vb.md)
