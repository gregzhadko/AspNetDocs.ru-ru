---
uid: web-forms/overview/ajax-control-toolkit/htmleditor/how-do-i-use-the-html-editor-control-cs
title: Как использовать элемент управления редактора HTML? (C#) | Документация Майкрософт
author: microsoft
description: HTMLEditor является элементом управления AJAX ASP.NET, который позволяет легко создавать и изменять содержимое HTML с помощью кнопок в панели инструментов.
ms.author: riande
ms.date: 05/12/2009
ms.assetid: f47e6224-c2e5-4472-b069-b6c7b6115200
msc.legacyurl: /web-forms/overview/ajax-control-toolkit/htmleditor/how-do-i-use-the-html-editor-control-cs
msc.type: authoredcontent
ms.openlocfilehash: 7bd7c5a604c897ac6dce92123e9e7ae4157d3e0e
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57037501"
---
<a name="how-do-i-use-the-html-editor-control-c"></a>Как использовать элемент управления редактора HTML? (C#)
====================
по [Microsoft](https://github.com/microsoft)

> HTMLEditor является элементом управления AJAX ASP.NET, который позволяет легко создавать и изменять содержимое HTML с помощью кнопок в панели инструментов.


Этот учебник призван предоставить вам Обзор элемента управления редактора HTML, включенные в AJAX Control Toolkit. Редактор HTML включает параметры для изменения размера шрифта, выбрав шрифт, изменение цвета фона, изменив цвет переднего плана, добавление ссылок, добавление изображения, изменив выравнивание текста и выполнять операции вырезания, копирования и вставки операций (см. рис. 1).


[![Редактор HTML](how-do-i-use-the-html-editor-control-cs/_static/image1.jpg)](how-do-i-use-the-html-editor-control-cs/_static/image1.png)

**Рис 01**: Редактор HTML ([Просмотр полноразмерного изображения](how-do-i-use-the-html-editor-control-cs/_static/image2.png))


Редактор HTML позволяет ввести содержимое, используя режим конструктора или HTML можно ввести напрямую. Вам также будет предоставлен параметр, чтобы просмотреть содержимое HTML (см. рис. 2).


[![Проектирование, HTML и предварительной версии кнопок](how-do-i-use-the-html-editor-control-cs/_static/image2.jpg)](how-do-i-use-the-html-editor-control-cs/_static/image3.png)

**Рис. 02**: Проектирование, HTML и предварительной версии кнопок ([Просмотр полноразмерного изображения](how-do-i-use-the-html-editor-control-cs/_static/image4.png))


В этом руководстве вы узнаете, как отобразить редактор HTML, способы настройки кнопки панели инструментов, отображаются в редакторе HTML и как избежать атак межузловых сценариев.

## <a name="displaying-the-html-editor"></a>Отображение в редакторе HTML

Прежде чем использовать редактор HTML на странице ASP.NET, сначала необходимо добавить элемент управления ScriptManager к странице. Элемент управления ScriptManager находится под вкладки AJAX-расширения в области элементов Visual Studio или Visual Web Developer Express.

В верхней части страницы перед любыми другими элементами управления на странице следует поместить элемент управления ScriptManager. Например, его можно поместить непосредственно под открывающей серверных &lt;формы&gt; тега.

В области элементов с остальной частью элементов управления AJAX Control Toolkit расположен элемент управления редактора HTML. Он называется редактирующего элемента управления (см. рис. 3).


[![Элемент управления редактора HTML](how-do-i-use-the-html-editor-control-cs/_static/image3.jpg)](how-do-i-use-the-html-editor-control-cs/_static/image5.png)

**Рис 03**: Элемент управления редактора HTML ([Просмотр полноразмерного изображения](how-do-i-use-the-html-editor-control-cs/_static/image6.png))


После перетаскивания редактор HTML на странице, можно установить его свойства в окне свойств. Например обычно необходимо задать свойства Width и Height. В листинге 1 содержит исходный код страницы ASP.NET, которая содержит редактор HTML.

**В листинге 1 - SimpleEditor.aspx**

[!code-aspx[Main](how-do-i-use-the-html-editor-control-cs/samples/sample1.aspx)]

На странице в листинге 1 содержит элемент управления редактора HTML, элемент управления Button и текстовым элементом управления. После нажатия кнопки, содержимое редактора HTML отображается в управлении литералов (см. рис. 4).


[![Отправка формы с помощью HTML-редактора](how-do-i-use-the-html-editor-control-cs/_static/image4.jpg)](how-do-i-use-the-html-editor-control-cs/_static/image7.png)

**Рис. 04**: Отправка формы с редактором HTML ([Просмотр полноразмерного изображения](how-do-i-use-the-html-editor-control-cs/_static/image8.png))


Свойство Content редактор HTML используется для получения HTML-содержимое, введенное в редакторе HTML. Имейте в виду, что HTML-содержимое может содержать JavaScript. В следующем разделе мы рассмотрим, как предотвратить атаки путем внедрения кода JavaScript.

## <a name="customizing-the-html-editor-toolbar"></a>Настройка панели инструментов редактора HTML

Вы можете настроить точно кнопки, которые отображаются в редакторе. Например может потребоваться удалить вкладку HTML, чтобы запретить пользователям переходить в режим HTML в редакторе HTML. Или, может потребоваться удалить раскрывающийся список размер шрифта, чтобы запретить пользователям создавать чрезмерно большим текст на форуме сообщение post (см. рис. 5).


[![Специализированного редактора HTML](how-do-i-use-the-html-editor-control-cs/_static/image5.jpg)](how-do-i-use-the-html-editor-control-cs/_static/image9.png)

**05 рис**: Объект настройки редактора HTML ([Просмотр полноразмерного изображения](how-do-i-use-the-html-editor-control-cs/_static/image10.png))


Настроить кнопки панели инструментов путем наследования от базового класса редактора нового редактора HTML. Например пользовательского редактора в листинге 2 содержит только кнопки панели инструментов для полужирного шрифта и курсива. Будут удалены все кнопки панели инструментов. Кроме того на вкладке HTML был удален из нижней части редактора (но вкладках конструктора и предварительного просмотра по-прежнему существуют).

**Листинг 2 - приложение\_Code\CustomEditor.cs**

[!code-csharp[Main](how-do-i-use-the-html-editor-control-cs/samples/sample2.cs)]

В приложение, необходимо добавить класс в листинге 2\_кода папки таким образом, чтобы класс будет автоматически скомпилирован. Если приложение\_папка с кодом в веб-сайт не существует, то можно просто добавить папку.

После создания настраиваемого редактора, можно добавить его на страницу ASP.NET таким же образом при добавлении обычный редактор HTML (см. Листинг 3).

**Листинг 3 - ShowCustomEditor.aspx**

[!code-aspx[Main](how-do-i-use-the-html-editor-control-cs/samples/sample3.aspx)]

## <a name="avoiding-cross-site-scripting-xss-attacks"></a>Использования атаки межузловых сценариев (XSS)

Каждый раз, когда вы принимать входные данные от пользователя и отобразить эти входные данные на веб-сайте, потенциально открывая веб-сайта для атаки межузловых сценариев (XSS). В теории злоумышленнику удалось отправить код JavaScript, выполняемый, когда отобразится входных данных. JavaScript может использоваться для кражи паролей пользователей или другой конфиденциальной информацией.

Как правило вы может свести на нет атак XSS, HTML-кодирование любые входные данные, получить от пользователя, прежде чем отображать их на веб-странице. Тем не менее, HTML кодирования выходных данных в редакторе HTML будет не только кодирование &lt;скрипт&gt; теги, он бы также закодировать все теги HTML. Другими словами будут потеряны все форматирование, такое как тип шрифта, размер шрифта и цвета фона.

Если вы собираете конфиденциальную информацию от пользователей — например пароли, номера кредитных карт и номера социального страхования - следует не отображаются не имеют кодировки содержимого, которое можно получить от пользователя с помощью редактора HTML. Редактор HTML следует использовать только в ситуациях, в которых не являются повторное отображение HTML-содержимое или содержимое HTML отправляется на веб-сайт с доверенным лицом.

К примеру, представьте себе, что вы создаете приложение блога. В этом случае имеет смысл использовать редактор HTML, при создании сообщения в блогах. Вы являетесь единственным, кто отправляет сообщение в блоге и, предположительно, самостоятельно не для того, чтобы отправить вредоносный код JavaScript можно доверять. Тем не менее не смысла при разрешении анонимным пользователям комментарии можно добавить с помощью редактора HTML. Должен быть особенно осторожны в ситуациях, в которых пользователи отправляют конфиденциальные сведения, например пароли. Потенциально пользователь-злоумышленник может опубликовать комментарий, содержащий правой JavaScript для кражи паролей.

## <a name="summary"></a>Сводка

В этом руководстве были предоставлены с кратким обзором элемент управления редактора HTML, включенных в AJAX Control Toolkit. Вы узнали, как использовать редактор HTML для принятия форматированное содержимое от пользователя и отправить содержимое на сервер. Мы также рассмотрели, как можно настроить кнопки панели инструментов, которые отображаются в редакторе HTML. Наконец вы узнали, как во избежание атаки межузловых сценариев, при использовании редактора HTML на потенциально вредоносный ввод.

> [!div class="step-by-step"]
> [Вперед](how-do-i-use-the-html-editor-control-vb.md)
