---
uid: web-forms/overview/ajax-control-toolkit/combobox/how-do-i-use-the-combobox-control-cs
title: Как использовать элемент управления ComboBox (C#) | Документация Майкрософт
author: microsoft
description: Поля со списком является элементом управления ASP.NET AJAX, сочетающий в себе гибкость текстовое поле со списком параметров, из которых пользователи могут выбирать.
ms.author: riande
ms.date: 05/12/2009
ms.assetid: 0bbf4134-04df-4226-8930-d5bb99e27128
msc.legacyurl: /web-forms/overview/ajax-control-toolkit/combobox/how-do-i-use-the-combobox-control-cs
msc.type: authoredcontent
ms.openlocfilehash: 2d23e65f817c11e45adab56ea054a7c46a35d4f3
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59386441"
---
# <a name="how-do-i-use-the-combobox-control-c"></a>Как использовать элемент управления ComboBox (C#)

по [Microsoft](https://github.com/microsoft)

> Поля со списком является элементом управления ASP.NET AJAX, сочетающий в себе гибкость текстовое поле со списком параметров, из которых пользователи могут выбирать.


Целью данного учебника является описанием элемента управления ComboBox набор средств управления AJAX. Поле со списком работает подобно сочетания между стандартного элемента управления DropDownList в ASP.NET и элемент управления TextBox. Можно выбрать из списка существующих элементов или введите новый элемент.

Поле со списком похоже на элемент управления расширителя AutoComplete, но элементы управления используются в различных сценариях. Расширитель AutoComplete запрашивает веб-службы для получения совпадающих элементов. Элемент управления ComboBox, напротив, инициализируется с помощью набора элементов. С помощью делает расширителя AutoComplete смысла при работе с большим набором данных (миллионы частей автомобиль) при использовании элемента управления ComboBox имеет смысл при работе с небольшой набор данных (десятки частей автомобиль).

## <a name="selecting-from-a-static-list-of-items"></a>Выбрав из статического списка элементов

Позвольте s начать с простой пример использования элемента управления ComboBox. Представьте себе, что вы хотите отобразить статический список элементов в раскрывающемся списке. Тем не менее вы хотите оставить открытым вероятность того, что список не полный. Вы хотите разрешить пользователю ввести пользовательское значение в списке.

Мы ll создайте страницу веб-форм ASP.NET и использовать элемент управления ComboBox в странице. Добавьте в проект новую страницу ASP.NET и переключитесь в конструктор.

Если вы хотите использовать элемент управления ComboBox в странице необходимо добавить элемент управления ScriptManager к странице. Перетащите элемент управления ScriptManager from beneath вкладки AJAX-расширения в области конструктора. Следует добавить элемент управления ScriptManager в верхней части страницы; Вы можете добавить его непосредственно под открывающей серверных &lt;формы&gt; тега.

Затем перетащите элемент управления ComboBox на страницу. Элемент управления ComboBox можно найти на панели элементов с помощью других элементов управления AJAX Control Toolkit и управляющих элементов-расширителей (см. рис. 1).


[![Простая форма для создания бизнес-карточка](how-do-i-use-the-combobox-control-cs/_static/image1.jpg)](how-do-i-use-the-combobox-control-cs/_static/image1.png)

**Рис 01**: Выбрав элемент управления ComboBox с панели инструментов ([Просмотр полноразмерного изображения](how-do-i-use-the-combobox-control-cs/_static/image2.png))


Мы ll с помощью элемента управления ComboBox отображения статический список вариантов. Пользователь может выбрать определенный уровень spiciness для их качества пищевых продуктов в списке из трех вариантов: Насилия, среднего и "Горячий" уровень (см. рис. 2).


[![Выбрав из статического списка элементов](how-do-i-use-the-combobox-control-cs/_static/image2.jpg)](how-do-i-use-the-combobox-control-cs/_static/image3.png)

**Рис. 02**: Выбрав из статического списка элементов ([Просмотр полноразмерного изображения](how-do-i-use-the-combobox-control-cs/_static/image4.png))


Существует два способа, что эти варианты можно добавить к элементу управления списком. Во-первых, выберите параметр задачи изменить параметры, при наведении указателя мыши на элемент управления в режиме конструктора и откройте редактор элементов (см. рис. 3).


[![Изменение элементов поля со списком](how-do-i-use-the-combobox-control-cs/_static/image3.jpg)](how-do-i-use-the-combobox-control-cs/_static/image5.png)

**Рис 03**: Изменение поля со списком элементов ([Просмотр полноразмерного изображения](how-do-i-use-the-combobox-control-cs/_static/image6.png))


Второй вариант — Чтобы добавить список элементов между открывающим и закрывающим &lt;asp: поле со списком&gt; тегов в представлении источника. На странице в листинге 1 содержит обновленные ComboBox со списком элементов.

**В листинге 1 - Static.aspx**

[!code-aspx[Main](how-do-i-use-the-combobox-control-cs/samples/sample1.aspx)]

При открытии страницы в листинге 1, можно выбрать один из существующих параметров из поля со списком. Другими словами поле со списком работает так же, как элемент управления DropDownList.

Тем не менее у вас также есть возможность ввести новый Выбор (например, Super острый), не находится в существующий список. Таким образом поля со списком также работает как элемент управления TextBox.

Независимо от того, является ли выбрать уже существующий элемент или введите пользовательского элемента, при отправке формы, сделанный выбор появится в элементе управления label. При отправке формы, btnSubmit\_щелкните обработчик выполняет и обновляет метку (см. рис. 4).


[![Отображение выбранного элемента](how-do-i-use-the-combobox-control-cs/_static/image4.jpg)](how-do-i-use-the-combobox-control-cs/_static/image7.png)

**Рис. 04**: Отображение выбранного элемента ([Просмотр полноразмерного изображения](how-do-i-use-the-combobox-control-cs/_static/image8.png))


Поле со списком поддерживает те же свойства, что элемент управления DropDownList для извлечения выбранного элемента, после отправки формы:

- SelectedItem.Text - отображает значение свойства Text выбранного элемента.
- SelectedItem.Value - отображает значение свойства значение выбранного элемента или отображает текст, введенный в поле со списком.
- SelectedValue - аналогично SelectedItem.Value, за исключением того, что это свойство позволяет указать (начальной) выбранного элемента по умолчанию.

Если ввести пользовательский выбор в поле со списком выберите пользовательский выбор назначается SelectedItem.Text и SelectedItem.Value свойства.

## <a name="selecting-the-list-of-items-from-the-database"></a>Выбрав список элементов из базы данных

Список элементов, отображаемых в поле со списком можно получить из базы данных. Например можно привязать поле со списком для элемента управления SqlDataSource, элемент управления ObjectDataSource, LinqDataSource или элементом управления EntityDataSource.

Представьте себе, что вы хотите отобразить список фильмов в поле со списком. Вы хотите получить список фильмов из таблицы базы данных фильмов. Выполните следующие действия.

1. Создание страницы с именем Movies.aspx
2. Добавьте элемент управления ScriptManager к странице, перетащив ScriptManager из вкладки AJAX-расширения в области элементов на страницу.
3. Добавьте элемент управления ComboBox на страницу, перетащив поле со списком на страницу.
4. В режиме конструктора, наведите указатель мыши на элементе управления ComboBox и выберите **Выбор источника данных** параметр задачи (см. рис. 5). Запускается мастер настройки источника данных.
5. В **Выбор источника данных** выберите &lt;новый источник данных&gt; параметр.
6. В **Выбор типа источника данных** шаг, выберите базу данных.
7. В **Выбор подключения к данным** шаг, выберите свою базу данных (например, MoviesDB.mdf).
8. В **сохранение подключения в файле конфигурации приложения** шаг, выберите параметр, чтобы сохранить строку подключения.
9. В **Настройка инструкции Select** шаг, выберите в таблице базы данных фильмов и выберите все столбцы.
10. В **тестовый запрос** действии, нажмите кнопку "Готово".
11. Вернитесь в **Выбор источника данных** шаг, выберите заголовок столбца для поля для отображения и идентификатор столбца для данных поле (см. рисунок).
12. Чтобы закрыть мастер, нажмите кнопку ОК.


[![Выбор источника данных](how-do-i-use-the-combobox-control-cs/_static/image5.jpg)](how-do-i-use-the-combobox-control-cs/_static/image9.png)

**05 рис**: Выбор источника данных ([Просмотр полноразмерного изображения](how-do-i-use-the-combobox-control-cs/_static/image10.png))


[![Выбор полей текста и значения данных](how-do-i-use-the-combobox-control-cs/_static/image6.jpg)](how-do-i-use-the-combobox-control-cs/_static/image11.png)

**Рис 06**: Выбор полей текста и значения данных ([Просмотр полноразмерного изображения](how-do-i-use-the-combobox-control-cs/_static/image12.png))


Выполнив описанные выше действия, поле со списком привязан к элементу управления SqlDataSource, представляющий фильмы из таблицы базы данных фильмов. Исходный код страницы выглядит как листинга 2, (я вычистил форматирование немного).

**В листинге 2 - Movies.aspx**

[!code-aspx[Main](how-do-i-use-the-combobox-control-cs/samples/sample2.aspx)]

Обратите внимание, что элемент управления ComboBox, указывающий на элемент управления SqlDataSource свойство DataSourceID. При открытии страницы в браузере отображается список фильмов из базы данных (см. рис. 7). Вы можете либо подбор фильм из списка или введите новый фильм, введя в поле со списком фильма.


[![Отображение списка фильмов](how-do-i-use-the-combobox-control-cs/_static/image7.jpg)](how-do-i-use-the-combobox-control-cs/_static/image13.png)

**07 рис**: Отображается список фильмов ([Просмотр полноразмерного изображения](how-do-i-use-the-combobox-control-cs/_static/image14.png))


## <a name="setting-the-dropdownstyle"></a>Параметр значением DropDownStyle

Значением ComboBox DropDownStyle свойство используется для изменения поведения поля со списком. Это свойство принимает существует возможные значения:

- Раскрывающийся список — раскрывающемся списке, если щелкнуть стрелку и отображает поле со списком (значение по умолчанию) можно ввести пользовательское значение.
- Простая — поле со списком автоматически отображается раскрывающийся список и можно ввести пользовательское значение.
- DropDownList - поле со списком работает так же, как элемент управления DropDownList.

При отображении списка элементов — другой между раскрывающийся список и простой. В случае простой список сразу же при перемещении фокуса к элементу управления ComboBox. В случае раскрывающегося списка необходимо щелкнуть стрелку, чтобы увидеть список элементов.

Значение элемента управления DropDownList заставляет элемент управления ComboBox работать так же, как и в стандартном элементе управления DropDownList. Однако есть одним важным отличием. Более старых версиях Internet Explorer отображение элемента управления DropDownList с бесконечной z индекс, чтобы элемент управления будет отображаться перед любой элемент управления размещался перед ним. Так как поле со списком отображает HTML- &lt;div&gt; тег вместо HTML &lt;выберите&gt; тег, поле со списком правильно учитывает z порядка.

## <a name="setting-the-autocompletemode"></a>Параметр AutoCompleteMode

Свойство поля со списком AutoCompleteMode позволяет указать, что происходит, когда пользователь вводит текст в поле со списком. Это свойство принимает следующие возможные значения:

- None — (значение по умолчанию), поле со списком не поддерживает любое поведение автозавершения.
- Предложить - список поля со списком, и он выделяет соответствующий элемент в списке (см. рис. 8).
- Append - поле со списком не содержит список и добавляет соответствующий элемент из списка на набранным (см. рис. 9).
- SuggestAppend - поле со списком отображает список и добавляет соответствующий элемент из списка на набранным (см. рис. 10).


[![Поле со списком делает предложение](how-do-i-use-the-combobox-control-cs/_static/image8.jpg)](how-do-i-use-the-combobox-control-cs/_static/image15.png)

**Рис 08**: Поле со списком делает предложение ([Просмотр полноразмерного изображения](how-do-i-use-the-combobox-control-cs/_static/image16.png))


[![Поле со списком добавляет соответствующий текст](how-do-i-use-the-combobox-control-cs/_static/image9.jpg)](how-do-i-use-the-combobox-control-cs/_static/image17.png)

**Рис 09**: Поле со списком добавляет соответствующий текст ([Просмотр полноразмерного изображения](how-do-i-use-the-combobox-control-cs/_static/image18.png))


[![Поле со списком предлагает и добавляет](how-do-i-use-the-combobox-control-cs/_static/image10.jpg)](how-do-i-use-the-combobox-control-cs/_static/image19.png)

**Рис. 10**: Поле со списком предлагает и добавляет ([Просмотр полноразмерного изображения](how-do-i-use-the-combobox-control-cs/_static/image20.png))


## <a name="summary"></a>Сводка

В этом руководстве вы узнали, как использовать элемент управления поля со списком для отображения фиксированный набор элементов. Мы привязан элемент управления ComboBox, так чтобы статический набор элементов и в таблицу базы данных. Наконец вы узнали, как изменить поведение поля со списком, задавая свойства значением DropDownStyle и AutoCompleteMode.

> [!div class="step-by-step"]
> [Вперед](how-do-i-use-the-combobox-control-vb.md)
