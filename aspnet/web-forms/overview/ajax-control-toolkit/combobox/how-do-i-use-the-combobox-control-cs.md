---
uid: web-forms/overview/ajax-control-toolkit/combobox/how-do-i-use-the-combobox-control-cs
title: Разделы справки использовать элемент управления ComboBox? (C#) | Документация Майкрософт
author: microsoft
description: ComboBox — это ASP.NET элемент управления AJAX, который сочетает гибкость текстового поля со списком параметров, из которых можно выбрать пользователя.
ms.author: riande
ms.date: 05/12/2009
ms.assetid: 0bbf4134-04df-4226-8930-d5bb99e27128
msc.legacyurl: /web-forms/overview/ajax-control-toolkit/combobox/how-do-i-use-the-combobox-control-cs
msc.type: authoredcontent
ms.openlocfilehash: 1c5fc61300441303b39e348d3eee83b6ee6847b4
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78446544"
---
# <a name="how-do-i-use-the-combobox-control-c"></a>Разделы справки использовать элемент управления ComboBox? C#

по [Майкрософт](https://github.com/microsoft)

> ComboBox — это ASP.NET элемент управления AJAX, который сочетает гибкость текстового поля со списком параметров, из которых можно выбрать пользователя.

Цель этого учебника — объяснить элемент управления ComboBox набора элементов управления AJAX. Поле со списком работает как сочетание стандартного элемента управления DropDownList ASP.NET и элемента управления TextBox. Можно выбрать существующий список элементов или ввести новый элемент.

Поле со списком похоже на расширитель элемента управления автозаполнения, но элементы управления используются в различных сценариях. Расширитель автозаполнения запрашивает веб-службу для получения совпадающих записей. Элемент управления ComboBox, напротив, инициализируется набором элементов. Использование расширителя автозаполнения имеет смысл при работе с большим набором данных (миллионы частей автомобиля) при использовании элемента управления ComboBox имеет смысл при работе с небольшим набором данных (десятки частей автомобиля).

## <a name="selecting-from-a-static-list-of-items"></a>Выбор из статического списка элементов

Начнем с простого примера использования элемента управления ComboBox. Представьте, что необходимо отобразить статический список элементов в раскрывающемся списке. Однако вы хотите оставить открытым, чтобы список не был завершен. Вы хотите разрешить пользователю вводить пользовательское значение в список.

Мы создадим новую страницу веб-форм ASP.NET и используем элемент управления ComboBox на странице. Добавьте новую страницу ASP.NET в проект и переключитесь на представление конструирования.

Если вы хотите использовать на странице элемент управления ComboBox, необходимо добавить на страницу элемент управления ScriptManager. Перетащите элемент управления ScriptManager с вкладки расширения AJAX на поверхность конструктора. Элемент управления ScriptManager следует добавить в верхнюю часть страницы. его можно добавить непосредственно под открывающим &lt;форме&gt; тега.

Затем перетащите элемент управления ComboBox на страницу. Элемент управления ComboBox можно найти в области элементов с помощью других элементов управления AJAX Control Toolkit и расширителей элементов управления (см. рис).

[![простой форме для создания визитной карточки](how-do-i-use-the-combobox-control-cs/_static/image1.jpg)](how-do-i-use-the-combobox-control-cs/_static/image1.png)

**Рис. 01**. Выбор элемента управления ComboBox из панели элементов ([щелкните, чтобы просмотреть изображение с полным размером](how-do-i-use-the-combobox-control-cs/_static/image2.png))

Мы используем элемент управления ComboBox для вывода статического списка вариантов. Пользователь может выбрать определенный уровень «оживить» для своего продукта из списка трех вариантов: умеренный, средний и горячий (см. рис. 2).

[![выбор из статического списка элементов](how-do-i-use-the-combobox-control-cs/_static/image2.jpg)](how-do-i-use-the-combobox-control-cs/_static/image3.png)

**Рис. 02**. выбор из статического списка элементов ([щелкните, чтобы просмотреть изображение с полным размером](how-do-i-use-the-combobox-control-cs/_static/image4.png))

Существует два способа добавления этих вариантов в элемент управления ComboBox. Во-первых, следует выбрать параметр задачи изменить параметры при наведении указателя мыши на элемент управления в представление конструирования и открыть редактор элементов (см. рис. 3).

[Изменение элементов поля со списком ![](how-do-i-use-the-combobox-control-cs/_static/image3.jpg)](how-do-i-use-the-combobox-control-cs/_static/image5.png)

**Рис. 03**. изменение элементов поля со списком ([щелкните, чтобы просмотреть изображение с полным размером](how-do-i-use-the-combobox-control-cs/_static/image6.png))

Второй вариант — добавить список элементов между открывающим и закрывающим тегами &lt;ASP: ComboBox&gt; в представлении исходного кода. Страница в листинге 1 содержит обновленный ComboBox со списком элементов.

**Листинг 1-static. aspx**

[!code-aspx[Main](how-do-i-use-the-combobox-control-cs/samples/sample1.aspx)]

При открытии страницы в листинге 1 можно выбрать один из уже существующих параметров из поля со списком. Иными словами, поле со списком работает так же, как элемент управления DropDownList.

Однако можно также ввести новый вариант (например, Super спици), который отсутствует в существующем списке. Таким образом, поле со списком также работает как элемент управления TextBox.

Независимо от того, выбирается ли уже существующий элемент или вводится настраиваемый элемент, при отправке формы выбранный вами элемент отображается в элементе управления метка. При отправке формы обработчик btnSubmit\_Click выполняет и обновляет метку (см. рис. 4).

[![отображения выбранного элемента](how-do-i-use-the-combobox-control-cs/_static/image4.jpg)](how-do-i-use-the-combobox-control-cs/_static/image7.png)

**Рис. 04**. Отображение выбранного элемента ([щелкните, чтобы просмотреть изображение с полным размером](how-do-i-use-the-combobox-control-cs/_static/image8.png))

Поле со списком поддерживает те же свойства, что и элемент управления DropDownList для получения выбранного элемента после отправки формы:

- SelectedItem. Text — отображает значение свойства Text выбранного элемента.
- SelectedItem. Value — отображает значение свойства Value выбранного элемента или отображает текст, введенный в поле со списком.
- SelectedValue — то же, что и SelectedItem. Value, за исключением того, что это свойство позволяет указать (начальный) выбранный элемент по умолчанию.

Если в поле со списком введен пользовательский вариант, то настраиваемый вариант назначается для свойств SelectedItem. Text и SelectedItem. Value.

## <a name="selecting-the-list-of-items-from-the-database"></a>Выбор списка элементов из базы данных

Можно получить список элементов, отображаемых ComboBox из базы данных. Например, можно привязать ComboBox к элементу управления SqlDataSource, элементу управления ObjectDataSource, LinqDataSource или EntityDataSource.

Представьте, что вы хотите отобразить список фильмов в поле со списком. Необходимо получить список фильмов из таблицы базы данных фильмов. Выполните следующие действия.

1. Создание страницы с именем movies. aspx
2. Добавьте элемент управления ScriptManager на страницу, перетащив ScriptManager из вкладки расширения AJAX на панели элементов на страницу.
3. Добавьте на страницу элемент управления ComboBox, перетащив поле со списком на страницу.
4. В представление конструирования наведите указатель мыши на элемент управления ComboBox и выберите параметр задача **Выбор источника данных** (см. рис. 5). Запускается мастер настройки источника данных.
5. На шаге **Выбор источника данных** выберите параметр &lt;создать источник данных&gt;.
6. На шаге **Выбор типа источника данных** выберите База данных.
7. На шаге **Выбор подключения к данным** выберите свою базу данных (например, мовиесдб. mdf).
8. В шаге **сохранить строку подключения в файле конфигурации приложения** выберите параметр, чтобы сохранить строку подключения.
9. На шаге **Настройка инструкции SELECT** выберите таблицу Database Movies и выберите все столбцы.
10. На шаге **тестового запроса** нажмите кнопку Готово.
11. Вернитесь к шагу **Выбор источника данных** , выберите столбец Заголовок для отображаемого поля и столбец Идентификатор для поля данных (см. рисунок).
12. Нажмите кнопку ОК, чтобы закрыть мастер.

[![выбор источника данных](how-do-i-use-the-combobox-control-cs/_static/image5.jpg)](how-do-i-use-the-combobox-control-cs/_static/image9.png)

**Рис. 05**. Выбор источника данных ([щелкните, чтобы просмотреть изображение с полным размером](how-do-i-use-the-combobox-control-cs/_static/image10.png))

[![выбора полей текста и значений данных](how-do-i-use-the-combobox-control-cs/_static/image6.jpg)](how-do-i-use-the-combobox-control-cs/_static/image11.png)

**Рис. 06**. Выбор полей текста и значений данных ([щелкните, чтобы просмотреть изображение с полным размером](how-do-i-use-the-combobox-control-cs/_static/image12.png))

После выполнения описанных выше действий поле со списком будет привязано к элементу управления SqlDataSource, представляющему фильмы из таблицы базы данных фильмов. Источник страницы выглядит как листинг 2 (я очистил форматирование немного).

**Листинг 2-movies. aspx**

[!code-aspx[Main](how-do-i-use-the-combobox-control-cs/samples/sample2.aspx)]

Обратите внимание, что элемент управления ComboBox имеет свойство DataSourceID, которое указывает на элемент управления SqlDataSource. При открытии страницы в браузере отображается список фильмов из базы данных (см. рис. 7). Можно либо выбрать фильм из списка, либо ввести новый фильм, введя фильм в поле со списком.

[![отображения списка фильмов](how-do-i-use-the-combobox-control-cs/_static/image7.jpg)](how-do-i-use-the-combobox-control-cs/_static/image13.png)

**Рис. 07**. Отображение списка фильмов ([щелкните, чтобы просмотреть изображение с полным размером](how-do-i-use-the-combobox-control-cs/_static/image14.png))

## <a name="setting-the-dropdownstyle"></a>Настройка DropDownStyle

Свойство ComboBox DropDownStyle можно использовать для изменения поведения поля со списком. Это свойство принимает возможные значения:

- Раскрывающееся меню — (значение по умолчанию). в поле со списком отображается раскрывающийся список, если щелкнуть стрелку и ввести пользовательское значение.
- Simple — поле со списком автоматически отображает раскрывающийся список, и можно ввести пользовательское значение.
- DropDownList — поле со списком работает так же, как элемент управления DropDownList.

Различные раскрывающиеся и простые элементы отображаются в списке элементов. В случае простоя список отображается немедленно при перемещении фокуса на поле со списком. В случае раскрывающегося списка необходимо щелкнуть стрелку, чтобы просмотреть список элементов.

Значение DropDownList заставляет элемент управления ComboBox работать так же, как и стандартный элемент управления DropDownList. Однако здесь есть важное отличие. В предыдущих версиях Internet Explorer отображается элемент управления DropDownList с бесконечным z-индексом, поэтому элемент управления отображается перед любым элементом управления, помещенным перед ним. Поскольку поле со списком отображает тег HTML &lt;div&gt; вместо тега HTML &lt;SELECT&gt;, поле со списком правильно учитывает z-порядок.

## <a name="setting-the-autocompletemode"></a>Настройка AutoCompleteMode

Свойство ComboBox AutoCompleteMode используется для указания того, что происходит, когда пользователь вводит текст в поле со списком. Это свойство принимает следующие возможные значения:

- None-(значение по умолчанию). поле со списком не предоставляет никаких поведений автоматического завершения.
- Предложение. поле со списком Отображает список и выделяет соответствующий элемент в списке (см. рис. 8).
- Append — поле со списком не отображает список и добавляет соответствующий элемент из списка на введенный текст (см. рис. 9).
- Сугжестаппенд — поле со списком Отображает список и добавляет соответствующий элемент из списка на введенный текст (см. рис. 10).

[![поле ComboBox делает предложение](how-do-i-use-the-combobox-control-cs/_static/image8.jpg)](how-do-i-use-the-combobox-control-cs/_static/image15.png)

**Рис. 08**. предложение ComboBox ([щелкните, чтобы просмотреть изображение с полным размером](how-do-i-use-the-combobox-control-cs/_static/image16.png))

[![ComboBox добавляет соответствующий текст](how-do-i-use-the-combobox-control-cs/_static/image9.jpg)](how-do-i-use-the-combobox-control-cs/_static/image17.png)

**Рис. 09**. добавление соответствующего текста в поле со списком ([щелкните, чтобы просмотреть изображение с полным размером](how-do-i-use-the-combobox-control-cs/_static/image18.png))

[![предложении ComboBox и добавляются](how-do-i-use-the-combobox-control-cs/_static/image10.jpg)](how-do-i-use-the-combobox-control-cs/_static/image19.png)

**Рис. 10**. предложение и Добавление поля со списком ([щелкните, чтобы просмотреть изображение с полным размером](how-do-i-use-the-combobox-control-cs/_static/image20.png))

## <a name="summary"></a>Сводка

В этом руководстве вы узнали, как использовать элемент управления ComboBox для отображения фиксированного набора элементов. Элемент управления ComboBox привязан как к статическому набору элементов, так и к таблице базы данных. Наконец, вы узнали, как изменить поведение ComboBox, задав его свойства DropDownStyle и AutoCompleteMode.

> [!div class="step-by-step"]
> [Дальше](how-do-i-use-the-combobox-control-vb.md)
