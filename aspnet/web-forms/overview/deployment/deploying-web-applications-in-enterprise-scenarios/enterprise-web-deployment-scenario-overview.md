---
uid: web-forms/overview/deployment/deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview
title: Корпоративное веб-развертывание. Обзор сценария | Документация Майкрософт
author: jrjlee
description: Этот набор учебников использование примера решения с реалистичные уровень сложности, вместе с вымышленной корпоративный сценарий развертывания, для получения ref...
ms.author: riande
ms.date: 05/03/2012
ms.assetid: aa862153-4cd8-4e33-beeb-abf502c6664f
msc.legacyurl: /web-forms/overview/deployment/deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview
msc.type: authoredcontent
ms.openlocfilehash: 9786879844da13c21e6a953b1ab24b29ca8121e2
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/06/2019
ms.locfileid: "65109144"
---
# <a name="enterprise-web-deployment-scenario-overview"></a>Корпоративное веб-развертывание. Общие сведения о сценарии

по [Джейсон Lee](https://github.com/jrjlee)

[Загрузить PDF-файл](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> Этой серии руководств использует примера решения с реалистичные уровень сложности, вместе с вымышленной корпоративный сценарий развертывания, чтобы предоставить справочную реализацию и дать задач и пошаговых руководствах общий контекст. В этом разделе описывается сценарий учебника и вводит в примере решения.

## <a name="scenario-description"></a>Описание сценария

Fabrikam, Inc., вымышленной компании создается решение, позволяющее удаленного продаж группам хранения и получения контактной информации из веб-интерфейс.

Процессы управления жизненным циклом приложений (ALM) в Fabrikam, Inc. требуется решение для развертывания трех серверных сред на различных этапах процесса разработки программного обеспечения:

- Разработчик среде тестирования или «песочницы».
- Промежуточной среде интрасети.
- Рабочей среде Интернета.

Каждый из этих сред имеет собственную конфигурацию и требования к безопасности, и каждый непростой развертывания.

### <a name="the-fabrikam-inc-server-infrastructure"></a>The Fabrikam, Inc. Инфраструктура сервера

Это высокоуровневые разработку и развертывание инфраструктуры компании Fabrikam, Inc.

![](enterprise-web-deployment-scenario-overview/_static/image1.png)

Рабочие станции разработчиков, инфраструктуры управления источника, тестовая среда разработки и промежуточной среды, в которой находятся в интрасети сети в пределах домена Fabrikam.net. В рабочей среде находится в сети периметра (также называется DMZ, демилитаризованной зоной и промежуточной подсетью), которая изолирована от сети интрасети с помощью брандмауэра. Это распространенный сценарий развертывания: обычно, чтобы изолировать веб-серверов с выходом в Интернет из внутренней серверной инфраструктуры с помощью брандмауэров или серверов шлюзов.

В этом примере:

- Сервер с сервера отдельной сборки Team Foundation Server (TFS) 2010 предоставляет систему управления версиями и функциональные возможности непрерывной интеграции (CI).
- Тестовая среда разработки включает в себя веб-сервер Internet Information Services (IIS) 7.5 и сервером базы данных SQL Server 2008 R2.
- В рабочей среде включает в себя несколько веб-серверов IIS 7.5, синхронизируются с сервером контроллера веб-фермы (WFF), вместе с сервера базы данных SQL Server 2008 R2. На практике сервер базы данных может использовать кластеризации или зеркального отображения для повышения масштабируемости и доступности.
- Промежуточная среда предназначена для репликации конфигурации рабочей среды, как можно точнее.
- Политики изоляции сети и брандмауэра не допускают прямой автоматизированного развертывания из интрасети к сети периметра.

Конфигурация каждого из этих сред описана более подробно во втором учебнике [Настройка серверных сред для веб-развертывания](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).

### <a name="team-roles-for-alm"></a>Ролевых кластеров для управления жизненным циклом Приложений

Эти пользователи участвуют в создание, управление, создание и публикация решения диспетчера контактов.

- Мэтт Hink — это веб-приложения разработчик компании Fabrikam, Inc. Он является частью рабочей группы, разработанных с помощью Visual Studio 2010 решение диспетчера контактов. Мэтт имеет полными правами администратора на всех серверах в тестовой среде разработчика, которая позволяет ему настроить среду в соответствии с его потребностями. У него также есть доступ пользователей к экземпляру Visual Studio 2010 TFS, где он хранит исходный код для решения диспетчера контактов.
- Rob Walters является администратором сервера для группы Fabrikam, Inc. разработчиков. Роб имеет административный доступ на сервере TFS, таким образом, он может настраивать все аспекты TFS и Team Build. Роб административный доступ на тестовых и промежуточных веб-серверов, а также выступает в качестве администратора базы данных (DBA) для серверов баз данных в тестовых и промежуточных сред. Роб настроил Team Build на сервере TFS для выполнения этих задач:

    - Построение и выполнение модульных тестов для приложения, каждый раз, когда пользователь возвращает файл для TFS. Это называется непрерывной Интеграции.
    - Автоматическое развертывание приложения диспетчера контактов в тестовую среду, когда приложение передает модульных тестов. Сюда входят публикации базы данных на тестовом сервере, на первоначального развертывания, а также все обновления в базу данных после первоначального развертывания.
    - Разверните приложение диспетчера контактов в промежуточной среде, в процессе один шаг.
    - Создание веб-пакет, администратор веб-сервера и администратор базы данных можно использовать для публикации приложения в рабочую среду.
- Лиза Андреева является ответственным за развертывание приложений на производственных серверах Fabrikam, Inc. Администратор сервера. Она имеет доступ на чтение к общей папке, где TFS Team Build хранит пакет веб-развертывания после построения приложения диспетчера контактов. Она также имеет административный доступ к рабочие веб-серверы, что она может развертывать приложения в рабочей среде. Кроме того она действует как администратор базы данных, выполняющему развертывание баз данных и обновления базы данных на сервер базы данных в рабочей среде.

<a id="_The_Contact_Manager"></a>

### <a name="the-contact-manager-solution"></a>Решение диспетчера контактов

Диспетчер контактов решение разработано для зарегистрированных, вошедшего в систему пользователям добавлять и редактировать контактные данные через веб-интерфейс. Решение диспетчера контактов состоит из четырех отдельных проектов.

![](enterprise-web-deployment-scenario-overview/_static/image2.png)

- **ContactManager.Mvc**. Это проект веб-приложения ASP.NET MVC3, представляющий точку входа для решения. Он предлагает некоторые функции базовый веб-приложения, например предоставить пользователям возможность создавать и просматривать контактные данные. Приложение использует службы Windows Communication Foundation (WCF) для управления контактами и базы данных служб приложения ASP.NET для управления проверки подлинности и авторизации.
- **ContactManager.Database**. Это проект базы данных Visual Studio 2010. Проект определяет схему для базы данных, что хранилищ контактные данные.
- **ContactManager.Service**. Это проект веб-службы WCF. Предоставляет доступ к WCF, создать конечную точку, которая позволяет вызывающим объектам осуществлять, получения, обновления и удаления (CRUD) в базе данных диспетчера контактов. Служба зависит от базы данных диспетчера контактов и ContactManager.Common.dll сборку.
- **ContactManager.Common**. Это проект библиотеки классов. Службы WCF зависит от типов, определенных в этой сборке.

В первом руководстве этой серии, предоставляется полный обзор решения и его требования к развертыванию [веб-развертывания на предприятии](../web-deployment-in-the-enterprise/web-deployment-in-the-enterprise.md).

<a id="_Deployment_Tasks"></a>

## <a name="deployment-tasks"></a>Задачи развертывания

Существует несколько различных задач, связанных с развертыванием приложений в различных средах, в больших организациях. Ниже приведены основные задачи, которые также описаны.

![](enterprise-web-deployment-scenario-overview/_static/image3.png)

Ниже приведен список каждый шаг в процессе развертывания с точки зрения пользователей, описанных ранее в этом документе:

1. Все члены группы просмотрите решения диспетчера контактов в Visual Studio 2010, чтобы определить требования развертывания с использованием ключей и проблемы.
2. Мэтт Hink может развернуть решение диспетчера контактов непосредственно из рабочей станции разработчика в тестовую среду разработчика, для проведения первоначального тестирования логики развертывания.
3. Мэтт Hink добавляет приложение в систему управления версиями в Team Foundation Server.
4. Rob Walters создает различные определения сборки для решения диспетчера контактов в Team Build. Одно определение сборки использует CI для развертывания решения в тестовую среду разработчика, каждый раз, когда пользователь возвращает новый код. Другое определение сборки позволяет пользователям активацию развертывания в промежуточной среде, при необходимости.
5. Каждый раз при возврате нового кода, Team Build автоматически создает компоненты решения, выполняет модульные тесты и развертывает решение в тестовой среде разработчика, если построение выполнено успешно и модульные тесты пройдены.
6. Когда пользователь активирует развертывание в промежуточной среде, решение упаковывается и развертывается в процессе один шаг. Этот процесс также создает пакет ручного развертывания в рабочей среде.
7. Лиза Андреева развертывает приложения в рабочую среду, импортировав вручную веб-пакета, созданного на шаге 6.

### <a name="key-deployment-issues"></a>Проблемы развертывания с использованием ключей

Решение диспетчера контактов и сценарии компании Fabrikam, Inc. выделения различные распространенные проблемы и трудности, возникающие при развертывании комплексного решения масштаба предприятия. Пример:

- Необходимо иметь возможность развертывать проекты в нескольких средах, таких как разработчик или тестовых сред, промежуточные платформ и рабочих серверах. Решение необходимо развертывать с помощью параметров конфигурации для каждой среды.
- В этом случае необходимо выполнить развертывание несколькими зависимыми проектами одновременно в рамках один шаг или автоматического процесса построения и развертывания.
- Необходимо иметь возможность развертывания диск из автоматизированного процесса. Например вы хотите использовать процесс непрерывной Интеграции для развертывания веб-приложения в промежуточной среде, при возврате нового кода.
- Необходимо иметь возможность контролировать процесс развертывания и установки переменных развертывания вне Visual Studio, как разработчики будут иметь правильные настройки или необходимые учетные данные для каждой целевой среды.
- Необходимо развертывать проекты на основе схемы базы данных и сохранить существующие данные при последующих развертываниях.
- Необходимо выполнить развертывание базы данных членства на нерегламентированные без развертывания данных учетной записи пользователя. Также может потребоваться обновить схему баз данных развернутого членства без потери существующих данных учетной записи пользователя.
- Необходимо исключить определенные файлы или папки, при развертывании содержимого в различных целевых средах.

Кроме того Управление развертыванием, когда обновления будут частые и добавочные создает некоторыми дополнительными проблемами. Пример:

- Выполнение модульных тестов, каждый раз, когда разработчик возвращает в новом коде. Требуется только развернуть решение в том случае, если код передает модульные тесты.
- При развертывании веб-приложения в промежуточной или рабочей среде, вы хотите перенаправить пользователей к *приложения\_offline.htm* файла в течение всего процесса развертывания.
- Вы хотите войти операции развертывания. Процесс развертывания необходимо отправить уведомления по электронной почте успешных или неудачных развертываний выбранным получателям.
- При сбое автоматизированного развертывания, процесс развертывания должен повторите текущего развертывания или развертывания вместо предыдущего веб-пакета.

> [!div class="step-by-step"]
> [Назад](deploying-web-applications-in-enterprise-scenarios.md)
> [Вперед](application-lifecycle-management-from-development-to-production.md)
