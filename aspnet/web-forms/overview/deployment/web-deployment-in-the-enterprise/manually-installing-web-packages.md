---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/manually-installing-web-packages
title: Установка веб-пакетов вручную | Документация Майкрософт
author: jrjlee
description: В этом разделе описывается, как вручную импортировать пакет веб-развертывания в Internet Information Services (IIS). Создание раздела и упаковки веб приложение...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: f11d22a7-5d32-4ad0-8a9b-276460a61c06
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/manually-installing-web-packages
msc.type: authoredcontent
ms.openlocfilehash: 9d0e57eb85242a0d6fa8ca9eef7f6c741862069d
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59408801"
---
# <a name="manually-installing-web-packages"></a>Установка веб-пакетов вручную

по [Джейсон Lee](https://github.com/jrjlee)

[Скачать PDF](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> В этом разделе описывается, как вручную импортировать пакет веб-развертывания в Internet Information Services (IIS).
> 
> Раздел [сборка и упаковка проектов веб-приложений](building-and-packaging-web-application-projects.md) описано как IIS средство веб-развертывания (веб-развертывания), в сочетании с Microsoft Build Engine (MSBuild) и конвейер публикации Web (WPP), позволяет упаковать вашей проекты веб-приложений в один ZIP-файл. Этот файл, известную как пакет веб-развертывания (или просто пакет развертывания), содержит все содержимое и конфигурацию сведения, что службы IIS необходимы для повторного создания веб-приложения на веб-сервере.
> 
> После создания веб-пакет развертывания, можно опубликовать его на сервер IIS, по-разному. Во многих сценариях вы захотите воспользоваться преимуществами точек интеграции между MSBuild, WPP и веб-развертывания для создания и удаленной установке веб-пакеты как часть автоматической или один шаг процесса построения и развертывания. Этот процесс описан в [развертывание веб-пакеты](deploying-web-packages.md). Тем не менее это не всегда возможно. Предположим, что вы хотите развернуть веб-приложения в рабочей среде Интернета. По соображениям безопасности таких рабочей среде находится на очень наименьшую вероятность быть за брандмауэром в подсети отдельно от сборки, сервера в сети периметра (также называется DMZ, демилитаризованной зоной и промежуточной подсетью). Во многих случаях в рабочей среде будет в отдельном домене или в физически изолированном сети.
> 
> В этих случаях единственным вариантом может быть порт веб-пакета на целевом сервере, и вручную импортировать его в IIS. Несмотря на то, что такой подход исключает возможность автоматического развертывания, это по-прежнему очень эффективно методика для публикации веб-приложения&#x2014;просто скопировать в один ZIP-файл на веб-сервер и использовать мастер помогает выполнить процесс импорта.


Этот раздел является частью серии учебников, исходя из требования к развертыванию enterprise вымышленной компании Fabrikam, Inc. В этой серии руководств используется пример решения&#x2014; [решения диспетчера контактов](the-contact-manager-solution.md)&#x2014;для представления веб-приложения с более реалистичные уровень сложности, включая приложения ASP.NET MVC 3, Windows Communication Служба Foundation (WCF) и проект базы данных.

## <a name="task-overview"></a>Общие сведения о задачах

Вам потребуется для выполнения этих задач высокого уровня, чтобы импортировать пакет веб-развертывания в IIS:

- Создание пакета веб-развертывания, с помощью MSBuild командной строки, Team Build или Visual Studio 2010.
- Скопируйте веб-пакета на веб-сервер назначения.
- Используйте мастер импорта пакетов приложений в диспетчере служб IIS для установки веб-пакета и укажите значения для переменных, например строки подключения и конечных точек службы.

В этом разделе будет показано, как для выполнения этих процедур. Задачи и пошаговые руководства в этом разделе предполагается, что вы уже знакомы с принципами веб-пакетов, веб-развертывания и конвейера публикации в Интернете. Дополнительные сведения см. в разделе [сборка и упаковка проектов веб-приложений](building-and-packaging-web-application-projects.md).

> [!NOTE]
> В этом разделе, лучше всего использовать в сочетании с [Настройка веб-сервера для публикации веб-развертывания (автономный режим развертывания)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md), объясняется, как установить необходимые компоненты и Подготовка на веб-сайте IIS для импорта пакета.


## <a name="create-a-web-deployment-package"></a>Создать пакет веб-развертывания

Первая задача — создать пакет веб-развертывания для проекта веб-приложения, которое вы хотите развернуть. Можно создать веб-пакетов в различными способами.

**Способ 1. Создайте пакет как часть процесса построения с помощью Visual Studio**

Можно настроить проект веб-приложения, чтобы создать пакет веб-развертывания после каждой сборки через **пакета и публикация веб-** вкладки на страницах свойств проекта. Этот процесс описан в [сборка и упаковка проектов веб-приложений](building-and-packaging-web-application-projects.md).

**Способ 2. Создайте пакет как часть процесса построения с помощью MSBuild**

При построении проекта веб-приложения с помощью MSBuild напрямую, либо через пользовательский файл проекта MSBuild, либо из командной строки, можно создать пакет веб-развертывания в рамках процесса сборки, включив **DeployOnBuild = true** и **DeployTarget = пакет** свойства в команде. Этот процесс описан в [основные сведения о процессе построения](understanding-the-build-process.md).

**Способ 3. Создание пакета по запросу в Visual Studio**

Можно создать пакет веб-развертывания для проекта веб-приложения в любое время в Visual Studio 2010. Для этого в **обозревателе решений** окно, щелкните правой кнопкой мыши проект веб-приложения и нажмите кнопку **построить пакет развертывания**.

![](manually-installing-web-packages/_static/image1.png)

**Способ 4. Создание пакета по запросу из командной строки**

Можно создать пакет веб-развертывания из командной строки, вызвав **пакета** целевой объект, для проекта веб-приложения, с помощью MSBuild. Команда должна выглядеть примерно следующим образом:


[!code-console[Main](manually-installing-web-packages/samples/sample1.cmd)]


Какой подход можно использовать, конечный результат одинаков. WPP создает пакет веб-развертывания в ZIP-файл, а также различные вспомогательные ресурсы, в папку выходных данных для проекта веб-приложения.

![](manually-installing-web-packages/_static/image2.png)

Если вы планируете вручную импортировать веб-пакета, требуется только ZIP-файл. Скопируйте этот файл на целевой веб-сервер, и можно начать процесс импорта.

## <a name="import-a-web-package-into-iis"></a>Импорт веб-пакета в IIS

Можно использовать следующую процедуру для импорта веб-пакета развертывания из локальной файловой системы в на веб-сайте IIS. Прежде чем выполнять эту процедуру, убедитесь, что у вас есть:

- Скопировать пакет веб-развертывания на веб-сервер.
- Настроить веб-сервер IIS для размещения приложения.

Дополнительные сведения о настройке веб-сервер IIS для поддержки веб-развертывания пакетов см. в разделе [Настройка веб-сервера для публикации веб-развертывания (автономный режим развертывания)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md).

**Чтобы импортировать пакет веб-развертывания, с помощью диспетчера IIS**

1. В диспетчере служб IIS в **подключений** панели, щелкните правой кнопкой мыши веб-сайт IIS, выберите пункт **развернуть**, а затем нажмите кнопку **Импорт приложения**.

    ![](manually-installing-web-packages/_static/image3.png)
2. В мастере импорта пакета приложения на **выберите пакет** страницы, перейдите в расположение развертывания веб-пакет и нажмите кнопку **Далее**.
3. На **Выбор содержимого пакета** снимите любое содержимое, которое не требуется, а затем выберите **Далее**.

    ![](manually-installing-web-packages/_static/image4.png)

    > [!NOTE]
    > Во многих случаях может потребоваться импортировать все данные, поступающие с веб-развертывания пакета. Например может потребоваться разрешить веб-развертывание для замены связанной базы данных.  
    > **Предоставить разрешения** операции задать разрешения для целевой файловой системы убедитесь, что удостоверение пула приложений можно получить доступ к физическую папку, в котором хранится содержимое веб-сайта. Кроме того анонимная проверка подлинности пользователей предоставляются разрешения на чтение разрешение к папке на приложение может передавать файлы типа Multipurpose Internet Mail Extensions (MIME). При желании можно удалить эти записи и настроить разрешения вручную.
4. На **ввод данных о пакете приложения** странице, введите требуемую информацию.

    ![](manually-installing-web-packages/_static/image5.png)
5. При создании веб-пакета, WPP анализирует файл конфигурации для приложения и обнаруживает все переменные, например строки подключения и конечных точек службы. В этом случае:

    1. **Путь к приложению** — это путь IIS, где вы хотите установить приложение. Этот параметр является общим для всех пакетов развертывания, которые создает конвейера публикации в Интернете.
    2. **Адрес конечной точки службы ContactService** — это адрес, приложение должно использовать для взаимодействия с развернутой службы WCF. Этот параметр соответствует записи в *web.config* файл.
    3. Первый **строку подключения** задается строка подключения, веб-развертывания следует использовать для развертывания базы данных, связанной с приложением (в данном случае базы данных членства ASP.NET). Этот параметр соответствует параметру на **упаковка и публикация SQL** вкладке в Visual Studio.
    4. Второй **строку подключения** задается строка подключения, приложение фактически будет использовать для взаимодействия с базой данных, при это приступить к работе. Это соответствует запись строки соединения в *web.config* файл.

        > [!NOTE]
        > Дополнительные сведения о откуда берутся эти параметры, см. в разделе [Настройка параметров для развертывания веб-пакета](configuring-parameters-for-web-package-deployment.md).
6. Нажмите кнопку **Далее**.
7. Если это не в первый раз, вы развернули приложение этого веб-сайта, вам будет предложено указать, следует ли удалить все существующее содержимое перед установкой. Выберите вариант, соответствующий вашим требованиям и нажмите кнопку **Далее**.

    ![](manually-installing-web-packages/_static/image6.png)
8. После завершения установки пакета IIS щелкните **Готово**.

    ![](manually-installing-web-packages/_static/image7.png)

На этом этапе вы успешно опубликовали веб-приложения в IIS.

## <a name="conclusion"></a>Заключение

В этом разделе описано, как импортировать пакет веб-развертывания на веб-сайте IIS, с помощью диспетчера IIS. Этот подход к веб-публикации приложения подходит в тех случаях, если ограничения безопасности или инфраструктуру удаленного развертывания невозможно или нежелательно.

## <a name="further-reading"></a>Дополнительные сведения

Рекомендации по настройке веб-сервер IIS для поддержки вручную Импорт веб-пакета, см. в разделе [Настройка веб-сервера для публикации веб-развертывания (автономный режим развертывания)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md). Дополнительные общие рекомендации по развертыванию веб-пакетов, см. в разделе [Пошаговое руководство: Развертывание проекта веб-приложения, с помощью пакета веб-развертывания (часть 1 из 4)](https://msdn.microsoft.com/library/dd483479.aspx).

> [!div class="step-by-step"]
> [Назад](creating-and-running-a-deployment-command-file.md)
