---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-web-packages
title: Развертывание веб-пакетов | Документация Майкрософт
author: jrjlee
description: В этом разделе описывается публикация пакетов веб-развертывания на удаленном сервере с помощью средства веб-развертывания службы IIS (IIS) (Web...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: a5c5eed2-8683-40a5-a2e1-35c9f8d17c29
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-web-packages
msc.type: authoredcontent
ms.openlocfilehash: 91b99e6e250342851aea6860164b6f6af54818d1
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78464970"
---
# <a name="deploying-web-packages"></a><span data-ttu-id="f24af-103">Развертывание веб-пакетов</span><span class="sxs-lookup"><span data-stu-id="f24af-103">Deploying Web Packages</span></span>

<span data-ttu-id="f24af-104">кто [Джейсон Иванов](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="f24af-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="f24af-105">Скачать в формате PDF</span><span class="sxs-lookup"><span data-stu-id="f24af-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="f24af-106">В этом разделе описывается публикация пакетов веб-развертывания на удаленном сервере с помощью средства веб-развертывания службы IIS (IIS) (веб-развертывание) 2,0.</span><span class="sxs-lookup"><span data-stu-id="f24af-106">This topic describes how you can publish web deployment packages to a remote server by using the Internet Information Services (IIS) Web Deployment Tool (Web Deploy) 2.0.</span></span>
> 
> <span data-ttu-id="f24af-107">Существует два основных способа развертывания веб-пакета на удаленном сервере.</span><span class="sxs-lookup"><span data-stu-id="f24af-107">There are two main ways in which you can deploy a web package to a remote server:</span></span>
> 
> - <span data-ttu-id="f24af-108">Вы можете напрямую использовать служебную программу командной строки MSDeploy. exe.</span><span class="sxs-lookup"><span data-stu-id="f24af-108">You can use the MSDeploy.exe command-line utility directly.</span></span>
> - <span data-ttu-id="f24af-109">Вы можете запустить файл *[Project name]. deploy. cmd* , который создает процесс сборки.</span><span class="sxs-lookup"><span data-stu-id="f24af-109">You can run the *[project name].deploy.cmd* file that the build process generates.</span></span>
> 
> <span data-ttu-id="f24af-110">Конечный результат одинаков, независимо от используемого подхода.</span><span class="sxs-lookup"><span data-stu-id="f24af-110">The end result is the same regardless of which approach you use.</span></span> <span data-ttu-id="f24af-111">По сути, все файлы *. deploy. cmd* — это запуск msdeploy. exe с некоторыми предварительно определенными значениями, чтобы не нужно было предоставлять как можно больше сведений для развертывания пакета.</span><span class="sxs-lookup"><span data-stu-id="f24af-111">Essentially, all the *.deploy.cmd* file does is to run MSDeploy.exe with some predetermined values, so that you don't have to provide as much information in order to deploy the package.</span></span> <span data-ttu-id="f24af-112">Это упрощает процесс развертывания.</span><span class="sxs-lookup"><span data-stu-id="f24af-112">This simplifies the deployment process.</span></span> <span data-ttu-id="f24af-113">С другой стороны, использование MSDeploy. exe напрямую дает гораздо большую гибкость по сравнению с тем, как именно развертывается пакет.</span><span class="sxs-lookup"><span data-stu-id="f24af-113">On the other hand, using MSDeploy.exe directly gives you a lot more flexibility over exactly how your package is deployed.</span></span>
> 
> <span data-ttu-id="f24af-114">Используемый подход зависит от различных факторов, в том числе от того, какой объем контроля необходим для процесса развертывания и предназначен ли для веб-развертывание службы удаленного агента или обработчика веб-развертывание.</span><span class="sxs-lookup"><span data-stu-id="f24af-114">Which approach you use will depend on a variety of factors, including how much control you require over the deployment process and whether you're targeting the Web Deploy Remote Agent service or the Web Deploy Handler.</span></span> <span data-ttu-id="f24af-115">В этом разделе объясняется, как использовать каждый из подходов и определять, когда подходит каждый подход.</span><span class="sxs-lookup"><span data-stu-id="f24af-115">This topic explains how to use each approach and identifies when each approach is appropriate.</span></span>
> 
> <span data-ttu-id="f24af-116">В задачах и пошаговых руководствах этого раздела предполагается, что:</span><span class="sxs-lookup"><span data-stu-id="f24af-116">The tasks and walkthroughs in this topic assume that:</span></span>
> 
> - <span data-ttu-id="f24af-117">Вы создали и упакованы веб-приложение, как описано в статье [Создание и упаковка проектов веб-приложений](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-117">You've built and packaged your web application, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
> - <span data-ttu-id="f24af-118">Вы изменили файл *SetParameters. XML* , чтобы предоставить правильные значения параметров для целевой среды, как описано в разделе [Настройка параметров для развертывания веб-пакетов](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-118">You've modified the *SetParameters.xml* file to provide the right parameter values for your target environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>

<span data-ttu-id="f24af-119">Запуск файла [*Project Name*] *. deploy. cmd* — это самый простой способ развертывания веб-пакета.</span><span class="sxs-lookup"><span data-stu-id="f24af-119">Running the [*project name*]*.deploy.cmd* file is the simplest way to deploy a web package.</span></span> <span data-ttu-id="f24af-120">В частности, использование файла *. deploy. cmd* обеспечивает эти преимущества непосредственно перед использованием msdeploy. exe:</span><span class="sxs-lookup"><span data-stu-id="f24af-120">In particular, using the *.deploy.cmd* file offers these advantages over using MSDeploy.exe directly:</span></span>

- <span data-ttu-id="f24af-121">Не нужно указывать расположение пакета&#x2014;веб-развертывания файл *. deploy. cmd* уже знает, где он находится.</span><span class="sxs-lookup"><span data-stu-id="f24af-121">You don't need to specify the location of the web deployment package&#x2014;the *.deploy.cmd* file already knows where it is.</span></span>
- <span data-ttu-id="f24af-122">Указывать расположение файла&#x2014; *SetParameters. XML* не требуется. *deploy. cmd* уже знает, где он находится.</span><span class="sxs-lookup"><span data-stu-id="f24af-122">You don't need to specify the location of the *SetParameters.xml* file&#x2014;the *.deploy.cmd* file already knows where it is.</span></span>
- <span data-ttu-id="f24af-123">Не нужно указывать исходные и конечные поставщики&#x2014;msdeploy. *deploy. cmd* уже знает, какие значения следует использовать.</span><span class="sxs-lookup"><span data-stu-id="f24af-123">You don't need to specify source and destination MSDeploy providers&#x2014;the *.deploy.cmd* file already knows which values to use.</span></span>
- <span data-ttu-id="f24af-124">Не нужно указывать параметры&#x2014;операции msdeploy. *deploy. cmd* автоматически добавляет к команде msdeploy. exe часто требуемые значения.</span><span class="sxs-lookup"><span data-stu-id="f24af-124">You don't need to specify MSDeploy operation settings&#x2014;the *.deploy.cmd* file adds the commonly required values to the MSDeploy.exe command automatically.</span></span>

<span data-ttu-id="f24af-125">Прежде чем использовать файл *. deploy. cmd* для развертывания веб-пакета, необходимо убедиться в том, что:</span><span class="sxs-lookup"><span data-stu-id="f24af-125">Before you use the *.deploy.cmd* file to deploy a web package, you should ensure that:</span></span>

- <span data-ttu-id="f24af-126">Файл *. deploy. cmd* , [*имя проекта*]. Файл *SetParameters. XML* и веб-пакет ([*имя проекта*]. *ZIP*) находятся в одной папке.</span><span class="sxs-lookup"><span data-stu-id="f24af-126">The *.deploy.cmd* file, the [*project name*].*SetParameters.xml* file, and the web package ([*project name*].*zip*) are in the same folder.</span></span>
- <span data-ttu-id="f24af-127">Веб-развертывание (MSDeploy. exe) устанавливается на компьютер, на котором выполняется файл *. deploy. cmd* .</span><span class="sxs-lookup"><span data-stu-id="f24af-127">Web Deploy (MSDeploy.exe) is installed on the computer that runs the *.deploy.cmd* file.</span></span>

<span data-ttu-id="f24af-128">Файл *. deploy. cmd* поддерживает различные параметры командной строки.</span><span class="sxs-lookup"><span data-stu-id="f24af-128">The *.deploy.cmd* file supports various command-line options.</span></span> <span data-ttu-id="f24af-129">При запуске файла из командной строки это основной синтаксис:</span><span class="sxs-lookup"><span data-stu-id="f24af-129">When you run the file from a command prompt, this is the basic syntax:</span></span>

[!code-console[Main](deploying-web-packages/samples/sample1.cmd)]

<span data-ttu-id="f24af-130">Необходимо указать либо флаг **/t** , либо параметр **/y** , чтобы указать, следует ли выполнять пробный запуск или динамическое развертывание соответственно (не использовать оба флага в одной команде).</span><span class="sxs-lookup"><span data-stu-id="f24af-130">You must specify either a **/T** flag or a **/Y** flag, to indicate whether you want to perform a trial run or a live deployment respectively (don't use both flags in the same command).</span></span> <span data-ttu-id="f24af-131">В этой таблице объясняется назначение каждого из этих флагов.</span><span class="sxs-lookup"><span data-stu-id="f24af-131">This table explains the purpose of each of these flags.</span></span>

| <span data-ttu-id="f24af-132">Флаг</span><span class="sxs-lookup"><span data-stu-id="f24af-132">Flag</span></span> | <span data-ttu-id="f24af-133">Description</span><span class="sxs-lookup"><span data-stu-id="f24af-133">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f24af-134">**/T**</span><span class="sxs-lookup"><span data-stu-id="f24af-134">**/T**</span></span> | <span data-ttu-id="f24af-135">Вызывает MSDeploy. exe с флагом **– WhatIf** , который указывает на пробный запуск.</span><span class="sxs-lookup"><span data-stu-id="f24af-135">Calls MSDeploy.exe with the **–whatif** flag, which indicates a trial run.</span></span> <span data-ttu-id="f24af-136">Вместо того, чтобы развертывать пакет, он создает отчет о том, что произойдет при развертывании пакета.</span><span class="sxs-lookup"><span data-stu-id="f24af-136">Rather than deploying the package, it creates a report of what would happen if you did deploy the package.</span></span> |
| <span data-ttu-id="f24af-137">**/Y**</span><span class="sxs-lookup"><span data-stu-id="f24af-137">**/Y**</span></span> | <span data-ttu-id="f24af-138">Вызывает MSDeploy. exe без флага **-WhatIf** .</span><span class="sxs-lookup"><span data-stu-id="f24af-138">Calls MSDeploy.exe without the **–whatif** flag.</span></span> <span data-ttu-id="f24af-139">При этом пакет развертывается на локальном компьютере или на указанном целевом сервере.</span><span class="sxs-lookup"><span data-stu-id="f24af-139">This deploys the package to the local computer or the specified destination server.</span></span> |
| <span data-ttu-id="f24af-140">**/M**</span><span class="sxs-lookup"><span data-stu-id="f24af-140">**/M**</span></span> | <span data-ttu-id="f24af-141">Указывает имя целевого сервера или URL-адрес службы.</span><span class="sxs-lookup"><span data-stu-id="f24af-141">Specifies the destination server name or service URL.</span></span> <span data-ttu-id="f24af-142">Дополнительные сведения о значениях, которые можно указать здесь, см. в подразделе " **рекомендации для конечных точек** " этой статьи.</span><span class="sxs-lookup"><span data-stu-id="f24af-142">For more information on the values you can provide here, see the **Endpoint Considerations** section in this topic.</span></span> <span data-ttu-id="f24af-143">Если опустить флаг **/m** , пакет будет развернут на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="f24af-143">If you omit the **/M** flag, the package will be deployed to the local computer.</span></span> |
| <span data-ttu-id="f24af-144">**/**</span><span class="sxs-lookup"><span data-stu-id="f24af-144">**/A**</span></span> | <span data-ttu-id="f24af-145">Указывает тип проверки подлинности, который MSDeploy. exe должен использовать для выполнения развертывания.</span><span class="sxs-lookup"><span data-stu-id="f24af-145">Specifies the authentication type that MSDeploy.exe should use to perform the deployment.</span></span> <span data-ttu-id="f24af-146">Возможные значения: **NTLM** и **Basic**.</span><span class="sxs-lookup"><span data-stu-id="f24af-146">Possible values are **NTLM** and **Basic**.</span></span> <span data-ttu-id="f24af-147">Если опустить флаг **/a** , по умолчанию используется тип проверки подлинности **NTLM** для развертывания в службе удаленного агента веб-развертывание **и для развертывания** в обработчик веб-развертывание.</span><span class="sxs-lookup"><span data-stu-id="f24af-147">If you omit the **/A** flag, the authentication type defaults to **NTLM** for deployment to the Web Deploy Remote Agent service and to **Basic** for deployment to the Web Deploy Handler.</span></span> |
| <span data-ttu-id="f24af-148">**/U**</span><span class="sxs-lookup"><span data-stu-id="f24af-148">**/U**</span></span> | <span data-ttu-id="f24af-149">Указывает имя пользователя.</span><span class="sxs-lookup"><span data-stu-id="f24af-149">Specifies the user name.</span></span> <span data-ttu-id="f24af-150">Это применимо только в том случае, если используется обычная проверка подлинности.</span><span class="sxs-lookup"><span data-stu-id="f24af-150">This applies only if you're using basic authentication.</span></span> |
| <span data-ttu-id="f24af-151">**/P**</span><span class="sxs-lookup"><span data-stu-id="f24af-151">**/P**</span></span> | <span data-ttu-id="f24af-152">Задает пароль.</span><span class="sxs-lookup"><span data-stu-id="f24af-152">Specifies the password.</span></span> <span data-ttu-id="f24af-153">Это применимо только в том случае, если используется обычная проверка подлинности.</span><span class="sxs-lookup"><span data-stu-id="f24af-153">This applies only if you're using basic authentication.</span></span> |
| <span data-ttu-id="f24af-154">**/L**</span><span class="sxs-lookup"><span data-stu-id="f24af-154">**/L**</span></span> | <span data-ttu-id="f24af-155">Указывает, что пакет должен быть развернут в локальном экземпляре IIS Express.</span><span class="sxs-lookup"><span data-stu-id="f24af-155">Indicates that the package should be deployed to the local IIS Express instance.</span></span> |
| <span data-ttu-id="f24af-156">**/G**</span><span class="sxs-lookup"><span data-stu-id="f24af-156">**/G**</span></span> | <span data-ttu-id="f24af-157">Указывает, что пакет развертывается с помощью [параметра поставщика темпажент](https://technet.microsoft.com/library/ee517345(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="f24af-157">Specifies that the package is deployed using the [tempAgent provider setting](https://technet.microsoft.com/library/ee517345(WS.10).aspx).</span></span> <span data-ttu-id="f24af-158">Если опустить флаг **/g** , по умолчанию будет задано значение **false**.</span><span class="sxs-lookup"><span data-stu-id="f24af-158">If you omit the **/G** flag, the value defaults to **false**.</span></span> |

> [!NOTE]
> <span data-ttu-id="f24af-159">Каждый раз, когда процесс сборки создает веб-пакет, он также создает файл с именем *[имя проекта]. деплой-реадме. txt* , объясняющий эти параметры развертывания.</span><span class="sxs-lookup"><span data-stu-id="f24af-159">Every time the build process creates a web package, it also creates a file named *[project name].deploy-readme.txt* that explains these deployment options.</span></span>

<span data-ttu-id="f24af-160">В дополнение к этим флагам можно указать веб-развертывание параметры операции в качестве дополнительных параметров *. deploy. cmd* .</span><span class="sxs-lookup"><span data-stu-id="f24af-160">In addition to these flags, you can specify Web Deploy operation settings as additional *.deploy.cmd* parameters.</span></span> <span data-ttu-id="f24af-161">Любые дополнительные параметры, заданные вами, просто передаются в соответствующую команду MSDeploy. exe.</span><span class="sxs-lookup"><span data-stu-id="f24af-161">Any additional settings you specify are simply passed through to the underlying MSDeploy.exe command.</span></span> <span data-ttu-id="f24af-162">Дополнительные сведения об этих параметрах см. в разделе [параметры веб-развертывание операции](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="f24af-162">For more information on these settings, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span>

<span data-ttu-id="f24af-163">Предположим, что вы хотите развернуть проект веб-приложения ContactManager. MVC в тестовой среде, запустив файл *. deploy. cmd* .</span><span class="sxs-lookup"><span data-stu-id="f24af-163">Suppose you want to deploy the ContactManager.Mvc web application project to a test environment by running the *.deploy.cmd* file.</span></span> <span data-ttu-id="f24af-164">Тестовая среда настроена для использования службы удаленного агента веб-развертывание, как описано в разделе [Настройка веб-сервера для публикации веб-развертывание (удаленный агент)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-164">Your test environment is configured to use the Web Deploy Remote Agent service, as described in [Configure a Web Server for Web Deploy Publishing (Remote Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span></span> <span data-ttu-id="f24af-165">Чтобы развернуть веб-приложение, необходимо выполнить следующие действия.</span><span class="sxs-lookup"><span data-stu-id="f24af-165">To deploy the web application, you need to complete the next steps.</span></span>

<span data-ttu-id="f24af-166">**Развертывание веб-приложения с помощью файла. deploy. cmd**</span><span class="sxs-lookup"><span data-stu-id="f24af-166">**To deploy a web application using the .deploy.cmd file**</span></span>

1. <span data-ttu-id="f24af-167">Создайте и упакуйте проект веб-приложения, как описано в статье [Создание и упаковка проектов веб-приложений](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-167">Build and package the web application project, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
2. <span data-ttu-id="f24af-168">Измените файл *ContactManager. MVC. SetParameters. XML* , чтобы он содержал правильные значения параметров для тестовой среды, как описано в разделе [Настройка параметров для развертывания веб-пакетов](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-168">Modify the *ContactManager.Mvc.SetParameters.xml* file to contain the correct parameter values for your test environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>
3. <span data-ttu-id="f24af-169">Откройте окно командной строки и перейдите к расположению файла *ContactManager. MVC. deploy. cmd* .</span><span class="sxs-lookup"><span data-stu-id="f24af-169">Open a Command Prompt window and navigate to the location of the *ContactManager.Mvc.deploy.cmd* file.</span></span>
4. <span data-ttu-id="f24af-170">Введите эту команду и нажмите клавишу ВВОД:</span><span class="sxs-lookup"><span data-stu-id="f24af-170">Type this command, and then press Enter:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample2.cmd)]

<span data-ttu-id="f24af-171">В данном примере:</span><span class="sxs-lookup"><span data-stu-id="f24af-171">In this example:</span></span>

- <span data-ttu-id="f24af-172">Флаг **/y** означает, что вы хотите действительно развернуть пакет, а не выполнять пробный запуск.</span><span class="sxs-lookup"><span data-stu-id="f24af-172">The **/Y** flag indicates that you want to actually deploy the package, rather than doing a trial run.</span></span>
- <span data-ttu-id="f24af-173">Флаг **/m** указывает, что необходимо развернуть пакет на сервере с именем TESTWEB1.</span><span class="sxs-lookup"><span data-stu-id="f24af-173">The **/M** flag indicates that you want to deploy the package to the server named TESTWEB1.</span></span> <span data-ttu-id="f24af-174">По этому значению MSDeploy. exe попытается развернуть пакет в службе удаленного агента веб-развертывание на http://TESTWEB1/MSDeployAgentService.</span><span class="sxs-lookup"><span data-stu-id="f24af-174">From this value, MSDeploy.exe will attempt to deploy the package to the Web Deploy Remote Agent service at http://TESTWEB1/MSDeployAgentService.</span></span>
- <span data-ttu-id="f24af-175">Флаг **/a** указывает, что вы хотите использовать проверку подлинности NTLM.</span><span class="sxs-lookup"><span data-stu-id="f24af-175">The **/A** flag indicates that you want to use NTLM authentication.</span></span> <span data-ttu-id="f24af-176">Поэтому не нужно указывать имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="f24af-176">As such, you don't need to specify a user name and password.</span></span>

<span data-ttu-id="f24af-177">Чтобы продемонстрировать, как использование файла *. deploy. cmd* упрощает процесс развертывания, Взгляните на команду msdeploy. exe, которая создается и выполняется при запуске *ContactManager. MVC. deploy. cmd* с помощью параметров, приведенных выше.</span><span class="sxs-lookup"><span data-stu-id="f24af-177">To illustrate how using the *.deploy.cmd* file simplifies the deployment process, take a look at the MSDeploy.exe command that gets generated and executed when you run *ContactManager.Mvc.deploy.cmd* using the options shown above.</span></span>

[!code-console[Main](deploying-web-packages/samples/sample3.cmd)]

<span data-ttu-id="f24af-178">Дополнительные сведения об использовании файла *. deploy. cmd* для развертывания веб-пакета см. в разделе [инструкции. Установка пакета развертывания с помощью файла deploy. cmd](https://msdn.microsoft.com/library/ff356104.aspx).</span><span class="sxs-lookup"><span data-stu-id="f24af-178">For more information on using the *.deploy.cmd* file to deploy a web package, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span>

## <a name="using-msdeployexe"></a><span data-ttu-id="f24af-179">Использование MSDeploy. exe</span><span class="sxs-lookup"><span data-stu-id="f24af-179">Using MSDeploy.exe</span></span>

<span data-ttu-id="f24af-180">Хотя использование файла *. deploy. cmd* , как правило, упрощает процесс развертывания, в некоторых ситуациях предпочтительно использовать msdeploy. exe напрямую.</span><span class="sxs-lookup"><span data-stu-id="f24af-180">Although using the *.deploy.cmd* file generally simplifies the deployment process, there are some situations when it's preferable to use MSDeploy.exe directly.</span></span> <span data-ttu-id="f24af-181">Пример:</span><span class="sxs-lookup"><span data-stu-id="f24af-181">For example:</span></span>

- <span data-ttu-id="f24af-182">Если требуется выполнить развертывание в обработчик веб-развертывание от имени пользователя без прав администратора, нельзя использовать файл *. deploy. cmd* .</span><span class="sxs-lookup"><span data-stu-id="f24af-182">If you want to deploy to the Web Deploy Handler as a non-administrator user, you can't use the *.deploy.cmd* file.</span></span> <span data-ttu-id="f24af-183">Это происходит из-за ошибки в веб-развертывание 2,0, как описано в разделе **рекомендации по конечной точке**.</span><span class="sxs-lookup"><span data-stu-id="f24af-183">This is due to a bug in Web Deploy 2.0, as described under **Endpoint Considerations**.</span></span>
- <span data-ttu-id="f24af-184">Если вы хотите вручную переключаться между различными файлами *SetParameters. XML* в разных местах, вы можете использовать msdeploy. exe напрямую.</span><span class="sxs-lookup"><span data-stu-id="f24af-184">If you want to manually switch between different *SetParameters.xml* files in different locations, you may prefer to use MSDeploy.exe directly.</span></span>
- <span data-ttu-id="f24af-185">Если вы хотите переопределить несколько аргументов командной строки MSDeploy. exe, вы можете использовать MSDeploy. exe напрямую.</span><span class="sxs-lookup"><span data-stu-id="f24af-185">If you want to override several MSDeploy.exe command-line arguments, you may prefer to use MSDeploy.exe directly.</span></span>

<span data-ttu-id="f24af-186">При использовании MSDeploy. exe необходимо предоставить три ключевых фрагмента информации:</span><span class="sxs-lookup"><span data-stu-id="f24af-186">When you use MSDeploy.exe, you need to provide three key pieces of information:</span></span>

- <span data-ttu-id="f24af-187">Параметр **– Source** , который указывает, откуда берутся данные.</span><span class="sxs-lookup"><span data-stu-id="f24af-187">A **–source** parameter that indicates where your data is coming from.</span></span>
- <span data-ttu-id="f24af-188">Параметр **– dest** , который указывает, куда будут находиться данные.</span><span class="sxs-lookup"><span data-stu-id="f24af-188">A **–dest** parameter that indicates where your data is going to.</span></span>
- <span data-ttu-id="f24af-189">Параметр **– verb** , указывающий [операцию](https://technet.microsoft.com/library/dd568989(WS.10).aspx) , которую необходимо выполнить.</span><span class="sxs-lookup"><span data-stu-id="f24af-189">A **–verb** parameter that indicates the [operation](https://technet.microsoft.com/library/dd568989(WS.10).aspx) you want to perform.</span></span>

<span data-ttu-id="f24af-190">MSDeploy. exe использует [поставщиков веб-развертывание](https://technet.microsoft.com/library/dd569040(WS.10).aspx) для обработки исходных и целевых данных.</span><span class="sxs-lookup"><span data-stu-id="f24af-190">MSDeploy.exe relies on [Web Deploy providers](https://technet.microsoft.com/library/dd569040(WS.10).aspx) to process source and destination data.</span></span> <span data-ttu-id="f24af-191">Веб-развертывание включает множество поставщиков, представляющих диапазон приложений и источников данных, с&#x2014;которыми он может работать. Например, существуют поставщики SQL Server баз данных, веб-серверов IIS, сертификатов, сборок глобального кэша сборок, различных файлов конфигурации и множества других типов данных.</span><span class="sxs-lookup"><span data-stu-id="f24af-191">Web Deploy includes a lot of providers that represent the range of applications and data sources it can work with&#x2014;for example, there are providers for SQL Server databases, IIS web servers, certificates, global assembly cache (GAC) assemblies, various different configuration files, and lots of other types of data.</span></span> <span data-ttu-id="f24af-192">Оба параметра **– Source** и **– dest** должны указывать поставщик в формате **-Source**: [*providerName*] = [*Location*].</span><span class="sxs-lookup"><span data-stu-id="f24af-192">Both the **–source** parameter and the **–dest** parameter must specify a provider, in the form **–source**:[*providerName*]=[*location*].</span></span> <span data-ttu-id="f24af-193">При развертывании веб-пакета на веб-сайте IIS следует использовать следующие значения:</span><span class="sxs-lookup"><span data-stu-id="f24af-193">When you're deploying a web package to an IIS website, you should use these values:</span></span>

- <span data-ttu-id="f24af-194">Поставщик **-источник** всегда является [пакетным](https://technet.microsoft.com/library/dd569019(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="f24af-194">The **–source** provider is always [package](https://technet.microsoft.com/library/dd569019(WS.10).aspx).</span></span> <span data-ttu-id="f24af-195">Пример:</span><span class="sxs-lookup"><span data-stu-id="f24af-195">For example:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample4.cmd)]
- <span data-ttu-id="f24af-196">Поставщик **– dest** всегда имеет значение [Auto](https://technet.microsoft.com/library/dd569016(WS.10).aspx). Например:</span><span class="sxs-lookup"><span data-stu-id="f24af-196">The **–dest** provider is always [auto](https://technet.microsoft.com/library/dd569016(WS.10).aspx). For example:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample5.cmd)]
- <span data-ttu-id="f24af-197">**Команда –** всегда **синхронизирована**.</span><span class="sxs-lookup"><span data-stu-id="f24af-197">The **–verb** is always **sync**.</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample6.cmd)]

<span data-ttu-id="f24af-198">Кроме того, необходимо указать другие [Параметры, зависящие от поставщика](https://technet.microsoft.com/library/dd569001(WS.10).aspx) , и общие [Параметры операций](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="f24af-198">In addition, you'll need to specify various other [provider-specific settings](https://technet.microsoft.com/library/dd569001(WS.10).aspx) and general [operation settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span> <span data-ttu-id="f24af-199">Например, предположим, что вы хотите развернуть веб-приложение ContactManager. MVC в промежуточной среде.</span><span class="sxs-lookup"><span data-stu-id="f24af-199">For example, suppose you want to deploy the ContactManager.Mvc web application to a staging environment.</span></span> <span data-ttu-id="f24af-200">Развертывание будет нацелено на обработчик веб-развертывание и должно использовать обычную проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="f24af-200">The deployment will target the Web Deploy Handler and must use basic authentication.</span></span> <span data-ttu-id="f24af-201">Чтобы развернуть веб-приложение, необходимо выполнить следующие действия.</span><span class="sxs-lookup"><span data-stu-id="f24af-201">To deploy the web application, you need to complete the next steps.</span></span>

<span data-ttu-id="f24af-202">**Развертывание веб-приложения с помощью MSDeploy. exe**</span><span class="sxs-lookup"><span data-stu-id="f24af-202">**To deploy a web application using MSDeploy.exe**</span></span>

1. <span data-ttu-id="f24af-203">Создайте и упакуйте проект веб-приложения, как описано в статье [Создание и упаковка проектов веб-приложений](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-203">Build and package the web application project, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
2. <span data-ttu-id="f24af-204">Измените файл *ContactManager. MVC. SetParameters. XML* , чтобы он содержал правильные значения параметров для промежуточной среды, как описано в разделе [Настройка параметров для развертывания веб-пакетов](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-204">Modify the *ContactManager.Mvc.SetParameters.xml* file to contain the correct parameter values for your staging environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>
3. <span data-ttu-id="f24af-205">Откройте окно командной строки и перейдите в расположение MSDeploy. exe.</span><span class="sxs-lookup"><span data-stu-id="f24af-205">Open a Command Prompt window and browse to the location of MSDeploy.exe.</span></span> <span data-ttu-id="f24af-206">Обычно это%Програмфилес%\иис\микрософт веб-развертывание V2\msdeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="f24af-206">This is typically at %PROGRAMFILES%\IIS\Microsoft Web Deploy V2\msdeploy.exe.</span></span>
4. <span data-ttu-id="f24af-207">Введите эту команду и нажмите клавишу ВВОД (пропустите разрывы строк):</span><span class="sxs-lookup"><span data-stu-id="f24af-207">Type this command, and then press Enter (disregard the line breaks):</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample7.cmd)]

<span data-ttu-id="f24af-208">В данном примере:</span><span class="sxs-lookup"><span data-stu-id="f24af-208">In this example:</span></span>

- <span data-ttu-id="f24af-209">Параметр **-Source** указывает поставщик **пакета** и указывает расположение веб-пакета.</span><span class="sxs-lookup"><span data-stu-id="f24af-209">The **–source** parameter specifies the **package** provider and indicates the location of the web package.</span></span>
- <span data-ttu-id="f24af-210">Параметр **– dest** задает **Автоматическое** определение поставщика.</span><span class="sxs-lookup"><span data-stu-id="f24af-210">The **–dest** parameter specifies the **auto** provider.</span></span> <span data-ttu-id="f24af-211">Параметр **ComputerName** предоставляет URL-адрес службы обработчика веб-развертывание на целевом сервере.</span><span class="sxs-lookup"><span data-stu-id="f24af-211">The **computerName** setting provides the service URL of the Web Deploy Handler on the destination server.</span></span> <span data-ttu-id="f24af-212">Параметр **AuthType** указывает, что требуется использовать обычную проверку подлинности, и, таким образом, необходимо указать **имя пользователя** и **пароль**.</span><span class="sxs-lookup"><span data-stu-id="f24af-212">The **authtype** setting indicates that you want to use basic authentication, and as such you need to provide a **username** and a **password**.</span></span> <span data-ttu-id="f24af-213">Наконец, параметр **инклудеаклс = "false"** указывает, что не нужно копировать списки управления доступом (ACL) файлов в исходном веб-приложении на целевой сервер.</span><span class="sxs-lookup"><span data-stu-id="f24af-213">Finally, the **includeAcls="False"** setting indicates that you don't want to copy the access control lists (ACLs) of the files in your source web application to the destination server.</span></span>
- <span data-ttu-id="f24af-214">Аргумент **– глагол: Sync** указывает, что вы хотите реплицировать исходное содержимое на целевом сервере.</span><span class="sxs-lookup"><span data-stu-id="f24af-214">The **–verb:sync** argument indicates that you want to replicate the source content on the destination server.</span></span>
- <span data-ttu-id="f24af-215">Аргументы **– disableLink** указывают, что вы не хотите реплицировать пулы приложений, конфигурацию виртуального каталога или сертификаты SSL (SSL) на целевом сервере.</span><span class="sxs-lookup"><span data-stu-id="f24af-215">The **–disableLink** arguments indicate that you don't want to replicate application pools, virtual directory configuration, or Secure Sockets Layer (SSL) certificates on the destination server.</span></span> <span data-ttu-id="f24af-216">Дополнительные сведения см. в разделе [расширения ссылок веб-развертывание](https://technet.microsoft.com/library/dd569028(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="f24af-216">For more information, see [Web Deploy Link Extensions](https://technet.microsoft.com/library/dd569028(WS.10).aspx).</span></span>
- <span data-ttu-id="f24af-217">Параметр **– сетпарамфиле** задает расположение файла *SetParameters. XML* .</span><span class="sxs-lookup"><span data-stu-id="f24af-217">The **–setParamFile** parameter provides the location of the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="f24af-218">Параметр **– алловунтрустед** указывает, что веб-развертывание должен принимать SSL-сертификаты, которые не были выданы доверенным центром сертификации.</span><span class="sxs-lookup"><span data-stu-id="f24af-218">The **–allowUntrusted** switch indicates that Web Deploy should accept SSL certificates that were not issued by a trusted certification authority.</span></span> <span data-ttu-id="f24af-219">Если вы развертываете в обработчик веб-развертывание и используете самозаверяющий сертификат для защиты URL-адреса службы, необходимо включить этот параметр.</span><span class="sxs-lookup"><span data-stu-id="f24af-219">If you're deploying to the Web Deploy Handler, and you've used a self-signed certificate to secure the service URL, you need to include this switch.</span></span>

## <a name="automating-web-package-deployment"></a><span data-ttu-id="f24af-220">Автоматизация развертывания веб-пакетов</span><span class="sxs-lookup"><span data-stu-id="f24af-220">Automating Web Package Deployment</span></span>

<span data-ttu-id="f24af-221">В большинстве корпоративных сценариев вам потребуется развернуть веб-пакеты в рамках более крупного или автоматизированного развертывания.</span><span class="sxs-lookup"><span data-stu-id="f24af-221">In a lot of enterprise scenarios, you'll want to deploy your web packages as part of a larger single-step or automated deployment.</span></span> <span data-ttu-id="f24af-222">Независимо от того, выбрано ли развертывание веб-пакетов путем запуска файла *. deploy. cmd* или непосредственно с помощью MSDeploy. exe, можно параметризовать команды и вызывать их из целевого объекта в Microsoft Build Engineном файле проекта (MSBuild).</span><span class="sxs-lookup"><span data-stu-id="f24af-222">Regardless of whether you choose to deploy your web packages by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you can parameterize your commands and call them from a target in a Microsoft Build Engine (MSBuild) project file.</span></span>

<span data-ttu-id="f24af-223">В образце решения диспетчера контактов ознакомьтесь с целевым объектом **публишвебпаккажес** в файле *Publish. proj* .</span><span class="sxs-lookup"><span data-stu-id="f24af-223">In the Contact Manager sample solution, take a look at the **PublishWebPackages** target in the *Publish.proj* file.</span></span> <span data-ttu-id="f24af-224">Этот целевой объект выполняется один раз для каждого файла *. deploy. cmd* , идентифицируемого списком элементов с именем **публишпаккажес**.</span><span class="sxs-lookup"><span data-stu-id="f24af-224">This target runs once for each *.deploy.cmd* file identified by an item list named **PublishPackages**.</span></span> <span data-ttu-id="f24af-225">Целевой объект использует свойства и метаданные элемента для создания полного набора значений аргументов для каждого файла *. deploy. cmd* , а затем использует задачу **exec** для выполнения команды.</span><span class="sxs-lookup"><span data-stu-id="f24af-225">The target uses properties and item metadata to build up a full set of argument values for each *.deploy.cmd* file and then uses the **Exec** task to run the command.</span></span>

[!code-xml[Main](deploying-web-packages/samples/sample8.xml)]

> [!NOTE]
> <span data-ttu-id="f24af-226">Более широкий обзор модели файла проекта в образце решения и общие сведения о файлах пользовательских проектов см. в разделе [Основные сведения о файле проекта](understanding-the-project-file.md) и [понимании процесса сборки](understanding-the-build-process.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-226">For a broader overview of the project file model in the sample solution, and an introduction to custom project files in general, see [Understanding the Project File](understanding-the-project-file.md) and [Understanding the Build Process](understanding-the-build-process.md).</span></span>

## <a name="endpoint-considerations"></a><span data-ttu-id="f24af-227">Рекомендации по конечной точке</span><span class="sxs-lookup"><span data-stu-id="f24af-227">Endpoint Considerations</span></span>

<span data-ttu-id="f24af-228">Независимо от того, выполняется ли развертывание веб-пакета путем запуска файла *deploy. cmd* или непосредственно с помощью MSDeploy. exe, необходимо указать имя компьютера или конечную точку службы для развертывания.</span><span class="sxs-lookup"><span data-stu-id="f24af-228">Regardless of whether you deploy your web package by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you need to specify a computer name or a service endpoint for your deployment.</span></span>

<span data-ttu-id="f24af-229">Если целевой веб-сервер настроен для развертывания с помощью службы веб-развертывание Remote Agent, укажите URL-адрес целевой службы в качестве места назначения.</span><span class="sxs-lookup"><span data-stu-id="f24af-229">If the destination web server is configured for deployment using the Web Deploy Remote Agent service, you specify the target service URL as your destination.</span></span>

[!code-console[Main](deploying-web-packages/samples/sample9.cmd)]

<span data-ttu-id="f24af-230">Кроме того, можно указать имя сервера в качестве места назначения, а веб-развертывание будет вычислять URL-адрес удаленной службы агента.</span><span class="sxs-lookup"><span data-stu-id="f24af-230">Alternatively, you can specify the server name alone as your destination, and Web Deploy will infer the remote agent service URL.</span></span>

[!code-console[Main](deploying-web-packages/samples/sample10.cmd)]

<span data-ttu-id="f24af-231">Если целевой веб-сервер настроен для развертывания с помощью обработчика веб-развертывание, необходимо указать адрес конечной точки службы веб-управления IIS (WMSvc) в качестве места назначения.</span><span class="sxs-lookup"><span data-stu-id="f24af-231">If the destination web server is configured for deployment using the Web Deploy Handler, you need to specify the endpoint address of the IIS Web Management Service (WMSvc) as your destination.</span></span> <span data-ttu-id="f24af-232">По умолчанию используется следующий вид:</span><span class="sxs-lookup"><span data-stu-id="f24af-232">By default, this takes the form:</span></span>

[!code-console[Main](deploying-web-packages/samples/sample11.cmd)]

<span data-ttu-id="f24af-233">Вы можете ориентироваться на любую из этих конечных точек, используя либо непосредственно файл *. deploy. cmd* , либо msdeploy. exe.</span><span class="sxs-lookup"><span data-stu-id="f24af-233">You can target any of these endpoints using either the *.deploy.cmd* file or MSDeploy.exe directly.</span></span> <span data-ttu-id="f24af-234">Однако если требуется выполнить развертывание в обработчик веб-развертывание как пользователя без прав администратора, как описано в разделе [Настройка веб-сервера для публикации веб-развертывание (обработчик веб-развертывание)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md), необходимо добавить строку запроса в адрес конечной точки службы.</span><span class="sxs-lookup"><span data-stu-id="f24af-234">However, if you want to deploy to the Web Deploy Handler as a non-administrator user, as described in [Configure a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md), you need to add a query string to the service endpoint address.</span></span>

[!code-console[Main](deploying-web-packages/samples/sample12.cmd)]

<span data-ttu-id="f24af-235">Это обусловлено тем, что пользователь без прав администратора не имеет доступа на уровне сервера к службам IIS. Он имеет доступ только к определенному веб-сайту IIS.</span><span class="sxs-lookup"><span data-stu-id="f24af-235">This is because the non-administrator user doesn't have server-level access to IIS; he or she only has access to a specific IIS website.</span></span> <span data-ttu-id="f24af-236">На момент написания статьи из-за ошибки в конвейере веб-публикаций нельзя запустить файл *. deploy. cmd* , используя адрес конечной точки, включающий строку запроса.</span><span class="sxs-lookup"><span data-stu-id="f24af-236">At the time of writing, due to a bug in the Web Publishing Pipeline (WPP), you can't run the *.deploy.cmd* file using an endpoint address that includes a query string.</span></span> <span data-ttu-id="f24af-237">В этом сценарии необходимо развернуть веб-пакет с помощью MSDeploy. exe напрямую.</span><span class="sxs-lookup"><span data-stu-id="f24af-237">In this scenario, you need to deploy your web package by using MSDeploy.exe directly.</span></span>

> [!NOTE]
> <span data-ttu-id="f24af-238">Дополнительные сведения о службе удаленного агента веб-развертывание и обработчике веб-развертывание см. в разделе [Выбор правильного подхода к веб-развертыванию](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-238">For more information on the Web Deploy Remote Agent service and the Web Deploy Handler, see [Choosing the Right Approach to Web Deployment](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md).</span></span> <span data-ttu-id="f24af-239">Инструкции по настройке файлов проекта для конкретной среды для развертывания в этих конечных точках см. в разделе [Настройка свойств развертывания для целевой среды](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-239">For guidance on how to configure your environment-specific project files to deploy to these endpoints, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>

## <a name="authentication-considerations"></a><span data-ttu-id="f24af-240">Вопросы, касающиеся проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="f24af-240">Authentication Considerations</span></span>

<span data-ttu-id="f24af-241">Независимо от того, выполняется ли развертывание веб-пакета путем запуска файла *. deploy. cmd* или непосредственно с помощью MSDeploy. exe, необходимо указать тип проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="f24af-241">Regardless of whether you deploy your web package by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you need to specify an authentication type.</span></span> <span data-ttu-id="f24af-242">Веб-развертывание принимает два возможных значения: **NTLM** или **Basic**.</span><span class="sxs-lookup"><span data-stu-id="f24af-242">Web Deploy accepts two possible values: **NTLM** or **Basic**.</span></span> <span data-ttu-id="f24af-243">При указании обычной проверки подлинности также необходимо указать имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="f24af-243">If you specify basic authentication, you also need to provide a user name and password.</span></span> <span data-ttu-id="f24af-244">При выборе типа проверки подлинности необходимо учитывать различные факторы.</span><span class="sxs-lookup"><span data-stu-id="f24af-244">There are various factors you need to be aware of when you select an authentication type:</span></span>

- <span data-ttu-id="f24af-245">Если выполняется развертывание в службе удаленного агента веб-развертывание, необходимо использовать проверку подлинности NTLM.</span><span class="sxs-lookup"><span data-stu-id="f24af-245">If you're deploying to the Web Deploy Remote Agent service, you must use NTLM authentication.</span></span> <span data-ttu-id="f24af-246">Служба удаленного агента не принимает учетные данные обычной проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="f24af-246">The remote agent service doesn't accept basic authentication credentials.</span></span>
- <span data-ttu-id="f24af-247">При развертывании в обработчик веб-развертывание можно использовать проверку подлинности NTLM или обычную.</span><span class="sxs-lookup"><span data-stu-id="f24af-247">If you're deploying to the Web Deploy Handler, you can use either NTLM or basic authentication.</span></span> <span data-ttu-id="f24af-248">Значение по умолчанию — обычная проверка подлинности.</span><span class="sxs-lookup"><span data-stu-id="f24af-248">The default setting is basic authentication.</span></span> <span data-ttu-id="f24af-249">Хотя обычная проверка подлинности зависит от имен пользователей и паролей, передаваемых в виде обычного текста, учетные данные защищаются, так как обработчик веб-развертывание всегда использует шифрование SSL.</span><span class="sxs-lookup"><span data-stu-id="f24af-249">Although basic authentication relies on user names and passwords being transmitted in plain text, your credentials are protected as the Web Deploy Handler always uses SSL encryption.</span></span>
- <span data-ttu-id="f24af-250">Если веб-пакет содержит базу данных, а веб-сервер и сервер базы данных являются отдельными компьютерами, то вы не сможете развернуть базу данных с помощью проверки подлинности NTLM из-за [ограничения "двойного прыжка" NTLM](https://go.microsoft.com/?linkid=9805120).</span><span class="sxs-lookup"><span data-stu-id="f24af-250">If your web package includes a database, and the web server and database server are separate machines, you won't be able to deploy the database using NTLM authentication due to the [NTLM "double-hop" limitation](https://go.microsoft.com/?linkid=9805120).</span></span> <span data-ttu-id="f24af-251">Необходимо либо использовать учетные данные SQL Server в строке подключения развертывания, либо указать учетные данные обычной проверки подлинности для веб-развертывание.</span><span class="sxs-lookup"><span data-stu-id="f24af-251">You need to either use SQL Server credentials in your deployment connection string or supply basic authentication credentials to Web Deploy.</span></span> <span data-ttu-id="f24af-252">Эта проблема подробно описана в статье [развертывание баз данных членства в корпоративных средах](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-252">This issue is described in more detail in [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="f24af-253">Заключение</span><span class="sxs-lookup"><span data-stu-id="f24af-253">Conclusion</span></span>

<span data-ttu-id="f24af-254">В этом разделе описано, как развернуть веб-пакет, запустив файл *. deploy. cmd* или непосредственно с помощью MSDeploy. exe.</span><span class="sxs-lookup"><span data-stu-id="f24af-254">This topic described how you can deploy a web package either by running the *.deploy.cmd* file or by using MSDeploy.exe directly.</span></span> <span data-ttu-id="f24af-255">Он объясняется, когда подходит каждый подход, и он описывает, как можно параметризовать и выполнить команду развертывания в рамках большого процесса одноэтапного или автоматизированного построения.</span><span class="sxs-lookup"><span data-stu-id="f24af-255">It explained when each approach might be appropriate, and it described how you can parameterize and run a deployment command as part of a larger single-step or automated build process.</span></span>

## <a name="further-reading"></a><span data-ttu-id="f24af-256">Дополнительные материалы</span><span class="sxs-lookup"><span data-stu-id="f24af-256">Further Reading</span></span>

<span data-ttu-id="f24af-257">Инструкции по созданию и параметризации пакета веб-развертывания см. в статьях [Создание и упаковка проектов веб-приложений](building-and-packaging-web-application-projects.md) и [Настройка параметров для развертывания веб-пакетов](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-257">For guidance on how to create and parameterize a web deployment package, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md) and [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span> <span data-ttu-id="f24af-258">Инструкции по созданию и развертыванию веб-пакетов из экземпляра Team Foundation Server (TFS) см. в разделе [настройка Team Foundation Server для автоматического веб-развертывания](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-258">For guidance on how to build and deploy web packages from a Team Foundation Server (TFS) instance, see [Configuring Team Foundation Server for Automated Web Deployment](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span></span> <span data-ttu-id="f24af-259">Сведения о настройке и устранении неполадок в процессе развертывания см. в разделе [исключение файлов и папок из развертывания](../advanced-enterprise-web-deployment/excluding-files-and-folders-from-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="f24af-259">For information on how to customize and troubleshoot the deployment process, see [Excluding Files and Folders from Deployment](../advanced-enterprise-web-deployment/excluding-files-and-folders-from-deployment.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="f24af-260">[Назад](configuring-parameters-for-web-package-deployment.md)
> [Вперед](deploying-database-projects.md)</span><span class="sxs-lookup"><span data-stu-id="f24af-260">[Previous](configuring-parameters-for-web-package-deployment.md)
[Next](deploying-database-projects.md)</span></span>
