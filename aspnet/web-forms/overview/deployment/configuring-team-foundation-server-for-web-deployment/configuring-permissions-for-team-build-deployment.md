---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
title: Настройка разрешений для группы развертывания построения | Документация Майкрософт
author: jrjlee
description: В этом разделе описываются способы настройки разрешения, чтобы включить сервер сборки для развертывания содержимого на веб-серверов и серверов баз данных как часть автоматической b...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 2488a91e-b0a8-465a-b874-3233f724b56b
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
msc.type: authoredcontent
ms.openlocfilehash: 62e5c5622743447e1119141469c894dc905e6b43
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59381059"
---
# <a name="configuring-permissions-for-team-build-deployment"></a>Настройка разрешений для развертывания командной сборки

по [Джейсон Lee](https://github.com/jrjlee)

[Скачать PDF](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> В этом разделе описываются способы настройки разрешения, чтобы включить сервер сборки для развертывания содержимого на веб-серверов и серверов баз данных как часть автоматизированного процесса сборки.


Этот раздел является частью серии учебников, исходя из требования к развертыванию enterprise вымышленной компании Fabrikam, Inc. В этой серии руководств используется пример решения&#x2014; [решения диспетчера контактов](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;для представления веб-приложения с более реалистичные уровень сложности, включая приложения ASP.NET MVC 3, Windows Communication Служба Foundation (WCF) и проект базы данных.

Метод развертывания в основе этих учебников основан на разбиение проекта файл подход, описанный в [основные сведения о файле проекта](../web-deployment-in-the-enterprise/understanding-the-project-file.md), в которой процесс построения управляется двумя файлы проекта&#x2014;один с Создание инструкции, которые применяются для каждой целевой среде и содержащего параметры построения и развертывания для конкретной среды. Во время сборки файл проекта для конкретной среды объединяется в файл проекта независимой от среды, чтобы полный набор инструкций построения.

## <a name="task-overview"></a>Общие сведения о задачах

При установке службы Team Foundation Server (TFS) 2010 сборки, необходимо указать удостоверение, с которым требуется, чтобы служба для запуска. По умолчанию это учетная запись сетевой службы. Кроме того можно настроить службу сборки для запуска под учетной записью домена.

Задачи развертывания, требующие проверки подлинности Windows, и вы планируете автоматизировать с помощью Team Build, будут выполняться с использованием удостоверения службы сборки. Таким образом необходимо предоставить удостоверение службы сборки все необходимые разрешения на веб-серверах и серверах баз данных.

> [!NOTE]
> Учетной записи сетевой службы используется учетная запись компьютера для проверки подлинности на других компьютерах. Учетные записи компьютера принимать форму * [домен]\[имя компьютера] ***$**&#x2014;к примеру, **FABRIKAM\TFSBUILD$**. Таким образом Если службе сборки выполняется с помощью удостоверения сетевой службы, следует предоставлять любые разрешения, необходимые для идентификатор учетной записи для сервера сборки.


## <a name="configuring-web-server-permissions"></a>Настройка разрешений веб-сервера

Как описано в разделе [Выбор оптимального подхода для веб-развертывания справа](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), существует два основных подхода, можно использовать, если вы хотите развернуть веб-пакеты на удаленном веб-сервере:

- Развертывание приложения из удаленного расположения, обращаясь к *службу агента веб-развертывания* (также известный как удаленный агент) на целевом сервере.
- Развертывание приложения из удаленного расположения, обращаясь к *Internet Information Services* (*IIS) веб-развертывание обработчик* на целевом сервере.

Удаленный агент в этом случае есть два ключа ограничения:

- Удаленный агент поддерживает только проверку подлинности NTLM. Другими словами, развертывание необходимо использовать удостоверение службы сборки&#x2014;не может олицетворять другую учетную запись.
- Чтобы использовать удаленный агент, учетная запись, которая выполняет развертывание необходимо быть администратором на целевом сервере.

Вместе эти два ограничения сделать подход удаленный агент, нежелательным для автоматизированного развертывания Team Build. Чтобы использовать этот подход, потребовалось бы для построения службы учетной записи администратора на любой целевой веб-серверах.

Напротив веб-развертывание обработчик подход дает различные преимущества.

- Веб-развертывание обработчик поддерживает обычную проверку подлинности по протоколу HTTPS, служащее для передачи учетных данных учетной записи альтернативное средство IIS веб-развертывания (веб-развертывания).
- Можно настроить целевой веб-серверов, чтобы разрешить пользователям без прав администратора для развертывания содержимого для определенных служб IIS веб-сайтов, с помощью веб-развертывание обработчик.

Таким образом очевидно, что предпочтительнее целевой веб-развертывание обработчик при автоматизации развертывания веб-пакета с помощью Team Build. Это рекомендуемый процесс:

1. Создайте учетную запись домена с низким уровнем привилегий для использования для развертывания.
2. Настройка веб-развертывание обработчик и предоставьте учетной записи необходимые разрешения для развертывания содержимого на веб-узла IIS, как описано в разделе [Настройка веб-сервера для публикации веб-развертывания (веб-развертывание обработчик)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).
3. Вызвать веб-развертывания и предназначенных для веб-развертывание обработчик, обычная проверка подлинности и предоставление учетных данных учетной записи домена, созданный для выполнения развертывания.

В [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) образец решения, укажите тип проверки подлинности (базовый или NTLM), учетные данные веб-развертывания и адрес конечной точки (удаленный агент или веб-развертывание обработчик) в файле проекта для конкретной среды. Эти значения используются для формулирования и выполнения команды веб-развертывания, при выполнении файла проекта. Дополнительные сведения см. в разделе [развертывание веб-пакеты](../web-deployment-in-the-enterprise/deploying-web-packages.md).

Дополнительные сведения о настройке развертывания веб-обработчик, включая настройку разрешений, см. в разделе [Настройка веб-сервера для публикации веб-развертывания (веб-развертывание обработчик)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md). Дополнительные сведения о настройке удаленного агента, см. в разделе [Настройка веб-сервера для публикации веб-развертывания (удаленный агент)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).

## <a name="configuring-database-server-permissions"></a>Настройка разрешений для сервера базы данных

Чтобы развернуть базу данных SQL Server, необходимо сделать следующее:

- Создайте имя входа для учетной записи развертывания на экземпляре SQL Server.
- Предоставьте имени входа **DBCreator** разрешений на экземпляре SQL Server.
- После первоначального развертывания, добавьте имя входа для **db\_владельца** роль в целевой базе данных. Это необходимо, так как при последующих развертываниях, вы изменение существующей базы данных, а не создавать новую базу данных.

Можно выполнить проверку подлинности к экземпляру SQL Server, с помощью проверки подлинности NTLM или проверку подлинности SQL Server:

- Если вы используете проверку подлинности NTLM, необходимо предоставить разрешения, описанные выше, для учетной записи службы сборки.
- Если вы используете проверку подлинности SQL Server, необходимо предоставить разрешения, описанные выше, для учетной записи SQL Server. Необходимо также включать имя пользователя SQL Server и пароль в строке подключения, используемой для развертывания базы данных.

Пошаговые инструкции по настройке разрешений для развертывания базы данных, см. в разделе [Настройка сервера базы данных для развертывания веб-публикаций](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).

## <a name="conclusion"></a>Заключение

На этом этапе следует учитывать разрешения, необходимые, а также параметры проверки подлинности, которая открывает перед вами, при автоматизации веб-приложения и базы данных развертывания из Team Build. Также можно реализовать необходимые разрешения в IIS веб-серверов и серверов баз данных SQL Server.

## <a name="further-reading"></a>Дополнительные сведения

Дополнительные сведения о настройке среды Windows server для поддержки удаленного развертывания см. в разделе [Настройка серверных сред для веб-развертывания](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).

> [!div class="step-by-step"]
> [Назад](deploying-a-specific-build.md)
