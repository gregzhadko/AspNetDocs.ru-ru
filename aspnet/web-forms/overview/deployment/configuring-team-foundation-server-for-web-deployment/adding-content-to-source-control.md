---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/adding-content-to-source-control
title: Добавление содержимого в систему управления версиями | Документация Майкрософт
author: jrjlee
description: В этом разделе объясняется, как добавить содержимое в систему управления версиями в Team Foundation Server (TFS) 2010. В нем описывается добавление решений и проектов в командную проекцию...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 86c14aab-c2dd-4f73-b40c-c6d52fa44950
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/adding-content-to-source-control
msc.type: authoredcontent
ms.openlocfilehash: 16073dd2fb0ea1cc4ddbc94c843181933dc174c1
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78515112"
---
# <a name="adding-content-to-source-control"></a>Добавление содержимого в систему управления версиями

кто [Джейсон Иванов](https://github.com/jrjlee)

[Скачать в формате PDF](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> В этом разделе объясняется, как добавить содержимое в систему управления версиями в Team Foundation Server (TFS) 2010. В нем описывается добавление решений и проектов в командный проект в TFS, а также объясняется Добавление внешних зависимостей, таких как платформы или сборки, в систему управления версиями.

Этот раздел является частью серии руководств, основанных на требованиях Enterprise к развертыванию вымышленной компании Fabrikam, Inc. В этой серии руководств используется пример решения&#x2014; [диспетчера контактов](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;для представления веб-приложения с реалистичным уровнем сложности, включая приложение ASP.NET MVC 3, службу Windows Communication Foundation (WCF) и проект базы данных.

## <a name="task-overview"></a>Обзор задач

В большинстве случаев каждый член группы разработчиков должен иметь возможность добавлять содержимое в систему управления версиями. Чтобы добавить решение в систему управления версиями в TFS, необходимо выполнить следующие общие действия:

- Подключитесь к командному проекту.
- Сопоставьте структуру папок командного проекта на сервере со структурой папок на локальном компьютере.
- Добавьте решение и его содержимое в систему управления версиями.
- Добавьте все внешние зависимости в систему управления версиями.

В этом разделе будет показано, как выполнять эти процедуры.

В задачах и пошаговых руководствах этого раздела предполагается, что вы уже создали новый командный проект Team Foundation Server для управления содержимым. Дополнительные сведения о создании нового командного проекта см. в разделе [Создание командного проекта в TFS](creating-a-team-project-in-tfs.md).

### <a name="who-performs-these-procedures"></a>Кто выполняет эти процедуры?

В большинстве случаев каждый член группы разработчиков должен иметь возможность добавлять и изменять содержимое в конкретных командных проектах.

## <a name="connect-to-a-team-project-and-create-a-folder-mapping"></a>Подключение к командному проекту и создание сопоставления папок

Перед добавлением содержимого в систему управления версиями необходимо подключиться к командному проекту и создать сопоставление между структурой папок на сервере и файловой системе на локальном компьютере.

**Подключение к командному проекту и привязка локального пути**

1. На рабочей станции разработчика откройте Visual Studio 2010.
2. В Visual Studio в меню **команда** выберите пункт **подключиться к Team Foundation Server**.

    > [!NOTE]
    > Если подключение к серверу TFS уже настроено, можно опустить шаги 3-6.
3. В диалоговом окне **Подключение к командному проекту** щелкните **серверы**.
4. В диалоговом окне **Добавление или удаление Team Foundation Server** нажмите кнопку **Добавить**.
5. В диалоговом окне **добавление Team Foundation Server** укажите сведения об экземпляре TFS и нажмите кнопку **ОК**.

    ![](adding-content-to-source-control/_static/image1.png)
6. В диалоговом окне " **Добавление или удаление Team Foundation Server** " нажмите кнопку **Закрыть**.
7. В диалоговом окне **Подключение к командному проекту** выберите экземпляр TFS, к которому необходимо подключиться, выберите коллекцию командных проектов, выберите командный проект, в который необходимо добавить, и нажмите кнопку **подключить**.

    ![](adding-content-to-source-control/_static/image2.png)
8. В окне **Team Explorer** разверните свой командный проект, а затем дважды щелкните **элемент система управления версиями**.

    ![](adding-content-to-source-control/_static/image3.png)
9. На вкладке **Обозреватель управления исходным кодом** выберите пункт **не сопоставлено**.

    ![](adding-content-to-source-control/_static/image4.png)
10. В диалоговом окне **Map** в поле **Локальная папка** перейдите к папке (или создайте) локальную папку, которая будет использоваться в качестве корневой папки для командного проекта, и нажмите кнопку **Map**.

    ![](adding-content-to-source-control/_static/image5.png)
11. Когда появится запрос на скачивание исходных файлов, нажмите кнопку **Да**.

    ![](adding-content-to-source-control/_static/image6.png)

На этом этапе вы сопоставили серверную папку для командного проекта с локальной папкой на рабочей станции разработчика. Вы также загрузили любое существующее содержимое из командного проекта в локальную структуру папок. Теперь можно приступить к добавлению собственного содержимого в систему управления версиями.

## <a name="add-projects-and-solutions-to-source-control"></a>Добавление проектов и решений в систему управления версиями

Чтобы добавить проекты и решения в систему управления версиями, сначала необходимо переместить их в сопоставленную папку для командного проекта на локальном компьютере. Затем можно вернуть содержимое для синхронизации дополнений с сервером.

**Добавление проектов в систему управления версиями**

1. На рабочей станции разработчика переместите проекты и решения в соответствующее расположение в структуре сопоставленных папок для командного проекта.

    > [!NOTE]
    > Многие организации будут иметь предпочтительный подход к организации проектов и решений в системе управления версиями. Рекомендации по структурированию папок см. в разделе [руководство. структурирование папок системы управления версиями в Team Foundation Server](https://msdn.microsoft.com/library/bb668992.aspx).
2. Откройте решение в Visual Studio 2010.
3. В окне **Обозреватель решений** щелкните решение правой кнопкой мыши и выберите пункт **Добавить решение в систему управления версиями**.

    ![](adding-content-to-source-control/_static/image7.png)

    > [!NOTE]
    > В некоторых случаях в зависимости от того, как ваша организация любит структурировать содержимое в TFS, может потребоваться отдельно добавить проекты в систему управления версиями, чтобы обеспечить более точный контроль над способом организации исходного кода.
4. Убедитесь, что на вкладке **Обозреватель управления исходным кодом** отображается содержимое, добавленное в структуру папок сервера для командного проекта.

    ![](adding-content-to-source-control/_static/image8.png)

    > [!NOTE]
    > На вкладке **Обозреватель управления исходным кодом** отображается содержимое без дополнительных запросов, так как решение Добавлено в сопоставленную папку в локальной файловой системе. Если решение находилось в несопоставленном расположении, вам будет предложено указать расположение папок как в TFS, так и в локальной файловой системе.
5. На вкладке **Обозреватель управления исходным кодом** в области **папки** щелкните правой кнопкой мыши командный проект (например, **ContactManager**) и выберите пункт **Вернуть ожидающие изменения**.
6. В диалоговом окне **Возврат — исходные файлы** введите комментарий и нажмите кнопку **вернуть**.

    ![](adding-content-to-source-control/_static/image9.png)

На этом этапе вы добавили решение в систему управления версиями в TFS.

## <a name="add-external-dependencies-to-source-control"></a>Добавление внешних зависимостей в систему управления версиями

При добавлении проекта или решения в систему управления версиями будут также добавлены все файлы и папки в проекте или решении. Однако в большинстве случаев проекты и решения также полагаются на внешние зависимости, например локальные сборки, для правильной работы. Необходимо добавить все такие ресурсы в систему управления версиями, чтобы позволить Team Build и другим членам группы разработчиков успешно выполнить сборку кода.

Например, структура папок для примера решения диспетчера контактов включает папку Packages. Он содержит сборку и различные вспомогательные ресурсы для ADO.NET Entity Framework 4,1. Папка Packages не является частью решения диспетчера контактов, но решение не будет успешно собрано без него. Чтобы команда Team Build выполнила сборку решения, необходимо добавить папку Packages в систему управления версиями.

> [!NOTE]
> Включение папки Packages является типичным, что происходит при добавлении Entity Framework или аналогичных ресурсов в решение с помощью расширения NuGet для Visual Studio 2010.

**Добавление содержимого, не относящегося к проекту, в систему управления версиями**

1. Убедитесь, что добавляемые элементы (например, папка Packages) находятся в соответствующем месте в сопоставленной папке в локальной файловой системе.
2. В Visual Studio 2010 в окне **Team Explorer** разверните свой командный проект, а затем дважды щелкните **элемент система управления версиями**.

    ![](adding-content-to-source-control/_static/image10.png)
3. На вкладке **Обозреватель управления исходным кодом** в области **папки** выберите папку, содержащую элемент или элементы, которые требуется добавить.
4. Нажмите кнопку **Добавить элементы в папку** .

    ![](adding-content-to-source-control/_static/image11.png)
5. В диалоговом окне **Добавить в систему управления версиями** выберите папку или элементы, которые необходимо добавить, а затем нажмите кнопку **Далее**.

    ![](adding-content-to-source-control/_static/image12.png)
6. На вкладке **Исключенные элементы** выберите все необходимые элементы, которые были автоматически исключены (например, сборки), а затем щелкните **включить элементы**.

    ![](adding-content-to-source-control/_static/image13.png)
7. На вкладке **добавляемые элементы** убедитесь, что указаны все файлы, которые необходимо включить в список, а затем нажмите кнопку **Готово**.

    ![](adding-content-to-source-control/_static/image14.png)
8. В окне **Обозреватель управления исходным кодом** нажмите кнопку **вернуть** .

    ![](adding-content-to-source-control/_static/image15.png)
9. В диалоговом окне **Возврат — исходные файлы** введите комментарий и нажмите кнопку **вернуть**.

На этом этапе вы добавили внешние зависимости для решения в систему управления версиями.

## <a name="conclusion"></a>Заключение

В этом разделе описывается подключение к командному проекту, привязка структуры папок и добавление содержимого в систему управления версиями. Дополнительные сведения о работе с элементами в системе управления версиями см. в разделе [использование системы управления версиями](https://msdn.microsoft.com/library/ms181368.aspx).

В следующем разделе [Настройка сервера сборки TFS для веб-развертывания](configuring-a-tfs-build-server-for-web-deployment.md)описывается подготовка сервера Team Build в TFS для создания и развертывания решения.

## <a name="further-reading"></a>Дополнительные материалы

Более подробные сведения о работе с системой управления версиями в TFS см. в разделе [использование системы управления версиями](https://msdn.microsoft.com/library/ms181368.aspx).

> [!div class="step-by-step"]
> [Назад](creating-a-team-project-in-tfs.md)
> [Вперед](configuring-a-tfs-build-server-for-web-deployment.md)
