---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-a-tfs-build-server-for-web-deployment
title: Настройка TFS сервер сборки для развертывания веб | Документация Майкрософт
author: jrjlee
description: В этом разделе описывается Подготовка сервера сборки Team Foundation Server (TFS) для создания и развертывания решений с использованием Team Build и Интернет сведения...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: f8400241-4f4b-4bbd-9994-54fb64909e6e
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-a-tfs-build-server-for-web-deployment
msc.type: authoredcontent
ms.openlocfilehash: 1500415c7ee017776c59acb05a2eaefc6956a41b
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59404716"
---
# <a name="configuring-a-tfs-build-server-for-web-deployment"></a>Настройка сервера сборки TFS для веб-развертывания

по [Джейсон Lee](https://github.com/jrjlee)

[Загрузить PDF-файл](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> В этом разделе описывается Подготовка сервера сборки Team Foundation Server (TFS) для создания и развертывания решений с использованием Team Build и средство Internet Information Services (IIS) веб-развертывания (веб-развертывания).


Этот раздел является частью серии учебников, исходя из требования к развертыванию enterprise вымышленной компании Fabrikam, Inc. В этой серии руководств используется пример решения&#x2014; [решения диспетчера контактов](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;для представления веб-приложения с более реалистичные уровень сложности, включая приложения ASP.NET MVC 3, Windows Communication Служба Foundation (WCF) и проект базы данных.

Метод развертывания в основе этих учебников основан на разбиение проекта файл подход, описанный в [основные сведения о файле проекта](../web-deployment-in-the-enterprise/understanding-the-project-file.md), в которой процесс построения управляется двумя файлы проекта&#x2014;один с Создание инструкции, которые применяются для каждой целевой среде и содержащего параметры построения и развертывания для конкретной среды. Во время сборки файл проекта для конкретной среды объединяется в файл проекта независимой от среды, чтобы полный набор инструкций построения.

## <a name="task-overview"></a>Общие сведения о задачах

Чтобы подготовить сервер сборки, построение и развертывание решений, вам потребуется:

- Установка и настройка службы сборок TFS.
- Установите Visual Studio 2010.
- Устанавливайте продуктов или компонентов, которые необходимы для построения решения, как и в версиях .NET Framework и ASP.NET MVC.
- Установите веб-развертывание 2.0 или более поздней.

В этом разделе показано, как выполнять эти процедуры или указывали на другие ресурсы, если таковые существуют. Задачи и пошаговые руководства в этом разделе предполагается, что:

- Вы начинаете с построением чистого сервера под управлением Windows Server 2008 R2 с пакетом обновления 1.
- Сервер присоединен к домену с помощью статического IP-адреса.
- Вы установили уровня приложений TFS на отдельном сервере, как описано в разделе [корпоративное веб-развертывание: Обзор сценария](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md).

### <a name="who-performs-these-procedures"></a>Кто выполняет эти процедуры?

В большинстве случаев администратором TFS будет отвечать за настройки серверов сборки. В некоторых случаях группы разработчиков могут стать владельцами серверов определенной сборки.

## <a name="install-and-configure-the-tfs-build-service"></a>Установка и настройка службы сборки TFS

При настройке сервера сборки, в первую очередь — Установка и настройка службы сборок TFS. В рамках этого процесса вам потребуется:

- Установка службы сборок TFS и настроить учетную запись службы. Любой задачи сборки, включая развертывание, будет выполняться с использованием удостоверения учетной записи службы сборки.
- Создание *контроллер построений* и одного или нескольких *агенты сборки*. Каждый контроллер сборки управляет набором агентов сборки. При постановке в очередь построение, контроллер сборки назначает задачу построения доступному агенту построения. Каждой коллекции командных проектов в TFS сопоставляется один контроллер построений.
- Настройка папки сброса для сборки выходные данные. Это общий сетевой ресурс. Любые выходные данные, такие как пакеты веб-развертывания сборки, отправляются в папку сброса.

[Администрирование Team Foundation Build](https://msdn.microsoft.com/library/ms252495.aspx) Глава о MSDN содержит все ресурсы, необходимые для выполнения этих задач:

- Общие сведения о Team Foundation Build, включая службы построения, контроллеры построений и агенты сборки, см. раздел [основные сведения о Team Foundation Build System](https://msdn.microsoft.com/library/dd793166.aspx).
- Сведения об установке и настройке службы сборки, см. в разделе [построений](https://msdn.microsoft.com/library/ms181712.aspx).
- Сведения о создании контроллеры построений, см. в разделе [Создание и работа с контроллером построения](https://msdn.microsoft.com/library/ee330987.aspx).
- Сведения о создании агенты сборки, см. в разделе [Создание и работа с агентами построения](https://msdn.microsoft.com/library/bb399135.aspx).
- Сведения о создании и настройке папки сброса см. в разделе [Настройка папок сброса](https://msdn.microsoft.com/library/bb778394.aspx).

## <a name="install-required-products-and-components"></a>Установите требуемый набор продуктов и компонентов

Чтобы включить сервер сборки для построения решений, необходимо установить все продукты, компоненты или сборки, которые ваше решение требует. Перед установкой веб-компоненты платформы, следует установить Visual Studio 2010 (любая версия) на сервере сборки. Это гарантирует, что основные файлы целевых Microsoft Build Engine (MSBuild) и целевые файлы Web Publishing конвейера (WPP) доступны для службы сборки. В установщике Visual Studio также следует установить веб-развертывания, которая необходима, если вы планируете развернуть веб-пакеты как часть процесса сборки.

Чтобы установить общие компоненты веб-платформы рекомендуется использовать [установщика веб-платформы](https://go.microsoft.com/?linkid=9805118). Это гарантирует, что вы устанавливаете последнюю версию каждого продукта, и он также автоматически обнаруживает и устанавливает все необходимые компоненты для каждого продукта. В случае использования [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) решение, следует использовать установщик веб-платформы для установки этих продуктов и компонентов:

- **.NET framework 4.0**. Это необходимо для запуска приложений, которые были созданы в этой версии платформы .NET Framework.
- **Средство веб-развертывания 2.1 или более поздняя**. При этом устанавливаются на сервере веб-развертывания (и его базового исполняемого файла, MSDeploy.exe). В рамках этого процесса он устанавливает и запускает службу агента веб-развертывания. Эта служба позволяет развертывать веб-пакетов с удаленного компьютера.
- **ASP.NET MVC 3**. Это устанавливает сборки, необходимые для запуска приложений ASP.NET MVC 3.

**Чтобы установить необходимые продукты и компоненты**

1. Установите Visual Studio 2010. При появлении запроса на выбор компонентов для установки, следует включать:

    1. Языков программирования, которые необходимо скомпилировать.
    2. Visual Web Developer. Это гарантирует, что целевые объекты WPP добавляются на сервер сборки.

        ![](configuring-a-tfs-build-server-for-web-deployment/_static/image1.png)
2. После завершения установки Visual Studio 2010, загрузить и установить [пакет обновления 1 для Visual Studio 2010](https://go.microsoft.com/?linkid=9805133) (если он еще не включен в установочном носителе).

    > [!NOTE]
    > Пакет обновления 1 для Visual Studio 2010 устраняет ошибку, которая может препятствовать поиск MSDeploy исполняемый файл MSBuild.
3. Скачайте и запустите [установщика веб-платформы](https://go.microsoft.com/?linkid=9805118).
4. В верхней части **веб-платформы 3.0 установщик** окно, нажмите кнопку **продуктов**.
5. В левой части окна, в области навигации щелкните **платформ**.
6. В **Microsoft .NET Framework 4** строк, если .NET Framework еще не установлен, нажмите кнопку **добавить**.

    > [!NOTE]
    > Вы возможно уже установлены .NET Framework 4.0 через Центр обновления Windows. Если продукт или компонент уже установлен, установщик веб-платформы сообщит об этом, заменив **добавить** кнопка с текстом **установленные**.

    ![](configuring-a-tfs-build-server-for-web-deployment/_static/image2.png)
7. В **ASP.NET MVC 3 (Visual Studio 2010)** щелкните **добавить**.
8. В области навигации щелкните **сервера**.
9. В **2.1 средства развертывания Web** щелкните **добавить**.
10. Нажмите кнопку **Установить**. Установщик веб-платформы Отображение списка продуктов&#x2014;совместно с любым связанные зависимости&#x2014;должен быть установлен и будет предложено принять условия лицензионного соглашения.
11. Ознакомьтесь с условиями лицензии, а если вы согласны с условиями, нажмите кнопку **я принимаю**.
12. После завершения установки нажмите кнопку **Готово**, а затем закройте **веб-платформы 3.0 установщик** окна.

> [!NOTE]
> Если процесс развертывания включает использование таких средств, как VSDBCMD.exe или SQLCMD.exe, необходимо убедиться, что они устанавливаются на сервере сборки. VSDBCMD.exe — это средство Visual Studio и обычно добавляется на сервер при установке Team Foundation Build. SQLCMD.exe — это средство SQL Server. Можно загрузить изолированную версию SQLCMD.exe из [Microsoft SQL Server 2008 R2 Feature Pack](https://go.microsoft.com/?linkid=9805134) страницы.


## <a name="conclusion"></a>Заключение

На этом этапе сервер сборки готов к запуску построение и развертывание приложения в веб-проекты. Следующий раздел, [Создание сборки определение что поддерживает развертывания](creating-a-build-definition-that-supports-deployment.md), описывает, как создать и настроить определение сборки, чтобы контролировать, когда и как построение и развертывание проектов.

## <a name="further-reading"></a>Дополнительные сведения

Более общие рекомендации по работе с Team Build, см. в разделе [Администрирование Team Foundation Build](https://msdn.microsoft.com/library/ms252495.aspx).

> [!div class="step-by-step"]
> [Назад](adding-content-to-source-control.md)
> [Вперед](creating-a-build-definition-that-supports-deployment.md)
