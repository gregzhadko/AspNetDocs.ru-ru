---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent
title: Настройка веб-сервера для публикации веб-развертывание (удаленный агент) | Документация Майкрософт
author: jrjlee
description: В этом разделе описывается настройка веб-сервера службы IIS (IIS) для поддержки веб-публикации и развертывания с помощью веб-развертывания IIS...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 239c7aa8-d09a-4d02-9c0e-6bd52be5f0d5
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent
msc.type: authoredcontent
ms.openlocfilehash: ce0d246afdfb65c2ea15a287064511e7d1d58622
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2019
ms.locfileid: "74589055"
---
# <a name="configuring-a-web-server-for-web-deploy-publishing-remote-agent"></a><span data-ttu-id="d4665-103">Настройка веб-сервера для публикации веб-развертывания (удаленный агент)</span><span class="sxs-lookup"><span data-stu-id="d4665-103">Configuring a Web Server for Web Deploy Publishing (Remote Agent)</span></span>

<span data-ttu-id="d4665-104">кто [Джейсон Иванов](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="d4665-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="d4665-105">Загрузить PDF-файл</span><span class="sxs-lookup"><span data-stu-id="d4665-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="d4665-106">В этом разделе описано, как настроить веб-сервер службы IIS (IIS) для поддержки веб-публикации и развертывания с помощью службы удаленного агента веб-развертывания IIS (веб-развертывание).</span><span class="sxs-lookup"><span data-stu-id="d4665-106">This topic describes how to configure an Internet Information Services (IIS) web server to support web publishing and deployment using the IIS Web Deployment Tool (Web Deploy) Remote Agent Service.</span></span>
> 
> <span data-ttu-id="d4665-107">При работе с веб-развертывание 2,0 или более поздней версии существует три основных подхода, которые можно использовать для получения приложений или сайтов на веб-сервер.</span><span class="sxs-lookup"><span data-stu-id="d4665-107">When you work with Web Deploy 2.0 or later, there are three main approaches you can use to get your applications or sites onto a web server.</span></span> <span data-ttu-id="d4665-108">Вы можете выполнить следующие действия.</span><span class="sxs-lookup"><span data-stu-id="d4665-108">You can:</span></span>
> 
> - <span data-ttu-id="d4665-109">Используйте *службу удаленного агента веб-развертывание*.</span><span class="sxs-lookup"><span data-stu-id="d4665-109">Use the *Web Deploy Remote Agent Service*.</span></span> <span data-ttu-id="d4665-110">Этот подход требует меньшей настройки веб-сервера, но для развертывания любых данных на сервере необходимо предоставить учетные данные администратора локального сервера.</span><span class="sxs-lookup"><span data-stu-id="d4665-110">This approach requires less configuration of the web server, but you need to provide the credentials of a local server administrator in order to deploy anything to the server.</span></span>
> - <span data-ttu-id="d4665-111">Используйте *обработчик веб-развертывание*.</span><span class="sxs-lookup"><span data-stu-id="d4665-111">Use the *Web Deploy Handler*.</span></span> <span data-ttu-id="d4665-112">Этот подход гораздо более сложен и требует более первоначальных усилий по настройке веб-сервера.</span><span class="sxs-lookup"><span data-stu-id="d4665-112">This approach is a lot more complex and requires more initial effort to set up the web server.</span></span> <span data-ttu-id="d4665-113">Однако при использовании этого подхода можно настроить службы IIS, чтобы разрешить пользователям без прав администратора выполнять развертывание.</span><span class="sxs-lookup"><span data-stu-id="d4665-113">However, when you use this approach, you can configure IIS to allow non-administrator users to perform the deployment.</span></span> <span data-ttu-id="d4665-114">Обработчик веб-развертывание доступен только в службах IIS версии 7 или более поздней.</span><span class="sxs-lookup"><span data-stu-id="d4665-114">The Web Deploy Handler is only available in IIS version 7 or later.</span></span>
> - <span data-ttu-id="d4665-115">Используйте *автономное развертывание*.</span><span class="sxs-lookup"><span data-stu-id="d4665-115">Use *offline deployment*.</span></span> <span data-ttu-id="d4665-116">Этот подход требует минимальной настройки веб-сервера, но администратор сервера должен вручную скопировать веб-пакет на сервер и импортировать его с помощью диспетчера служб IIS.</span><span class="sxs-lookup"><span data-stu-id="d4665-116">This approach requires the least configuration of the web server, but a server administrator must manually copy the web package onto the server and import it through IIS Manager.</span></span>
> 
> <span data-ttu-id="d4665-117">Дополнительные сведения о ключевых функциях, преимуществах и недостатках этих подходов см. [в разделе Выбор правильного подхода к веб-развертыванию](choosing-the-right-approach-to-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="d4665-117">For more information on the key features, advantages, and disadvantages of these approaches, see [Choosing the Right Approach to Web Deployment](choosing-the-right-approach-to-web-deployment.md).</span></span>

## <a name="is-the-web-deploy-remote-agent-the-right-approach-for-you"></a><span data-ttu-id="d4665-118">Является ли веб-развертывание удаленным агентом правильным подходом?</span><span class="sxs-lookup"><span data-stu-id="d4665-118">Is the Web Deploy Remote Agent the Right Approach for You?</span></span>

<span data-ttu-id="d4665-119">Да, если пользователь, который будет развертывать содержимое, может предоставить учетные данные администратора на целевом сервере.</span><span class="sxs-lookup"><span data-stu-id="d4665-119">Yes, if the user who will deploy the content can supply the credentials of an administrator on the destination server.</span></span> <span data-ttu-id="d4665-120">Этот подход часто желательно применять в сценариях такого типа:</span><span class="sxs-lookup"><span data-stu-id="d4665-120">This approach is often desirable in these types of scenarios:</span></span>

- <span data-ttu-id="d4665-121">Среды разработки или тестирования, где разработчик имеет полный контроль над целевым веб-сервером и сервером базы данных.</span><span class="sxs-lookup"><span data-stu-id="d4665-121">Development or test environments, where the developer has full control over the destination web server and database server.</span></span>
- <span data-ttu-id="d4665-122">Небольшие организации, в которых один пользователь или небольшая группа пользователей управляют всем жизненным циклом приложения.</span><span class="sxs-lookup"><span data-stu-id="d4665-122">Smaller organizations in which a single user or a small group of users has control over the entire application lifecycle.</span></span>

<span data-ttu-id="d4665-123">В многих крупных организациях, особенно для промежуточной или рабочей среды, зачастую не дает пользователям прав администратора на веб-серверах.</span><span class="sxs-lookup"><span data-stu-id="d4665-123">In lots of larger organizations, and particularly for staging or production environments, it's often not realistic to give users administrator rights on web servers.</span></span> <span data-ttu-id="d4665-124">В случае размещенных веб-серверов это особенно маловероятно.</span><span class="sxs-lookup"><span data-stu-id="d4665-124">In the case of hosted web servers, this is especially unlikely to be the case.</span></span> <span data-ttu-id="d4665-125">Кроме того, если планируется автоматизировать развертывание с сервера сборки, может потребоваться не использовать учетные данные администратора для процесса развертывания.</span><span class="sxs-lookup"><span data-stu-id="d4665-125">In addition, if you're planning to automate deployment from a build server, you may not want to use administrator credentials for the deployment process.</span></span> <span data-ttu-id="d4665-126">В этих сценариях Настройка веб-серверов для поддержки развертывания с помощью [обработчика веб-развертывание](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md) может обеспечить более приемлемый вариант.</span><span class="sxs-lookup"><span data-stu-id="d4665-126">In these scenarios, configuring your web servers to support deployment using the [Web Deploy Handler](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md) may provide a more satisfactory choice.</span></span>

## <a name="task-overview"></a><span data-ttu-id="d4665-127">Обзор задач</span><span class="sxs-lookup"><span data-stu-id="d4665-127">Task Overview</span></span>

<span data-ttu-id="d4665-128">В этом разделе описано, как настроить веб-сервер службы IIS (IIS) 7,5 для приема и развертывания веб-пакетов с удаленного компьютера с помощью метода веб-развертывание удаленного агента.</span><span class="sxs-lookup"><span data-stu-id="d4665-128">This topic describes how to configure an Internet Information Services (IIS) 7.5 web server to accept and deploy web packages from a remote computer using the Web Deploy Remote Agent approach.</span></span> <span data-ttu-id="d4665-129">Вам потребуется:</span><span class="sxs-lookup"><span data-stu-id="d4665-129">You'll need to:</span></span>

- <span data-ttu-id="d4665-130">Установите IIS 7,5 и рекомендуемую конфигурацию IIS 7.</span><span class="sxs-lookup"><span data-stu-id="d4665-130">Install IIS 7.5 and the IIS 7 recommended configuration.</span></span>
- <span data-ttu-id="d4665-131">Установите веб-развертывание 2,1 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="d4665-131">Install Web Deploy 2.1 or later.</span></span>
- <span data-ttu-id="d4665-132">Создайте веб-сайт IIS для размещения развернутого содержимого.</span><span class="sxs-lookup"><span data-stu-id="d4665-132">Create an IIS website to host the deployed content.</span></span>
- <span data-ttu-id="d4665-133">Убедитесь, что служба веб-Deployment Agent запущена.</span><span class="sxs-lookup"><span data-stu-id="d4665-133">Ensure that the Web Deployment Agent Service is running.</span></span>

<span data-ttu-id="d4665-134">Чтобы разместить пример решения, вам также потребуется:</span><span class="sxs-lookup"><span data-stu-id="d4665-134">To host the sample solution specifically, you'll also need to:</span></span>

- <span data-ttu-id="d4665-135">Установите .NET Framework 4,0.</span><span class="sxs-lookup"><span data-stu-id="d4665-135">Install the .NET Framework 4.0.</span></span>
- <span data-ttu-id="d4665-136">Установите ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="d4665-136">Install ASP.NET MVC 3.</span></span>

<span data-ttu-id="d4665-137">В этом разделе будет показано, как выполнить каждую из этих процедур.</span><span class="sxs-lookup"><span data-stu-id="d4665-137">This topic will show you how to perform each of these procedures.</span></span> <span data-ttu-id="d4665-138">В задачах и пошаговых руководствах этого раздела предполагается, что вы начинаете с чистой серверной сборки, работающей под Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="d4665-138">The tasks and walkthroughs in this topic assume that you're starting with a clean server build running Windows Server 2008 R2.</span></span> <span data-ttu-id="d4665-139">Прежде чем продолжить, убедитесь в том, что:</span><span class="sxs-lookup"><span data-stu-id="d4665-139">Before you continue, ensure that:</span></span>

- <span data-ttu-id="d4665-140">Windows Server 2008 R2 с пакетом обновления 1 (SP1) и все доступные обновления установлены.</span><span class="sxs-lookup"><span data-stu-id="d4665-140">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="d4665-141">Сервер присоединен к домену.</span><span class="sxs-lookup"><span data-stu-id="d4665-141">The server is domain-joined.</span></span>
- <span data-ttu-id="d4665-142">Сервер имеет статический IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="d4665-142">The server has a static IP address.</span></span>

> [!NOTE]
> <span data-ttu-id="d4665-143">Дополнительные сведения о присоединении компьютеров к домену см. в разделе [Присоединение компьютеров к домену и вход в систему](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="d4665-143">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="d4665-144">Дополнительные сведения о настройке статических IP-адресов см. в статье [Настройка статического IP-](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx)адреса.</span><span class="sxs-lookup"><span data-stu-id="d4665-144">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span></span> <span data-ttu-id="d4665-145">Служба удаленного агента поддерживается в IIS 6 и не требует присоединения к домену.</span><span class="sxs-lookup"><span data-stu-id="d4665-145">The Remote Agent service is supported by IIS 6 onwards and does not require you to be joined to a domain.</span></span> <span data-ttu-id="d4665-146">Однако действия, описанные в этом руководстве, были разработаны и протестированы на IIS 7,5, а процедуры для других версий могут различаться.</span><span class="sxs-lookup"><span data-stu-id="d4665-146">However, the steps in this tutorial were developed and tested on IIS 7.5 and procedures for other versions may vary.</span></span>

## <a name="install-products-and-components"></a><span data-ttu-id="d4665-147">Установка продуктов и компонентов</span><span class="sxs-lookup"><span data-stu-id="d4665-147">Install Products and Components</span></span>

<span data-ttu-id="d4665-148">Этот раздел поможет вам установить необходимые продукты и компоненты на веб-сервере.</span><span class="sxs-lookup"><span data-stu-id="d4665-148">This section will guide you through installing the required products and components on the web server.</span></span> <span data-ttu-id="d4665-149">Прежде чем начать, рекомендуется запустить Центр обновления Windows, чтобы гарантировать, что сервер будет полностью обновлен.</span><span class="sxs-lookup"><span data-stu-id="d4665-149">Before you begin, a good practice is to run Windows Update to ensure that your server is fully up to date.</span></span>

<span data-ttu-id="d4665-150">В этом случае необходимо установить следующие компоненты:</span><span class="sxs-lookup"><span data-stu-id="d4665-150">In this case, you need to install these things:</span></span>

- <span data-ttu-id="d4665-151">**Рекомендуемая конфигурация IIS 7**.</span><span class="sxs-lookup"><span data-stu-id="d4665-151">**IIS 7 Recommended Configuration**.</span></span> <span data-ttu-id="d4665-152">Это включает роль **веб-сервера (IIS)** на веб-сервере и устанавливает набор модулей и компонентов IIS, необходимых для размещения приложения ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d4665-152">This enables the **Web Server (IIS)** role on your web server and installs the set of IIS modules and components that you need in order to host an ASP.NET application.</span></span>
- <span data-ttu-id="d4665-153">**.NET Framework 4,0**.</span><span class="sxs-lookup"><span data-stu-id="d4665-153">**.NET Framework 4.0**.</span></span> <span data-ttu-id="d4665-154">Это необходимо для запуска приложений, созданных на основе этой версии .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="d4665-154">This is required to run applications that were built on this version of the .NET Framework.</span></span>
- <span data-ttu-id="d4665-155">**Средство веб-развертывания 2,1 или более поздней версии**.</span><span class="sxs-lookup"><span data-stu-id="d4665-155">**Web Deployment Tool 2.1 or later**.</span></span> <span data-ttu-id="d4665-156">При этом на сервере устанавливаются веб-развертывание (и его базовый исполняемый файл, MSDeploy. exe).</span><span class="sxs-lookup"><span data-stu-id="d4665-156">This installs Web Deploy (and its underlying executable, MSDeploy.exe) on your server.</span></span> <span data-ttu-id="d4665-157">В рамках этого процесса он устанавливает и запускает службу веб-Deployment Agent.</span><span class="sxs-lookup"><span data-stu-id="d4665-157">As part of this process, it installs and starts the Web Deployment Agent Service.</span></span> <span data-ttu-id="d4665-158">Эта служба позволяет развертывать веб-пакеты с удаленного компьютера.</span><span class="sxs-lookup"><span data-stu-id="d4665-158">This service lets you deploy web packages from a remote computer.</span></span>
- <span data-ttu-id="d4665-159">**ASP.NET MVC 3**.</span><span class="sxs-lookup"><span data-stu-id="d4665-159">**ASP.NET MVC 3**.</span></span> <span data-ttu-id="d4665-160">При этом устанавливаются сборки, необходимые для запуска приложений MVC 3.</span><span class="sxs-lookup"><span data-stu-id="d4665-160">This installs the assemblies you need to run MVC 3 applications.</span></span>

> [!NOTE]
> <span data-ttu-id="d4665-161">В этом пошаговом руководстве описывается использование установщика веб-платформы для установки и настройки необходимых компонентов.</span><span class="sxs-lookup"><span data-stu-id="d4665-161">This walkthrough describes the use of the Web Platform Installer to install and configure the required components.</span></span> <span data-ttu-id="d4665-162">Хотя вам не нужно использовать установщик веб-платформы, он упрощает процесс установки, автоматически выявляя зависимости и гарантируя, что вы всегда получаете новейшие версии продукта.</span><span class="sxs-lookup"><span data-stu-id="d4665-162">Although you don't have to use the Web Platform Installer, it simplifies the installation process by automatically detecting dependencies and ensuring that you always get the latest product versions.</span></span> <span data-ttu-id="d4665-163">Дополнительные сведения см. в разделе [установщик веб-платформы Майкрософт 3,0](https://go.microsoft.com/?linkid=9805118).</span><span class="sxs-lookup"><span data-stu-id="d4665-163">For more information, see [Microsoft Web Platform Installer 3.0](https://go.microsoft.com/?linkid=9805118).</span></span>

<span data-ttu-id="d4665-164">**Установка необходимых продуктов и компонентов**</span><span class="sxs-lookup"><span data-stu-id="d4665-164">**To install the required products and components**</span></span>

1. <span data-ttu-id="d4665-165">Скачайте и установите [установщик веб-платформы](https://go.microsoft.com/?linkid=9805118).</span><span class="sxs-lookup"><span data-stu-id="d4665-165">Download and install the [Web Platform Installer](https://go.microsoft.com/?linkid=9805118).</span></span>
2. <span data-ttu-id="d4665-166">После завершения установки установщик веб-платформы запустится автоматически.</span><span class="sxs-lookup"><span data-stu-id="d4665-166">When installation is complete, the Web Platform Installer will launch automatically.</span></span>

    > [!NOTE]
    > <span data-ttu-id="d4665-167">Теперь можно запустить установщик веб-платформы в любое время из меню " **Пуск** ".</span><span class="sxs-lookup"><span data-stu-id="d4665-167">You can now launch the Web Platform Installer at any time from the **Start** menu.</span></span> <span data-ttu-id="d4665-168">Для этого в меню **Пуск** выберите пункт **все программы**, а затем щелкните **установщик веб-платформы Майкрософт**.</span><span class="sxs-lookup"><span data-stu-id="d4665-168">To do this, on the **Start** menu, click **All Programs**, and then click **Microsoft Web Platform Installer**.</span></span>
3. <span data-ttu-id="d4665-169">В верхней части окна **установщика веб-платформы 3,0** щелкните **Products (продукты**).</span><span class="sxs-lookup"><span data-stu-id="d4665-169">At the top of the **Web Platform Installer 3.0** window, click **Products**.</span></span>
4. <span data-ttu-id="d4665-170">В левой части окна в области навигации щелкните **платформы**.</span><span class="sxs-lookup"><span data-stu-id="d4665-170">On the left side of the window, in the navigation pane, click **Frameworks**.</span></span>
5. <span data-ttu-id="d4665-171">В строке **Microsoft .NET Framework 4** , если .NET Framework еще не установлен, нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="d4665-171">In the **Microsoft .NET Framework 4** row, if the .NET Framework is not already installed, click **Add**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="d4665-172">Возможно, вы уже установили .NET Framework 4,0 с помощью Центр обновления Windows.</span><span class="sxs-lookup"><span data-stu-id="d4665-172">You may have already installed the .NET Framework 4.0 through Windows Update.</span></span> <span data-ttu-id="d4665-173">Если продукт или компонент уже установлен, установщик веб-платформы сообщит это, заменив кнопку **Добавить** на **установленный**текст.</span><span class="sxs-lookup"><span data-stu-id="d4665-173">If a product or component is already installed, the Web Platform Installer will indicate this by replacing the **Add** button with the text **Installed**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image1.png)
6. <span data-ttu-id="d4665-174">В строке **ASP.NET MVC 3 (Visual Studio 2010)** нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="d4665-174">In the **ASP.NET MVC 3 (Visual Studio 2010)** row, click **Add**.</span></span>
7. <span data-ttu-id="d4665-175">В области навигации щелкните **сервер**.</span><span class="sxs-lookup"><span data-stu-id="d4665-175">In the navigation pane, click **Server**.</span></span>
8. <span data-ttu-id="d4665-176">В строке **рекомендуемой конфигурации IIS 7** нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="d4665-176">In the **IIS 7 Recommended Configuration** row, click **Add**.</span></span>
9. <span data-ttu-id="d4665-177">В строке **средства веб-развертывания 2,1** нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="d4665-177">In the **Web Deployment Tool 2.1** row, click **Add**.</span></span>
10. <span data-ttu-id="d4665-178">Нажмите кнопку **Установить**.</span><span class="sxs-lookup"><span data-stu-id="d4665-178">Click **Install**.</span></span> <span data-ttu-id="d4665-179">Установщик веб-платформы отобразит список продуктов&#x2014;вместе со всеми связанными зависимостями&#x2014;, которые будут установлены, и предложит принять условия лицензионного соглашения.</span><span class="sxs-lookup"><span data-stu-id="d4665-179">The Web Platform Installer will show you a list of products&#x2014;together with any associated dependencies&#x2014;to be installed and will prompt you to accept the license terms.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image2.png)
11. <span data-ttu-id="d4665-180">Ознакомьтесь с условиями лицензионного соглашения и, если вы согласны с условиями, нажмите кнопку **принимаю**.</span><span class="sxs-lookup"><span data-stu-id="d4665-180">Review the license terms, and if you consent to the terms, click **I Accept**.</span></span>
12. <span data-ttu-id="d4665-181">По завершении установки нажмите кнопку **Готово**, а затем закройте окно **установщик веб-платформы 3,0** .</span><span class="sxs-lookup"><span data-stu-id="d4665-181">When the installation is complete, click **Finish**, and then close the **Web Platform Installer 3.0** window.</span></span>

<span data-ttu-id="d4665-182">Если вы установили .NET Framework 4,0 до установки служб IIS, необходимо запустить [средство регистрации служб iis ASP.NET](https://msdn.microsoft.com/library/k6h9cz8h(v=VS.100).aspx) (ASPNET\_regiis. exe), чтобы зарегистрировать последнюю версию ASP.NET с IIS.</span><span class="sxs-lookup"><span data-stu-id="d4665-182">If you installed the .NET Framework 4.0 before you installed IIS, you'll need to run the [ASP.NET IIS Registration Tool](https://msdn.microsoft.com/library/k6h9cz8h(v=VS.100).aspx) (aspnet\_regiis.exe) to register the latest version of ASP.NET with IIS.</span></span> <span data-ttu-id="d4665-183">В противном случае вы обнаружите, что IIS будет обслуживать статическое содержимое (например, HTML-файлы) без проблем, но при попытке перейти к содержимому ASP.NET будет возвращена **Ошибка HTTP 404,0 — не найдена** .</span><span class="sxs-lookup"><span data-stu-id="d4665-183">If you don't do this, you'll find that IIS will serve static content (like HTML files) without any problems, but it will return **HTTP Error 404.0 – Not Found** when you attempt to browse to ASP.NET content.</span></span> <span data-ttu-id="d4665-184">Эту процедуру можно использовать, чтобы убедиться, что ASP.NET 4,0 зарегистрирован.</span><span class="sxs-lookup"><span data-stu-id="d4665-184">You can use this procedure to ensure that ASP.NET 4.0 is registered.</span></span>

<span data-ttu-id="d4665-185">**Регистрация ASP.NET 4,0 в службах IIS**</span><span class="sxs-lookup"><span data-stu-id="d4665-185">**To register ASP.NET 4.0 with IIS**</span></span>

1. <span data-ttu-id="d4665-186">Нажмите кнопку **Пуск**и введите **Командная строка**.</span><span class="sxs-lookup"><span data-stu-id="d4665-186">Click **Start**, and then type **Command Prompt**.</span></span>
2. <span data-ttu-id="d4665-187">В результатах поиска щелкните правой кнопкой мыши пункт **Командная строка**и выберите команду **Запуск от имени администратора**.</span><span class="sxs-lookup"><span data-stu-id="d4665-187">In the search results, right-click **Command Prompt**, and then click **Run as administrator**.</span></span>
3. <span data-ttu-id="d4665-188">В окне командной строки перейдите в каталог **%WINDIR%\Microsoft.NET\Framework\v4.0.30319** .</span><span class="sxs-lookup"><span data-stu-id="d4665-188">In the Command Prompt window, navigate to the **%WINDIR%\Microsoft.NET\Framework\v4.0.30319** directory.</span></span>
4. <span data-ttu-id="d4665-189">Введите эту команду и нажмите клавишу ВВОД:</span><span class="sxs-lookup"><span data-stu-id="d4665-189">Type this command, and then press Enter:</span></span>

    [!code-console[Main](configuring-a-web-server-for-web-deploy-publishing-remote-agent/samples/sample1.cmd)]
5. <span data-ttu-id="d4665-190">Если вы планируете размещать в системе 64-разрядные веб-приложения в любой момент, необходимо также зарегистрировать 64-разрядную версию ASP.NET с IIS.</span><span class="sxs-lookup"><span data-stu-id="d4665-190">If you plan to host 64-bit web applications at any point, you should also register the 64-bit version of ASP.NET with IIS.</span></span> <span data-ttu-id="d4665-191">Для этого в окне командной строки перейдите в каталог **%WINDIR%\Microsoft.NET\Framework64\v4.0.30319** .</span><span class="sxs-lookup"><span data-stu-id="d4665-191">To do this, in the Command Prompt window, navigate to the **%WINDIR%\Microsoft.NET\Framework64\v4.0.30319** directory.</span></span>
6. <span data-ttu-id="d4665-192">Введите эту команду и нажмите клавишу ВВОД:</span><span class="sxs-lookup"><span data-stu-id="d4665-192">Type this command, and then press Enter:</span></span>

    [!code-console[Main](configuring-a-web-server-for-web-deploy-publishing-remote-agent/samples/sample2.cmd)]

<span data-ttu-id="d4665-193">Рекомендуется использовать Центр обновления Windows на этом этапе, чтобы скачать и установить все доступные обновления для новых продуктов и компонентов, которые вы установили.</span><span class="sxs-lookup"><span data-stu-id="d4665-193">As a good practice, use Windows Update again at this point to download and install any available updates for the new products and components you've installed.</span></span>

## <a name="configure-the-iis-website"></a><span data-ttu-id="d4665-194">Настройка веб-сайта IIS</span><span class="sxs-lookup"><span data-stu-id="d4665-194">Configure the IIS Website</span></span>

<span data-ttu-id="d4665-195">Прежде чем можно будет развернуть веб-содержимое на сервере, необходимо создать и настроить веб-сайт IIS для размещения содержимого.</span><span class="sxs-lookup"><span data-stu-id="d4665-195">Before you can deploy web content to your server, you need to create and configure an IIS website to host the content.</span></span> <span data-ttu-id="d4665-196">Веб-развертывание может развертывать только веб-пакеты на существующем веб-сайте IIS; Он не может создать веб-сайт.</span><span class="sxs-lookup"><span data-stu-id="d4665-196">Web Deploy can only deploy web packages to an existing IIS website; it can't create the website for you.</span></span> <span data-ttu-id="d4665-197">На высоком уровне необходимо выполнить следующие задачи:</span><span class="sxs-lookup"><span data-stu-id="d4665-197">At a high level, you'll need to complete these tasks:</span></span>

- <span data-ttu-id="d4665-198">Создайте папку в файловой системе для размещения содержимого.</span><span class="sxs-lookup"><span data-stu-id="d4665-198">Create a folder on the file system to host your content.</span></span>
- <span data-ttu-id="d4665-199">Создайте веб-сайт IIS для обслуживания содержимого и свяжите его с локальной папкой.</span><span class="sxs-lookup"><span data-stu-id="d4665-199">Create an IIS website to serve the content, and associate it with the local folder.</span></span>
- <span data-ttu-id="d4665-200">Предоставьте разрешения на чтение удостоверению пула приложений в локальной папке.</span><span class="sxs-lookup"><span data-stu-id="d4665-200">Grant read permissions to the application pool identity on the local folder.</span></span>

<span data-ttu-id="d4665-201">Хотя ничто не мешает развертывать содержимое на веб-сайте по умолчанию в службах IIS, этот подход не рекомендуется использовать ни для тестов, ни для демонстрационных сценариев.</span><span class="sxs-lookup"><span data-stu-id="d4665-201">Although there's nothing stopping you from deploying content to the default website in IIS, this approach is not recommended for anything other than test or demonstration scenarios.</span></span> <span data-ttu-id="d4665-202">Для имитации рабочей среды следует создать новый веб-сайт IIS с параметрами, зависящими от требований приложения.</span><span class="sxs-lookup"><span data-stu-id="d4665-202">To simulate a production environment, you should create a new IIS website with settings that are specific to the requirements of your application.</span></span>

<span data-ttu-id="d4665-203">**Создание и Настройка веб-сайта IIS**</span><span class="sxs-lookup"><span data-stu-id="d4665-203">**To create and configure an IIS website**</span></span>

1. <span data-ttu-id="d4665-204">В локальной файловой системе создайте папку для хранения содержимого (например, **к:\демосите**).</span><span class="sxs-lookup"><span data-stu-id="d4665-204">On the local file system, create a folder to store your content (for example, **C:\DemoSite**).</span></span>
2. <span data-ttu-id="d4665-205">В меню **Пуск** укажите пункт **Администрирование**, а затем выберите пункт **Диспетчер службы IIS (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="d4665-205">On the **Start** menu, point to **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>
3. <span data-ttu-id="d4665-206">В диспетчере служб IIS в области **подключения** разверните узел сервера (например, **TESTWEB1**).</span><span class="sxs-lookup"><span data-stu-id="d4665-206">In IIS Manager, in the **Connections** pane, expand the server node (for example, **TESTWEB1**).</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image3.png)
4. <span data-ttu-id="d4665-207">Щелкните правой кнопкой мыши узел **сайты** и выберите команду **Добавить веб-сайт**.</span><span class="sxs-lookup"><span data-stu-id="d4665-207">Right-click the **Sites** node, and then click **Add Web Site**.</span></span>
5. <span data-ttu-id="d4665-208">В поле **имя сайта** введите имя веб-сайта IIS (например, **демосите**).</span><span class="sxs-lookup"><span data-stu-id="d4665-208">In the **Site name** box, type a name for the IIS website (for example, **DemoSite**).</span></span>
6. <span data-ttu-id="d4665-209">В поле **физический путь** введите (или перейдите к) путь к локальной папке (например, **к:\демосите**).</span><span class="sxs-lookup"><span data-stu-id="d4665-209">In the **Physical path** box, type (or browse to) the path to your local folder (for example, **C:\DemoSite**).</span></span>
7. <span data-ttu-id="d4665-210">В поле **порт** введите номер порта, на котором будет размещен веб-сайт (например, **85**).</span><span class="sxs-lookup"><span data-stu-id="d4665-210">In the **Port** box, type the port number on which you want to host the website (for example, **85**).</span></span>

    > [!NOTE]
    > <span data-ttu-id="d4665-211">Номера стандартных портов 80 для HTTP и 443 для HTTPS.</span><span class="sxs-lookup"><span data-stu-id="d4665-211">The standard port numbers are 80 for HTTP and 443 for HTTPS.</span></span> <span data-ttu-id="d4665-212">Однако при размещении этого веб-сайта на порту 80 необходимо будет закрыть веб-сайт по умолчанию, прежде чем можно будет получить доступ к сайту.</span><span class="sxs-lookup"><span data-stu-id="d4665-212">However, if you host this website on port 80, you'll need to stop the default website before you can access your site.</span></span>
8. <span data-ttu-id="d4665-213">Оставьте поле **имя узла** пустым, если не требуется настроить запись службы доменных имен (DNS) для веб-сайта, а затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="d4665-213">Leave the **Host name** box blank, unless you want to configure a Domain Name System (DNS) record for the website, and then click **OK**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image4.png)

    > [!NOTE]
    > <span data-ttu-id="d4665-214">В рабочей среде вам, скорее всего, потребуется разместить веб-сайт через порт 80 и настроить заголовок узла вместе с соответствующими записями DNS.</span><span class="sxs-lookup"><span data-stu-id="d4665-214">In a production environment, you'll likely want to host your website on port 80 and configure a host header, together with matching DNS records.</span></span> <span data-ttu-id="d4665-215">Дополнительные сведения о настройке заголовков узлов в IIS 7 см. в разделе [Настройка заголовка узла для веб-сайта (IIS 7)](https://technet.microsoft.com/library/cc753195(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="d4665-215">For more information on configuring host headers in IIS 7, see [Configure a Host Header for a Web Site (IIS 7)](https://technet.microsoft.com/library/cc753195(WS.10).aspx).</span></span> <span data-ttu-id="d4665-216">Дополнительные сведения о роли DNS-сервера в Windows Server 2008 R2 см. в разделе [Обзор DNS-сервера](https://technet.microsoft.com/library/cc770392.aspx) и [DNS-сервер](https://technet.microsoft.com/windowsserver/dd448607).</span><span class="sxs-lookup"><span data-stu-id="d4665-216">For more information on the DNS Server role in Windows Server 2008 R2, see [DNS Server Overview](https://technet.microsoft.com/library/cc770392.aspx) and [DNS Server](https://technet.microsoft.com/windowsserver/dd448607).</span></span>
9. <span data-ttu-id="d4665-217">В области **Действия** в разделе **Изменение веб-сайта**выберите пункт **Привязки**.</span><span class="sxs-lookup"><span data-stu-id="d4665-217">In the **Actions** pane, under **Edit Site**, click **Bindings**.</span></span>
10. <span data-ttu-id="d4665-218">В диалоговом окне " **привязки сайта** " нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="d4665-218">In the **Site Bindings** dialog box, click **Add**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image5.png)
11. <span data-ttu-id="d4665-219">В диалоговом окне **Добавление привязки сайта** задайте **IP-адрес** и **порт** в соответствии с существующей конфигурацией сайта.</span><span class="sxs-lookup"><span data-stu-id="d4665-219">In the **Add Site Binding** dialog box, set the **IP address** and **Port** to match your existing site configuration.</span></span>
12. <span data-ttu-id="d4665-220">В поле **имя узла** введите имя веб-сервера (например, **TESTWEB1**) и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="d4665-220">In the **Host name** box, type the name of your web server (for example, **TESTWEB1**), and then click **OK**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image6.png)

    > [!NOTE]
    > <span data-ttu-id="d4665-221">Первая привязка сайта позволяет локально получить доступ к сайту с помощью IP-адреса и порта или `http://localhost:85`.</span><span class="sxs-lookup"><span data-stu-id="d4665-221">The first site binding allows you to access the site locally using the IP address and port or `http://localhost:85`.</span></span> <span data-ttu-id="d4665-222">Вторая привязка сайта позволяет получить доступ к сайту с других компьютеров в домене, используя имя компьютера (например, http://testweb1:85).</span><span class="sxs-lookup"><span data-stu-id="d4665-222">The second site binding allows you to access the site from other computers on the domain using the machine name (for example, http://testweb1:85).</span></span>
13. <span data-ttu-id="d4665-223">В диалоговом окне **привязки сайта** нажмите кнопку **Закрыть**.</span><span class="sxs-lookup"><span data-stu-id="d4665-223">In the **Site Bindings** dialog box, click **Close**.</span></span>
14. <span data-ttu-id="d4665-224">В области **подключения** щелкните **Пулы приложений**.</span><span class="sxs-lookup"><span data-stu-id="d4665-224">In the **Connections** pane, click **Application Pools**.</span></span>
15. <span data-ttu-id="d4665-225">В области **Пулы приложений** щелкните правой кнопкой мыши имя пула приложений и выберите пункт **Основные параметры**.</span><span class="sxs-lookup"><span data-stu-id="d4665-225">In the **Application Pools** pane, right-click the name of your application pool, and then click **Basic Settings**.</span></span> <span data-ttu-id="d4665-226">По умолчанию имя пула приложений будет совпадать с именем вашего веб-сайта (например, **демосите**).</span><span class="sxs-lookup"><span data-stu-id="d4665-226">By default, the name of your application pool will match the name of your website (for example, **DemoSite**).</span></span>
16. <span data-ttu-id="d4665-227">В списке **версия .NET Framework** выберите **.NET Framework v 4.0.30319**и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="d4665-227">In the **.NET Framework version** list, select **.NET Framework v4.0.30319**, and then click **OK**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image7.png)

    > [!NOTE]
    > <span data-ttu-id="d4665-228">Для примера решения требуется .NET Framework 4,0.</span><span class="sxs-lookup"><span data-stu-id="d4665-228">The sample solution requires .NET Framework 4.0.</span></span> <span data-ttu-id="d4665-229">Это не является обязательным для веб-развертывание в целом.</span><span class="sxs-lookup"><span data-stu-id="d4665-229">This is not a requirement for Web Deploy in general.</span></span>

<span data-ttu-id="d4665-230">Чтобы веб-сайт мог обслуживать содержимое, удостоверение пула приложений должно иметь разрешения на чтение для локальной папки, в которой хранится содержимое.</span><span class="sxs-lookup"><span data-stu-id="d4665-230">In order for your website to serve content, the application pool identity must have read permissions on the local folder that stores the content.</span></span> <span data-ttu-id="d4665-231">В IIS 7,5 пулы приложений работают с уникальным удостоверением пула приложений по умолчанию (в отличие от предыдущих версий IIS, где пулы приложений обычно выполнялись с использованием учетной записи сетевой службы).</span><span class="sxs-lookup"><span data-stu-id="d4665-231">In IIS 7.5, application pools run with a unique application pool identity by default (in contrast to previous versions of IIS, where application pools would typically run using the Network Service account).</span></span> <span data-ttu-id="d4665-232">Удостоверение пула приложений не является реальной учетной записью пользователя и не отображается ни в каких списках пользователей или групп&#x2014;, но и динамически создается при запуске пула приложений.</span><span class="sxs-lookup"><span data-stu-id="d4665-232">The application pool identity is not a real user account and does not show up on any lists of users or groups&#x2014;instead, it's created dynamically when the application pool is started.</span></span> <span data-ttu-id="d4665-233">Каждое удостоверение пула приложений добавляется в группу безопасности Local **IIS\_IUSR** в качестве скрытого элемента.</span><span class="sxs-lookup"><span data-stu-id="d4665-233">Each application pool identity is added to the local **IIS\_IUSRS** security group as a hidden item.</span></span>

<span data-ttu-id="d4665-234">Чтобы предоставить разрешения удостоверению пула приложений для файла или папки, можно использовать два варианта:</span><span class="sxs-lookup"><span data-stu-id="d4665-234">To grant permissions to an application pool identity on a file or folder, you have two options:</span></span>

- <span data-ttu-id="d4665-235">Назначьте разрешения для удостоверения пула приложений напрямую, используя формат <strong>IIS AppPool\</strong ><em>[имя пула приложений]</em>(например, <strong>IIS апппул\демосите</strong>).</span><span class="sxs-lookup"><span data-stu-id="d4665-235">Assign permissions to the application pool identity directly, using the format <strong>IIS AppPool\</strong><em>[application pool name]</em>(for example, <strong>IIS AppPool\DemoSite</strong>).</span></span>
- <span data-ttu-id="d4665-236">Назначьте разрешения группе **IIS\_IUSR** .</span><span class="sxs-lookup"><span data-stu-id="d4665-236">Assign permissions to the **IIS\_IUSRS** group.</span></span>

<span data-ttu-id="d4665-237">Наиболее распространенным подходом является назначение разрешений локальной группе **IIS\_IUSR** , так как этот подход позволяет изменять пулы приложений без перенастройки разрешений файловой системы.</span><span class="sxs-lookup"><span data-stu-id="d4665-237">The most common approach is to assign permissions to the local **IIS\_IUSRS** group because this approach lets you change application pools without reconfiguring file system permissions.</span></span> <span data-ttu-id="d4665-238">Следующая процедура использует этот подход на основе группы.</span><span class="sxs-lookup"><span data-stu-id="d4665-238">The next procedure uses this group-based approach.</span></span>

> [!NOTE]
> <span data-ttu-id="d4665-239">Дополнительные сведения о удостоверениях пула приложений в IIS 7,5 см. в разделе [удостоверения пула приложений](https://go.microsoft.com/?linkid=9805123).</span><span class="sxs-lookup"><span data-stu-id="d4665-239">For more information on application pool identities in IIS 7.5, see [Application Pool Identities](https://go.microsoft.com/?linkid=9805123).</span></span>

<span data-ttu-id="d4665-240">**Настройка разрешений папки для веб-сайта IIS**</span><span class="sxs-lookup"><span data-stu-id="d4665-240">**To configure folder permissions for an IIS website**</span></span>

1. <span data-ttu-id="d4665-241">В проводнике найдите расположение локальной папки.</span><span class="sxs-lookup"><span data-stu-id="d4665-241">In Windows Explorer, browse to the location of your local folder.</span></span>
2. <span data-ttu-id="d4665-242">Щелкните правой кнопкой мыши папку и выберите пункт **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="d4665-242">Right-click the folder, and then click **Properties**.</span></span>
3. <span data-ttu-id="d4665-243">На вкладке **Безопасность** нажмите кнопку **изменить**, а затем нажмите кнопку **добавить**.</span><span class="sxs-lookup"><span data-stu-id="d4665-243">On the **Security** tab, click **Edit**, and then click **Add**.</span></span>
4. <span data-ttu-id="d4665-244">Щелкните **расположения**.</span><span class="sxs-lookup"><span data-stu-id="d4665-244">Click **Locations**.</span></span> <span data-ttu-id="d4665-245">В диалоговом окне **расположения** выберите локальный сервер и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="d4665-245">In the **Locations** dialog box, select the local server, and then click **OK**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image8.png)
5. <span data-ttu-id="d4665-246">В диалоговом окне **Выбор пользователей или групп** введите **IIS\_IUSR**, щелкните **Проверить имена**, а затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="d4665-246">In the **Select Users or Groups** dialog box, type **IIS\_IUSRS**, click **Check Names**, and then click **OK**.</span></span>
6. <span data-ttu-id="d4665-247">В диалоговом окне <strong>разрешения для</strong><em>[имя папки]</em>Обратите внимание, что новой группе назначено разрешение <strong>Чтение &amp; выполнение</strong>, <strong>список содержимого папки</strong>и разрешения на <strong>Чтение</strong> по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="d4665-247">In the <strong>Permissions for</strong><em>[folder name]</em>dialog box, notice that the new group has been assigned the <strong>Read &amp; execute</strong>, <strong>List folder contents</strong>, and <strong>Read</strong> permissions by default.</span></span> <span data-ttu-id="d4665-248">Оставьте это без изменений и нажмите кнопку <strong>ОК</strong>.</span><span class="sxs-lookup"><span data-stu-id="d4665-248">Leave this unchanged and click <strong>OK</strong>.</span></span>
7. <span data-ttu-id="d4665-249">Нажмите кнопку <strong>ОК</strong> , чтобы закрыть диалоговое окно<strong>Свойства</strong> <em>[имя папки]</em>.</span><span class="sxs-lookup"><span data-stu-id="d4665-249">Click <strong>OK</strong> to close the <em>[folder name]</em><strong>Properties</strong> dialog box.</span></span>

<span data-ttu-id="d4665-250">В качестве конечной задачи перед развертыванием веб-пакетов на сервере необходимо убедиться, что служба веб-Deployment Agent запущена.</span><span class="sxs-lookup"><span data-stu-id="d4665-250">As a final task before you attempt to deploy any web packages to your server, you should ensure that the Web Deployment Agent Service is running.</span></span> <span data-ttu-id="d4665-251">При развертывании пакета с удаленного компьютера служба веб-Deployment Agent отвечает за извлечение и установку содержимого пакета.</span><span class="sxs-lookup"><span data-stu-id="d4665-251">When you deploy a package from a remote computer, the Web Deployment Agent Service is responsible for extracting and installing the contents of the package.</span></span> <span data-ttu-id="d4665-252">Служба запускается по умолчанию при установке средства веб-развертывания и запускается под удостоверением сетевой службы.</span><span class="sxs-lookup"><span data-stu-id="d4665-252">The service is started by default when you install the Web Deployment Tool and runs under the Network Service identity.</span></span>

<span data-ttu-id="d4665-253">Проверить, работает ли служба различными способами, можно с помощью различных служебных программ командной строки или командлетов Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d4665-253">You can check whether a service is running in multiple different ways, using various command-line utilities or Windows PowerShell cmdlets.</span></span> <span data-ttu-id="d4665-254">Эта процедура описывает простой подход на основе пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="d4665-254">This procedure describes a straightforward UI-based approach.</span></span>

<span data-ttu-id="d4665-255">**Проверка работы службы веб-Deployment Agent**</span><span class="sxs-lookup"><span data-stu-id="d4665-255">**To check that the Web Deployment Agent Service is running**</span></span>

1. <span data-ttu-id="d4665-256">Нажмите кнопку **Пуск** , выберите команду **Администрирование**, а затем выберите **Службы**.</span><span class="sxs-lookup"><span data-stu-id="d4665-256">On the **Start** menu, point to **Administrative Tools**, and then click **Services**.</span></span>
2. <span data-ttu-id="d4665-257">Найдите строку **Служба веб-Deployment Agent** и убедитесь, что для параметра **состояние** установлено значение **запущено**.</span><span class="sxs-lookup"><span data-stu-id="d4665-257">Locate the **Web Deployment Agent Service** row, and verify that the **Status** is set to **Started**.</span></span>

    ![](configuring-a-web-server-for-web-deploy-publishing-remote-agent/_static/image9.png)
3. <span data-ttu-id="d4665-258">Если служба еще не запущена, нажмите кнопку **Пуск**.</span><span class="sxs-lookup"><span data-stu-id="d4665-258">If the service is not already started, click **Start**.</span></span>

## <a name="configure-firewall-exceptions"></a><span data-ttu-id="d4665-259">Настройка исключений брандмауэра</span><span class="sxs-lookup"><span data-stu-id="d4665-259">Configure Firewall Exceptions</span></span>

<span data-ttu-id="d4665-260">По умолчанию служба удаленного агента прослушивает TCP-порт 80 по этому АДРЕСу:</span><span class="sxs-lookup"><span data-stu-id="d4665-260">By default, the Remote Agent Service listens on TCP port 80, at this URL:</span></span>

<http://servername.com/MSDEPLOYAGENTSERVICE>

<span data-ttu-id="d4665-261">В большинстве случаев вам не нужно настраивать дополнительные правила брандмауэра для службы удаленного агента, так как веб-серверы обычно прослушивают запросы HTTP через порт 80.</span><span class="sxs-lookup"><span data-stu-id="d4665-261">In most cases, you won't need to configure any additional firewall rules for the Remote Agent Service because web servers typically listen for HTTP requests on port 80.</span></span> <span data-ttu-id="d4665-262">Если вы настроили установку для прослушивания нестандартного порта, при необходимости необходимо настроить исключения брандмауэра.</span><span class="sxs-lookup"><span data-stu-id="d4665-262">If you customized your installation to listen on a nonstandard port, you'll need to configure firewall exceptions as required.</span></span>

## <a name="conclusion"></a><span data-ttu-id="d4665-263">Заключение</span><span class="sxs-lookup"><span data-stu-id="d4665-263">Conclusion</span></span>

<span data-ttu-id="d4665-264">На этом этапе веб-сервер готов принять и установить веб-пакеты с удаленного компьютера.</span><span class="sxs-lookup"><span data-stu-id="d4665-264">At this point, your web server is ready to accept and install web packages from a remote computer.</span></span> <span data-ttu-id="d4665-265">Перед развертыванием веб-приложения на сервере может потребоваться проверить следующие ключевые моменты:</span><span class="sxs-lookup"><span data-stu-id="d4665-265">Before you attempt to deploy a web application to the server, you may want to check these key points:</span></span>

- <span data-ttu-id="d4665-266">Зарегистрировали ли вы ASP.NET 4,0 с IIS?</span><span class="sxs-lookup"><span data-stu-id="d4665-266">Have you registered ASP.NET 4.0 with IIS?</span></span>
- <span data-ttu-id="d4665-267">Имеет ли удостоверение пула приложений доступ на чтение к исходной папке веб-сайта?</span><span class="sxs-lookup"><span data-stu-id="d4665-267">Does the application pool identity have read access to the source folder for your website?</span></span>
- <span data-ttu-id="d4665-268">Запущена ли служба веб-Deployment Agent?</span><span class="sxs-lookup"><span data-stu-id="d4665-268">Is the Web Deployment Agent Service running?</span></span>

## <a name="further-reading"></a><span data-ttu-id="d4665-269">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="d4665-269">Further Reading</span></span>

<span data-ttu-id="d4665-270">Инструкции по настройке файлов проекта пользовательских Microsoft Build Engine (MSBuild) для развертывания веб-пакетов в службе удаленного агента см. в разделе [Настройка свойств развертывания для целевой среды](configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="d4665-270">For guidance on how to configure custom Microsoft Build Engine (MSBuild) project files to deploy web packages to the Remote Agent Service, see [Configuring Deployment Properties for a Target Environment](configuring-deployment-properties-for-a-target-environment.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d4665-271">[Назад](scenario-configuring-a-production-environment-for-web-deployment.md)
> [Вперед](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md)</span><span class="sxs-lookup"><span data-stu-id="d4665-271">[Previous](scenario-configuring-a-production-environment-for-web-deployment.md)
[Next](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md)</span></span>
