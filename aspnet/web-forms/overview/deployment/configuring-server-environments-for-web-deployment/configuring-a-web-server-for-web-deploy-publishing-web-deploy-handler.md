---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler
title: Настройка веб-сервера для веб-публикации развертывания (обработчик веб-развертывания) | Документация Майкрософт
author: jrjlee
description: В этом разделе описываются способы настройки веб-сервер Internet Information Services (IIS), для поддержки веб-публикации и развертывания с помощью Хан развертывание IIS Web...
ms.author: riande
ms.date: 01/29/2017
ms.assetid: 90ebf911-1c46-4470-b876-1335bd0f590f
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler
msc.type: authoredcontent
ms.openlocfilehash: 51a8fdf44199b5a4735e0e00657639b191f51255
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/06/2019
ms.locfileid: "65125982"
---
# <a name="configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler"></a>Настройка веб-сервера для публикации веб-развертывания (обработчик веб-развертывания)

[Загрузить PDF-файл](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> В этом разделе описываются способы настройки веб-сервер Internet Information Services (IIS), для поддержки веб-публикации и развертывания с помощью IIS веб-развертывание обработчик.
> 
> При работе с Web Deploy 2.0 или более поздней версии, существует три основных подхода, которые можно использовать для получения приложений или сайтов на веб-сервер. Можно выполнить следующие действия: 
> 
> - Используйте *веб-развертывания службы удаленного агента*. Этот подход требует сократить количество конфигураций веб-сервера, но необходимо предоставить учетные данные администратора локального сервера для развертывания ничего на сервер.
> - Используйте *обработчик веб-развертывания*. Этот подход гораздо более сложна и требует больше усилий начальной для настройки веб-сервера. Тем не менее при использовании этого подхода, можно настроить службы IIS, чтобы разрешить пользователям без прав администратора для выполнения развертывания. Веб-развертывание обработчик доступна только в службах IIS 7 или более поздней версии.
> - Используйте *автономное развертывание*. Этот подход требует минимальной конфигурации веб-сервера, но администратор сервера необходимо вручную скопировать веб-пакета на сервер и импортировать его в диспетчере IIS.
> 
> Дополнительные сведения о ключевых функций, преимущества и недостатки этих подходов см. в разделе [Выбор оптимального подхода для веб-развертывания справа](choosing-the-right-approach-to-web-deployment.md).

Да, если вы хотите разрешить пользователям без прав администратора для развертывания содержимого для определенных веб-сайтов IIS. Этот подход часто является предпочтительным в таких типов сценариев:

- Промежуточной или рабочей среде, где учетной записи пользователя или службы, которое активирует удаленного развертывания вряд ли доступ к учетным данным администратора сервера.
- Размещенных средах, где вы хотите предоставить удаленным пользователям возможность обновить свои веб-сайты без предоставления им полного доступа веб-серверы (или доступ к вред веб-сайтов).

В сценариях разработки или тестирования, или в небольших организациях, развертывание содержимого, используя учетные данные администратора сервера меньше часто Соревнующиеся за ресурсы. В этих сценариях Настройка веб-серверов для поддержки развертывания с помощью [службы веб-развертывание удаленного агента](configuring-a-web-server-for-web-deploy-publishing-remote-agent.md) предлагает более простой подход.

## <a name="task-overview"></a>Общие сведения о задачах

Чтобы настроить веб-сервер для принятия и развертывания веб-пакетов с удаленного компьютера с помощью веб-развертывание обработчик подход, необходимо:

- Создайте или выберите учетную запись пользователя домена («пользователь без прав администратора»), учетные данные которого будут использоваться для выполнения развертываний.
- Установите службы IIS 7.5, включая веб-службы управления и модуль обычной проверки подлинности.
- Установите веб-развертывания 2.1 или более поздней версии.
- Настройка управления веб-службы для удаленных подключений и запустите службу.
- Создание веб-сайта IIS для размещения развернутого содержимого.
- Предоставьте разрешения пользователя без прав администратора на веб-сайте в диспетчере служб IIS.
- Убедитесь, что веб-службы управления, правила делегирования разрешить службу, чтобы добавить и изменить содержимое веб-сайта, с помощью учетной записи пользователя без прав администратора.
- Настройте все брандмауэры, чтобы разрешить входящие подключения через порт 8172.

Чтобы разместить в примере решения ContactManager в частности, также необходимо:

- Установка .NET Framework 4.0.
- Установка ASP.NET MVC 3.

В этом разделе показано, как выполнить каждую из этих процедур. Задачи и пошаговые руководства в этом разделе предполагается, что вы начинаете с построением чистого сервера под управлением Windows Server 2016. Прежде чем продолжить, убедитесь, что:

- Windows Server 2016
- Сервер присоединен к домену.
- Сервер имеет статический IP-адрес.

> [!NOTE]
> Дополнительные сведения о присоединении к домену компьютеров, см. в разделе [присоединение к домену и вход](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx). Дополнительные сведения о настройке статического IP-адресов, см. в разделе [настроить статический IP-адрес](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).

## <a name="install-products-and-components"></a>Установить продукты и компоненты

В этом разделе поможет установке необходимых продуктов и компонентов на веб-сервере. Перед началом работы рекомендуется выполнить обновление Windows, чтобы убедиться, что ваш сервер находится полностью в актуальном состоянии.

В этом случае необходимо установить следующее:

- **Рекомендуемая конфигурация IIS 7**. Это позволяет **веб-сервер (IIS)** роли веб-сервера и устанавливает набор модулей IIS и компоненты, необходимые для размещения приложений ASP.NET.
- **IIS: Служба управления**. При этом будут установлены службы веб-управления (WMSvc) в службах IIS. Эта служба позволяет удаленно управлять веб-сайтов IIS и предоставляет конечную точку веб-обработчик развертывания на клиентах.
- **IIS: Обычная проверка подлинности**. В результате будет установлен модуль обычной проверки подлинности IIS. Этот веб-службы управления (WMSvc) позволяет проверить учетные данные, указанные вами.
- **Средство веб-развертывания 2.1 или более поздняя**. При этом устанавливаются на сервере веб-развертывания (и его базового исполняемого файла, MSDeploy.exe). В рамках этого процесса он устанавливает веб-развертывание обработчик и интегрирует его с веб-службы управления.
- **.NET framework 4.0**. Это необходимо для запуска приложений, которые были созданы в этой версии платформы .NET Framework.
- **ASP.NET MVC 3**. Это устанавливает сборки, необходимые для запуска приложения MVC 3.

> [!NOTE]
> В этом пошаговом руководстве описывается использование установщика веб-платформы для установки и настройки различных компонентов. Несмотря на то, что не нужно использовать установщик веб-платформы, это упрощает процесс установки автоматически обнаруживая зависимостей и обеспечение всегда получать последние версии продукта. Дополнительные сведения см. в разделе [Microsoft Web Platform Installer](https://go.microsoft.com/?linkid=9805118).

**Чтобы установить необходимые продукты и компоненты**

1. Скачайте и установите [установщика веб-платформы](https://go.microsoft.com/?linkid=9805118).
2. По завершении установки автоматически запустит установщик веб-платформы.

    > [!NOTE]
    > Теперь можно запустить установщик веб-платформы в любое время с **запустить** меню. Для этого на **запустить** меню, щелкните **все программы**, а затем нажмите кнопку **Microsoft Web Platform Installer**.
3. В верхней части **установщика веб-платформы** окно, нажмите кнопку **продуктов**.
4. В левой части окна, в области навигации щелкните **платформ**.
5. В **Microsoft .NET Framework 4** строк, если .NET Framework еще не установлен, нажмите кнопку **добавить**.

    > [!NOTE]
    > Вы возможно уже установлены .NET Framework 4.0 через Центр обновления Windows. Если продукт или компонент уже установлен, установщик веб-платформы сообщит об этом, заменив **добавить** кнопка с текстом **установленные**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image1.png)
6. В **ASP.NET MVC 3 (Visual Studio 2010)** щелкните **добавить**.
7. В области навигации щелкните **сервера**.
8. В **рекомендуемой конфигурации IIS 7** щелкните **добавить**.
9. В **2.1 средства развертывания Web** щелкните **добавить**.
10. В **IIS: Обычная проверка подлинности** щелкните **добавить**.
11. В **IIS: Служба управления** щелкните **добавить**.
12. Нажмите кнопку **Установить**. Установщик веб-платформы Отображение списка продуктов&#x2014;совместно с любым связанные зависимости&#x2014;должен быть установлен и будет предложено принять условия лицензионного соглашения.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image2.png)
13. Ознакомьтесь с условиями лицензии, а если вы согласны с условиями, нажмите кнопку **я принимаю**.
14. После завершения установки нажмите кнопку **Готово**, а затем закройте **установщика веб-платформы** окна.

Если вы установили .NET Framework 4.0 до установки служб IIS, необходимо запустить [ASP.NET IIS Registration Tool](https://msdn.microsoft.com/library/k6h9cz8h(v=VS.100).aspx) (aspnet\_regiis.exe) для регистрации последнюю версию ASP.NET в IIS. Если этого не сделать, обнаружится, что IIS будет обслуживать статическое содержимое (например, HTML-файлы) без проблем, но он будет возвращать **404.0 Ошибка HTTP — не найден** при попытке перейти к содержимому ASP.NET. Можно использовать следующую процедуру, чтобы зарегистрировать ASP.NET 4.0.

**Чтобы зарегистрировать ASP.NET 4.0 в IIS**

1. Нажмите кнопку **запустить**, а затем введите **командной**.
2. В результатах поиска, щелкните правой кнопкой мыши **командной**, а затем нажмите кнопку **Запуск от имени администратора**.
3. В окне командной строки перейдите в раздел **%WINDIR%\Microsoft.NET\Framework\v4.0.30319** каталога.
4. Введите следующую команду и нажмите клавишу ВВОД:

    [!code-console[Main](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/samples/sample1.cmd)]
5. Если вы планируете размещать 64-разрядных веб-приложения в любой момент, то также зарегистрировать 64-разрядной версии ASP.NET в IIS. Чтобы сделать это, в окне командной строки, перейдите к **%WINDIR%\Microsoft.NET\Framework64\v4.0.30319** каталога.
6. Введите следующую команду и нажмите клавишу ВВОД:

    [!code-console[Main](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/samples/sample2.cmd)]

В качестве хорошей практикой используйте Windows Update еще раз на этом этапе для загрузки и установки доступных обновлений для новых продуктов и компонентов, которые вы установили.

## <a name="configure-the-web-management-service"></a>Настройка веб-службы управления

Теперь, когда вы установили все необходимые компоненты, следующим шагом является настройка управления веб-службы в IIS. На высоком уровне необходимо выполнить следующие задачи:

- Включите обычную проверку подлинности на уровне сервера.
- Настройка управления веб-службы для удаленных соединений.
- Запуск службы веб-управления.
- Проверьте необходимые правила делегирования управления веб-службы на месте.

**Чтобы настроить веб-службы управления**

1. На **запустить** последовательно выберите пункты **Администрирование**, а затем нажмите кнопку **Internet Information Services (IIS) Manager**.
2. В диспетчере служб IIS в **подключений** щелкните правой кнопкой мыши узел сервера (например, **STAGEWEB1**).

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image3.png)
3. В центральной области в разделе **IIS**, дважды щелкните **проверки подлинности**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image20.png)
4. Щелкните правой кнопкой мыши **обычной проверки подлинности**, а затем нажмите кнопку **включить**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image5.png)
5. В **подключений** щелкните правой кнопкой мыши узел сервера еще раз, чтобы вернуться к настройкам верхнего уровня.
6. В центральной области в разделе **управления**, дважды щелкните **службы управления**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image6.png)
7. В центральной области выберите **Включение удаленных подключений**.

    > [!NOTE]
    > Если веб-служба управления уже выполняется, необходимо сначала остановить его.
8. В **действия** панели щелкните **запустить** для запуска веб-службы управления.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image7.png)
9. Если будет предложено сохранить параметры, нажмите кнопку **Да**.

    > [!NOTE]
    > Можно также настроить автоматический запуск службы. Чтобы сделать это, откройте консоль служб щелкните правой кнопкой мыши **веб-служба управления**, а затем нажмите кнопку **свойства**. В **тип запуска** раскрывающемся списке выберите **автоматического**, а затем нажмите кнопку **ОК**.
10. В **подключений** щелкните правой кнопкой мыши узел сервера еще раз, чтобы вернуться к настройкам верхнего уровня.
11. В центральной области в разделе **управления**, дважды щелкните **делегирования службы управления**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image8.png)
12. Убедитесь, что в центральной области содержит набор правил.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image9.png)

    Эти правила позволяют авторизованных пользователей веб-службы управления для использования различных поставщиков веб-развертывания. Например, чтобы развернуть веб-приложений и содержимого с IIS через веб-развертывание обработчик, должен существовать правило делегирования, которое разрешает все прошедшие проверку пользователи веб-службы управления для использования **contentPath** и **сценарий iisApp**  поставщиков (последнее правило, которое показано на снимке экрана).

    Если вы установили продукты и компоненты в порядке, описанных в этом разделе, последнюю версию веб-развертывания автоматически добавит все правила делегирования требуется веб-службе управления. Если на странице делегирования службы управления не содержит какие-либо правила, нужно будет создать их самостоятельно. Инструкции о том, как это сделать, см. в разделе [Настройка обработчика веб-развертывания](https://go.microsoft.com/?linkid=9805124).
13. В **подключений** щелкните правой кнопкой мыши узел сервера еще раз, чтобы вернуться к настройкам верхнего уровня.

## <a name="create-and-configure-an-iis-website"></a>Создание и настройка веб-сайта IIS

Перед развертыванием веб-содержимого на сервер, необходимо создать и настроить веб-сайта IIS для размещения содержимого. Веб-развертывание можно развернуть веб-пакетов только для существующих веб-сайт IIS; не удается создать веб-сайт для вас. Вам также нужно немного дополнительной настройки, чтобы разрешить учетной записи без прав администратора для удаленного развертывания содержимого. На высоком уровне необходимо выполнить следующие задачи:

- Создайте папку в файловой системе для размещения содержимого.
- Создание веб-сайта IIS для обслуживания содержимого и свяжите его с локальной папкой.
- Предоставление разрешения на чтение для удостоверения пула приложений в локальной папке.
- Предоставьте необходимые разрешения учетной записи домена, который будет развертывать веб-приложения IIS.

Хотя ничто не мешает развертывания содержимого на веб-сайт по умолчанию в службах IIS, этот подход не рекомендуется для всего, кроме сценариев тестирования или демонстрации. Для имитации рабочей среде, следует создать новый веб-сайт IIS с параметрами, которые относятся к требованиям приложения.

**Создание веб-сайта IIS**

1. В локальной файловой системе, создайте папку для хранения содержимого (например, **C:\DemoSite**).
2. На **запустить** последовательно выберите пункты **Администрирование**, а затем нажмите кнопку **Internet Information Services (IIS) Manager**.
3. В диспетчере служб IIS в **подключений** панели раскройте узел сервера (например, **STAGEWEB1**).

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image10.png)
4. Щелкните правой кнопкой мыши **сайты** узел, а затем щелкните **добавить веб-сайт**.
5. В **имя_сайта** введите имя для веб-сайта IIS (например, **DemoSite**).
6. В **физический путь** введите (или перейдите к) путь к локальной папке (например, **C:\DemoSite**).
7. В **порт** введите номер порта, на котором будет размещаться веб-сайта (например, **85**).

    > [!NOTE]
    > Номера стандартных портов: 80 для HTTP и 443 для HTTPS. Тем не менее если вы размещаете этого веб-сайта через порт 80, необходимо остановить веб-сайт по умолчанию, чтобы обеспечить доступ к веб-узла.
8. Оставьте **имя узла** поле пустым, только если вы хотите настроить запись доменных имен (DNS) для веб-сайта, а затем нажмите кнопку **ОК**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image11.png)

    > [!NOTE]
    > В рабочей среде скорее всего нужно будет разместить веб-сайт через порт 80 и Настройка заголовка узла, а также соответствующие записи DNS. Дополнительные сведения о настройке заголовков узлов в IIS 7, см. в разделе [Настройка заголовка узла для веб-сайта (IIS 7)](https://technet.microsoft.com/library/cc753195(WS.10).aspx). Дополнительные сведения о роли DNS-сервера в Windows Server, см. в разделе [Обзор DNS-сервера](https://technet.microsoft.com/en-gb/library/cc770392.aspx) и [DNS-сервер](https://technet.microsoft.com/windowsserver/dd448607).
9. В области **Действия** в разделе **Изменение веб-сайта**выберите пункт **Привязки**.
10. В **привязки сайта** диалоговом окне щелкните **добавить**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image12.png)
11. В **Добавление привязки сайта** диалоговом окне set **IP-адрес** и **порт** в соответствии с существующей конфигурации сайта.
12. В **имя узла** введите имя веб-сервера (например, **STAGEWEB1**), а затем нажмите кнопку **ОК**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image13.png)

    > [!NOTE]
    > Первой привязки сайта дает возможность доступа к сайту, локально с помощью IP-адрес и порт или `http://localhost:85`. Вторая привязка сайта дает возможность доступа к сайту с других компьютеров в домене с помощью имени компьютера (например, http://stageweb1:85).
13. В **привязки сайта** диалоговом окне щелкните **закрыть**.
14. В **подключений** панели щелкните **пулы приложений**.
15. В **пулы приложений** панели, щелкните правой кнопкой мыши имя пула приложений и нажмите кнопку **основные параметры**. По умолчанию имя пула приложений будет соответствовать имени веб-сайта (например, **DemoSite**).
16. В **версия среды CLR .NET** выберите **среды CLR .NET v4.0.30319**, а затем нажмите кнопку **ОК**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image21.png)

    > [!NOTE]
    > В примере решения требуется .NET Framework 4.0. Это не является требованием для веб-развертывания в целом.

Чтобы веб-сайт для предоставления содержимого удостоверение пула приложений должно иметь разрешения на чтение локальную папку, в котором хранится содержимое. В IIS 7.5 пулы приложений выполняются с уникальным пула приложений по умолчанию (в отличие от предыдущих версий IIS, где пулы приложений будут обычно выполняются с помощью учетной записи сетевой службы). Удостоверение пула приложений не является реальной учетной записью и не включаются в список пользователей или групп&#x2014;вместо этого оно создается динамически при запуске пула приложений. Каждый удостоверение пула приложений добавляется к локальной **IIS\_IUSRS** группы безопасности как скрытый элемент.

Чтобы предоставить разрешения для удостоверения пула приложений для файла или папки, можно двумя способами:

- Назначить разрешения для удостоверения пула приложений напрямую, используя формат <strong>IIS AppPool\</ strong ><em>[имя пула приложений]</em>(например, <strong>IIS AppPool\DemoSite</strong>).
- Назначение разрешений для **IIS\_IUSRS** группы.

Наиболее распространенным подходом является для назначения разрешений локальной **IIS\_IUSRS** группе, так как этот подход позволяет изменять пулы приложений без повторной настройки разрешений файловой системы. В следующей процедуре используется этот подход на основе групп.

> [!NOTE]
> Дополнительные сведения о удостоверения пула приложений в IIS 7.5 см. в разделе [удостоверения пула приложений](https://go.microsoft.com/?linkid=9805123).

**Чтобы настроить разрешения для веб-сайта IIS**

1. В обозревателе Windows перейдите в расположение своей локальной папки.
2. Щелкните правой кнопкой мыши папку и нажмите кнопку **свойства**.
3. На **безопасности** щелкните **изменить**, а затем нажмите кнопку **добавить**.
4. Нажмите кнопку **расположения**. В **расположения** диалоговом окне выберите локальный сервер, а затем нажмите кнопку **ОК**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image15.png)
5. В **Выбор пользователей или групп** диалоговом окне **IIS\_IUSRS**, нажмите кнопку **проверить имена**, а затем нажмите кнопку **ОК**.
6. В <strong>разрешения для</strong><em>[имя папки]</em> диалоговом окне Обратите внимание, что назначить новую группу <strong>чтения &amp; выполнение</strong>, <strong>папки содержимое</strong>, и <strong>чтения</strong> разрешения по умолчанию. Оставьте без изменений и нажмите кнопку <strong>ОК</strong>.
7. Нажмите кнопку <strong>ОК</strong> закрыть <em>[имя папки]</em><strong>свойства</strong> диалоговое окно.

Как последняя задача необходимо предоставить соответствующие разрешения для пользователя без прав администратора, учетные данные которого вы будете использовать для развертывания содержимого. Этому пользователю требуются разрешения для удаленного развертывания содержимого на веб-сайт.

**Настройка разрешений веб-сайта IIS для пользователя без прав администратора домена**

1. В диспетчере служб IIS в **подключений** панели щелкните правой кнопкой мыши узел своей веб-сайта (например, **DemoSite**), пункты **развернуть**и нажмите кнопку **настройки веб- Публикации развертывания**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image16.png)
2. В **настроить веб-развертывание публикаций** диалоговом окне справа от **выберите пользователя, чтобы предоставить разрешения публикации** щелкните кнопку с многоточием.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image17.png)
3. В **разрешить пользователя** диалогового окна введите домен и имя учетной записи, которую необходимо использовать для развертывания содержимого и нажмите кнопку **ОК**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image18.png)
4. В **настроить веб-развертывание публикаций** диалоговом окне щелкните **установки**.

    ![](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler/_static/image19.png)

    > [!NOTE]
    > Эта операция выполняет две основные функции за один шаг. Во-первых он предоставляет пользователю разрешение на изменение на веб-сайт удаленно через веб-службы управления, в соответствии с правилами делегирования, которые проверяются в предыдущем разделе. Во-вторых он предоставляет пользователю полный контроль в исходную папку для веб-сайта, который позволяет пользователю добавлять, изменять и задать разрешения для содержимого веб-сайта.
5. В **настроить веб-развертывание публикаций** диалоговом окне щелкните **закрыть**.

## <a name="configure-firewall-exceptions"></a>Настройка исключений брандмауэра

По умолчанию службы IIS веб-управления прослушивает TCP-порт 8172. Если на веб-сервере включен брандмауэр Windows, нужно будет создать новое входящее правило разрешает TCP-трафик через порт 8172 (весь исходящий трафик разрешен по умолчанию в брандмауэре Windows). Если используется сторонний брандмауэр, необходимо создать правила, чтобы разрешить трафик.

| Направление | Из порта | К порту | Тип порта |
| --- | --- | --- | --- |
| Входящих подключений | Любой | 8172 | TCP |
| Исходящие | 8172 | Любой | TCP |

Дополнительные сведения о настройке правил в брандмауэре Windows см. в разделе [Настройка правил брандмауэра](https://technet.microsoft.com/library/dd448559(WS.10).aspx). Сторонние брандмауэры можно найти в документации к продукту.

## <a name="conclusion"></a>Заключение

Веб-сервер станет готова к приему удаленного развертывания для веб-развертывание обработчик веб-служба управления. Прежде чем пытаться развернуть веб-приложения к серверу, вы можете проверить следующие основные моменты:

- Включена обычная проверка подлинности на уровне сервера в IIS?
- Включен ли удаленные соединения с веб-службы управления?
- Вы уже начали веб-службы управления?
- Существуют ли управления правила делегирования службы на месте?
- Имеет ли удостоверение пула приложений доступ на чтение к папке источника для веб-сайта?
- Имеет ли учетная запись пользователя без прав администратора разрешения уровня веб-сайта в IIS?
- Позволяет ли входящие подключения к серверу через TCP-порт 8172 брандмауэр?

## <a name="further-reading"></a>Дополнительные сведения

Рекомендации о том, как настроить пользовательские файлы проекта Microsoft Build Engine (MSBuild) для развертывания веб-пакеты на веб-развертывание обработчик, см. в разделе [Настройка свойств развертывания для целевой среды](configuring-deployment-properties-for-a-target-environment.md).

> [!div class="step-by-step"]
> [Назад](configuring-a-web-server-for-web-deploy-publishing-remote-agent.md)
> [Вперед](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
