---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
title: Настройка сервера базы данных для веб-публикации развертывания | Документация Майкрософт
author: jrjlee
description: В этом разделе описывается настройка сервера базы данных SQL Server 2008 R2 для поддержки веб-развертывания и публикации. Задачи, описанные в этом разделе, co...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: e7c447f9-eddf-4bbe-9f18-3326d965d093
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
msc.type: authoredcontent
ms.openlocfilehash: 2cd99e23904276e89cf043a2332ad07c0f01716d
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59415353"
---
# <a name="configuring-a-database-server-for-web-deploy-publishing"></a><span data-ttu-id="5c871-104">Настройка сервера базы данных для публикации веб-развертывания</span><span class="sxs-lookup"><span data-stu-id="5c871-104">Configuring a Database Server for Web Deploy Publishing</span></span>

<span data-ttu-id="5c871-105">по [Джейсон Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="5c871-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="5c871-106">Скачать PDF</span><span class="sxs-lookup"><span data-stu-id="5c871-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="5c871-107">В этом разделе описывается настройка сервера базы данных SQL Server 2008 R2 для поддержки веб-развертывания и публикации.</span><span class="sxs-lookup"><span data-stu-id="5c871-107">This topic describes how to configure a SQL Server 2008 R2 database server to support web deployment and publishing.</span></span>
> 
> <span data-ttu-id="5c871-108">Задачи, описанные в этом разделе являются общими для всех сценариев развертывания&#x2014;неважно веб-серверы настроены для использования удаленной службы агента средство веб-развертывания IIS (веб-развертывания), веб-обработчик развертывания или развертывания в автономном режиме или в приложение выполняется на одном веб-сервере или ферме серверов.</span><span class="sxs-lookup"><span data-stu-id="5c871-108">The tasks described in this topic are common to every deployment scenario&#x2014;it doesn't matter whether your web servers are configured to use the IIS Web Deployment Tool (Web Deploy) Remote Agent Service, the Web Deploy Handler, or offline deployment or your application is running on a single web server or a server farm.</span></span> <span data-ttu-id="5c871-109">Способ развертывания базы данных могут быть изменены в соответствии с требованиями безопасности и другие вопросы.</span><span class="sxs-lookup"><span data-stu-id="5c871-109">The way you deploy the database may change according to security requirements and other considerations.</span></span> <span data-ttu-id="5c871-110">К примеру вы можете развернуть базы данных с или без образец данных и может развернуть сопоставлений ролей пользователей или настроить их вручную после развертывания.</span><span class="sxs-lookup"><span data-stu-id="5c871-110">For example, you might deploy the database with or without sample data, and you might deploy user role mappings or configure them manually after deployment.</span></span> <span data-ttu-id="5c871-111">Однако способ настройки сервера базы данных остается неизменным.</span><span class="sxs-lookup"><span data-stu-id="5c871-111">However, the way you configure the database server remains the same.</span></span>


<span data-ttu-id="5c871-112">Установите все дополнительные продукты и средства для настройки сервера базы данных для поддержки веб-развертывания не нужно.</span><span class="sxs-lookup"><span data-stu-id="5c871-112">You don't have to install any additional products or tools to configuring a database server to support web deployment.</span></span> <span data-ttu-id="5c871-113">Предположим, что серверу базы данных и веб-сервер работают на разных компьютерах, нужно просто:</span><span class="sxs-lookup"><span data-stu-id="5c871-113">Assuming that your database server and your web server run on different machines, you simply need to:</span></span>

- <span data-ttu-id="5c871-114">Разрешить SQL Server обмениваться данными по протоколу TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="5c871-114">Permit SQL Server to communicate using TCP/IP.</span></span>
- <span data-ttu-id="5c871-115">Разрешает трафик SQL Server через все брандмауэры.</span><span class="sxs-lookup"><span data-stu-id="5c871-115">Allow SQL Server traffic through any firewalls.</span></span>
- <span data-ttu-id="5c871-116">Предоставьте учетную запись компьютера сервера web имени входа SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c871-116">Give the web server machine account a SQL Server login.</span></span>
- <span data-ttu-id="5c871-117">Сопоставьте имя входа учетной записи компьютера в любые роли базы данных.</span><span class="sxs-lookup"><span data-stu-id="5c871-117">Map the machine account login to any required database roles.</span></span>
- <span data-ttu-id="5c871-118">Предоставьте учетной записи, которая будет выполняться развертывание разрешения создатель имя входа и базы данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c871-118">Give the account that will run the deployment a SQL Server login and database creator permissions.</span></span>
- <span data-ttu-id="5c871-119">Для поддержки повторных развертываний, сопоставить имя входа учетной записи развертывания для **db\_владельца** роли базы данных.</span><span class="sxs-lookup"><span data-stu-id="5c871-119">To support repeat deployments, map the deployment account login to the **db\_owner** database role.</span></span>

<span data-ttu-id="5c871-120">В этом разделе показано, как выполнить каждую из этих процедур.</span><span class="sxs-lookup"><span data-stu-id="5c871-120">This topic will show you how to perform each of these procedures.</span></span> <span data-ttu-id="5c871-121">Задачи и пошаговые руководства в этом разделе предполагается, что вы начинаете с экземпляром по умолчанию SQL Server 2008 R2 для систем под управлением Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="5c871-121">The tasks and walkthroughs in this topic assume that you're starting with a default instance of SQL Server 2008 R2 running on Windows Server 2008 R2.</span></span> <span data-ttu-id="5c871-122">Прежде чем продолжить, убедитесь, что:</span><span class="sxs-lookup"><span data-stu-id="5c871-122">Before you continue, ensure that:</span></span>

- <span data-ttu-id="5c871-123">Пакет обновления 1 для Windows Server 2008 R2 и все доступные обновления будут установлены.</span><span class="sxs-lookup"><span data-stu-id="5c871-123">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="5c871-124">Сервер присоединен к домену.</span><span class="sxs-lookup"><span data-stu-id="5c871-124">The server is domain-joined.</span></span>
- <span data-ttu-id="5c871-125">Сервер имеет статический IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="5c871-125">The server has a static IP address.</span></span>
- <span data-ttu-id="5c871-126">SQL Server 2008 R2 с пакетом обновления 1 и все доступные обновления будут установлены.</span><span class="sxs-lookup"><span data-stu-id="5c871-126">SQL Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>

<span data-ttu-id="5c871-127">Экземпляр SQL Server требуется только включить **службы компонента Database Engine** роли, которая автоматически включается в любой установке SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c871-127">The SQL Server instance only needs to include the **Database Engine Services** role, which is included automatically in any SQL Server installation.</span></span> <span data-ttu-id="5c871-128">Однако для простоты настройки и обслуживания, мы рекомендуем добавить **основные средства управления** и **средства управления — полный** ролей сервера.</span><span class="sxs-lookup"><span data-stu-id="5c871-128">However, for ease of configuration and maintenance, we recommend that you include the **Management Tools – Basic** and **Management Tools – Complete** server roles.</span></span>

> [!NOTE]
> <span data-ttu-id="5c871-129">Дополнительные сведения о присоединении к домену компьютеров, см. в разделе [присоединение к домену и вход](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="5c871-129">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="5c871-130">Дополнительные сведения о настройке статического IP-адресов, см. в разделе [настроить статический IP-адрес](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="5c871-130">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span></span> <span data-ttu-id="5c871-131">Дополнительные сведения об установке SQL Server см. в разделе [Установка SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span><span class="sxs-lookup"><span data-stu-id="5c871-131">For more information on installing SQL Server, see [Installing SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span></span>


## <a name="enable-remote-access-to-sql-server"></a><span data-ttu-id="5c871-132">Включить удаленный доступ к SQL Server</span><span class="sxs-lookup"><span data-stu-id="5c871-132">Enable Remote Access to SQL Server</span></span>

<span data-ttu-id="5c871-133">SQL Server использует TCP/IP для взаимодействия с удаленными компьютерами.</span><span class="sxs-lookup"><span data-stu-id="5c871-133">SQL Server uses TCP/IP to communicate with remote computers.</span></span> <span data-ttu-id="5c871-134">Если серверу базы данных и веб-сервер находятся на разных компьютерах, необходимо:</span><span class="sxs-lookup"><span data-stu-id="5c871-134">If your database server and your web server are on different machines, you need to:</span></span>

- <span data-ttu-id="5c871-135">Настройка сетевых параметров SQL Server, чтобы обеспечить обмен данными по протоколу TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="5c871-135">Configure SQL Server networking settings to allow communication over TCP/IP.</span></span>
- <span data-ttu-id="5c871-136">Настройте все брандмауэры оборудования или программного обеспечения, чтобы разрешить TCP-трафик (и в некоторых случаях протокола UDP (User Datagram) трафик) через порты, которые использует экземпляр SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c871-136">Configure any hardware or software firewalls to allow TCP traffic (and in some cases User Datagram Protocol (UDP) traffic) on the ports that the SQL Server instance uses.</span></span>

<span data-ttu-id="5c871-137">Чтобы включить SQL Server обмениваться данными по протоколу TCP/IP, используйте диспетчер конфигурации SQL Server для изменения конфигурации сети для экземпляра SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c871-137">To enable SQL Server to communicate over TCP/IP, use SQL Server Configuration Manager to change the network configuration for your SQL Server instance.</span></span>

**<span data-ttu-id="5c871-138">Чтобы включить SQL Server обмениваться данными по протоколу TCP/IP</span><span class="sxs-lookup"><span data-stu-id="5c871-138">To enable SQL Server to communicate using TCP/IP</span></span>**

1. <span data-ttu-id="5c871-139">На **запустить** последовательно выберите пункты **все программы**, нажмите кнопку **Microsoft SQL Server 2008 R2**, нажмите кнопку **средства настройки**, а затем нажмите кнопку **Диспетчер конфигурации SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="5c871-139">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, click **Configuration Tools**, and then click **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="5c871-140">В области представления дерева разверните **сетевая конфигурация SQL Server**, а затем нажмите кнопку **протоколы для MSSQLSERVER**.</span><span class="sxs-lookup"><span data-stu-id="5c871-140">In the tree view pane, expand **SQL Server Network Configuration**, and then click **Protocols for MSSQLSERVER**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="5c871-141">Если вы установили несколько экземпляров SQL Server, вы увидите <strong>протоколы для</strong><em>[имя_экземпляра]</em> элемента для каждого экземпляра.</span><span class="sxs-lookup"><span data-stu-id="5c871-141">If you have installed multiple instances of SQL Server, you'll see a <strong>Protocols for</strong><em>[instance name]</em> item for each instance.</span></span> <span data-ttu-id="5c871-142">Необходимо настроить параметры сети на основе экземпляра, экземпляр.</span><span class="sxs-lookup"><span data-stu-id="5c871-142">You need to configure network settings on an instance-by-instance basis.</span></span>
3. <span data-ttu-id="5c871-143">В области сведений щелкните правой кнопкой мыши **TCP/IP** строк, а затем нажмите кнопку **включить**.</span><span class="sxs-lookup"><span data-stu-id="5c871-143">In the details pane, right-click the **TCP/IP** row, and then click **Enable**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image1.png)
4. <span data-ttu-id="5c871-144">В **предупреждение** диалоговом окне щелкните **ОК**.</span><span class="sxs-lookup"><span data-stu-id="5c871-144">In the **Warning** dialog box, click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image2.png)
5. <span data-ttu-id="5c871-145">Необходимо перезапустить службы MSSQLSERVER, прежде чем конфигурацию сети вступят в силу.</span><span class="sxs-lookup"><span data-stu-id="5c871-145">You need to restart the MSSQLSERVER service before your new network configuration will take effect.</span></span> <span data-ttu-id="5c871-146">Это выполняется в командной строке, из консоли "службы" или из SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="5c871-146">You can do that at a command prompt, from the Services console, or from SQL Server Management Studio.</span></span> <span data-ttu-id="5c871-147">В этой процедуре вы используете SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="5c871-147">In this procedure, you'll use SQL Server Management Studio.</span></span>
6. <span data-ttu-id="5c871-148">Закройте диспетчер конфигурации SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c871-148">Close SQL Server Configuration Manager.</span></span>
7. <span data-ttu-id="5c871-149">На **запустить** последовательно выберите пункты **все программы**, нажмите кнопку **Microsoft SQL Server 2008 R2**, а затем нажмите кнопку **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="5c871-149">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
8. <span data-ttu-id="5c871-150">В **соединение с сервером** отображаемое в диалоговом окне **имя_сервера** введите имя сервера базы данных и нажмите кнопку **Connect**.</span><span class="sxs-lookup"><span data-stu-id="5c871-150">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image3.png)
9. <span data-ttu-id="5c871-151">В **обозревателя объектов** панели, щелкните правой кнопкой мыши родительский узел сервера (например, **TESTDB1**) и нажмите кнопку **перезапустите**.</span><span class="sxs-lookup"><span data-stu-id="5c871-151">In the **Object Explorer** pane, right-click the parent server node (for example, **TESTDB1**), and then click **Restart**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image4.png)
10. <span data-ttu-id="5c871-152">В **Microsoft SQL Server Management Studio** диалоговом окне щелкните **Да**.</span><span class="sxs-lookup"><span data-stu-id="5c871-152">In the **Microsoft SQL Server Management Studio** dialog box, click **Yes**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image5.png)
11. <span data-ttu-id="5c871-153">После перезапуска службы, закройте SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="5c871-153">When the service has restarted, close SQL Server Management Studio.</span></span>

<span data-ttu-id="5c871-154">Чтобы разрешить трафик SQL Server через брандмауэр, сначала необходимо знать, какие порты использует экземпляр SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c871-154">To allow SQL Server traffic through a firewall, you first need to know which ports your SQL Server instance is using.</span></span> <span data-ttu-id="5c871-155">Это будет зависеть как экземпляр SQL Server был создан и настроен:</span><span class="sxs-lookup"><span data-stu-id="5c871-155">This will depend on how the SQL Server instance was created and configured:</span></span>

- <span data-ttu-id="5c871-156">Объект *экземпляр по умолчанию* из SQL Server прослушивает (и реагирует на) запросы через порт TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="5c871-156">A *default instance* of SQL Server listens for (and responds to) requests on TCP port 1433.</span></span>
- <span data-ttu-id="5c871-157">Объект *именованный экземпляр* из SQL Server прослушивает (и реагирует на) запросов динамически назначаемый порт TCP.</span><span class="sxs-lookup"><span data-stu-id="5c871-157">A *named instance* of SQL Server listens for (and responds to) requests on a dynamically assigned TCP port.</span></span>
- <span data-ttu-id="5c871-158">Если служба обозревателя SQL Server включена, клиенты могут запрашивать службы через порт UDP 1434, чтобы узнать, какие TCP-порт, используемый для конкретного экземпляра SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c871-158">If the SQL Server Browser service is enabled, clients can query the service on UDP port 1434 to find out which TCP port to use for a particular SQL Server instance.</span></span> <span data-ttu-id="5c871-159">Тем не менее эта служба отключена часто по соображениям безопасности.</span><span class="sxs-lookup"><span data-stu-id="5c871-159">However, this service is often disabled for security reasons.</span></span>

<span data-ttu-id="5c871-160">При условии, что вы используете экземпляр SQL Server по умолчанию, необходимо настроить брандмауэр для разрешения трафика.</span><span class="sxs-lookup"><span data-stu-id="5c871-160">Assuming that you're using a default instance of SQL Server, you need to configure your firewall to allow traffic.</span></span>

| <span data-ttu-id="5c871-161">Направление</span><span class="sxs-lookup"><span data-stu-id="5c871-161">Direction</span></span> | <span data-ttu-id="5c871-162">Из порта</span><span class="sxs-lookup"><span data-stu-id="5c871-162">From Port</span></span> | <span data-ttu-id="5c871-163">К порту</span><span class="sxs-lookup"><span data-stu-id="5c871-163">To Port</span></span> | <span data-ttu-id="5c871-164">Тип порта</span><span class="sxs-lookup"><span data-stu-id="5c871-164">Port Type</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="5c871-165">Входящих подключений</span><span class="sxs-lookup"><span data-stu-id="5c871-165">Inbound</span></span> | <span data-ttu-id="5c871-166">Любой</span><span class="sxs-lookup"><span data-stu-id="5c871-166">Any</span></span> | <span data-ttu-id="5c871-167">1433</span><span class="sxs-lookup"><span data-stu-id="5c871-167">1433</span></span> | <span data-ttu-id="5c871-168">TCP</span><span class="sxs-lookup"><span data-stu-id="5c871-168">TCP</span></span> |
| <span data-ttu-id="5c871-169">Исходящие</span><span class="sxs-lookup"><span data-stu-id="5c871-169">Outbound</span></span> | <span data-ttu-id="5c871-170">1433</span><span class="sxs-lookup"><span data-stu-id="5c871-170">1433</span></span> | <span data-ttu-id="5c871-171">Любой</span><span class="sxs-lookup"><span data-stu-id="5c871-171">Any</span></span> | <span data-ttu-id="5c871-172">TCP</span><span class="sxs-lookup"><span data-stu-id="5c871-172">TCP</span></span> |
  

> [!NOTE]
> <span data-ttu-id="5c871-173">С технической точки зрения клиентский компьютер будет использовать назначенный случайным образом TCP-порт от 1024 до 5000 для взаимодействия с SQL Server, и правила брандмауэра можно ограничить соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="5c871-173">Technically, a client computer will use a randomly assigned TCP port between 1024 and 5000 to communicate with SQL Server, and you can restrict your firewall rules accordingly.</span></span> <span data-ttu-id="5c871-174">Дополнительные сведения о SQL Server порты и брандмауэры, см. в разделе [номерами портов TCP/IP, необходимые для взаимодействия с SQL через брандмауэр](https://go.microsoft.com/?linkid=9805125) и [как: Настройка сервера для прослушивания определенного TCP-порта (диспетчер конфигурации SQL Server)](https://msdn.microsoft.com/library/ms177440.aspx).</span><span class="sxs-lookup"><span data-stu-id="5c871-174">For more information on SQL Server ports and firewalls, see [TCP/IP port numbers required to communicate to SQL over a firewall](https://go.microsoft.com/?linkid=9805125) and [How to: Configure a Server to Listen on a Specific TCP Port (SQL Server Configuration Manager)](https://msdn.microsoft.com/library/ms177440.aspx).</span></span>


<span data-ttu-id="5c871-175">В большинстве сред Windows Server скорее всего появится для настройки брандмауэра Windows на сервере базы данных.</span><span class="sxs-lookup"><span data-stu-id="5c871-175">In most Windows Server environments, you'll likely have to configure Windows Firewall on the database server.</span></span> <span data-ttu-id="5c871-176">По умолчанию брандмауэр Windows разрешает весь исходящий трафик, если правило специально запрещает его.</span><span class="sxs-lookup"><span data-stu-id="5c871-176">By default, Windows Firewall allows all outbound traffic unless a rule specifically prohibits it.</span></span> <span data-ttu-id="5c871-177">Чтобы включить веб-сервера для доступа к базе данных, необходимо настроить правило входящего трафика, разрешающее трафик TCP на номер порта, используемый экземпляром SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c871-177">To enable your web server to reach your database, you need to configure an inbound rule that allows TCP traffic on the port number that the SQL Server instance uses.</span></span> <span data-ttu-id="5c871-178">Если вы используете экземпляр SQL Server по умолчанию, можно использовать следующую процедуру для настройки этого правила.</span><span class="sxs-lookup"><span data-stu-id="5c871-178">If you're using a default instance of SQL Server, you can use the next procedure to configure this rule.</span></span>

**<span data-ttu-id="5c871-179">Чтобы настроить брандмауэр Windows для разрешения взаимодействия с экземпляром SQL Server по умолчанию</span><span class="sxs-lookup"><span data-stu-id="5c871-179">To configure Windows Firewall to allow communication with a default SQL Server instance</span></span>**

1. <span data-ttu-id="5c871-180">На сервере базы данных на **запустить** последовательно выберите пункты **Администрирование**, а затем нажмите кнопку **брандмауэр Windows в режиме повышенной безопасности**.</span><span class="sxs-lookup"><span data-stu-id="5c871-180">On the database server, on the **Start** menu, point to **Administrative Tools**, and then click **Windows Firewall with Advanced Security**.</span></span>
2. <span data-ttu-id="5c871-181">В области представления дерева щелкните **правила для входящих подключений**.</span><span class="sxs-lookup"><span data-stu-id="5c871-181">In the tree view pane, click **Inbound Rules**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image6.png)
3. <span data-ttu-id="5c871-182">В **действия** панели в разделе **правила для входящих подключений**, нажмите кнопку **новое правило**.</span><span class="sxs-lookup"><span data-stu-id="5c871-182">In the **Actions** pane, under **Inbound Rules**, click **New Rule**.</span></span>
4. <span data-ttu-id="5c871-183">В мастера на **тип правила** выберите **порт**, а затем нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5c871-183">In the New Inbound Rule Wizard, on the **Rule Type** page, select **Port**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image7.png)
5. <span data-ttu-id="5c871-184">На **протокол и порты** странице, убедитесь, что **TCP** выбран и в **определенные локальные порты** введите **1433**, а затем нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5c871-184">On the **Protocol and Ports** page, ensure that **TCP** is selected, and in the **Specific local ports** box, type **1433**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image8.png)
6. <span data-ttu-id="5c871-185">На **действие** странице, оставьте **разрешить подключение** и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5c871-185">On the **Action** page, leave **Allow the connection** selected and click **Next**.</span></span>
7. <span data-ttu-id="5c871-186">На **профиль** странице, оставьте **домена** выбран, снимите **частного** и **открытый** флажки и нажмите кнопку  **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5c871-186">On the **Profile** page, leave **Domain** selected, clear the **Private** and **Public** check boxes, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image9.png)
8. <span data-ttu-id="5c871-187">На **имя** странице, введите подходящим образом описательное имя правила (например, **экземпляр SQL Server по умолчанию — доступ к сети**) и нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="5c871-187">On the **Name** page, give the rule a suitably descriptive name (for example, **SQL Server default instance – network access**), and then click **Finish**.</span></span>

<span data-ttu-id="5c871-188">Дополнительные сведения о настройке брандмауэра Windows для SQL Server, особенно в том случае, если вам нужно обмениваться данными с SQL Server через нестандартные или динамических портов, см. в разделе [как: Настройка брандмауэра Windows для доступа к ядру СУБД](https://technet.microsoft.com/library/ms175043.aspx).</span><span class="sxs-lookup"><span data-stu-id="5c871-188">For more information on configuring Windows Firewall for SQL Server, particularly if you need to communicate with SQL Server over non-standard or dynamic ports, see [How to: Configure a Windows Firewall for Database Engine Access](https://technet.microsoft.com/library/ms175043.aspx).</span></span>

## <a name="configure-logins-and-database-permissions"></a><span data-ttu-id="5c871-189">Настройка имен входа и разрешения базы данных</span><span class="sxs-lookup"><span data-stu-id="5c871-189">Configure Logins and Database Permissions</span></span>

<span data-ttu-id="5c871-190">При развертывании веб-приложения для Internet Information Services (IIS), приложение выполняется с помощью удостоверения пула приложений.</span><span class="sxs-lookup"><span data-stu-id="5c871-190">When you deploy a web application to Internet Information Services (IIS), the application runs using the identity of the application pool.</span></span> <span data-ttu-id="5c871-191">В среде домена удостоверения пула приложений используйте учетную запись компьютера сервера, на котором они выполняются для доступа к сетевым ресурсам.</span><span class="sxs-lookup"><span data-stu-id="5c871-191">In a domain environment, application pool identities use the machine account of the server on which they run to access network resources.</span></span> <span data-ttu-id="5c871-192">Учетные записи компьютера имеют вид <em>[домен]</em><strong>\</ strong ><em>[имя_компьютера]</em><strong>$</strong>&#x2014;к примеру, <strong>FABRIKAM\TESTWEB1$</strong>.</span><span class="sxs-lookup"><span data-stu-id="5c871-192">Machine accounts take the form <em>[domain name]</em><strong>\</strong><em>[machine name]</em><strong>$</strong>&#x2014;for example, <strong>FABRIKAM\TESTWEB1$</strong>.</span></span> <span data-ttu-id="5c871-193">Чтобы разрешить веб-приложения для доступа к базе данных по сети, вам потребуется:</span><span class="sxs-lookup"><span data-stu-id="5c871-193">To allow your web application to access a database across the network, you need to:</span></span>

- <span data-ttu-id="5c871-194">Добавьте имя входа для учетной записи компьютера web server к экземпляру SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c871-194">Add a login for the web server machine account to the SQL Server instance.</span></span>
- <span data-ttu-id="5c871-195">Сопоставить имя входа учетной записи компьютера в любые роли базы данных (обычно **db\_datareader** и **db\_datawriter**).</span><span class="sxs-lookup"><span data-stu-id="5c871-195">Map the machine account login to any required database roles (typically **db\_datareader** and **db\_datawriter**).</span></span>

<span data-ttu-id="5c871-196">Если веб-приложение работает на ферме серверов, а не один сервер, необходимо повторить эти действия для каждого веб-сервера в ферме серверов.</span><span class="sxs-lookup"><span data-stu-id="5c871-196">If your web application is running on a server farm, rather than a single server, you'll need to repeat these procedures for every web server in the server farm.</span></span>

> [!NOTE]
> <span data-ttu-id="5c871-197">Дополнительные сведения о удостоверения пула приложений, доступ к ресурсам, см. в разделе [удостоверения пула приложений](https://go.microsoft.com/?linkid=9805123).</span><span class="sxs-lookup"><span data-stu-id="5c871-197">For more information on application pool identities and accessing network resources, see [Application Pool Identities](https://go.microsoft.com/?linkid=9805123).</span></span>


<span data-ttu-id="5c871-198">Можно использовать эти задачи по-разному.</span><span class="sxs-lookup"><span data-stu-id="5c871-198">You can approach these tasks in various ways.</span></span> <span data-ttu-id="5c871-199">Чтобы создать имя входа, вы можете сделать следующее.</span><span class="sxs-lookup"><span data-stu-id="5c871-199">To create the login, you can either:</span></span>

- <span data-ttu-id="5c871-200">Вручную создайте имя входа на сервере базы данных, с помощью Transact-SQL или SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="5c871-200">Create the login manually on the database server, using Transact-SQL or SQL Server Management Studio.</span></span>
- <span data-ttu-id="5c871-201">Использование проекта сервера SQL Server 2008 в Visual Studio для создания и развертывания имени входа.</span><span class="sxs-lookup"><span data-stu-id="5c871-201">Use a SQL Server 2008 Server Project in Visual Studio to create and deploy the login.</span></span>

<span data-ttu-id="5c871-202">Имени входа SQL Server является объектом уровня сервера, а не объект уровня базы данных, поэтому он не зависит от базы данных, которую вы хотите развернуть.</span><span class="sxs-lookup"><span data-stu-id="5c871-202">A SQL Server login is a server-level object, rather than a database-level object, so it's not dependent on the database you want to deploy.</span></span> <span data-ttu-id="5c871-203">Таким образом в любой момент можно создать имя входа и самый простой подход часто применяются для создания имени входа вручную на сервере базы данных, прежде чем приступать к развертыванию баз данных.</span><span class="sxs-lookup"><span data-stu-id="5c871-203">As such, you can create the login at any point, and the easiest approach is often to create the login manually on the database server before you start deploying databases.</span></span> <span data-ttu-id="5c871-204">Создание имени входа в SQL Server Management Studio можно использовать следующую процедуру.</span><span class="sxs-lookup"><span data-stu-id="5c871-204">You can use the next procedure to create a login in SQL Server Management Studio.</span></span>

**<span data-ttu-id="5c871-205">Создание имени входа SQL Server для учетной записи компьютера сервера web</span><span class="sxs-lookup"><span data-stu-id="5c871-205">To create a SQL Server login for the web server machine account</span></span>**

1. <span data-ttu-id="5c871-206">На сервере базы данных на **запустить** последовательно выберите пункты **все программы**, нажмите кнопку **Microsoft SQL Server 2008 R2**, а затем нажмите кнопку **SQL Server Management Studio** .</span><span class="sxs-lookup"><span data-stu-id="5c871-206">On the database server, on the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
2. <span data-ttu-id="5c871-207">В **соединение с сервером** отображаемое в диалоговом окне **имя_сервера** введите имя сервера базы данных и нажмите кнопку **Connect**.</span><span class="sxs-lookup"><span data-stu-id="5c871-207">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image10.png)
3. <span data-ttu-id="5c871-208">В **обозревателя объектов** области щелкните правой кнопкой мыши **безопасности**, пункты **New**, а затем нажмите кнопку **входа**.</span><span class="sxs-lookup"><span data-stu-id="5c871-208">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
4. <span data-ttu-id="5c871-209">В **Создание имени входа** отображаемое в диалоговом окне **имя входа** введите имя учетной записи компьютера сервера веб (например, **FABRIKAM\TESTWEB1$**).</span><span class="sxs-lookup"><span data-stu-id="5c871-209">In the **Login – New** dialog box, in the **Login name** box, type the name of your web server machine account (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image11.png)
5. <span data-ttu-id="5c871-210">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="5c871-210">Click **OK**.</span></span>

<span data-ttu-id="5c871-211">На этом этапе сервер базы данных будет готов для публикации веб-развертывания.</span><span class="sxs-lookup"><span data-stu-id="5c871-211">At this point, your database server is ready for Web Deploy publishing.</span></span> <span data-ttu-id="5c871-212">Тем не менее все решения, развертываемого не будет работать, пока сопоставить имя входа учетной записи компьютера в роли базы данных требуется.</span><span class="sxs-lookup"><span data-stu-id="5c871-212">However, any solutions you deploy won't work until you map the machine account login to the required database roles.</span></span> <span data-ttu-id="5c871-213">Сопоставление имени входа к роли базы данных требует много более рассматривать, как вы не карты роли до, после того как вы развернули базы данных.</span><span class="sxs-lookup"><span data-stu-id="5c871-213">Mapping the login to database roles requires a lot more thought, as you can't map roles until after you've deployed the database.</span></span> <span data-ttu-id="5c871-214">Чтобы сопоставить имя входа учетной записи компьютера в роли базы данных требуется, вы можете сделать следующее.</span><span class="sxs-lookup"><span data-stu-id="5c871-214">To map the machine account login to the required database roles, you can either:</span></span>

- <span data-ttu-id="5c871-215">Назначение ролей базы данных с именем входа вручную, после развертывания базы данных в первый раз.</span><span class="sxs-lookup"><span data-stu-id="5c871-215">Assign the database roles to the login manually, after you've deployed the database for the first time.</span></span>
- <span data-ttu-id="5c871-216">Используйте сценарий после развертывания для назначения ролей базы данных с именем входа.</span><span class="sxs-lookup"><span data-stu-id="5c871-216">Use a post-deployment script to assign the database roles to the login.</span></span>

<span data-ttu-id="5c871-217">Дополнительные сведения об автоматизации создания имен входа и сопоставления роли базы данных см. в разделе [развертывание членства роли базы данных для сред тестирования](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="5c871-217">For more information on automating the creation of logins and database role mappings, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="5c871-218">В качестве альтернативы можно использовать следующую процедуру для сопоставления имени входа учетной записи компьютера в роли базы данных требуется вручную.</span><span class="sxs-lookup"><span data-stu-id="5c871-218">Alternatively, you can use the next procedure to map the machine account login to the required database roles manually.</span></span> <span data-ttu-id="5c871-219">Помните, что нельзя выполнить эту процедуру до *после* развертывания базы данных.</span><span class="sxs-lookup"><span data-stu-id="5c871-219">Remember that you can't perform this procedure until *after* you've deployed the database.</span></span>

**<span data-ttu-id="5c871-220">Чтобы сопоставить базу данных ролей для веб-сервере, учетной записи входа</span><span class="sxs-lookup"><span data-stu-id="5c871-220">To map database roles to the web server machine account login</span></span>**

1. <span data-ttu-id="5c871-221">Откройте SQL Server Management Studio, как и раньше.</span><span class="sxs-lookup"><span data-stu-id="5c871-221">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="5c871-222">В **обозревателя объектов** панели разверните **безопасности** узел, разверните **имена входа** узел и дважды щелкните имя входа учетной записи компьютера (например,  **FABRIKAM\TESTWEB1$**).</span><span class="sxs-lookup"><span data-stu-id="5c871-222">In the **Object Explorer** pane, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image12.png)
3. <span data-ttu-id="5c871-223">В **свойства имени входа** диалоговом окне щелкните **сопоставления пользователей**.</span><span class="sxs-lookup"><span data-stu-id="5c871-223">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="5c871-224">В **пользователи, сопоставленные с этим именем входа** таблицы, выберите имя базы данных (например, **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="5c871-224">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="5c871-225">В **членство в роли для базы данных:** *[Имя_базы_данных]* выберите необходимые разрешения.</span><span class="sxs-lookup"><span data-stu-id="5c871-225">In the **Database role membership for:** *[database name]* list, select the permissions required.</span></span> <span data-ttu-id="5c871-226">В случае пример решения диспетчера контактов, необходимо выбрать **db\_datareader** и **db\_datawriter** ролей.</span><span class="sxs-lookup"><span data-stu-id="5c871-226">In the case of the Contact Manager sample solution, you must select the **db\_datareader** and **db\_datawriter** roles.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image13.png)
6. <span data-ttu-id="5c871-227">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="5c871-227">Click **OK**.</span></span>

<span data-ttu-id="5c871-228">Хотя вручную сопоставление ролей базы данных часто является более чем достаточно для тестовых сред, это менее предпочтителен для развертывания автоматической или одним щелчком в промежуточной или рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="5c871-228">While manually mapping database roles is often more than adequate for test environments, it's less desirable for automated or one-click deployments to staging or production environments.</span></span> <span data-ttu-id="5c871-229">Можно найти дополнительные сведения об автоматизации такого рода задач с помощью сценариев после развертывания в [развертывание членства роли базы данных для сред тестирования](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="5c871-229">You can find more information on automating this kind of task using post-deployment scripts in [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span>

> [!NOTE]
> <span data-ttu-id="5c871-230">Дополнительные сведения о проектам сервера и базы данных, см. в разделе [проекты базы данных Visual Studio 2010 SQL Server](https://msdn.microsoft.com/library/ff678491.aspx).</span><span class="sxs-lookup"><span data-stu-id="5c871-230">For more information on server projects and database projects, see [Visual Studio 2010 SQL Server Database Projects](https://msdn.microsoft.com/library/ff678491.aspx).</span></span>


## <a name="configure-permissions-for-the-deployment-account"></a><span data-ttu-id="5c871-231">Настройка разрешений для учетной записи развертывания</span><span class="sxs-lookup"><span data-stu-id="5c871-231">Configure Permissions for the Deployment Account</span></span>

<span data-ttu-id="5c871-232">Если учетной записи, которое будет использоваться для запуска развертывания не является администратором SQL Server, вам также потребуется создать имя входа для этой учетной записи.</span><span class="sxs-lookup"><span data-stu-id="5c871-232">If the account that you'll use to run the deployment is not a SQL Server administrator, you'll also need to create a login for this account.</span></span> <span data-ttu-id="5c871-233">Чтобы создать базу данных, учетная запись должна быть членом **dbcreator** роли сервера или иметь равнозначные права.</span><span class="sxs-lookup"><span data-stu-id="5c871-233">In order to create the database, the account must be a member of the **dbcreator** server role or have equivalent permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="5c871-234">При использовании веб-развертывания или средство VSDBCMD развертывание базы данных, можно использовать учетные данные Windows или SQL Server (если экземпляр SQL Server настроен для поддержки проверки подлинности в смешанном режиме).</span><span class="sxs-lookup"><span data-stu-id="5c871-234">When you use Web Deploy or VSDBCMD to deploy a database, you can use Windows credentials or SQL Server credentials (if your SQL Server instance is configured to support mixed mode authentication).</span></span> <span data-ttu-id="5c871-235">Следующая процедура подразумевает, что вы хотите использовать учетные данные Windows, но ничто не мешает вам указывать имя пользователя SQL Server и пароль в строке подключения, при настройке развертывания.</span><span class="sxs-lookup"><span data-stu-id="5c871-235">The next procedure assumes that you want to use Windows credentials, but there's nothing stopping you from specifying a SQL Server user name and password in your connection string when you configure the deployment.</span></span>


**<span data-ttu-id="5c871-236">Чтобы задать разрешения для учетной записи развертывания</span><span class="sxs-lookup"><span data-stu-id="5c871-236">To set up permissions for the deployment account</span></span>**

1. <span data-ttu-id="5c871-237">Откройте SQL Server Management Studio, как и раньше.</span><span class="sxs-lookup"><span data-stu-id="5c871-237">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="5c871-238">В **обозревателя объектов** области щелкните правой кнопкой мыши **безопасности**, пункты **New**, а затем нажмите кнопку **входа**.</span><span class="sxs-lookup"><span data-stu-id="5c871-238">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
3. <span data-ttu-id="5c871-239">В **Создание имени входа** отображаемое в диалоговом окне **имя входа** введите имя учетной записи развертывания (например, **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="5c871-239">In the **Login – New** dialog box, in the **Login name** box, type the name of your deployment account (for example, **FABRIKAM\matt**).</span></span>
4. <span data-ttu-id="5c871-240">В **Выбор страницы** панели щелкните **ролей сервера**.</span><span class="sxs-lookup"><span data-stu-id="5c871-240">In the **Select a page** pane, click **Server Roles**.</span></span>
5. <span data-ttu-id="5c871-241">Выберите **dbcreator**, а затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="5c871-241">Select **dbcreator**, and then click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image14.png)

<span data-ttu-id="5c871-242">Для поддержки последующих развертываний, вам также потребуется добавить учетную запись, развертывание для **db\_владельца** роль в базе данных после первого развертывания.</span><span class="sxs-lookup"><span data-stu-id="5c871-242">To support subsequent deployments, you'll also need to add the deploying account to the **db\_owner** role on the database after the first deployment.</span></span> <span data-ttu-id="5c871-243">Это обусловлено тем, в последующих развертываниях вы изменение схемы существующей базы данных вместо создания новой базы данных.</span><span class="sxs-lookup"><span data-stu-id="5c871-243">This is because on subsequent deployments you're modifying the schema of an existing database, rather than creating a new database.</span></span> <span data-ttu-id="5c871-244">Как описано в предыдущем разделе, невозможно добавить пользователя к роли базы данных, пока не будут созданы базы данных, по очевидным причинам.</span><span class="sxs-lookup"><span data-stu-id="5c871-244">As described in the previous section, you can't add a user to a database role until you've created the database, for obvious reasons.</span></span>

**<span data-ttu-id="5c871-245">Чтобы сопоставить имя входа учетной записи развертывания базы данных\_владельца роли базы данных</span><span class="sxs-lookup"><span data-stu-id="5c871-245">To map the deployment account login to the db\_owner database role</span></span>**

1. <span data-ttu-id="5c871-246">Откройте SQL Server Management Studio, как и раньше.</span><span class="sxs-lookup"><span data-stu-id="5c871-246">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="5c871-247">В **обозревателя объектов** окне разверните **безопасности** узел, разверните **имена входа** узел и дважды щелкните имя входа учетной записи компьютера (например,  **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="5c871-247">In the **Object Explorer** window, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\matt**).</span></span>
3. <span data-ttu-id="5c871-248">В **свойства имени входа** диалоговом окне щелкните **сопоставления пользователей**.</span><span class="sxs-lookup"><span data-stu-id="5c871-248">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="5c871-249">В **пользователи, сопоставленные с этим именем входа** таблицы, выберите имя базы данных (например, **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="5c871-249">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="5c871-250">В **членство в роли для базы данных:** *[Имя_базы_данных]* выберите **db\_владельца** роли.</span><span class="sxs-lookup"><span data-stu-id="5c871-250">In the **Database role membership for:** *[database name]* list, select the **db\_owner** role.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image15.png)
6. <span data-ttu-id="5c871-251">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="5c871-251">Click **OK**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="5c871-252">Заключение</span><span class="sxs-lookup"><span data-stu-id="5c871-252">Conclusion</span></span>

<span data-ttu-id="5c871-253">Сервер базы данных теперь должен быть готов для принятия развертываний удаленных баз данных и разрешить удаленный веб-серверы IIS, чтобы доступ к базам данных.</span><span class="sxs-lookup"><span data-stu-id="5c871-253">Your database server should now be ready to accept remote database deployments and to allow remote IIS web servers to access your databases.</span></span> <span data-ttu-id="5c871-254">Прежде чем развертывать и использовать базы данных, вы можете проверить следующие основные моменты:</span><span class="sxs-lookup"><span data-stu-id="5c871-254">Before you attempt to deploy and use databases, you may want to check these key points:</span></span>

- <span data-ttu-id="5c871-255">Вы настроили SQL Server для удаленных соединений TCP/IP?</span><span class="sxs-lookup"><span data-stu-id="5c871-255">Have you configured SQL Server to accept remote TCP/IP connections?</span></span>
- <span data-ttu-id="5c871-256">Вы настроили все брандмауэры, чтобы разрешить трафик SQL Server?</span><span class="sxs-lookup"><span data-stu-id="5c871-256">Have you configured any firewalls to permit SQL Server traffic?</span></span>
- <span data-ttu-id="5c871-257">Вы создали имя входа учетной записи компьютера для каждого веб-сервера, который получит доступ к SQL Server?</span><span class="sxs-lookup"><span data-stu-id="5c871-257">Have you created a machine account login for every web server that will access SQL Server?</span></span>
- <span data-ttu-id="5c871-258">Развертывание базы данных включает скрипт для создания сопоставлений ролей пользователей, или необходимо создать их вручную после развертывания базы данных в первый раз?</span><span class="sxs-lookup"><span data-stu-id="5c871-258">Does your database deployment include a script to create user role mappings, or do you need to create these manually after you deploy the database for the first time?</span></span>
- <span data-ttu-id="5c871-259">Вы создали имя входа для учетной записи развертывания и добавили его **dbcreator** роли сервера?</span><span class="sxs-lookup"><span data-stu-id="5c871-259">Have you created a login for the deployment account and added it to the **dbcreator** server role?</span></span>

## <a name="further-reading"></a><span data-ttu-id="5c871-260">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="5c871-260">Further Reading</span></span>

<span data-ttu-id="5c871-261">Руководство по развертыванию проектов баз данных, см. в разделе [развертывание проектов баз данных](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="5c871-261">For guidance on deploying database projects, see [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="5c871-262">Рекомендации по созданию членства в роли базы данных, выполнив сценарий после развертывания, см. в разделе [развертывание членства роли базы данных для сред тестирования](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="5c871-262">For guidance on creating database role memberships by running a post-deployment script, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="5c871-263">Рекомендации о том, как для решения проблем развертывания, которые баз данных членства, см. в разделе [развертывание баз данных членства в корпоративных средах](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="5c871-263">For guidance on how to meet the unique deployment challenges that membership databases pose, see [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5c871-264">[Назад](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
> [Вперед](creating-a-server-farm-with-the-web-farm-framework.md)</span><span class="sxs-lookup"><span data-stu-id="5c871-264">[Previous](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
[Next](creating-a-server-farm-with-the-web-farm-framework.md)</span></span>
