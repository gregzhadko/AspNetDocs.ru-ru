---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
title: Настройка сервера базы данных для веб-развертывание публикации | Документация Майкрософт
author: jrjlee
description: В этом разделе описывается настройка сервера базы данных SQL Server 2008 R2 для поддержки веб-развертывания и публикации. Задачи, описанные в этом разделе, относятся ко всем
ms.author: riande
ms.date: 05/04/2012
ms.assetid: e7c447f9-eddf-4bbe-9f18-3326d965d093
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
msc.type: authoredcontent
ms.openlocfilehash: ade3c1ba1c470092f512436f39b8831458408c2c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78515244"
---
# <a name="configuring-a-database-server-for-web-deploy-publishing"></a><span data-ttu-id="264a5-104">Настройка сервера базы данных для публикации веб-развертывания</span><span class="sxs-lookup"><span data-stu-id="264a5-104">Configuring a Database Server for Web Deploy Publishing</span></span>

<span data-ttu-id="264a5-105">кто [Джейсон Иванов](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="264a5-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="264a5-106">Скачать в формате PDF</span><span class="sxs-lookup"><span data-stu-id="264a5-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="264a5-107">В этом разделе описывается настройка сервера базы данных SQL Server 2008 R2 для поддержки веб-развертывания и публикации.</span><span class="sxs-lookup"><span data-stu-id="264a5-107">This topic describes how to configure a SQL Server 2008 R2 database server to support web deployment and publishing.</span></span>
> 
> <span data-ttu-id="264a5-108">Задачи, описанные в этом разделе, являются общими для всех&#x2014;сценариев развертывания, но не имеет значения, настроены ли веб-серверы для использования службы удаленного агента веб-развертывания IIS (веб-развертывание), обработчика веб-развертывание или автономного развертывания или приложения, работающего на одном веб-сервере или ферме серверов.</span><span class="sxs-lookup"><span data-stu-id="264a5-108">The tasks described in this topic are common to every deployment scenario&#x2014;it doesn't matter whether your web servers are configured to use the IIS Web Deployment Tool (Web Deploy) Remote Agent Service, the Web Deploy Handler, or offline deployment or your application is running on a single web server or a server farm.</span></span> <span data-ttu-id="264a5-109">Способ развертывания базы данных может изменяться в соответствии с требованиями безопасности и другими соображениями.</span><span class="sxs-lookup"><span data-stu-id="264a5-109">The way you deploy the database may change according to security requirements and other considerations.</span></span> <span data-ttu-id="264a5-110">Например, вы можете развернуть базу данных с демонстрационными данными или без них, а также развернуть сопоставления ролей пользователей или настроить их вручную после развертывания.</span><span class="sxs-lookup"><span data-stu-id="264a5-110">For example, you might deploy the database with or without sample data, and you might deploy user role mappings or configure them manually after deployment.</span></span> <span data-ttu-id="264a5-111">Однако способ настройки сервера базы данных остается неизменным.</span><span class="sxs-lookup"><span data-stu-id="264a5-111">However, the way you configure the database server remains the same.</span></span>

<span data-ttu-id="264a5-112">Чтобы настроить сервер базы данных для поддержки веб-развертывания, не нужно устанавливать дополнительные продукты или средства.</span><span class="sxs-lookup"><span data-stu-id="264a5-112">You don't have to install any additional products or tools to configuring a database server to support web deployment.</span></span> <span data-ttu-id="264a5-113">Если сервер базы данных и веб-сервер работают на разных компьютерах, необходимо просто:</span><span class="sxs-lookup"><span data-stu-id="264a5-113">Assuming that your database server and your web server run on different machines, you simply need to:</span></span>

- <span data-ttu-id="264a5-114">Разрешение SQL Server на обмен данными по протоколу TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="264a5-114">Permit SQL Server to communicate using TCP/IP.</span></span>
- <span data-ttu-id="264a5-115">Разрешение SQL Server трафика через брандмауэры.</span><span class="sxs-lookup"><span data-stu-id="264a5-115">Allow SQL Server traffic through any firewalls.</span></span>
- <span data-ttu-id="264a5-116">Присвойте учетной записи компьютера веб-сервера имя входа SQL Server.</span><span class="sxs-lookup"><span data-stu-id="264a5-116">Give the web server machine account a SQL Server login.</span></span>
- <span data-ttu-id="264a5-117">Сопоставьте имя входа учетной записи компьютера с любыми необходимыми ролями базы данных.</span><span class="sxs-lookup"><span data-stu-id="264a5-117">Map the machine account login to any required database roles.</span></span>
- <span data-ttu-id="264a5-118">Предоставьте учетной записи, которая будет запускать развертывание, разрешения SQL Server входа и создателя базы данных.</span><span class="sxs-lookup"><span data-stu-id="264a5-118">Give the account that will run the deployment a SQL Server login and database creator permissions.</span></span>
- <span data-ttu-id="264a5-119">Для поддержки повторных развертываний сопоставьте учетной записи развертывания имя входа с ролью базы данных **\_владелец** .</span><span class="sxs-lookup"><span data-stu-id="264a5-119">To support repeat deployments, map the deployment account login to the **db\_owner** database role.</span></span>

<span data-ttu-id="264a5-120">В этом разделе будет показано, как выполнить каждую из этих процедур.</span><span class="sxs-lookup"><span data-stu-id="264a5-120">This topic will show you how to perform each of these procedures.</span></span> <span data-ttu-id="264a5-121">В задачах и пошаговых руководствах этого раздела предполагается, что вы начинаете с экземпляра по умолчанию SQL Server 2008 R2 под Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="264a5-121">The tasks and walkthroughs in this topic assume that you're starting with a default instance of SQL Server 2008 R2 running on Windows Server 2008 R2.</span></span> <span data-ttu-id="264a5-122">Прежде чем продолжить, убедитесь в том, что:</span><span class="sxs-lookup"><span data-stu-id="264a5-122">Before you continue, ensure that:</span></span>

- <span data-ttu-id="264a5-123">Windows Server 2008 R2 с пакетом обновления 1 (SP1) и все доступные обновления установлены.</span><span class="sxs-lookup"><span data-stu-id="264a5-123">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="264a5-124">Сервер присоединен к домену.</span><span class="sxs-lookup"><span data-stu-id="264a5-124">The server is domain-joined.</span></span>
- <span data-ttu-id="264a5-125">Сервер имеет статический IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="264a5-125">The server has a static IP address.</span></span>
- <span data-ttu-id="264a5-126">SQL Server 2008 R2 с пакетом обновления 1 (SP1) и все доступные обновления установлены.</span><span class="sxs-lookup"><span data-stu-id="264a5-126">SQL Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>

<span data-ttu-id="264a5-127">Экземпляр SQL Server должен содержать роль **ядро СУБД Services** , которая автоматически включается в любой SQL Server установки.</span><span class="sxs-lookup"><span data-stu-id="264a5-127">The SQL Server instance only needs to include the **Database Engine Services** role, which is included automatically in any SQL Server installation.</span></span> <span data-ttu-id="264a5-128">Однако для простоты настройки и обслуживания рекомендуется включить **средства управления — основные** **средства и инструменты управления — полные** роли сервера.</span><span class="sxs-lookup"><span data-stu-id="264a5-128">However, for ease of configuration and maintenance, we recommend that you include the **Management Tools – Basic** and **Management Tools – Complete** server roles.</span></span>

> [!NOTE]
> <span data-ttu-id="264a5-129">Дополнительные сведения о присоединении компьютеров к домену см. в разделе [Присоединение компьютеров к домену и вход в систему](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="264a5-129">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="264a5-130">Дополнительные сведения о настройке статических IP-адресов см. в статье [Настройка статического IP-](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx)адреса.</span><span class="sxs-lookup"><span data-stu-id="264a5-130">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span></span> <span data-ttu-id="264a5-131">Дополнительные сведения об установке SQL Server см. в разделе [installing SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span><span class="sxs-lookup"><span data-stu-id="264a5-131">For more information on installing SQL Server, see [Installing SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span></span>

## <a name="enable-remote-access-to-sql-server"></a><span data-ttu-id="264a5-132">Включение удаленного доступа к SQL Server</span><span class="sxs-lookup"><span data-stu-id="264a5-132">Enable Remote Access to SQL Server</span></span>

<span data-ttu-id="264a5-133">SQL Server использует протокол TCP/IP для связи с удаленными компьютерами.</span><span class="sxs-lookup"><span data-stu-id="264a5-133">SQL Server uses TCP/IP to communicate with remote computers.</span></span> <span data-ttu-id="264a5-134">Если сервер базы данных и веб-сервер находятся на разных компьютерах, необходимо:</span><span class="sxs-lookup"><span data-stu-id="264a5-134">If your database server and your web server are on different machines, you need to:</span></span>

- <span data-ttu-id="264a5-135">Настройте SQL Server параметры сети, чтобы разрешить обмен данными по протоколу TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="264a5-135">Configure SQL Server networking settings to allow communication over TCP/IP.</span></span>
- <span data-ttu-id="264a5-136">Настройте все брандмауэры и оборудование, чтобы разрешить трафик TCP (а в некоторых случаях трафик UDP) на портах, используемых экземпляром SQL Server.</span><span class="sxs-lookup"><span data-stu-id="264a5-136">Configure any hardware or software firewalls to allow TCP traffic (and in some cases User Datagram Protocol (UDP) traffic) on the ports that the SQL Server instance uses.</span></span>

<span data-ttu-id="264a5-137">Чтобы разрешить SQL Server взаимодействие по протоколу TCP/IP, используйте диспетчер конфигурации SQL Server, чтобы изменить конфигурацию сети для экземпляра SQL Server.</span><span class="sxs-lookup"><span data-stu-id="264a5-137">To enable SQL Server to communicate over TCP/IP, use SQL Server Configuration Manager to change the network configuration for your SQL Server instance.</span></span>

<span data-ttu-id="264a5-138">**Включение SQL Server для взаимодействия по протоколу TCP/IP**</span><span class="sxs-lookup"><span data-stu-id="264a5-138">**To enable SQL Server to communicate using TCP/IP**</span></span>

1. <span data-ttu-id="264a5-139">В меню **Пуск** последовательно выберите пункты **все программы**, **Microsoft SQL Server 2008 R2**, **средства настройки**и щелкните **Диспетчер конфигурации SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="264a5-139">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, click **Configuration Tools**, and then click **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="264a5-140">На панели древовидного представления разверните узел **SQL Server конфигурация сети**, а затем щелкните **протоколы для MSSQLSERVER**.</span><span class="sxs-lookup"><span data-stu-id="264a5-140">In the tree view pane, expand **SQL Server Network Configuration**, and then click **Protocols for MSSQLSERVER**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="264a5-141">Если вы установили несколько экземпляров SQL Server, вы увидите для каждого экземпляра <strong>протоколы для</strong>элемента<em>[имя экземпляра]</em> .</span><span class="sxs-lookup"><span data-stu-id="264a5-141">If you have installed multiple instances of SQL Server, you'll see a <strong>Protocols for</strong><em>[instance name]</em> item for each instance.</span></span> <span data-ttu-id="264a5-142">Необходимо настроить параметры сети на основе экземпляра.</span><span class="sxs-lookup"><span data-stu-id="264a5-142">You need to configure network settings on an instance-by-instance basis.</span></span>
3. <span data-ttu-id="264a5-143">В области сведений щелкните правой кнопкой мыши строку **TCP/IP** и выберите пункт **включить**.</span><span class="sxs-lookup"><span data-stu-id="264a5-143">In the details pane, right-click the **TCP/IP** row, and then click **Enable**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image1.png)
4. <span data-ttu-id="264a5-144">В диалоговом окне **предупреждение** нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="264a5-144">In the **Warning** dialog box, click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image2.png)
5. <span data-ttu-id="264a5-145">Прежде чем новая конфигурация сети вступит в силу, необходимо перезапустить службу MSSQLSERVER.</span><span class="sxs-lookup"><span data-stu-id="264a5-145">You need to restart the MSSQLSERVER service before your new network configuration will take effect.</span></span> <span data-ttu-id="264a5-146">Это можно сделать из командной строки, из консоли служб или из SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="264a5-146">You can do that at a command prompt, from the Services console, or from SQL Server Management Studio.</span></span> <span data-ttu-id="264a5-147">В этой процедуре вы будете использовать SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="264a5-147">In this procedure, you'll use SQL Server Management Studio.</span></span>
6. <span data-ttu-id="264a5-148">Закройте диспетчер конфигурации SQL Server.</span><span class="sxs-lookup"><span data-stu-id="264a5-148">Close SQL Server Configuration Manager.</span></span>
7. <span data-ttu-id="264a5-149">В меню **Пуск** укажите пункт **все программы**, выберите **Microsoft SQL Server 2008 R2**, а затем щелкните **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="264a5-149">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
8. <span data-ttu-id="264a5-150">В диалоговом окне **соединение с сервером** в поле **имя сервера** введите имя сервера базы данных и нажмите кнопку **подключить**.</span><span class="sxs-lookup"><span data-stu-id="264a5-150">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image3.png)
9. <span data-ttu-id="264a5-151">В области **Обозреватель объектов** щелкните правой кнопкой мыши родительский узел сервера (например, **TESTDB1**) и выберите пункт **перезапустить**.</span><span class="sxs-lookup"><span data-stu-id="264a5-151">In the **Object Explorer** pane, right-click the parent server node (for example, **TESTDB1**), and then click **Restart**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image4.png)
10. <span data-ttu-id="264a5-152">В диалоговом окне **Management Studio Microsoft SQL Server** нажмите кнопку **Да**.</span><span class="sxs-lookup"><span data-stu-id="264a5-152">In the **Microsoft SQL Server Management Studio** dialog box, click **Yes**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image5.png)
11. <span data-ttu-id="264a5-153">После перезапуска службы закройте SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="264a5-153">When the service has restarted, close SQL Server Management Studio.</span></span>

<span data-ttu-id="264a5-154">Чтобы разрешить SQL Server трафика через брандмауэр, сначала необходимо знать, какие порты использует экземпляр SQL Server.</span><span class="sxs-lookup"><span data-stu-id="264a5-154">To allow SQL Server traffic through a firewall, you first need to know which ports your SQL Server instance is using.</span></span> <span data-ttu-id="264a5-155">Это будет зависеть от того, как был создан и настроен экземпляр SQL Server.</span><span class="sxs-lookup"><span data-stu-id="264a5-155">This will depend on how the SQL Server instance was created and configured:</span></span>

- <span data-ttu-id="264a5-156">*Экземпляр по умолчанию* SQL Server прослушивает запросы к TCP-порту 1433 (и отвечает на него).</span><span class="sxs-lookup"><span data-stu-id="264a5-156">A *default instance* of SQL Server listens for (and responds to) requests on TCP port 1433.</span></span>
- <span data-ttu-id="264a5-157">*Именованный экземпляр* SQL Server прослушивает запросы к динамически НАЗНАЧЕНному TCP-порту (и отвечает на него).</span><span class="sxs-lookup"><span data-stu-id="264a5-157">A *named instance* of SQL Server listens for (and responds to) requests on a dynamically assigned TCP port.</span></span>
- <span data-ttu-id="264a5-158">Если служба обозреватель SQL Server включена, клиенты могут запрашивать службу через UDP-порт 1434, чтобы узнать, какой порт TCP использовать для конкретного экземпляра SQL Server.</span><span class="sxs-lookup"><span data-stu-id="264a5-158">If the SQL Server Browser service is enabled, clients can query the service on UDP port 1434 to find out which TCP port to use for a particular SQL Server instance.</span></span> <span data-ttu-id="264a5-159">Однако эта служба часто отключена по соображениям безопасности.</span><span class="sxs-lookup"><span data-stu-id="264a5-159">However, this service is often disabled for security reasons.</span></span>

<span data-ttu-id="264a5-160">Если вы используете экземпляр SQL Server по умолчанию, необходимо настроить брандмауэр для разрешения трафика.</span><span class="sxs-lookup"><span data-stu-id="264a5-160">Assuming that you're using a default instance of SQL Server, you need to configure your firewall to allow traffic.</span></span>

| <span data-ttu-id="264a5-161">Направление</span><span class="sxs-lookup"><span data-stu-id="264a5-161">Direction</span></span> | <span data-ttu-id="264a5-162">Из порта</span><span class="sxs-lookup"><span data-stu-id="264a5-162">From Port</span></span> | <span data-ttu-id="264a5-163">В порт</span><span class="sxs-lookup"><span data-stu-id="264a5-163">To Port</span></span> | <span data-ttu-id="264a5-164">Тип порта</span><span class="sxs-lookup"><span data-stu-id="264a5-164">Port Type</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="264a5-165">Входящий трафик</span><span class="sxs-lookup"><span data-stu-id="264a5-165">Inbound</span></span> | <span data-ttu-id="264a5-166">Любой</span><span class="sxs-lookup"><span data-stu-id="264a5-166">Any</span></span> | <span data-ttu-id="264a5-167">1433</span><span class="sxs-lookup"><span data-stu-id="264a5-167">1433</span></span> | <span data-ttu-id="264a5-168">TCP</span><span class="sxs-lookup"><span data-stu-id="264a5-168">TCP</span></span> |
| <span data-ttu-id="264a5-169">Исходящие</span><span class="sxs-lookup"><span data-stu-id="264a5-169">Outbound</span></span> | <span data-ttu-id="264a5-170">1433</span><span class="sxs-lookup"><span data-stu-id="264a5-170">1433</span></span> | <span data-ttu-id="264a5-171">Любой</span><span class="sxs-lookup"><span data-stu-id="264a5-171">Any</span></span> | <span data-ttu-id="264a5-172">TCP</span><span class="sxs-lookup"><span data-stu-id="264a5-172">TCP</span></span> |

> [!NOTE]
> <span data-ttu-id="264a5-173">С технической точки зрения, клиентский компьютер будет использовать для связи с SQL Server случайным образом назначенный TCP-порт между 1024 и 5000, а правила брандмауэра можно ограничить соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="264a5-173">Technically, a client computer will use a randomly assigned TCP port between 1024 and 5000 to communicate with SQL Server, and you can restrict your firewall rules accordingly.</span></span> <span data-ttu-id="264a5-174">Дополнительные сведения о SQL Server портах и брандмауэрах см. в разделе [номера портов TCP/IP, необходимые для обмена данными с SQL через брандмауэр](https://go.microsoft.com/?linkid=9805125) и [как настроить сервер для прослушивания определенного TCP-порта (диспетчер конфигурации SQL Server)](https://msdn.microsoft.com/library/ms177440.aspx).</span><span class="sxs-lookup"><span data-stu-id="264a5-174">For more information on SQL Server ports and firewalls, see [TCP/IP port numbers required to communicate to SQL over a firewall](https://go.microsoft.com/?linkid=9805125) and [How to: Configure a Server to Listen on a Specific TCP Port (SQL Server Configuration Manager)](https://msdn.microsoft.com/library/ms177440.aspx).</span></span>

<span data-ttu-id="264a5-175">В большинстве сред Windows Server, скорее всего, потребуется настроить брандмауэр Windows на сервере базы данных.</span><span class="sxs-lookup"><span data-stu-id="264a5-175">In most Windows Server environments, you'll likely have to configure Windows Firewall on the database server.</span></span> <span data-ttu-id="264a5-176">По умолчанию брандмауэр Windows разрешает весь исходящий трафик, если только правило не запрещает его.</span><span class="sxs-lookup"><span data-stu-id="264a5-176">By default, Windows Firewall allows all outbound traffic unless a rule specifically prohibits it.</span></span> <span data-ttu-id="264a5-177">Чтобы веб-сервер был доступен для базы данных, необходимо настроить правило входящего трафика, разрешающее трафик TCP по номеру порта, который используется экземпляром SQL Server.</span><span class="sxs-lookup"><span data-stu-id="264a5-177">To enable your web server to reach your database, you need to configure an inbound rule that allows TCP traffic on the port number that the SQL Server instance uses.</span></span> <span data-ttu-id="264a5-178">Если вы используете экземпляр SQL Server по умолчанию, для настройки этого правила можно использовать следующую процедуру.</span><span class="sxs-lookup"><span data-stu-id="264a5-178">If you're using a default instance of SQL Server, you can use the next procedure to configure this rule.</span></span>

<span data-ttu-id="264a5-179">**Настройка брандмауэра Windows для разрешения взаимодействия с экземпляром SQL Server по умолчанию**</span><span class="sxs-lookup"><span data-stu-id="264a5-179">**To configure Windows Firewall to allow communication with a default SQL Server instance**</span></span>

1. <span data-ttu-id="264a5-180">На сервере базы данных в меню " **Пуск** " выберите пункт " **Администрирование**", а затем " **Брандмауэр Windows в области повышенной безопасности**".</span><span class="sxs-lookup"><span data-stu-id="264a5-180">On the database server, on the **Start** menu, point to **Administrative Tools**, and then click **Windows Firewall with Advanced Security**.</span></span>
2. <span data-ttu-id="264a5-181">На панели древовидного представления щелкните **правила для входящих подключений**.</span><span class="sxs-lookup"><span data-stu-id="264a5-181">In the tree view pane, click **Inbound Rules**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image6.png)
3. <span data-ttu-id="264a5-182">В области **действия** в разделе **правила для входящих подключений**щелкните **новое правило**.</span><span class="sxs-lookup"><span data-stu-id="264a5-182">In the **Actions** pane, under **Inbound Rules**, click **New Rule**.</span></span>
4. <span data-ttu-id="264a5-183">В мастере создания правила для нового входящего подключения на странице **тип правила** выберите **порт**и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="264a5-183">In the New Inbound Rule Wizard, on the **Rule Type** page, select **Port**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image7.png)
5. <span data-ttu-id="264a5-184">На странице **протокол и порты** убедитесь, что выбран **протокол TCP** , а в поле **определенные локальные порты** введите **1433**, а затем нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="264a5-184">On the **Protocol and Ports** page, ensure that **TCP** is selected, and in the **Specific local ports** box, type **1433**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image8.png)
6. <span data-ttu-id="264a5-185">На странице **действие** оставьте выбранным **параметр Разрешить подключение** и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="264a5-185">On the **Action** page, leave **Allow the connection** selected and click **Next**.</span></span>
7. <span data-ttu-id="264a5-186">На странице **профиль** оставьте выбранным параметр **домен** , снимите флажки **закрыто** и **общедоступно** и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="264a5-186">On the **Profile** page, leave **Domain** selected, clear the **Private** and **Public** check boxes, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image9.png)
8. <span data-ttu-id="264a5-187">На странице **имя** присвойте правилу уникальное описательное имя (например, **SQL Server экземпляр по умолчанию — сетевой доступ**), а затем нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="264a5-187">On the **Name** page, give the rule a suitably descriptive name (for example, **SQL Server default instance – network access**), and then click **Finish**.</span></span>

<span data-ttu-id="264a5-188">Дополнительные сведения о настройке брандмауэра Windows для SQL Server, особенно если необходимо взаимодействовать с SQL Server по нестандартным или динамическим портам, см. [в разделе как настроить брандмауэр Windows для доступа ядро СУБД](https://technet.microsoft.com/library/ms175043.aspx).</span><span class="sxs-lookup"><span data-stu-id="264a5-188">For more information on configuring Windows Firewall for SQL Server, particularly if you need to communicate with SQL Server over non-standard or dynamic ports, see [How to: Configure a Windows Firewall for Database Engine Access](https://technet.microsoft.com/library/ms175043.aspx).</span></span>

## <a name="configure-logins-and-database-permissions"></a><span data-ttu-id="264a5-189">Настройка имен для входа и разрешений базы данных</span><span class="sxs-lookup"><span data-stu-id="264a5-189">Configure Logins and Database Permissions</span></span>

<span data-ttu-id="264a5-190">При развертывании веб-приложения на службы IIS (IIS) приложение выполняется с использованием удостоверения пула приложений.</span><span class="sxs-lookup"><span data-stu-id="264a5-190">When you deploy a web application to Internet Information Services (IIS), the application runs using the identity of the application pool.</span></span> <span data-ttu-id="264a5-191">В среде домена удостоверения пула приложений используют учетную запись компьютера сервера, на котором они работают для доступа к сетевым ресурсам.</span><span class="sxs-lookup"><span data-stu-id="264a5-191">In a domain environment, application pool identities use the machine account of the server on which they run to access network resources.</span></span> <span data-ttu-id="264a5-192">Учетные записи компьютеров принимают <em>форму [домен имя]</em><strong>\</strong ><em>[имя компьютера]</em> <strong>$</strong> &#x2014;например <strong>FABRIKAM\TESTWEB1 $</strong>.</span><span class="sxs-lookup"><span data-stu-id="264a5-192">Machine accounts take the form <em>[domain name]</em><strong>\</strong><em>[machine name]</em><strong>$</strong>&#x2014;for example, <strong>FABRIKAM\TESTWEB1$</strong>.</span></span> <span data-ttu-id="264a5-193">Чтобы разрешить веб-приложению доступ к базе данных по сети, необходимо:</span><span class="sxs-lookup"><span data-stu-id="264a5-193">To allow your web application to access a database across the network, you need to:</span></span>

- <span data-ttu-id="264a5-194">Добавьте имя входа для учетной записи компьютера веб-сервера в экземпляр SQL Server.</span><span class="sxs-lookup"><span data-stu-id="264a5-194">Add a login for the web server machine account to the SQL Server instance.</span></span>
- <span data-ttu-id="264a5-195">Сопоставьте имя входа учетной записи компьютера с любыми необходимыми ролями базы данных (как правило, **db\_DataReader** и **DB\_Write**).</span><span class="sxs-lookup"><span data-stu-id="264a5-195">Map the machine account login to any required database roles (typically **db\_datareader** and **db\_datawriter**).</span></span>

<span data-ttu-id="264a5-196">Если веб-приложение выполняется в ферме серверов, а не на одном сервере, необходимо повторить эти процедуры для каждого веб-сервера в ферме серверов.</span><span class="sxs-lookup"><span data-stu-id="264a5-196">If your web application is running on a server farm, rather than a single server, you'll need to repeat these procedures for every web server in the server farm.</span></span>

> [!NOTE]
> <span data-ttu-id="264a5-197">Дополнительные сведения о удостоверениях пула приложений и доступе к сетевым ресурсам см. в разделе [удостоверения пула приложений](https://go.microsoft.com/?linkid=9805123).</span><span class="sxs-lookup"><span data-stu-id="264a5-197">For more information on application pool identities and accessing network resources, see [Application Pool Identities](https://go.microsoft.com/?linkid=9805123).</span></span>

<span data-ttu-id="264a5-198">Эти задачи можно подходить различными способами.</span><span class="sxs-lookup"><span data-stu-id="264a5-198">You can approach these tasks in various ways.</span></span> <span data-ttu-id="264a5-199">Чтобы создать имя входа, можно выполнить одно из следующих действий.</span><span class="sxs-lookup"><span data-stu-id="264a5-199">To create the login, you can either:</span></span>

- <span data-ttu-id="264a5-200">Вручную создайте имя входа на сервере базы данных с помощью Transact-SQL или SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="264a5-200">Create the login manually on the database server, using Transact-SQL or SQL Server Management Studio.</span></span>
- <span data-ttu-id="264a5-201">Используйте проект сервера SQL Server 2008 в Visual Studio для создания и развертывания имени входа.</span><span class="sxs-lookup"><span data-stu-id="264a5-201">Use a SQL Server 2008 Server Project in Visual Studio to create and deploy the login.</span></span>

<span data-ttu-id="264a5-202">SQL Server имя входа является объектом уровня сервера, а не объектом уровня базы данных, поэтому он не зависит от базы данных, которую требуется развернуть.</span><span class="sxs-lookup"><span data-stu-id="264a5-202">A SQL Server login is a server-level object, rather than a database-level object, so it's not dependent on the database you want to deploy.</span></span> <span data-ttu-id="264a5-203">Таким образом, можно создать имя входа в любой момент, и проще всего создать имя входа вручную на сервере базы данных до начала развертывания баз данных.</span><span class="sxs-lookup"><span data-stu-id="264a5-203">As such, you can create the login at any point, and the easiest approach is often to create the login manually on the database server before you start deploying databases.</span></span> <span data-ttu-id="264a5-204">Следующую процедуру можно использовать для создания имени входа в SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="264a5-204">You can use the next procedure to create a login in SQL Server Management Studio.</span></span>

<span data-ttu-id="264a5-205">**Создание SQL Server имени входа для учетной записи компьютера веб-сервера**</span><span class="sxs-lookup"><span data-stu-id="264a5-205">**To create a SQL Server login for the web server machine account**</span></span>

1. <span data-ttu-id="264a5-206">На сервере базы данных в меню **Пуск** наведите указатель на пункт **все программы**, выберите **Microsoft SQL Server 2008 R2**, а затем щелкните **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="264a5-206">On the database server, on the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
2. <span data-ttu-id="264a5-207">В диалоговом окне **соединение с сервером** в поле **имя сервера** введите имя сервера базы данных и нажмите кнопку **подключить**.</span><span class="sxs-lookup"><span data-stu-id="264a5-207">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image10.png)
3. <span data-ttu-id="264a5-208">В области **Обозреватель объектов** щелкните правой кнопкой мыши элемент **Безопасность**, наведите указатель на пункт **создать**и выберите пункт **Вход**.</span><span class="sxs-lookup"><span data-stu-id="264a5-208">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
4. <span data-ttu-id="264a5-209">В диалоговом окне имя **входа — создать** введите имя своей учетной записи компьютера веб-сервера (например, **FABRIKAM\TESTWEB1 $** ) в поле **имени входа** .</span><span class="sxs-lookup"><span data-stu-id="264a5-209">In the **Login – New** dialog box, in the **Login name** box, type the name of your web server machine account (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image11.png)
5. <span data-ttu-id="264a5-210">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="264a5-210">Click **OK**.</span></span>

<span data-ttu-id="264a5-211">На этом этапе сервер базы данных готов к веб-развертывание публикации.</span><span class="sxs-lookup"><span data-stu-id="264a5-211">At this point, your database server is ready for Web Deploy publishing.</span></span> <span data-ttu-id="264a5-212">Однако все развертываемые решения будут работать только после того, как вы сопоставьте учетной записи компьютера имя входа с необходимыми ролями базы данных.</span><span class="sxs-lookup"><span data-stu-id="264a5-212">However, any solutions you deploy won't work until you map the machine account login to the required database roles.</span></span> <span data-ttu-id="264a5-213">Сопоставление имени входа с ролями базы данных требует гораздо больше усилий, так как сопоставление ролей невозможно до тех пор, пока вы не развернете базу данных.</span><span class="sxs-lookup"><span data-stu-id="264a5-213">Mapping the login to database roles requires a lot more thought, as you can't map roles until after you've deployed the database.</span></span> <span data-ttu-id="264a5-214">Для соответствия имени входа учетной записи компьютера с требуемыми ролями базы данных можно выполнить одно из следующих действий.</span><span class="sxs-lookup"><span data-stu-id="264a5-214">To map the machine account login to the required database roles, you can either:</span></span>

- <span data-ttu-id="264a5-215">Назначьте роли базы данных имени входа вручную после развертывания базы данных в первый раз.</span><span class="sxs-lookup"><span data-stu-id="264a5-215">Assign the database roles to the login manually, after you've deployed the database for the first time.</span></span>
- <span data-ttu-id="264a5-216">Используйте скрипт, выполняемый после развертывания, чтобы назначить роли базы данных для имени входа.</span><span class="sxs-lookup"><span data-stu-id="264a5-216">Use a post-deployment script to assign the database roles to the login.</span></span>

<span data-ttu-id="264a5-217">Дополнительные сведения об автоматизации создания имен входа и сопоставлений ролей базы данных см. в разделе [развертывание членства в ролях базы данных в тестовых средах](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="264a5-217">For more information on automating the creation of logins and database role mappings, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="264a5-218">Кроме того, можно использовать следующую процедуру, чтобы вручную связать учетную запись компьютера с необходимыми ролями базы данных.</span><span class="sxs-lookup"><span data-stu-id="264a5-218">Alternatively, you can use the next procedure to map the machine account login to the required database roles manually.</span></span> <span data-ttu-id="264a5-219">Помните, что эту процедуру невозможно *выполнить до тех* пор, пока не развернута база данных.</span><span class="sxs-lookup"><span data-stu-id="264a5-219">Remember that you can't perform this procedure until *after* you've deployed the database.</span></span>

<span data-ttu-id="264a5-220">**Привязка ролей базы данных к имени входа учетной записи компьютера веб-сервера**</span><span class="sxs-lookup"><span data-stu-id="264a5-220">**To map database roles to the web server machine account login**</span></span>

1. <span data-ttu-id="264a5-221">Откройте SQL Server Management Studio как раньше.</span><span class="sxs-lookup"><span data-stu-id="264a5-221">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="264a5-222">В области **Обозреватель объектов** разверните узел **Безопасность** , разверните узел **имена входа** , а затем дважды щелкните имя входа учетной записи компьютера (например, **FABRIKAM\TESTWEB1 $** ).</span><span class="sxs-lookup"><span data-stu-id="264a5-222">In the **Object Explorer** pane, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image12.png)
3. <span data-ttu-id="264a5-223">В диалоговом окне **Свойства имени входа** щелкните **Сопоставление пользователей**.</span><span class="sxs-lookup"><span data-stu-id="264a5-223">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="264a5-224">В таблице **Пользователи, сопоставленные с этим именем входа** выберите имя базы данных (например, **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="264a5-224">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="264a5-225">В списке **членство в роли базы данных для:** *[имя базы данных]* выберите необходимые разрешения.</span><span class="sxs-lookup"><span data-stu-id="264a5-225">In the **Database role membership for:** *[database name]* list, select the permissions required.</span></span> <span data-ttu-id="264a5-226">В случае с примером решения диспетчера контактов необходимо выбрать **базу данных\_DataReader** и **базу данных\_** роли объекта записи.</span><span class="sxs-lookup"><span data-stu-id="264a5-226">In the case of the Contact Manager sample solution, you must select the **db\_datareader** and **db\_datawriter** roles.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image13.png)
6. <span data-ttu-id="264a5-227">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="264a5-227">Click **OK**.</span></span>

<span data-ttu-id="264a5-228">При ручном сопоставлении ролей баз данных часто бывает больше, чем достаточно для тестовых сред, но это не всегда желательно для развертывания в промежуточной или рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="264a5-228">While manually mapping database roles is often more than adequate for test environments, it's less desirable for automated or one-click deployments to staging or production environments.</span></span> <span data-ttu-id="264a5-229">Дополнительные сведения об автоматизации этой задачи с помощью скриптов, выполняемых после развертывания, см. в этой этой задаче при [развертывании членства в ролях базы данных в тестовых средах](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="264a5-229">You can find more information on automating this kind of task using post-deployment scripts in [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span>

> [!NOTE]
> <span data-ttu-id="264a5-230">Дополнительные сведения о серверных проектах и проектах баз данных см. в статье [Visual Studio 2010 SQL Server проекты баз данных](https://msdn.microsoft.com/library/ff678491.aspx).</span><span class="sxs-lookup"><span data-stu-id="264a5-230">For more information on server projects and database projects, see [Visual Studio 2010 SQL Server Database Projects](https://msdn.microsoft.com/library/ff678491.aspx).</span></span>

## <a name="configure-permissions-for-the-deployment-account"></a><span data-ttu-id="264a5-231">Настройка разрешений для учетной записи развертывания</span><span class="sxs-lookup"><span data-stu-id="264a5-231">Configure Permissions for the Deployment Account</span></span>

<span data-ttu-id="264a5-232">Если учетная запись, используемая для запуска развертывания, не является администратором SQL Server, вам также потребуется создать имя входа для этой учетной записи.</span><span class="sxs-lookup"><span data-stu-id="264a5-232">If the account that you'll use to run the deployment is not a SQL Server administrator, you'll also need to create a login for this account.</span></span> <span data-ttu-id="264a5-233">Чтобы создать базу данных, учетная запись должна быть членом роли сервера **dbcreator** или иметь эквивалентные разрешения.</span><span class="sxs-lookup"><span data-stu-id="264a5-233">In order to create the database, the account must be a member of the **dbcreator** server role or have equivalent permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="264a5-234">При использовании веб-развертывание или программы VSDBCMD для развертывания базы данных можно использовать учетные данные Windows или учетные данные SQL Server (если ваш экземпляр SQL Server настроен для поддержки проверки подлинности в смешанном режиме).</span><span class="sxs-lookup"><span data-stu-id="264a5-234">When you use Web Deploy or VSDBCMD to deploy a database, you can use Windows credentials or SQL Server credentials (if your SQL Server instance is configured to support mixed mode authentication).</span></span> <span data-ttu-id="264a5-235">В следующей процедуре предполагается, что вы хотите использовать учетные данные Windows, но при настройке развертывания ничего не нужно указывать SQL Server имя пользователя и пароль в строке подключения.</span><span class="sxs-lookup"><span data-stu-id="264a5-235">The next procedure assumes that you want to use Windows credentials, but there's nothing stopping you from specifying a SQL Server user name and password in your connection string when you configure the deployment.</span></span>

<span data-ttu-id="264a5-236">**Настройка разрешений для учетной записи развертывания**</span><span class="sxs-lookup"><span data-stu-id="264a5-236">**To set up permissions for the deployment account**</span></span>

1. <span data-ttu-id="264a5-237">Откройте SQL Server Management Studio как раньше.</span><span class="sxs-lookup"><span data-stu-id="264a5-237">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="264a5-238">В области **Обозреватель объектов** щелкните правой кнопкой мыши элемент **Безопасность**, наведите указатель на пункт **создать**и выберите пункт **Вход**.</span><span class="sxs-lookup"><span data-stu-id="264a5-238">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
3. <span data-ttu-id="264a5-239">В диалоговом окне имя **входа — создать** введите имя учетной записи развертывания (например, **фабрикам\матт**) в поле **имени входа** .</span><span class="sxs-lookup"><span data-stu-id="264a5-239">In the **Login – New** dialog box, in the **Login name** box, type the name of your deployment account (for example, **FABRIKAM\matt**).</span></span>
4. <span data-ttu-id="264a5-240">На панели **Выбор страницы** щелкните **роли сервера**.</span><span class="sxs-lookup"><span data-stu-id="264a5-240">In the **Select a page** pane, click **Server Roles**.</span></span>
5. <span data-ttu-id="264a5-241">Выберите **dbcreator**и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="264a5-241">Select **dbcreator**, and then click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image14.png)

<span data-ttu-id="264a5-242">Для поддержки последующих развертываний также потребуется добавить учетную запись развертывания в роль **владельца\_DB** в базе данных после первого развертывания.</span><span class="sxs-lookup"><span data-stu-id="264a5-242">To support subsequent deployments, you'll also need to add the deploying account to the **db\_owner** role on the database after the first deployment.</span></span> <span data-ttu-id="264a5-243">Это обусловлено тем, что при последующих развертываниях вы изменяете схему существующей базы данных, а не создаете новую базу данных.</span><span class="sxs-lookup"><span data-stu-id="264a5-243">This is because on subsequent deployments you're modifying the schema of an existing database, rather than creating a new database.</span></span> <span data-ttu-id="264a5-244">Как описано в предыдущем разделе, нельзя добавить пользователя к роли базы данных до тех пор, пока не будет создана база данных, по очевидным причинам.</span><span class="sxs-lookup"><span data-stu-id="264a5-244">As described in the previous section, you can't add a user to a database role until you've created the database, for obvious reasons.</span></span>

<span data-ttu-id="264a5-245">**Привязка имени входа учетной записи развертывания к роли базы данных "владелец\_"**</span><span class="sxs-lookup"><span data-stu-id="264a5-245">**To map the deployment account login to the db\_owner database role**</span></span>

1. <span data-ttu-id="264a5-246">Откройте SQL Server Management Studio как раньше.</span><span class="sxs-lookup"><span data-stu-id="264a5-246">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="264a5-247">В окне **Обозреватель объектов** разверните узел **Безопасность** , разверните узел **имена входа** , а затем дважды щелкните имя входа учетной записи компьютера (например, **фабрикам\матт**).</span><span class="sxs-lookup"><span data-stu-id="264a5-247">In the **Object Explorer** window, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\matt**).</span></span>
3. <span data-ttu-id="264a5-248">В диалоговом окне **Свойства имени входа** щелкните **Сопоставление пользователей**.</span><span class="sxs-lookup"><span data-stu-id="264a5-248">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="264a5-249">В таблице **Пользователи, сопоставленные с этим именем входа** выберите имя базы данных (например, **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="264a5-249">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="264a5-250">В списке **членство в роли базы данных для:** *[имя базы данных]* выберите роль **владельца DB\_** .</span><span class="sxs-lookup"><span data-stu-id="264a5-250">In the **Database role membership for:** *[database name]* list, select the **db\_owner** role.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image15.png)
6. <span data-ttu-id="264a5-251">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="264a5-251">Click **OK**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="264a5-252">Заключение</span><span class="sxs-lookup"><span data-stu-id="264a5-252">Conclusion</span></span>

<span data-ttu-id="264a5-253">Теперь сервер базы данных должен быть готов к принятию удаленных развертываний баз данных и разрешать удаленным веб-серверам IIS доступ к Вашим базам данных.</span><span class="sxs-lookup"><span data-stu-id="264a5-253">Your database server should now be ready to accept remote database deployments and to allow remote IIS web servers to access your databases.</span></span> <span data-ttu-id="264a5-254">Прежде чем пытаться развернуть и использовать базы данных, вам может потребоваться проверить следующие ключевые моменты:</span><span class="sxs-lookup"><span data-stu-id="264a5-254">Before you attempt to deploy and use databases, you may want to check these key points:</span></span>

- <span data-ttu-id="264a5-255">Настроены ли SQL Server принимать удаленные подключения TCP/IP?</span><span class="sxs-lookup"><span data-stu-id="264a5-255">Have you configured SQL Server to accept remote TCP/IP connections?</span></span>
- <span data-ttu-id="264a5-256">Вы настроили брандмауэры для разрешения SQL Server трафика?</span><span class="sxs-lookup"><span data-stu-id="264a5-256">Have you configured any firewalls to permit SQL Server traffic?</span></span>
- <span data-ttu-id="264a5-257">Создали ли вы имя входа учетной записи компьютера для каждого веб-сервера, который будет получать доступ к SQL Server?</span><span class="sxs-lookup"><span data-stu-id="264a5-257">Have you created a machine account login for every web server that will access SQL Server?</span></span>
- <span data-ttu-id="264a5-258">Включает ли развертывание базы данных скрипт для создания сопоставлений ролей пользователей или необходимо создавать их вручную после первого развертывания базы данных?</span><span class="sxs-lookup"><span data-stu-id="264a5-258">Does your database deployment include a script to create user role mappings, or do you need to create these manually after you deploy the database for the first time?</span></span>
- <span data-ttu-id="264a5-259">Создали ли вы имя входа для учетной записи развертывания и добавили его к роли сервера **dbcreator** ?</span><span class="sxs-lookup"><span data-stu-id="264a5-259">Have you created a login for the deployment account and added it to the **dbcreator** server role?</span></span>

## <a name="further-reading"></a><span data-ttu-id="264a5-260">Дополнительные материалы</span><span class="sxs-lookup"><span data-stu-id="264a5-260">Further Reading</span></span>

<span data-ttu-id="264a5-261">Рекомендации по развертыванию проектов баз данных см. в разделе [развертывание проектов баз данных](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="264a5-261">For guidance on deploying database projects, see [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="264a5-262">Рекомендации по созданию членства в ролях базы данных путем запуска скрипта, выполняемого после развертывания, см. [в разделе Развертывание членства в ролях базы данных в тестовых средах](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="264a5-262">For guidance on creating database role memberships by running a post-deployment script, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="264a5-263">Рекомендации по решению уникальных проблем развертывания, которые создает база данных членства, см. [в разделе Развертывание баз данных членства в корпоративных средах](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="264a5-263">For guidance on how to meet the unique deployment challenges that membership databases pose, see [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="264a5-264">[Назад](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
> [Вперед](creating-a-server-farm-with-the-web-farm-framework.md)</span><span class="sxs-lookup"><span data-stu-id="264a5-264">[Previous](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
[Next](creating-a-server-farm-with-the-web-farm-framework.md)</span></span>
