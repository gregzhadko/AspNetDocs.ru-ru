---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/creating-a-server-farm-with-the-web-farm-framework
title: Создание фермы серверов с платформой веб-фермы | Документация Майкрософт
author: jrjlee
description: В этом разделе описывается использование платформы веб-фермы (WFF) 2,0 для создания и настройки фермы веб-серверов из коллекции серверов.
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 656dd06d-806c-467c-863d-9fc45e5ba3ab
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/creating-a-server-farm-with-the-web-farm-framework
msc.type: authoredcontent
ms.openlocfilehash: 204996514bed336e60ab77f184a923f04e7e2bba
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78517500"
---
# <a name="creating-a-server-farm-with-the-web-farm-framework"></a><span data-ttu-id="6cc3f-103">Создание фермы серверов с помощью Web Farm Framework</span><span class="sxs-lookup"><span data-stu-id="6cc3f-103">Creating a Server Farm with the Web Farm Framework</span></span>

<span data-ttu-id="6cc3f-104">кто [Джейсон Иванов](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="6cc3f-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="6cc3f-105">Скачать в формате PDF</span><span class="sxs-lookup"><span data-stu-id="6cc3f-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="6cc3f-106">В этом разделе описывается использование платформы веб-фермы (WFF) 2,0 для создания и настройки фермы веб-серверов из коллекции серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-106">This topic describes how to use the Web Farm Framework (WFF) 2.0 to create and configure a web server farm from a collection of servers.</span></span>

<span data-ttu-id="6cc3f-107">WFF позволяет синхронизировать продукты и компоненты веб-платформы, веб-приложения, сайты и параметры конфигурации на нескольких веб-серверах с балансировкой нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-107">WFF lets you synchronize web platform products and components, web applications, websites, and configuration settings across multiple load-balanced web servers.</span></span> <span data-ttu-id="6cc3f-108">В сценариях, где требуется несколько веб-серверов, таких как промежуточные и рабочие среды, это может значительно упростить процесс развертывания и настройки.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-108">In scenarios where you need more than one web server, like staging and production environments, this can vastly simplify your deployment and configuration process.</span></span> <span data-ttu-id="6cc3f-109">Вы можете развернуть веб-приложение на отдельном сервере&#x2014;,&#x2014;и WFF будет автоматически реплицировать это веб-приложение на все другие веб-серверы фермы серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-109">You can deploy a web application to a single server&#x2014;the *primary server*&#x2014;and WFF will automatically replicate that web application on all the other web servers in the server farm.</span></span>

## <a name="understanding-the-web-farm-framework"></a><span data-ttu-id="6cc3f-110">Основные сведения о платформе веб-фермы</span><span class="sxs-lookup"><span data-stu-id="6cc3f-110">Understanding the Web Farm Framework</span></span>

<span data-ttu-id="6cc3f-111">С помощью WFF 2,0 можно подготавливать и развертывать содержимое в группе веб-серверов, а также управлять ими.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-111">You can use WFF 2.0 to provision, manage, and deploy content to a group of web servers.</span></span> <span data-ttu-id="6cc3f-112">Развертывание WFF состоит из трех ключевых ролей сервера:</span><span class="sxs-lookup"><span data-stu-id="6cc3f-112">A WFF deployment consists of three key server roles:</span></span>

- <span data-ttu-id="6cc3f-113">*Сервер контроллера*.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-113">The *controller server*.</span></span> <span data-ttu-id="6cc3f-114">Этот сервер используется для создания и настройки ферм серверов WFF.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-114">You use this server to create and configure WFF server farms.</span></span> <span data-ttu-id="6cc3f-115">Сервер контроллера управляет синхронизацией компонентов веб-платформы, параметров конфигурации и приложений между веб-серверами в ферме серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-115">The controller server manages the synchronization of web platform components, configuration settings, and applications between the web servers in a server farm.</span></span> <span data-ttu-id="6cc3f-116">На сервере контроллера устанавливается WFF 2,0, а сервер контроллера, в свою очередь, устанавливает агент WFF на каждом из серверов в ферме серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-116">You install WFF 2.0 on the controller server, and the controller server will in turn install the WFF agent on each of the servers in a server farm.</span></span> <span data-ttu-id="6cc3f-117">Сервер контроллера не принадлежит ни к одной ферме серверов WFF, а один сервер контроллера может управлять несколькими фермами серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-117">The controller server does not conceptually belong to any WFF server farm, and a single controller server can manage multiple server farms.</span></span> <span data-ttu-id="6cc3f-118">В этом сценарии используется один сервер контроллера WFF для создания фермы промежуточного сервера и рабочей фермы серверов и управления ею.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-118">In this scenario, you use a single WFF controller server to create and manage the staging server farm and the production server farm.</span></span>
- <span data-ttu-id="6cc3f-119">*Сервер источника*.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-119">The *primary server*.</span></span> <span data-ttu-id="6cc3f-120">Каждая ферма серверов WFF включает один сервер-источник.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-120">Each WFF server farm includes a single primary server.</span></span> <span data-ttu-id="6cc3f-121">При установке компонентов веб-платформы или развертывании приложений на сервере-источнике WFF синхронизирует изменения со всеми остальными серверами в ферме серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-121">When you install web platform components or deploy applications to the primary server, the WFF synchronizes your changes to all the other servers in the server farm.</span></span>
- <span data-ttu-id="6cc3f-122">*Сервер-получатель*.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-122">The *secondary server*.</span></span> <span data-ttu-id="6cc3f-123">Каждая ферма серверов WFF включает один или несколько серверов-получателей.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-123">Each WFF server farm includes one or more secondary servers.</span></span> <span data-ttu-id="6cc3f-124">Любые изменения, вносимые на сервер-источник, реплицируются на каждый сервер-получатель в пределах фермы серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-124">Any changes you make to the primary server are replicated to every secondary server within the server farm.</span></span>

<span data-ttu-id="6cc3f-125">В этом примере показано, как эти роли сервера связаны с промежуточной и рабочей средами Fabrikam, Inc.:</span><span class="sxs-lookup"><span data-stu-id="6cc3f-125">This shows how these server roles relate to the Fabrikam, Inc. staging and production environments:</span></span>

![](creating-a-server-farm-with-the-web-farm-framework/_static/image1.png)

<span data-ttu-id="6cc3f-126">В этом сценарии промежуточная среда и Рабочая среда настраиваются как фермы серверов WFF.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-126">In this scenario, the staging environment and the production environment are both configured as WFF server farms.</span></span> <span data-ttu-id="6cc3f-127">Один сервер контроллера WFF управляет обеими фермами.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-127">A single WFF controller server manages both farms.</span></span> <span data-ttu-id="6cc3f-128">На каждой ферме серверов все изменения на сервере-источнике реплицируются на каждый сервер-получатель.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-128">Within each server farm, any changes to the primary server are replicated to every secondary server.</span></span>

<span data-ttu-id="6cc3f-129">Прежде чем приступить к настройке промежуточной и рабочей сред, рекомендуется ознакомиться с этими статьями, чтобы ознакомиться с основными понятиями WFF 2,0:</span><span class="sxs-lookup"><span data-stu-id="6cc3f-129">Before you start to configure your staging and production environments, we recommend that you read these articles to familiarize yourself with the key concepts of WFF 2.0:</span></span>

- [<span data-ttu-id="6cc3f-130">Обзор инфраструктуры веб-фермы 2,0 для IIS 7</span><span class="sxs-lookup"><span data-stu-id="6cc3f-130">Overview of the Web Farm Framework 2.0 for IIS 7</span></span>](https://go.microsoft.com/?linkid=9805126)
- [<span data-ttu-id="6cc3f-131">Настройка фермы серверов с платформой веб-фермы 2,0 для IIS 7</span><span class="sxs-lookup"><span data-stu-id="6cc3f-131">Setting up a Server Farm with the Web Farm Framework 2.0 for IIS 7</span></span>](https://go.microsoft.com/?linkid=9805127)
- [<span data-ttu-id="6cc3f-132">Требования к системе и платформе для платформы веб-фермы 2,0 для IIS 7</span><span class="sxs-lookup"><span data-stu-id="6cc3f-132">System and Platform Requirements for the Web Farm Framework 2.0 for IIS 7</span></span>](https://go.microsoft.com/?linkid=9805128)

## <a name="task-overview"></a><span data-ttu-id="6cc3f-133">Обзор задач</span><span class="sxs-lookup"><span data-stu-id="6cc3f-133">Task Overview</span></span>

<span data-ttu-id="6cc3f-134">Для выполнения задач и пошаговых руководств в этом разделе потребуется по крайней мере три сервера&#x2014;: один контроллер WFF, один основной веб-сервер для фермы серверов и один или несколько вторичных веб-серверов для фермы серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-134">To complete the tasks and walkthroughs in this topic, you'll need at least three servers&#x2014;one WFF controller, one primary web server for the server farm, and one or more secondary web servers for the server farm.</span></span> <span data-ttu-id="6cc3f-135">Дополнительные серверы-получатели можно добавить в ферму серверов WFF в любое время.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-135">You can add more secondary servers to a WFF server farm at any time.</span></span> <span data-ttu-id="6cc3f-136">На высоком уровне, чтобы создать и настроить ферму серверов WFF для промежуточной или рабочей среды, потребуется:</span><span class="sxs-lookup"><span data-stu-id="6cc3f-136">At a high level, to create and configure a WFF server farm for your staging or production environment you'll need to:</span></span>

- <span data-ttu-id="6cc3f-137">Создайте сервер контроллера, установив службы IIS (IIS) 7,5 и WFF 2,0.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-137">Create a controller server by installing Internet Information Services (IIS) 7.5 and WFF 2.0.</span></span>
- <span data-ttu-id="6cc3f-138">Подготовьте первичные и вторичные серверы, создав общую учетную запись администратора и настроив исключения брандмауэра.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-138">Prepare primary and secondary servers by creating a common administrator account and configuring firewall exceptions.</span></span>
- <span data-ttu-id="6cc3f-139">Настройте ферму серверов с помощью диспетчера служб IIS на сервере контроллера.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-139">Configure the server farm by using IIS Manager on the controller server.</span></span>
- <span data-ttu-id="6cc3f-140">Настройте балансировку нагрузки с помощью маршрутизации запросов приложений IIS (ARR) или альтернативной технологии балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-140">Configure load balancing using IIS Application Request Routing (ARR) or an alternative load-balancing technology.</span></span>

<span data-ttu-id="6cc3f-141">В задачах и пошаговых руководствах этого раздела предполагается, что вы начинаете с чистых серверных сборок, работающих под Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-141">The tasks and walkthroughs in this topic assume that you're starting with clean server builds running Windows Server 2008 R2.</span></span> <span data-ttu-id="6cc3f-142">Прежде чем начать, для каждого сервера убедитесь в том, что:</span><span class="sxs-lookup"><span data-stu-id="6cc3f-142">Before you begin, for each server, ensure that:</span></span>

- <span data-ttu-id="6cc3f-143">Windows Server 2008 R2 с пакетом обновления 1 (SP1) и все доступные обновления установлены.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-143">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="6cc3f-144">Сервер присоединен к домену.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-144">The server is domain-joined.</span></span>
- <span data-ttu-id="6cc3f-145">Сервер имеет статический IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-145">The server has a static IP address.</span></span>

> [!NOTE]
> <span data-ttu-id="6cc3f-146">Дополнительные сведения о присоединении компьютеров к домену см. в разделе [Присоединение компьютеров к домену и вход в систему](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="6cc3f-146">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="6cc3f-147">Дополнительные сведения о настройке статических IP-адресов см. в статье [Настройка статического IP-](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx)адреса.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-147">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span></span>

## <a name="create-the-wff-controller-server"></a><span data-ttu-id="6cc3f-148">Создание сервера контроллера WFF</span><span class="sxs-lookup"><span data-stu-id="6cc3f-148">Create the WFF Controller Server</span></span>

<span data-ttu-id="6cc3f-149">Чтобы создать сервер контроллера WFF, необходимо установить службы IIS 7 или более поздней версии и WFF 2,0 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-149">To create a WFF controller server, you'll need to install both IIS 7 or later and WFF 2.0 or later.</span></span> <span data-ttu-id="6cc3f-150">На самом деле WFF использует средство веб-развертывания IIS (веб-развертывание) 2. x для синхронизации серверов в ферме.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-150">Under the covers, WFF uses the IIS Web Deployment Tool (Web Deploy) 2.x to synchronize the servers in your farm.</span></span> <span data-ttu-id="6cc3f-151">Если для установки WFF используется установщик веб-платформы, установщик автоматически скачивает и устанавливает веб-развертывание.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-151">If you use the Web Platform Installer to install WFF, the installer will automatically download and install Web Deploy for you.</span></span>

<span data-ttu-id="6cc3f-152">**Создание сервера контроллера WFF**</span><span class="sxs-lookup"><span data-stu-id="6cc3f-152">**To create the WFF controller server**</span></span>

1. <span data-ttu-id="6cc3f-153">Скачайте и установите [установщик веб-платформы](https://go.microsoft.com/?linkid=9739157).</span><span class="sxs-lookup"><span data-stu-id="6cc3f-153">Download and install the [Web Platform Installer](https://go.microsoft.com/?linkid=9739157).</span></span>
2. <span data-ttu-id="6cc3f-154">В верхней части окна **установщика веб-платформы 3,0** щелкните **Products (продукты**).</span><span class="sxs-lookup"><span data-stu-id="6cc3f-154">At the top of the **Web Platform Installer 3.0** window, click **Products**.</span></span>
3. <span data-ttu-id="6cc3f-155">В левой части окна в области навигации щелкните **сервер**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-155">On the left side of the window, in the navigation pane, click **Server**.</span></span>
4. <span data-ttu-id="6cc3f-156">В строке **рекомендуемой конфигурации IIS 7** нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-156">In the **IIS 7 Recommended Configuration** row, click **Add**.</span></span>
5. <span data-ttu-id="6cc3f-157">В <strong>инфраструктуре веб-фермы 2.</strong> <em>x</em> строка, нажмите кнопку <strong>Добавить</strong>.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-157">In the <strong>Web Farm Framework 2.</strong><em>x</em> row, click <strong>Add</strong>.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image2.png)
6. <span data-ttu-id="6cc3f-158">Щелкните **Install**(Установить).</span><span class="sxs-lookup"><span data-stu-id="6cc3f-158">Click **Install**.</span></span> <span data-ttu-id="6cc3f-159">Обратите внимание, что установщик веб-платформы добавил в список установки средство веб-развертывания, а также различные зависимости.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-159">Notice that the Web Platform Installer has added the Web Deployment Tool, along with various other dependencies, to the installation list.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image3.png)
7. <span data-ttu-id="6cc3f-160">Ознакомьтесь с условиями лицензионного соглашения и, если вы согласны с условиями, нажмите кнопку **принимаю**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-160">Review the license terms, and if you consent to the terms, click **I Accept**.</span></span>
8. <span data-ttu-id="6cc3f-161">По завершении установки нажмите кнопку **Готово**, а затем закройте окно **установщик веб-платформы 3,0** .</span><span class="sxs-lookup"><span data-stu-id="6cc3f-161">When the installation is complete, click **Finish**, and then close the **Web Platform Installer 3.0** window.</span></span>

## <a name="configure-the-primary-and-secondary-servers"></a><span data-ttu-id="6cc3f-162">Настройка основного и дополнительного серверов</span><span class="sxs-lookup"><span data-stu-id="6cc3f-162">Configure the Primary and Secondary Servers</span></span>

<span data-ttu-id="6cc3f-163">Перед созданием фермы серверов WFF необходимо выполнить некоторые подготовительные задачи на веб-серверах, которые будут создавать ферму.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-163">Before you create a WFF server farm, you should complete some preparation tasks on the web servers that will make up the farm:</span></span>

- <span data-ttu-id="6cc3f-164">Добавьте исключения брандмауэра, чтобы обеспечить взаимодействие **основных функций сети**, **удаленного администрирования**и **общего доступа к файлам и принтерам** с сервером контроллера WFF.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-164">Add firewall exceptions to allow the **Core Networking**, **Remote Administration**, and **File and Printer Sharing** features to communicate with the WFF controller server.</span></span>
- <span data-ttu-id="6cc3f-165">Создайте учетную запись домена (например, **фабрикам\стагингфарм**) в Active Directory и добавьте ее в локальную группу администраторов на каждом сервере.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-165">Create a domain account (for example, **FABRIKAM\stagingfarm**) in Active Directory and add it to the local administrators group on each server.</span></span> <span data-ttu-id="6cc3f-166">Эта учетная запись будет использоваться в качестве учетной записи администратора фермы серверов при создании фермы серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-166">You'll use this account as the server farm administrator account when you create the server farm.</span></span>

<span data-ttu-id="6cc3f-167">Дополнительные сведения о настройке этих исключений брандмауэра в брандмауэре Windows см. в разделе [требования к системе и платформе для платформы веб-фермы 2,0 для IIS 7](https://go.microsoft.com/?linkid=9805128).</span><span class="sxs-lookup"><span data-stu-id="6cc3f-167">For more information on how to configure these firewall exceptions in Windows Firewall, see [System and Platform Requirements for the Web Farm Framework 2.0 for IIS 7](https://go.microsoft.com/?linkid=9805128).</span></span> <span data-ttu-id="6cc3f-168">Для других систем брандмауэров обратитесь к документации по продукту.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-168">For other firewall systems, consult your product documentation.</span></span>

<span data-ttu-id="6cc3f-169">Следующую процедуру можно использовать для добавления учетной записи домена в локальную группу администраторов в Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-169">You can use the next procedure to add a domain account to the local administrators group in Windows Server 2008 R2.</span></span> <span data-ttu-id="6cc3f-170">Эту процедуру следует выполнять на каждом сервере, который вы хотите добавить на ферму&#x2014;серверов другими словами, добавить ту же учетную запись домена в локальную группу администраторов на сервере-источнике и на каждом сервере-получателе.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-170">You should perform this procedure on every server that you want to add to the server farm&#x2014;in other words, add the same domain account to the local administrators group on the primary server and on each secondary server.</span></span>

<span data-ttu-id="6cc3f-171">**Добавление учетной записи домена в группу локальных администраторов**</span><span class="sxs-lookup"><span data-stu-id="6cc3f-171">**To add a domain account to the local administrators group**</span></span>

1. <span data-ttu-id="6cc3f-172">В меню **Пуск** выберите пункт **Администрирование**, а затем щелкните **Диспетчер сервера**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-172">On the **Start** menu, point to **Administrative Tools**, and then click **Server Manager**.</span></span>
2. <span data-ttu-id="6cc3f-173">В окне **Диспетчер сервера** на панели древовидное представление разверните узел **Конфигурация**, разверните узел **Локальные пользователи и группы**и выберите пункт **группы**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-173">In the **Server Manager** window, in the tree view pane, expand **Configuration**, expand **Local Users and Groups**, and then click **Groups**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image4.png)
3. <span data-ttu-id="6cc3f-174">В области **группы** дважды щелкните **Администраторы**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-174">In the **Groups** pane, double-click **Administrators**.</span></span>
4. <span data-ttu-id="6cc3f-175">В диалоговом окне **Свойства администратора** нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-175">In the **Administrators Properties** dialog box, click **Add**.</span></span>
5. <span data-ttu-id="6cc3f-176">В диалоговом окне **Выбор пользователей, компьютеров, учетных записей служб или групп** введите (или перейдите) к своей учетной записи домена (например, **фабрикам\стагингфарм**), а затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-176">In the **Select Users, Computers, Service Accounts, or Groups** dialog box, type (or browse) to your domain account (for example, **FABRIKAM\stagingfarm**), and then click **OK**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image5.png)
6. <span data-ttu-id="6cc3f-177">В диалоговом окне **Свойства администратора** нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-177">In the **Administrators Properties** dialog box, click **OK**.</span></span>

<span data-ttu-id="6cc3f-178">Теперь ваши серверы готовы к добавлению в ферму серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-178">Your servers are now ready to be added to a server farm.</span></span> <span data-ttu-id="6cc3f-179">В случае сервера-источника можно настроить сервер в соответствии с требованиями приложения до или после создания фермы&#x2014;серверов в обоих случаях, WFF синхронизирует серверы, развертывая на серверах-получателях те же продукты, компоненты или конфигурацию.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-179">In the case of the primary server, you can configure the server to meet your application requirements before or after you create the server farm&#x2014;in both cases, the WFF will synchronize the servers by deploying the same products, components, or configuration to your secondary servers.</span></span> <span data-ttu-id="6cc3f-180">Для простоты в этом учебнике предполагается, что вы настроили основной сервер по завершении создания фермы серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-180">For the sake of simplicity, this tutorial assumes that you'll configure the primary server when you've finished creating the server farm.</span></span>

## <a name="create-the-wff-server-farm"></a><span data-ttu-id="6cc3f-181">Создание фермы серверов WFF</span><span class="sxs-lookup"><span data-stu-id="6cc3f-181">Create the WFF Server Farm</span></span>

<span data-ttu-id="6cc3f-182">На этом этапе все серверы готовы к добавлению в ферму серверов WFF:</span><span class="sxs-lookup"><span data-stu-id="6cc3f-182">At this point, all your servers are ready to be added to a WFF server farm:</span></span>

- <span data-ttu-id="6cc3f-183">Вы установили WFF на сервере контроллера.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-183">You've installed WFF on the controller server.</span></span>
- <span data-ttu-id="6cc3f-184">Вы настроили исключения брандмауэра на основном и на вторичном веб-серверах.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-184">You've configured firewall exceptions on your primary and secondary web servers.</span></span>
- <span data-ttu-id="6cc3f-185">Вы добавили учетную запись домена в локальную группу администраторов на основном и на вторичном веб-серверах.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-185">You've added a domain account to the local administrators group on your primary and secondary web servers.</span></span>

<span data-ttu-id="6cc3f-186">Следующим шагом является создание фермы серверов в WFF.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-186">The next step is to create the server farm in WFF.</span></span> <span data-ttu-id="6cc3f-187">Это можно сделать из диспетчера IIS на сервере контроллера WFF.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-187">You can do this from IIS Manager on the WFF controller server.</span></span>

<span data-ttu-id="6cc3f-188">**Создание фермы серверов WFF**</span><span class="sxs-lookup"><span data-stu-id="6cc3f-188">**To create a WFF server farm**</span></span>

1. <span data-ttu-id="6cc3f-189">На сервере контроллера WFF в меню **Пуск** укажите пункт **Администрирование**, а затем выберите пункт **Диспетчер службы IIS (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="6cc3f-189">On the WFF controller server, on the **Start** menu, point to **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>
2. <span data-ttu-id="6cc3f-190">В области **подключения** разверните узел локального сервера, щелкните правой кнопкой мыши элемент **фермы серверов**и выберите пункт **создать ферму серверов**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-190">In the **Connections** pane, expand the local server node, right-click **Server Farms**, and then click **Create Server Farm**.</span></span>
3. <span data-ttu-id="6cc3f-191">В диалоговом окне **Создание фермы серверов** введите понятное имя фермы серверов (например, **Промежуточная ферма**), а затем выберите **подготовить ферму серверов**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-191">In the **Create Server Farm** dialog box, type a meaningful name for the server farm (for example, **Staging Farm**), and then select **Provision server farm**.</span></span>
4. <span data-ttu-id="6cc3f-192">Введите имя пользователя и пароль учетной записи домена, добавленной в локальную группу администраторов на каждом сервере.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-192">Type the user name and password of the domain account that you added to the local administrators group on each server.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image6.png)
5. <span data-ttu-id="6cc3f-193">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-193">Click **Next**.</span></span>
6. <span data-ttu-id="6cc3f-194">На странице **Добавление серверов** введите полное доменное имя (FQDN) сервера-источника, выберите **сервер-источник**и нажмите кнопку **добавить**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-194">On the **Add Servers** page, type the fully qualified domain name (FQDN) of the primary server, select **Primary Server**, and then click **Add**.</span></span>
7. <span data-ttu-id="6cc3f-195">На этом этапе WFF будет пытаться связаться с основным сервером, используя предоставленные учетные данные.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-195">At this point, WFF will attempt to contact the primary server using the credentials you provided.</span></span> <span data-ttu-id="6cc3f-196">Если соединение установлено, сервер-источник будет добавлен в таблицу на странице **Добавление серверов** .</span><span class="sxs-lookup"><span data-stu-id="6cc3f-196">If the connection succeeds, the primary server will be added to the table on the **Add Servers** page.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image7.png)

    > [!NOTE]
    > <span data-ttu-id="6cc3f-197">Возможно, вы заметили, что **сервер, доступный для балансировки нагрузки** , выбран по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-197">You might have noticed that **Server is available for Load Balancing** is selected by default.</span></span> <span data-ttu-id="6cc3f-198">WFF использует модуль IIS ARR для реализации балансировки нагрузки и, таким образом, распределяет запросы между веб-серверами в ферме серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-198">WFF uses the IIS ARR module to implement load balancing and thereby distribute requests across the web servers in your server farm.</span></span> <span data-ttu-id="6cc3f-199">В большинстве случаев только **сервер доступен для балансировки нагрузки** , если вместо этого требуется использовать решение для балансировки нагрузки стороннего производителя.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-199">In most scenarios, you'd only clear the **Server is available for Load Balancing** option if you wanted to use a third-party load balancing solution instead.</span></span>
8. <span data-ttu-id="6cc3f-200">На странице **Добавление серверов** введите полное доменное имя первого сервера-получателя, а затем нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-200">On the **Add Servers** page, type the FQDN of your first secondary server, and then click **Add**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image8.png)
9. <span data-ttu-id="6cc3f-201">Повторите шаг 7 для дополнительных серверов-получателей в ферме, а затем нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-201">Repeat step 7 for any additional secondary servers in your farm, and then click **Finish**.</span></span>

<span data-ttu-id="6cc3f-202">Ферма серверов WFF теперь запущена и работает.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-202">Your WFF server farm is now up and running.</span></span> <span data-ttu-id="6cc3f-203">Все продукты или компоненты веб-платформы, которые устанавливаются на сервере-источнике, а также все приложения или содержимое, развертываемое на сервере источника, будут автоматически подготовлены на всех вторичных серверах.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-203">Any web platform products or components that you install on the primary server, and any web applications or content that you deploy to the primary server, will be automatically provisioned on all your secondary servers.</span></span>

<span data-ttu-id="6cc3f-204">WFF — это обширный и сложный раздел, и вы можете узнать больше о нем на веб [-сайте Microsoft Web ферма 2,0 для IIS 7](https://go.microsoft.com/?linkid=9805129) .</span><span class="sxs-lookup"><span data-stu-id="6cc3f-204">WFF is a broad and complex topic, and you can learn more about it on the [Microsoft Web Farm Framework 2.0 for IIS 7](https://go.microsoft.com/?linkid=9805129) website.</span></span> <span data-ttu-id="6cc3f-205">Но в то же время есть две области, которые необходимо учитывать:</span><span class="sxs-lookup"><span data-stu-id="6cc3f-205">For the time being, however, there are two features areas that you need to be aware of:</span></span>

- <span data-ttu-id="6cc3f-206">*Подготовка приложений* — это процесс, который реплицирует содержимое с первичного сервера, например веб-приложения и параметры конфигурации, на все вторичные серверы фермы серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-206">*Application provisioning* is the process that replicates content from the primary server, like web applications and configuration settings, across all the secondary servers in the server farm.</span></span> <span data-ttu-id="6cc3f-207">Например, при развертывании примера решения Contact Manager на основном промежуточном сервере процесс подготовки приложений WFF будет развертывать это решение на всех дополнительных промежуточных серверах.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-207">For example, if you deploy the Contact Manager sample solution to your primary staging server, the WFF application provisioning process will deploy this solution to all your secondary staging servers.</span></span> <span data-ttu-id="6cc3f-208">По умолчанию процесс подготовки приложений выполняется каждые 30 секунд.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-208">By default, the application provisioning process runs every 30 seconds.</span></span>
- <span data-ttu-id="6cc3f-209">*Подготовка платформы* — это процесс, который синхронизирует продукты и компоненты веб-платформы, начиная с основного сервера и до всех вторичных серверов в ферме серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-209">*Platform provisioning* is the process that synchronizes web platform products and components from the primary server to all the secondary servers in the server farm.</span></span> <span data-ttu-id="6cc3f-210">Например, если установить ASP.NET MVC 3 на основной промежуточный сервер, процесс подготовки платформы будет использовать установщик веб-платформы для установки ASP.NET MVC 3 на всех дополнительных промежуточных серверах.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-210">For example, if you install ASP.NET MVC 3 on your primary staging server, the platform provisioning process will use the Web Platform Installer to install ASP.NET MVC 3 on all your secondary staging servers.</span></span> <span data-ttu-id="6cc3f-211">По умолчанию процесс подготовки платформы выполняется каждые пять минут.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-211">By default, the platform provisioning process runs every five minutes.</span></span>

<span data-ttu-id="6cc3f-212">Вы можете управлять базовыми параметрами подготовки приложений и платформ из диспетчера IIS на сервере контроллера WFF.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-212">You can manage basic application and platform provisioning settings from IIS Manager on your WFF controller server.</span></span>

<span data-ttu-id="6cc3f-213">**Изучение параметров подготовки приложений и платформ**</span><span class="sxs-lookup"><span data-stu-id="6cc3f-213">**Explore application and platform provisioning settings**</span></span>

1. <span data-ttu-id="6cc3f-214">В диспетчере служб IIS в области **подключения** выберите свою ферму серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-214">In IIS Manager, in the **Connections** pane, select your server farm.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image9.png)
2. <span data-ttu-id="6cc3f-215">В области **ферма серверов** дважды щелкните элемент **Подготовка приложений**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-215">In the **Server Farm** pane, double-click **Application Provisioning**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image10.png)
3. <span data-ttu-id="6cc3f-216">Как видите, ферма серверов в настоящее время настроена на синхронизацию веб-содержимого и параметров конфигурации между основным сервером и дополнительными серверами каждые 30 секунд.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-216">As you can see, the server farm is currently configured to synchronize web content and configuration settings between the primary server and the secondary servers every 30 seconds.</span></span>
4. <span data-ttu-id="6cc3f-217">Нажмите кнопку **назад**, а затем дважды щелкните **Подготовка платформы**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-217">Click **Back**, and then double-click **Platform Provisioning**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image11.png)
5. <span data-ttu-id="6cc3f-218">Как видите, ферма серверов в настоящее время настроена для синхронизации продуктов и компонентов веб-платформы между основным сервером и дополнительными серверами каждые пять минут.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-218">As you can see, the server farm is currently configured to synchronize web platform products and components between the primary server and the secondary servers every five minutes.</span></span>
6. <span data-ttu-id="6cc3f-219">Нажмите кнопку **Назад**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-219">Click **Back**.</span></span>
7. <span data-ttu-id="6cc3f-220">Чтобы настроить ферму серверов на синхронизацию продуктов веб-платформы немедленно, на панели " **действия** " щелкните "выполнить **инициализацию платформы**".</span><span class="sxs-lookup"><span data-stu-id="6cc3f-220">To force the server farm to synchronize web platform products immediately, in the **Actions** pane, click **Provision Platform**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image12.png)

    > [!NOTE]
    > <span data-ttu-id="6cc3f-221">Подготовка платформы может занять некоторое время.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-221">Platform provisioning may take some time.</span></span> <span data-ttu-id="6cc3f-222">Процесс установки выполняется в фоновом режиме на серверах-получателях фермы серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-222">The installer process runs in the background on the secondary servers in your server farm.</span></span>
8. <span data-ttu-id="6cc3f-223">Добавив достаточное время для завершения процесса подготовки, вы можете проверить, что продукты и компоненты, добавленные на сервер-источник, теперь реплицируются на серверах-получателях.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-223">Once you've allowed sufficient time for the provisioning process to complete, you can verify that the products and components that you added to the primary server have now been replicated on the secondary servers.</span></span> <span data-ttu-id="6cc3f-224">Например, можно войти на сервер-получатель и использовать окно **Диспетчер сервера** , чтобы убедиться, что роль веб-сервера установлена.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-224">For example, you can log on to a secondary server and use the **Server Manager** window to verify that the web server role has been installed.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image13.png)
9. <span data-ttu-id="6cc3f-225">Можно также проверить список установленные программы, чтобы убедиться, что добавлены различные компоненты веб-платформы.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-225">You can also check the installed programs list to verify that various web platform components have been added.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image14.png)

## <a name="configure-load-balancing"></a><span data-ttu-id="6cc3f-226">Настройка балансировки нагрузки</span><span class="sxs-lookup"><span data-stu-id="6cc3f-226">Configure Load Balancing</span></span>

<span data-ttu-id="6cc3f-227">При создании веб-фермы необходимо настроить определенную форму балансировки нагрузки для распределения HTTP-запросов между вашими веб-серверами.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-227">When you create a web farm, you need to set up some form of load balancing to distribute HTTP requests between your web servers.</span></span> <span data-ttu-id="6cc3f-228">Это может быть балансировка сетевой нагрузки Windows Server 2008, IIS ARR или программное решение для балансировки нагрузки на основе сторонних производителей или оборудования.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-228">This could be Windows Server 2008 network load balancing, IIS ARR, or a third-party software-based or hardware-based load balancing solution.</span></span>

<span data-ttu-id="6cc3f-229">WFF предназначен для тесной интеграции с IIS ARR.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-229">WFF is designed to integrate closely with IIS ARR.</span></span> <span data-ttu-id="6cc3f-230">Чтобы воспользоваться этой интеграцией, необходимо установить модуль ARR на сервере контроллера WFF.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-230">To take advantage of this integration, you need to install the ARR module on the WFF controller server.</span></span> <span data-ttu-id="6cc3f-231">Затем весь веб-трафик направляется на сервер контроллера, обычно путем настройки записей системы доменных имен (DNS).</span><span class="sxs-lookup"><span data-stu-id="6cc3f-231">You then direct all your web traffic to the controller server, typically by configuring Domain Name System (DNS) records.</span></span> <span data-ttu-id="6cc3f-232">Сервер контроллера будет распределять входящие запросы между серверами в ферме на основе доступности сервера и других критериев.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-232">The controller server will then distribute incoming requests among the servers in your farm, based on server availability and various other criteria.</span></span>

> [!NOTE]
> <span data-ttu-id="6cc3f-233">Не нужно использовать ARR с WFF; Вы можете настроить WFF для работы с решениями балансировки нагрузки сторонних производителей.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-233">You don't have to use ARR with WFF; you can configure WFF to work with third-party load balancing solutions.</span></span> <span data-ttu-id="6cc3f-234">Дополнительные сведения см. [в разделе Обзор инфраструктуры веб-фермы 2,0 для IIS 7](https://go.microsoft.com/?linkid=9805126).</span><span class="sxs-lookup"><span data-stu-id="6cc3f-234">For more information, see [Overview of the Web Farm Framework 2.0 for IIS 7](https://go.microsoft.com/?linkid=9805126).</span></span>

<span data-ttu-id="6cc3f-235">Балансировка нагрузки с помощью ARR — сложная тема, большая часть которой выходит за рамки данного руководства.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-235">Load balancing using ARR is a complex topic, most of which is beyond the scope of this tutorial.</span></span> <span data-ttu-id="6cc3f-236">Однако вы можете использовать следующую процедуру, чтобы установить модуль ARR и начать работу с балансировкой нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-236">However, you can use the next procedure to install the ARR module and get started with load balancing.</span></span>

<span data-ttu-id="6cc3f-237">**Настройка балансировки нагрузки на сервере контроллера WFF**</span><span class="sxs-lookup"><span data-stu-id="6cc3f-237">**To set up load balancing on the WFF controller server**</span></span>

1. <span data-ttu-id="6cc3f-238">На сервере контроллера WFF запустите установщик веб-платформы.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-238">On the WFF controller server, launch the Web Platform Installer.</span></span>
2. <span data-ttu-id="6cc3f-239">В верхней части окна **установщика веб-платформы 3,0** щелкните **Products (продукты**).</span><span class="sxs-lookup"><span data-stu-id="6cc3f-239">At the top of the **Web Platform Installer 3.0** window, click **Products**.</span></span>
3. <span data-ttu-id="6cc3f-240">В левой части окна в области навигации щелкните **сервер**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-240">On the left side of the window, in the navigation pane, click **Server**.</span></span>
4. <span data-ttu-id="6cc3f-241">В строке **запрос приложения маршрутизация 2,5** нажмите кнопку **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-241">In the **Application Request Routing 2.5** row, click **Add**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image15.png)
5. <span data-ttu-id="6cc3f-242">Нажмите кнопку **установить**, а затем следуйте инструкциям в окне **Установка веб-платформы** .</span><span class="sxs-lookup"><span data-stu-id="6cc3f-242">Click **Install**, and then follow the instructions in the **Web Platform Installation** window.</span></span>
6. <span data-ttu-id="6cc3f-243">После завершения установки запустите Диспетчер IIS и в области **подключения** щелкните узел фермы серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-243">When the installation is complete, launch IIS Manager, and in the **Connections** pane, click your server farm node.</span></span> <span data-ttu-id="6cc3f-244">Обратите внимание, что на панель « **ферма серверов** » Добавлено несколько новых значков.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-244">Notice that several new icons have been added to the **Server Farm** pane.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image16.png)
7. <span data-ttu-id="6cc3f-245">На панели **Ферма серверов** дважды щелкните **Балансировка нагрузки**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-245">In the **Server Farm** pane, double-click **Load Balance**.</span></span>
8. <span data-ttu-id="6cc3f-246">В области **Балансировка нагрузки** выберите алгоритм балансировки нагрузки (например, по **крайней мере текущий запрос**).</span><span class="sxs-lookup"><span data-stu-id="6cc3f-246">In the **Load Balance** pane, select a load balance algorithm (for example, **Least current request**).</span></span>

    > [!NOTE]
    > <span data-ttu-id="6cc3f-247">Дополнительные сведения о алгоритмах балансировки нагрузки и других параметрах конфигурации см. в разделе [модуль маршрутизации запросов приложений](https://go.microsoft.com/?linkid=9805130).</span><span class="sxs-lookup"><span data-stu-id="6cc3f-247">For more information on load balancing algorithms and other configuration settings, see [Application Request Routing Module](https://go.microsoft.com/?linkid=9805130).</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image17.png)
9. <span data-ttu-id="6cc3f-248">На панели **действия** нажмите кнопку **Применить**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-248">In the **Actions** pane, click **Apply**.</span></span>

<span data-ttu-id="6cc3f-249">Теперь вы настроили базовую балансировку нагрузки для серверов в ферме серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-249">You have now configured basic load balancing for the servers in your server farm.</span></span> <span data-ttu-id="6cc3f-250">Если направлять весь трафик веб-фермы на сервер контроллера, запросы будут распределяться между серверами в ферме в соответствии с доступностью и выбранным алгоритмом балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-250">If you direct all your web farm traffic to the controller server, the requests will be distributed between the servers in your farm according to availability and the load balancing algorithm you selected.</span></span>

<span data-ttu-id="6cc3f-251">Дополнительные сведения о настройке балансировки нагрузки с помощью ARR см. в разделе [модуль маршрутизации запросов приложений](https://go.microsoft.com/?linkid=9805130).</span><span class="sxs-lookup"><span data-stu-id="6cc3f-251">For more information on how to configure load balancing with ARR, see [Application Request Routing Module](https://go.microsoft.com/?linkid=9805130).</span></span>

## <a name="monitor-the-server-farm"></a><span data-ttu-id="6cc3f-252">Мониторинг фермы серверов</span><span class="sxs-lookup"><span data-stu-id="6cc3f-252">Monitor the Server Farm</span></span>

<span data-ttu-id="6cc3f-253">Вы можете в любое время отслеживать работоспособность фермы серверов с помощью диспетчера IIS на сервере контроллера.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-253">You can monitor the health of your server farm at any time through IIS Manager on the controller server.</span></span> <span data-ttu-id="6cc3f-254">В области **подключения** разверните ферму сервера, а затем щелкните **серверы**.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-254">In the **Connections** pane, expand your server farm, and then click **Servers**.</span></span> <span data-ttu-id="6cc3f-255">В центральной области отобразится сводка по каждому серверу в ферме вместе с журналом трассировки недавних действий.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-255">The center pane will show a summary of each server in the farm together with a trace log of recent activity.</span></span>

![](creating-a-server-farm-with-the-web-farm-framework/_static/image18.png)

## <a name="conclusion"></a><span data-ttu-id="6cc3f-256">Заключение</span><span class="sxs-lookup"><span data-stu-id="6cc3f-256">Conclusion</span></span>

<span data-ttu-id="6cc3f-257">Ферма серверов WFF теперь должна быть запущена.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-257">Your WFF server farm should now be up and running.</span></span> <span data-ttu-id="6cc3f-258">Можно настроить сервер-источник для поддержки любого подхода к развертыванию,&#x2014;чтобы получить дополнительные сведения&#x2014;, а конфигурация будет реплицироваться на каждом сервере-получателе в ферме серверов.</span><span class="sxs-lookup"><span data-stu-id="6cc3f-258">You can configure the primary server to support whichever deployment approach you prefer&#x2014;see the Further Reading section for details&#x2014;and your configuration will be replicated on each secondary server in the server farm.</span></span>

## <a name="further-reading"></a><span data-ttu-id="6cc3f-259">Дополнительные материалы</span><span class="sxs-lookup"><span data-stu-id="6cc3f-259">Further Reading</span></span>

<span data-ttu-id="6cc3f-260">Дополнительные рекомендации по настройке и использованию WFF см. на веб [-сайте Microsoft Web siteing Framework 2,0 для IIS 7](https://go.microsoft.com/?linkid=9805129) .</span><span class="sxs-lookup"><span data-stu-id="6cc3f-260">For more guidance on all aspects of configuring and using the WFF, see the [Microsoft Web Farm Framework 2.0 for IIS 7](https://go.microsoft.com/?linkid=9805129) website.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="6cc3f-261">[Назад](configuring-a-database-server-for-web-deploy-publishing.md)
> [Вперед](configuring-deployment-properties-for-a-target-environment.md)</span><span class="sxs-lookup"><span data-stu-id="6cc3f-261">[Previous](configuring-a-database-server-for-web-deploy-publishing.md)
[Next](configuring-deployment-properties-for-a-target-environment.md)</span></span>
