---
uid: web-forms/overview/deployment/visual-studio-web-deployment/project-properties
title: 'ASP.NET веб-развертывание с помощью Visual Studio: свойства проекта | Документация Майкрософт'
author: tdykstra
description: В этой серии руководств показано, как развернуть (опубликовать) веб-приложение ASP.NET в веб-приложениях службы приложений Azure или поставщике услуг размещения стороннего поставщика, Усин...
ms.author: riande
ms.date: 02/15/2013
ms.assetid: ec1cec4c-a75f-47af-a2ba-b1e2f971d24b
msc.legacyurl: /web-forms/overview/deployment/visual-studio-web-deployment/project-properties
msc.type: authoredcontent
ms.openlocfilehash: b2811791a897c9166f6222c23dddc6921e5267ab
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2019
ms.locfileid: "74614944"
---
# <a name="aspnet-web-deployment-using-visual-studio-project-properties"></a><span data-ttu-id="c5245-103">ASP.NET веб-развертывание с помощью Visual Studio: свойства проекта</span><span class="sxs-lookup"><span data-stu-id="c5245-103">ASP.NET Web Deployment using Visual Studio: Project Properties</span></span>

<span data-ttu-id="c5245-104">от [Tom Dykstra)](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="c5245-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="c5245-105">Скачать начальный проект</span><span class="sxs-lookup"><span data-stu-id="c5245-105">Download Starter Project</span></span>](https://go.microsoft.com/fwlink/p/?LinkId=282627)

> <span data-ttu-id="c5245-106">В этой серии руководств показано, как развернуть (опубликовать) веб-приложение ASP.NET в веб-приложениях службы приложений Azure или поставщике услуг размещения стороннего поставщика с помощью Visual Studio 2012 или Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="c5245-106">This tutorial series shows you how to deploy (publish) an ASP.NET web application to Azure App Service Web Apps or to a third-party hosting provider, by using Visual Studio 2012 or Visual Studio 2010.</span></span> <span data-ttu-id="c5245-107">Сведения о ряде см. в [первом руководстве по ряду](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="c5245-107">For information about the series, see [the first tutorial in the series](introduction.md).</span></span>

## <a name="overview"></a><span data-ttu-id="c5245-108">Обзор</span><span class="sxs-lookup"><span data-stu-id="c5245-108">Overview</span></span>

<span data-ttu-id="c5245-109">Некоторые параметры развертывания настраиваются в свойствах проекта, которые хранятся в файле проекта (файл *. csproj* или *. vbproj* ).</span><span class="sxs-lookup"><span data-stu-id="c5245-109">Some deployment options are configured in project properties that are stored in the project file (the *.csproj* or *.vbproj* file).</span></span> <span data-ttu-id="c5245-110">В большинстве случаев значения этих параметров по умолчанию нужны, но можно использовать пользовательский интерфейс **свойств проекта** , встроенный в Visual Studio, для работы с этими параметрами, если необходимо их изменить.</span><span class="sxs-lookup"><span data-stu-id="c5245-110">In most cases, the default values of these settings are what you want, but you can use the **Project Properties** UI built into Visual Studio to work with these settings if you have to change them.</span></span> <span data-ttu-id="c5245-111">В этом учебнике вы просматриваете параметры развертывания в **свойствах проекта**.</span><span class="sxs-lookup"><span data-stu-id="c5245-111">In this tutorial you review the deployment settings in **Project Properties**.</span></span> <span data-ttu-id="c5245-112">Также создается файл-заполнитель, который вызывает развертывание пустой папки.</span><span class="sxs-lookup"><span data-stu-id="c5245-112">You also create a placeholder file that causes an empty folder to be deployed.</span></span>

## <a name="configure-deployment-settings-in-the-project-properties-window"></a><span data-ttu-id="c5245-113">Настройка параметров развертывания в окне "Свойства проекта"</span><span class="sxs-lookup"><span data-stu-id="c5245-113">Configure deployment settings in the project properties window</span></span>

<span data-ttu-id="c5245-114">Большинство параметров, влияющих на то, что происходит во время развертывания, включаются в профиль публикации, как показано в следующих учебниках.</span><span class="sxs-lookup"><span data-stu-id="c5245-114">Most settings that affect what happens during deployment are included in the publish profile, as you'll see in the following tutorials.</span></span> <span data-ttu-id="c5245-115">Некоторые параметры, о которых следует помнить, находятся на вкладках **Пакет/Публикация** окна **Свойства проекта** .</span><span class="sxs-lookup"><span data-stu-id="c5245-115">A few settings that you should be aware of are located in the **Package/Publish** tabs of the **Project Properties** window.</span></span> <span data-ttu-id="c5245-116">Эти параметры задаются для каждой конфигурации сборки, то есть могут иметь разные параметры для сборки выпуска, чем для отладочной сборки.</span><span class="sxs-lookup"><span data-stu-id="c5245-116">These settings are specified for each build configuration — that is, you can have different settings for a Release build than you have for a Debug build.</span></span>

<span data-ttu-id="c5245-117">В **Обозреватель решений**щелкните правой кнопкой мыши проект **ContosoUniversity** , выберите пункт **Свойства**, а затем перейдите на вкладку **Пакет/Публикация веб-сайта** .</span><span class="sxs-lookup"><span data-stu-id="c5245-117">In **Solution Explorer**, right-click the **ContosoUniversity** project, select **Properties**, and then select the **Package/Publish Web** tab.</span></span>

![Вкладка "Упаковка и публикация веб-проекта"](project-properties/_static/image1.png)

<span data-ttu-id="c5245-119">Когда окно отображается, оно по умолчанию отображает параметры конфигурации сборки, которая в настоящее время активна для решения.</span><span class="sxs-lookup"><span data-stu-id="c5245-119">When the window is displayed, it defaults to showing settings for whichever build configuration is currently active for the solution.</span></span> <span data-ttu-id="c5245-120">Если в поле **Конфигурация** не указано значение **активно (выпуск)** , выберите **выпуск** , чтобы отобразить параметры конфигурации сборки выпуска.</span><span class="sxs-lookup"><span data-stu-id="c5245-120">If the **Configuration** box does not indicate **Active (Release)**, select **Release** in order to display settings for the Release build configuration.</span></span> <span data-ttu-id="c5245-121">Сборки выпуска развертываются как в тестовой, так и в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="c5245-121">You'll deploy Release builds to both your test and production environments.</span></span>

![Выбор конфигурации сборки выпуска](project-properties/_static/image2.png)

<span data-ttu-id="c5245-123">Выбрав **Активный (выпуск)** или **выпуск** , вы увидите значения, действующие при развертывании с использованием конфигурации сборки выпуска.</span><span class="sxs-lookup"><span data-stu-id="c5245-123">With **Active (Release)** or **Release** selected, you see the values that are effective when you deploy using the Release build configuration:</span></span>

- <span data-ttu-id="c5245-124">В поле **элементы для развертывания** выбраны **только файлы, необходимые для запуска приложения** .</span><span class="sxs-lookup"><span data-stu-id="c5245-124">In the **Items to deploy** box, **Only files needed to run the application** is selected.</span></span> <span data-ttu-id="c5245-125">Другие параметры — **все файлы в этом проекте** или **все файлы в этой папке проекта**.</span><span class="sxs-lookup"><span data-stu-id="c5245-125">Other options are **All files in this project** or **All files in this project folder**.</span></span> <span data-ttu-id="c5245-126">При отсутствии неизменного выбора по умолчанию не следует развертывать файлы исходного кода, например.</span><span class="sxs-lookup"><span data-stu-id="c5245-126">By leaving the default selection unchanged you avoid deploying source code files, for example.</span></span> <span data-ttu-id="c5245-127">Этот параметр является причиной, по которой папки, содержащие двоичные файлы SQL Server Compact, должны быть включены в проект.</span><span class="sxs-lookup"><span data-stu-id="c5245-127">This setting is the reason why the folders that contain the SQL Server Compact binary files had to be included in the project.</span></span> <span data-ttu-id="c5245-128">Дополнительные сведения об этом параметре см. в разделе **почему не все файлы в папке проекта развертываются?** в разделе [часто задаваемые вопросы о развертывании проекта веб-приложения ASP.NET](https://msdn.microsoft.com/library/ee942158.aspx).</span><span class="sxs-lookup"><span data-stu-id="c5245-128">For more information about this setting, see **Why don't all of the files in my project folder get deployed?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/library/ee942158.aspx).</span></span>
- <span data-ttu-id="c5245-129">Выбрано **исключение созданных отладочных символов** .</span><span class="sxs-lookup"><span data-stu-id="c5245-129">**Exclude generated debug symbols** is selected.</span></span> <span data-ttu-id="c5245-130">При использовании этой конфигурации сборки отладка не будет выполняться.</span><span class="sxs-lookup"><span data-stu-id="c5245-130">You won't be debugging when you use this build configuration.</span></span>
- <span data-ttu-id="c5245-131">Выбрана **вкладка включить все базы данных, настроенные на вкладке Пакет/Публикация SQL** .</span><span class="sxs-lookup"><span data-stu-id="c5245-131">**Include all databases configured in Package/Publish SQL tab** is selected.</span></span> <span data-ttu-id="c5245-132">Указывает, будет ли Visual Studio развертывать базы данных и файлы.</span><span class="sxs-lookup"><span data-stu-id="c5245-132">Specifies whether Visual Studio will deploy databases as well as files.</span></span> <span data-ttu-id="c5245-133">Несмотря на то, что метка флажка упоминает только вкладку **Пакет/Публикация SQL** , снятие этого флажка также приведет к отключению развертывания базы данных, настроенного в профиле публикации.</span><span class="sxs-lookup"><span data-stu-id="c5245-133">Although the check box label only mentions the **Package/Publish SQL** tab, clearing this check box would also disable database deployment that is configured in the publish profile.</span></span> <span data-ttu-id="c5245-134">Это будет сделано позже, поэтому флажок должен остаться установленным.</span><span class="sxs-lookup"><span data-stu-id="c5245-134">You will be doing that later, so the check box must remain selected.</span></span> <span data-ttu-id="c5245-135">Вкладка **Пакет/Публикация SQL** используется для устаревшего метода публикации базы данных, который не используется в этих учебниках.</span><span class="sxs-lookup"><span data-stu-id="c5245-135">The **Package/Publish SQL** tab is used for a legacy database publishing method that you won't be using in these tutorials.</span></span>
- <span data-ttu-id="c5245-136">Раздел **параметров пакета веб-развертывания** не применяется, так как вы используете публикацию одним щелчком в этих руководствах.</span><span class="sxs-lookup"><span data-stu-id="c5245-136">The **Web Deployment Package Settings** section does not apply because you're using one-click publish in these tutorials.</span></span>

<span data-ttu-id="c5245-137">Измените раскрывающийся список **Конфигурация** на отладку, чтобы увидеть параметры по умолчанию для отладочных сборок.</span><span class="sxs-lookup"><span data-stu-id="c5245-137">Change the **Configuration** drop-down box to Debug to see the default settings for Debug builds.</span></span> <span data-ttu-id="c5245-138">Значения одинаковы, за исключением случаев, когда **исключены созданные отладочные символы** , которые можно отлаживать при развертывании отладочной сборки.</span><span class="sxs-lookup"><span data-stu-id="c5245-138">The values are the same, except **Exclude generated debug symbols** is cleared so that you can debug when you deploy a Debug build.</span></span>

## <a name="make-sure-that-the-elmah-folder-gets-deployed"></a><span data-ttu-id="c5245-139">Убедитесь, что папка ELMAH развернута</span><span class="sxs-lookup"><span data-stu-id="c5245-139">Make sure that the Elmah folder gets deployed</span></span>

<span data-ttu-id="c5245-140">Как было показано в предыдущем учебном курсе, [пакет NuGet для ELMAH](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx) предоставляет функциональные возможности для ведения журнала ошибок и создания отчетов.</span><span class="sxs-lookup"><span data-stu-id="c5245-140">As you saw in the previous tutorial, the [Elmah NuGet package](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx) provides functionality for error logging and reporting.</span></span> <span data-ttu-id="c5245-141">В приложении университета Contoso для университетов настроено хранение сведений об ошибках в папке с именем *ELMAH*:</span><span class="sxs-lookup"><span data-stu-id="c5245-141">In the Contoso University application Elmah has been configured to store error details in a folder named *Elmah*:</span></span>

![Папка ELMAH](project-properties/_static/image3.png)

<span data-ttu-id="c5245-143">Исключением некоторых файлов или папок из развертывания является обычное требование. Другим примером может быть папка, в которую пользователи могут отправлять файлы.</span><span class="sxs-lookup"><span data-stu-id="c5245-143">Excluding specific files or folders from deployment is a common requirement; another example would be a folder that users can upload files to.</span></span> <span data-ttu-id="c5245-144">Вы не хотите, чтобы файлы журнала или загруженные файлы, созданные в среде разработки, были развернуты в рабочей версии.</span><span class="sxs-lookup"><span data-stu-id="c5245-144">You don't want log files or uploaded files that were created in your development environment to be deployed to production.</span></span> <span data-ttu-id="c5245-145">Если вы развертываете обновление в рабочей среде, вы не хотите, чтобы процесс развертывания удалил файлы, которые существуют в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="c5245-145">And if you are deploying an update to production you don't want the deployment process to delete files that exist in production.</span></span> <span data-ttu-id="c5245-146">(В зависимости от настройки параметра развертывания, если файл существует на целевом сайте, но не на исходном сайте при развертывании, веб-развертывание удаляет его из назначения.)</span><span class="sxs-lookup"><span data-stu-id="c5245-146">(Depending on how you set a deployment option, if a file exists in the destination site but not the source site when you deploy, Web Deploy deletes it from the destination.)</span></span>

<span data-ttu-id="c5245-147">Как было показано ранее в этом учебнике, для параметра **элементы для развертывания** на вкладке **Пакет/Публикация веб-сайта** задаются **только файлы, необходимые для запуска приложения**.</span><span class="sxs-lookup"><span data-stu-id="c5245-147">As you saw earlier in this tutorial, the **Items to deploy** option in the **Package/Publish Web** tab is set to **Only Files Needed to run this application**.</span></span> <span data-ttu-id="c5245-148">В результате файлы журнала, созданные ELMAH в разработке, не будут развернуты, что нужно сделать.</span><span class="sxs-lookup"><span data-stu-id="c5245-148">As a result, log files that are created by Elmah in development will not be deployed, which is what you want to happen.</span></span> <span data-ttu-id="c5245-149">(Для развертывания они должны быть добавлены в проект, а свойство **действия построения** должно быть установлено в **содержимое**.</span><span class="sxs-lookup"><span data-stu-id="c5245-149">(To be deployed, they would have to be included in the project and their **Build Action** property would have to be set to **Content**.</span></span> <span data-ttu-id="c5245-150">Дополнительные сведения см. в разделе **почему не все файлы в папке проекта развертываются?** в разделе [часто задаваемые вопросы о развертывании проекта веб-приложения ASP.NET](https://msdn.microsoft.com/library/ee942158.aspx).</span><span class="sxs-lookup"><span data-stu-id="c5245-150">For more information, see **Why don't all of the files in my project folder get deployed?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/library/ee942158.aspx)).</span></span> <span data-ttu-id="c5245-151">Однако веб-развертывание не создаст папку на целевом сайте, если не существует хотя бы один файл для копирования.</span><span class="sxs-lookup"><span data-stu-id="c5245-151">However, Web Deploy will not create a folder in the destination site unless there's at least one file to copy to it.</span></span> <span data-ttu-id="c5245-152">Таким образом, вы добавите в папку *txt* -файл, который будет использоваться в качестве заполнителя для копирования папки.</span><span class="sxs-lookup"><span data-stu-id="c5245-152">Therefore, you'll add a *.txt* file to the folder to act as a placeholder so that the folder will be copied.</span></span>

<span data-ttu-id="c5245-153">В **Обозреватель решений**щелкните правой кнопкой мыши папку *ELMAH* , выберите **Добавить новый элемент**и создайте текстовый файл с именем *PlaceHolder. txt*.</span><span class="sxs-lookup"><span data-stu-id="c5245-153">In **Solution Explorer**, right-click the *Elmah* folder, select **Add New Item**, and create a text file named *Placeholder.txt*.</span></span> <span data-ttu-id="c5245-154">Вставьте в него следующий текст: "это файл-заполнитель, который обеспечивает развертывание папки".</span><span class="sxs-lookup"><span data-stu-id="c5245-154">Put the following text in it: "This is a placeholder file to ensure that the folder gets deployed."</span></span> <span data-ttu-id="c5245-155">и сохраните файл.</span><span class="sxs-lookup"><span data-stu-id="c5245-155">and save the file.</span></span> <span data-ttu-id="c5245-156">Это все, что нужно сделать, чтобы убедиться, что Visual Studio развертывает этот файл и папку, в которой он находится, так как свойство **действия сборки** *txt* -файлов по умолчанию имеет значение **Content** .</span><span class="sxs-lookup"><span data-stu-id="c5245-156">That's all you have to do in order to make sure that Visual Studio deploys this file and the folder it's in, because the **Build Action** property of *.txt* files is set to **Content** by default.</span></span>

## <a name="summary"></a><span data-ttu-id="c5245-157">Сводка</span><span class="sxs-lookup"><span data-stu-id="c5245-157">Summary</span></span>

<span data-ttu-id="c5245-158">Теперь все задачи по настройке развертывания завершены.</span><span class="sxs-lookup"><span data-stu-id="c5245-158">You have now completed all of the deployment set-up tasks.</span></span> <span data-ttu-id="c5245-159">В следующем руководстве вы развернете сайт университета Contoso в тестовой среде и протестируете его.</span><span class="sxs-lookup"><span data-stu-id="c5245-159">In the next tutorial, you'll deploy the Contoso University site to the test environment and test it there.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="c5245-160">[Назад](web-config-transformations.md)
> [Вперед](deploying-to-iis.md)</span><span class="sxs-lookup"><span data-stu-id="c5245-160">[Previous](web-config-transformations.md)
[Next](deploying-to-iis.md)</span></span>
