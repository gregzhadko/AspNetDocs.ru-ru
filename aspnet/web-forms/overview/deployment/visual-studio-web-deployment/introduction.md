---
uid: web-forms/overview/deployment/visual-studio-web-deployment/introduction
title: Веб-развертывание ASP.NET с помощью Visual Studio. Введение | Документация Майкрософт
author: tdykstra
description: В этой серии руководств показано, как развернуть ASP.NET (публикации) веб-приложения в веб-приложениях службы приложений Azure или стороннего поставщика услуг размещения, по с помощью V...
ms.author: riande
ms.date: 02/15/2013
ms.assetid: 24ad086d-865e-433c-9ac9-05f1a553da16
msc.legacyurl: /web-forms/overview/deployment/visual-studio-web-deployment/introduction
msc.type: authoredcontent
ms.openlocfilehash: a227f6564607ed9e909fc4d6297d7370f8fb62b5
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57057661"
---
<a name="aspnet-web-deployment-using-visual-studio-introduction"></a>Веб-развертывание ASP.NET с помощью Visual Studio. Вступление
====================
по [том Дайкстра](https://github.com/tdykstra)

[Загрузите начальный проект](http://go.microsoft.com/fwlink/p/?LinkId=282627)

> В этой серии руководств показано, как развернуть ASP.NET (публикации) веб-приложения в веб-приложениях службы приложений Azure или стороннего поставщика услуг размещения, по с помощью Visual Studio 2012 с пакетом Azure SDK для .NET. Большая часть процедуры одинаковы для Visual Studio 2013.
> 
> Разрабатываемых веб-приложение, чтобы сделать его доступным для пользователей через Интернет. Но веб-программирования учебники обычно останавливается сразу после установки, они показали, как то или иное действие работа на компьютере разработчика. Этой серии руководств начинается, где другие не указываете: созданные веб-приложения, протестировали его, и она будет готова к работе. Что дальше? В этих учебниках показано, как сначала развернуть службы IIS на локальном компьютере для разработки для тестирования, а затем в Azure или стороннего поставщика услуг размещения для промежуточной и рабочей. Образец приложения, который используется для развертывания является проект веб-приложения, использующий Entity Framework, SQL Server и система членства ASP.NET. В примере приложения используется веб-форм ASP.NET, но приведенных также применяются для ASP.NET MVC и веб-API.
> 
> В этих учебниках предполагается, что вы знаете, как для работы с ASP.NET в Visual Studio. Если этого не сделать, — хорошее начало [ASP.NET Web Forms учебник по основам](../../older-versions-getting-started/tailspin-spyworks/tailspin-spyworks-part-1.md) или [основам ASP.NET MVC](../../../../mvc/overview/older-versions/getting-started-with-aspnet-mvc4/intro-to-aspnet-mvc-4.md).
> 
> Если у вас есть вопросы, которые не имеют отношения к руководству, их можно разместить [форум, посвященный развертыванию ASP.NET](https://forums.asp.net/26.aspx/1?Configuration+and+Deployment) или [StackOverflow](http://stackoverflow.com).
> 
> Это содержимое также доступно как бесплатная электронная книга в [коллекции TechNet электронную книгу](https://social.technet.microsoft.com/wiki/contents/articles/11608.e-book-gallery-for-microsoft-technologies.aspx#ASPNETWebDeploymentusingVisualStudio).


## <a name="overview"></a>Обзор

В этих учебниках по развертыванию веб-приложение ASP.NET, который включает в себя базы данных SQL Server. Вы развернете сначала IIS на локальном компьютере для разработки для тестирования, а затем в веб-приложения в службе приложений Azure и базы данных SQL Azure для промежуточного хранения и рабочей среде. Вы узнаете, как развертывание с помощью Visual Studio, публикация одним щелчком, и вы узнаете, как развертывание с помощью командной строки.

Количество руководства может стать пугать процесса развертывания. На самом деле основные процедуры всегда простой. Тем не менее, в реальных ситуациях часто требуется выполнить дополнительные развертывания задачи — например, установка разрешений для папок на целевом сервере. Мы показаны некоторые из этих дополнительных задач в надежде, учебники не указывайте сведения, которые могут препятствовать успешному развертыванию реальных приложений.

Учебники предназначены для запуска в последовательности, и каждая часть на предыдущей части. Вы можете пропустить части, которые не относятся к вашей ситуации, но затем может потребоваться установить процедуры, описанные в последующих руководствах.

## <a name="intended-audience"></a>Целевая аудитория

Учебники предназначены для разработчиков ASP.NET, работающих в средах, где:

- В рабочей среде — это служба веб-приложений Azure или стороннего поставщика услуг размещения.
- Развертывание не ограничивается процесс непрерывной интеграции, но может быть выполнено непосредственно из Visual Studio.

Развертывание из [система управления версиями](../../../../aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control.md) с помощью [непрерывной поставки](../../../../aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery.md) не рассматривается процесс в этих учебниках, за исключением одного учебник, в котором показано, как выполнить развертывание из командной строки. Сведения о непрерывной доставке см. следующие ресурсы:

- [Непрерывная интеграция и непрерывная поставка (Создание реальных облачных приложений с помощью Windows Azure)](../../../../aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery.md)
- [Развертывание веб-приложения в службе приложений Azure](https://azure.microsoft.com/documentation/articles/web-sites-deploy/)
- [Развертывание веб-приложений в корпоративных сценариях](../deploying-web-applications-in-enterprise-scenarios/deploying-web-applications-in-enterprise-scenarios.md) (старые набор учебников, написанные для Visual Studio 2010, который по-прежнему есть полезные сведения для корпоративных сред.)

## <a name="using-a-third-party-hosting-provider"></a>С помощью стороннего поставщика услуг размещения

Учебники помогут выполнить процесс установки учетная запись Azure и развертывание приложения в веб-приложения в службе приложений Azure для промежуточного хранения и рабочей среде. Тем не менее можно использовать те же основные процедуры развертывания стороннего поставщика услуг размещения по своему усмотрению. Там, где учебники осуществляются через процессы уникальным в Azure, они объяснить и уведомить какие различия, предполагается, что у стороннего поставщика размещения.

## <a name="deploying-web-app-projects"></a>Развертывание веб-приложения проектов

Образец приложения, который можно загрузить и установить для этих учебников — это проект Visual Studio веб-приложения. Тем не менее если вы установите последнюю версию [обновление веб-публикации для Visual Studio](https://msdn.microsoft.com/tr-tr/library/jj161045.aspx), можно использовать те же методы развертывания и средства для проектов веб-приложения.

## <a name="deploying-aspnet-mvc-projects"></a>Развертывание проектов ASP.NET MVC

Пример приложения — это проект с веб-форм ASP.NET, но все, что вы узнаете, как сделать также применимо к ASP.NET MVC. Проект Visual Studio MVC — просто еще одной формой проекта веб-приложения. Единственное отличие заключается в том, что при развертывании для поставщика услуг размещения, который не поддерживает ASP.NET MVC или требуемой версии его, необходимо убедиться в том что вы установили соответствующий ([MVC 3](http://nuget.org/packages/AspNetMvc/3.0.20105.0), [MVC 4](http://www.nuget.org/packages/Microsoft.AspNet.Mvc/4.0.30506.0) или [MVC 5](http://www.nuget.org/packages/Microsoft.AspNet.Mvc)) пакета NuGet в проект.

## <a name="programming-language"></a>Язык программирования

В примере приложения используется C#, но руководства не требуется знание C# и методы развертывания, представленные в учебниках не зависят от конкретного языка.

## <a name="database-deployment-methods"></a>Методы развертывания базы данных

Существует три способа, можно развернуть базу данных SQL Server вместе с веб-развертывания в Visual Studio:

- Entity Framework Code First Migrations
- Поставщик dbDacFx веб-развертывания
- Поставщик веб-развертывания dbFullSql

В этом руководстве вы воспользуетесь первые два из этих методов. Поставщик веб-развертывания dbFullSql является устаревший метод, который больше не рекомендуется за исключением некоторых конкретных сценариях, например миграция из SQL Server Compact в SQL Server.

Методы, представленные в этом руководстве предназначены для баз данных SQL Server, не SQL Server Compact. Сведения о том, как развернуть базу данных SQL Server Compact, см. в разделе [Visual Studio Web развертывания с помощью SQL Server Compact](../../older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-introduction-1-of-12.md).

Методы, представленные в этом руководстве, требуют использования веб-развертывания метода публикации. Если вы предпочитаете другой метод, таких как FTP, файловая система или FPSE, публикации см. в разделе [развертывание базы данных отдельно от развертывания веб-приложений](https://go.microsoft.com/fwlink/p/?LinkId=282413#databaseseparate) в веб-развертывания содержимого карты для Visual Studio и ASP.NET.

### <a name="entity-framework-code-first-migrations"></a>Entity Framework Code First Migrations

В Entity Framework версии 4.3 Корпорация Майкрософт представила Code First Migrations. Code First Migrations автоматизирует процесс вносить добавочные изменения в модель данных и распространение этих изменений в базу данных. В более ранних версиях Code First обычно позволяют удалить и повторно создать базы данных каждый раз при изменении модели данных Entity Framework. Это не проблема в разработке, поскольку тестовые данные легко воссоздать, но в рабочей среде обычно требуется обновить схему базы данных без удаления базы данных. Функция миграций позволяет Code First для обновления базы данных без удаления и повторного создания. Можно позволить Code First автоматически выбрать способ внесения необходимых изменений схемы, или можно написать код, который настраивает изменения. Введение в Code First Migrations, см. в разделе [Code First Migrations](https://msdn.microsoft.com/library/hh770484.aspx).

При развертывании веб-проекта Visual Studio можно автоматизировать процесс развертывания базы данных, которая находится под управлением Code First Migrations. При создании профиля публикации, установить флажок, которая отмечена выполнить Code First Migrations (при запуске приложения). Этот параметр задан, то процесс развертывания, чтобы автоматически настроить файл Web.config приложения на целевом сервере таким образом, Code First использовал `MigrateDatabaseToLatestVersion` инициализатор класса.

Visual Studio не выполняет никаких действий с базой данных во время развертывания. Когда развернутое приложение обращается к базе данных в первый раз после развертывания, Code First автоматически создает базу данных или обновляет схему базы данных до последней версии. Если приложение реализует метод начальное значение миграций, метод выполняется после создания или обновления схемы.

В этом руководстве используется Code First Migrations для развертывания базы данных приложения.

### <a name="the-dbdacfx-web-deploy-provider"></a>Поставщик dbDacFx веб-развертывания

Для базы данных SQL Server, который не управляется с помощью Entity Framework Code First можно выбрать типа "флажок" с меткой обновления базы данных при настройке профиля публикации. Во время первоначального развертывания поставщик dbDacFx создает таблицы и другие объекты базы данных в целевой базе данных в соответствии с базы данных-источника. В последующих развертываниях поставщик определяет отличия между базами данных источника и назначения, и обновляет схему целевой базы данных в соответствии с базы данных-источника. По умолчанию поставщик не внесите необходимые изменения приведет к потере данных, например при удалении таблицы или столбца.

Этот метод не нужно автоматизировать развертывание данных в таблицах базы данных, но вы можете создавать сценарии для этого и настройки Visual Studio для выполнения их во время развертывания. Еще одна причина для запуска скриптов во время развертывания — для внесения изменений схемы, которые не может выполняться автоматически, так как они могут привести к потере данных.

В этом руководстве вы используете поставщик dbDacFx для развертывания базы данных членства ASP.NET.

## <a name="troubleshooting-during-this-tutorial"></a>Устранение неполадок с помощью этого учебника

При возникновении ошибки во время развертывания или неправильно работает развернутого веб-сайта, сообщения об ошибках не всегда обеспечивают очевидным решением. Для некоторых распространенных проблем, [Устранение неполадок справочной странице](troubleshooting.md) доступен. Если вы получаете сообщение об ошибке, или что-то не работает, как просмотреть в руководствах, обязательно обратитесь к странице устранения неполадок.

## <a name="comments-welcome"></a>Вас приветствует комментарии

Комментарии на учебники, принимаются, и при обновлении учебника с весовым коэффициентом учетной записи исправлений или предложений по улучшениям, которые приведены в руководстве комментарии будут внесены все усилия.

<a id="prerequisites"></a>

## <a name="prerequisites"></a>Предварительные требования

Этот учебник написан для следующих продуктов:

- Windows 8 или Windows 7.
- Visual Studio 2012 или Visual Studio 2012 Express для Web с [последнее обновление](https://go.microsoft.com/fwlink/?LinkId=272486).
- [Пакет Azure SDK для Visual Studio 2012](https://go.microsoft.com/fwlink/?LinkId=254364)

Можно следовать учебнику с помощью Visual Studio 2010 с пакетом обновления 1 или Visual Studio 2013, но некоторые снимки экрана будут отличаться и некоторые функции будут отличаться.

Если вы используете Visual Studio 2013, установите [пакет Azure SDK для Visual Studio 2013](https://go.microsoft.com/fwlink/?LinkID=324322).

Если вы используете Visual Studio 2010 SP1, установите следующее программное обеспечение:

- [Пакет Azure SDK для Visual Studio 2010](https://go.microsoft.com/fwlink/?LinkID=254269)
- [SQL Server Express LocalDB](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=SQLLocalDBOnly_11_0)
- [SQL Server Data Tools](https://msdn.microsoft.com/library/hh500335.aspx).

В зависимости от того, сколько зависимостей пакета SDK у вас уже есть на вашем компьютере установка пакета SDK для Azure может занять много времени, от нескольких минут до получаса или более. Требуется пакет SDK Azure, даже если вы планируете опубликовать для стороннего поставщика услуг размещения вместо в Azure, так как пакет SDK включает последние обновления Visual Studio веб-публикации функции.

> [!NOTE]
> Этот учебник написан с помощью пакета Azure SDK версии 1.8.1. С тех пор были выпущены новые версии с помощью дополнительных функций. Учебники были обновлены для упоминания этих функций и ссылка на ресурсы, имеющие Дополнительные сведения о них.


Инструкции и снимки экрана основаны на Windows 8, однако учебники объясняются различия для Windows 7.

Для работы с этим руководством требуется другое программное обеспечение, но вам не потребуется, установлен на компьютере. Руководство поможет выполнить шаги для его установки, когда это потребуется.

## <a name="download-the-sample-application"></a>Загрузить пример приложения

Приложение, которое используется для развертывания называется университета Contoso и уже создан для вас. Это упрощенная версия веб-сайт университета, слабо зависимости от приложения университета Contoso, описанного в [Entity Framework учебники на сайте ASP.NET](https://asp.net/entity-framework/tutorials).

Если у вас есть необходимые компоненты, скачайте [веб-приложение университета Contoso](https://go.microsoft.com/fwlink/p/?LinkId=282627). *ZIP-файл* файл содержит несколько версий проекта. Для выполнения шагов этого руководства, начните с проекта, расположенный в папке C#. Чтобы увидеть, что проект будет выглядеть в конце руководства, откройте проект в папке ContosoUniversity-End.

Чтобы подготовить проект для выполнения инструкции из учебника, выполните следующие действия:

1. Сохраните файлы ContosoUniversity решения из папки в папку с именем ContosoUniversity в любую папку, можно использовать для работы с проектами Visual Studio.

    По умолчанию это папке для Visual Studio 2012:

    `C:\Users\<username>\Documents\Visual Studio 2012\Projects`

    (Для снимков экрана в этом руководстве, в папку проекта находится в корневом каталоге на `C`: диск.)
2. Запустите Visual Studio и откройте проект.
3. В **обозревателе решений**, щелкните правой кнопкой мыши решение и нажмите кнопку **восстановление пакета EnableNuGet**.
4. Постройте решение.
5. Если возникают ошибки компиляции, необходимо вручную восстановите пакеты NuGet:

    1. В **обозревателе решений**, щелкните правой кнопкой мыши решение и нажмите кнопку **управление пакетами NuGet для решения**.
    2. В верхней части **управление пакетами NuGet** диалоговое окно, вы увидите **отсутствуют пакеты NuGet, некоторые из этого решения. Щелкните для восстановления.** Нажмите кнопку **восстановить** кнопки.
    3. Выполните повторную сборку решения.
6. Нажмите клавиши CTRL + F5, чтобы запустить приложение.

    Приложение откроется домашняя страница университета Contoso.

    ![Домашняя страница разработки](introduction/_static/image1.png)

    (Возможно, время ожидания при запуске экземпляра SQL Server Express LocalDB Visual Studio и может дать ошибку времени ожидания, процесс занимает слишком много времени. В этом случае просто запустите проект еще раз.)

На страницах веб-сайта доступны в строке меню и позволяют выполнять следующие функции:

- Отображение статистики учащихся (Обзорная страница).
- Отображение, изменение, удаление и добавьте учащихся.
- Отображения и редактирования курсов.
- Отображения и редактирования преподавателей.
- Отображать и редактировать отделов.

Ниже приведены снимки экрана в несколько репрезентативных страниц.

![Страница разработки учащихся](introduction/_static/image2.png)

![Добавить страницу разработки учащихся](introduction/_static/image3.png)

## <a name="review-application-features-that-affect-deployment"></a>Ознакомьтесь с функциями приложения, влияющие на развертывание

Следующие функции приложения влияют на развертывания или что необходимо сделать, чтобы развернуть его. Каждый из них описан более подробно в следующих руководствах серии.

- Университета Contoso использует базу данных SQL Server для хранения данных приложения, такие как имена student и instructor. База данных содержит сочетание тестовых данных и рабочих данных, и при развертывании в рабочей среде необходимо исключить данные теста.
- Приложение использует система членства ASP.NET, где хранятся данные учетной записи пользователя в базе данных SQL Server. Приложение определяет, кто имеет доступ к некие закрытые сведения пользователя-администратора. Необходимо выполнить развертывание в базу данных членства без тестовых учетных записей, но с учетной записью администратора.
- Приложение использует ошибку сторонних ведения журналов и отчетности служебной программы. Эта служебная программа в сборке, которая должны быть развернуты вместе с приложением.
- Ошибка программы ведения журнала записывает сведения об ошибке в XML-файлах в папке файлов. У вас есть убедитесь, что учетная запись, под которым выполняется ASP.NET развернутого веб-сайта имеет разрешение на запись в эту папку, что вам нужно исключить эту папку из развертывания. (В противном случае данные журнала об ошибках из тестовой среды можно развернуть в рабочей среде и/или файлов журнала ошибок в рабочей среде могут быть удалены.)
- Приложение включает в себя некоторые параметры, которые должны быть изменены в развернутой *Web.config* файла в зависимости от целевой среде (тестовой, промежуточной или производственной) и другие параметры, которые должны быть изменены в зависимости от сборки Конфигурация (Отладка или выпуск).
- Решение Visual Studio включает в себя проект библиотеки классов. Должны развертываться только сборки, который создает этот проект, не сам проект.

## <a name="summary"></a>Сводка

В этом первом учебнике серии вы загрузили пример проекта Visual Studio и просмотреть компоненты веб-сайтов, которые влияют на способ развертывания приложения. В следующих учебниках вы подготовиться к развертыванию, настроив некоторые из этих процессов обрабатываться автоматически. Другие позволяет устранить вручную.

> [!div class="step-by-step"]
> [Вперед](preparing-databases.md)
