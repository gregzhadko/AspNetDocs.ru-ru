---
uid: web-forms/overview/moving-to-aspnet-20/improvements-in-visual-studio-2005
title: Улучшения в визуальной студии 2005 (ru) Документы Майкрософт
author: rick-anderson
description: Visual Studio 2005 предоставляет разработчикам веб-приложений длинный список улучшений и усовершенствований для веб-проектов.
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 72d90cd0-b3d9-454c-b2eb-ed0d9812f32c
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/improvements-in-visual-studio-2005
msc.type: authoredcontent
ms.openlocfilehash: e98771614bf4e0095f8ff596e7cdb26c8c9de1ad
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2020
ms.locfileid: "81542993"
---
# <a name="improvements-in-visual-studio-2005"></a>Усовершенствования в Visual Studio 2005

[корпорацией Майкрософт](https://github.com/microsoft)

> Visual Studio 2005 предоставляет разработчикам веб-приложений длинный список улучшений и усовершенствований для веб-проектов.

Visual Studio 2005 предоставляет разработчикам веб-приложений длинный список улучшений и усовершенствований для веб-проектов. Как мощный, как Visual Studio .NET 2002 и 2003 являются, было много жалоб в том, как веб-проекты были обработаны. Visual Studio 2005 добавляет значительное количество новых функций для решения этих жалоб. Для тех, кто предпочитает способ, которым Visual Studio .NET 2003 обрабатывается компиляция веб-приложений, см [веб-приложений проектов](https://go.microsoft.com/fwlink/?LinkId=57870).

В этом модуле хорошо рассмотрим улучшения в создании веб-проектов, управлении и разработке. В более позднем модуле хорошо освещайте улучшения в создании веб-проектов и развертывании их.

## <a name="frontpage-server-extensions"></a>Расширения сервера FrontPage

Visual Studio .NET 2002 и 2003 требовала расширения сервера FrontPage на коробке для создания или создания веб-проектов. Разработчики имели выбор между двумя различными режимами доступа (FrontPage Server Extensions или режим доступа к файлам), оба использовали FrontPage Server Extensions для выполнения таких задач, как установка корня приложения в IIS и т.д.

Visual Studio 2005 удаляет зависимость от расширения серверов FrontPage для локальных проектов. Visual Studio 2005 теперь получает доступ к метабазе IIS непосредственно вместо использования расширения серверов FrontPage. Visual Studio 2005 также добавляет поддержку FTP, которая позволяет удаленный доступ к проектам, не требуя расширения сервера FrontPage.

Для тех разработчиков, которые хотят использовать расширения сервера FrontPage в своих проектах, эта опция по-прежнему доступна. Однако, основываясь на сильной обратной связи от ASP.NET сообщества разработчиков, это не является требованием.

> [!NOTE]
> Расширения сервера FrontPage по-прежнему необходимы для удаленного создания проекта, открытия и т.д.

## <a name="aspnet-development-server"></a>Сервер ASP.NET Development Server

Visual Studio 2005 поставляется с новым веб-сервером под названием ASP.NET Development Server. (Этот веб-сервер ранее был известен как Cassini.)

Существует несколько преимуществ ASP.NET сервера разработки.

- Теперь неадминистраторы могут разрабатывать и отлаживать веб-сервер.
- ASP.NET Development Server динамически отображает виртуальные каталоги в любое место в файловой системе, что позволяет гибко еместоки проектов.
- Пользователи Windows XP Professional, которые уже используют IIS, теперь смогут создавать новые веб-приложения, которые не повлияют на структуру файлов или папок их веб-сайта по умолчанию в IIS.

Для использования ASP.NET сервера разработки не требуется никакой специальной конфигурации. Когда веб-проект, размещенный в файловой системе, отлажен или просмотрен, Visual Studio 2005 автоматически запускает экземпляр ASP.NET сервера разработки на случайном порту для обслуживания запроса.

Более подробная информация будет рассмотрена на ASP.NET сервера разработки позже в этом модуле.

## <a name="improved-file-management"></a>Улучшенное управление файлами

В Visual Studio 2002 и 2003 файл проекта (.vbproj для VB.NET и .csproj для C) хранит информацию обо всех файлах в веб-приложении. Дисплей Solution Explorer основан на информации о файле в файле проекта. Из-за этого Solution Explorer часто отображает неточную информацию в случаях, когда использовались внешние редакторы. Visual Studio 2002 и 2003 часто перезаписывая изменения файлов или не отображать самую последняя версию файлов.

Visual Studio 2005 покончить с файлом проекта. Вместо этого он считывает информацию о файле и папке непосредственно с диска, что приводит к точному отображению файлов в проекте. Поскольку папка «Ссылки» в Visual Studio 2002 и 2003 не представляет собой фактическую папку в веб-приложении, Visual Studio 2005 также удаляет папку «Ссылки» из Solution Explorer. Чтобы получить доступ к ссылкам для вашего проекта в Visual Studio 2005, вы должны использовать страницы свойств для проекта.

## <a name="creating-web-projects"></a>Создание веб-проектов

Веб-разработчики имеют много новых вариантов для создания проекта в Visual Studio 2005. Веб-сайты теперь могут создаваться в любой точке файловой системы, а затем можно отлажено или просматривать с помощью нового ASP.NET сервера разработки. Разработчики также могут создавать новые веб-сайты с помощью FTP.

Нажмите здесь, чтобы посмотреть видео пошаговоцы создания веб-проектов в Visual Studio 2005.

![](improvements-in-visual-studio-2005/_static/image1.png)

[Открытое полноэкранное видео](improvements-in-visual-studio-2005/_static/creating_projects1.wmv)

### <a name="file-system-projects"></a>Проекты файловой системы

Как вы видели в видео пошаговом уходе, вы можете создать веб-сайты в файловой системе либо на локальной машине, либо в удаленном месте с помощью файла. Веб-сайты, созданные в файловой системе, просматриваются и отлаживаются с помощью сервера ASP.NET разработки.

> [!NOTE]
> Сервер ASP.NET разработки может вызвать некоторую путаницу для клиентов. Если веб-проект создается в файловой системе в структуре каталога IISs (т.е. c:/inetpub/wwwroot), веб-сайт все равно будет просматриваться через сервер ASP.NET развития при запуске из Visual Studio 2005. Таким образом, любая конфигурация IIS (т.е. методы проверки подлинности) не применима.

Веб-проект по умолчанию также удаляет много накладных расходов, включая только страницу Default.aspx, default.cs файл и папку App/_Data. Web.config и специальные папки (т.е. приложение / _code) добавляются по мере необходимости. Ваш веб-проект включает только файлы и папки, которые вам нужны.

### <a name="http-projects"></a>Проекты HTTP

Проекты HTTP могут быть как проектами, созданными на локальном веб-сайте IIS, так и на удаленном веб-узле. Местоположение проекта по `http://localhost`умолчанию . Если вы нажмете кнопку «Просмотр», есть два варианта HTTP: локальный IIS и удаленный сайт. Основным отличием этих двух вариантов является метод, при котором информация о веб-узле отображается в диалоге «Выбрать местоположение» и в том, как файлы копируются на веб-сервер.

Локальный вариант IIS считывает информацию о сайте из метабазы на локальной машине, а файлы копируются с помощью файловой системы. Опция Удаленного сайта использует расширения сервера FrontPage, а информация и файлы сайта копируются с помощью вызовов RPC-расширений серверов HTTP и FrontPage.

> [!NOTE]
> Файл vs/_tmp.htm и получить/_aspx/_ver.aspx больше не используются для определения информации версии.

Опцией HTTP по умолчанию является Локальный IIS. Этот параметр считывает Metabase IIS, чтобы определить, какие сайты доступны и где можно создать контент. Вы можете выбрать другую папку или виртуальный каталог, выбрав ее в представлении дерева. Вы также можете создать новый виртуальный каталог, пометить папки как приложения, а также удалить существующие виртуальные каталоги из этого диалогового окна.

![Диалог о выборе местоположения](improvements-in-visual-studio-2005/_static/image1.gif)

**Рисунок 1**: Выберите Диалог местоположения

В отличие от более ранних версий Visual Studio, если вы проверите флажок **слоя безопасности использования** и сертификат SSL не совпадает с URL-адресом, который вы просматриваете, вам будет представлен диалог оповещения о безопасности с просьбой, хотите ли вы продолжить работу. Использование Visual Studio .NET 2003, если сертификат не соответствует, создание проекта не удастся.

![Предупреждение о безопасности в отношении сертификата SSL](improvements-in-visual-studio-2005/_static/image2.gif)

**Рисунок 2**: Предупреждение безопасности относительно сертификата SSL

### <a name="note-on-host-headers"></a>Примечание на заголовок хоста

При создании веб-приложения на сайте, привязанном к определенному IP, необходимо убедиться в настройке заголовка host. В противном случае Visual `http://localhost`Studio создаст сайт по адресу, но IP-адрес не будет решаться правильно, когда сайт просматривается или отлажен из IDE.

При выборе опции удаленного сайта диалог изменяется, чтобы ввести URL назначения для нового веб-узла. Этот URL должен быть на сервере с включенным расширением сервера FrontPage. Если вы хотите работать с местным веб-сервером с помощью расширения сервера FrontPage, вы можете использовать опцию Удаленного сайта и указать локальный URL.

![Создание веб-узла на удаленном сервере](improvements-in-visual-studio-2005/_static/image1.jpg)

**Рисунок 3**: Создание веб-сайта на удаленном сервере

При создании приложения на удаленном сайте через SSL, если сертификат SSL не совпадает, диалог подтверждения немного отличается от диалога, отображаемого при использовании опции Local IIS.

![Дистанционное оповещение о безопасности сайта](improvements-in-visual-studio-2005/_static/image3.gif)

**Рисунок 4**: Дистанционное оповещение о безопасности сайта

<a id="_Toc116100243"></a>

#### <a name="ftp"></a>FTP

Visual Studio 2005 вводит возможность создания веб-сайтов через FTP. При использовании этой опции IDE создает файлы локально в папке временного пользователя, а затем использует FTP для перемещения файлов в месторасположение FTP.

> [!NOTE]
> Местоположение папки темпа c:/Документы&lt;&gt;и настройки / Пользователь /Местные&lt;настройки/Темп/VWDWebCache/Server&gt;/)&lt;имя приложения&gt;

При использовании опции FTP вам будет представлен диалог о местоположении. Вы вводите необходимую информацию о подключении FTP в этот диалог, как показано ниже.

![Выбрать Диалог местоположения для FTP](improvements-in-visual-studio-2005/_static/image2.jpg)

**Рисунок 5**: Выберите Место Диалог для FTP

## <a name="lab-setup-ftp-site-and-create-a-project"></a>Лаборатория: Настройка ftP-сайта и создание проекта

Следующие шаги настраивают сайт FTP таким образом, чтобы пользователь имеет место, которое только он может загрузить через FTP.

### <a name="install-the-ftp-service"></a>Установка службы FTP

1. Откройте программы «Удалить» добавить, выберите компоненты «Добавить/удалить Windows»
2. Выберите информационные службы Интернета (Application Server на Windows 2003) и нажмите **Подробнее**.
3. Проверьте **протокол передачи файлов (FTP) Службы** и нажмите **OK**.
4. Нажмите **далее,** чтобы установить службу FTP.

### <a name="create-a-new-folder-for-content"></a>Создание нового фодера для контента

1. В Windows Explorer создайте новую папку под названием **User1** внутри c:/inetpub/wwwroot.

#### <a name="configure-folders-and-permissions-on-folders"></a>Налаживание папок и разрешений на папках.

1. Откройте интернет-информационные службы от административных инструментов. Теперь у вас будет папка FTP Sites под узлами с именем компьютера.
2. Расширьте **ftP сайты**.
3. Право нажмите на **сайт ПО умолчанию FTP**, выберите **новый**, то **виртуальный каталог**, а затем нажмите **Далее**.
4. Введите **User1** для виртуального имени каталога и нажмите **Далее.**
5. Введите **c:/inetpub/wwwroot/User1** для пути и нажмите **Далее**.
6. Нажмите **далее,** а затем **закончить,** чтобы завершить мастера.
7. Нажмите справа на виртуальный каталог **User1** под сайтом FTP по умолчанию и выберите **свойства.**
8. Проверьте флажок **Write** и **нажмите OK,** чтобы закрыть диалог.
9. Право нажмите **кнопку по умолчанию FTP сайта** и выберите **Свойства**.
10. На вкладке **Счета безопасности,** отменить проверку **Разрешить анонимные соединения**.
11. Нажмите **Да** в диалоге с просьбой, если вы хотите продолжить.
12. Нажмите кнопку **ОК**, чтобы закрыть диалоговое окно.
13. Расширьте **веб-узел по умолчанию** под узлом **веб-сайтов.**
14. Нажмите правой кнопкой мыши в каталоге **User1** и выберите **свойства**
15. В разделе **Параметры приложений** нажмите **«Создать»** для обозначения папки как приложения.
16. Нажмите кнопку **ОК**, чтобы закрыть диалоговое окно.
17. Закройте интернет-информационные службы.

### <a name="create-web-project"></a>Создание веб-проекта

1. Открытая визуальная студия 2005.
2. Из меню **файла** выберите **новый веб-сайт**.
3. В выпадении **местоположения** выберите **FTP**.
4. Нажмите кнопку **Обзор**.
5. Введите **локальный хост** в текстовый ящик **сервера.**
6. Введите **User1** в текстовый ящик каталога.
7. Нажмите кнопку **Открыть**. Местоположение FTP будет включено в диалог нового веб-сайта.
8. Нажмите кнопку **ОК**.
9. Uncheck **Anonymous войти** в журнал FTP журнала на диалог, введите свои учетные данные, и нажмите **OK**.
10. Что такое URL-адрес проекта? (URL-адрес проекта будет отображаться в Solution Explorer.)
11. Из меню **сборки** выберите **веб-сайт сборки** или **решение для сборки.**
12. Нажмите на кнопку По умолчанию.aspx в Solution Explorer и выберите **Просмотр в браузере.**
13. В URL-адресе website `http://localhost/user1` требуется диалог, введите URL и нажмите **OK**.

> [!NOTE]
> Если вы получили ошибку, указывающую на невозможность загрузить тип /_Default, убедитесь, что вы работаете ASP.NET 2.0 на веб-сайте, а не более ранней версии. Это можно сделать со ASP.NET вкладке в информационных службах Интернета.

## <a name="opening-web-projects"></a>Открытие веб-проектов

Открытие веб-проектов похоже на создание проектов. Следующие разделы призывают области, чтобы следить за во время работы в рамках IDE. Он также охватывает работу с веб-проектами с использованием HTTP и FTP.

Чтобы открыть веб-проект, выберите Открытый веб-сайт из меню файла. Вам будет предложено с тем же выберите Местоположение диалог охвачены ранее, и у вас есть те же четыре варианта, доступные для вас: файловая система, местные IIS, FTP, и удаленный сайт.

<a id="_Toc116100245"></a>

## <a name="file-system"></a>Файловая система

Как указывалось ранее в этом модуле, Visual Studio больше не использует файл проекта. Поэтому, если вы решите открыть веб-узел из файловой системы, у вас есть возможность выбрать любую папку, которую вы хотите, даже если выбранная папка не была создана как веб-проект изначально в Visual Studio. Например, вы можете открыть папку "Мои документы" в качестве веб-узла, а Visual Studio с радостью откроет ее и отобразит файлы, как показано ниже.

![Мои документы, открытые как веб-сайт](improvements-in-visual-studio-2005/_static/image3.jpg)

**Рисунок 6**: *Мои документы* открыты как веб-сайт

Поскольку Visual Studio создает только дополнительные файлы и папки, когда это необходимо, никакие дополнительные файлы или папки не добавляются к местоположению, в каком вы открываете. Побочным эффектом этой архитектуры является то, что она не позволяет гнездить веб-сайты в файловой системе. Например, рассмотрим следующую структуру каталога.

Веб-проект на C:/MyWebSite

Другой веб-проект на C:/MyWebSite/Nested

При открытии веб-узла по адресу c:/MyWebSite папка Nested будет отображаться в виде подпапки этого приложения.

<a id="_Toc116100246"></a>

## <a name="http"></a>HTTP

При открытии веб-сайтов через HTTP настройки считываются либо из метабазы IIS (местный IIS), либо с использованием расширений серверов FrontPage (удаленный сайт). Если есть вложенные веб-приложения, они отображаются также с иконой, идентифицирующей их как приложение. Если вы знакомы с работой с веб-приложениями на FrontPage, поведение в Visual Studio 2005 аналогично.

Несмотря на то, что Visual Studio будет отображать значок для приложений, вложенных под приложением, которое в настоящее время открыто в Рамках IDE, это не позволит вам расширить их, чтобы увидеть их содержание. Вы можете, однако, дважды нажать на них, чтобы открыть их. Когда вы это сделаете, вам будет представлен диалог, побудительный вас либо открыть веб-приложение (и заменить открытое в настоящее время решение), либо добавить веб-приложение в текущее решение.

![Двойное нажатие значка вложенного приложения представляет вам этот диалог](improvements-in-visual-studio-2005/_static/image4.jpg)

**Рисунок 7**: Двойное нажатие значка вложенного приложения представляет вам этот диалог

<a id="_Toc116100247"></a>

## <a name="ftp-site"></a>FTP-сайт

Когда вы открываете сайт через FTP, все файлы скопированы локально в папку temp. Полный путь для локального местоположения хранилища отображается в панели Свойств для проекта и создается с использованием следующего формата.

C:/Документы и&lt;настройки /&gt;Пользователь /Местные&lt;настройки/Темп/VWDWebCache/Сервер&gt;/)&lt;имя приложения&gt;

При использовании FTP Visual Studio необходимо указать базовый URL для вашего проекта, чтобы вы могли просматривать его, как показано ниже. Если вы не укажете базовый URL, Visual Studio попросит вас об этом при первой попытке просмотреть страницу на веб-узле.

![Указание базового URL для сайтов FTP](improvements-in-visual-studio-2005/_static/image5.jpg)

**Рисунок 8**: Указание базового URL для сайтов FTP

## <a name="improvements-in-compilation"></a>Улучшения в компиляции

Работа с веб-приложениями в Visual Studio 2005 заметно быстрее, чем предыдущие версии. Это в немалой степени объясняется изменениями в архитектуре компиляции.

В Visual Studio 2002 и 2003 веб-приложения были собраны в одну начальную сборку, проживающую в папке /bin. В Visual Studio 2005 была добавлена папка App/_Code. Классы и другой код, не связанный с uI, добавляются в папку App/_Code. Когда Visual Studio создает проект, все файлы в папке App/_Code компилируются в единый файл App/_Code.dll. Результатом этого изменения является то, что последующие сборки намного быстрее, чем в предыдущих версиях.

> [!NOTE]
> Утилита командной строки MSBuild также может использоваться для создания ASP.NET веб-приложений. Этот инструмент будет покрыт модулем 9.

Другим усовершенствованием компиляции является новая опция «Страница сборки» в меню «Сборка». Эта функция позволяет разработчику перестраивать только текущую страницу (наряду, конечно, с зависимостями), чтобы можно было быстрее компилировать изменения. Поскольку c's не предлагает фоновую компиляцию для обновления IntelliSense и т.д., они извлекут огромную пользу из этой функции, потому что это позволит IntelliSense быстро обновляться, просто восстанавливая одну страницу.

Свойства сборки для проекта позволяют настроить тип сборки, который происходит до выполнения страницы запуска. Разработчики могут выбрать только текущую страницу, чтобы Visual Studio мог быстрее начать отладку приложений после изменения кода.

![Начало действия «Начало страницы сборки»](improvements-in-visual-studio-2005/_static/image6.jpg)

**Рисунок 9**: Начало страницы сборки

Еще одно значительное усовершенствование Visual Studio и ASP.NET архитектуры находится в области отправления и продолжения. В Visual Studio 2005 разработчики могут начать отладку проекта и внести изменения в код проекта без отсоединения отладчика. На самом деле, вы можете буквально начать отладку проекта, добавить новый класс, добавить код к этому классу, добавить код на страницу, который создает новый экземпляр этого класса и выполнить метод класса, все без отсоединения отладчика. Выполнение нового кода в буквальном смысле так же просто, как обновление браузера!

Нажмите здесь, чтобы увидеть видео пошаговоки от воспроизведения и продолжить функцию в Visual Studio 2005.

![](improvements-in-visual-studio-2005/_static/image2.png)

[Открытое полноэкранное видео](improvements-in-visual-studio-2005/_static/editcontinue1.wmv)

Надежное изменение и продолжение функциональности в ASP.NET 2.0 и Visual Studio 2005 связано с архитектурными изменениями для ASP.NET приложений. В ASP.NET 1.x приложения, созданные в Visual Studio 2002/2003, были собраны в основную сборку, которая хранилась в папке /bin. Все классы, страницы и т.д. для приложения были составлены в один DLL. Затем во время выполнения ASP.NET компилировали все элементы управления, разметку и ASP.NET код в страницах и копировали эти DLL в ASP.NET временную папку.

В Visual Studio 2005, используя ASP.NET 2.0, две модели компиляции наброски выше (один для Visual Studio и один для ASP.NET во время выполнения) были объединены в одну общую модель компиляции. Это означает, что все вопросы компиляции в настоящее время поймали на этапе разработки, а не на время выполнения. Он также позволяет дизайнер и IntelliSense поддержку таких функций, как элементы управления пользователями и мастер-страниц.

Нажмите здесь, чтобы увидеть видео пошаговоки дизайнерской поддержки для управления пользователями.

![](improvements-in-visual-studio-2005/_static/image3.png)

[Открытое полноэкранное видео](improvements-in-visual-studio-2005/_static/usercontrols1.wmv)

> [!NOTE]
> Когда элемент управления пользователя удаляется @Register со страницы, директива остается в разметке и должна быть удалена вручную, чтобы избежать ошибок parser, если контроль пользователя удален с веб-узла.

Еще одним усовершенствованием модели компиляции Visual Studio является функция Publish Web Site. Поскольку функция Publish предварительно компилирует веб-узел, разработчики могут наслаждаться дополнительной производительностью, не собирая ничего по требованию. Он также предварительно компилирует весь исходный код в папке App/_Code в DLL, так что исходный код не должен быть развернут.

![Диалог публикации веб-сайта](improvements-in-visual-studio-2005/_static/image7.jpg)

**Рисунок 10**: Публикация веб-сайта Диалог

> [!NOTE]
> Утилита aspnet/_compile.exe также может быть использована для предварительной компиляции веб-приложений ASP.NET. Этот инструмент будет покрыт модулем 9.

При публикации веб-узла предсобранные файлы хранятся в папке Временного ASP.NET файлов, как показано ниже. Файлы с расширением файлов *.compiled* являются xML-файлами, определяющими зависимости для определенных DLLs. Любая веб-форма или элементы управления пользователями компилируются в случайные DLLs, которые начинаются с *App/_Web/_*.

Если вы *оставите этот предварительно собранный сайт* для проверки флажка, разметка внутри webforms и пользовательских элементов управления не будет предварительно составлена в DLL, что позволит вносить изменения после развертывания. Если вы предпочитаете заблокировать разметку так, чтобы изменения в развернутом содержимом не допускались, отоверьте это поле.

*Использование фиксированного именования и одной сборки* страницы checkbox позволяет отключить пакеткомпии, так что каждая страница будет составлена в фиксированной названной сборки. Оставляя эту коробку без контроля позволяет воспользоваться пакетной компиляции.

*Сильное наименование Enable на предкомпилированных флажке сборки* позволяет вам сильно назвать ваши предварительно собранные сборки.

> [!NOTE]
> В ASP.NET 1.x, сильные названные собрания должны были быть установлены в кэше Глобальной ассамблеи (GAC). В ASP.NET 2.0, вы не обязаны устанавливать сильные асембя в GAC.

![Предсоставленные файлы приложений ASP.NET](improvements-in-visual-studio-2005/_static/image8.jpg)

**Рисунок 11**: ASP.NET приложения предварительно составленные файлы

> [!NOTE]
> В приведенном выше заявлении не было файла web.config. Если бы это было так, то оно получило бы название *PrecompiledApp.config* после процесса публикации веб-сайта.

## <a name="improvements-in-deployment"></a>Улучшения в развертывании

Как и в visual Studio 2002 и 2003, Visual Studio 2005 предлагает функцию Copy Project. Тем не менее, функция была усилена в Visual Studio 2005 и в настоящее время называется Копия веб-сайта.

Диалог копирования веб-сайта разделен на левый и правый кадр. Левая рамка называется веб-сайтом Исходного источника, а правая — удаленным веб-узлом. Одна вещь, которая может запутать некоторых разработчиков является то, что сайт отображается в правом кадре не обязательно удаленный сайт. Это может быть сайт в локальной файловой системе или в локальном экземпляре IIS. Кроме того, сайт, отображаемый в левой кадре, не обязательно является исходным веб-узле, поскольку диалог позволяет публиковать с удаленного веб-узла *на* исходный веб-узел.

Если вы копируете проект на удаленный веб-узел, на этом сайте должны быть установлены расширения сервера FrontPage. Если это не так, вам нужно будет подключиться с помощью FTP. С другой стороны, если вы копируете проект в локальном экземпляре IIS, расширения сервера FrontPage не требуются.

> [!NOTE]
> Если вы попытаетесь создать новый веб-узел в локальном экземпляре IIS и установить расширения сервера FrontPage 2002, вы получите сообщение об ошибке, сообщающее вам, что создание веб-узлов не поддерживается на сервере SharePoint. В этом случае у вас есть возможность установки расширения сервера FrontPage 2000 или удаления расширений сервера FrontPage.

Нажмите здесь для видео-пошаговых показаний функции веб-сайта Copy.

![](improvements-in-visual-studio-2005/_static/image4.png)

[Открытое полноэкранное видео](improvements-in-visual-studio-2005/_static/copysite1.wmv)

## <a name="improvements-in-debugging"></a>Улучшения в дебукинге

Есть четыре ключевых улучшения в отладке в Visual Studio 2005.

- Отладка локально как неадминистратора возможна из коробки.
- Атрибут Debug для элемента компиляции теперь является ложным по умолчанию.
- Настройка и конфигурация удаленной отладки проще, чем раньше.
- Теперь можно отладить веб-узел, открытый через местоположение FTP.

## <a name="debugging-as-a-non-administrator"></a>Отладка как неадминистратор

Добавление сервера ASP.NET разработки позволяет неадминистраторам легко отлажонить ASP.NET приложения прямо из коробки. Когда ASP.NET приложение, работаевное на локальной файловой системе, отлажено, Visual Studio запускает ASP.NET сервер разработки в контексте зарегистрированного пользователя. Этот пользователь может отладить это приложение без какой-либо дополнительной конфигурации.

## <a name="debug-is-false-by-default"></a>Ошибка является ложной по умолчанию

В ASP.NET 1.x атрибут *отладки* в элементе *компиляции* файла web.config был установлен в *истину* по умолчанию. Перед развертыванием приложения в производство разработчикам всегда было рекомендовано установить этот *атрибут,* но поскольку большинство разработчиков не до конца понимают последствия того, что атрибут отладки остается верным, они просто оставляют его как есть.

Самая серьезная проблема с набором атрибута отладки заключается в том, что он отклоняет модель пакетной компиляции ASP.NETs. Таким образом, каждая страница компилируется в отдельную DLL. Если веб-приложение состоит из тысяч страниц (не неслыханное любыми средствами), это означает, что несколько тысяч небольших DLLs будут созданы этим приложением. Хотя эти DLL являются небольшими по размеру, они не загружаются в какое-либо конкретное место в памяти. Таким образом, они вызывают фрагментацию в памяти системы и могут способствовать OutOfMemoryException возникновения.

В ASP.NET 2.0 атрибут отладки установлен в ложном по умолчанию. Как вы уже видели, когда разработчик отлажает ASP.NET приложение в Visual Studio 2005, им предлагается добавить файл web.config с включенным отладкой. Это приводит к тем же недостаткам, которые присутствовали в ASP.NET 1.x, но теперь разработчик четко предупрежден, что атрибут должен быть сбросен на ложный, прежде чем перенести приложение в производство.

## <a name="remote-debugging-setup-and-configuration"></a>Настройка и конфигурация удаленной дебуджей

В Visual Studio 2002/2003 удаленная отладка опиралась на машинный отладка Manager (mdm.exe) и процесс vs7jit.exe. Из-за этого проблемы удаленной отладки для устранения неполадок часто были черным ящиком для клиентов, и зачастую это было не намного лучше для PSS.

Visual Studio 2005 снимает зависимость от процессов mdm.exe и vs7jit.exe. Вместо этого он теперь использует службу удаленного монитора отутонка (msvsmon.exe).)

Требование для отладки в Visual Studio 2005 удаленно довольно проста. Перед отладкой необходимо запустить msvsmon.exe на удаленном сервере. Вы можете установить монитор удаленного отжута с компакт-диска Visual Studio или просто запустить msvsmon.exe с доли, не устанавливая ничего вообще на веб-сервере.

При запуске msvsmon.exe, вполне вероятно, что он будет жаловаться на порты заблокированы для удаленной отладки. К счастью, вы можете легко разблокировать порты справа в диалоге предупреждения, как показано ниже.

![Уведомление о том, что Windows Firewall блокирует удаленную отладку](improvements-in-visual-studio-2005/_static/image9.jpg)

**Рисунок 12**: Уведомление о том, что Windows Firewall блокирует удаленную отладку

После разблокировки портов, необходимых для отладки, вы увидите монитор удаленной отладки, как показано ниже. С помощью этого интерфейса можно легко отслеживать соединения и изменять разрешения на отладку.

![Монитор удаленной отладки](improvements-in-visual-studio-2005/_static/image10.jpg)

**Рисунок 13**: Монитор удаленной отладки

Также возможно удаленное отладка веб-приложения, открытого через FTP. Шаги такие же, как и ранее охваченные. Тем не менее, вам нужно будет указать базовый URL для просмотра проекта FTP, как указано ранее в этом модуле.

## <a name="lab-2"></a>Лаборатория 2

## <a name="remote-debugging-with-visual-studio-2005"></a>Дистанционное отладка с Visual Studio 2005

Эта лаборатория проведет вас через удаленную отладку с Visual Studio 2005.

Нажмите здесь для видео пошагонки этой лаборатории.

![](improvements-in-visual-studio-2005/_static/image5.png)

[Открытое полноэкранное видео](improvements-in-visual-studio-2005/_static/remdebug1.wmv)

Эта лаборатория требует, чтобы у вас было две машины, одна из которых работает Visual Studio 2005, а другая работает IIS 5 или больше.

1. Открыть Visual Studio 2005 и создать новый веб-сайт на удаленном сервере.

> [!NOTE]
> Вы можете создать веб-узел в удаленном экземпляре IIS или через FTP.

1. С удаленного веб-сервера найдите msvsmon.exe на машине разработки, используя путь КООН, и выполните его.  
 Местоположение по умолчанию для msvsmon.exe //server/c$/Program Files/Microsoft Visual Studio 8/Common7/IDE/Remote Debugger/x86.
2. Если предлагается разблокировать порты для удаленной отладки, сделайте это.
3. Из машины разработки откройте код для Default.aspx и установите точку разрыва в методе Страницы/_Load.
4. Начните отладку от машины разработки.

Вы должны попасть в точку разрыва, как ожидалось.

## <a name="aspnet-development-server"></a>Сервер ASP.NET Development Server

Как мы уже обсуждали, Visual Studio 2005 поставляется с веб-сервером под названием ASP.NET Development Server. (Сервер разработки ASP.NET иногда называют Cassini.) Этот веб-сервер является удобным средством для просмотра и отладки веб-приложений, работающих в файловой системе.

сервер ASP.NET разработки является ограниченным веб-сервером. Он не позволяет удаленных соединений, он не позволяет любые запросы от любого пользователя, кроме пользователя, который запустил веб-сервер. Он также не имеет возможности обслуживать страницы ASP. Обслуживаются только ASP.NET ресурсов и HTML-ресурсов (включая изображения, файлы CSS и т.д.).

Сервер ASP.NET разработки может быть запущен через командную строку, запустив файл WebDev.WebServer.exe, расположенный*/*/*/* по адресу c:/Windows/Microsoft.NET/Framework/v2.0./ / / / . В следующем диалоге отображаются доступные параметры.

![](improvements-in-visual-studio-2005/_static/image11.jpg)

**Рисунок 14**

> [!NOTE]
> Сервер ASP.NET разработки не поддерживается при явном запуске через командную строку.
