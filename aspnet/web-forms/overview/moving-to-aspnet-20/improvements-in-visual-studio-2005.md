---
uid: web-forms/overview/moving-to-aspnet-20/improvements-in-visual-studio-2005
title: Усовершенствования в Visual Studio 2005 | Документация Майкрософт
author: microsoft
description: Visual Studio 2005 обеспечивает разработчиков веб-приложений с помощью длинный список улучшений и усовершенствований для веб-проектов.
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 72d90cd0-b3d9-454c-b2eb-ed0d9812f32c
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/improvements-in-visual-studio-2005
msc.type: authoredcontent
ms.openlocfilehash: a580b678a943695969b7f3acd2f7a033bd0b6ee3
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59379773"
---
# <a name="improvements-in-visual-studio-2005"></a>Усовершенствования в Visual Studio 2005

по [Microsoft](https://github.com/microsoft)

> Visual Studio 2005 обеспечивает разработчиков веб-приложений с помощью длинный список улучшений и усовершенствований для веб-проектов.


Visual Studio 2005 обеспечивает разработчиков веб-приложений с помощью длинный список улучшений и усовершенствований для веб-проектов. Столь мощная, как Visual Studio .NET 2002 и 2003, отсутствуют многие жалобы в способе обработки веб-проектов. Visual Studio 2005 вносит значительное количество новых функций для решения этих жалоб. Для тех, кто предпочитает способ обработки компиляции веб-приложений в Visual Studio .NET 2003, см. в разделе [Web Application Projects](https://go.microsoft.com/fwlink/?LinkId=57870).

В этом модуле также рассматриваются методы создания веб-проекта, управления и разработки. В более поздних версий модуля также охватывают улучшений в области построения веб-проекты и их развертывания.

## <a name="frontpage-server-extensions"></a>Серверные расширения FrontPage

Visual Studio .NET 2002 и 2003 необходимые серверные расширения FrontPage на поле для создания или построения веб-проектов. У разработчиков было выбрать между двумя режимами различные права доступа (режим доступа серверных расширений FrontPage или файл), оба использовать серверные расширения FrontPage для выполнения задач, таких как установка корневой каталог приложения в IIS и т. д.

Visual Studio 2005 устраняет зависимость от серверных расширений FrontPage для локальных проектов. Visual Studio 2005 теперь получает доступ к метабазе IIS напрямую, а не с помощью серверных расширений FrontPage. Visual Studio 2005 также добавляет поддержку протокола FTP, который разрешает доступ к удаленному проекту без использования серверных расширений FrontPage.

Для тех разработчиков, которые хотят использовать серверные расширения FrontPage в своих проектах параметр по-прежнему доступен. Тем не менее основываясь на надежный отзывы сообщества разработчиков ASP.NET, это не является обязательным.

> [!NOTE]
> Серверные расширения FrontPage по-прежнему необходимы для создания удаленного проекта, открытие и т. д.


## <a name="aspnet-development-server"></a>Сервер ASP.NET Development Server

Visual Studio 2005 поставляется с новой веб-сервере ASP.NET Development Server. (Этот веб-сервер был ранее известен как Cassini.)

Ниже перечислены некоторые преимущества сервера разработки ASP.NET.

- Теперь существует возможность пользователям без прав администратора для разработки и отладки для веб-сервера.
- ASP.NET Development Server динамически сопоставляет виртуальные каталоги в любое место в файловой системе, позволяя гибкое расположения.
- Пользователей в Windows XP Professional, которые уже используются службы IIS, теперь можно создавать новые веб-приложения, которые не повлияют на структуре файла или папки из их по умолчанию веб-сайт в IIS.

Чтобы воспользоваться преимуществами ASP.NET Development Server требуется специальная настройка. Если отлаживается или просматривать веб-проект, который размещен в файловой системе, Visual Studio 2005 автоматический запуск экземпляра сервера разработки ASP.NET по случайный порт для обслуживания запроса.

Дополнительные сведения будут рассматриваться с ASP.NET Development Server более поздней версии в этом модуле.

## <a name="improved-file-management"></a>Управление файлами

В Visual Studio 2002 и 2003 файл проекта (с расширением VBPROJ для VB.NET) и .csproj для C# хранятся сведения для всех файлов в веб-приложения. Отображение обозревателя решений основана на сведения о файле в файле проекта. По этой причине в обозревателе решений будет часто отображаются неверные сведения в случаях, где использовались внешних редакторов. Visual Studio 2002 и 2003 будет часто перезаписи изменений файла или отображает самую последнюю версию файлов.

Visual Studio 2005 немедленно выполняет с файлом проекта. Вместо этого она считывает данные файлов и папок непосредственно с диска, приводит к точное отображение файлов в проекте. Так как в папке "ссылки" в Visual Studio 2002 и 2003 не представляет фактический папку веб-приложения, Visual Studio 2005 также удаляет папку ссылки из обозревателя решений. Чтобы получить доступ к ссылок проекта в Visual Studio 2005, следует использовать на страницах свойств для проекта.

## <a name="creating-web-projects"></a>Создание веб-проектов

Веб-разработчики не множество новых возможностей, доступных для создания проекта в Visual Studio 2005. Веб-сайты могут теперь создаваться в любом месте в файловой системе и затем можно отлаживать или просматриваться с помощью ASP.NET Development Server. Разработчики также могут создавать новые веб-сайты, с помощью протокола FTP.

Щелкните здесь, чтобы просмотреть пошаговое видео создания веб-проектов в Visual Studio 2005.


![](improvements-in-visual-studio-2005/_static/image1.png)


[Открыть весь экран](improvements-in-visual-studio-2005/_static/creating_projects1.wmv)


### <a name="file-system-projects"></a>Файл системы проектов

Как было показано в видео Пошаговое руководство, вы можете создавать веб-сайты в файловой системе на локальном компьютере или в удаленном расположении через файловый ресурс. Веб-сайты, которые создаются в файловой системе просматривать и отлажены с помощью сервера разработки ASP.NET.

> [!NOTE]
> Сервер разработки ASP.NET может вызвать некоторую путаницу e для клиентов. Если веб-проект создается в файловой системе в структуре каталогов IISs (т. е. c:/inetpub/wwwroot), веб-сайт будет по-прежнему просматривать через ASP.NET Development Server при запуске из Visual Studio 2005. Таким образом любой конфигурации IIS (т. е. методов проверки подлинности) не применяется.


Веб-проекта по умолчанию также удаляет много служебных данных, включает только страницы Default.aspx, файл default.cs и в папку приложения/_Data. Файл web.config и специальные папки (т. е. приложение/фра_гменты) добавляются по мере необходимости. Веб-проект включает только файлы и папки, которые необходимы.

### <a name="http-projects"></a>Проекты HTTP

Проекты HTTP может быть проектах, созданных на локальном веб-узла IIS или на удаленный веб-сайт. Расположение проекта по умолчанию является `http://localhost`. Если щелкнуть кнопку обзора, двумя способами HTTP: Локальный сервер IIS и удаленный сайт. Основное различие в этих двух вариантов — это метод, в котором отображается текст веб-сайта, в диалоговом окне Выбор расположения и в том, как файлы копируются на веб-сервер.

Параметр локальный сервер IIS считывает данные сайта из метабазы на локальном компьютере и файлы копируются в файловой системе. Параметр удаленного сайта используются серверные расширения FrontPage и данные сайта и файлы копируются с помощью протокола HTTP и вызовы RPC расширений сервера FrontPage.

> [!NOTE]
> Файл vs###/_tmp.htm и get/_aspx/_ver.aspx больше не используются для определения сведений о версии.


Параметр HTTP по умолчанию — локальный сервер IIS. Этот параметр считывает метабазу IIS, чтобы определить, какие сайты доступны и расположение, в котором для создания содержимого. Можно выбрать другую папку или виртуальный каталог, выбрав его в представлении в виде дерева. Вы можете также создание нового виртуального каталога, пометить папки как приложения, а также удалить существующие виртуальные каталоги в этом диалоговом окне.


![Выберите расположение](improvements-in-visual-studio-2005/_static/image1.gif)

**Рис. 1**: Выберите расположение


В отличие от более ранних версий Visual Studio, если вы проверите **использовать протокол SSL** флажок и SSL-сертификат не соответствует URL-адрес, вы подключаетесь, вам будет предложена предупреждение безопасности диалоговое окно с запросом, если бы Например продолжить. С помощью Visual Studio .NET 2003, если сертификат не был сопоставления один, Создание проекта завершится сбоем.


![Безопасность предупреждений о SSL-сертификата](improvements-in-visual-studio-2005/_static/image2.gif)

**Рис. 2**: Безопасность предупреждений о SSL-сертификата


### <a name="note-on-host-headers"></a>Обратите внимание на заголовки узлов

Если вы создаете веб-приложения на узел, привязанный к конкретный IP-адрес, необходимо будет убедитесь, что заголовок узла. В противном случае Visual Studio создаст на узле по адресу `http://localhost`, но IP-адрес не будут разрешены правильно, когда узел просматривать или отладки из интегрированной среды разработки.

Если выбран параметр удаленного сайта, чтобы можно было ввести URL-адрес назначения для нового веб-сайта изменяет диалогового окна. Этот URL-адрес должен быть на сервере, где включены серверные расширения FrontPage. Если вы хотите работать с локального веб-сервера с помощью серверных расширений FrontPage, можно использовать параметр удаленного сайта и указать локальный URL-адрес.


![Создание веб-сайта на удаленном сервере](improvements-in-visual-studio-2005/_static/image1.jpg)

**Рис. 3**: Создание веб-сайта на удаленном сервере


При создании приложения в удаленном расположении через SSL, если SSL-сертификат не совпадает, диалоговое окно подтверждения, немного отличается от диалогового окна, отображаемого при использовании параметра локальный сервер IIS.


![Оповещение системы безопасности удаленного сайта](improvements-in-visual-studio-2005/_static/image3.gif)

**Рис. 4**: Оповещение системы безопасности удаленного сайта


<a id="_Toc116100243"></a>

#### <a name="ftp"></a>FTP

Visual Studio 2005 предоставляет возможность создавать веб-сайты через FTP. При использовании этого параметра, IDE создает файлы локально в временную папку пользователя, а затем использует FTP для перемещения файлов в каталоге FTP.

> [!NOTE]
> Расположение временной папки — c:/Documents and Settings /&lt;пользователя&gt;/локальные параметры/Temp/VWDWebCache/&lt;Server&gt;/_&lt;имя приложения&gt;


При использовании параметра FTP, откроется диалоговое окно Выбор расположения. Введите необходимые сведения о подключении FTP в этом диалоговом окне, как показано ниже.


![Выберите расположение для FTP-сервера](improvements-in-visual-studio-2005/_static/image2.jpg)

**Рис. 5**: Выберите расположение для FTP-сервера


## <a name="lab-setup-ftp-site-and-create-a-project"></a>Лабораторное занятие. Настройка FTP-сайта и Создание проекта

Далее описана настройка FTP-сайта, таким образом, чтобы у пользователя есть расположение, которое только их можно отправить через FTP.

### <a name="install-the-ftp-service"></a>Установить службу FTP

1. Откройте Установка и удаление программ, выберите Добавление и удаление компонентов Windows
2. Выберите Internet Information Services (сервер приложений в Windows 2003) и нажмите кнопку **сведения**.
3. Проверьте **службы протокола передачи файлов (FTP)** и нажмите кнопку **ОК**.
4. Нажмите кнопку **Далее** для установки службы FTP.

### <a name="create-a-new-folder-for-content"></a>Создайте новую папку для содержимого

1. В проводнике Windows, создайте новую папку с именем **User1** внутри c:/inetpub/wwwroot.

#### <a name="configure-folders-and-permissions-on-folders"></a>Настройка папки и разрешения для папок.

1. Откройте оснастку «Службы IIS» из средств администрирования. Теперь имеется в папке FTP-узлы в узле имени компьютера.
2. Разверните **FTP-узлы**.
3. Щелкните правой кнопкой мыши **FTP-сайта по умолчанию**выберите **New**, затем **виртуальный каталог**, затем нажмите кнопку **Далее**.
4. Введите **User1** имя виртуального каталога и нажмите кнопку **Далее**.
5. Введите **c:/inetpub/wwwroot/User1** путь и нажмите кнопку **Далее**.
6. Нажмите кнопку **Далее** и затем **Готово** завершите работу мастера.
7. Щелкните правой кнопкой мыши **User1** виртуальный каталог в FTP-сайта по умолчанию и выберите **свойства**.
8. Проверьте **записи** флажок и нажмите кнопку **ОК** чтобы закрыть диалоговое окно.
9. Щелкните правой кнопкой мыши **FTP-сайта по умолчанию** и выберите **свойства**.
10. На **учетные записи безопасности** вкладке, снимите флажок **Разрешить анонимные подключения**.
11. Нажмите кнопку **Да** в диалоговом окне с вопросом, следует ли продолжать.
12. Нажмите кнопку **ОК** чтобы закрыть диалоговое окно.
13. Разверните **Default Web Site** под **веб-сайтов** узла.
14. Щелкните правой кнопкой мыши **User1** каталог и выберите **свойства**
15. В **параметры приложения** щелкните **создать** для пометки папке с приложением.
16. Нажмите кнопку **ОК** чтобы закрыть диалоговое окно.
17. Закройте оснастку служб IIS.

### <a name="create-web-project"></a>Создание веб-проекта

1. Откройте Visual Studio 2005.
2. Из **файл** меню, выберите **новый веб-сайт**.
3. В **расположение** раскрывающемся списке выберите **FTP**.
4. Нажмите кнопку **Обзор**.
5. Введите **localhost** в **Server** текстового поля.
6. Введите **User1** в текстовом поле каталогов.
7. Нажмите кнопку **Открыть**. Расположение FTP вводится в диалоговое окно нового веб-сайта.
8. Нажмите кнопку **ОК**.
9. Снимите флажок **анонимный вход в систему** в диалоговом окне вход в FTP, введите свои учетные данные и нажмите кнопку **ОК**.
10. Что такое URL-адрес для проекта? (URL-адрес для проекта отображается в обозревателе решений.)
11. Из **построения** меню, выберите **построить веб-узел** или **построить решение**.
12. Щелкните правой кнопкой мыши на странице Default.aspx в обозревателе решений и выберите **просмотреть в браузере**.
13. В диалоговом окне требуется URL-адрес веб-сайта, введите `http://localhost/user1` URL-адрес и нажмите кнопку **ОК**.

> [!NOTE]
> Если появится сообщение об ошибке, указывающими на невозможность загрузки /_Default тип, убедитесь, что выполняется ASP.NET 2.0 на веб-сайт и не более ранней версии. Это можно сделать на вкладке "ASP.NET" в службах IIS.


## <a name="opening-web-projects"></a>Открытие веб-проектов

Открытие веб-проектов похоже на создание проектов. Следующие разделы вызовите областей, чтобы следить за out для непосредственно в интегрированной среде разработки. Он также рассматривается работа с веб-проектов, с помощью протоколов HTTP и FTP.

Чтобы открыть веб-проекта, выберите веб-сайт, откройте меню "файл". Вас попросят с то же диалоговое окно Выбор расположения, описанные ранее, и имеет те же четыре возможности, доступные пользователю: Файловая система, локальный сервер IIS, FTP и удаленный сайт.

<a id="_Toc116100245"></a>

## <a name="file-system"></a>Файловая система

Как указывалось ранее в этом модуле, Visual Studio больше не использует файл проекта. Таким образом Если вы решили открыть веб-сайт из файловой системы, вы получаете возможность выбрать любой папки, которое будет применено, даже если выбранную папку не был создан как веб-проекта, изначально в Visual Studio. Например вы можете открыть папку «Мои документы», как веб-сайта, и Visual Studio к счастью откройте ее и отобразить файлы, как показано ниже.


![Мои документы, открытые веб-узел](improvements-in-visual-studio-2005/_static/image3.jpg)

**Рис. 6**: *Мои документы* открыт как веб-сайта


Так как Visual Studio создает только дополнительные файлы и папки, при необходимости, нет дополнительные файлы или папки добавляются в расположение, при их открытии. Побочным эффектом данной архитектуры является, что предотвращает вложение веб-сайтов в файловой системе. Например рассмотрим следующую структуру каталогов.

Веб-проект в C:/MyWebSite

Другой веб-проекта в C:/MyWebSite/Nested

При открытии веб-сайте c:/MyWebSite, вложенные папки будут отображаться как вложенную папку приложения.

<a id="_Toc116100246"></a>

## <a name="http"></a>HTTP

При открытии веб-сайтов по протоколу HTTP, параметры считываются из метабазы IIS (локальный сервер IIS) или с помощью серверных расширений FrontPage (удаленный узел). Если вложенные веб-приложений, они также отображаются со значком, который идентифицирует их как приложения. Если вы знакомы с работой веб-приложений в программе FrontPage, в Visual Studio 2005 работает аналогично.

Несмотря на то, что Visual Studio будет отображаться значок для приложений, которые будут размещены под приложения, которое в настоящее время открыт в интегрированной среде разработки, он не позволит вам развернуть их, чтобы просмотреть их содержимое. Тем не менее, можно дважды щелкните на них, чтобы открыть их. При этом вы откроется диалоговое окно, предлагающее либо открыть веб-приложение (и заменить в настоящее время открыть решение) или добавить веб-приложения в текущем решении.


![Дважды щелкнув значок в виде вложенного приложения появится это диалоговое окно](improvements-in-visual-studio-2005/_static/image4.jpg)

**Рис. 7**: Дважды щелкнув значок в виде вложенного приложения появится это диалоговое окно


<a id="_Toc116100247"></a>

## <a name="ftp-site"></a>FTP-сайт

При открытии узлу по протоколу FTP, файлы всех копируются локально в папке temp. Полный путь к папке локального хранилища отображается в панели свойств для проекта и создается в следующем формате.

C:/Documents and Settings /&lt;пользователя&gt;/локальные параметры/Temp/VWDWebCache/&lt;Server&gt;/_&lt;имя приложения&gt;

При использовании FTP, Visual Studio необходимо указать базовый URL-адрес для вашего проекта, чтобы его можно просмотреть, как показано ниже. Если не указать базовый URL-адрес, Visual Studio запросит его при первом просмотре страницы в веб-сайта.


![Указание базового URL-адреса, для FTP-сайтов](improvements-in-visual-studio-2005/_static/image5.jpg)

**Рис. 8**: Указание базового URL-адреса, для FTP-сайтов


## <a name="improvements-in-compilation"></a>Улучшения в компиляции

Работа с веб-приложений в Visual Studio 2005 — значительно быстрее, чем предыдущие версии. Причиной этого является не небольшой части на изменения в архитектуре компиляции.

В Visual Studio 2002 и 2003 веб-приложения были скомпилированы в одну основную сборку, которая находится в папке/Bin. В Visual Studio 2005 был добавлен в папку приложения/фра_гменты. Классы и другого кода без пользовательского интерфейса добавляются в папку приложения/фра_гменты. Когда Visual Studio выполняет сборку проекта, все файлы в папке приложения/фра_гменты компилируются в единый файл App/_Code.dll. Результатом этого изменения является то, что последующие сборки будут намного быстрее, чем в предыдущих версиях.

> [!NOTE]
> Программу командной строки MSBuild может также использоваться для создания приложений ASP.NET Web. Это средство будет рассматриваться в модуле 9.


Другое усовершенствование компиляции является "Создать" Страница "сборка" в меню "сборка". Эта функция позволяет разработчику для перестроения только текущей страницы (вместе с, курс и зависимостей), чтобы изменения, которые могут компилироваться быстрее. Так, как C# не предлагает фоновая компиляция для целей обновления IntelliSense, т. д., они смогут воспользоваться чрезвычайно эту функцию, так как он позволяет для IntelliSense, чтобы обновить быстро, просто перестроив на одной странице.

Свойства сборки для проекта дают возможность настраивать тип построения, которое происходит перед выполнением страницы запуска. Разработчики могут выбрать, что Visual Studio можно запускать отладку приложений быстрее после изменения кода построение только текущей страницы.


![Действие построения страницы запуска](improvements-in-visual-studio-2005/_static/image6.jpg)

**Рис. 9**: Действие построения страницы запуска


Другое усовершенствование отличный Visual Studio и архитектуре ASP.NET находится в области редактирования и продолжить. В Visual Studio 2005 разработчики могут начать отладку проекта и вносить изменения кода в проекте без отсоединения отладчика. На самом деле буквально, можно начать отладку проекта, добавьте новый класс, добавьте код для этого класса, добавьте код для страницы, создает новый экземпляр этого класса и выполнение метода класса, все без отсоединения отладчика. Новый код выполняется практически так же просто, как обновить браузер!

Щелкните здесь, чтобы просмотреть пошаговое видеоруководство правки и продолжить в Visual Studio 2005.


![](improvements-in-visual-studio-2005/_static/image2.png)


[Открыть весь экран](improvements-in-visual-studio-2005/_static/editcontinue1.wmv)


Надежной изменить и продолжить функциональные возможности в ASP.NET 2.0 и Visual Studio 2005 происходит из-за изменения для приложений ASP.NET. В ASP.NET 1.x, приложения, созданные в Visual Studio 2002/2003 были скомпилированы в основную сборку, которая была сохранена в папке/Bin. Все классы, страниц, т. д. для приложения, были скомпилированных в одной библиотеки DLL. Затем во время выполнения ASP.NET будет компилировать все элементы управления, разметка и код ASP.NET на страницах и скопируйте эти библиотеки DLL в временной папке ASP.NET.

В Visual Studio 2005, с помощью ASP.NET 2.0, две компиляции моделей структуры выше (один для Visual Studio) и один для ASP.NET во время выполнения были объединены в одну модель общих компиляции. Это означает, что все ошибки компиляции теперь перехватываются во время этапа разработки, а не во время выполнения. Он также позволяет конструктора и поддержку технологии IntelliSense для функции, такие как пользовательские элементы управления и главные страницы.

Щелкните здесь, чтобы просмотреть пошаговое видео поддержку конструктора для пользовательских элементов управления.


![](improvements-in-visual-studio-2005/_static/image3.png)


[Открыть весь экран](improvements-in-visual-studio-2005/_static/usercontrols1.wmv)


> [!NOTE]
> Когда пользовательский элемент управления удаляется из страницы, @Register директива остается в разметке и должны быть удалены вручную, чтобы избежать ошибок синтаксического анализатора, если пользовательский элемент управления удаляется с веб-сайта.


Еще одно улучшение в модели компиляции Visual Studio — это функция публикации веб-сайта. Так как функцию публикации предварительная компиляция веб-сайта, разработчики получили доступ добавлена производительность не компилируя ничего по запросу. Он также выполняет предварительную компиляцию весь исходный код в папке приложения/фра_гменты в библиотеку DLL, чтобы исходный код должен быть развернут.


![Диалоговое окно публикации веб-сайта](improvements-in-visual-studio-2005/_static/image7.jpg)

**Рис. 10**: Диалоговое окно публикации веб-сайта


> [!NOTE]
> Служебную программу aspnet/_compile.exe может также использоваться для предварительной компиляции веб-приложения ASP.NET. Это средство будет рассматриваться в модуле 9.


При публикации веб-сайта, предварительно скомпилированные файлы хранятся в папке «Temporary ASP.NET Files», как показано ниже. Файлы с *.compiled* расширение файла являются XML-файлы, которые определяют зависимости для определенной библиотеки DLL. Любой веб-форма или пользовательскими элементами управления компилируются в случайных библиотеки DLL, которые начинаются с *приложения /_Web /_*.

Если оставить *разрешить этот предварительно скомпилированному сайту быть обновляемым* флажок установлен, разметку внутри вашей веб-форм и пользовательские элементы управления не будет предварительно компилируется в библиотеку DLL, что позволяет вносить изменения после развертывания. Если вы хотите заблокировать разметку, чтобы не допускаются изменения развернутым содержимым, снимите этот флажок.

*Использовать фиксированное именование и одной сборки страницы* флажок позволяет отключить пакетную компиляцию, чтобы каждая страница компилируется в сборку с именем исправлена. Оставить этот флажок снят позволяет воспользоваться преимуществами пакетной компиляции.

*Включить строгое именование в предварительно скомпилированные сборки* флажок позволяет строгим именем вашего предварительно скомпилированных сборках.

> [!NOTE]
> В ASP.NET 1.x, должна была устанавливаться в глобальный кэш сборок (GAC) сборок со строгими именами. В ASP.NET 2.0 вы не требуются для установки сборок со строгими именами в глобальный кэш СБОРОК.


![В предварительно скомпилированных файлов приложения ASP.NET](improvements-in-visual-studio-2005/_static/image8.jpg)

**Рис. 11**: В предварительно скомпилированных файлов приложения ASP.NET


> [!NOTE]
> В приложении выше файл web.config не было. Если был установлен, он будет уже были вызваны *PrecompiledApp.config* после выполнения публикации веб-сайта процесса.


## <a name="improvements-in-deployment"></a>Усовершенствования процедуры развертывания

Как с помощью Visual Studio 2002 и 2003, Visual Studio 2005 предоставляет возможность Копировать проект. Тем не менее эта функция была усилена в Visual Studio 2005 и теперь называется копирования веб-сайта.

Диалоговое окно копирования веб-сайта состоит из левой и правой части. Левая часть называется исходного веб-сайта и правой части окна вызывается удаленный веб-сайт. Единственное, что может запутать некоторые разработчики является сайта, отображаемое в правой области не обязательно удаленный сайт. Это может быть сайта в локальной файловой системе или на локальном экземпляре служб IIS. Кроме того, сайта, отображаемое в левой части окна не обязательно исходного веб-сайта, так как в диалоговом окне можно публиковать на удаленный веб-сайте *для* исходного веб-сайта.

При копировании проекта на удаленном веб-сайте, что сайт должен иметь серверные расширения FrontPage, установленными на нем. Если этого не произошло, необходимо подключиться с помощью протокола FTP. С другой стороны при копировании проекта на локальный экземпляр IIS, серверные расширения FrontPage не являются обязательными.

> [!NOTE]
> Если попытаться создать новый веб-сайт на локальном экземпляре служб IIS и установлены серверные расширения FrontPage 2002 г., вы получите сообщение об ошибке, информирующее о том, что создание веб-сайтов не поддерживается на сервере SharePoint. В этом случае у вас есть возможность установки серверных расширений FrontPage 2000 или удаления серверных расширений FrontPage.


Щелкните здесь для видеоруководство средства копирования веб-сайта.


![](improvements-in-visual-studio-2005/_static/image4.png)


[Открыть весь экран](improvements-in-visual-studio-2005/_static/copysite1.wmv)


## <a name="improvements-in-debugging"></a>Усовершенствования отладки

Существуют четыре основные улучшения при отладке в Visual Studio 2005.

- Отладка локально без прав администратора можно без дополнительной настройки.
- Атрибута отладки элемента компиляции теперь по умолчанию — false.
- Удаленная отладка и настройка невиданной ранее.
- Теперь можно отлаживать веб-сайт открывается с помощью FTP-сервера.

## <a name="debugging-as-a-non-administrator"></a>Отладка без прав администратора

Добавление ASP.NET Development Server позволяет упростить отладку приложений ASP.NET готовые – пользователям без прав администратора. При отладке приложения ASP.NET, работающего в локальной файловой системе, Visual Studio запускает сервер разработки ASP.NET в контексте пользователя, выполнившего вход. Этот пользователь можно отлаживать приложения без дополнительной настройки.

## <a name="debug-is-false-by-default"></a>Отладка имеет значение False по умолчанию

В ASP.NET 1.x, *Отладка* атрибут в *компиляции* задано в файле web.config *true* по умолчанию. Всегда были рекомендуется, чтобы разработчики присвоить этому атрибуту значение *false* перед развертыванием приложения в рабочей среде, но так как большинство разработчиков не вполне понимают последствия оставить значение атрибута отладки значение равно true, они просто оставить его как-является.

Наиболее серьезные проблемы с входящим атрибута отладки значение true — что он отключает ASP.NETs пакетной компиляции модели. Таким образом каждая страница компилируется в отдельной библиотеке DLL. Если веб-приложение включает в себя тысячи страниц (не знал по любым способом), это значит, что несколько тысяч небольших библиотек DLL создается этим приложением. Хотя эти библиотеки DLL и небольшой размер, они не загружены в любой из определенного расположения в памяти. Таким образом они привести к фрагментации в системной памяти и можно взаимодействовать с OutOfMemoryException вхождений.

В ASP.NET 2.0 атрибута отладки значение false по умолчанию. Как вы уже видели, когда разработчик выполняет отладку приложения ASP.NET в Visual Studio 2005, ему будет предложено добавить файл web.config с включенной отладкой. Это приводит к тем же недостатки, которые присутствовали в ASP.NET 1.x, но теперь разработчик четко предупреждается о том, что атрибут сбрасывается в значение false перед перемещением приложения в рабочей среде.

## <a name="remote-debugging-setup-and-configuration"></a>Настройка удаленной отладки и конфигурации

В Visual Studio 2002/2003, удаленная отладка полагались на диспетчера отладки (mdm.exe) и процесс vs7jit.exe. Из-за этого Устранение неполадок удаленной отладки была часто черного прямоугольника для клиентов, и она не часто гораздо лучше подходит для службы технической поддержки.

Visual Studio 2005 устраняет зависимость от mdm.exe и vs7jit.exe процессы. Вместо этого он теперь использует службу монитор удаленной отладки (msvsmon.exe).

Требования для удаленной отладки в Visual Studio 2005 довольно прост. Необходимо запустить msvsmon.exe на удаленном сервере до отладки. Можно установить монитор удаленной отладки Visual Studio с компакт-диска или просто запустите msvsmon.exe из общей папки без установки на всех веб-сервера.

При запуске msvsmon.exe, вполне вероятно, что он выдаст ошибку, о портах, заблокировано для удаленной отладки. К счастью можно легко разблокировать порты справа в диалоговое окно с предупреждением, как показано ниже.


![Уведомление о брандмауэр Windows блокирует удаленную отладку](improvements-in-visual-studio-2005/_static/image9.jpg)

**Рис. 12**: Уведомление о брандмауэр Windows блокирует удаленную отладку


После разблокировки порты, необходимые для отладки вы увидите монитор удаленной отладки, как показано ниже. Из этого интерфейса можно отслеживать подключения и изменять, легко разрешение на отладку.


![Монитор удаленной отладки](improvements-in-visual-studio-2005/_static/image10.jpg)

**Рис. 13**: Монитор удаленной отладки


Можно также удаленная отладка веб-приложения, открывается с помощью FTP. Действия являются такие же, как описано ранее. Тем не менее необходимо будет указать базовый URL-адрес для просмотра проекта FTP, как описано ранее в этом модуле.

## <a name="lab-2"></a>Практическое занятие №2

## <a name="remote-debugging-with-visual-studio-2005"></a>Удаленная отладка с помощью Visual Studio 2005

Это лабораторное занятие поможет выполнить удаленную отладку с помощью Visual Studio 2005.

Щелкните здесь для видеоруководство для этой лаборатории.


![](improvements-in-visual-studio-2005/_static/image5.png)


[Открыть весь экран](improvements-in-visual-studio-2005/_static/remdebug1.wmv)


Это лабораторное занятие требует наличия двух машин, одной работающей Visual Studio 2005 и других выполнение IIS 5 или более поздней версии.

1. Откройте Visual Studio 2005 и создайте новый веб-сайт на удаленном сервере.

> [!NOTE]
> Можно создать веб-сайт, на удаленном экземпляре служб IIS, либо через FTP.


1. Найдите msvsmon.exe на компьютере разработки, используя UNC-путь удаленного веб-сервера и выполните его.  
 Местоположение по умолчанию msvsmon.exe — //server/c$/Program файлы/Microsoft Visual Studio 8/Common7/IDE/удаленного отладчика/x86.
2. Если будет предложено разблокировать порты для удаленной отладки, сделайте это.
3. На компьютере разработки откройте кода для Default.aspx и установите точку останова в методе страницы/_подсистема.
4. Запустите отладку на компьютере разработки.

Вы должны достичь точки останова, должным образом.

## <a name="aspnet-development-server"></a>Сервер ASP.NET Development Server

Как мы уже выяснили, Visual Studio 2005 поставляется с веб-сервере ASP.NET Development Server. (ASP.NET Development Server иногда называется Cassini.) Этот веб-сервер — это удобный способ для просмотра и отладки приложений, работающих в файловой системе.

Сервер разработки ASP.NET является ограниченным доступом веб-сервера. Не поддерживает удаленные соединения, не поддерживает все запросы из любого пользователя, отличного от пользователя, запустившего веб-сервера. Он также имеет возможность обслуживания страниц ASP. Обслуживаются только ресурсы по ASP.NET и HTML ресурсов (включая изображения, файлы CSS и др.).

ASP.NET Development Server можно запустить из командной строки, запустив файл WebDev.WebServer.exe, расположенный в папке c:/Windows/Microsoft.NET/Framework/v2.0./*/* /  */*/*. Следующее диалоговое окно отображает параметры, которые доступны.


![](improvements-in-visual-studio-2005/_static/image11.jpg)

**Рис. 14**


> [!NOTE]
> ASP.NET Development Server не поддерживается при запуске явным образом с помощью командной строки.
