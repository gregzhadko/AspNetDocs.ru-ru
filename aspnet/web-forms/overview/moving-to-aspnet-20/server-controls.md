---
uid: web-forms/overview/moving-to-aspnet-20/server-controls
title: Серверные элементы управления | Документация Майкрософт
author: microsoft
description: ASP.NET 2.0 улучшает серверных элементов управления во многих отношениях. В этом модуле рассматриваются некоторые архитектурные изменения способа ASP.NET 2.0 и Visual Studio 200...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 43f6ac47-76fc-4cf7-8e9f-c18ce673dfd8
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/server-controls
msc.type: authoredcontent
ms.openlocfilehash: ecf99fa894c1f662542aa8a613195b828bf2c67b
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57061441"
---
<a name="server-controls"></a><span data-ttu-id="8edc8-104">Серверные элементы управления</span><span class="sxs-lookup"><span data-stu-id="8edc8-104">Server Controls</span></span>
====================
<span data-ttu-id="8edc8-105">по [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="8edc8-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="8edc8-106">ASP.NET 2.0 улучшает серверных элементов управления во многих отношениях.</span><span class="sxs-lookup"><span data-stu-id="8edc8-106">ASP.NET 2.0 enhances server controls in many ways.</span></span> <span data-ttu-id="8edc8-107">В этом модуле рассматриваются некоторые архитектурные изменения как ASP.NET 2.0 и Visual Studio 2005 имеет дело с серверными элементами управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-107">In this module, we'll cover some of the architectural changes to the way ASP.NET 2.0 and Visual Studio 2005 deals with server controls.</span></span>


<span data-ttu-id="8edc8-108">ASP.NET 2.0 улучшает серверных элементов управления во многих отношениях.</span><span class="sxs-lookup"><span data-stu-id="8edc8-108">ASP.NET 2.0 enhances server controls in many ways.</span></span> <span data-ttu-id="8edc8-109">В этом модуле рассматриваются некоторые архитектурные изменения как ASP.NET 2.0 и Visual Studio 2005 имеет дело с серверными элементами управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-109">In this module, we'll cover some of the architectural changes to the way ASP.NET 2.0 and Visual Studio 2005 deals with server controls.</span></span>

## <a name="view-state"></a><span data-ttu-id="8edc8-110">Состояние представления</span><span class="sxs-lookup"><span data-stu-id="8edc8-110">View state</span></span>

<span data-ttu-id="8edc8-111">Основное изменение в состоянии представления в ASP.NET 2.0 это существенное уменьшение размера.</span><span class="sxs-lookup"><span data-stu-id="8edc8-111">The primary change in view state in ASP.NET 2.0 is a dramatic reduction in size.</span></span> <span data-ttu-id="8edc8-112">Рассмотрим страницу с помощью только календаря на нем.</span><span class="sxs-lookup"><span data-stu-id="8edc8-112">Consider a page with only a Calendar control on it.</span></span> <span data-ttu-id="8edc8-113">Ниже приведено состояние представления в ASP.NET 1.1.</span><span class="sxs-lookup"><span data-stu-id="8edc8-113">Here is the view state in ASP.NET 1.1.</span></span>

[!code-css[Main](server-controls/samples/sample1.css)]

<span data-ttu-id="8edc8-114">Вот состояния представления на странице идентичны в ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="8edc8-114">Now here's the view state on an identical page in ASP.NET 2.0.</span></span>

[!code-css[Main](server-controls/samples/sample2.css)]

<span data-ttu-id="8edc8-115">Это довольно значительное изменение, и рассмотрения, передаваемые состояние представления и обратно по сети, это изменение можно предоставить разработчикам повысить производительность.</span><span class="sxs-lookup"><span data-stu-id="8edc8-115">That's a pretty significant change, and considering that view state is carried back and forth over the wire, this change can give developers a significant performance increase.</span></span> <span data-ttu-id="8edc8-116">Уменьшение размера состояния представления является главным образом из-за то, что мы обработать внутренним образом.</span><span class="sxs-lookup"><span data-stu-id="8edc8-116">The reduction in size of view state is largely due to the way that we handle it internally.</span></span> <span data-ttu-id="8edc8-117">Помните, что строка в кодировке Base64 находится в состоянии представления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-117">Remember that view state is a Base64 encoded string.</span></span> <span data-ttu-id="8edc8-118">Чтобы лучше понять изменения в состоянии представления в ASP.NET 2.0, давайте взглянем на расшифрованных значений из приведенных выше примерах.</span><span class="sxs-lookup"><span data-stu-id="8edc8-118">To better understand the change in view state in ASP.NET 2.0, let's have a look at the decoded values from the examples above.</span></span>

<span data-ttu-id="8edc8-119">Вот декодировать состояние 1.1 представления:</span><span class="sxs-lookup"><span data-stu-id="8edc8-119">Here is the 1.1 view state decoded:</span></span>

[!code-css[Main](server-controls/samples/sample3.css)]

<span data-ttu-id="8edc8-120">Это может выглядеть немного как понятно, но есть здесь шаблон.</span><span class="sxs-lookup"><span data-stu-id="8edc8-120">This may look a bit like gibberish, but there is a pattern here.</span></span> <span data-ttu-id="8edc8-121">В ASP.NET 1.x, мы использовать одиночные символы для идентификации типов данных и список значений с помощью &lt; &gt; символов.</span><span class="sxs-lookup"><span data-stu-id="8edc8-121">In ASP.NET 1.x, we used single characters to identify data-types and delimited values using the &lt;&gt; characters.</span></span> <span data-ttu-id="8edc8-122">В примере выше представление состояния «t» представляет три полосы.</span><span class="sxs-lookup"><span data-stu-id="8edc8-122">The "t" in the view state sample above represents a Triplet.</span></span> <span data-ttu-id="8edc8-123">Триада содержит пару ArrayLists («l» представляет ArrayList). Один из этих ArrayLists содержит Int32 («i») со значением 1, а второй содержит другой Triplet.</span><span class="sxs-lookup"><span data-stu-id="8edc8-123">The Triplet contains a pair of ArrayLists (the "l" represents an ArrayList.) One of those ArrayLists contains an Int32 ("i") with a value of 1 and the other contains another Triplet.</span></span> <span data-ttu-id="8edc8-124">Триада содержит пару ArrayLists и т. д. Важно помнить, что том, что мы используем Троек, содержащие пары, мы определить типы данных с помощью буквы, и мы используем &lt; и &gt; символов в качестве разделителей.</span><span class="sxs-lookup"><span data-stu-id="8edc8-124">The Triplet contains a pair of ArrayLists, etc. The important thing to remember is that we use Triplets that contain pairs, we identify the data-types via a letter, and we use the &lt; and &gt; characters as delimiters.</span></span>

<span data-ttu-id="8edc8-125">В ASP.NET 2.0 состояние представления декодированный выглядит немного отличается.</span><span class="sxs-lookup"><span data-stu-id="8edc8-125">In ASP.NET 2.0, the decoded view state looks a bit different.</span></span>

[!code-powershell[Main](server-controls/samples/sample4.ps1)]

<span data-ttu-id="8edc8-126">Следует заметить, использовавшегося в внешний вид состояния декодированного представления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-126">You should notice a huge change in the appearance of the decoded view state.</span></span> <span data-ttu-id="8edc8-127">Это изменение имеет несколько архитектурными.</span><span class="sxs-lookup"><span data-stu-id="8edc8-127">This change has several architectural underpinnings.</span></span> <span data-ttu-id="8edc8-128">Состояние представления в ASP.NET 1.x использованное LosFormatter для сериализации данных.</span><span class="sxs-lookup"><span data-stu-id="8edc8-128">View state in ASP.NET 1.x used the LosFormatter to serialize data.</span></span> <span data-ttu-id="8edc8-129">В версии 2.0 мы используем новый класс ObjectStateFormatter.</span><span class="sxs-lookup"><span data-stu-id="8edc8-129">In 2.0, we use the new ObjectStateFormatter class.</span></span> <span data-ttu-id="8edc8-130">Этот класс был специально разработан для сериализации и десериализации состояния представления и состояние элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-130">This class was specifically designed to aid in the serialization and deserialization of view state and control state.</span></span> <span data-ttu-id="8edc8-131">(Состояние элемента управления будет рассматриваться в следующем разделе.) Существует множество преимуществ, изменив метод, по которому сериализация и десериализация выполняются.</span><span class="sxs-lookup"><span data-stu-id="8edc8-131">(Control state will be covered in the next section.) There are many benefits gained by changing the method by which serialization and deserialization take place.</span></span> <span data-ttu-id="8edc8-132">Одним из самых значительных является тот факт, что в отличие от LosFormatter, который использует объект TextWriter, ObjectStateFormatter использует BinaryWriter.</span><span class="sxs-lookup"><span data-stu-id="8edc8-132">One of the most dramatic is the fact that unlike the LosFormatter which uses a TextWriter, the ObjectStateFormatter uses a BinaryWriter.</span></span> <span data-ttu-id="8edc8-133">Это позволяет ASP.NET 2.0 для сохранения состояния представления последовательность байтов, а не строк.</span><span class="sxs-lookup"><span data-stu-id="8edc8-133">This allows ASP.NET 2.0 to store view state a series of bytes instead of strings.</span></span> <span data-ttu-id="8edc8-134">Возьмем, например, целое число.</span><span class="sxs-lookup"><span data-stu-id="8edc8-134">Take, for example, an integer.</span></span> <span data-ttu-id="8edc8-135">В ASP.NET 1.1 целое требуется 4 байта состояния представления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-135">In ASP.NET 1.1, an integer required 4 bytes of view state.</span></span> <span data-ttu-id="8edc8-136">В ASP.NET 2.0 это же число требуется только 1 байт.</span><span class="sxs-lookup"><span data-stu-id="8edc8-136">In ASP.NET 2.0, that same integer only requires 1 byte.</span></span> <span data-ttu-id="8edc8-137">Другие усовершенствования были внесены уменьшить состояние представления, которые хранятся.</span><span class="sxs-lookup"><span data-stu-id="8edc8-137">Other enhancements were made to decrease the amount of view state that is stored.</span></span> <span data-ttu-id="8edc8-138">Значения даты и времени, например, теперь хранятся с использованием TickCount вместо строки.</span><span class="sxs-lookup"><span data-stu-id="8edc8-138">DateTime values, for example, are now stored using a TickCount instead of a string.</span></span>

<span data-ttu-id="8edc8-139">Так, как если бы все это мало, был уделить особое внимание тот факт, что одним из наиболее потребителей состояния представления в версии 1.x был DataGrid и схожих элементов управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-139">As if all of that weren't enough, special attention was paid to the fact that one of the greatest consumers of view state in 1.x was the DataGrid and similar controls.</span></span> <span data-ttu-id="8edc8-140">Большой недостаток элементов управления, такие как DataGrid, где связано состояние представления — что он часто содержит большое количество повторяющихся сведения.</span><span class="sxs-lookup"><span data-stu-id="8edc8-140">A major drawback of controls such as the DataGrid where view state is concerned is that it often contains large amounts of repeated information.</span></span> <span data-ttu-id="8edc8-141">В ASP.NET 1.x, которое просто хранились над и еще раз в результате чего состояния просмотра перегруженными.</span><span class="sxs-lookup"><span data-stu-id="8edc8-141">In ASP.NET 1.x, that repeated information was simply stored over and over again resulting in a bloated view state.</span></span> <span data-ttu-id="8edc8-142">В ASP.NET 2.0 мы используем новый класс IndexedString для хранения таких данных.</span><span class="sxs-lookup"><span data-stu-id="8edc8-142">In ASP.NET 2.0, we use the new IndexedString class to store such data.</span></span> <span data-ttu-id="8edc8-143">Если строка повторяется, мы просто хранить маркер IndexedString и индекс в таблице выполняющихся IndexedString объектов.</span><span class="sxs-lookup"><span data-stu-id="8edc8-143">If a string repeats, we just store the token for the IndexedString and the index within a running table of IndexedString objects.</span></span>

## <a name="control-state"></a><span data-ttu-id="8edc8-144">Состояние элемента управления</span><span class="sxs-lookup"><span data-stu-id="8edc8-144">Control State</span></span>

<span data-ttu-id="8edc8-145">Одной из основных жалобы, которые разработчики были с состоянием представления было размер, он будет добавлен в полезные данные HTTP.</span><span class="sxs-lookup"><span data-stu-id="8edc8-145">One of the major gripes that developers had with view state was the size that it added to the HTTP payload.</span></span> <span data-ttu-id="8edc8-146">Как упоминалось выше, одним из наиболее потребителей состояния представления является элементом управления DataGrid.</span><span class="sxs-lookup"><span data-stu-id="8edc8-146">As previously mentioned, one of the greatest consumers of view state is the DataGrid control.</span></span> <span data-ttu-id="8edc8-147">Чтобы избежать огромные объемы состояния представления, созданные в элемент управления DataGrid, многие разработчики просто состояние представления для этого элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-147">To avoid the huge amounts of view state generated by a DataGrid, many developers simply disabled view state for that control.</span></span> <span data-ttu-id="8edc8-148">К сожалению это решение не всегда было вполне приемлемым.</span><span class="sxs-lookup"><span data-stu-id="8edc8-148">Unfortunately, that solution wasn't always a good one.</span></span> <span data-ttu-id="8edc8-149">Состояние представления в ASP.NET 1.x содержит не только данные, необходимые для правильного функционирования элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-149">View state in ASP.NET 1.x contains not only data necessary for the correct functionality of the control.</span></span> <span data-ttu-id="8edc8-150">Он также содержит сведения, касающиеся состояние элемента управления пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="8edc8-150">It also contains information concerning the state of the control's UI.</span></span> <span data-ttu-id="8edc8-151">Это означает, что если вы хотите разрешить для разбиения на страницы на элемент управления DataGrid, следует включить состояние просмотра, даже если не требуется всех данных пользовательского интерфейса, просмотр состояния содержит.</span><span class="sxs-lookup"><span data-stu-id="8edc8-151">This means that if you want to allow for pagination on a DataGrid, you must enable view state even if you don't need all of the UI information that view state contains.</span></span> <span data-ttu-id="8edc8-152">Это позволяет отдельных сценарии.</span><span class="sxs-lookup"><span data-stu-id="8edc8-152">It's an all-or-nothing scenario.</span></span>

<span data-ttu-id="8edc8-153">В ASP.NET 2.0 состояние элемента управления решает эту проблему, хорошо через общие сведения о состояния элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-153">In ASP.NET 2.0, control state solves that problem nicely via the introduction of control state.</span></span> <span data-ttu-id="8edc8-154">Состояние элемента управления с данными, совершенно необходима для правильной работы элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-154">Control state contains the data that is absolutely necessary for the proper functionality of a control.</span></span> <span data-ttu-id="8edc8-155">В отличие от состояния представления нельзя отключить состояние элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-155">Unlike view state, control state cannot be disabled.</span></span> <span data-ttu-id="8edc8-156">Таким образом важно тщательно контролируется данные, сохраняемые в состоянии элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-156">Therefore, it is important that the data being stored in control state is carefully controlled.</span></span>

> [!NOTE]
> <span data-ttu-id="8edc8-157">Состояние элемента управления сохраняется вместе с состоянием представления в \_ \_VIEWSTATE скрытого поля формы.</span><span class="sxs-lookup"><span data-stu-id="8edc8-157">Control state is persisted along with the view state in the \_\_VIEWSTATE hidden form field.</span></span>


<span data-ttu-id="8edc8-158">В этом видео приведено пошаговое описание состояния представления и состояние элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-158">This video is a walkthrough of view state and control state.</span></span>


![](server-controls/_static/image1.png)


[<span data-ttu-id="8edc8-159">Открыть весь экран</span><span class="sxs-lookup"><span data-stu-id="8edc8-159">Open Full-Screen Video</span></span>](server-controls/_static/state1.wmv)


<span data-ttu-id="8edc8-160">Чтобы серверный элемент управления для чтения и записи для управления состоянием необходимо выполнить три действия.</span><span class="sxs-lookup"><span data-stu-id="8edc8-160">In order for a server control to read and write to control state, you must take three steps.</span></span>

## <a name="step-1-call-the-registerrequirescontrolstate-method"></a><span data-ttu-id="8edc8-161">Шаг 1. Вызовите метод RegisterRequiresControlState</span><span class="sxs-lookup"><span data-stu-id="8edc8-161">Step 1: Call the RegisterRequiresControlState Method</span></span>

<span data-ttu-id="8edc8-162">Метод RegisterRequiresControlState сообщает ASP.NET, необходимость элемента управления для сохранения состояния элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-162">The RegisterRequiresControlState method informs ASP.NET that a control needs to persist control state.</span></span> <span data-ttu-id="8edc8-163">Он принимает один аргумент типа элемента управления, который является элемент управления, который регистрируется.</span><span class="sxs-lookup"><span data-stu-id="8edc8-163">It takes one argument of type Control which is the control that is being registered.</span></span>

<span data-ttu-id="8edc8-164">Важно отметить, что регистрация не сохраняется от запроса.</span><span class="sxs-lookup"><span data-stu-id="8edc8-164">It is important to note that registration does not persist from request to request.</span></span> <span data-ttu-id="8edc8-165">Таким образом этот метод должен вызываться при каждом запросе Если элемент управления для сохранения состояния элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-165">Therefore, this method must be called on every request if a control is to persist control state.</span></span> <span data-ttu-id="8edc8-166">Рекомендуется, что метод будет вызван в OnInit.</span><span class="sxs-lookup"><span data-stu-id="8edc8-166">It is recommended that the method be called in OnInit.</span></span>

[!code-csharp[Main](server-controls/samples/sample5.cs)]

## <a name="step-2-override-savecontrolstate"></a><span data-ttu-id="8edc8-167">Шаг 2. Переопределить SaveControlState</span><span class="sxs-lookup"><span data-stu-id="8edc8-167">Step 2: Override SaveControlState</span></span>

<span data-ttu-id="8edc8-168">Метод SaveControlState сохраняет изменения состояния для элемента управления с момента последней обратной передачи.</span><span class="sxs-lookup"><span data-stu-id="8edc8-168">The SaveControlState method saves control state changes for a control since the last post back.</span></span> <span data-ttu-id="8edc8-169">Он возвращает объект, представляющий состояние элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-169">It returns an object representing the control's state.</span></span>

## <a name="step-3-override-loadcontrolstate"></a><span data-ttu-id="8edc8-170">Шаг 3. Переопределить LoadControlState</span><span class="sxs-lookup"><span data-stu-id="8edc8-170">Step 3: Override LoadControlState</span></span>

<span data-ttu-id="8edc8-171">Метод LoadControlState загружает сохраненное состояние в элемент управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-171">The LoadControlState method loads saved state into a control.</span></span> <span data-ttu-id="8edc8-172">Этот метод принимает один аргумент типа Object, который содержит сохраненное состояние элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-172">The method takes one argument of type Object which holds the saved state for the control.</span></span>

## <a name="full-xhtml-compliance"></a><span data-ttu-id="8edc8-173">Полный XHTML-совместимость</span><span class="sxs-lookup"><span data-stu-id="8edc8-173">Full XHTML Compliance</span></span>

<span data-ttu-id="8edc8-174">Любой веб-разработчиков знает важность стандартов в веб-приложениях.</span><span class="sxs-lookup"><span data-stu-id="8edc8-174">Any Web developer knows the importance of standards in Web applications.</span></span> <span data-ttu-id="8edc8-175">Чтобы поддерживать среду разработки на основе стандартов, ASP.NET 2.0 является полностью с XHTML.</span><span class="sxs-lookup"><span data-stu-id="8edc8-175">In order to maintain a standards-based development environment, ASP.NET 2.0 is fully XHTML compliant.</span></span> <span data-ttu-id="8edc8-176">Таким образом все теги, готовый для просмотра в соответствии со стандартами XHTML в браузерах, поддерживающих HTML 4.0 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="8edc8-176">Therefore, all tags are rendered according to XHTML standards in browsers that support HTML 4.0 or greater.</span></span>

<span data-ttu-id="8edc8-177">Определение типа документа в ASP.NET 1.1 был следующим образом:</span><span class="sxs-lookup"><span data-stu-id="8edc8-177">The DOCTYPE definition in ASP.NET 1.1 was as follows:</span></span>

[!code-html[Main](server-controls/samples/sample6.html)]

<span data-ttu-id="8edc8-178">В ASP.NET 2.0 определение типа документа по умолчанию выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="8edc8-178">In ASP.NET 2.0, the default DOCTYPE definition is as follows:</span></span>

[!code-html[Main](server-controls/samples/sample7.html)]

<span data-ttu-id="8edc8-179">При желании можно изменить сведения о соответствии XHML по умолчанию через узел xhtmlConformance в файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="8edc8-179">If you choose, you can alter the default XHML compliance via the xhtmlConformance node in the configuration file.</span></span> <span data-ttu-id="8edc8-180">Например следующий узел в файле web.config изменится XHTML-совместимость XHTML 1.0 Strict:</span><span class="sxs-lookup"><span data-stu-id="8edc8-180">For example, the following node in the web.config file will change XHTML compliance to XHTML 1.0 Strict:</span></span>

[!code-xml[Main](server-controls/samples/sample8.xml)]

<span data-ttu-id="8edc8-181">При желании можно также настроить ASP.NET для использования устаревших конфигурацию, используемую в ASP.NET 1.x, следующим образом:</span><span class="sxs-lookup"><span data-stu-id="8edc8-181">If you choose, you can also configure ASP.NET to use the legacy configuration used in ASP.NET 1.x as follows:</span></span>

[!code-xml[Main](server-controls/samples/sample9.xml)]

## <a name="adaptive-rendering-using-adapters"></a><span data-ttu-id="8edc8-182">Подготовка к просмотру с использованием адаптеров адаптивной</span><span class="sxs-lookup"><span data-stu-id="8edc8-182">Adaptive Rendering Using Adapters</span></span>

<span data-ttu-id="8edc8-183">В ASP.NET 1.x, файле конфигурации содержится &lt;browserCaps&gt; раздел, в котором заполняется объект HttpBrowserCapabilities.</span><span class="sxs-lookup"><span data-stu-id="8edc8-183">In ASP.NET 1.x, the configuration file contained a &lt;browserCaps&gt; section that populated a HttpBrowserCapabilities object.</span></span> <span data-ttu-id="8edc8-184">Этот объект может разработчику определить, какое устройство выполняет запрос и отобразить код соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="8edc8-184">This object allowed a developer to determine what device is making a particular request and render code appropriately.</span></span> <span data-ttu-id="8edc8-185">В ASP.NET 2.0 модель улучшена и теперь использует новый класс ControlAdapter.</span><span class="sxs-lookup"><span data-stu-id="8edc8-185">In ASP.NET 2.0, the model has improved and now uses the new ControlAdapter class.</span></span> <span data-ttu-id="8edc8-186">Класс ControlAdapter переопределяет события жизненного цикла элемента управления и управляет отрисовку элементов управления в зависимости от возможностей агента пользователя.</span><span class="sxs-lookup"><span data-stu-id="8edc8-186">The ControlAdapter class overrides events in the control's lifecycle and controls the rendering of controls based upon the user agent's capabilities.</span></span> <span data-ttu-id="8edc8-187">Возможности на определенный агент пользователя определяются файл определения браузера (файл с расширением файла с расширением BROWSER), хранящиеся в c:\windows\microsoft.net\framework\v2.0. \* \* \* \*\CONFIG\Browsers папки.</span><span class="sxs-lookup"><span data-stu-id="8edc8-187">The capabilities of a specific user agent are defined by a browser definition file (a file with a .browser file extension) stored in the c:\windows\microsoft.net\framework\v2.0.\*\*\*\*\CONFIG\Browsers folder.</span></span>

> [!NOTE]
> <span data-ttu-id="8edc8-188">Класс ControlAdapter является абстрактным классом.</span><span class="sxs-lookup"><span data-stu-id="8edc8-188">The ControlAdapter class is an abstract class.</span></span>


<span data-ttu-id="8edc8-189">Подобно тому как &lt;browserCaps&gt; разделе в версии 1.x, файл определения браузера используется регулярное выражение выполнить синтаксический анализ строки агента пользователя для идентификации запрашивающим браузером.</span><span class="sxs-lookup"><span data-stu-id="8edc8-189">Much like the &lt;browserCaps&gt; section in 1.x, the browser definition file uses a Regular Expression to parse the user agent string in order to identify the requesting browser.</span></span> <span data-ttu-id="8edc8-190">Он их определяет возможности, определенного для этого агента пользователя.</span><span class="sxs-lookup"><span data-stu-id="8edc8-190">It them defines particular capabilities for that user agent.</span></span> <span data-ttu-id="8edc8-191">ControlAdapter отображает элемент управления через метод Render.</span><span class="sxs-lookup"><span data-stu-id="8edc8-191">The ControlAdapter renders the control via the Render method.</span></span> <span data-ttu-id="8edc8-192">Таким образом Если вы Переопределите метод Render, не следует вызывать отрисовки в базовом классе.</span><span class="sxs-lookup"><span data-stu-id="8edc8-192">Therefore, if you override the Render method, you should not call Render on the base class.</span></span> <span data-ttu-id="8edc8-193">Это может привести к визуализации дважды, один раз для адаптера и один раз для самого элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-193">Doing so may cause rendering to occur twice, once for the adapter and once for the control itself.</span></span>

## <a name="developing-a-custom-adapter"></a><span data-ttu-id="8edc8-194">Разработка пользовательского адаптера</span><span class="sxs-lookup"><span data-stu-id="8edc8-194">Developing a Custom Adapter</span></span>

<span data-ttu-id="8edc8-195">Вы можете разрабатывать собственный пользовательский адаптер путем наследования от ControlAdapter.</span><span class="sxs-lookup"><span data-stu-id="8edc8-195">You can develop your own custom adapter by inheriting from ControlAdapter.</span></span> <span data-ttu-id="8edc8-196">Кроме того можно наследовать от абстрактного класса PageAdapter в случаях, где требуется адаптер для страницы.</span><span class="sxs-lookup"><span data-stu-id="8edc8-196">Additionally, you can inherit from the abstract class PageAdapter in cases where an adapter is needed for a page.</span></span> <span data-ttu-id="8edc8-197">Сопоставление элементов управления для пользовательского адаптера можно выполнить посредством &lt;controlAdapters&gt; элемент в файле определения браузера.</span><span class="sxs-lookup"><span data-stu-id="8edc8-197">Mapping of controls to your custom adapter is accomplished via the &lt;controlAdapters&gt; element in the browser definition file.</span></span> <span data-ttu-id="8edc8-198">Например следующий код XML из файла определения браузера сопоставляет элемент управления Menu в класс MenuAdapter:</span><span class="sxs-lookup"><span data-stu-id="8edc8-198">For example, the following XML from a browser definition file maps the Menu control to the MenuAdapter class:</span></span>

[!code-html[Main](server-controls/samples/sample10.html)]

<span data-ttu-id="8edc8-199">С помощью этой модели, становится довольно просто разработчик элемента управления, предназначенную для конкретного устройства или браузера.</span><span class="sxs-lookup"><span data-stu-id="8edc8-199">Using this model, it becomes quite easy for a control developer to target a particular device or browser.</span></span> <span data-ttu-id="8edc8-200">Это также довольно просто, разработчик может полностью контролировать отображение страниц на каждом устройстве.</span><span class="sxs-lookup"><span data-stu-id="8edc8-200">It's also quite simple for a developer to have complete control over how pages render on every device.</span></span>

## <a name="per-device-rendering"></a><span data-ttu-id="8edc8-201">Отрисовки каждого устройства</span><span class="sxs-lookup"><span data-stu-id="8edc8-201">Per-Device Rendering</span></span>

<span data-ttu-id="8edc8-202">Свойства серверного элемента управления в ASP.NET 2.0 может быть указанного на уровне отдельного устройства с помощью префикса конкретного браузера.</span><span class="sxs-lookup"><span data-stu-id="8edc8-202">Server control properties in ASP.NET 2.0 can be specified per-device using a browser-specific prefix.</span></span> <span data-ttu-id="8edc8-203">Например приведенный ниже код будет изменить текст подписи, в зависимости от того, какое устройство используется для просмотра страницы.</span><span class="sxs-lookup"><span data-stu-id="8edc8-203">For example, the code below will change the Text of a label depending upon which device is being used to browse the page.</span></span>

[!code-aspx[Main](server-controls/samples/sample11.aspx)]

<span data-ttu-id="8edc8-204">При просмотре страницы, содержащей эту метку из Internet Explorer, метка будет отображать текст, говорим: «Вы подключаетесь из Internet Explorer.»</span><span class="sxs-lookup"><span data-stu-id="8edc8-204">When the page containing this label is browsed from Internet Explorer, the label will display text saying "You are browsing from Internet Explorer."</span></span> <span data-ttu-id="8edc8-205">При просмотре страницы из Firefox, метка будет отображать текст «Вы подключаетесь из Firefox.»</span><span class="sxs-lookup"><span data-stu-id="8edc8-205">When the page is browsed from Firefox, the label will display the text "You are browsing from Firefox."</span></span> <span data-ttu-id="8edc8-206">При просмотре страницы с любого другого устройства будет отображаться «При переходе из неизвестного устройства.»</span><span class="sxs-lookup"><span data-stu-id="8edc8-206">When the page is browsed from any other device, it will display "You are browsing from an unknown device."</span></span> <span data-ttu-id="8edc8-207">Любое свойство можно задать с помощью специального синтаксиса.</span><span class="sxs-lookup"><span data-stu-id="8edc8-207">Any property can be specified using this special syntax.</span></span>

## <a name="setting-focus"></a><span data-ttu-id="8edc8-208">Установка фокуса</span><span class="sxs-lookup"><span data-stu-id="8edc8-208">Setting Focus</span></span>

<span data-ttu-id="8edc8-209">Разработчики ASP.NET 1.x и ответы о том, как устанавливать исходный фокус на определенный элемент управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-209">ASP.NET 1.x developers frequently asked about how to set initial focus on a particular control.</span></span> <span data-ttu-id="8edc8-210">Например на странице входа, будет удобно иметь текстовое поле идентификатора пользователя получить фокус при первой загрузке страницы.</span><span class="sxs-lookup"><span data-stu-id="8edc8-210">For example, on a login page, it's useful to have the User ID textbox get the focus when the page first loads.</span></span> <span data-ttu-id="8edc8-211">В ASP.NET 1.x, это потребовали написания некоторые клиентского скрипта.</span><span class="sxs-lookup"><span data-stu-id="8edc8-211">In ASP.NET 1.x, doing this required writing some client-side script.</span></span> <span data-ttu-id="8edc8-212">Несмотря на то, что такого сценария является тривиальной задачей, больше не необходимости в среде ASP.NET 2.0 благодаря метод SetFocus.</span><span class="sxs-lookup"><span data-stu-id="8edc8-212">Even though such a script is a trivial task, it's no longer necessary in ASP.NET 2.0 thanks to the SetFocus method.</span></span> <span data-ttu-id="8edc8-213">Метод SetFocus принимает один аргумент, связанным с управлением, который должен попасть фокус.</span><span class="sxs-lookup"><span data-stu-id="8edc8-213">The SetFocus method takes one argument indicating the control that should receive focus.</span></span> <span data-ttu-id="8edc8-214">Этот аргумент может быть идентификатор клиента для управления как строка или имя серверного элемента управления как объект элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-214">This argument can either be the client ID of the control as a string or the name of the Server control as a Control object.</span></span> <span data-ttu-id="8edc8-215">Например, чтобы задать исходный фокус в элементе управления TextBox, вызывается txtUserID, при первой загрузке страницы, добавьте следующий код на страницу\_нагрузки:</span><span class="sxs-lookup"><span data-stu-id="8edc8-215">For example, to set the initial focus to a TextBox control called txtUserID when the page first loads, add the following code to Page\_Load:</span></span>

[!code-csharp[Main](server-controls/samples/sample12.cs)]

<span data-ttu-id="8edc8-216">--или</span><span class="sxs-lookup"><span data-stu-id="8edc8-216">-- or</span></span>

[!code-csharp[Main](server-controls/samples/sample13.cs)]

<span data-ttu-id="8edc8-217">ASP.NET 2.0 использует обработчик Webresource.axd (обсуждалось ранее) для отрисовки клиентской функции, который устанавливает фокус.</span><span class="sxs-lookup"><span data-stu-id="8edc8-217">ASP.NET 2.0 uses the Webresource.axd handler (discussed previously) to render a client-side function that sets the focus.</span></span> <span data-ttu-id="8edc8-218">Имя клиентской функции — WebForm\_AutoFocus, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="8edc8-218">The name of the client-side function is WebForm\_AutoFocus as shown here:</span></span>

[!code-html[Main](server-controls/samples/sample14.html)]

<span data-ttu-id="8edc8-219">Кроме того можно использовать метод фокуса для элемента управления, устанавливать исходный фокус на этот элемент управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-219">Alternatively, you can use the Focus method for a control to set the initial focus to that control.</span></span> <span data-ttu-id="8edc8-220">Метод Focus является производным от класса Control и доступен для всех элементов управления ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="8edc8-220">The Focus method derives from the Control class and is available to all ASP.NET 2.0 controls.</span></span> <span data-ttu-id="8edc8-221">Можно также установить фокус на определенный элемент управления, при возникновении ошибки проверки.</span><span class="sxs-lookup"><span data-stu-id="8edc8-221">It is also possible to set focus to a particular control when a validation error occurs.</span></span> <span data-ttu-id="8edc8-222">Который будет рассматриваться в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-222">That will be covered in a later module.</span></span>

## <a name="new-server-controls-in-aspnet-20"></a><span data-ttu-id="8edc8-223">Новые серверные элементы управления в ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="8edc8-223">New Server Controls in ASP.NET 2.0</span></span>

<span data-ttu-id="8edc8-224">Ниже приведены новые серверные элементы управления в ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="8edc8-224">The following are new server controls in ASP.NET 2.0.</span></span> <span data-ttu-id="8edc8-225">Давайте более подробно на некоторые из них в более поздней версии модулей.</span><span class="sxs-lookup"><span data-stu-id="8edc8-225">We will go into more detail on some of them in later modules.</span></span>

## <a name="imagemap-control"></a><span data-ttu-id="8edc8-226">Элемент управления ImageMap</span><span class="sxs-lookup"><span data-stu-id="8edc8-226">ImageMap Control</span></span>

<span data-ttu-id="8edc8-227">Элемент управления ImageMap позволяет добавить активные области изображения, которое можно инициировать обратной передачи или перейти на URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="8edc8-227">The ImageMap control allows you to add hotspots to an image that can initiate a post back or navigate to a URL.</span></span> <span data-ttu-id="8edc8-228">Доступны три типа точек беспроводного доступа; CircleHotSpot RectangleHotSpot и PolygonHotSpot.</span><span class="sxs-lookup"><span data-stu-id="8edc8-228">There are three types of hotspots available; CircleHotSpot, RectangleHotSpot, and PolygonHotSpot.</span></span> <span data-ttu-id="8edc8-229">Горячие точки добавляются с помощью редактора коллекции в Visual Studio, или программно в коде.</span><span class="sxs-lookup"><span data-stu-id="8edc8-229">Hotspots are added via a collection editor in Visual Studio or programmatically in code.</span></span> <span data-ttu-id="8edc8-230">Для рисования проблемных мест в образ доступен без интерфейса пользователя.</span><span class="sxs-lookup"><span data-stu-id="8edc8-230">There is no user-interface available for drawing hotspots on an image.</span></span> <span data-ttu-id="8edc8-231">Координаты и размер или радиус активной области должны быть указаны декларативно.</span><span class="sxs-lookup"><span data-stu-id="8edc8-231">The coordinates and size or radius of the hotspot must be specified declaratively.</span></span> <span data-ttu-id="8edc8-232">Имеется также не визуальным представлением активную область в конструкторе.</span><span class="sxs-lookup"><span data-stu-id="8edc8-232">There is also no visual representation of a hotspot in the designer.</span></span> <span data-ttu-id="8edc8-233">Если активная область настроена для перехода на URL-адрес, URL-адрес задается с помощью свойства NavigateUrl гиперобъекта.</span><span class="sxs-lookup"><span data-stu-id="8edc8-233">If a hotspot is configured to navigate to a URL, the URL is specified via the NavigateUrl property of the hotspot.</span></span> <span data-ttu-id="8edc8-234">В случае отправки обратно гиперобъектов, PostBackValue, свойство позволяет передать строку в обратной передачи, можно получить в коде на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="8edc8-234">In the case of a post back hotspot, the PostBackValue property allows you to pass a string in the post back that can be retrieved in server-side code.</span></span>


![Редактор коллекции гиперобъектов в Visual Studio](server-controls/_static/image1.jpg)

<span data-ttu-id="8edc8-236">**Рис. 1**: Редактор коллекции гиперобъектов в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="8edc8-236">**Figure 1**: HotSpot Collection Editor in Visual Studio</span></span>


## <a name="bulletedlist-control"></a><span data-ttu-id="8edc8-237">Элемент управления BulletedList</span><span class="sxs-lookup"><span data-stu-id="8edc8-237">BulletedList Control</span></span>

<span data-ttu-id="8edc8-238">Элемент управления BulletedList является маркированный список, можно легко привязан к данным.</span><span class="sxs-lookup"><span data-stu-id="8edc8-238">The BulletedList control is a bulleted list that can easily be data bound.</span></span> <span data-ttu-id="8edc8-239">Список может быть упорядочен (нумерованные) или два неупорядоченных через свойство BulletStyle.</span><span class="sxs-lookup"><span data-stu-id="8edc8-239">The list can be ordered (numbered) or unordered via the BulletStyle property.</span></span> <span data-ttu-id="8edc8-240">Каждый элемент в списке будет представлен объект ListItem.</span><span class="sxs-lookup"><span data-stu-id="8edc8-240">Each item in the list is represented by a ListItem object.</span></span>


![Элемент управления BulletedList в Visual Studio](server-controls/_static/image1.gif)

<span data-ttu-id="8edc8-242">**Рис. 2**: Элемент управления BulletedList в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="8edc8-242">**Figure 2**: BulletedList Control in Visual Studio</span></span>


## <a name="hiddenfield-control"></a><span data-ttu-id="8edc8-243">Элемент управления HiddenField</span><span class="sxs-lookup"><span data-stu-id="8edc8-243">HiddenField Control</span></span>

<span data-ttu-id="8edc8-244">Элемент управления HiddenField добавляет скрытое поле формы страницу, значение которого доступна в коде на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="8edc8-244">The HiddenField control adds a hidden form field to your page, the value of which is available in server-side code.</span></span> <span data-ttu-id="8edc8-245">Значение скрытого поля формы, обычно ожидается остаются неизменными между обратные передачи.</span><span class="sxs-lookup"><span data-stu-id="8edc8-245">The value of a hidden form field is generally expected to remain unchanged between post backs.</span></span> <span data-ttu-id="8edc8-246">Тем не менее существует возможность злонамеренный пользователь может изменить значение предварительного обратную.</span><span class="sxs-lookup"><span data-stu-id="8edc8-246">However, it is possible for a malicious user to change the value prior to post back.</span></span> <span data-ttu-id="8edc8-247">В этом случае элемент управления HiddenField инициирует событие ValueChanged.</span><span class="sxs-lookup"><span data-stu-id="8edc8-247">If this happens, the HiddenField control will raise the ValueChanged event.</span></span> <span data-ttu-id="8edc8-248">Если у вас есть конфиденциальные сведения в элементе управления HiddenField и вы хотите убедиться, что он остается неизменным, событию ValueChanged должна обрабатывать в коде.</span><span class="sxs-lookup"><span data-stu-id="8edc8-248">If you have sensitive information in the HiddenField control and you want to ensure that it remains unchanged, you should handle the ValueChanged event in your code.</span></span>

## <a name="fileupload-control"></a><span data-ttu-id="8edc8-249">Элемента управления fileUpload</span><span class="sxs-lookup"><span data-stu-id="8edc8-249">FileUpload Control</span></span>

<span data-ttu-id="8edc8-250">Элемента управления FileUpload в ASP.NET 2.0 позволяет передать файлы на веб-сервере с помощью страницы ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8edc8-250">The FileUpload control in ASP.NET 2.0 makes it possible to upload files to a Web server via an ASP.NET page.</span></span> <span data-ttu-id="8edc8-251">Этот элемент управления похож на класс HtmlInputFile ASP.NET 1.x, за некоторыми исключениями.</span><span class="sxs-lookup"><span data-stu-id="8edc8-251">This control is quite similar to the ASP.NET 1.x HtmlInputFile class with a few exceptions.</span></span> <span data-ttu-id="8edc8-252">В ASP.NET 1.x, он был рекомендован, что свойство PostedFile которого проверяется значение null, чтобы определить, что у вас имеется файл просто.</span><span class="sxs-lookup"><span data-stu-id="8edc8-252">In ASP.NET 1.x, it was recommended that the PostedFile property be checked for null in order to determine if you had a good file.</span></span> <span data-ttu-id="8edc8-253">Элемента управления FileUpload в ASP.NET 2.0 добавляет новое свойство HasFile, что можно использовать для той же цели, и более эффективно.</span><span class="sxs-lookup"><span data-stu-id="8edc8-253">The FileUpload control in ASP.NET 2.0 adds a new HasFile property that you can use for the same purpose and it's a bit more efficient.</span></span>

<span data-ttu-id="8edc8-254">Свойство PostedFile по-прежнему доступна для доступа к объекту HttpPostedFile, но некоторые функции HttpPostedFile теперь доступна по своей природе с помощью элемента управления FileUpload.</span><span class="sxs-lookup"><span data-stu-id="8edc8-254">The PostedFile property is still available for access to an HttpPostedFile object, but some of the functionality of the HttpPostedFile is now available intrinsically with the FileUpload control.</span></span> <span data-ttu-id="8edc8-255">Например, чтобы сохранить загруженный файл в ASP.NET 1.x, можно вызвать метод SaveAs объекта HttpPostedFile.</span><span class="sxs-lookup"><span data-stu-id="8edc8-255">For example, to save an uploaded file in ASP.NET 1.x, you call the SaveAs method on the HttpPostedFile object.</span></span> <span data-ttu-id="8edc8-256">Использование элемента управления FileUpload в ASP.NET 2.0, будет вызван метод SaveAs на самого элемента управления FileUpload.</span><span class="sxs-lookup"><span data-stu-id="8edc8-256">Using the FileUpload control in ASP.NET 2.0, you would call the SaveAs method on the FileUpload control itself.</span></span>

<span data-ttu-id="8edc8-257">Другое значительное изменение в версии 2.0 поведение (и, скорее всего, наиболее значительное изменение) — это больше не требуется для загрузки всего отправленного файла в память перед сохранением.</span><span class="sxs-lookup"><span data-stu-id="8edc8-257">Another significant change in the 2.0 behavior (and likely the most significant change) is that it is no longer necessary to load an entire uploaded file into memory before saving it.</span></span> <span data-ttu-id="8edc8-258">В версии 1.x, любой файл, который был отправлен сохраняется полностью в памяти перед записью на диск.</span><span class="sxs-lookup"><span data-stu-id="8edc8-258">In 1.x, any file that was uploaded is saved entirely into memory prior to being written to disk.</span></span> <span data-ttu-id="8edc8-259">Такая архитектура предотвращает отправку больших файлов.</span><span class="sxs-lookup"><span data-stu-id="8edc8-259">This architecture prevents the upload of large files.</span></span>

<span data-ttu-id="8edc8-260">В ASP.NET 2.0, атрибут requestLengthDiskThreshold элемент httpRuntime следующим образом можно настроить число килобайт хранятся в буфере в памяти перед записью на диск.</span><span class="sxs-lookup"><span data-stu-id="8edc8-260">In ASP.NET 2.0, the requestLengthDiskThreshold attribute of the httpRuntime element allows you to configure how many Kilobytes are held in a buffer in memory prior to being written to disk.</span></span>

<span data-ttu-id="8edc8-261">**ВАЖНЫЕ**: Документация MSDN (и документации в другом месте) указывает, что это значение задается в байтах (не килобайт) и что значение по умолчанию равно 256.</span><span class="sxs-lookup"><span data-stu-id="8edc8-261">**IMPORTANT**: MSDN documentation (and documentation elsewhere) specifies that this value is in bytes (not Kilobytes) and that the default is 256.</span></span> <span data-ttu-id="8edc8-262">Фактически значение указано в килобайтах, и значение по умолчанию — 80.</span><span class="sxs-lookup"><span data-stu-id="8edc8-262">The value is actually specified in Kilobytes and the default value is 80.</span></span> <span data-ttu-id="8edc8-263">Когда значение по умолчанию 80 КБ, убедитесь, что буфер не попадут в куче больших объектов.</span><span class="sxs-lookup"><span data-stu-id="8edc8-263">By having a default value of 80K, we ensure that the buffer does not end up on the large object heap.</span></span>

## <a name="wizard-control"></a><span data-ttu-id="8edc8-264">Мастер управления</span><span class="sxs-lookup"><span data-stu-id="8edc8-264">Wizard Control</span></span>

<span data-ttu-id="8edc8-265">Это довольно часто возникают разработчиков ASP.NET, стараясь при попытке получить информацию в серии «страниц», с помощью панелей или посредством перемещения между страницами.</span><span class="sxs-lookup"><span data-stu-id="8edc8-265">It is fairly common to encounter ASP.NET developers struggling with attempting to gather information in a series of "pages" using panels or by transferring from page to page.</span></span> <span data-ttu-id="8edc8-266">Гораздо чаще задачей является утомительным и занимает много времени.</span><span class="sxs-lookup"><span data-stu-id="8edc8-266">More often than not, the endeavor is a frustrating one and is time consuming.</span></span> <span data-ttu-id="8edc8-267">Новый элемент управления мастера позволяет решить проблемы, позволяя для линейных и нелинейных действия в интерфейсе мастера, пользователи знакомы с.</span><span class="sxs-lookup"><span data-stu-id="8edc8-267">The new Wizard control solves the problems by allowing for linear and non-linear steps in a wizard interface that users are familiar with.</span></span> <span data-ttu-id="8edc8-268">Элемент управления мастер предоставляет формы ввода в ряд шагов.</span><span class="sxs-lookup"><span data-stu-id="8edc8-268">The Wizard control presents input forms in a series of steps.</span></span> <span data-ttu-id="8edc8-269">Каждый шаг — определенного типа, указанного в свойстве vlastnost StepType элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-269">Each step is of a particular type specified by the StepType property of the control.</span></span> <span data-ttu-id="8edc8-270">Ниже приведены типы доступных шаг:</span><span class="sxs-lookup"><span data-stu-id="8edc8-270">The available step types are as follows:</span></span>

| <span data-ttu-id="8edc8-271">**Тип шага**</span><span class="sxs-lookup"><span data-stu-id="8edc8-271">**Step Type**</span></span> | <span data-ttu-id="8edc8-272">**Объяснение**</span><span class="sxs-lookup"><span data-stu-id="8edc8-272">**Explanation**</span></span> |
| --- | --- |
| <span data-ttu-id="8edc8-273">Авто</span><span class="sxs-lookup"><span data-stu-id="8edc8-273">Auto</span></span> | <span data-ttu-id="8edc8-274">Мастер автоматически определяет тип шага, основываясь на его место в иерархии шаг.</span><span class="sxs-lookup"><span data-stu-id="8edc8-274">The wizard automatically determines the type of step based upon its position within the step hierarchy.</span></span> |
| <span data-ttu-id="8edc8-275">Запуск</span><span class="sxs-lookup"><span data-stu-id="8edc8-275">Start</span></span> | <span data-ttu-id="8edc8-276">Первый шаг, часто используется для представления вводной инструкции.</span><span class="sxs-lookup"><span data-stu-id="8edc8-276">The first step, often used to present an introductory statement.</span></span> |
| <span data-ttu-id="8edc8-277">Шаг</span><span class="sxs-lookup"><span data-stu-id="8edc8-277">Step</span></span> | <span data-ttu-id="8edc8-278">Обычный шаг.</span><span class="sxs-lookup"><span data-stu-id="8edc8-278">A normal step.</span></span> |
| <span data-ttu-id="8edc8-279">Готово</span><span class="sxs-lookup"><span data-stu-id="8edc8-279">Finish</span></span> | <span data-ttu-id="8edc8-280">Последним шагом, обычно используется для представления кнопку, чтобы завершить работу мастера.</span><span class="sxs-lookup"><span data-stu-id="8edc8-280">The final step, usually used to present a button to finish the wizard.</span></span> |
| <span data-ttu-id="8edc8-281">Завершено</span><span class="sxs-lookup"><span data-stu-id="8edc8-281">Complete</span></span> | <span data-ttu-id="8edc8-282">Представляет сообщение о взаимодействии об успехе или неудаче.</span><span class="sxs-lookup"><span data-stu-id="8edc8-282">Presents a message communicating success or failure.</span></span> |

> [!NOTE]
> <span data-ttu-id="8edc8-283">Мастер управления следит за его состоянием, с помощью состояния элемента управления ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8edc8-283">The Wizard control keeps track of its state using ASP.NET control state.</span></span> <span data-ttu-id="8edc8-284">Таким образом свойство EnableViewState может быть присвоено значение false, без любой ущерб.</span><span class="sxs-lookup"><span data-stu-id="8edc8-284">Therefore, the EnableViewState property can be set to false without any detriment.</span></span>


<span data-ttu-id="8edc8-285">В этом видео приведено пошаговое описание элемента управления Wizard.</span><span class="sxs-lookup"><span data-stu-id="8edc8-285">This video is a walkthrough of the Wizard control.</span></span>


![](server-controls/_static/image2.png)


[<span data-ttu-id="8edc8-286">Открыть весь экран</span><span class="sxs-lookup"><span data-stu-id="8edc8-286">Open Full-Screen Video</span></span>](server-controls/_static/wizard1.wmv)


## <a name="localize-control"></a><span data-ttu-id="8edc8-287">Localize-элемент управления</span><span class="sxs-lookup"><span data-stu-id="8edc8-287">Localize Control</span></span>

<span data-ttu-id="8edc8-288">Элемент управления Localize аналогична текстовым элементом управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-288">The Localize control is similar to a Literal control.</span></span> <span data-ttu-id="8edc8-289">Тем не менее, элемент управления Localize имеет **режим** свойство, которое определяет способ отображения разметки, который добавляется к нему.</span><span class="sxs-lookup"><span data-stu-id="8edc8-289">However, the Localize control has a **Mode** property that controls how markup that is added to it is rendered.</span></span> <span data-ttu-id="8edc8-290">Свойство Mode поддерживает следующие значения:</span><span class="sxs-lookup"><span data-stu-id="8edc8-290">The Mode property supports the following values:</span></span>

| <span data-ttu-id="8edc8-291">**Режим**</span><span class="sxs-lookup"><span data-stu-id="8edc8-291">**Mode**</span></span> | <span data-ttu-id="8edc8-292">**Объяснение**</span><span class="sxs-lookup"><span data-stu-id="8edc8-292">**Explanation**</span></span> |
| --- | --- |
| <span data-ttu-id="8edc8-293">Transform</span><span class="sxs-lookup"><span data-stu-id="8edc8-293">Transform</span></span> | <span data-ttu-id="8edc8-294">Разметка преобразуется в соответствии с протоколом браузера, выполняющего запрос.</span><span class="sxs-lookup"><span data-stu-id="8edc8-294">Markup is transformed according to the protocol of the browser making the request.</span></span> |
| <span data-ttu-id="8edc8-295">Сквозной режим</span><span class="sxs-lookup"><span data-stu-id="8edc8-295">PassThrough</span></span> | <span data-ttu-id="8edc8-296">Разметка будет обработана как-является.</span><span class="sxs-lookup"><span data-stu-id="8edc8-296">Markup is rendered as-is.</span></span> |
| <span data-ttu-id="8edc8-297">Кодирование</span><span class="sxs-lookup"><span data-stu-id="8edc8-297">Encode</span></span> | <span data-ttu-id="8edc8-298">Разметка, которая добавляется к элементу управления закодирован при помощи HtmlEncode.</span><span class="sxs-lookup"><span data-stu-id="8edc8-298">Markup that is added to the control is encoded using HtmlEncode.</span></span> |

## <a name="multiview-and-view-controls"></a><span data-ttu-id="8edc8-299">MultiView и элементы управления представления</span><span class="sxs-lookup"><span data-stu-id="8edc8-299">MultiView and View Controls</span></span>

<span data-ttu-id="8edc8-300">Элемента управления MultiView выступает в качестве контейнера для элементов управления представления, и элементе управления представления выступает в качестве контейнера (как элемент управления Panel) для других элементов управления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-300">The MultiView control acts as a container for View controls, and the View control acts as a container (much like a Panel control) for other controls.</span></span> <span data-ttu-id="8edc8-301">Каждое представление в элементе управления MultiView представлен один элемент управления представления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-301">Each view in a MultiView control is represented by a single View control.</span></span> <span data-ttu-id="8edc8-302">Первый элемент управления представления в режиме MultiView — представление 0, второй — представление 1, и т.д. Путем указания ActiveViewIndex элемента управления MultiView могут переключать представления.</span><span class="sxs-lookup"><span data-stu-id="8edc8-302">The first View control in the MultiView is view 0, the second is view 1, etc. You can switch views by specifying the ActiveViewIndex of the MultiView control.</span></span>

## <a name="substitution-control"></a><span data-ttu-id="8edc8-303">Элемент управления Substitution</span><span class="sxs-lookup"><span data-stu-id="8edc8-303">Substitution Control</span></span>

<span data-ttu-id="8edc8-304">Элемент управления Substitution используется в сочетании с помощью кэширования ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8edc8-304">The Substitution control is used in conjunction with ASP.NET caching.</span></span> <span data-ttu-id="8edc8-305">В случаях, когда вы хотите воспользоваться преимуществами кэширования, но у вас есть части страницы, который необходимо обновить для каждого запроса (другими словами, элементы страницы, которые исключаются из кэширования) компонент подстановки предоставляет отличное решение.</span><span class="sxs-lookup"><span data-stu-id="8edc8-305">In cases where you want to take advantage of caching, but you have portions of a page that must be updated on each request (in other words, portions of a page that are exempt from caching), the Substitution component provides a great solution.</span></span> <span data-ttu-id="8edc8-306">Элемент управления не отображает никаких выходных данных сама по себе фактически.</span><span class="sxs-lookup"><span data-stu-id="8edc8-306">The control doesn't actually render any output on its own.</span></span> <span data-ttu-id="8edc8-307">Вместо этого он привязан к методу в коде на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="8edc8-307">Instead, it is bound to a method in server-side code.</span></span> <span data-ttu-id="8edc8-308">При запросе страницы вызывается метод и возвращенная разметка отображается вместо элемент управления substitution.</span><span class="sxs-lookup"><span data-stu-id="8edc8-308">When the page is requested, the method is called and the returned markup is rendered in place of the substitution control.</span></span>

<span data-ttu-id="8edc8-309">Метод, к которому привязан элемент управления Substitution указываются с помощью **имя_метода** свойство.</span><span class="sxs-lookup"><span data-stu-id="8edc8-309">The method to which the Substitution control is bound is specified via the **MethodName** property.</span></span> <span data-ttu-id="8edc8-310">Этот метод должен удовлетворять следующим критериям:</span><span class="sxs-lookup"><span data-stu-id="8edc8-310">That method must meet the following criteria:</span></span>

- <span data-ttu-id="8edc8-311">Он должен быть метод статического (совместно используется в Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="8edc8-311">It must be a static (shared in VB) method.</span></span>
- <span data-ttu-id="8edc8-312">Он принимает один параметр типа HttpContext.</span><span class="sxs-lookup"><span data-stu-id="8edc8-312">It accepts one parameter of type HttpContext.</span></span>
- <span data-ttu-id="8edc8-313">Возвращается строка, представляющая разметку, которая должна заменить элемент управления на странице.</span><span class="sxs-lookup"><span data-stu-id="8edc8-313">It returns a string representing the markup that should replace the control on the page.</span></span>

<span data-ttu-id="8edc8-314">Элемент управления Substitution имеет возможность изменять любой другой элемент управления на странице, но он имеет доступа к текущий объект HttpContext через его параметр.</span><span class="sxs-lookup"><span data-stu-id="8edc8-314">The Substitution control does not have the ability to modify any other control on the page, but it does have access to the current HttpContext via its parameter.</span></span>

## <a name="gridview-control"></a><span data-ttu-id="8edc8-315">Элемент управления GridView</span><span class="sxs-lookup"><span data-stu-id="8edc8-315">GridView Control</span></span>

<span data-ttu-id="8edc8-316">Элемент управления GridView является заменой для элемента управления DataGrid.</span><span class="sxs-lookup"><span data-stu-id="8edc8-316">The GridView control is the replacement for the DataGrid control.</span></span> <span data-ttu-id="8edc8-317">Этот элемент управления будет рассматриваться более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-317">This control will be covered in more detail in a later module.</span></span>

## <a name="detailsview-control"></a><span data-ttu-id="8edc8-318">Элемент управления DetailsView</span><span class="sxs-lookup"><span data-stu-id="8edc8-318">DetailsView Control</span></span>

<span data-ttu-id="8edc8-319">Элемент управления DetailsView обеспечивает возможность отображения одной записи из источника данных, а также изменить или удалить его.</span><span class="sxs-lookup"><span data-stu-id="8edc8-319">The DetailsView control allows you to display a single record from a data source and to edit or delete it.</span></span> <span data-ttu-id="8edc8-320">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-320">It is covered in more detail in a later module.</span></span>

## <a name="formview-control"></a><span data-ttu-id="8edc8-321">Элемент управления FormView</span><span class="sxs-lookup"><span data-stu-id="8edc8-321">FormView Control</span></span>

<span data-ttu-id="8edc8-322">Элемент управления FormView используется для отображения одной записи из источника данных в интерфейсе можно настроить.</span><span class="sxs-lookup"><span data-stu-id="8edc8-322">The FormView control is used to display a single record from a datasource in a configurable interface.</span></span> <span data-ttu-id="8edc8-323">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-323">It is covered in more detail in a later module.</span></span>

## <a name="accessdatasource-control"></a><span data-ttu-id="8edc8-324">Элемент управления AccessDataSource</span><span class="sxs-lookup"><span data-stu-id="8edc8-324">AccessDataSource Control</span></span>

<span data-ttu-id="8edc8-325">Элемент управления AccessDataSource используется привязка данных базы данных Access.</span><span class="sxs-lookup"><span data-stu-id="8edc8-325">The AccessDataSource control is used to data bind an Access database.</span></span> <span data-ttu-id="8edc8-326">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-326">It is covered in more detail in a later module.</span></span>

## <a name="objectdatasource-control"></a><span data-ttu-id="8edc8-327">Элемент управления ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="8edc8-327">ObjectDataSource Control</span></span>

<span data-ttu-id="8edc8-328">Элемент управления ObjectDataSource используется для поддержки трехуровневая архитектура, таким образом, элементы управления могут быть привязаны к среднего уровня бизнес-объект, в отличие от модели двухуровневый где элементы управления привязаны к источнику данных.</span><span class="sxs-lookup"><span data-stu-id="8edc8-328">The ObjectDataSource control is used to support a three-tier architecture so that controls can be data-bound to a middle-tier business object as opposed to a two-tiered model where controls are bound directly to the data source.</span></span> <span data-ttu-id="8edc8-329">Обсуждаются более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-329">It will be discussed in more detail in a later module.</span></span>

## <a name="xmldatasource-control"></a><span data-ttu-id="8edc8-330">Элемент управления XmlDataSource</span><span class="sxs-lookup"><span data-stu-id="8edc8-330">XmlDataSource Control</span></span>

<span data-ttu-id="8edc8-331">Элемент управления XmlDataSource используется для привязки данных к источнику данных XML.</span><span class="sxs-lookup"><span data-stu-id="8edc8-331">The XmlDataSource control is used to data bind to an XML data source.</span></span> <span data-ttu-id="8edc8-332">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-332">It is covered in more detail in a later module.</span></span>

## <a name="sitemapdatasource-control"></a><span data-ttu-id="8edc8-333">Элемент управления SiteMapDataSource</span><span class="sxs-lookup"><span data-stu-id="8edc8-333">SiteMapDataSource Control</span></span>

<span data-ttu-id="8edc8-334">Элемент управления SiteMapDataSource обеспечивает привязку данных для элементов управления навигации узла, на основе карты сайта.</span><span class="sxs-lookup"><span data-stu-id="8edc8-334">The SiteMapDataSource control provides data binding for site navigation controls based on a site map.</span></span> <span data-ttu-id="8edc8-335">Обсуждаются более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-335">It will be discussed in more detail in a later module.</span></span>

## <a name="sitemappath-control"></a><span data-ttu-id="8edc8-336">Элемент управления SiteMapPath</span><span class="sxs-lookup"><span data-stu-id="8edc8-336">SiteMapPath Control</span></span>

<span data-ttu-id="8edc8-337">Элемент управления SiteMapPath выводит ряд часто называют адресная строка ссылки навигации.</span><span class="sxs-lookup"><span data-stu-id="8edc8-337">The SiteMapPath control displays a series of navigation links commonly referred to as breadcrumbs.</span></span> <span data-ttu-id="8edc8-338">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-338">It is covered in more detail in a later module.</span></span>

## <a name="menu-control"></a><span data-ttu-id="8edc8-339">Элемент управления меню</span><span class="sxs-lookup"><span data-stu-id="8edc8-339">Menu Control</span></span>

<span data-ttu-id="8edc8-340">Элемент управления меню отображает динамическое меню, с помощью DHTML.</span><span class="sxs-lookup"><span data-stu-id="8edc8-340">The Menu control displays dynamic menus using DHTML.</span></span> <span data-ttu-id="8edc8-341">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-341">It is covered in more detail in a later module.</span></span>

## <a name="treeview-control"></a><span data-ttu-id="8edc8-342">Элемент управления TreeView</span><span class="sxs-lookup"><span data-stu-id="8edc8-342">TreeView Control</span></span>

<span data-ttu-id="8edc8-343">Элемент управления TreeView используется для отображения иерархических древовидным представлением данных.</span><span class="sxs-lookup"><span data-stu-id="8edc8-343">The TreeView control is used to display a hierarchical tree view of data.</span></span> <span data-ttu-id="8edc8-344">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-344">It is covered in more detail in a later module.</span></span>

## <a name="login-control"></a><span data-ttu-id="8edc8-345">Элемент управления Login</span><span class="sxs-lookup"><span data-stu-id="8edc8-345">Login Control</span></span>

<span data-ttu-id="8edc8-346">Элемент управления Login обеспечивает механизм для входа в веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="8edc8-346">The Login control provides for a mechanism to log into a Web site.</span></span> <span data-ttu-id="8edc8-347">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-347">It is covered in more detail in a later module.</span></span>

## <a name="loginview-control"></a><span data-ttu-id="8edc8-348">Элемент управления LoginView</span><span class="sxs-lookup"><span data-stu-id="8edc8-348">LoginView Control</span></span>

<span data-ttu-id="8edc8-349">Элемент управления LoginView позволяет отображать различные шаблоны, в зависимости от состояния входа пользователя.</span><span class="sxs-lookup"><span data-stu-id="8edc8-349">The LoginView control allows for the display of different templates based upon a user's login status.</span></span> <span data-ttu-id="8edc8-350">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-350">It is covered in more detail in a later module.</span></span>

## <a name="passwordrecovery-control"></a><span data-ttu-id="8edc8-351">Элемент управления PasswordRecovery</span><span class="sxs-lookup"><span data-stu-id="8edc8-351">PasswordRecovery Control</span></span>

<span data-ttu-id="8edc8-352">Управления PasswordRecovery используется для получения забытых паролей пользователями приложения ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8edc8-352">The PasswordRecovery control is used to retrieve forgotten passwords by users of an ASP.NET application.</span></span> <span data-ttu-id="8edc8-353">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-353">It is covered in more detail in a later module.</span></span>

## <a name="loginstatus"></a><span data-ttu-id="8edc8-354">LoginStatus</span><span class="sxs-lookup"><span data-stu-id="8edc8-354">LoginStatus</span></span>

<span data-ttu-id="8edc8-355">Элемент управления LoginStatus отображает состояние входа пользователя.</span><span class="sxs-lookup"><span data-stu-id="8edc8-355">The LoginStatus control displays a user's login status.</span></span> <span data-ttu-id="8edc8-356">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-356">It is covered in more detail in a later module.</span></span>

## <a name="loginname"></a><span data-ttu-id="8edc8-357">LoginName</span><span class="sxs-lookup"><span data-stu-id="8edc8-357">LoginName</span></span>

<span data-ttu-id="8edc8-358">Элемент управления LoginName отображает пользователя после регистрируются в приложение ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8edc8-358">The LoginName control displays a user's username after being logged into an ASP.NET application.</span></span> <span data-ttu-id="8edc8-359">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-359">It is covered in more detail in a later module.</span></span>

## <a name="createuserwizard"></a><span data-ttu-id="8edc8-360">CreateUserWizard</span><span class="sxs-lookup"><span data-stu-id="8edc8-360">CreateUserWizard</span></span>

<span data-ttu-id="8edc8-361">CreateUserWizard-это можно настроить мастер, который дает пользователям возможность создавать учетную запись членства ASP.NET для использования в приложении ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8edc8-361">The CreateUserWizard is a configurable wizard which gives users the ability to create an ASP.NET Membership account for use in an ASP.NET application.</span></span> <span data-ttu-id="8edc8-362">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-362">It is covered in more detail in a later module.</span></span>

## <a name="changepassword"></a><span data-ttu-id="8edc8-363">Изменение пароля</span><span class="sxs-lookup"><span data-stu-id="8edc8-363">ChangePassword</span></span>

<span data-ttu-id="8edc8-364">Элемент управления ChangePassword позволяет пользователям изменить свой пароль для приложения ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8edc8-364">The ChangePassword control allows users to change their password for an ASP.NET application.</span></span> <span data-ttu-id="8edc8-365">Он описан более подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-365">It is covered in more detail in a later module.</span></span>

## <a name="various-webparts"></a><span data-ttu-id="8edc8-366">Различные веб-части</span><span class="sxs-lookup"><span data-stu-id="8edc8-366">Various WebParts</span></span>

<span data-ttu-id="8edc8-367">ASP.NET 2.0 поставляется с различных веб-частей.</span><span class="sxs-lookup"><span data-stu-id="8edc8-367">ASP.NET 2.0 ships with various Web Parts.</span></span> <span data-ttu-id="8edc8-368">Они рассматриваются подробно в более поздней версии модуля.</span><span class="sxs-lookup"><span data-stu-id="8edc8-368">These will be covered in detail in a later module.</span></span>
