---
uid: web-forms/overview/moving-to-aspnet-20/server-controls
title: Управление серверами (ru) Документы Майкрософт
author: rick-anderson
description: ASP.NET 2.0 во многом повышает управление сервером. В этом модуле мы рассмотрим некоторые архитектурные изменения в пути ASP.NET 2.0 и Visual Studio 200...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 43f6ac47-76fc-4cf7-8e9f-c18ce673dfd8
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/server-controls
msc.type: authoredcontent
ms.openlocfilehash: 7109f10e87abfadf1e7e08795cf9d3d6bf5df122
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2020
ms.locfileid: "81543747"
---
# <a name="server-controls"></a><span data-ttu-id="d8d78-104">Серверные элементы управления</span><span class="sxs-lookup"><span data-stu-id="d8d78-104">Server Controls</span></span>

<span data-ttu-id="d8d78-105">[корпорацией Майкрософт](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="d8d78-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="d8d78-106">ASP.NET 2.0 во многом повышает управление сервером.</span><span class="sxs-lookup"><span data-stu-id="d8d78-106">ASP.NET 2.0 enhances server controls in many ways.</span></span> <span data-ttu-id="d8d78-107">В этом модуле мы рассмотрим некоторые архитектурные изменения в том, как ASP.NET 2.0 и Visual Studio 2005 сделок с серверным управлением.</span><span class="sxs-lookup"><span data-stu-id="d8d78-107">In this module, we'll cover some of the architectural changes to the way ASP.NET 2.0 and Visual Studio 2005 deals with server controls.</span></span>

<span data-ttu-id="d8d78-108">ASP.NET 2.0 во многом повышает управление сервером.</span><span class="sxs-lookup"><span data-stu-id="d8d78-108">ASP.NET 2.0 enhances server controls in many ways.</span></span> <span data-ttu-id="d8d78-109">В этом модуле мы рассмотрим некоторые архитектурные изменения в том, как ASP.NET 2.0 и Visual Studio 2005 сделок с серверным управлением.</span><span class="sxs-lookup"><span data-stu-id="d8d78-109">In this module, we'll cover some of the architectural changes to the way ASP.NET 2.0 and Visual Studio 2005 deals with server controls.</span></span>

## <a name="view-state"></a><span data-ttu-id="d8d78-110">Состояние просмотра</span><span class="sxs-lookup"><span data-stu-id="d8d78-110">View state</span></span>

<span data-ttu-id="d8d78-111">Первичное изменение состояния представления в ASP.NET 2.0 является резким уменьшением размера.</span><span class="sxs-lookup"><span data-stu-id="d8d78-111">The primary change in view state in ASP.NET 2.0 is a dramatic reduction in size.</span></span> <span data-ttu-id="d8d78-112">Рассмотрим страницу с только элементом управления календарем на ней.</span><span class="sxs-lookup"><span data-stu-id="d8d78-112">Consider a page with only a Calendar control on it.</span></span> <span data-ttu-id="d8d78-113">Вот состояние представления в ASP.NET 1.1.</span><span class="sxs-lookup"><span data-stu-id="d8d78-113">Here is the view state in ASP.NET 1.1.</span></span>

[!code-css[Main](server-controls/samples/sample1.css)]

<span data-ttu-id="d8d78-114">Теперь вот состояние представления на идентичной странице в ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="d8d78-114">Now here's the view state on an identical page in ASP.NET 2.0.</span></span>

[!code-css[Main](server-controls/samples/sample2.css)]

<span data-ttu-id="d8d78-115">Это довольно значительное изменение, и учитывая, что состояние представления переносится туда и обратно по проводу, это изменение может дать разработчикам значительное увеличение производительности.</span><span class="sxs-lookup"><span data-stu-id="d8d78-115">That's a pretty significant change, and considering that view state is carried back and forth over the wire, this change can give developers a significant performance increase.</span></span> <span data-ttu-id="d8d78-116">Уменьшение размера состояния представления во многом обусловлено тем, как мы с ним справляемся внутренне.</span><span class="sxs-lookup"><span data-stu-id="d8d78-116">The reduction in size of view state is largely due to the way that we handle it internally.</span></span> <span data-ttu-id="d8d78-117">Помните, что состояние представления является закодированной строкой Base64.</span><span class="sxs-lookup"><span data-stu-id="d8d78-117">Remember that view state is a Base64 encoded string.</span></span> <span data-ttu-id="d8d78-118">Чтобы лучше понять изменение состояния представления в ASP.NET 2.0, давайте рассмотрим декодированные значения из приведенных выше примеров.</span><span class="sxs-lookup"><span data-stu-id="d8d78-118">To better understand the change in view state in ASP.NET 2.0, let's have a look at the decoded values from the examples above.</span></span>

<span data-ttu-id="d8d78-119">Вот состояние 1.1 расшифровано:</span><span class="sxs-lookup"><span data-stu-id="d8d78-119">Here is the 1.1 view state decoded:</span></span>

[!code-css[Main](server-controls/samples/sample3.css)]

<span data-ttu-id="d8d78-120">Это может выглядеть немного как тарабарщина, но здесь есть закономерность.</span><span class="sxs-lookup"><span data-stu-id="d8d78-120">This may look a bit like gibberish, but there is a pattern here.</span></span> <span data-ttu-id="d8d78-121">В ASP.NET 1.x мы использовали отдельные символы для определения типов &lt; &gt; данных и разграниченных значений с помощью символов.</span><span class="sxs-lookup"><span data-stu-id="d8d78-121">In ASP.NET 1.x, we used single characters to identify data-types and delimited values using the &lt;&gt; characters.</span></span> <span data-ttu-id="d8d78-122">"t" в приведенной выше примере состояния представления представляет собой Triplet.</span><span class="sxs-lookup"><span data-stu-id="d8d78-122">The "t" in the view state sample above represents a Triplet.</span></span> <span data-ttu-id="d8d78-123">Тройка содержит пару ArrayLists ("l" представляет ArrayList.) Один из этих ArrayLists содержит Int32 ("i") со значением 1, а другой содержит другой Triplet.</span><span class="sxs-lookup"><span data-stu-id="d8d78-123">The Triplet contains a pair of ArrayLists (the "l" represents an ArrayList.) One of those ArrayLists contains an Int32 ("i") with a value of 1 and the other contains another Triplet.</span></span> <span data-ttu-id="d8d78-124">Тройка содержит пару ArrayLists и т.д. Важно помнить, что мы используем Triplets, которые содержат пары, мы идентифицируем типы &lt; &gt; данных через букву, и мы используем и символы в качестве делимитеров.</span><span class="sxs-lookup"><span data-stu-id="d8d78-124">The Triplet contains a pair of ArrayLists, etc. The important thing to remember is that we use Triplets that contain pairs, we identify the data-types via a letter, and we use the &lt; and &gt; characters as delimiters.</span></span>

<span data-ttu-id="d8d78-125">В ASP.NET 2.0 состояние декодированного представления выглядит несколько иначе.</span><span class="sxs-lookup"><span data-stu-id="d8d78-125">In ASP.NET 2.0, the decoded view state looks a bit different.</span></span>

[!code-powershell[Main](server-controls/samples/sample4.ps1)]

<span data-ttu-id="d8d78-126">Вы должны заметить огромные изменения во внешнем виде состояния декодированного представления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-126">You should notice a huge change in the appearance of the decoded view state.</span></span> <span data-ttu-id="d8d78-127">Это изменение имеет несколько архитектурных основ.</span><span class="sxs-lookup"><span data-stu-id="d8d78-127">This change has several architectural underpinnings.</span></span> <span data-ttu-id="d8d78-128">Просмотр состояния в ASP.NET 1.x использовал LosFormatter для сериализации данных.</span><span class="sxs-lookup"><span data-stu-id="d8d78-128">View state in ASP.NET 1.x used the LosFormatter to serialize data.</span></span> <span data-ttu-id="d8d78-129">В 2.0 мы используем новый класс ObjectStateFormatter.</span><span class="sxs-lookup"><span data-stu-id="d8d78-129">In 2.0, we use the new ObjectStateFormatter class.</span></span> <span data-ttu-id="d8d78-130">Этот класс был специально разработан, чтобы помочь в сериализации и десериализации состояния представления и управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-130">This class was specifically designed to aid in the serialization and deserialization of view state and control state.</span></span> <span data-ttu-id="d8d78-131">(Состояние управления будет рассмотрено в следующем разделе.) Есть много преимуществ, полученных путем изменения метода, с помощью которого сериализация и десериализация происходят.</span><span class="sxs-lookup"><span data-stu-id="d8d78-131">(Control state will be covered in the next section.) There are many benefits gained by changing the method by which serialization and deserialization take place.</span></span> <span data-ttu-id="d8d78-132">Одним из наиболее драматичных является тот факт, что в отличие от LosFormatter, который использует TextWriter, ObjectStateFormatter использует BinaryWriter.</span><span class="sxs-lookup"><span data-stu-id="d8d78-132">One of the most dramatic is the fact that unlike the LosFormatter which uses a TextWriter, the ObjectStateFormatter uses a BinaryWriter.</span></span> <span data-ttu-id="d8d78-133">Это позволяет ASP.NET 2.0 для хранения состояния представления серии байтов вместо строк.</span><span class="sxs-lookup"><span data-stu-id="d8d78-133">This allows ASP.NET 2.0 to store view state a series of bytes instead of strings.</span></span> <span data-ttu-id="d8d78-134">Возьмем, к примеру, бесхопорок.</span><span class="sxs-lookup"><span data-stu-id="d8d78-134">Take, for example, an integer.</span></span> <span data-ttu-id="d8d78-135">В ASP.NET 1.1, integer требуется 4 байт состояния представления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-135">In ASP.NET 1.1, an integer required 4 bytes of view state.</span></span> <span data-ttu-id="d8d78-136">В ASP.NET 2.0, что же integer требует только 1 байт.</span><span class="sxs-lookup"><span data-stu-id="d8d78-136">In ASP.NET 2.0, that same integer only requires 1 byte.</span></span> <span data-ttu-id="d8d78-137">Были сделаны другие усовершенствования для уменьшения состояния представления, которое хранится.</span><span class="sxs-lookup"><span data-stu-id="d8d78-137">Other enhancements were made to decrease the amount of view state that is stored.</span></span> <span data-ttu-id="d8d78-138">Значения DateTime, например, теперь хранятся с помощью TickCount вместо строки.</span><span class="sxs-lookup"><span data-stu-id="d8d78-138">DateTime values, for example, are now stored using a TickCount instead of a string.</span></span>

<span data-ttu-id="d8d78-139">Как будто все это было недостаточно, особое внимание было уделено тому факту, что одним из величайших потребителей состояния зрения в 1.x был DataGrid и аналогичные элементы управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-139">As if all of that weren't enough, special attention was paid to the fact that one of the greatest consumers of view state in 1.x was the DataGrid and similar controls.</span></span> <span data-ttu-id="d8d78-140">Основным недостатком элементов управления, таких как DataGrid, где речь идет о состоянии представления, является то, что он часто содержит большие объемы повторяющейся информации.</span><span class="sxs-lookup"><span data-stu-id="d8d78-140">A major drawback of controls such as the DataGrid where view state is concerned is that it often contains large amounts of repeated information.</span></span> <span data-ttu-id="d8d78-141">В ASP.NET 1.x, что повторная информация просто хранится снова и снова, что приводит к раздутому состоянию представления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-141">In ASP.NET 1.x, that repeated information was simply stored over and over again resulting in a bloated view state.</span></span> <span data-ttu-id="d8d78-142">В ASP.NET 2.0 мы используем новый класс IndexedString для хранения таких данных.</span><span class="sxs-lookup"><span data-stu-id="d8d78-142">In ASP.NET 2.0, we use the new IndexedString class to store such data.</span></span> <span data-ttu-id="d8d78-143">Если строка повторяется, мы просто храним маркер для IndexedString и индекс в таблице, работая на объектах IndexedString.</span><span class="sxs-lookup"><span data-stu-id="d8d78-143">If a string repeats, we just store the token for the IndexedString and the index within a running table of IndexedString objects.</span></span>

## <a name="control-state"></a><span data-ttu-id="d8d78-144">Состояние управления</span><span class="sxs-lookup"><span data-stu-id="d8d78-144">Control State</span></span>

<span data-ttu-id="d8d78-145">Одним из основных проблем, которые разработчики имели с состоянием представления, был размер, который он добавил к полезной нагрузке HTTP.</span><span class="sxs-lookup"><span data-stu-id="d8d78-145">One of the major gripes that developers had with view state was the size that it added to the HTTP payload.</span></span> <span data-ttu-id="d8d78-146">Как упоминалось ранее, одним из крупнейших потребителей состояния представления является контроль DataGrid.</span><span class="sxs-lookup"><span data-stu-id="d8d78-146">As previously mentioned, one of the greatest consumers of view state is the DataGrid control.</span></span> <span data-ttu-id="d8d78-147">Чтобы избежать огромного количества состояния представления, генерируемого DataGrid, многие разработчики просто отключили состояние представления для этого элемента управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-147">To avoid the huge amounts of view state generated by a DataGrid, many developers simply disabled view state for that control.</span></span> <span data-ttu-id="d8d78-148">К сожалению, это решение не всегда было хорошим.</span><span class="sxs-lookup"><span data-stu-id="d8d78-148">Unfortunately, that solution wasn't always a good one.</span></span> <span data-ttu-id="d8d78-149">Состояние просмотра в ASP.NET 1.x содержит не только данные, необходимые для правильной функциональности элемента управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-149">View state in ASP.NET 1.x contains not only data necessary for the correct functionality of the control.</span></span> <span data-ttu-id="d8d78-150">В нем также содержится информация о состоянии системы управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-150">It also contains information concerning the state of the control's UI.</span></span> <span data-ttu-id="d8d78-151">Это означает, что если вы хотите разрешить pagination на DataGrid, вы должны включить состояние представления, даже если вам не нужна вся информация о доступе к доступу, содержащаяся в состоянии представления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-151">This means that if you want to allow for pagination on a DataGrid, you must enable view state even if you don't need all of the UI information that view state contains.</span></span> <span data-ttu-id="d8d78-152">Это сценарий «все или ничего».</span><span class="sxs-lookup"><span data-stu-id="d8d78-152">It's an all-or-nothing scenario.</span></span>

<span data-ttu-id="d8d78-153">В ASP.NET 2.0, государство управления решает эту проблему хорошо через введение государства контроля.</span><span class="sxs-lookup"><span data-stu-id="d8d78-153">In ASP.NET 2.0, control state solves that problem nicely via the introduction of control state.</span></span> <span data-ttu-id="d8d78-154">Состояние управления содержит данные, которые абсолютно необходимы для правильной функциональности элемента управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-154">Control state contains the data that is absolutely necessary for the proper functionality of a control.</span></span> <span data-ttu-id="d8d78-155">В отличие от состояния представления, состояние управления не может быть отключено.</span><span class="sxs-lookup"><span data-stu-id="d8d78-155">Unlike view state, control state cannot be disabled.</span></span> <span data-ttu-id="d8d78-156">Поэтому важно тщательно контролировать данные, хранящиеся в состоянии контроля.</span><span class="sxs-lookup"><span data-stu-id="d8d78-156">Therefore, it is important that the data being stored in control state is carefully controlled.</span></span>

> [!NOTE]
> <span data-ttu-id="d8d78-157">Состояние управления сохраняется вместе с состоянием представления в поле скрытой \_ \_формы VIEWSTATE.</span><span class="sxs-lookup"><span data-stu-id="d8d78-157">Control state is persisted along with the view state in the \_\_VIEWSTATE hidden form field.</span></span>

<span data-ttu-id="d8d78-158">Это видео представляет собой пошаговое пошаговое состояние представления и состояние управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-158">This video is a walkthrough of view state and control state.</span></span>

![](server-controls/_static/image1.png)

[<span data-ttu-id="d8d78-159">Открытое полноэкранное видео</span><span class="sxs-lookup"><span data-stu-id="d8d78-159">Open Full-Screen Video</span></span>](server-controls/_static/state1.wmv)

<span data-ttu-id="d8d78-160">Для того, чтобы управление сервером считывалось и записывалось для управления состоянием, необходимо сделать три шага.</span><span class="sxs-lookup"><span data-stu-id="d8d78-160">In order for a server control to read and write to control state, you must take three steps.</span></span>

## <a name="step-1-call-the-registerrequirescontrolstate-method"></a><span data-ttu-id="d8d78-161">Шаг 1: Вызов RegisterRequiresControlState Метод</span><span class="sxs-lookup"><span data-stu-id="d8d78-161">Step 1: Call the RegisterRequiresControlState Method</span></span>

<span data-ttu-id="d8d78-162">Метод RegisterRequiresControlState информирует ASP.NET, что элемент управления должен сохраняться в состоянии контроля.</span><span class="sxs-lookup"><span data-stu-id="d8d78-162">The RegisterRequiresControlState method informs ASP.NET that a control needs to persist control state.</span></span> <span data-ttu-id="d8d78-163">Требуется один аргумент управления типом, который является контролем, который регистрируется.</span><span class="sxs-lookup"><span data-stu-id="d8d78-163">It takes one argument of type Control which is the control that is being registered.</span></span>

<span data-ttu-id="d8d78-164">Важно отметить, что регистрация не сохраняется от запроса к запросу.</span><span class="sxs-lookup"><span data-stu-id="d8d78-164">It is important to note that registration does not persist from request to request.</span></span> <span data-ttu-id="d8d78-165">Таким образом, этот метод должен вызываться по каждому запросу, если элемент управления должен сохраняться в состоянии управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-165">Therefore, this method must be called on every request if a control is to persist control state.</span></span> <span data-ttu-id="d8d78-166">Рекомендуется, чтобы метод был вызван в OnInit.</span><span class="sxs-lookup"><span data-stu-id="d8d78-166">It is recommended that the method be called in OnInit.</span></span>

[!code-csharp[Main](server-controls/samples/sample5.cs)]

## <a name="step-2-override-savecontrolstate"></a><span data-ttu-id="d8d78-167">Шаг 2: Переопределить Состояние Управления Сохранением</span><span class="sxs-lookup"><span data-stu-id="d8d78-167">Step 2: Override SaveControlState</span></span>

<span data-ttu-id="d8d78-168">Метод SaveControlState сохраняет изменения состояния управления для элемента управления после последнего возврата публикации.</span><span class="sxs-lookup"><span data-stu-id="d8d78-168">The SaveControlState method saves control state changes for a control since the last post back.</span></span> <span data-ttu-id="d8d78-169">Он возвращает объект, представляющий состояние элемента управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-169">It returns an object representing the control's state.</span></span>

## <a name="step-3-override-loadcontrolstate"></a><span data-ttu-id="d8d78-170">Шаг 3: Переопределить положение о контроле нагрузки</span><span class="sxs-lookup"><span data-stu-id="d8d78-170">Step 3: Override LoadControlState</span></span>

<span data-ttu-id="d8d78-171">Метод LoadControlState загружает сохраненное состояние в элемент управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-171">The LoadControlState method loads saved state into a control.</span></span> <span data-ttu-id="d8d78-172">Метод использует один аргумент объекта типа, который удерживает сохраненное состояние для элемента управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-172">The method takes one argument of type Object which holds the saved state for the control.</span></span>

## <a name="full-xhtml-compliance"></a><span data-ttu-id="d8d78-173">Полное соответствие XHTML</span><span class="sxs-lookup"><span data-stu-id="d8d78-173">Full XHTML Compliance</span></span>

<span data-ttu-id="d8d78-174">Любой веб-разработчик знает о важности стандартов в веб-приложениях.</span><span class="sxs-lookup"><span data-stu-id="d8d78-174">Any Web developer knows the importance of standards in Web applications.</span></span> <span data-ttu-id="d8d78-175">Для поддержания среды разработки, основанной на стандартах, ASP.NET 2.0 полностью соответствует требованиям XHTML.</span><span class="sxs-lookup"><span data-stu-id="d8d78-175">In order to maintain a standards-based development environment, ASP.NET 2.0 is fully XHTML compliant.</span></span> <span data-ttu-id="d8d78-176">Таким образом, все теги отображаются в соответствии со стандартами XHTML в браузерах, которые поддерживают HTML 4.0 или больше.</span><span class="sxs-lookup"><span data-stu-id="d8d78-176">Therefore, all tags are rendered according to XHTML standards in browsers that support HTML 4.0 or greater.</span></span>

<span data-ttu-id="d8d78-177">Определение DOCTYPE в ASP.NET 1.1 было следующим образом:</span><span class="sxs-lookup"><span data-stu-id="d8d78-177">The DOCTYPE definition in ASP.NET 1.1 was as follows:</span></span>

[!code-html[Main](server-controls/samples/sample6.html)]

<span data-ttu-id="d8d78-178">В ASP.NET 2.0 определение DOCTYPE по умолчанию таково:</span><span class="sxs-lookup"><span data-stu-id="d8d78-178">In ASP.NET 2.0, the default DOCTYPE definition is as follows:</span></span>

[!code-html[Main](server-controls/samples/sample7.html)]

<span data-ttu-id="d8d78-179">Если вы выберете, вы можете изменить соответствие XHTML по умолчанию через узло xhtmlConformance в файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="d8d78-179">If you choose, you can alter the default XHTML compliance via the xhtmlConformance node in the configuration file.</span></span> <span data-ttu-id="d8d78-180">Например, следующий узел в файле web.config изменит соответствие XHTML на XHTML 1.0 Strict:</span><span class="sxs-lookup"><span data-stu-id="d8d78-180">For example, the following node in the web.config file will change XHTML compliance to XHTML 1.0 Strict:</span></span>

[!code-xml[Main](server-controls/samples/sample8.xml)]

<span data-ttu-id="d8d78-181">Если вы выберете, вы также можете настроить ASP.NET использовать устаревшую конфигурацию, используемую в ASP.NET 1.x следующим образом:</span><span class="sxs-lookup"><span data-stu-id="d8d78-181">If you choose, you can also configure ASP.NET to use the legacy configuration used in ASP.NET 1.x as follows:</span></span>

[!code-xml[Main](server-controls/samples/sample9.xml)]

## <a name="adaptive-rendering-using-adapters"></a><span data-ttu-id="d8d78-182">Адаптивное рендеринг с помощью адаптеров</span><span class="sxs-lookup"><span data-stu-id="d8d78-182">Adaptive Rendering Using Adapters</span></span>

<span data-ttu-id="d8d78-183">В ASP.NET 1.x файл конфигурации содержал раздел &lt;browserCaps,&gt; который населен объектом HttpBrowserCapabilities.</span><span class="sxs-lookup"><span data-stu-id="d8d78-183">In ASP.NET 1.x, the configuration file contained a &lt;browserCaps&gt; section that populated a HttpBrowserCapabilities object.</span></span> <span data-ttu-id="d8d78-184">Этот объект позволил разработчику определить, какое устройство делает конкретный запрос, и рендерзировать код соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="d8d78-184">This object allowed a developer to determine what device is making a particular request and render code appropriately.</span></span> <span data-ttu-id="d8d78-185">В ASP.NET 2.0 модель улучшилась и теперь использует новый класс ControlAdapter.</span><span class="sxs-lookup"><span data-stu-id="d8d78-185">In ASP.NET 2.0, the model has improved and now uses the new ControlAdapter class.</span></span> <span data-ttu-id="d8d78-186">Класс ControlAdapter переопределяет события в жизненном цикле управления и контролирует визуализацию элементов управления на основе возможностей агента пользователя.</span><span class="sxs-lookup"><span data-stu-id="d8d78-186">The ControlAdapter class overrides events in the control's lifecycle and controls the rendering of controls based upon the user agent's capabilities.</span></span> <span data-ttu-id="d8d78-187">Возможности конкретного агента пользователя определяются файлом определения браузера (файл с расширением файла .browser), хранящимся в c: 'windows.net'framework'v2.0. \* \*Папка \*для \*браузеров.</span><span class="sxs-lookup"><span data-stu-id="d8d78-187">The capabilities of a specific user agent are defined by a browser definition file (a file with a .browser file extension) stored in the c:\windows\microsoft.net\framework\v2.0.\*\*\*\*\CONFIG\Browsers folder.</span></span>

> [!NOTE]
> <span data-ttu-id="d8d78-188">Класс ControlAdapter является абстрактным классом.</span><span class="sxs-lookup"><span data-stu-id="d8d78-188">The ControlAdapter class is an abstract class.</span></span>

<span data-ttu-id="d8d78-189">Как и &lt;раздел&gt; browserCaps в 1.x, файл определения браузера использует обычное выражение для разбора строки агента пользователя для идентификации запрашивающего браузера.</span><span class="sxs-lookup"><span data-stu-id="d8d78-189">Much like the &lt;browserCaps&gt; section in 1.x, the browser definition file uses a Regular Expression to parse the user agent string in order to identify the requesting browser.</span></span> <span data-ttu-id="d8d78-190">Это их определяет конкретные возможности для этого агента пользователя.</span><span class="sxs-lookup"><span data-stu-id="d8d78-190">It them defines particular capabilities for that user agent.</span></span> <span data-ttu-id="d8d78-191">ControlAdapter предоставляет элемент управления с помощью метода Render.</span><span class="sxs-lookup"><span data-stu-id="d8d78-191">The ControlAdapter renders the control via the Render method.</span></span> <span data-ttu-id="d8d78-192">Поэтому, если вы переопределяете метод Render, не следует вызывать Render в базовом классе.</span><span class="sxs-lookup"><span data-stu-id="d8d78-192">Therefore, if you override the Render method, you should not call Render on the base class.</span></span> <span data-ttu-id="d8d78-193">Это может привести к тому, что визуализация произойдет дважды, один раз для адаптера и один раз для самого элемента управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-193">Doing so may cause rendering to occur twice, once for the adapter and once for the control itself.</span></span>

## <a name="developing-a-custom-adapter"></a><span data-ttu-id="d8d78-194">Разработка пользовательского адаптера</span><span class="sxs-lookup"><span data-stu-id="d8d78-194">Developing a Custom Adapter</span></span>

<span data-ttu-id="d8d78-195">Вы можете разработать свой собственный адаптер, наследовав от ControlAdapter.</span><span class="sxs-lookup"><span data-stu-id="d8d78-195">You can develop your own custom adapter by inheriting from ControlAdapter.</span></span> <span data-ttu-id="d8d78-196">Кроме того, вы можете наследовать от абстрактного класса PageAdapter в тех случаях, когда адаптер необходим для страницы.</span><span class="sxs-lookup"><span data-stu-id="d8d78-196">Additionally, you can inherit from the abstract class PageAdapter in cases where an adapter is needed for a page.</span></span> <span data-ttu-id="d8d78-197">Отображение элементов управления в пользовательском адаптере осуществляется с помощью элемента &lt;controlAdapters&gt; в файле определения браузера.</span><span class="sxs-lookup"><span data-stu-id="d8d78-197">Mapping of controls to your custom adapter is accomplished via the &lt;controlAdapters&gt; element in the browser definition file.</span></span> <span data-ttu-id="d8d78-198">Например, следующий XML из файла определения браузера отображает элемент управления меню в класс MenuAdapter:</span><span class="sxs-lookup"><span data-stu-id="d8d78-198">For example, the following XML from a browser definition file maps the Menu control to the MenuAdapter class:</span></span>

[!code-html[Main](server-controls/samples/sample10.html)]

<span data-ttu-id="d8d78-199">Используя эту модель, разработчику управления становится довольно легко настроить таргетинг на определенное устройство или браузер.</span><span class="sxs-lookup"><span data-stu-id="d8d78-199">Using this model, it becomes quite easy for a control developer to target a particular device or browser.</span></span> <span data-ttu-id="d8d78-200">Кроме того, разработчику довольно просто иметь полный контроль над тем, как отображают страницы на каждом устройстве.</span><span class="sxs-lookup"><span data-stu-id="d8d78-200">It's also quite simple for a developer to have complete control over how pages render on every device.</span></span>

## <a name="per-device-rendering"></a><span data-ttu-id="d8d78-201">Рендеринг на устройстве</span><span class="sxs-lookup"><span data-stu-id="d8d78-201">Per-Device Rendering</span></span>

<span data-ttu-id="d8d78-202">Свойства управления сервером в ASP.NET 2.0 могут быть указаны на устройство с помощью приставки для браузера.</span><span class="sxs-lookup"><span data-stu-id="d8d78-202">Server control properties in ASP.NET 2.0 can be specified per-device using a browser-specific prefix.</span></span> <span data-ttu-id="d8d78-203">Например, приведенный ниже код изменяет текст метки в зависимости от того, какое устройство используется для просмотра страницы.</span><span class="sxs-lookup"><span data-stu-id="d8d78-203">For example, the code below will change the Text of a label depending upon which device is being used to browse the page.</span></span>

[!code-aspx[Main](server-controls/samples/sample11.aspx)]

<span data-ttu-id="d8d78-204">Когда страница, содержащая эту метку, просматривается из Internet Explorer, на этикетке будет отображаться текст с надписью "Вы просматриваете Internet Explorer".</span><span class="sxs-lookup"><span data-stu-id="d8d78-204">When the page containing this label is browsed from Internet Explorer, the label will display text saying "You are browsing from Internet Explorer."</span></span> <span data-ttu-id="d8d78-205">Когда страница просматривается из Firefox, на этикетке будет отображаться текст "Вы просматриваете от Firefox".</span><span class="sxs-lookup"><span data-stu-id="d8d78-205">When the page is browsed from Firefox, the label will display the text "You are browsing from Firefox."</span></span> <span data-ttu-id="d8d78-206">Когда страница просматривается с любого другого устройства, она будет отображать "Вы просматриваете с неизвестного устройства".</span><span class="sxs-lookup"><span data-stu-id="d8d78-206">When the page is browsed from any other device, it will display "You are browsing from an unknown device."</span></span> <span data-ttu-id="d8d78-207">Любое свойство может быть указано с помощью этого специального синтаксиса.</span><span class="sxs-lookup"><span data-stu-id="d8d78-207">Any property can be specified using this special syntax.</span></span>

## <a name="setting-focus"></a><span data-ttu-id="d8d78-208">Установка фокусировки</span><span class="sxs-lookup"><span data-stu-id="d8d78-208">Setting Focus</span></span>

<span data-ttu-id="d8d78-209">ASP.NET 1.x разработчики часто задавались вопросом о том, как настроить первоначальный фокус на определенном элементе управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-209">ASP.NET 1.x developers frequently asked about how to set initial focus on a particular control.</span></span> <span data-ttu-id="d8d78-210">Например, на странице входа полезно, чтобы текстовый ящик User ID был фокусироваться при первой загрузке страницы.</span><span class="sxs-lookup"><span data-stu-id="d8d78-210">For example, on a login page, it's useful to have the User ID textbox get the focus when the page first loads.</span></span> <span data-ttu-id="d8d78-211">В ASP.NET 1.x для этого требовалось написать сценарий на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="d8d78-211">In ASP.NET 1.x, doing this required writing some client-side script.</span></span> <span data-ttu-id="d8d78-212">Несмотря на то, что такой скрипт является тривиальной задачей, он больше не нужен в ASP.NET 2.0 благодаря методу SetFocus.</span><span class="sxs-lookup"><span data-stu-id="d8d78-212">Even though such a script is a trivial task, it's no longer necessary in ASP.NET 2.0 thanks to the SetFocus method.</span></span> <span data-ttu-id="d8d78-213">Метод SetFocus использует один аргумент, указывающий на элемент управления, который должен получить фокус.</span><span class="sxs-lookup"><span data-stu-id="d8d78-213">The SetFocus method takes one argument indicating the control that should receive focus.</span></span> <span data-ttu-id="d8d78-214">Этот аргумент может быть либо идентификатором клиента элемента управления в виде строки, либо именем управления сервером как объекта управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-214">This argument can either be the client ID of the control as a string or the name of the Server control as a Control object.</span></span> <span data-ttu-id="d8d78-215">Например, чтобы установить начальный фокус на элемент управления TextBox, который называется txtUserID при первой загрузке страницы, добавьте следующий код в Page\_Load:</span><span class="sxs-lookup"><span data-stu-id="d8d78-215">For example, to set the initial focus to a TextBox control called txtUserID when the page first loads, add the following code to Page\_Load:</span></span>

[!code-csharp[Main](server-controls/samples/sample12.cs)]

<span data-ttu-id="d8d78-216">-- или</span><span class="sxs-lookup"><span data-stu-id="d8d78-216">-- or</span></span>

[!code-csharp[Main](server-controls/samples/sample13.cs)]

<span data-ttu-id="d8d78-217">ASP.NET 2.0 использует обработчик Webresource.axd (обсуждался ранее) для визуализации функции клиентской стороны, которая устанавливает фокус.</span><span class="sxs-lookup"><span data-stu-id="d8d78-217">ASP.NET 2.0 uses the Webresource.axd handler (discussed previously) to render a client-side function that sets the focus.</span></span> <span data-ttu-id="d8d78-218">Название функции клиента стороне WebForm\_AutoFocus, как показано здесь:</span><span class="sxs-lookup"><span data-stu-id="d8d78-218">The name of the client-side function is WebForm\_AutoFocus as shown here:</span></span>

[!code-html[Main](server-controls/samples/sample14.html)]

<span data-ttu-id="d8d78-219">Кроме того, можно использовать метод Focus для управления, чтобы установить начальный фокус на этом элементе управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-219">Alternatively, you can use the Focus method for a control to set the initial focus to that control.</span></span> <span data-ttu-id="d8d78-220">Метод Фокуса происходит от класса управления и доступен для всех ASP.NET 2.0 элементов управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-220">The Focus method derives from the Control class and is available to all ASP.NET 2.0 controls.</span></span> <span data-ttu-id="d8d78-221">Также можно настроить фокус на определенный элемент управления при возникновении ошибки проверки.</span><span class="sxs-lookup"><span data-stu-id="d8d78-221">It is also possible to set focus to a particular control when a validation error occurs.</span></span> <span data-ttu-id="d8d78-222">Это будет рассмотрено в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-222">That will be covered in a later module.</span></span>

## <a name="new-server-controls-in-aspnet-20"></a><span data-ttu-id="d8d78-223">Новые управления серверами в ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="d8d78-223">New Server Controls in ASP.NET 2.0</span></span>

<span data-ttu-id="d8d78-224">Ниже приведены новые элементы управления сервером в ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="d8d78-224">The following are new server controls in ASP.NET 2.0.</span></span> <span data-ttu-id="d8d78-225">Мы будем входить в более подробноо ею в более поздних модулях.</span><span class="sxs-lookup"><span data-stu-id="d8d78-225">We will go into more detail on some of them in later modules.</span></span>

## <a name="imagemap-control"></a><span data-ttu-id="d8d78-226">Управление ImageMap</span><span class="sxs-lookup"><span data-stu-id="d8d78-226">ImageMap Control</span></span>

<span data-ttu-id="d8d78-227">Управление ImageMap позволяет добавлять точки доступа к изображению, которое может инициировать публикацию назад или перейти к URL-.</span><span class="sxs-lookup"><span data-stu-id="d8d78-227">The ImageMap control allows you to add hotspots to an image that can initiate a post back or navigate to a URL.</span></span> <span data-ttu-id="d8d78-228">Доступны три типа горячих точек; CircleHotSpot, RectangleHotSpot и PolygonHotSpot.</span><span class="sxs-lookup"><span data-stu-id="d8d78-228">There are three types of hotspots available; CircleHotSpot, RectangleHotSpot, and PolygonHotSpot.</span></span> <span data-ttu-id="d8d78-229">Горячие точки добавляются через редактор коллекции в Visual Studio или программно в коде.</span><span class="sxs-lookup"><span data-stu-id="d8d78-229">Hotspots are added via a collection editor in Visual Studio or programmatically in code.</span></span> <span data-ttu-id="d8d78-230">Отсутствует пользовательский интерфейс для рисования горячих точек на изображении.</span><span class="sxs-lookup"><span data-stu-id="d8d78-230">There is no user-interface available for drawing hotspots on an image.</span></span> <span data-ttu-id="d8d78-231">Координаты и размер или радиус точки доступа должны быть определены декларативно.</span><span class="sxs-lookup"><span data-stu-id="d8d78-231">The coordinates and size or radius of the hotspot must be specified declaratively.</span></span> <span data-ttu-id="d8d78-232">Существует также нет визуального представления точки доступа в дизайнера.</span><span class="sxs-lookup"><span data-stu-id="d8d78-232">There is also no visual representation of a hotspot in the designer.</span></span> <span data-ttu-id="d8d78-233">Если точка доступа настроена для навигации по URL, URL-адрес указывается через свойство NavigateUrl точки доступа.</span><span class="sxs-lookup"><span data-stu-id="d8d78-233">If a hotspot is configured to navigate to a URL, the URL is specified via the NavigateUrl property of the hotspot.</span></span> <span data-ttu-id="d8d78-234">В случае обратной точки доступа post свойство PostBackValue позволяет передавать строку в задней строке, которую можно получить в коде сервера.</span><span class="sxs-lookup"><span data-stu-id="d8d78-234">In the case of a post back hotspot, the PostBackValue property allows you to pass a string in the post back that can be retrieved in server-side code.</span></span>

![Редактор коллекции HotSpot в визуальной студии](server-controls/_static/image1.jpg)

<span data-ttu-id="d8d78-236">**Рисунок 1**: Редактор коллекции HotSpot в визуальной студии</span><span class="sxs-lookup"><span data-stu-id="d8d78-236">**Figure 1**: HotSpot Collection Editor in Visual Studio</span></span>

## <a name="bulletedlist-control"></a><span data-ttu-id="d8d78-237">Управление пулевым листом</span><span class="sxs-lookup"><span data-stu-id="d8d78-237">BulletedList Control</span></span>

<span data-ttu-id="d8d78-238">Элемент управления BulletedList — это список пуль, который легко связан данными.</span><span class="sxs-lookup"><span data-stu-id="d8d78-238">The BulletedList control is a bulleted list that can easily be data bound.</span></span> <span data-ttu-id="d8d78-239">Список можно заказать (пронумерованный) или не заказанный через свойство BulletStyle.</span><span class="sxs-lookup"><span data-stu-id="d8d78-239">The list can be ordered (numbered) or unordered via the BulletStyle property.</span></span> <span data-ttu-id="d8d78-240">Каждый элемент в списке представлен объектом ListItem.</span><span class="sxs-lookup"><span data-stu-id="d8d78-240">Each item in the list is represented by a ListItem object.</span></span>

![Управление пулевым испугом в визуальной студии](server-controls/_static/image1.gif)

<span data-ttu-id="d8d78-242">**Рисунок 2**: BulletedList управления в визуальной студии</span><span class="sxs-lookup"><span data-stu-id="d8d78-242">**Figure 2**: BulletedList Control in Visual Studio</span></span>

## <a name="hiddenfield-control"></a><span data-ttu-id="d8d78-243">Контроль скрытными полями</span><span class="sxs-lookup"><span data-stu-id="d8d78-243">HiddenField Control</span></span>

<span data-ttu-id="d8d78-244">Контроль HiddenField добавляет на страницу скрытое поле формы, значение которого доступно в коде на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="d8d78-244">The HiddenField control adds a hidden form field to your page, the value of which is available in server-side code.</span></span> <span data-ttu-id="d8d78-245">Значение поля скрытой формы, как правило, останется неизменным между спинками столба.</span><span class="sxs-lookup"><span data-stu-id="d8d78-245">The value of a hidden form field is generally expected to remain unchanged between post backs.</span></span> <span data-ttu-id="d8d78-246">Тем не менее, вредоносный пользователь может изменить значение до публикации обратно.</span><span class="sxs-lookup"><span data-stu-id="d8d78-246">However, it is possible for a malicious user to change the value prior to post back.</span></span> <span data-ttu-id="d8d78-247">Если это произойдет, контроль HiddenField повысит событие ValueChanged.</span><span class="sxs-lookup"><span data-stu-id="d8d78-247">If this happens, the HiddenField control will raise the ValueChanged event.</span></span> <span data-ttu-id="d8d78-248">Если у вас есть конфиденциальная информация в управлении HiddenField и вы хотите убедиться, что она остается неизменной, вы должны обрабатывать событие ValueChanged в коде.</span><span class="sxs-lookup"><span data-stu-id="d8d78-248">If you have sensitive information in the HiddenField control and you want to ensure that it remains unchanged, you should handle the ValueChanged event in your code.</span></span>

## <a name="fileupload-control"></a><span data-ttu-id="d8d78-249">Управление файламиUpload</span><span class="sxs-lookup"><span data-stu-id="d8d78-249">FileUpload Control</span></span>

<span data-ttu-id="d8d78-250">Управление FileUpload в ASP.NET 2.0 позволяет загружать файлы на веб-сервер через ASP.NET страницу.</span><span class="sxs-lookup"><span data-stu-id="d8d78-250">The FileUpload control in ASP.NET 2.0 makes it possible to upload files to a Web server via an ASP.NET page.</span></span> <span data-ttu-id="d8d78-251">Этот элемент управления очень похож на ASP.NET 1.x HtmlInputFile класса с некоторыми исключениями.</span><span class="sxs-lookup"><span data-stu-id="d8d78-251">This control is quite similar to the ASP.NET 1.x HtmlInputFile class with a few exceptions.</span></span> <span data-ttu-id="d8d78-252">В ASP.NET 1.x, было рекомендовано, чтобы свойство PostedFile было проверено на нулевой, чтобы определить, есть ли у вас хороший файл.</span><span class="sxs-lookup"><span data-stu-id="d8d78-252">In ASP.NET 1.x, it was recommended that the PostedFile property be checked for null in order to determine if you had a good file.</span></span> <span data-ttu-id="d8d78-253">Управление FileUpload в ASP.NET 2.0 добавляет новое свойство HasFile, которое можно использовать для той же цели, и это немного более эффективно.</span><span class="sxs-lookup"><span data-stu-id="d8d78-253">The FileUpload control in ASP.NET 2.0 adds a new HasFile property that you can use for the same purpose and it's a bit more efficient.</span></span>

<span data-ttu-id="d8d78-254">Свойство PostedFile по-прежнему доступно для доступа к объекту HttpPostedFile, но некоторые функциональные возможности HttpPostedFile теперь доступны по своей сути с управлением FileUpload.</span><span class="sxs-lookup"><span data-stu-id="d8d78-254">The PostedFile property is still available for access to an HttpPostedFile object, but some of the functionality of the HttpPostedFile is now available intrinsically with the FileUpload control.</span></span> <span data-ttu-id="d8d78-255">Например, чтобы сохранить загруженный файл в ASP.NET 1.x, вы называете метод SaveAs на объекте HttpPostedFile.</span><span class="sxs-lookup"><span data-stu-id="d8d78-255">For example, to save an uploaded file in ASP.NET 1.x, you call the SaveAs method on the HttpPostedFile object.</span></span> <span data-ttu-id="d8d78-256">Используя элемент управления FileUpload в ASP.NET 2.0, вы вызовете метод SaveAs на самом управлении FileUpload.</span><span class="sxs-lookup"><span data-stu-id="d8d78-256">Using the FileUpload control in ASP.NET 2.0, you would call the SaveAs method on the FileUpload control itself.</span></span>

<span data-ttu-id="d8d78-257">Другим существенным изменением в поведении 2.0 (и, вероятно, наиболее значительным изменением) является то, что больше нет необходимости загружать весь загруженный файл в память, прежде чем сохранить его.</span><span class="sxs-lookup"><span data-stu-id="d8d78-257">Another significant change in the 2.0 behavior (and likely the most significant change) is that it is no longer necessary to load an entire uploaded file into memory before saving it.</span></span> <span data-ttu-id="d8d78-258">В 1.x любой загружаемый файл сохраняется полностью в памяти до того, как он будет записан на диск.</span><span class="sxs-lookup"><span data-stu-id="d8d78-258">In 1.x, any file that was uploaded is saved entirely into memory prior to being written to disk.</span></span> <span data-ttu-id="d8d78-259">Эта архитектура предотвращает загрузку больших файлов.</span><span class="sxs-lookup"><span data-stu-id="d8d78-259">This architecture prevents the upload of large files.</span></span>

<span data-ttu-id="d8d78-260">В ASP.NET 2.0 атрибут запросаLengthDiskThreshold элемента httpRuntime позволяет настроить, сколько килобайт удерживается в буфере памяти до того, как они будут записаны на диск.</span><span class="sxs-lookup"><span data-stu-id="d8d78-260">In ASP.NET 2.0, the requestLengthDiskThreshold attribute of the httpRuntime element allows you to configure how many Kilobytes are held in a buffer in memory prior to being written to disk.</span></span>

<span data-ttu-id="d8d78-261">**IMPORTANT**: ДОКУМЕНТАЦИя MSDN (и документация в другом месте) указывает, что это значение находится в байтах (не килобайтах) и что значение по умолчанию составляет 256.</span><span class="sxs-lookup"><span data-stu-id="d8d78-261">**IMPORTANT**: MSDN documentation (and documentation elsewhere) specifies that this value is in bytes (not Kilobytes) and that the default is 256.</span></span> <span data-ttu-id="d8d78-262">Значение фактически указывается в килобайтах, а значение по умолчанию составляет 80.</span><span class="sxs-lookup"><span data-stu-id="d8d78-262">The value is actually specified in Kilobytes and the default value is 80.</span></span> <span data-ttu-id="d8d78-263">Имея значение по умолчанию 80K, мы гарантируем, что буфер не окажется на большой куче объекта.</span><span class="sxs-lookup"><span data-stu-id="d8d78-263">By having a default value of 80K, we ensure that the buffer does not end up on the large object heap.</span></span>

## <a name="wizard-control"></a><span data-ttu-id="d8d78-264">Управление мастером</span><span class="sxs-lookup"><span data-stu-id="d8d78-264">Wizard Control</span></span>

<span data-ttu-id="d8d78-265">Довольно часто сталкиваются ASP.NET разработчики пытаются собрать информацию в серии "страниц" с помощью панелей или путем передачи со страницы на страницу.</span><span class="sxs-lookup"><span data-stu-id="d8d78-265">It is fairly common to encounter ASP.NET developers struggling with attempting to gather information in a series of "pages" using panels or by transferring from page to page.</span></span> <span data-ttu-id="d8d78-266">Чаще всего, усилия разочарование один и занимает много времени.</span><span class="sxs-lookup"><span data-stu-id="d8d78-266">More often than not, the endeavor is a frustrating one and is time consuming.</span></span> <span data-ttu-id="d8d78-267">Новый элемент управления Мастера решает проблемы, позволяя линейные и нелинейные шаги в интерфейсе мастера, с которыми пользователи знакомы.</span><span class="sxs-lookup"><span data-stu-id="d8d78-267">The new Wizard control solves the problems by allowing for linear and non-linear steps in a wizard interface that users are familiar with.</span></span> <span data-ttu-id="d8d78-268">Управление Мастера представляет входные формы в серии шагов.</span><span class="sxs-lookup"><span data-stu-id="d8d78-268">The Wizard control presents input forms in a series of steps.</span></span> <span data-ttu-id="d8d78-269">Каждый шаг имеет определенный тип, указанный свойством StepType элемента управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-269">Each step is of a particular type specified by the StepType property of the control.</span></span> <span data-ttu-id="d8d78-270">Доступные типы шагов:</span><span class="sxs-lookup"><span data-stu-id="d8d78-270">The available step types are as follows:</span></span>

| <span data-ttu-id="d8d78-271">**Тип шага**</span><span class="sxs-lookup"><span data-stu-id="d8d78-271">**Step Type**</span></span> | <span data-ttu-id="d8d78-272">**Объяснение**</span><span class="sxs-lookup"><span data-stu-id="d8d78-272">**Explanation**</span></span> |
| --- | --- |
| <span data-ttu-id="d8d78-273">Авто</span><span class="sxs-lookup"><span data-stu-id="d8d78-273">Auto</span></span> | <span data-ttu-id="d8d78-274">Мастер автоматически определяет тип шага на основе его положения в иерархии шага.</span><span class="sxs-lookup"><span data-stu-id="d8d78-274">The wizard automatically determines the type of step based upon its position within the step hierarchy.</span></span> |
| <span data-ttu-id="d8d78-275">Запуск</span><span class="sxs-lookup"><span data-stu-id="d8d78-275">Start</span></span> | <span data-ttu-id="d8d78-276">Первый шаг, часто используется для представления вступительного заявления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-276">The first step, often used to present an introductory statement.</span></span> |
| <span data-ttu-id="d8d78-277">Шаг</span><span class="sxs-lookup"><span data-stu-id="d8d78-277">Step</span></span> | <span data-ttu-id="d8d78-278">Нормальный шаг.</span><span class="sxs-lookup"><span data-stu-id="d8d78-278">A normal step.</span></span> |
| <span data-ttu-id="d8d78-279">Готово</span><span class="sxs-lookup"><span data-stu-id="d8d78-279">Finish</span></span> | <span data-ttu-id="d8d78-280">Последний шаг, как правило, используется для представления кнопки, чтобы закончить мастера.</span><span class="sxs-lookup"><span data-stu-id="d8d78-280">The final step, usually used to present a button to finish the wizard.</span></span> |
| <span data-ttu-id="d8d78-281">Завершение</span><span class="sxs-lookup"><span data-stu-id="d8d78-281">Complete</span></span> | <span data-ttu-id="d8d78-282">Представляет сообщение, сообщая об успехе или неудаче.</span><span class="sxs-lookup"><span data-stu-id="d8d78-282">Presents a message communicating success or failure.</span></span> |

> [!NOTE]
> <span data-ttu-id="d8d78-283">Управление Мастера отслеживает его состояние, используя ASP.NET состояние управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-283">The Wizard control keeps track of its state using ASP.NET control state.</span></span> <span data-ttu-id="d8d78-284">Таким образом, свойство EnableViewState может быть установлено ложным без какого-либо ущерба.</span><span class="sxs-lookup"><span data-stu-id="d8d78-284">Therefore, the EnableViewState property can be set to false without any detriment.</span></span>

<span data-ttu-id="d8d78-285">Это видео является пошаговой частью управления Мастера.</span><span class="sxs-lookup"><span data-stu-id="d8d78-285">This video is a walkthrough of the Wizard control.</span></span>

![](server-controls/_static/image2.png)

[<span data-ttu-id="d8d78-286">Открытое полноэкранное видео</span><span class="sxs-lookup"><span data-stu-id="d8d78-286">Open Full-Screen Video</span></span>](server-controls/_static/wizard1.wmv)

## <a name="localize-control"></a><span data-ttu-id="d8d78-287">Локализация управления</span><span class="sxs-lookup"><span data-stu-id="d8d78-287">Localize Control</span></span>

<span data-ttu-id="d8d78-288">Управление локализацией похоже на литеральное управление.</span><span class="sxs-lookup"><span data-stu-id="d8d78-288">The Localize control is similar to a Literal control.</span></span> <span data-ttu-id="d8d78-289">Однако элемент управления локализации имеет свойство **режима,** которое контролирует, как добавляется разметка к ней.</span><span class="sxs-lookup"><span data-stu-id="d8d78-289">However, the Localize control has a **Mode** property that controls how markup that is added to it is rendered.</span></span> <span data-ttu-id="d8d78-290">Свойство «Режим» поддерживает следующие значения:</span><span class="sxs-lookup"><span data-stu-id="d8d78-290">The Mode property supports the following values:</span></span>

| <span data-ttu-id="d8d78-291">**Режим**</span><span class="sxs-lookup"><span data-stu-id="d8d78-291">**Mode**</span></span> | <span data-ttu-id="d8d78-292">**Объяснение**</span><span class="sxs-lookup"><span data-stu-id="d8d78-292">**Explanation**</span></span> |
| --- | --- |
| <span data-ttu-id="d8d78-293">Преобразование</span><span class="sxs-lookup"><span data-stu-id="d8d78-293">Transform</span></span> | <span data-ttu-id="d8d78-294">Разметка преобразуется в соответствии с протоколом браузера, делающих запрос.</span><span class="sxs-lookup"><span data-stu-id="d8d78-294">Markup is transformed according to the protocol of the browser making the request.</span></span> |
| <span data-ttu-id="d8d78-295">Прохождения</span><span class="sxs-lookup"><span data-stu-id="d8d78-295">PassThrough</span></span> | <span data-ttu-id="d8d78-296">Разметка отображается как есть.</span><span class="sxs-lookup"><span data-stu-id="d8d78-296">Markup is rendered as-is.</span></span> |
| <span data-ttu-id="d8d78-297">Кодирование</span><span class="sxs-lookup"><span data-stu-id="d8d78-297">Encode</span></span> | <span data-ttu-id="d8d78-298">Разметка, добавленная в элемент управления, кодируется с помощью HtmlEncode.</span><span class="sxs-lookup"><span data-stu-id="d8d78-298">Markup that is added to the control is encoded using HtmlEncode.</span></span> |

## <a name="multiview-and-view-controls"></a><span data-ttu-id="d8d78-299">Мультипросмотр и управление просмотром</span><span class="sxs-lookup"><span data-stu-id="d8d78-299">MultiView and View Controls</span></span>

<span data-ttu-id="d8d78-300">Элемент управления MultiView выполняет функции контейнера для элементов управления представления, а управление представлением — как контейнер (как элемент управления панелью) для других элементов управления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-300">The MultiView control acts as a container for View controls, and the View control acts as a container (much like a Panel control) for other controls.</span></span> <span data-ttu-id="d8d78-301">Каждое представление в элементе управления MultiView представлено одним элементом управления представления.</span><span class="sxs-lookup"><span data-stu-id="d8d78-301">Each view in a MultiView control is represented by a single View control.</span></span> <span data-ttu-id="d8d78-302">Первый элемент управления представления в MultiView — это вид 0, второй — вид 1 и т.д. Вы можете переключать представления, указывая ActiveViewIndex управления MultiView.</span><span class="sxs-lookup"><span data-stu-id="d8d78-302">The first View control in the MultiView is view 0, the second is view 1, etc. You can switch views by specifying the ActiveViewIndex of the MultiView control.</span></span>

## <a name="substitution-control"></a><span data-ttu-id="d8d78-303">Контроль замещения</span><span class="sxs-lookup"><span data-stu-id="d8d78-303">Substitution Control</span></span>

<span data-ttu-id="d8d78-304">Контроль замены используется в сочетании с ASP.NET кэшированием.</span><span class="sxs-lookup"><span data-stu-id="d8d78-304">The Substitution control is used in conjunction with ASP.NET caching.</span></span> <span data-ttu-id="d8d78-305">В тех случаях, когда вы хотите воспользоваться кэшированием, но у вас есть части страницы, которые должны быть обновлены по каждому запросу (другими словами, части страницы, которые не могут быть кэширования), компонент Замены обеспечивает отличное решение.</span><span class="sxs-lookup"><span data-stu-id="d8d78-305">In cases where you want to take advantage of caching, but you have portions of a page that must be updated on each request (in other words, portions of a page that are exempt from caching), the Substitution component provides a great solution.</span></span> <span data-ttu-id="d8d78-306">Элемент управления фактически не предоставляет какой-либо вывод сам по себе.</span><span class="sxs-lookup"><span data-stu-id="d8d78-306">The control doesn't actually render any output on its own.</span></span> <span data-ttu-id="d8d78-307">Вместо этого он связан с методом в коде сервера.</span><span class="sxs-lookup"><span data-stu-id="d8d78-307">Instead, it is bound to a method in server-side code.</span></span> <span data-ttu-id="d8d78-308">При запросе страницы метод вызывается и возвращается разметка нанесется вместо элемента управления замены.</span><span class="sxs-lookup"><span data-stu-id="d8d78-308">When the page is requested, the method is called and the returned markup is rendered in place of the substitution control.</span></span>

<span data-ttu-id="d8d78-309">Метод, к которому привязан контроль замещения, определяется через свойство **MethodName.**</span><span class="sxs-lookup"><span data-stu-id="d8d78-309">The method to which the Substitution control is bound is specified via the **MethodName** property.</span></span> <span data-ttu-id="d8d78-310">Этот метод должен соответствовать следующим критериям:</span><span class="sxs-lookup"><span data-stu-id="d8d78-310">That method must meet the following criteria:</span></span>

- <span data-ttu-id="d8d78-311">Это должен быть статический (общий в VB) метод.</span><span class="sxs-lookup"><span data-stu-id="d8d78-311">It must be a static (shared in VB) method.</span></span>
- <span data-ttu-id="d8d78-312">Он принимает один параметр типа HttpContext.</span><span class="sxs-lookup"><span data-stu-id="d8d78-312">It accepts one parameter of type HttpContext.</span></span>
- <span data-ttu-id="d8d78-313">Он возвращает строку, представляющую разметку, которая должна заменить элемент управления на странице.</span><span class="sxs-lookup"><span data-stu-id="d8d78-313">It returns a string representing the markup that should replace the control on the page.</span></span>

<span data-ttu-id="d8d78-314">Контроль замены не имеет возможности изменять любой другой элемент управления на странице, но он имеет доступ к текущему HttpContext через его параметр.</span><span class="sxs-lookup"><span data-stu-id="d8d78-314">The Substitution control does not have the ability to modify any other control on the page, but it does have access to the current HttpContext via its parameter.</span></span>

## <a name="gridview-control"></a><span data-ttu-id="d8d78-315">Контроль GridView</span><span class="sxs-lookup"><span data-stu-id="d8d78-315">GridView Control</span></span>

<span data-ttu-id="d8d78-316">Контроль GridView является заменой управления DataGrid.</span><span class="sxs-lookup"><span data-stu-id="d8d78-316">The GridView control is the replacement for the DataGrid control.</span></span> <span data-ttu-id="d8d78-317">Этот элемент управления будет рассмотрен более подробно в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-317">This control will be covered in more detail in a later module.</span></span>

## <a name="detailsview-control"></a><span data-ttu-id="d8d78-318">ДеталиПросмотр управления</span><span class="sxs-lookup"><span data-stu-id="d8d78-318">DetailsView Control</span></span>

<span data-ttu-id="d8d78-319">Контроль DatasView позволяет отображать одну запись из источника данных и отсеивать или удалять ее.</span><span class="sxs-lookup"><span data-stu-id="d8d78-319">The DetailsView control allows you to display a single record from a data source and to edit or delete it.</span></span> <span data-ttu-id="d8d78-320">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-320">It is covered in more detail in a later module.</span></span>

## <a name="formview-control"></a><span data-ttu-id="d8d78-321">Управление FormView</span><span class="sxs-lookup"><span data-stu-id="d8d78-321">FormView Control</span></span>

<span data-ttu-id="d8d78-322">Элемент управления FormView используется для отображения одной записи из источника данных в настраиваемом интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="d8d78-322">The FormView control is used to display a single record from a datasource in a configurable interface.</span></span> <span data-ttu-id="d8d78-323">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-323">It is covered in more detail in a later module.</span></span>

## <a name="accessdatasource-control"></a><span data-ttu-id="d8d78-324">Контроль доступаКДатаИсточник</span><span class="sxs-lookup"><span data-stu-id="d8d78-324">AccessDataSource Control</span></span>

<span data-ttu-id="d8d78-325">Контроль AccessDataSource используется для связывания данных базой данных Access.</span><span class="sxs-lookup"><span data-stu-id="d8d78-325">The AccessDataSource control is used to data bind an Access database.</span></span> <span data-ttu-id="d8d78-326">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-326">It is covered in more detail in a later module.</span></span>

## <a name="objectdatasource-control"></a><span data-ttu-id="d8d78-327">Элемента управления ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="d8d78-327">ObjectDataSource Control</span></span>

<span data-ttu-id="d8d78-328">Элемент управления ObjectDataSource используется для поддержки трехуровневой архитектуры, так что элементы управления могут быть связаны с данными бизнес-объектом среднего уровня, в отличие от двухуровневой модели, где элементы управления связаны непосредственно с источником данных.</span><span class="sxs-lookup"><span data-stu-id="d8d78-328">The ObjectDataSource control is used to support a three-tier architecture so that controls can be data-bound to a middle-tier business object as opposed to a two-tiered model where controls are bound directly to the data source.</span></span> <span data-ttu-id="d8d78-329">Он будет подробно рассмотрен в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-329">It will be discussed in more detail in a later module.</span></span>

## <a name="xmldatasource-control"></a><span data-ttu-id="d8d78-330">XmlDataИсточник управления</span><span class="sxs-lookup"><span data-stu-id="d8d78-330">XmlDataSource Control</span></span>

<span data-ttu-id="d8d78-331">Контроль XmlDataSource используется для привязки данных к источнику данных XML.</span><span class="sxs-lookup"><span data-stu-id="d8d78-331">The XmlDataSource control is used to data bind to an XML data source.</span></span> <span data-ttu-id="d8d78-332">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-332">It is covered in more detail in a later module.</span></span>

## <a name="sitemapdatasource-control"></a><span data-ttu-id="d8d78-333">Управление SiteMapDataSource</span><span class="sxs-lookup"><span data-stu-id="d8d78-333">SiteMapDataSource Control</span></span>

<span data-ttu-id="d8d78-334">Контроль SiteMapDataSource обеспечивает привязку данных к управлению навигацией сайта на основе карты сайта.</span><span class="sxs-lookup"><span data-stu-id="d8d78-334">The SiteMapDataSource control provides data binding for site navigation controls based on a site map.</span></span> <span data-ttu-id="d8d78-335">Он будет подробно рассмотрен в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-335">It will be discussed in more detail in a later module.</span></span>

## <a name="sitemappath-control"></a><span data-ttu-id="d8d78-336">Управление SiteMapPath</span><span class="sxs-lookup"><span data-stu-id="d8d78-336">SiteMapPath Control</span></span>

<span data-ttu-id="d8d78-337">Управление SiteMapPath отображает ряд навигационных ссылок, обычно называемых панировочными сухарями.</span><span class="sxs-lookup"><span data-stu-id="d8d78-337">The SiteMapPath control displays a series of navigation links commonly referred to as breadcrumbs.</span></span> <span data-ttu-id="d8d78-338">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-338">It is covered in more detail in a later module.</span></span>

## <a name="menu-control"></a><span data-ttu-id="d8d78-339">Элемент управления меню</span><span class="sxs-lookup"><span data-stu-id="d8d78-339">Menu Control</span></span>

<span data-ttu-id="d8d78-340">Элемент управления меню отображает динамическое меню с помощью DHTML.</span><span class="sxs-lookup"><span data-stu-id="d8d78-340">The Menu control displays dynamic menus using DHTML.</span></span> <span data-ttu-id="d8d78-341">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-341">It is covered in more detail in a later module.</span></span>

## <a name="treeview-control"></a><span data-ttu-id="d8d78-342">Элемент управления TreeView</span><span class="sxs-lookup"><span data-stu-id="d8d78-342">TreeView Control</span></span>

<span data-ttu-id="d8d78-343">Элемент управления TreeView используется для отображения иерархического представления данных о дереве.</span><span class="sxs-lookup"><span data-stu-id="d8d78-343">The TreeView control is used to display a hierarchical tree view of data.</span></span> <span data-ttu-id="d8d78-344">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-344">It is covered in more detail in a later module.</span></span>

## <a name="login-control"></a><span data-ttu-id="d8d78-345">Управление логином</span><span class="sxs-lookup"><span data-stu-id="d8d78-345">Login Control</span></span>

<span data-ttu-id="d8d78-346">Управление логином обеспечивает механизм входа на веб-узел.</span><span class="sxs-lookup"><span data-stu-id="d8d78-346">The Login control provides for a mechanism to log into a Web site.</span></span> <span data-ttu-id="d8d78-347">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-347">It is covered in more detail in a later module.</span></span>

## <a name="loginview-control"></a><span data-ttu-id="d8d78-348">Элемент управления LoginView</span><span class="sxs-lookup"><span data-stu-id="d8d78-348">LoginView Control</span></span>

<span data-ttu-id="d8d78-349">Управление LoginView позволяет отображать различные шаблоны на основе статуса входа пользователя.</span><span class="sxs-lookup"><span data-stu-id="d8d78-349">The LoginView control allows for the display of different templates based upon a user's login status.</span></span> <span data-ttu-id="d8d78-350">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-350">It is covered in more detail in a later module.</span></span>

## <a name="passwordrecovery-control"></a><span data-ttu-id="d8d78-351">Управление паролейRecovery</span><span class="sxs-lookup"><span data-stu-id="d8d78-351">PasswordRecovery Control</span></span>

<span data-ttu-id="d8d78-352">Контроль PasswordRecovery используется для получения забытых паролей пользователями ASP.NET приложения.</span><span class="sxs-lookup"><span data-stu-id="d8d78-352">The PasswordRecovery control is used to retrieve forgotten passwords by users of an ASP.NET application.</span></span> <span data-ttu-id="d8d78-353">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-353">It is covered in more detail in a later module.</span></span>

## <a name="loginstatus"></a><span data-ttu-id="d8d78-354">LoginStatus</span><span class="sxs-lookup"><span data-stu-id="d8d78-354">LoginStatus</span></span>

<span data-ttu-id="d8d78-355">Элемент управления LoginStatus отображает статус входа пользователя.</span><span class="sxs-lookup"><span data-stu-id="d8d78-355">The LoginStatus control displays a user's login status.</span></span> <span data-ttu-id="d8d78-356">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-356">It is covered in more detail in a later module.</span></span>

## <a name="loginname"></a><span data-ttu-id="d8d78-357">LoginName</span><span class="sxs-lookup"><span data-stu-id="d8d78-357">LoginName</span></span>

<span data-ttu-id="d8d78-358">Управление LoginName отображает имя пользователя после входа в ASP.NET приложение.</span><span class="sxs-lookup"><span data-stu-id="d8d78-358">The LoginName control displays a user's username after being logged into an ASP.NET application.</span></span> <span data-ttu-id="d8d78-359">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-359">It is covered in more detail in a later module.</span></span>

## <a name="createuserwizard"></a><span data-ttu-id="d8d78-360">СоздатьUserWizard</span><span class="sxs-lookup"><span data-stu-id="d8d78-360">CreateUserWizard</span></span>

<span data-ttu-id="d8d78-361">CreateUserWizard — это настраиваемый мастер, который дает пользователям возможность создавать учетную запись ASP.NET членства для использования в ASP.NET приложении.</span><span class="sxs-lookup"><span data-stu-id="d8d78-361">The CreateUserWizard is a configurable wizard which gives users the ability to create an ASP.NET Membership account for use in an ASP.NET application.</span></span> <span data-ttu-id="d8d78-362">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-362">It is covered in more detail in a later module.</span></span>

## <a name="changepassword"></a><span data-ttu-id="d8d78-363">ChangePassword;</span><span class="sxs-lookup"><span data-stu-id="d8d78-363">ChangePassword</span></span>

<span data-ttu-id="d8d78-364">Контроль ChangePassword позволяет пользователям менять свой пароль для ASP.NET приложения.</span><span class="sxs-lookup"><span data-stu-id="d8d78-364">The ChangePassword control allows users to change their password for an ASP.NET application.</span></span> <span data-ttu-id="d8d78-365">Она более подробно описана в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-365">It is covered in more detail in a later module.</span></span>

## <a name="various-webparts"></a><span data-ttu-id="d8d78-366">Различные WebParts</span><span class="sxs-lookup"><span data-stu-id="d8d78-366">Various WebParts</span></span>

<span data-ttu-id="d8d78-367">ASP.NET 2.0 корабли с различными web-частими.</span><span class="sxs-lookup"><span data-stu-id="d8d78-367">ASP.NET 2.0 ships with various Web Parts.</span></span> <span data-ttu-id="d8d78-368">Они будут подробно рассмотрены в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="d8d78-368">These will be covered in detail in a later module.</span></span>
