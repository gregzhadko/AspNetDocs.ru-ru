---
uid: web-forms/overview/moving-to-aspnet-20/server-controls
title: Серверные элементы управления | Документация Майкрософт
author: microsoft
description: ASP.NET 2,0 расширяет серверные элементы управления различными способами. В этом модуле рассматриваются некоторые из архитектурных изменений в ASP.NET 2,0 и Visual Studio 200...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 43f6ac47-76fc-4cf7-8e9f-c18ce673dfd8
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/server-controls
msc.type: authoredcontent
ms.openlocfilehash: c02a633013f061c09141d4f98871848c011a799e
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78521094"
---
# <a name="server-controls"></a><span data-ttu-id="aa402-104">Серверные элементы управления</span><span class="sxs-lookup"><span data-stu-id="aa402-104">Server Controls</span></span>

<span data-ttu-id="aa402-105">по [Майкрософт](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="aa402-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="aa402-106">ASP.NET 2,0 расширяет серверные элементы управления различными способами.</span><span class="sxs-lookup"><span data-stu-id="aa402-106">ASP.NET 2.0 enhances server controls in many ways.</span></span> <span data-ttu-id="aa402-107">В этом модуле мы рассмотрим некоторые из архитектурных изменений в способах ASP.NET 2,0 и Visual Studio 2005, работающих с серверными элементами управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-107">In this module, we'll cover some of the architectural changes to the way ASP.NET 2.0 and Visual Studio 2005 deals with server controls.</span></span>

<span data-ttu-id="aa402-108">ASP.NET 2,0 расширяет серверные элементы управления различными способами.</span><span class="sxs-lookup"><span data-stu-id="aa402-108">ASP.NET 2.0 enhances server controls in many ways.</span></span> <span data-ttu-id="aa402-109">В этом модуле мы рассмотрим некоторые из архитектурных изменений в способах ASP.NET 2,0 и Visual Studio 2005, работающих с серверными элементами управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-109">In this module, we'll cover some of the architectural changes to the way ASP.NET 2.0 and Visual Studio 2005 deals with server controls.</span></span>

## <a name="view-state"></a><span data-ttu-id="aa402-110">Состояние представления</span><span class="sxs-lookup"><span data-stu-id="aa402-110">View state</span></span>

<span data-ttu-id="aa402-111">Основное изменение состояния представления в ASP.NET 2,0 — это значительное уменьшение размера.</span><span class="sxs-lookup"><span data-stu-id="aa402-111">The primary change in view state in ASP.NET 2.0 is a dramatic reduction in size.</span></span> <span data-ttu-id="aa402-112">Рассмотрим страницу, на которой есть только элемент управления Calendar.</span><span class="sxs-lookup"><span data-stu-id="aa402-112">Consider a page with only a Calendar control on it.</span></span> <span data-ttu-id="aa402-113">Ниже приведено состояние представления в ASP.NET 1,1.</span><span class="sxs-lookup"><span data-stu-id="aa402-113">Here is the view state in ASP.NET 1.1.</span></span>

[!code-css[Main](server-controls/samples/sample1.css)]

<span data-ttu-id="aa402-114">Теперь это состояние представления на идентичной странице в ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="aa402-114">Now here's the view state on an identical page in ASP.NET 2.0.</span></span>

[!code-css[Main](server-controls/samples/sample2.css)]

<span data-ttu-id="aa402-115">Это довольно существенное изменение, и, учитывая, что состояние представления переносится назад и вперед по сети, это изменение может дать разработчикам значительное повышение производительности.</span><span class="sxs-lookup"><span data-stu-id="aa402-115">That's a pretty significant change, and considering that view state is carried back and forth over the wire, this change can give developers a significant performance increase.</span></span> <span data-ttu-id="aa402-116">Уменьшение размера состояния представления в основном связано с тем, как он обрабатывается внутренним образом.</span><span class="sxs-lookup"><span data-stu-id="aa402-116">The reduction in size of view state is largely due to the way that we handle it internally.</span></span> <span data-ttu-id="aa402-117">Помните, что состояние представления является строкой в кодировке Base64.</span><span class="sxs-lookup"><span data-stu-id="aa402-117">Remember that view state is a Base64 encoded string.</span></span> <span data-ttu-id="aa402-118">Чтобы лучше понять изменение состояния представления в ASP.NET 2,0, давайте взглянем на декодированные значения из приведенных выше примеров.</span><span class="sxs-lookup"><span data-stu-id="aa402-118">To better understand the change in view state in ASP.NET 2.0, let's have a look at the decoded values from the examples above.</span></span>

<span data-ttu-id="aa402-119">Ниже приведено декодированное состояние представления 1,1.</span><span class="sxs-lookup"><span data-stu-id="aa402-119">Here is the 1.1 view state decoded:</span></span>

[!code-css[Main](server-controls/samples/sample3.css)]

<span data-ttu-id="aa402-120">Это может показаться немного похоже на вам, но здесь есть шаблон.</span><span class="sxs-lookup"><span data-stu-id="aa402-120">This may look a bit like gibberish, but there is a pattern here.</span></span> <span data-ttu-id="aa402-121">В ASP.NET 1. x мы использовали одиночные символы для обнаружения типов данных и разделенных значений с помощью &lt;&gt; символов.</span><span class="sxs-lookup"><span data-stu-id="aa402-121">In ASP.NET 1.x, we used single characters to identify data-types and delimited values using the &lt;&gt; characters.</span></span> <span data-ttu-id="aa402-122">"T" в примере состояния представления выше представляет Triplet.</span><span class="sxs-lookup"><span data-stu-id="aa402-122">The "t" in the view state sample above represents a Triplet.</span></span> <span data-ttu-id="aa402-123">Triplet содержит пару ArrayLists ("l" представляет ArrayList). Один из этих ArrayLists содержит Int32 ("i") со значением 1, а другой — другим Triplet.</span><span class="sxs-lookup"><span data-stu-id="aa402-123">The Triplet contains a pair of ArrayLists (the "l" represents an ArrayList.) One of those ArrayLists contains an Int32 ("i") with a value of 1 and the other contains another Triplet.</span></span> <span data-ttu-id="aa402-124">Triplet содержит пару ArrayLists и т. д. Важно помнить, что мы используем триады, которые содержат пары, определяет типы данных через букву, а также символы &lt; и &gt; в качестве разделителей.</span><span class="sxs-lookup"><span data-stu-id="aa402-124">The Triplet contains a pair of ArrayLists, etc. The important thing to remember is that we use Triplets that contain pairs, we identify the data-types via a letter, and we use the &lt; and &gt; characters as delimiters.</span></span>

<span data-ttu-id="aa402-125">В ASP.NET 2,0 состояние декодированного представления выглядит немного иначе.</span><span class="sxs-lookup"><span data-stu-id="aa402-125">In ASP.NET 2.0, the decoded view state looks a bit different.</span></span>

[!code-powershell[Main](server-controls/samples/sample4.ps1)]

<span data-ttu-id="aa402-126">Следует заметить огромное изменение в внешнем виде декодированного состояния представления.</span><span class="sxs-lookup"><span data-stu-id="aa402-126">You should notice a huge change in the appearance of the decoded view state.</span></span> <span data-ttu-id="aa402-127">Это изменение имеет несколько архитектурных закрепления.</span><span class="sxs-lookup"><span data-stu-id="aa402-127">This change has several architectural underpinnings.</span></span> <span data-ttu-id="aa402-128">Состояние просмотра в ASP.NET 1. x использовало Лосформаттер для сериализации данных.</span><span class="sxs-lookup"><span data-stu-id="aa402-128">View state in ASP.NET 1.x used the LosFormatter to serialize data.</span></span> <span data-ttu-id="aa402-129">В 2,0 мы используем новый класс Обжектстатеформаттер.</span><span class="sxs-lookup"><span data-stu-id="aa402-129">In 2.0, we use the new ObjectStateFormatter class.</span></span> <span data-ttu-id="aa402-130">Этот класс был специально разработан для помощи в сериализации и десериализации состояния представления и состояния элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-130">This class was specifically designed to aid in the serialization and deserialization of view state and control state.</span></span> <span data-ttu-id="aa402-131">(Состояние элемента управления будет рассмотрено в следующем разделе.) Существует множество преимуществ, которые получаются путем изменения метода сериализации и десериализации.</span><span class="sxs-lookup"><span data-stu-id="aa402-131">(Control state will be covered in the next section.) There are many benefits gained by changing the method by which serialization and deserialization take place.</span></span> <span data-ttu-id="aa402-132">Одним из наиболее значительных является тот факт, что в отличие от Лосформаттер, использующий TextWriter, Обжектстатеформаттер использует BinaryWriter.</span><span class="sxs-lookup"><span data-stu-id="aa402-132">One of the most dramatic is the fact that unlike the LosFormatter which uses a TextWriter, the ObjectStateFormatter uses a BinaryWriter.</span></span> <span data-ttu-id="aa402-133">Это позволяет ASP.NET 2,0 хранить состояние представления в виде последовательности байтов вместо строк.</span><span class="sxs-lookup"><span data-stu-id="aa402-133">This allows ASP.NET 2.0 to store view state a series of bytes instead of strings.</span></span> <span data-ttu-id="aa402-134">Возьмем, например, целое число.</span><span class="sxs-lookup"><span data-stu-id="aa402-134">Take, for example, an integer.</span></span> <span data-ttu-id="aa402-135">В ASP.NET 1,1 для целого числа требуется 4 байта состояния представления.</span><span class="sxs-lookup"><span data-stu-id="aa402-135">In ASP.NET 1.1, an integer required 4 bytes of view state.</span></span> <span data-ttu-id="aa402-136">В ASP.NET 2,0 для этого же целого числа требуется 1 байт.</span><span class="sxs-lookup"><span data-stu-id="aa402-136">In ASP.NET 2.0, that same integer only requires 1 byte.</span></span> <span data-ttu-id="aa402-137">Были сделаны другие улучшения для уменьшения объема сохраненного состояния представления.</span><span class="sxs-lookup"><span data-stu-id="aa402-137">Other enhancements were made to decrease the amount of view state that is stored.</span></span> <span data-ttu-id="aa402-138">Например, значения типа DateTime теперь хранятся с использованием аргумента TickCount вместо строки.</span><span class="sxs-lookup"><span data-stu-id="aa402-138">DateTime values, for example, are now stored using a TickCount instead of a string.</span></span>

<span data-ttu-id="aa402-139">Как если бы все это было недостаточно, особое внимание было оплачено тем, что один из самых крупных потребителей состояния представления в 1. x был элементом DataGrid и аналогичными элементами управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-139">As if all of that weren't enough, special attention was paid to the fact that one of the greatest consumers of view state in 1.x was the DataGrid and similar controls.</span></span> <span data-ttu-id="aa402-140">Главным недостатком таких элементов управления, как DataGrid, где находится состояние представления, является то, что он часто содержит большие объемы повторяющихся данных.</span><span class="sxs-lookup"><span data-stu-id="aa402-140">A major drawback of controls such as the DataGrid where view state is concerned is that it often contains large amounts of repeated information.</span></span> <span data-ttu-id="aa402-141">В ASP.NET 1. x Повторная информация была просто сохранена и снова, что привело к чрезмерному состоянию представления.</span><span class="sxs-lookup"><span data-stu-id="aa402-141">In ASP.NET 1.x, that repeated information was simply stored over and over again resulting in a bloated view state.</span></span> <span data-ttu-id="aa402-142">В ASP.NET 2,0 мы используем новый класс Индекседстринг для хранения таких данных.</span><span class="sxs-lookup"><span data-stu-id="aa402-142">In ASP.NET 2.0, we use the new IndexedString class to store such data.</span></span> <span data-ttu-id="aa402-143">Если строка повторяется, мы просто храним маркер для Индекседстринг и индекс в выполняющейся таблице объектов Индекседстринг.</span><span class="sxs-lookup"><span data-stu-id="aa402-143">If a string repeats, we just store the token for the IndexedString and the index within a running table of IndexedString objects.</span></span>

## <a name="control-state"></a><span data-ttu-id="aa402-144">Состояние элемента управления</span><span class="sxs-lookup"><span data-stu-id="aa402-144">Control State</span></span>

<span data-ttu-id="aa402-145">Одним из основных захватов, которые разработчики имели с состоянием просмотра, был размер, добавленный в полезные данные HTTP.</span><span class="sxs-lookup"><span data-stu-id="aa402-145">One of the major gripes that developers had with view state was the size that it added to the HTTP payload.</span></span> <span data-ttu-id="aa402-146">Как упоминалось ранее, одним из самых крупных потребителей состояния представления является элемент управления DataGrid.</span><span class="sxs-lookup"><span data-stu-id="aa402-146">As previously mentioned, one of the greatest consumers of view state is the DataGrid control.</span></span> <span data-ttu-id="aa402-147">Чтобы избежать огромного объема состояния представления, создаваемого DataGrid, многие разработчики просто отключили состояние просмотра для этого элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-147">To avoid the huge amounts of view state generated by a DataGrid, many developers simply disabled view state for that control.</span></span> <span data-ttu-id="aa402-148">К сожалению, это решение не всегда было хорошим.</span><span class="sxs-lookup"><span data-stu-id="aa402-148">Unfortunately, that solution wasn't always a good one.</span></span> <span data-ttu-id="aa402-149">Состояние представления в ASP.NET 1. x содержит не только данные, необходимые для правильной работы элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-149">View state in ASP.NET 1.x contains not only data necessary for the correct functionality of the control.</span></span> <span data-ttu-id="aa402-150">Он также содержит сведения о состоянии пользовательского интерфейса элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-150">It also contains information concerning the state of the control's UI.</span></span> <span data-ttu-id="aa402-151">Это означает, что если вы хотите разрешить разбиение на страницы в DataGrid, необходимо включить состояние представления, даже если вам не нужны все сведения о пользовательском интерфейсе, содержащиеся в состоянии представления.</span><span class="sxs-lookup"><span data-stu-id="aa402-151">This means that if you want to allow for pagination on a DataGrid, you must enable view state even if you don't need all of the UI information that view state contains.</span></span> <span data-ttu-id="aa402-152">Это сценарий «все или ничего».</span><span class="sxs-lookup"><span data-stu-id="aa402-152">It's an all-or-nothing scenario.</span></span>

<span data-ttu-id="aa402-153">В ASP.NET 2,0 контрольное состояние позволяет хорошо решить эту проблему с помощью введения состояния элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-153">In ASP.NET 2.0, control state solves that problem nicely via the introduction of control state.</span></span> <span data-ttu-id="aa402-154">Состояние элемента управления содержит данные, которые абсолютно необходимы для правильной работы элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-154">Control state contains the data that is absolutely necessary for the proper functionality of a control.</span></span> <span data-ttu-id="aa402-155">В отличие от состояния представления состояние элемента управления не может быть отключено.</span><span class="sxs-lookup"><span data-stu-id="aa402-155">Unlike view state, control state cannot be disabled.</span></span> <span data-ttu-id="aa402-156">Поэтому важно тщательно контролировать данные, хранящиеся в состоянии элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-156">Therefore, it is important that the data being stored in control state is carefully controlled.</span></span>

> [!NOTE]
> <span data-ttu-id="aa402-157">Состояние элемента управления сохраняется вместе с состоянием представления в поле \_\_VIEWSTATE скрытая форма.</span><span class="sxs-lookup"><span data-stu-id="aa402-157">Control state is persisted along with the view state in the \_\_VIEWSTATE hidden form field.</span></span>

<span data-ttu-id="aa402-158">Это видео представляет собой пошаговое руководство по состоянию представления и состоянию элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-158">This video is a walkthrough of view state and control state.</span></span>

![](server-controls/_static/image1.png)

[<span data-ttu-id="aa402-159">Открыть полноэкранное видео</span><span class="sxs-lookup"><span data-stu-id="aa402-159">Open Full-Screen Video</span></span>](server-controls/_static/state1.wmv)

<span data-ttu-id="aa402-160">Чтобы серверный элемент управления мог выполнять чтение и запись в состояние управления, необходимо выполнить три шага.</span><span class="sxs-lookup"><span data-stu-id="aa402-160">In order for a server control to read and write to control state, you must take three steps.</span></span>

## <a name="step-1-call-the-registerrequirescontrolstate-method"></a><span data-ttu-id="aa402-161">Шаг 1. вызов метода Регистеррекуиресконтролстате</span><span class="sxs-lookup"><span data-stu-id="aa402-161">Step 1: Call the RegisterRequiresControlState Method</span></span>

<span data-ttu-id="aa402-162">Метод Регистеррекуиресконтролстате информирует ASP.NET, что элементу управления необходимо сохранить состояние элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-162">The RegisterRequiresControlState method informs ASP.NET that a control needs to persist control state.</span></span> <span data-ttu-id="aa402-163">Он принимает один аргумент типа Control, который является регистрируемым элементом управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-163">It takes one argument of type Control which is the control that is being registered.</span></span>

<span data-ttu-id="aa402-164">Важно отметить, что регистрация не сохраняется в запросе на запрос.</span><span class="sxs-lookup"><span data-stu-id="aa402-164">It is important to note that registration does not persist from request to request.</span></span> <span data-ttu-id="aa402-165">Поэтому этот метод должен вызываться при каждом запросе, если элемент управления предназначен для сохранения состояния элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-165">Therefore, this method must be called on every request if a control is to persist control state.</span></span> <span data-ttu-id="aa402-166">Рекомендуется вызывать метод в OnInit.</span><span class="sxs-lookup"><span data-stu-id="aa402-166">It is recommended that the method be called in OnInit.</span></span>

[!code-csharp[Main](server-controls/samples/sample5.cs)]

## <a name="step-2-override-savecontrolstate"></a><span data-ttu-id="aa402-167">Шаг 2. Переопределение Савеконтролстате</span><span class="sxs-lookup"><span data-stu-id="aa402-167">Step 2: Override SaveControlState</span></span>

<span data-ttu-id="aa402-168">Метод Савеконтролстате сохраняет изменения состояния элемента управления с момента последней обратной передачи.</span><span class="sxs-lookup"><span data-stu-id="aa402-168">The SaveControlState method saves control state changes for a control since the last post back.</span></span> <span data-ttu-id="aa402-169">Он возвращает объект, представляющий состояние элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-169">It returns an object representing the control's state.</span></span>

## <a name="step-3-override-loadcontrolstate"></a><span data-ttu-id="aa402-170">Шаг 3. Переопределение Лоадконтролстате</span><span class="sxs-lookup"><span data-stu-id="aa402-170">Step 3: Override LoadControlState</span></span>

<span data-ttu-id="aa402-171">Метод Лоадконтролстате загружает сохраненное состояние в элемент управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-171">The LoadControlState method loads saved state into a control.</span></span> <span data-ttu-id="aa402-172">Метод принимает один аргумент типа Object, который содержит сохраненное состояние для элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-172">The method takes one argument of type Object which holds the saved state for the control.</span></span>

## <a name="full-xhtml-compliance"></a><span data-ttu-id="aa402-173">Полное соответствие XHTML</span><span class="sxs-lookup"><span data-stu-id="aa402-173">Full XHTML Compliance</span></span>

<span data-ttu-id="aa402-174">Любой веб-разработчик знает важность стандартов в веб-приложениях.</span><span class="sxs-lookup"><span data-stu-id="aa402-174">Any Web developer knows the importance of standards in Web applications.</span></span> <span data-ttu-id="aa402-175">Чтобы поддерживать среду разработки на основе стандартов, ASP.NET 2,0 полностью совместим с XHTML.</span><span class="sxs-lookup"><span data-stu-id="aa402-175">In order to maintain a standards-based development environment, ASP.NET 2.0 is fully XHTML compliant.</span></span> <span data-ttu-id="aa402-176">Поэтому все теги подготавливаются к просмотру в соответствии со стандартами XHTML в браузерах, поддерживающих HTML 4,0 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="aa402-176">Therefore, all tags are rendered according to XHTML standards in browsers that support HTML 4.0 or greater.</span></span>

<span data-ttu-id="aa402-177">Определение DOCTYPE в ASP.NET 1,1 имело следующий вид:</span><span class="sxs-lookup"><span data-stu-id="aa402-177">The DOCTYPE definition in ASP.NET 1.1 was as follows:</span></span>

[!code-html[Main](server-controls/samples/sample6.html)]

<span data-ttu-id="aa402-178">В ASP.NET 2,0 определение DOCTYPE по умолчанию выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="aa402-178">In ASP.NET 2.0, the default DOCTYPE definition is as follows:</span></span>

[!code-html[Main](server-controls/samples/sample7.html)]

<span data-ttu-id="aa402-179">При необходимости можно изменить соответствие XHTML по умолчанию с помощью узла Ксхтмлконформанце в файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="aa402-179">If you choose, you can alter the default XHTML compliance via the xhtmlConformance node in the configuration file.</span></span> <span data-ttu-id="aa402-180">Например, следующий узел в файле Web. config изменит совместимость XHTML на XHTML 1,0.</span><span class="sxs-lookup"><span data-stu-id="aa402-180">For example, the following node in the web.config file will change XHTML compliance to XHTML 1.0 Strict:</span></span>

[!code-xml[Main](server-controls/samples/sample8.xml)]

<span data-ttu-id="aa402-181">При выборе можно также настроить ASP.NET для использования устаревшей конфигурации, используемой в ASP.NET 1. x, следующим образом.</span><span class="sxs-lookup"><span data-stu-id="aa402-181">If you choose, you can also configure ASP.NET to use the legacy configuration used in ASP.NET 1.x as follows:</span></span>

[!code-xml[Main](server-controls/samples/sample9.xml)]

## <a name="adaptive-rendering-using-adapters"></a><span data-ttu-id="aa402-182">Адаптивная визуализация с помощью адаптеров</span><span class="sxs-lookup"><span data-stu-id="aa402-182">Adaptive Rendering Using Adapters</span></span>

<span data-ttu-id="aa402-183">В ASP.NET 1. x файл конфигурации содержал раздел &lt;browserCaps&gt;, заполненный объектом Хттпбровсеркапабилитиес.</span><span class="sxs-lookup"><span data-stu-id="aa402-183">In ASP.NET 1.x, the configuration file contained a &lt;browserCaps&gt; section that populated a HttpBrowserCapabilities object.</span></span> <span data-ttu-id="aa402-184">Этот объект позволял разработчику определить, какое устройство выполняет определенный запрос, и визуализировать код соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="aa402-184">This object allowed a developer to determine what device is making a particular request and render code appropriately.</span></span> <span data-ttu-id="aa402-185">В ASP.NET 2,0 модель улучшена и теперь использует новый класс ControlAdapter.</span><span class="sxs-lookup"><span data-stu-id="aa402-185">In ASP.NET 2.0, the model has improved and now uses the new ControlAdapter class.</span></span> <span data-ttu-id="aa402-186">Класс ControlAdapter переопределяет события в жизненном цикле элемента управления и управляет отрисовкой элементов управления на основе возможностей агента пользователя.</span><span class="sxs-lookup"><span data-stu-id="aa402-186">The ControlAdapter class overrides events in the control's lifecycle and controls the rendering of controls based upon the user agent's capabilities.</span></span> <span data-ttu-id="aa402-187">Возможности конкретного агента пользователя определяются файлом определения браузера (файлом с расширением BROWSER), хранящимся в файле c:\windows\microsoft.net\Framework\v2.0.\*\*\*\*папку \Конфиг\бровсерс.</span><span class="sxs-lookup"><span data-stu-id="aa402-187">The capabilities of a specific user agent are defined by a browser definition file (a file with a .browser file extension) stored in the c:\windows\microsoft.net\framework\v2.0.\*\*\*\*\CONFIG\Browsers folder.</span></span>

> [!NOTE]
> <span data-ttu-id="aa402-188">Класс ControlAdapter является абстрактным классом.</span><span class="sxs-lookup"><span data-stu-id="aa402-188">The ControlAdapter class is an abstract class.</span></span>

<span data-ttu-id="aa402-189">Как и в разделе &lt;browserCaps&gt; в 1. x, файл определения браузера использует регулярное выражение для синтаксического анализа строки агента пользователя для определения запрашивающего браузера.</span><span class="sxs-lookup"><span data-stu-id="aa402-189">Much like the &lt;browserCaps&gt; section in 1.x, the browser definition file uses a Regular Expression to parse the user agent string in order to identify the requesting browser.</span></span> <span data-ttu-id="aa402-190">Они определяют определенные возможности для этого агента пользователя.</span><span class="sxs-lookup"><span data-stu-id="aa402-190">It them defines particular capabilities for that user agent.</span></span> <span data-ttu-id="aa402-191">ControlAdapter визуализирует элемент управления с помощью метода Render.</span><span class="sxs-lookup"><span data-stu-id="aa402-191">The ControlAdapter renders the control via the Render method.</span></span> <span data-ttu-id="aa402-192">Поэтому при переопределении метода Render не следует вызывать метод Render для базового класса.</span><span class="sxs-lookup"><span data-stu-id="aa402-192">Therefore, if you override the Render method, you should not call Render on the base class.</span></span> <span data-ttu-id="aa402-193">Это может привести к тому, что отрисовка будет происходить дважды, один раз для адаптера и один раз для самого элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-193">Doing so may cause rendering to occur twice, once for the adapter and once for the control itself.</span></span>

## <a name="developing-a-custom-adapter"></a><span data-ttu-id="aa402-194">Разработка пользовательского адаптера</span><span class="sxs-lookup"><span data-stu-id="aa402-194">Developing a Custom Adapter</span></span>

<span data-ttu-id="aa402-195">Вы можете разработать собственный настраиваемый адаптер, наследуя от ControlAdapter.</span><span class="sxs-lookup"><span data-stu-id="aa402-195">You can develop your own custom adapter by inheriting from ControlAdapter.</span></span> <span data-ttu-id="aa402-196">Кроме того, можно наследовать от абстрактного класса Пажеадаптер в случаях, когда для страницы требуется адаптер.</span><span class="sxs-lookup"><span data-stu-id="aa402-196">Additionally, you can inherit from the abstract class PageAdapter in cases where an adapter is needed for a page.</span></span> <span data-ttu-id="aa402-197">Сопоставление элементов управления с настраиваемым адаптером осуществляется с помощью элемента &lt;Контроладаптерс&gt; в файле определения браузера.</span><span class="sxs-lookup"><span data-stu-id="aa402-197">Mapping of controls to your custom adapter is accomplished via the &lt;controlAdapters&gt; element in the browser definition file.</span></span> <span data-ttu-id="aa402-198">Например, следующий XML-код из файла определения браузера сопоставляет элемент управления Menu с классом MenuAdapter:</span><span class="sxs-lookup"><span data-stu-id="aa402-198">For example, the following XML from a browser definition file maps the Menu control to the MenuAdapter class:</span></span>

[!code-html[Main](server-controls/samples/sample10.html)]

<span data-ttu-id="aa402-199">Используя эту модель, разработчику элемента управления достаточно просто ориентироваться на конкретное устройство или браузер.</span><span class="sxs-lookup"><span data-stu-id="aa402-199">Using this model, it becomes quite easy for a control developer to target a particular device or browser.</span></span> <span data-ttu-id="aa402-200">Разработчику также достаточно просто иметь полный контроль над тем, как страницы подготавливаются к просмотру на каждом устройстве.</span><span class="sxs-lookup"><span data-stu-id="aa402-200">It's also quite simple for a developer to have complete control over how pages render on every device.</span></span>

## <a name="per-device-rendering"></a><span data-ttu-id="aa402-201">Отрисовка на устройство</span><span class="sxs-lookup"><span data-stu-id="aa402-201">Per-Device Rendering</span></span>

<span data-ttu-id="aa402-202">Свойства серверного элемента управления в ASP.NET 2,0 можно указать для каждого устройства с помощью префикса для конкретного браузера.</span><span class="sxs-lookup"><span data-stu-id="aa402-202">Server control properties in ASP.NET 2.0 can be specified per-device using a browser-specific prefix.</span></span> <span data-ttu-id="aa402-203">Например, приведенный ниже код изменит текст метки в зависимости от того, какое устройство используется для просмотра страницы.</span><span class="sxs-lookup"><span data-stu-id="aa402-203">For example, the code below will change the Text of a label depending upon which device is being used to browse the page.</span></span>

[!code-aspx[Main](server-controls/samples/sample11.aspx)]

<span data-ttu-id="aa402-204">При просмотре страницы, содержащей эту метку, из Internet Explorer метка будет отображать текст "вы ведете из браузера Internet Explorer".</span><span class="sxs-lookup"><span data-stu-id="aa402-204">When the page containing this label is browsed from Internet Explorer, the label will display text saying "You are browsing from Internet Explorer."</span></span> <span data-ttu-id="aa402-205">При просмотре страницы из Firefox в метке отображается текст "вы просматриваете из Firefox".</span><span class="sxs-lookup"><span data-stu-id="aa402-205">When the page is browsed from Firefox, the label will display the text "You are browsing from Firefox."</span></span> <span data-ttu-id="aa402-206">При просмотре страницы с любого другого устройства отображается сообщение «вы ведете обзор с неизвестного устройства».</span><span class="sxs-lookup"><span data-stu-id="aa402-206">When the page is browsed from any other device, it will display "You are browsing from an unknown device."</span></span> <span data-ttu-id="aa402-207">Любое свойство можно указать с помощью этого специального синтаксиса.</span><span class="sxs-lookup"><span data-stu-id="aa402-207">Any property can be specified using this special syntax.</span></span>

## <a name="setting-focus"></a><span data-ttu-id="aa402-208">Установка фокуса</span><span class="sxs-lookup"><span data-stu-id="aa402-208">Setting Focus</span></span>

<span data-ttu-id="aa402-209">ASP.NET 1. x разработчики часто спрашивают о том, как установить первоначальный фокус на определенный элемент управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-209">ASP.NET 1.x developers frequently asked about how to set initial focus on a particular control.</span></span> <span data-ttu-id="aa402-210">Например, на странице входа полезно, чтобы текстовое поле идентификатор пользователя получило фокус при первой загрузке страницы.</span><span class="sxs-lookup"><span data-stu-id="aa402-210">For example, on a login page, it's useful to have the User ID textbox get the focus when the page first loads.</span></span> <span data-ttu-id="aa402-211">В ASP.NET 1. x это необходимо для написания сценария на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="aa402-211">In ASP.NET 1.x, doing this required writing some client-side script.</span></span> <span data-ttu-id="aa402-212">Хотя такой сценарий является тривиальной задачей, он больше не нужен в ASP.NET 2,0 благодаря методу SetFocus.</span><span class="sxs-lookup"><span data-stu-id="aa402-212">Even though such a script is a trivial task, it's no longer necessary in ASP.NET 2.0 thanks to the SetFocus method.</span></span> <span data-ttu-id="aa402-213">Метод SetFocus принимает один аргумент, указывающий на элемент управления, который должен получать фокус.</span><span class="sxs-lookup"><span data-stu-id="aa402-213">The SetFocus method takes one argument indicating the control that should receive focus.</span></span> <span data-ttu-id="aa402-214">Этот аргумент может быть ИДЕНТИФИКАТОРом клиента элемента управления в виде строки или имени серверного элемента управления как управляющего объекта.</span><span class="sxs-lookup"><span data-stu-id="aa402-214">This argument can either be the client ID of the control as a string or the name of the Server control as a Control object.</span></span> <span data-ttu-id="aa402-215">Например, чтобы установить начальный фокус на элемент управления TextBox с именем Ткстусерид при первой загрузке страницы, добавьте следующий код на страницу загрузки\_:</span><span class="sxs-lookup"><span data-stu-id="aa402-215">For example, to set the initial focus to a TextBox control called txtUserID when the page first loads, add the following code to Page\_Load:</span></span>

[!code-csharp[Main](server-controls/samples/sample12.cs)]

<span data-ttu-id="aa402-216">--или</span><span class="sxs-lookup"><span data-stu-id="aa402-216">-- or</span></span>

[!code-csharp[Main](server-controls/samples/sample13.cs)]

<span data-ttu-id="aa402-217">ASP.NET 2,0 использует обработчик WebClient. axd (обсуждался ранее) для визуализации функции на стороне клиента, которая задает фокус.</span><span class="sxs-lookup"><span data-stu-id="aa402-217">ASP.NET 2.0 uses the Webresource.axd handler (discussed previously) to render a client-side function that sets the focus.</span></span> <span data-ttu-id="aa402-218">Имя функции на стороне клиента — это форма\_"автофокус", как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="aa402-218">The name of the client-side function is WebForm\_AutoFocus as shown here:</span></span>

[!code-html[Main](server-controls/samples/sample14.html)]

<span data-ttu-id="aa402-219">Кроме того, можно использовать метод Focus для элемента управления, чтобы установить исходный фокус на этот элемент управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-219">Alternatively, you can use the Focus method for a control to set the initial focus to that control.</span></span> <span data-ttu-id="aa402-220">Метод Focus является производным от класса Control и доступен для всех элементов управления ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="aa402-220">The Focus method derives from the Control class and is available to all ASP.NET 2.0 controls.</span></span> <span data-ttu-id="aa402-221">При возникновении ошибки проверки можно также установить фокус на определенный элемент управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-221">It is also possible to set focus to a particular control when a validation error occurs.</span></span> <span data-ttu-id="aa402-222">Это будет рассмотрено в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-222">That will be covered in a later module.</span></span>

## <a name="new-server-controls-in-aspnet-20"></a><span data-ttu-id="aa402-223">Новые серверные элементы управления в ASP.NET 2,0</span><span class="sxs-lookup"><span data-stu-id="aa402-223">New Server Controls in ASP.NET 2.0</span></span>

<span data-ttu-id="aa402-224">Ниже перечислены новые серверные элементы управления в ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="aa402-224">The following are new server controls in ASP.NET 2.0.</span></span> <span data-ttu-id="aa402-225">Мы подробно рассмотрим некоторые из них в последующих модулях.</span><span class="sxs-lookup"><span data-stu-id="aa402-225">We will go into more detail on some of them in later modules.</span></span>

## <a name="imagemap-control"></a><span data-ttu-id="aa402-226">Элемент управления Имажемап</span><span class="sxs-lookup"><span data-stu-id="aa402-226">ImageMap Control</span></span>

<span data-ttu-id="aa402-227">Элемент управления Имажемап позволяет добавлять в изображение гиперобъекты, которые могут инициировать обратную передачу или переходить по URL-адресу.</span><span class="sxs-lookup"><span data-stu-id="aa402-227">The ImageMap control allows you to add hotspots to an image that can initiate a post back or navigate to a URL.</span></span> <span data-ttu-id="aa402-228">Доступны три типа точек доступа. Цирклехотспот, Ректанглехотспот и Полигонхотспот.</span><span class="sxs-lookup"><span data-stu-id="aa402-228">There are three types of hotspots available; CircleHotSpot, RectangleHotSpot, and PolygonHotSpot.</span></span> <span data-ttu-id="aa402-229">Гиперобъекты добавляются через редактор коллекций в Visual Studio или программно в коде.</span><span class="sxs-lookup"><span data-stu-id="aa402-229">Hotspots are added via a collection editor in Visual Studio or programmatically in code.</span></span> <span data-ttu-id="aa402-230">Для рисования гиперобъектов на изображении не предусмотрен пользовательский интерфейс.</span><span class="sxs-lookup"><span data-stu-id="aa402-230">There is no user-interface available for drawing hotspots on an image.</span></span> <span data-ttu-id="aa402-231">Координаты и размер или радиус гиперобъекта должны быть указаны декларативно.</span><span class="sxs-lookup"><span data-stu-id="aa402-231">The coordinates and size or radius of the hotspot must be specified declaratively.</span></span> <span data-ttu-id="aa402-232">В конструкторе не предусмотрено визуальное представление активной области.</span><span class="sxs-lookup"><span data-stu-id="aa402-232">There is also no visual representation of a hotspot in the designer.</span></span> <span data-ttu-id="aa402-233">Если точка подключения настроена для перехода по URL-адресу, URL-адрес указывается через свойство NavigateUrl активной области.</span><span class="sxs-lookup"><span data-stu-id="aa402-233">If a hotspot is configured to navigate to a URL, the URL is specified via the NavigateUrl property of the hotspot.</span></span> <span data-ttu-id="aa402-234">В случае с точки зрения обратной передачи свойство Постбакквалуе позволяет передать строку в обратном ответе, которую можно получить в коде на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="aa402-234">In the case of a post back hotspot, the PostBackValue property allows you to pass a string in the post back that can be retrieved in server-side code.</span></span>

![Редактор коллекции гиперобъектов в Visual Studio](server-controls/_static/image1.jpg)

<span data-ttu-id="aa402-236">**Рис. 1**. Редактор коллекции гиперобъектов в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="aa402-236">**Figure 1**: HotSpot Collection Editor in Visual Studio</span></span>

## <a name="bulletedlist-control"></a><span data-ttu-id="aa402-237">Элемент управления маркированного элемента</span><span class="sxs-lookup"><span data-stu-id="aa402-237">BulletedList Control</span></span>

<span data-ttu-id="aa402-238">Элемент управления "маркированный список" является маркированным списком, который можно легко привязать к данным.</span><span class="sxs-lookup"><span data-stu-id="aa402-238">The BulletedList control is a bulleted list that can easily be data bound.</span></span> <span data-ttu-id="aa402-239">Список можно упорядочить (нумерованный) или неупорядоченный через свойство Буллетстиле.</span><span class="sxs-lookup"><span data-stu-id="aa402-239">The list can be ordered (numbered) or unordered via the BulletStyle property.</span></span> <span data-ttu-id="aa402-240">Каждый элемент в списке представлен объектом ListItem.</span><span class="sxs-lookup"><span data-stu-id="aa402-240">Each item in the list is represented by a ListItem object.</span></span>

![Элемент управления маркированными элементами в Visual Studio](server-controls/_static/image1.gif)

<span data-ttu-id="aa402-242">**Рисунок 2**. элемент управления "маркированный" в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="aa402-242">**Figure 2**: BulletedList Control in Visual Studio</span></span>

## <a name="hiddenfield-control"></a><span data-ttu-id="aa402-243">Элемент управления HiddenField</span><span class="sxs-lookup"><span data-stu-id="aa402-243">HiddenField Control</span></span>

<span data-ttu-id="aa402-244">Элемент управления HiddenField добавляет к странице скрытое поле формы, значение которого доступно в коде на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="aa402-244">The HiddenField control adds a hidden form field to your page, the value of which is available in server-side code.</span></span> <span data-ttu-id="aa402-245">Значение скрытого поля формы обычно должно оставаться неизменным между обратными передачами.</span><span class="sxs-lookup"><span data-stu-id="aa402-245">The value of a hidden form field is generally expected to remain unchanged between post backs.</span></span> <span data-ttu-id="aa402-246">Однако пользователь-злоумышленник может изменить это значение до обратной передачи.</span><span class="sxs-lookup"><span data-stu-id="aa402-246">However, it is possible for a malicious user to change the value prior to post back.</span></span> <span data-ttu-id="aa402-247">В этом случае элемент управления HiddenField вызовет событие ValueChanged.</span><span class="sxs-lookup"><span data-stu-id="aa402-247">If this happens, the HiddenField control will raise the ValueChanged event.</span></span> <span data-ttu-id="aa402-248">Если у вас есть конфиденциальная информация в элементе управления HiddenField и вы хотите убедиться, что она остается неизменной, следует Обрабатывайте событие ValueChanged в коде.</span><span class="sxs-lookup"><span data-stu-id="aa402-248">If you have sensitive information in the HiddenField control and you want to ensure that it remains unchanged, you should handle the ValueChanged event in your code.</span></span>

## <a name="fileupload-control"></a><span data-ttu-id="aa402-249">Элемент управления FileUpload</span><span class="sxs-lookup"><span data-stu-id="aa402-249">FileUpload Control</span></span>

<span data-ttu-id="aa402-250">Элемент управления FileUpload в ASP.NET 2,0 позволяет передавать файлы на веб-сервер через страницу ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aa402-250">The FileUpload control in ASP.NET 2.0 makes it possible to upload files to a Web server via an ASP.NET page.</span></span> <span data-ttu-id="aa402-251">Этот элемент управления очень похож на класс ASP.NET 1. x HtmlInputFile с некоторыми исключениями.</span><span class="sxs-lookup"><span data-stu-id="aa402-251">This control is quite similar to the ASP.NET 1.x HtmlInputFile class with a few exceptions.</span></span> <span data-ttu-id="aa402-252">В ASP.NET 1. x было рекомендовано проверять свойство Постедфиле на значение null, чтобы определить, есть ли хороший файл.</span><span class="sxs-lookup"><span data-stu-id="aa402-252">In ASP.NET 1.x, it was recommended that the PostedFile property be checked for null in order to determine if you had a good file.</span></span> <span data-ttu-id="aa402-253">Элемент управления FileUpload в ASP.NET 2,0 добавляет новое свойство Хасфиле, которое можно использовать для той же цели, и это немного более эффективно.</span><span class="sxs-lookup"><span data-stu-id="aa402-253">The FileUpload control in ASP.NET 2.0 adds a new HasFile property that you can use for the same purpose and it's a bit more efficient.</span></span>

<span data-ttu-id="aa402-254">Свойство Постедфиле по-прежнему доступно для доступа к объекту Хттппостедфиле, но некоторые функции Хттппостедфиле теперь доступны с помощью элемента управления FileUpload.</span><span class="sxs-lookup"><span data-stu-id="aa402-254">The PostedFile property is still available for access to an HttpPostedFile object, but some of the functionality of the HttpPostedFile is now available intrinsically with the FileUpload control.</span></span> <span data-ttu-id="aa402-255">Например, чтобы сохранить загруженный файл в ASP.NET 1. x, вы вызываете метод SaveAs для объекта Хттппостедфиле.</span><span class="sxs-lookup"><span data-stu-id="aa402-255">For example, to save an uploaded file in ASP.NET 1.x, you call the SaveAs method on the HttpPostedFile object.</span></span> <span data-ttu-id="aa402-256">Используя элемент управления FileUpload в ASP.NET 2,0, вы бы вызывали метод SaveAs для самого элемента управления FileUpload.</span><span class="sxs-lookup"><span data-stu-id="aa402-256">Using the FileUpload control in ASP.NET 2.0, you would call the SaveAs method on the FileUpload control itself.</span></span>

<span data-ttu-id="aa402-257">Еще одно важное изменение в поведении 2,0 (и, вероятно, наиболее значимое изменение) заключается в том, что больше не требуется загружать весь загруженный файл в память перед сохранением.</span><span class="sxs-lookup"><span data-stu-id="aa402-257">Another significant change in the 2.0 behavior (and likely the most significant change) is that it is no longer necessary to load an entire uploaded file into memory before saving it.</span></span> <span data-ttu-id="aa402-258">В 1. x все отправленные файлы полностью сохраняются в памяти перед записью на диск.</span><span class="sxs-lookup"><span data-stu-id="aa402-258">In 1.x, any file that was uploaded is saved entirely into memory prior to being written to disk.</span></span> <span data-ttu-id="aa402-259">Эта архитектура предотвращает отправку больших файлов.</span><span class="sxs-lookup"><span data-stu-id="aa402-259">This architecture prevents the upload of large files.</span></span>

<span data-ttu-id="aa402-260">В ASP.NET 2,0 атрибут requestLengthDiskThreshold элемента httpRuntime позволяет указать, сколько килобайтов удерживается в буфере в памяти перед записью на диск.</span><span class="sxs-lookup"><span data-stu-id="aa402-260">In ASP.NET 2.0, the requestLengthDiskThreshold attribute of the httpRuntime element allows you to configure how many Kilobytes are held in a buffer in memory prior to being written to disk.</span></span>

<span data-ttu-id="aa402-261">**Важно!** документация MSDN (и документация в других местах) указывает, что это значение находится в байтах (не в килобайтах) и по умолчанию равно 256.</span><span class="sxs-lookup"><span data-stu-id="aa402-261">**IMPORTANT**: MSDN documentation (and documentation elsewhere) specifies that this value is in bytes (not Kilobytes) and that the default is 256.</span></span> <span data-ttu-id="aa402-262">Значение фактически указывается в килобайтах, а значение по умолчанию — 80.</span><span class="sxs-lookup"><span data-stu-id="aa402-262">The value is actually specified in Kilobytes and the default value is 80.</span></span> <span data-ttu-id="aa402-263">Используя значение по умолчанию 80K, мы гарантируете, что буфер не помещается в кучу больших объектов.</span><span class="sxs-lookup"><span data-stu-id="aa402-263">By having a default value of 80K, we ensure that the buffer does not end up on the large object heap.</span></span>

## <a name="wizard-control"></a><span data-ttu-id="aa402-264">Элемент управления Wizard</span><span class="sxs-lookup"><span data-stu-id="aa402-264">Wizard Control</span></span>

<span data-ttu-id="aa402-265">Довольно часто встречаются разработчики ASP.NET, которые пытаются собрать информацию в серии "страниц" с помощью панелей или путем передачи страниц на страницу.</span><span class="sxs-lookup"><span data-stu-id="aa402-265">It is fairly common to encounter ASP.NET developers struggling with attempting to gather information in a series of "pages" using panels or by transferring from page to page.</span></span> <span data-ttu-id="aa402-266">Чаще всего это неприятное и занимает много времени.</span><span class="sxs-lookup"><span data-stu-id="aa402-266">More often than not, the endeavor is a frustrating one and is time consuming.</span></span> <span data-ttu-id="aa402-267">Новый элемент управления Wizard решает проблемы, позволяя выполнять линейные и нелинейные шаги в интерфейсе мастера, с которым пользователи знакомы.</span><span class="sxs-lookup"><span data-stu-id="aa402-267">The new Wizard control solves the problems by allowing for linear and non-linear steps in a wizard interface that users are familiar with.</span></span> <span data-ttu-id="aa402-268">Элемент управления мастера предоставляет формы ввода в виде последовательности шагов.</span><span class="sxs-lookup"><span data-stu-id="aa402-268">The Wizard control presents input forms in a series of steps.</span></span> <span data-ttu-id="aa402-269">Каждый шаг относится к определенному типу, заданному свойством Стептипе элемента управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-269">Each step is of a particular type specified by the StepType property of the control.</span></span> <span data-ttu-id="aa402-270">Ниже приведены доступные типы шагов.</span><span class="sxs-lookup"><span data-stu-id="aa402-270">The available step types are as follows:</span></span>

| <span data-ttu-id="aa402-271">**Тип шага**</span><span class="sxs-lookup"><span data-stu-id="aa402-271">**Step Type**</span></span> | <span data-ttu-id="aa402-272">**Пояснение**</span><span class="sxs-lookup"><span data-stu-id="aa402-272">**Explanation**</span></span> |
| --- | --- |
| <span data-ttu-id="aa402-273">Auto</span><span class="sxs-lookup"><span data-stu-id="aa402-273">Auto</span></span> | <span data-ttu-id="aa402-274">Мастер автоматически определяет тип шага в зависимости от его расположения в иерархии шагов.</span><span class="sxs-lookup"><span data-stu-id="aa402-274">The wizard automatically determines the type of step based upon its position within the step hierarchy.</span></span> |
| <span data-ttu-id="aa402-275">Запуск</span><span class="sxs-lookup"><span data-stu-id="aa402-275">Start</span></span> | <span data-ttu-id="aa402-276">Первый шаг, часто используемый для представления вводной инструкции.</span><span class="sxs-lookup"><span data-stu-id="aa402-276">The first step, often used to present an introductory statement.</span></span> |
| <span data-ttu-id="aa402-277">Шаг</span><span class="sxs-lookup"><span data-stu-id="aa402-277">Step</span></span> | <span data-ttu-id="aa402-278">Обычным шагом.</span><span class="sxs-lookup"><span data-stu-id="aa402-278">A normal step.</span></span> |
| <span data-ttu-id="aa402-279">Готово</span><span class="sxs-lookup"><span data-stu-id="aa402-279">Finish</span></span> | <span data-ttu-id="aa402-280">Последний шаг, обычно используемый для представления кнопки для завершения работы мастера.</span><span class="sxs-lookup"><span data-stu-id="aa402-280">The final step, usually used to present a button to finish the wizard.</span></span> |
| <span data-ttu-id="aa402-281">Завершение</span><span class="sxs-lookup"><span data-stu-id="aa402-281">Complete</span></span> | <span data-ttu-id="aa402-282">Представляет сообщение, которое сообщает об успешном или неуспешном выполнении.</span><span class="sxs-lookup"><span data-stu-id="aa402-282">Presents a message communicating success or failure.</span></span> |

> [!NOTE]
> <span data-ttu-id="aa402-283">Элемент управления мастера отслеживает свое состояние с помощью состояния элемента управления ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aa402-283">The Wizard control keeps track of its state using ASP.NET control state.</span></span> <span data-ttu-id="aa402-284">Таким образом, свойству EnableViewState может быть присвоено значение false без какого бы то ни было негатива.</span><span class="sxs-lookup"><span data-stu-id="aa402-284">Therefore, the EnableViewState property can be set to false without any detriment.</span></span>

<span data-ttu-id="aa402-285">Это видео представляет собой пошаговое руководство по управлению мастером.</span><span class="sxs-lookup"><span data-stu-id="aa402-285">This video is a walkthrough of the Wizard control.</span></span>

![](server-controls/_static/image2.png)

[<span data-ttu-id="aa402-286">Открыть полноэкранное видео</span><span class="sxs-lookup"><span data-stu-id="aa402-286">Open Full-Screen Video</span></span>](server-controls/_static/wizard1.wmv)

## <a name="localize-control"></a><span data-ttu-id="aa402-287">Локализация элемента управления</span><span class="sxs-lookup"><span data-stu-id="aa402-287">Localize Control</span></span>

<span data-ttu-id="aa402-288">Элемент управления Localize аналогичен элементу управления Literal.</span><span class="sxs-lookup"><span data-stu-id="aa402-288">The Localize control is similar to a Literal control.</span></span> <span data-ttu-id="aa402-289">Однако элемент управления Localize имеет свойство **mode** , которое управляет отображением разметки, добавляемой в нее.</span><span class="sxs-lookup"><span data-stu-id="aa402-289">However, the Localize control has a **Mode** property that controls how markup that is added to it is rendered.</span></span> <span data-ttu-id="aa402-290">Свойство Mode поддерживает следующие значения:</span><span class="sxs-lookup"><span data-stu-id="aa402-290">The Mode property supports the following values:</span></span>

| <span data-ttu-id="aa402-291">**Режим**</span><span class="sxs-lookup"><span data-stu-id="aa402-291">**Mode**</span></span> | <span data-ttu-id="aa402-292">**Пояснение**</span><span class="sxs-lookup"><span data-stu-id="aa402-292">**Explanation**</span></span> |
| --- | --- |
| <span data-ttu-id="aa402-293">Преобразование</span><span class="sxs-lookup"><span data-stu-id="aa402-293">Transform</span></span> | <span data-ttu-id="aa402-294">Разметка преобразуется в соответствии с протоколом браузера, сделавшего запрос.</span><span class="sxs-lookup"><span data-stu-id="aa402-294">Markup is transformed according to the protocol of the browser making the request.</span></span> |
| <span data-ttu-id="aa402-295">Сылка</span><span class="sxs-lookup"><span data-stu-id="aa402-295">PassThrough</span></span> | <span data-ttu-id="aa402-296">Разметка отображается как есть.</span><span class="sxs-lookup"><span data-stu-id="aa402-296">Markup is rendered as-is.</span></span> |
| <span data-ttu-id="aa402-297">Кодирование</span><span class="sxs-lookup"><span data-stu-id="aa402-297">Encode</span></span> | <span data-ttu-id="aa402-298">Разметка, добавляемая в элемент управления, кодируется с помощью HtmlEncode.</span><span class="sxs-lookup"><span data-stu-id="aa402-298">Markup that is added to the control is encoded using HtmlEncode.</span></span> |

## <a name="multiview-and-view-controls"></a><span data-ttu-id="aa402-299">Элементы управления для просмотра и просмотра</span><span class="sxs-lookup"><span data-stu-id="aa402-299">MultiView and View Controls</span></span>

<span data-ttu-id="aa402-300">Элемент управления "представление" выступает в качестве контейнера для элементов управления "представление", а элемент управления "представление" выступает в качестве контейнера (подобно элементу управления Panel) для других элементов управления.</span><span class="sxs-lookup"><span data-stu-id="aa402-300">The MultiView control acts as a container for View controls, and the View control acts as a container (much like a Panel control) for other controls.</span></span> <span data-ttu-id="aa402-301">Каждое представление в элементе управления "Многоэлементный Просмотр" представлено одним элементом управления представлением.</span><span class="sxs-lookup"><span data-stu-id="aa402-301">Each view in a MultiView control is represented by a single View control.</span></span> <span data-ttu-id="aa402-302">Первый элемент управления представления в представлении «многопросмотр» имеет вид 0, второй — представление 1 и т. д. Можно переключать представления, указывая ActiveViewIndex элемента управления для просмотра.</span><span class="sxs-lookup"><span data-stu-id="aa402-302">The first View control in the MultiView is view 0, the second is view 1, etc. You can switch views by specifying the ActiveViewIndex of the MultiView control.</span></span>

## <a name="substitution-control"></a><span data-ttu-id="aa402-303">Элемент управления Substitution</span><span class="sxs-lookup"><span data-stu-id="aa402-303">Substitution Control</span></span>

<span data-ttu-id="aa402-304">Элемент управления Substitution используется в сочетании с кэшированием ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aa402-304">The Substitution control is used in conjunction with ASP.NET caching.</span></span> <span data-ttu-id="aa402-305">В случаях, когда требуется использовать кэширование, но есть части страницы, которые необходимо обновить по каждому запросу (иными словами, части страницы, которые исключены из кэширования), компонент подстановки предоставляет отличное решение.</span><span class="sxs-lookup"><span data-stu-id="aa402-305">In cases where you want to take advantage of caching, but you have portions of a page that must be updated on each request (in other words, portions of a page that are exempt from caching), the Substitution component provides a great solution.</span></span> <span data-ttu-id="aa402-306">Элемент управления на самом деле не отображает никаких выходных данных.</span><span class="sxs-lookup"><span data-stu-id="aa402-306">The control doesn't actually render any output on its own.</span></span> <span data-ttu-id="aa402-307">Вместо этого он привязывается к методу в коде на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="aa402-307">Instead, it is bound to a method in server-side code.</span></span> <span data-ttu-id="aa402-308">При запросе страницы вызывается метод, и вместо элемента управления Substitution отображается возвращаемая разметка.</span><span class="sxs-lookup"><span data-stu-id="aa402-308">When the page is requested, the method is called and the returned markup is rendered in place of the substitution control.</span></span>

<span data-ttu-id="aa402-309">Метод, к которому привязан элемент управления Substitution, задается с помощью свойства **MethodName** .</span><span class="sxs-lookup"><span data-stu-id="aa402-309">The method to which the Substitution control is bound is specified via the **MethodName** property.</span></span> <span data-ttu-id="aa402-310">Этот метод должен удовлетворять следующим критериям:</span><span class="sxs-lookup"><span data-stu-id="aa402-310">That method must meet the following criteria:</span></span>

- <span data-ttu-id="aa402-311">Он должен быть статическим методом (Shared в VB).</span><span class="sxs-lookup"><span data-stu-id="aa402-311">It must be a static (shared in VB) method.</span></span>
- <span data-ttu-id="aa402-312">Он принимает один параметр типа HttpContext.</span><span class="sxs-lookup"><span data-stu-id="aa402-312">It accepts one parameter of type HttpContext.</span></span>
- <span data-ttu-id="aa402-313">Он возвращает строку, представляющую разметку, которая должна заменить элемент управления на странице.</span><span class="sxs-lookup"><span data-stu-id="aa402-313">It returns a string representing the markup that should replace the control on the page.</span></span>

<span data-ttu-id="aa402-314">Элемент управления Substitution не имеет возможности изменять любой другой элемент управления на странице, но у него есть доступ к текущему HttpContext через его параметр.</span><span class="sxs-lookup"><span data-stu-id="aa402-314">The Substitution control does not have the ability to modify any other control on the page, but it does have access to the current HttpContext via its parameter.</span></span>

## <a name="gridview-control"></a><span data-ttu-id="aa402-315">Элемент управления GridView</span><span class="sxs-lookup"><span data-stu-id="aa402-315">GridView Control</span></span>

<span data-ttu-id="aa402-316">Элемент управления GridView является заменой элемента управления DataGrid.</span><span class="sxs-lookup"><span data-stu-id="aa402-316">The GridView control is the replacement for the DataGrid control.</span></span> <span data-ttu-id="aa402-317">Этот элемент управления будет более подробно рассмотрен в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-317">This control will be covered in more detail in a later module.</span></span>

## <a name="detailsview-control"></a><span data-ttu-id="aa402-318">Элемент управления DetailsView</span><span class="sxs-lookup"><span data-stu-id="aa402-318">DetailsView Control</span></span>

<span data-ttu-id="aa402-319">Элемент управления DetailsView позволяет отображать одну запись из источника данных, а также редактировать или удалять ее.</span><span class="sxs-lookup"><span data-stu-id="aa402-319">The DetailsView control allows you to display a single record from a data source and to edit or delete it.</span></span> <span data-ttu-id="aa402-320">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-320">It is covered in more detail in a later module.</span></span>

## <a name="formview-control"></a><span data-ttu-id="aa402-321">Элемент управления FormView</span><span class="sxs-lookup"><span data-stu-id="aa402-321">FormView Control</span></span>

<span data-ttu-id="aa402-322">Элемент управления FormView используется для вывода одной записи из источника данных в настраиваемом интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="aa402-322">The FormView control is used to display a single record from a datasource in a configurable interface.</span></span> <span data-ttu-id="aa402-323">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-323">It is covered in more detail in a later module.</span></span>

## <a name="accessdatasource-control"></a><span data-ttu-id="aa402-324">Элемент управления AccessDataSource</span><span class="sxs-lookup"><span data-stu-id="aa402-324">AccessDataSource Control</span></span>

<span data-ttu-id="aa402-325">Элемент управления AccessDataSource используется для привязки данных к базе данных Access.</span><span class="sxs-lookup"><span data-stu-id="aa402-325">The AccessDataSource control is used to data bind an Access database.</span></span> <span data-ttu-id="aa402-326">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-326">It is covered in more detail in a later module.</span></span>

## <a name="objectdatasource-control"></a><span data-ttu-id="aa402-327">Элемент управления ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="aa402-327">ObjectDataSource Control</span></span>

<span data-ttu-id="aa402-328">Элемент управления ObjectDataSource используется для поддержки трехуровневой архитектуры, чтобы элементы управления могли быть привязаны к бизнес-объекту среднего уровня, а не к модели с двумя уровнями, где элементы управления привязаны непосредственно к источнику данных.</span><span class="sxs-lookup"><span data-stu-id="aa402-328">The ObjectDataSource control is used to support a three-tier architecture so that controls can be data-bound to a middle-tier business object as opposed to a two-tiered model where controls are bound directly to the data source.</span></span> <span data-ttu-id="aa402-329">Он будет обсуждаться более подробно в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-329">It will be discussed in more detail in a later module.</span></span>

## <a name="xmldatasource-control"></a><span data-ttu-id="aa402-330">Элемент управления XmlDataSource</span><span class="sxs-lookup"><span data-stu-id="aa402-330">XmlDataSource Control</span></span>

<span data-ttu-id="aa402-331">Элемент управления XmlDataSource используется для привязки данных к источнику данных XML.</span><span class="sxs-lookup"><span data-stu-id="aa402-331">The XmlDataSource control is used to data bind to an XML data source.</span></span> <span data-ttu-id="aa402-332">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-332">It is covered in more detail in a later module.</span></span>

## <a name="sitemapdatasource-control"></a><span data-ttu-id="aa402-333">Элемент управления SiteMapDataSource</span><span class="sxs-lookup"><span data-stu-id="aa402-333">SiteMapDataSource Control</span></span>

<span data-ttu-id="aa402-334">Элемент управления SiteMapDataSource обеспечивает привязку данных для элементов управления навигацией сайта на основе схемы узла.</span><span class="sxs-lookup"><span data-stu-id="aa402-334">The SiteMapDataSource control provides data binding for site navigation controls based on a site map.</span></span> <span data-ttu-id="aa402-335">Он будет обсуждаться более подробно в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-335">It will be discussed in more detail in a later module.</span></span>

## <a name="sitemappath-control"></a><span data-ttu-id="aa402-336">Элемент управления SiteMapPath</span><span class="sxs-lookup"><span data-stu-id="aa402-336">SiteMapPath Control</span></span>

<span data-ttu-id="aa402-337">Элемент управления SiteMapPath отображает ряд навигационных ссылок, обычно называемых навигатором.</span><span class="sxs-lookup"><span data-stu-id="aa402-337">The SiteMapPath control displays a series of navigation links commonly referred to as breadcrumbs.</span></span> <span data-ttu-id="aa402-338">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-338">It is covered in more detail in a later module.</span></span>

## <a name="menu-control"></a><span data-ttu-id="aa402-339">Элемент управления меню</span><span class="sxs-lookup"><span data-stu-id="aa402-339">Menu Control</span></span>

<span data-ttu-id="aa402-340">Элемент управления Menu отображает динамические меню с помощью DHTML.</span><span class="sxs-lookup"><span data-stu-id="aa402-340">The Menu control displays dynamic menus using DHTML.</span></span> <span data-ttu-id="aa402-341">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-341">It is covered in more detail in a later module.</span></span>

## <a name="treeview-control"></a><span data-ttu-id="aa402-342">Элемент управления TreeView</span><span class="sxs-lookup"><span data-stu-id="aa402-342">TreeView Control</span></span>

<span data-ttu-id="aa402-343">Элемент управления TreeView используется для отображения иерархического представления данных в виде дерева.</span><span class="sxs-lookup"><span data-stu-id="aa402-343">The TreeView control is used to display a hierarchical tree view of data.</span></span> <span data-ttu-id="aa402-344">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-344">It is covered in more detail in a later module.</span></span>

## <a name="login-control"></a><span data-ttu-id="aa402-345">Элемент управления Login</span><span class="sxs-lookup"><span data-stu-id="aa402-345">Login Control</span></span>

<span data-ttu-id="aa402-346">Элемент управления Login предоставляет механизм для входа на веб-сайт.</span><span class="sxs-lookup"><span data-stu-id="aa402-346">The Login control provides for a mechanism to log into a Web site.</span></span> <span data-ttu-id="aa402-347">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-347">It is covered in more detail in a later module.</span></span>

## <a name="loginview-control"></a><span data-ttu-id="aa402-348">Элемент управления LoginView</span><span class="sxs-lookup"><span data-stu-id="aa402-348">LoginView Control</span></span>

<span data-ttu-id="aa402-349">Элемент управления LoginView позволяет отображать различные шаблоны на основе состояния имени входа пользователя.</span><span class="sxs-lookup"><span data-stu-id="aa402-349">The LoginView control allows for the display of different templates based upon a user's login status.</span></span> <span data-ttu-id="aa402-350">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-350">It is covered in more detail in a later module.</span></span>

## <a name="passwordrecovery-control"></a><span data-ttu-id="aa402-351">Элемент управления Пассвордрековери</span><span class="sxs-lookup"><span data-stu-id="aa402-351">PasswordRecovery Control</span></span>

<span data-ttu-id="aa402-352">Элемент управления Пассвордрековери используется для извлечения забытых паролей пользователями приложения ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aa402-352">The PasswordRecovery control is used to retrieve forgotten passwords by users of an ASP.NET application.</span></span> <span data-ttu-id="aa402-353">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-353">It is covered in more detail in a later module.</span></span>

## <a name="loginstatus"></a><span data-ttu-id="aa402-354">LoginStatus</span><span class="sxs-lookup"><span data-stu-id="aa402-354">LoginStatus</span></span>

<span data-ttu-id="aa402-355">Элемент управления LoginStatus отображает состояние входа пользователя.</span><span class="sxs-lookup"><span data-stu-id="aa402-355">The LoginStatus control displays a user's login status.</span></span> <span data-ttu-id="aa402-356">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-356">It is covered in more detail in a later module.</span></span>

## <a name="loginname"></a><span data-ttu-id="aa402-357">LoginName</span><span class="sxs-lookup"><span data-stu-id="aa402-357">LoginName</span></span>

<span data-ttu-id="aa402-358">Элемент управления LoginName отображает имя пользователя после входа в приложение ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aa402-358">The LoginName control displays a user's username after being logged into an ASP.NET application.</span></span> <span data-ttu-id="aa402-359">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-359">It is covered in more detail in a later module.</span></span>

## <a name="createuserwizard"></a><span data-ttu-id="aa402-360">CreateUserWizard</span><span class="sxs-lookup"><span data-stu-id="aa402-360">CreateUserWizard</span></span>

<span data-ttu-id="aa402-361">CreateUserWizard — это настраиваемый мастер, который дает пользователям возможность создать учетную запись членства ASP.NET для использования в приложении ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aa402-361">The CreateUserWizard is a configurable wizard which gives users the ability to create an ASP.NET Membership account for use in an ASP.NET application.</span></span> <span data-ttu-id="aa402-362">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-362">It is covered in more detail in a later module.</span></span>

## <a name="changepassword"></a><span data-ttu-id="aa402-363">Пароля</span><span class="sxs-lookup"><span data-stu-id="aa402-363">ChangePassword</span></span>

<span data-ttu-id="aa402-364">Элемент управления ChangePassword позволяет пользователям изменять свой пароль для приложения ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="aa402-364">The ChangePassword control allows users to change their password for an ASP.NET application.</span></span> <span data-ttu-id="aa402-365">Он более подробно рассматривается в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-365">It is covered in more detail in a later module.</span></span>

## <a name="various-webparts"></a><span data-ttu-id="aa402-366">Различные WebParts</span><span class="sxs-lookup"><span data-stu-id="aa402-366">Various WebParts</span></span>

<span data-ttu-id="aa402-367">ASP.NET 2,0 поставляется с различными веб-части.</span><span class="sxs-lookup"><span data-stu-id="aa402-367">ASP.NET 2.0 ships with various Web Parts.</span></span> <span data-ttu-id="aa402-368">Эти сведения будут подробно рассмотрены в более позднем модуле.</span><span class="sxs-lookup"><span data-stu-id="aa402-368">These will be covered in detail in a later module.</span></span>
