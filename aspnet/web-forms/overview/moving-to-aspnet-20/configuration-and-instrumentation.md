---
uid: web-forms/overview/moving-to-aspnet-20/configuration-and-instrumentation
title: Настройка и инструментирование | Документация Майкрософт
author: microsoft
description: Существуют значительные изменения в конфигурации и инструментировании в ASP.NET 2,0. Новый API настройки ASP.NET позволяет вносить изменения в конфигурацию...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 21ebbaee-7ed8-45ae-b6c1-c27c88342e48
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/configuration-and-instrumentation
msc.type: authoredcontent
ms.openlocfilehash: cd5bedce5459e8cf8e72df8de69ebd82f2d97789
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78507882"
---
# <a name="configuration-and-instrumentation"></a><span data-ttu-id="fda4a-104">Конфигурация и инструментирование</span><span class="sxs-lookup"><span data-stu-id="fda4a-104">Configuration and Instrumentation</span></span>

<span data-ttu-id="fda4a-105">по [Майкрософт](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="fda4a-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="fda4a-106">Существуют значительные изменения в конфигурации и инструментировании в ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="fda4a-106">There are major changes in configuration and instrumentation in ASP.NET 2.0.</span></span> <span data-ttu-id="fda4a-107">Новый API настройки ASP.NET позволяет программно вносить изменения в конфигурацию.</span><span class="sxs-lookup"><span data-stu-id="fda4a-107">The new ASP.NET configuration API allows for configuration changes to be made programmatically.</span></span> <span data-ttu-id="fda4a-108">Кроме того, существует множество новых параметров конфигурации, позволяющих использовать новые конфигурации и инструментирование.</span><span class="sxs-lookup"><span data-stu-id="fda4a-108">In addition, many new configuration settings exist allow for new configurations and instrumentation.</span></span>

<span data-ttu-id="fda4a-109">Существуют значительные изменения в конфигурации и инструментировании в ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="fda4a-109">There are major changes in configuration and instrumentation in ASP.NET 2.0.</span></span> <span data-ttu-id="fda4a-110">Новый API настройки ASP.NET позволяет программно вносить изменения в конфигурацию.</span><span class="sxs-lookup"><span data-stu-id="fda4a-110">The new ASP.NET configuration API allows for configuration changes to be made programmatically.</span></span> <span data-ttu-id="fda4a-111">Кроме того, существует множество новых параметров конфигурации, позволяющих использовать новые конфигурации и инструментирование.</span><span class="sxs-lookup"><span data-stu-id="fda4a-111">In addition, many new configuration settings exist allow for new configurations and instrumentation.</span></span>

<span data-ttu-id="fda4a-112">В этом модуле мы обсудим ASP.NET API настройки, так как он связан с чтением и записью в файлы конфигурации ASP.NET, а также охватывает инструментирование ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="fda4a-112">In this module, we will discuss ASP.NET the configuration API as it relates to reading from and writing to ASP.NET configuration files, and we will also cover ASP.NET instrumentation.</span></span> <span data-ttu-id="fda4a-113">Мы также рассмотрим новые функции, доступные в ASP.NETной трассировке.</span><span class="sxs-lookup"><span data-stu-id="fda4a-113">We will also cover the new features available in ASP.NET tracing.</span></span>

## <a name="aspnet-configuration-api"></a><span data-ttu-id="fda4a-114">API настройки ASP.NET</span><span class="sxs-lookup"><span data-stu-id="fda4a-114">ASP.NET Configuration API</span></span>

<span data-ttu-id="fda4a-115">API настройки ASP.NET позволяет разрабатывать, развертывать и администрировать данные конфигурации приложения с помощью единого интерфейса программирования.</span><span class="sxs-lookup"><span data-stu-id="fda4a-115">The ASP.NET configuration API allows you to develop, deploy, and manage application configuration data by using a single programming interface.</span></span> <span data-ttu-id="fda4a-116">API настройки можно использовать для разработки и изменения полных конфигураций ASP.NET программным способом без непосредственного редактирования XML-кода в файлах конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-116">You can use the configuration API to develop and modify complete ASP.NET configurations programmatically without directly editing the XML in the configuration files.</span></span> <span data-ttu-id="fda4a-117">Кроме того, можно использовать API настройки в разрабатываемых консольных приложениях и скриптах, в веб-средствах управления и в оснастках консоли управления (MMC).</span><span class="sxs-lookup"><span data-stu-id="fda4a-117">In addition, you can use the configuration API in console applications and scripts that you develop, in Web-based management tools, and in Microsoft Management Console (MMC) snap-ins.</span></span>

<span data-ttu-id="fda4a-118">Следующие два средства управления конфигурацией используют API настройки и включены в .NET Framework версии 2,0:</span><span class="sxs-lookup"><span data-stu-id="fda4a-118">The following two configuration-management tools use the configuration API and are included with the .NET Framework version 2.0:</span></span>

- <span data-ttu-id="fda4a-119">Оснастка ASP.NET консоли управления (MMC), которая использует API конфигурации для упрощения административных задач, предоставляя интегрированное представление данных локальной конфигурации на всех уровнях иерархии конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-119">The ASP.NET MMC snap-in, which uses the configuration API to simplify administrative tasks, providing an integrated view of local configuration data from all levels of the configuration hierarchy.</span></span>
- <span data-ttu-id="fda4a-120">Средство администрирования веб-сайтов, которое позволяет управлять параметрами конфигурации для локальных и удаленных приложений, включая размещенные.</span><span class="sxs-lookup"><span data-stu-id="fda4a-120">The Web Site Administration Tool, which allows you to manage configuration settings for local and remote applications, including hosted sites.</span></span>

<span data-ttu-id="fda4a-121">API настройки ASP.NET состоит из набора объектов управления ASP.NET, которые можно использовать для программной настройки веб-сайтов и приложений.</span><span class="sxs-lookup"><span data-stu-id="fda4a-121">The ASP.NET configuration API comprises a set of ASP.NET management objects that you can use to configure Web sites and applications programmatically.</span></span> <span data-ttu-id="fda4a-122">Управляющие объекты реализуются как библиотека классов .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="fda4a-122">Management objects are implemented as a .NET Framework class library.</span></span> <span data-ttu-id="fda4a-123">Модель программирования API конфигурации помогает обеспечить согласованность и надежность кода путем применения типов данных во время компиляции.</span><span class="sxs-lookup"><span data-stu-id="fda4a-123">The configuration API programming model helps ensure code consistency and reliability by enforcing data types at compile time.</span></span> <span data-ttu-id="fda4a-124">Чтобы упростить управление конфигурациями приложений, API конфигурации позволяет просматривать данные, Объединенные из всех точек в иерархии конфигурации, в виде одной коллекции, а не просматривать данные в виде отдельных коллекций из разных файлы конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-124">To make it easier to manage application configurations, the configuration API allows you to view data that is merged from all points in the configuration hierarchy as a single collection, instead of viewing the data as separate collections from different configuration files.</span></span> <span data-ttu-id="fda4a-125">Кроме того, API конфигурации позволяет управлять всей конфигурацией приложений без непосредственного редактирования XML-кода в файлах конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-125">Additionally, the configuration API enables you to manipulate entire application configurations without directly editing the XML in the configuration files.</span></span> <span data-ttu-id="fda4a-126">Наконец, API упрощает задачи настройки, поддерживая средства администрирования, такие как средство администрирования веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="fda4a-126">Finally, the API simplifies configuration tasks by supporting administrative tools, such as the Web Site Administration Tool.</span></span> <span data-ttu-id="fda4a-127">API конфигурации упрощает развертывание, поддерживая создание файлов конфигурации на компьютере и выполнение сценариев конфигурации на нескольких компьютерах.</span><span class="sxs-lookup"><span data-stu-id="fda4a-127">The configuration API simplifies deployment by supporting the creation of configuration files on a computer and running configuration scripts across multiple computers.</span></span>

> [!NOTE]
> <span data-ttu-id="fda4a-128">API конфигурации не поддерживает создание приложений IIS.</span><span class="sxs-lookup"><span data-stu-id="fda4a-128">The configuration API does not support the creation of IIS applications.</span></span>

## <a name="working-with-local-and-remote-configuration-settings"></a><span data-ttu-id="fda4a-129">Работа с локальными и удаленными параметрами конфигурации</span><span class="sxs-lookup"><span data-stu-id="fda4a-129">Working with Local and Remote Configuration Settings</span></span>

<span data-ttu-id="fda4a-130">Объект конфигурации представляет объединенное представление параметров конфигурации, которые применяются к определенной физической сущности, такой как компьютер, или к логической сущности, например к приложению или веб-сайту.</span><span class="sxs-lookup"><span data-stu-id="fda4a-130">A Configuration object represents the merged view of the configuration settings that apply to a specific physical entity, such as a computer, or to a logical entity, such as an application or a Web site.</span></span> <span data-ttu-id="fda4a-131">Указанная логическая сущность может существовать на локальном компьютере или на удаленном сервере.</span><span class="sxs-lookup"><span data-stu-id="fda4a-131">The specified logical entity can exist on the local computer or on a remote server.</span></span> <span data-ttu-id="fda4a-132">Если для указанной сущности не существует файла конфигурации, объект конфигурации представляет параметры конфигурации по умолчанию, определенные в файле Machine. config.</span><span class="sxs-lookup"><span data-stu-id="fda4a-132">When no configuration file exists for a specified entity, the Configuration object represents the default configuration settings as defined by the Machine.config file.</span></span>

<span data-ttu-id="fda4a-133">Объект конфигурации можно получить с помощью одного из открытых методов настройки из следующих классов:</span><span class="sxs-lookup"><span data-stu-id="fda4a-133">You can get a Configuration object by using one of the open configuration methods from the following classes:</span></span>

1. <span data-ttu-id="fda4a-134">Класс ConfigurationManager, если сущность является клиентским приложением.</span><span class="sxs-lookup"><span data-stu-id="fda4a-134">The ConfigurationManager class, if your entity is a client application.</span></span>
2. <span data-ttu-id="fda4a-135">Класс WebConfigurationManager, если сущность является веб-приложением.</span><span class="sxs-lookup"><span data-stu-id="fda4a-135">The WebConfigurationManager class, if your entity is a Web application.</span></span>

<span data-ttu-id="fda4a-136">Эти методы возвращают объект конфигурации, который, в свою очередь, предоставляет необходимые методы и свойства для управления базовыми файлами конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-136">These methods will return a Configuration object, which in turn provides the required methods and properties to handle the underlying configuration files.</span></span> <span data-ttu-id="fda4a-137">Вы можете получить доступ к этим файлам для чтения или записи.</span><span class="sxs-lookup"><span data-stu-id="fda4a-137">You can access these files for reading or writing.</span></span>

### <a name="reading"></a><span data-ttu-id="fda4a-138">Чтение</span><span class="sxs-lookup"><span data-stu-id="fda4a-138">Reading</span></span>

<span data-ttu-id="fda4a-139">Для чтения сведений о конфигурации используется метод Жетсектионграуп или.</span><span class="sxs-lookup"><span data-stu-id="fda4a-139">You use the GetSection or GetSectionGroup method to read configuration information.</span></span> <span data-ttu-id="fda4a-140">Пользователь или процесс, выполняющий чтение, должен иметь разрешения на чтение всех файлов конфигурации в иерархии.</span><span class="sxs-lookup"><span data-stu-id="fda4a-140">The user or process that reads must have Read permissions on all of the configuration files in the hierarchy.</span></span>

> [!NOTE]
> <span data-ttu-id="fda4a-141">Если используется статический метод части, принимающий параметр path, параметр path должен ссылаться на приложение, в котором выполняется код.</span><span class="sxs-lookup"><span data-stu-id="fda4a-141">If you use a static GetSection method that takes a path parameter, the path parameter must refer to the application in which the code is running.</span></span> <span data-ttu-id="fda4a-142">В противном случае параметр игнорируется, и возвращаются сведения о конфигурации для текущего приложения.</span><span class="sxs-lookup"><span data-stu-id="fda4a-142">Otherwise, the parameter is ignored and the configuration information for the currently running application is returned.</span></span>

### <a name="writing"></a><span data-ttu-id="fda4a-143">Запись</span><span class="sxs-lookup"><span data-stu-id="fda4a-143">Writing</span></span>

<span data-ttu-id="fda4a-144">Для записи сведений о конфигурации используется один из методов Save.</span><span class="sxs-lookup"><span data-stu-id="fda4a-144">You use one of the Save methods to write configuration information.</span></span> <span data-ttu-id="fda4a-145">Пользователь или процесс, выполняющий запись, должен иметь разрешения на запись в файл конфигурации и каталог на текущем уровне иерархии конфигурации, а также разрешения на чтение всех файлов конфигурации в иерархии.</span><span class="sxs-lookup"><span data-stu-id="fda4a-145">The user or process that writes must have Write permissions on the configuration file and directory at the current configuration hierarchy level, as well as Read permissions on all of the configuration files in the hierarchy.</span></span>

<span data-ttu-id="fda4a-146">Чтобы создать файл конфигурации, представляющий унаследованные параметры конфигурации для указанной сущности, используйте один из следующих методов сохранения конфигурации:</span><span class="sxs-lookup"><span data-stu-id="fda4a-146">To generate a configuration file that represents the inherited configuration settings for a specified entity, use one of the following save-configuration methods:</span></span>

1. <span data-ttu-id="fda4a-147">Метод Save для создания нового файла конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-147">The Save method to create a new configuration file.</span></span>
2. <span data-ttu-id="fda4a-148">Метод SaveAs для создания нового файла конфигурации в другом расположении.</span><span class="sxs-lookup"><span data-stu-id="fda4a-148">The SaveAs method to generate a new configuration file at another location.</span></span>

## <a name="configuration-classes-and-namespaces"></a><span data-ttu-id="fda4a-149">Классы и пространства имен конфигурации</span><span class="sxs-lookup"><span data-stu-id="fda4a-149">Configuration Classes and Namespaces</span></span>

<span data-ttu-id="fda4a-150">Многие классы и методы конфигурации похожи друг на друга.</span><span class="sxs-lookup"><span data-stu-id="fda4a-150">Many configuration classes and methods are similar to each other.</span></span> <span data-ttu-id="fda4a-151">В следующей таблице описаны наиболее часто используемые классы и пространства имен конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-151">The following table describes the most commonly used configuration classes and namespaces.</span></span>

| <span data-ttu-id="fda4a-152">**Класс конфигурации или пространство имен**</span><span class="sxs-lookup"><span data-stu-id="fda4a-152">**Configuration class or namespace**</span></span> | <span data-ttu-id="fda4a-153">**Описание**</span><span class="sxs-lookup"><span data-stu-id="fda4a-153">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="fda4a-154">Пространство имен [System. Configuration](https://msdn.microsoft.com/library/system.configuration.aspx)</span><span class="sxs-lookup"><span data-stu-id="fda4a-154">[System.Configuration](https://msdn.microsoft.com/library/system.configuration.aspx) namespace</span></span> | <span data-ttu-id="fda4a-155">Содержит основные классы конфигурации для всех .NET Framework приложений.</span><span class="sxs-lookup"><span data-stu-id="fda4a-155">Contains the main configuration classes for all .NET Framework applications.</span></span> <span data-ttu-id="fda4a-156">Классы обработчиков разделов используются для получения данных конфигурации для раздела из методов, таких как Жетсектионграуп и.</span><span class="sxs-lookup"><span data-stu-id="fda4a-156">Section handler classes are used to obtain configuration data for a section from methods, such as GetSection and GetSectionGroup.</span></span> <span data-ttu-id="fda4a-157">Эти два метода не являются статическими.</span><span class="sxs-lookup"><span data-stu-id="fda4a-157">These two methods are non-static.</span></span> |
| <span data-ttu-id="fda4a-158">Класс System. Configuration. Configuration</span><span class="sxs-lookup"><span data-stu-id="fda4a-158">System.Configuration.Configuration class</span></span> | <span data-ttu-id="fda4a-159">Представляет набор данных конфигурации для компьютера, приложения, веб-каталога или другого ресурса.</span><span class="sxs-lookup"><span data-stu-id="fda4a-159">Represents a set of configuration data for a computer, application, Web directory, or other resource.</span></span> <span data-ttu-id="fda4a-160">Этот класс содержит полезные методы, такие как "Жетсектионграуп" и "," для обновления параметров конфигурации и получения ссылок на разделы и группы разделов.</span><span class="sxs-lookup"><span data-stu-id="fda4a-160">This class contains useful methods, such as GetSection and GetSectionGroup, for updating configuration settings and obtaining references to sections and section groups.</span></span> <span data-ttu-id="fda4a-161">Этот класс используется в качестве типа возвращаемого значения для методов, которые получают данные конфигурации времени разработки, например методы классов WebConfigurationManager и ConfigurationManager.</span><span class="sxs-lookup"><span data-stu-id="fda4a-161">This class is used as a return type for methods that obtain design-time configuration data, such as the methods of the WebConfigurationManager and ConfigurationManager classes.</span></span> |
| <span data-ttu-id="fda4a-162">Пространство имен System. Web. Configuration</span><span class="sxs-lookup"><span data-stu-id="fda4a-162">System.Web.Configuration namespace</span></span> | <span data-ttu-id="fda4a-163">Содержит классы обработчиков разделов для разделов конфигурации ASP.NET, определенных в [параметрах конфигурации ASP.NET](https://msdn.microsoft.com/library/b5ysx397.aspx).</span><span class="sxs-lookup"><span data-stu-id="fda4a-163">Contains the section handler classes for the ASP.NET configuration sections defined at [ASP.NET Configuration Settings](https://msdn.microsoft.com/library/b5ysx397.aspx).</span></span> <span data-ttu-id="fda4a-164">Классы обработчиков разделов используются для получения данных конфигурации для раздела из методов, таких как Жетсектионграуп и.</span><span class="sxs-lookup"><span data-stu-id="fda4a-164">Section handler classes are used to obtain configuration data for a section from methods, such as GetSection and GetSectionGroup.</span></span> |
| <span data-ttu-id="fda4a-165">Класс System. Web. Configuration. WebConfigurationManager</span><span class="sxs-lookup"><span data-stu-id="fda4a-165">System.Web.Configuration.WebConfigurationManager class</span></span> | <span data-ttu-id="fda4a-166">Предоставляет полезные методы для получения ссылок на параметры конфигурации времени выполнения и времени разработки.</span><span class="sxs-lookup"><span data-stu-id="fda4a-166">Provides useful methods for obtaining references to run-time and design-time configuration settings.</span></span> <span data-ttu-id="fda4a-167">Эти методы используют класс System. Configuration. Configuration как тип возвращаемого значения.</span><span class="sxs-lookup"><span data-stu-id="fda4a-167">These methods use the System.Configuration.Configuration class as a return type.</span></span> <span data-ttu-id="fda4a-168">Можно использовать статический метод «часть» этого класса или нестатический метод части класса System. Configuration. ConfigurationManager.</span><span class="sxs-lookup"><span data-stu-id="fda4a-168">You can use the static GetSection method of this class or the non-static GetSection method of the System.Configuration.ConfigurationManager class interchangeably.</span></span> <span data-ttu-id="fda4a-169">Для конфигураций веб-приложений рекомендуется использовать класс System. Web. Configuration. WebConfigurationManager вместо класса System. Configuration. ConfigurationManager.</span><span class="sxs-lookup"><span data-stu-id="fda4a-169">For Web application configurations, the System.Web.Configuration.WebConfigurationManager class is recommended instead of the System.Configuration.ConfigurationManager class.</span></span> |
| <span data-ttu-id="fda4a-170">Пространство имен [System. Configuration. Provider](https://msdn.microsoft.com/library/system.configuration.provider.aspx)</span><span class="sxs-lookup"><span data-stu-id="fda4a-170">[System.Configuration.Provider](https://msdn.microsoft.com/library/system.configuration.provider.aspx) namespace</span></span> | <span data-ttu-id="fda4a-171">Предоставляет способ настройки и расширения поставщика конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-171">Provides a way to customize and extend the configuration provider.</span></span> <span data-ttu-id="fda4a-172">Это базовый класс для всех классов поставщиков в системе конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-172">This is the base class for all provider classes in the configuration system.</span></span> |
| <span data-ttu-id="fda4a-173">Пространство имен [System. Web. Management](https://msdn.microsoft.com/library/system.web.management.aspx)</span><span class="sxs-lookup"><span data-stu-id="fda4a-173">[System.Web.Management](https://msdn.microsoft.com/library/system.web.management.aspx) namespace</span></span> | <span data-ttu-id="fda4a-174">Содержит классы и интерфейсы для управления и мониторинга работоспособности веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="fda4a-174">Contains classes and interfaces for managing and monitoring the health of Web applications.</span></span> <span data-ttu-id="fda4a-175">Строго говоря, это пространство имен не считается частью API конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-175">Strictly speaking, this namespace is not considered part of the configuration API.</span></span> <span data-ttu-id="fda4a-176">Например, события трассировки и обработки событий выполняются классами в этом пространстве имен.</span><span class="sxs-lookup"><span data-stu-id="fda4a-176">For example, tracing and event firing is accomplished by the classes in this namespace.</span></span> |
| <span data-ttu-id="fda4a-177">Пространство имен [System. Management. Instrumentation](https://msdn.microsoft.com/library/system.management.instrumentation.aspx)</span><span class="sxs-lookup"><span data-stu-id="fda4a-177">[System.Management.Instrumentation](https://msdn.microsoft.com/library/system.management.instrumentation.aspx) namespace</span></span> | <span data-ttu-id="fda4a-178">Предоставляет классы, необходимые для инструментирования приложений с целью предоставления сведений об управлении и событий с помощью инструментарий управления Windows (WMI) (WMI) потенциальным потребителям.</span><span class="sxs-lookup"><span data-stu-id="fda4a-178">Provides the classes necessary for the instrumentation of applications to expose their management information and events through Windows Management Instrumentation (WMI) to potential consumers.</span></span> <span data-ttu-id="fda4a-179">Мониторинг работоспособности ASP.NET использует инструментарий WMI для доставки событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-179">ASP.NET health monitoring uses WMI to deliver events.</span></span> <span data-ttu-id="fda4a-180">Строго говоря, это пространство имен не считается частью API конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-180">Strictly speaking, this namespace is not considered part of the configuration API.</span></span> |

## <a name="reading-from-aspnet-configuration-files"></a><span data-ttu-id="fda4a-181">Чтение из файлов конфигурации ASP.NET</span><span class="sxs-lookup"><span data-stu-id="fda4a-181">Reading from ASP.NET Configuration Files</span></span>

<span data-ttu-id="fda4a-182">Класс WebConfigurationManager является основным классом для чтения из файлов конфигурации ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="fda4a-182">The WebConfigurationManager class is the core class for reading from ASP.NET configuration files.</span></span> <span data-ttu-id="fda4a-183">Для чтения файлов конфигурации ASP.NET есть три шага:</span><span class="sxs-lookup"><span data-stu-id="fda4a-183">There are essentially three steps to reading ASP.NET configuration files:</span></span>

1. <span data-ttu-id="fda4a-184">Получите объект конфигурации с помощью метода Опенвебконфигуратион.</span><span class="sxs-lookup"><span data-stu-id="fda4a-184">Get a Configuration object using the OpenWebConfiguration method.</span></span>
2. <span data-ttu-id="fda4a-185">Получите ссылку на нужный раздел в файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-185">Get a reference to the desired section in the configuration file.</span></span>
3. <span data-ttu-id="fda4a-186">Прочитайте нужную информацию из файла конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-186">Read the desired information from the configuration file.</span></span>

<span data-ttu-id="fda4a-187">Объект конфигурации представляет не конкретный файл конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-187">The Configuration object represents does not represent a particular configuration file.</span></span> <span data-ttu-id="fda4a-188">Вместо этого он представляет объединенное представление конфигурации компьютера, приложения или веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="fda4a-188">Instead, it represents a merged view of the configuration of a computer, application, or Web site.</span></span> <span data-ttu-id="fda4a-189">В следующем примере кода создается объект конфигурации, представляющий конфигурацию веб-приложения с именем *ProductInfo*.</span><span class="sxs-lookup"><span data-stu-id="fda4a-189">The following code sample instantiates a Configuration object representing the configuration of a Web application called *ProductInfo*.</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample1.cs)]

> [!NOTE]
> <span data-ttu-id="fda4a-190">Обратите внимание, что если путь/Продуктинфо не существует, приведенный выше код вернет конфигурацию по умолчанию, как указано в файле Machine. config.</span><span class="sxs-lookup"><span data-stu-id="fda4a-190">Note that if the /ProductInfo path doesn't exist, the above code will return the default configuration as specified in the machine.config file.</span></span>

<span data-ttu-id="fda4a-191">После создания объекта конфигурации можно использовать метод GetObject или Жетсектионграуп для детализации параметров конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-191">Once you have the Configuration object, you can then use the GetSection or GetSectionGroup method to drill into the configuration settings.</span></span> <span data-ttu-id="fda4a-192">В следующем примере возвращается ссылка на параметры олицетворения для указанного выше приложения ProductInfo:</span><span class="sxs-lookup"><span data-stu-id="fda4a-192">The following example gets a reference to the impersonation settings for the above ProductInfo application:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample2.cs)]

## <a name="writing-to-aspnet-configuration-files"></a><span data-ttu-id="fda4a-193">Запись в файлы конфигурации ASP.NET</span><span class="sxs-lookup"><span data-stu-id="fda4a-193">Writing to ASP.NET Configuration Files</span></span>

<span data-ttu-id="fda4a-194">Как и при чтении файлов конфигурации, класс WebConfigurationManager является ядром для записи в файлы конфигурации Asp.NET.</span><span class="sxs-lookup"><span data-stu-id="fda4a-194">As in reading from configuration files, the WebConfigurationManager class is the core for writing to Asp.NET configuration files.</span></span> <span data-ttu-id="fda4a-195">Существует также три шага для записи в файлы конфигурации ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="fda4a-195">There are also three steps to writing to ASP.NET configuration files.</span></span>

1. <span data-ttu-id="fda4a-196">Получите объект конфигурации с помощью метода Опенвебконфигуратион.</span><span class="sxs-lookup"><span data-stu-id="fda4a-196">Get a Configuration object using the OpenWebConfiguration method.</span></span>
2. <span data-ttu-id="fda4a-197">Получите ссылку на нужный раздел в файле конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-197">Get a reference to the desired section in the configuration file.</span></span>
3. <span data-ttu-id="fda4a-198">Запишите нужную информацию из файла конфигурации с помощью метода Save или SaveAs.</span><span class="sxs-lookup"><span data-stu-id="fda4a-198">Write the desired information from the configuration file using the Save or SaveAs method.</span></span>

<span data-ttu-id="fda4a-199">Следующий код изменяет атрибут **Debug** элемента&gt; компиляции &lt;в значение false:</span><span class="sxs-lookup"><span data-stu-id="fda4a-199">The following code changes the **debug** attribute of the &lt;compilation&gt; element to false:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample3.cs)]

<span data-ttu-id="fda4a-200">При выполнении этого кода атрибуту **Debug** элемента&gt; компиляции &lt;будет присвоено значение false для файла Web. config приложения *webApp* .</span><span class="sxs-lookup"><span data-stu-id="fda4a-200">When this code is executed, the **debug** attribute of the &lt;compilation&gt; element will be set to false for the *webApp* application's web.config file.</span></span>

## <a name="systemwebmanagement-namespace"></a><span data-ttu-id="fda4a-201">Пространство имен System. Web. Management</span><span class="sxs-lookup"><span data-stu-id="fda4a-201">System.Web.Management Namespace</span></span>

<span data-ttu-id="fda4a-202">Пространство имен System. Web. Management предоставляет классы и интерфейсы для управления работоспособностью приложений ASP.NET и наблюдения за ними.</span><span class="sxs-lookup"><span data-stu-id="fda4a-202">The System.Web.Management namespace provides the classes and interfaces for managing and monitoring the health of ASP.NET applications.</span></span>

<span data-ttu-id="fda4a-203">Ведение журнала выполняется путем определения правила, которое связывает события с поставщиком.</span><span class="sxs-lookup"><span data-stu-id="fda4a-203">Logging is accomplished by defining a rule that associates events with a provider.</span></span> <span data-ttu-id="fda4a-204">Правило определяет тип событий, отправляемых поставщику.</span><span class="sxs-lookup"><span data-stu-id="fda4a-204">The rule defines the type of events that are sent to the provider.</span></span> <span data-ttu-id="fda4a-205">Для ведения журнала доступны следующие базовые события:</span><span class="sxs-lookup"><span data-stu-id="fda4a-205">The following base events are available for you to log:</span></span>

| <span data-ttu-id="fda4a-206">**WebBaseEvent**</span><span class="sxs-lookup"><span data-stu-id="fda4a-206">**WebBaseEvent**</span></span> | <span data-ttu-id="fda4a-207">Базовый класс событий для всех событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-207">The base event class for all events.</span></span> <span data-ttu-id="fda4a-208">Содержит обязательные свойства для всех событий, таких как код события, подробный код события, Дата и время возникновения события, порядковый номер, сообщение о событии и сведения о событии.</span><span class="sxs-lookup"><span data-stu-id="fda4a-208">Contains the required properties for all events such as event code, event detail code, the date and time the event was raised, sequence number, the event message, and event details.</span></span> |
| --- | --- |
| <span data-ttu-id="fda4a-209">**вебманажементевент**</span><span class="sxs-lookup"><span data-stu-id="fda4a-209">**WebManagementEvent**</span></span> | <span data-ttu-id="fda4a-210">Базовый класс событий для событий управления, таких как время существования приложения, запросы, ошибки и события аудита.</span><span class="sxs-lookup"><span data-stu-id="fda4a-210">The base event class for management events, such as application lifetime, request, error, and audit events.</span></span> |
| <span data-ttu-id="fda4a-211">**вебхеартбеатевент**</span><span class="sxs-lookup"><span data-stu-id="fda4a-211">**WebHeartbeatEvent**</span></span> | <span data-ttu-id="fda4a-212">Событие, создаваемое приложением через регулярные интервалы времени для сбора полезных сведений о состоянии среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="fda4a-212">The event generated by the application in regular intervals to capture useful runtime state information.</span></span> |
| <span data-ttu-id="fda4a-213">**вебаудитевент**</span><span class="sxs-lookup"><span data-stu-id="fda4a-213">**WebAuditEvent**</span></span> | <span data-ttu-id="fda4a-214">Базовый класс для событий аудита безопасности, которые используются для обозначения таких условий, как сбой авторизации, сбой расшифровки и *т. д.*</span><span class="sxs-lookup"><span data-stu-id="fda4a-214">The base class for security audit events, which are used to mark conditions such as authorization failure, decryption failure, *etc.*</span></span> |
| <span data-ttu-id="fda4a-215">**вебрекуестевент**</span><span class="sxs-lookup"><span data-stu-id="fda4a-215">**WebRequestEvent**</span></span> | <span data-ttu-id="fda4a-216">Базовый класс для всех событий информационных запросов.</span><span class="sxs-lookup"><span data-stu-id="fda4a-216">The base class for all informational request events.</span></span> |
| <span data-ttu-id="fda4a-217">**веббасирроревент**</span><span class="sxs-lookup"><span data-stu-id="fda4a-217">**WebBaseErrorEvent**</span></span> | <span data-ttu-id="fda4a-218">Базовый класс для всех событий, указывающих на состояние ошибки.</span><span class="sxs-lookup"><span data-stu-id="fda4a-218">The base class for all events indicating error conditions.</span></span> |

<span data-ttu-id="fda4a-219">Доступные типы поставщиков позволяют отправлять выходные данные событий в Просмотр событий, SQL Server, инструментарий управления Windows (WMI) (WMI) и электронной почте.</span><span class="sxs-lookup"><span data-stu-id="fda4a-219">The types of providers available allow you to send event output to Event Viewer, SQL Server, Windows Management Instrumentation (WMI), and email.</span></span> <span data-ttu-id="fda4a-220">Предварительно настроенные поставщики и сопоставления событий уменьшают объем работы, необходимый для получения журнала событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-220">The pre-configured providers and event mappings reduce the amount of work necessary to get event output logged.</span></span>

<span data-ttu-id="fda4a-221">ASP.NET 2,0 использует встроенную службу регистратора событий для регистрации событий на основе запуска и остановки доменов приложений, а также для регистрации любых необработанных исключений.</span><span class="sxs-lookup"><span data-stu-id="fda4a-221">ASP.NET 2.0 uses the Event Log provider out-of-the-box to log events based on application domains starting and stopping, as well as logging any unhandled exceptions.</span></span> <span data-ttu-id="fda4a-222">Это поможет охватить некоторые основные сценарии.</span><span class="sxs-lookup"><span data-stu-id="fda4a-222">This helps to cover some of the basic scenarios.</span></span> <span data-ttu-id="fda4a-223">Например, предположим, что приложение создает исключение, но пользователь не сохраняет ошибку, и вы не можете воспроизвести ее.</span><span class="sxs-lookup"><span data-stu-id="fda4a-223">For example, let's say that your application throws an exception, but the user doesn't save the error and you can't reproduce it.</span></span> <span data-ttu-id="fda4a-224">С помощью правила журнала событий по умолчанию вы сможете собирать сведения об исключениях и стеке, чтобы лучше понять, какой тип ошибок произошла.</span><span class="sxs-lookup"><span data-stu-id="fda4a-224">With the default Event Log rule, you would be able to gather the exception and stack information to get a better idea of what kind of error occurred.</span></span> <span data-ttu-id="fda4a-225">Другой пример применяется, если приложение теряет состояние сеанса.</span><span class="sxs-lookup"><span data-stu-id="fda4a-225">Another example applies if your application is losing session state.</span></span> <span data-ttu-id="fda4a-226">В этом случае можно просмотреть журнал событий, чтобы определить, перезапускается ли домен приложения, и почему домен приложения остановлен на первом месте.</span><span class="sxs-lookup"><span data-stu-id="fda4a-226">In that case, you can look in the Event Log to determine whether the application domain is recycling, and why the application domain stopped in the first place.</span></span>

<span data-ttu-id="fda4a-227">Кроме того, система мониторинга работоспособности является расширяемой.</span><span class="sxs-lookup"><span data-stu-id="fda4a-227">Also, the health monitoring system is extensible.</span></span> <span data-ttu-id="fda4a-228">Например, можно определить пользовательские веб-события, запустить их в приложении, а затем определить правило для отправки сведений о событии поставщику, например электронной почте.</span><span class="sxs-lookup"><span data-stu-id="fda4a-228">For example, you can define custom Web events, fire them within your application, and then define a rule to send the event information to a provider such as your email.</span></span> <span data-ttu-id="fda4a-229">Это позволяет легко связать инструментирование с поставщиками мониторинга работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fda4a-229">This allows you to easily tie your instrumentation to the health monitoring providers.</span></span> <span data-ttu-id="fda4a-230">В качестве другого примера можно запустить событие каждый раз при обработке заказа и настроить правило, которое отправляет каждое событие в SQL Server базу данных.</span><span class="sxs-lookup"><span data-stu-id="fda4a-230">As another example, you could fire an event each time an order is processed and set up a rule that sends each event to the SQL Server database.</span></span> <span data-ttu-id="fda4a-231">Можно также запустить событие, когда пользователю не удастся войти в строку несколько раз и настроить событие для использования поставщиков на основе электронной почты.</span><span class="sxs-lookup"><span data-stu-id="fda4a-231">You could also fire an event when a user fails to log on multiple times in a row, and set up the event to use the email-based providers.</span></span>

<span data-ttu-id="fda4a-232">Конфигурация поставщиков и событий по умолчанию хранится в глобальном файле Web. config.</span><span class="sxs-lookup"><span data-stu-id="fda4a-232">The configuration for the default providers and events is stored in the global Web.config file.</span></span> <span data-ttu-id="fda4a-233">В глобальном файле Web. config хранятся все веб-параметры, которые хранились в файле Machine. config в ASP.NET 1x.</span><span class="sxs-lookup"><span data-stu-id="fda4a-233">The global Web.config file stores all the Web-based settings that were stored in the Machine.config file in ASP.NET 1x.</span></span> <span data-ttu-id="fda4a-234">Глобальный файл Web. config находится в следующем каталоге:</span><span class="sxs-lookup"><span data-stu-id="fda4a-234">The global Web.config file is located in the following directory:</span></span>

`%windir%\Microsoft.Net\Framework\v2.0.*\config\Web.config`

<span data-ttu-id="fda4a-235">Раздел &lt;healthMonitoring&gt; в глобальном файле Web. config предоставляет параметры конфигурации по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="fda4a-235">The &lt;healthMonitoring&gt; section of the global Web.config file provides default configuration settings.</span></span> <span data-ttu-id="fda4a-236">Можно переопределить эти настройки или настроить собственные параметры, реализовав&gt; раздел &lt;healthMonitoring в файле Web. config для приложения.</span><span class="sxs-lookup"><span data-stu-id="fda4a-236">You can override these setting or configure your own settings by implementing the &lt;healthMonitoring&gt; section in the Web.config file for your application.</span></span>

<span data-ttu-id="fda4a-237">Раздел &lt;healthMonitoring&gt; в глобальном файле Web. config содержит следующие элементы:</span><span class="sxs-lookup"><span data-stu-id="fda4a-237">The &lt;healthMonitoring&gt; section of the global Web.config file contains the following items:</span></span>

| <span data-ttu-id="fda4a-238">**providers**</span><span class="sxs-lookup"><span data-stu-id="fda4a-238">**providers**</span></span> | <span data-ttu-id="fda4a-239">Содержит поставщики, настроенные для Просмотр событий, WMI и SQL Server.</span><span class="sxs-lookup"><span data-stu-id="fda4a-239">Contains providers set up for the Event Viewer, WMI, and SQL Server.</span></span> |
| --- | --- |
| <span data-ttu-id="fda4a-240">**eventMappings**</span><span class="sxs-lookup"><span data-stu-id="fda4a-240">**eventMappings**</span></span> | <span data-ttu-id="fda4a-241">Содержит сопоставления для различных классов класса Base.</span><span class="sxs-lookup"><span data-stu-id="fda4a-241">Contains mappings for the various WebBase classes.</span></span> <span data-ttu-id="fda4a-242">Этот список можно расширить при создании собственного класса событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-242">You can extend this list if you generate your own event class.</span></span> <span data-ttu-id="fda4a-243">Создание собственного класса событий обеспечивает более детализированную детализацию для поставщиков, которым вы отправляете информацию.</span><span class="sxs-lookup"><span data-stu-id="fda4a-243">Generating your own event class gives you finer granularity over the providers you send information to.</span></span> <span data-ttu-id="fda4a-244">Например, можно настроить отправку необработанных исключений в SQL Server при отправке пользовательских событий в электронную почту.</span><span class="sxs-lookup"><span data-stu-id="fda4a-244">For example, you could configure unhandled exceptions to be sent to SQL Server, while sending your own custom events to email.</span></span> |
| <span data-ttu-id="fda4a-245">**правил**</span><span class="sxs-lookup"><span data-stu-id="fda4a-245">**rules**</span></span> | <span data-ttu-id="fda4a-246">Связывает параметр eventMappings с поставщиком.</span><span class="sxs-lookup"><span data-stu-id="fda4a-246">Links the eventMappings to the provider.</span></span> |
| <span data-ttu-id="fda4a-247">**буферизации**</span><span class="sxs-lookup"><span data-stu-id="fda4a-247">**buffering**</span></span> | <span data-ttu-id="fda4a-248">Используется с поставщиками услуг SQL Server и электронной почты для определения частоты записи событий в поставщик.</span><span class="sxs-lookup"><span data-stu-id="fda4a-248">Used with SQL Server and email providers to determine how often to flush the events to the provider.</span></span> |

<span data-ttu-id="fda4a-249">Ниже приведен пример кода из глобального файла Web. config.</span><span class="sxs-lookup"><span data-stu-id="fda4a-249">Below is a code example from the global Web.config file.</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample4.xml)]

## <a name="how-to-store-events-to-event-viewer"></a><span data-ttu-id="fda4a-250">Как сохранять события для Просмотр событий</span><span class="sxs-lookup"><span data-stu-id="fda4a-250">How to store events to Event Viewer</span></span>

<span data-ttu-id="fda4a-251">Как упоминалось ранее, поставщик регистрации событий в Просмотр событий настраивается в глобальном файле Web. config.</span><span class="sxs-lookup"><span data-stu-id="fda4a-251">As mentioned earlier, the provider for logging events in the Event Viewer is configured for you in the global Web.config file.</span></span> <span data-ttu-id="fda4a-252">По умолчанию регистрируются все события, основанные на **веббасирроревент** и **вебфаилуреаудитевент** .</span><span class="sxs-lookup"><span data-stu-id="fda4a-252">By default, all events based on **WebBaseErrorEvent** and **WebFailureAuditEvent** are logged.</span></span> <span data-ttu-id="fda4a-253">Можно добавить дополнительные правила для записи дополнительных сведений в журнал событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-253">You can add additional rules to log additional information to the Event Log.</span></span> <span data-ttu-id="fda4a-254">Например, если вы хотите регистрировать все события (*т. е.* каждое событие, основанное на **WebBaseEvent**), можно добавить следующее правило в файл Web. config:</span><span class="sxs-lookup"><span data-stu-id="fda4a-254">For example, if you wanted to log all events (*i.e.*, every event based on **WebBaseEvent**), you could add the following rule to your Web.config file:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample5.xml)]

<span data-ttu-id="fda4a-255">Это правило связывает сопоставлению событий **все события** с поставщиком журнала событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-255">This rule would link the **All Events** event map to the Event Log provider.</span></span> <span data-ttu-id="fda4a-256">Как таблица eventmapping, так и поставщик включены в глобальный файл Web. config.</span><span class="sxs-lookup"><span data-stu-id="fda4a-256">Both eventMapping and the provider are included in the global Web.config file.</span></span>

## <a name="how-to-store-events-to-sql-server"></a><span data-ttu-id="fda4a-257">Как сохранять события для SQL Server</span><span class="sxs-lookup"><span data-stu-id="fda4a-257">How to store events to SQL Server</span></span>

<span data-ttu-id="fda4a-258">Этот метод использует базу данных **aspnetdb** , созданную средством ASPNET\_регскл. exe.</span><span class="sxs-lookup"><span data-stu-id="fda4a-258">This method uses the **ASPNETDB** database, which is generated by the Aspnet\_regsql.exe tool.</span></span> <span data-ttu-id="fda4a-259">Поставщик по умолчанию использует строку подключения LocalSqlServer, которая использует файловую базу данных в папке приложения\_данных или локальный экземпляр SQLExpress SQL Server.</span><span class="sxs-lookup"><span data-stu-id="fda4a-259">The default provider uses the LocalSqlServer connection string, which uses either a file-based database in the App\_data folder or the local SQLExpress instance of SQL Server.</span></span> <span data-ttu-id="fda4a-260">Строка подключения LocalSqlServer и дескриптора SqlProvider настраиваются в глобальном файле Web. config.</span><span class="sxs-lookup"><span data-stu-id="fda4a-260">Both the LocalSqlServer connection string and the SqlProvider are configured in the global Web.config file.</span></span>

<span data-ttu-id="fda4a-261">Строка подключения LocalSqlServer в глобальном файле Web. config выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="fda4a-261">The LocalSqlServer connection string in the global Web.config file looks like this:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample6.xml)]

<span data-ttu-id="fda4a-262">Если вы хотите использовать другой экземпляр SQL Server, необходимо использовать средство ASPNET\_регскл. exe, которое можно найти в%windir%\Microsoft.Net\Framework\v2.0. Папка\*.</span><span class="sxs-lookup"><span data-stu-id="fda4a-262">If you want to use another SQL Server instance, you'll need to use the Aspnet\_regsql.exe tool, which can be found in the %windir%\Microsoft.Net\Framework\v2.0.\* folder.</span></span> <span data-ttu-id="fda4a-263">Используйте средство ASPNET\_регскл. exe для создания пользовательской базы данных **aspnetdb** на экземпляре SQL Server, затем добавьте строку подключения в файл конфигурации приложений, а затем добавьте поставщик с помощью новой строки подключения.</span><span class="sxs-lookup"><span data-stu-id="fda4a-263">Use the Aspnet\_regsql.exe tool to generate a custom **ASPNETDB** database on the SQL Server instance, then add the connection string to your applications configuration file, and then add a provider by using the new connection string.</span></span> <span data-ttu-id="fda4a-264">После создания базы данных **aspnetdb** необходимо задать правило, связывающее таблица eventmapping с дескриптора SqlProvider.</span><span class="sxs-lookup"><span data-stu-id="fda4a-264">Once you have the **ASPNETDB** database created, you'll need to set a rule to link an eventMapping to the sqlProvider.</span></span>

<span data-ttu-id="fda4a-265">Независимо от того, используется ли дескриптора SqlProvider по умолчанию или настроен собственный поставщик, необходимо добавить правило, связывающее поставщик с картой событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-265">Whether you use the default SqlProvider or configure your own provider, you'll need to add a rule linking the provider with an event map.</span></span> <span data-ttu-id="fda4a-266">Следующее правило связывает нового поставщика, созданного выше, с картой событий **все события** .</span><span class="sxs-lookup"><span data-stu-id="fda4a-266">The following rule links the new provider that you created above to the **All Events** event map.</span></span> <span data-ttu-id="fda4a-267">Это правило регистрирует все события на основе **WebBaseEvent** и отправляет их в мисклвебевентпровидер, который будет использовать строку подключения мяспнетдб.</span><span class="sxs-lookup"><span data-stu-id="fda4a-267">This rule will log all the events based on **WebBaseEvent** and send them to the MySqlWebEventProvider that will use the MYASPNETDB connection string.</span></span> <span data-ttu-id="fda4a-268">Следующий код добавляет правило для связывания поставщика с картой событий:</span><span class="sxs-lookup"><span data-stu-id="fda4a-268">The following code adds a rule to link the provider with an event map:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample7.xml)]

<span data-ttu-id="fda4a-269">Если вы хотите отправить только ошибки в SQL Server, можно добавить следующее правило:</span><span class="sxs-lookup"><span data-stu-id="fda4a-269">If you wanted to only send errors to SQL Server, you could add the following rule:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample8.xml)]

## <a name="how-to-forward-events-to-wmi"></a><span data-ttu-id="fda4a-270">Пересылка событий в WMI</span><span class="sxs-lookup"><span data-stu-id="fda4a-270">How to forward events to WMI</span></span>

<span data-ttu-id="fda4a-271">Можно также перенаправить события в WMI.</span><span class="sxs-lookup"><span data-stu-id="fda4a-271">You can also forward the events to WMI.</span></span> <span data-ttu-id="fda4a-272">Поставщик WMI настраивается для вас в глобальном файле Web. config по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="fda4a-272">The WMI provider is configured for you in the global Web.config file by default.</span></span>

<span data-ttu-id="fda4a-273">В следующем примере кода добавляется правило для пересылки событий в WMI:</span><span class="sxs-lookup"><span data-stu-id="fda4a-273">The following code example adds a rule to forward the events to WMI:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample9.xml)]

<span data-ttu-id="fda4a-274">Необходимо добавить правило для связывания таблица eventmapping с поставщиком, а также приложение прослушивателя WMI для прослушивания событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-274">You will need to add a rule to associate an eventMapping to the provider, and also a WMI listener application to listen for the events.</span></span> <span data-ttu-id="fda4a-275">В следующем примере кода добавляется правило для связывания поставщика WMI со схемой событий **все события** :</span><span class="sxs-lookup"><span data-stu-id="fda4a-275">The following code example adds a rule to link the WMI provider to the **All Events** event map:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample10.xml)]

## <a name="how-to-forward-events-to-email"></a><span data-ttu-id="fda4a-276">Пересылка событий по электронной почте</span><span class="sxs-lookup"><span data-stu-id="fda4a-276">How to forward events to email</span></span>

<span data-ttu-id="fda4a-277">Можно также пересылать события по электронной почте.</span><span class="sxs-lookup"><span data-stu-id="fda4a-277">You can also forward events to email.</span></span> <span data-ttu-id="fda4a-278">Будьте внимательны с тем, какие правила событий сопоставлены с поставщиком электронной почты, так как вы можете случайно отправить себе много информации, которая лучше подходит для SQL Server или журнала событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-278">Be careful about which event rules you map to your email provider, as you can unintentionally send yourself a lot of information that may be better suited for SQL Server or the Event Log.</span></span> <span data-ttu-id="fda4a-279">Существует два поставщика электронной почты. Симплемаилвебевентпровидер и Темплатедмаилвебевентпровидер.</span><span class="sxs-lookup"><span data-stu-id="fda4a-279">There are two email providers; SimpleMailWebEventProvider and TemplatedMailWebEventProvider.</span></span> <span data-ttu-id="fda4a-280">Каждый из них имеет одинаковые атрибуты конфигурации, за исключением атрибутов "Template" и "Детаиледтемплатиррорс", оба из которых доступны только в Темплатедмаилвебевентпровидер.</span><span class="sxs-lookup"><span data-stu-id="fda4a-280">Each has the same configuration attributes, with the exception of the "template" and "detailedTemplateErrors" attributes, both of which are only available on the TemplatedMailWebEventProvider.</span></span>

> [!NOTE]
> <span data-ttu-id="fda4a-281">Ни один из этих поставщиков электронной почты не настроен.</span><span class="sxs-lookup"><span data-stu-id="fda4a-281">Neither of these email providers is configured for you.</span></span> <span data-ttu-id="fda4a-282">Их необходимо добавить в файл Web. config.</span><span class="sxs-lookup"><span data-stu-id="fda4a-282">You'll need to add them to your Web.config file.</span></span>

<span data-ttu-id="fda4a-283">Основное различие между этими двумя поставщиками электронной почты заключается в том, что Симплемаилвебевентпровидер отправляет сообщения электронной почты в универсальном шаблоне, который не может быть изменен.</span><span class="sxs-lookup"><span data-stu-id="fda4a-283">The main difference between these two email providers is that SimpleMailWebEventProvider sends emails in a generic template that cannot be modified.</span></span> <span data-ttu-id="fda4a-284">Пример файла Web. config добавляет этот поставщик электронной почты в список настроенных поставщиков с помощью следующего правила:</span><span class="sxs-lookup"><span data-stu-id="fda4a-284">The sample Web.config file adds this email provider to the list of configured providers by using the following rule:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample11.xml)]

<span data-ttu-id="fda4a-285">Для привязки поставщика электронной почты к сопоставлению событий **все события** также добавляется следующее правило:</span><span class="sxs-lookup"><span data-stu-id="fda4a-285">The following rule is also added to tie the email provider to the **All Events** event map:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample12.xml)]

## <a name="aspnet-20-tracing"></a><span data-ttu-id="fda4a-286">Трассировка ASP.NET 2,0</span><span class="sxs-lookup"><span data-stu-id="fda4a-286">ASP.NET 2.0 Tracing</span></span>

<span data-ttu-id="fda4a-287">Существует три основных улучшения трассировки в ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="fda4a-287">There are three major enhancements to tracing in ASP.NET 2.0.</span></span>

1. <span data-ttu-id="fda4a-288">Встроенные функции трассировки</span><span class="sxs-lookup"><span data-stu-id="fda4a-288">Integrated tracing functionality</span></span>
2. <span data-ttu-id="fda4a-289">Программный доступ к сообщениям трассировки</span><span class="sxs-lookup"><span data-stu-id="fda4a-289">Programmatic access to trace messages</span></span>
3. <span data-ttu-id="fda4a-290">Улучшенная трассировка на уровне приложения</span><span class="sxs-lookup"><span data-stu-id="fda4a-290">Improved application-level tracing</span></span>

## <a name="integrated-tracing-functionality"></a><span data-ttu-id="fda4a-291">Встроенные функции трассировки</span><span class="sxs-lookup"><span data-stu-id="fda4a-291">Integrated Tracing Functionality</span></span>

<span data-ttu-id="fda4a-292">Теперь можно маршрутизировать сообщения, созданные классом System. Diagnostics. Trace, для ASP.NET выходных данных трассировки и направить сообщения, созданные трассировкой ASP.NET, в System. Diagnostics. Trace.</span><span class="sxs-lookup"><span data-stu-id="fda4a-292">You can now route messages emitted by the System.Diagnostics.Trace class to ASP.NET tracing output, and route messages emitted by ASP.NET tracing to System.Diagnostics.Trace.</span></span> <span data-ttu-id="fda4a-293">Вы также можете перенаправить события инструментирования ASP.NET в System. Diagnostics. Trace.</span><span class="sxs-lookup"><span data-stu-id="fda4a-293">You can also forward ASP.NET instrumentation events to System.Diagnostics.Trace.</span></span> <span data-ttu-id="fda4a-294">Эта функция предоставляется новым атрибутом **вритетодиагностикстраце** элемента&gt; трассировки &lt;.</span><span class="sxs-lookup"><span data-stu-id="fda4a-294">This functionality is provided by the new **writeToDiagnosticsTrace** attribute of the &lt;trace&gt; element.</span></span> <span data-ttu-id="fda4a-295">Если это логическое значение равно true, сообщения трассировки ASP.NET перенаправляются в систему. инфраструктура трассировки диагностики для использования любыми прослушивателями, зарегистрированными для вывода сообщений трассировки.</span><span class="sxs-lookup"><span data-stu-id="fda4a-295">When this Boolean value is true, ASP.NET Trace messages are forwarded to the System.Diagnostics tracing infrastructure for use by any listeners that are registered to display Trace messages.</span></span>

## <a name="programmatic-access-to-trace-messages"></a><span data-ttu-id="fda4a-296">Программный доступ к сообщениям трассировки</span><span class="sxs-lookup"><span data-stu-id="fda4a-296">Programmatic Access to Trace Messages</span></span>

<span data-ttu-id="fda4a-297">ASP.NET 2,0 обеспечивает программный доступ ко всем сообщениям трассировки с помощью класса **трацеконтекстрекорд** и коллекции **трацерекордс** .</span><span class="sxs-lookup"><span data-stu-id="fda4a-297">ASP.NET 2.0 allows for programmatic access to all trace messages via the **TraceContextRecord** class and the **TraceRecords** collection.</span></span> <span data-ttu-id="fda4a-298">Наиболее эффективный способ доступа к сообщениям трассировки заключается в регистрации делегата **трацеконтекстевенсандлер** (также нового в ASP.NET 2,0) для управления новым событием **трацефинишед** .</span><span class="sxs-lookup"><span data-stu-id="fda4a-298">The most efficient way of accessing trace messages is to register a **TraceContextEventHandler** delegate (also new in ASP.NET 2.0) to handle the new **TraceFinished** event.</span></span> <span data-ttu-id="fda4a-299">Затем можно прокручивать сообщения трассировки по своему усмотрению.</span><span class="sxs-lookup"><span data-stu-id="fda4a-299">You can then loop through the trace messages as you wish.</span></span>

<span data-ttu-id="fda4a-300">Это показано в следующем образце кода:</span><span class="sxs-lookup"><span data-stu-id="fda4a-300">The following code sample illustrates this:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample13.cs)]

<span data-ttu-id="fda4a-301">В приведенном выше примере я прокручивать коллекцию Трацерекордс, а затем запишу каждое сообщение в поток ответа.</span><span class="sxs-lookup"><span data-stu-id="fda4a-301">In the above example, I loop through the TraceRecords collection and then write each message to the Response stream.</span></span>

## <a name="improved-application-level-tracing"></a><span data-ttu-id="fda4a-302">Улучшенная трассировка на уровне приложения</span><span class="sxs-lookup"><span data-stu-id="fda4a-302">Improved Application-Level Tracing</span></span>

<span data-ttu-id="fda4a-303">Трассировка на уровне приложения улучшена с помощью введения нового атрибута **мострецент** элемента&gt; трассировки &lt;.</span><span class="sxs-lookup"><span data-stu-id="fda4a-303">Application-level tracing is improved via the introduction of the new **mostRecent** attribute of the &lt;trace&gt; element.</span></span> <span data-ttu-id="fda4a-304">Этот атрибут указывает, будут ли отображаться последние выходные данные трассировки на уровне приложения, а более старые данных трассировки, превышающие ограничения, указанные Рекуестлимит, отбрасываются.</span><span class="sxs-lookup"><span data-stu-id="fda4a-304">This attribute specifies whether the most recent application-level tracing output is displayed and older trace data beyond the limits that are indicated by the requestLimit are discarded.</span></span> <span data-ttu-id="fda4a-305">Если значение равно false, данные трассировки отображаются для запросов до тех пор, пока не будет достигнут атрибут Рекуестлимит.</span><span class="sxs-lookup"><span data-stu-id="fda4a-305">If false, trace data are displayed for requests until the requestLimit attribute is reached.</span></span>

## <a name="aspnet-command-line-tools"></a><span data-ttu-id="fda4a-306">Средства командной строки ASP.NET</span><span class="sxs-lookup"><span data-stu-id="fda4a-306">ASP.NET Command Line Tools</span></span>

<span data-ttu-id="fda4a-307">Существует несколько средств командной строки, помогающих в настройке ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="fda4a-307">There are several command-line tools to aid in configuration of ASP.NET.</span></span> <span data-ttu-id="fda4a-308">Разработчики ASP.NET должны быть знакомы с инструментом ASPNET\_regiis. exe.</span><span class="sxs-lookup"><span data-stu-id="fda4a-308">ASP.NET developers should be familiar with the aspnet\_regiis.exe tool.</span></span> <span data-ttu-id="fda4a-309">ASP.NET 2,0 предоставляет три других средства командной строки для помощи в настройке.</span><span class="sxs-lookup"><span data-stu-id="fda4a-309">ASP.NET 2.0 provides three other command-line tools to aid in configuration.</span></span>

<span data-ttu-id="fda4a-310">Доступны следующие программы командной строки:</span><span class="sxs-lookup"><span data-stu-id="fda4a-310">The following command-line tools are available:</span></span>

| <span data-ttu-id="fda4a-311">**Инструмент**</span><span class="sxs-lookup"><span data-stu-id="fda4a-311">**Tool**</span></span> | <span data-ttu-id="fda4a-312">**Использование**</span><span class="sxs-lookup"><span data-stu-id="fda4a-312">**Use**</span></span> |
| --- | --- |
| <span data-ttu-id="fda4a-313">**ASPNET\_regiis. exe**</span><span class="sxs-lookup"><span data-stu-id="fda4a-313">**aspnet\_regiis.exe**</span></span> | <span data-ttu-id="fda4a-314">Позволяет регистрировать ASP.NET с IIS.</span><span class="sxs-lookup"><span data-stu-id="fda4a-314">Allows for registration of ASP.NET with IIS.</span></span> <span data-ttu-id="fda4a-315">Существует две версии этих средств, поставляемые с ASP.NET 2,0, один для 32-разрядных систем (в папке Framework) и один для 64-разрядных систем (в папке Framework64). 64-разрядная версия не будет установлена в 32-разрядной ОС.</span><span class="sxs-lookup"><span data-stu-id="fda4a-315">There are two versions of this tools that ship with ASP.NET 2.0, one for 32-bit systems (in the Framework folder) and one for 64-bit systems (in the Framework64 folder.) The 64-bit version will not be installed on a 32-bit OS.</span></span> |
| <span data-ttu-id="fda4a-316">**ASPNET\_регскл. exe**</span><span class="sxs-lookup"><span data-stu-id="fda4a-316">**aspnet\_regsql.exe**</span></span> | <span data-ttu-id="fda4a-317">Средство ASP.NET SQL Server Registration Tool используется для создания Microsoft SQL Server базы данных для использования поставщиками SQL Server в ASP.NET или для добавления или удаления параметров из существующей базы данных.</span><span class="sxs-lookup"><span data-stu-id="fda4a-317">The ASP.NET SQL Server Registration tool is used to create a Microsoft SQL Server database for use by the SQL Server providers in ASP.NET, or to add or remove options from an existing database.</span></span> <span data-ttu-id="fda4a-318">Файл ASPNET\_регскл. exe находится в папке [диск:] \Виндовс\микрософт.нет\фрамеворк\версионнумбер на веб-сервере.</span><span class="sxs-lookup"><span data-stu-id="fda4a-318">The Aspnet\_regsql.exe file is located in the [drive:]\WINDOWS\Microsoft.NET\Framework\versionNumber folder on your Web server.</span></span> |
| <span data-ttu-id="fda4a-319">**ASPNET\_регбровсерс. exe**</span><span class="sxs-lookup"><span data-stu-id="fda4a-319">**aspnet\_regbrowsers.exe**</span></span> | <span data-ttu-id="fda4a-320">Средство регистрации браузера ASP.NET анализирует и компилирует все системные определения браузера в сборку и устанавливает сборку в глобальный кэш сборок.</span><span class="sxs-lookup"><span data-stu-id="fda4a-320">The ASP.NET Browser Registration tool parses and compiles all system-wide browser definitions into an assembly and installs the assembly into the global assembly cache.</span></span> <span data-ttu-id="fda4a-321">Средство использует файлы определения браузера (. Файлы браузера) из подкаталога .NET Framework Browsers.</span><span class="sxs-lookup"><span data-stu-id="fda4a-321">The tool uses the browser definition files (.BROWSER files) from the .NET Framework Browsers subdirectory.</span></span> <span data-ttu-id="fda4a-322">Это средство можно найти в каталоге%Системрут%\микрософт.нет\фрамеворк\версион\.</span><span class="sxs-lookup"><span data-stu-id="fda4a-322">The tool can be found in the %SystemRoot%\Microsoft.NET\Framework\version\ directory.</span></span> |
| <span data-ttu-id="fda4a-323">**ASPNET\_Compiler. exe**</span><span class="sxs-lookup"><span data-stu-id="fda4a-323">**aspnet\_compiler.exe**</span></span> | <span data-ttu-id="fda4a-324">Средство компиляции ASP.NET позволяет компилировать веб-приложение ASP.NET либо на месте, либо для развертывания в целевом расположении, например на рабочем сервере.</span><span class="sxs-lookup"><span data-stu-id="fda4a-324">The ASP.NET Compilation tool enables you to compile an ASP.NET Web application, either in place or for deployment to a target location such as a production server.</span></span> <span data-ttu-id="fda4a-325">Компиляция на месте обеспечивает производительность приложения, так как конечные пользователи не сталкиваются с задержкой при первом запросе приложения во время компиляции приложения.</span><span class="sxs-lookup"><span data-stu-id="fda4a-325">In-place compilation helps application performance because end users do not encounter a delay on the first request to the application while the application is compiled.</span></span> |

<span data-ttu-id="fda4a-326">Поскольку средство ASPNET\_regiis. exe не является новым в ASP.NET 2,0, мы не будем его обсуждать.</span><span class="sxs-lookup"><span data-stu-id="fda4a-326">Because the aspnet\_regiis.exe tool is not new to ASP.NET 2.0, we will not discuss it here.</span></span>

## <a name="aspnet-sql-server-registration-tool---aspnet_regsqlexe"></a><span data-ttu-id="fda4a-327">Средство регистрации SQL Server ASP.NET — ASPNET\_регскл. exe</span><span class="sxs-lookup"><span data-stu-id="fda4a-327">ASP.NET SQL Server Registration Tool - aspnet\_regsql.exe</span></span>

<span data-ttu-id="fda4a-328">Можно задать несколько типов параметров с помощью средства регистрации ASP.NET SQL Server.</span><span class="sxs-lookup"><span data-stu-id="fda4a-328">You can set several types of options using the ASP.NET SQL Server Registration tool.</span></span> <span data-ttu-id="fda4a-329">Можно указать подключение SQL, указать, какие службы приложений ASP.NET используют SQL Server для управления данными, указать, какая база данных или какая таблица используется для зависимости кэша SQL, а также добавить или удалить поддержку использования SQL Server для хранения процедур и состояния сеанса.</span><span class="sxs-lookup"><span data-stu-id="fda4a-329">You can specify a SQL connection, specify which ASP.NET application services use SQL Server to manage information, indicate which database or table is used for SQL cache dependency, and add or remove support for using SQL Server to store procedures and session state.</span></span>

<span data-ttu-id="fda4a-330">Некоторые службы приложений ASP.NET используют поставщик для управления хранением и извлечением данных из источника данных.</span><span class="sxs-lookup"><span data-stu-id="fda4a-330">Several ASP.NET application services rely on a provider to manage storing and retrieving data from a data source.</span></span> <span data-ttu-id="fda4a-331">Каждый поставщик зависит от источника данных.</span><span class="sxs-lookup"><span data-stu-id="fda4a-331">Each provider is specific to the data source.</span></span> <span data-ttu-id="fda4a-332">ASP.NET включает поставщик SQL Server для следующих функций ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="fda4a-332">ASP.NET includes a SQL Server provider for the following ASP.NET features:</span></span>

- <span data-ttu-id="fda4a-333">Членство (класс [SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="fda4a-333">Membership (the [SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) class).</span></span>
- <span data-ttu-id="fda4a-334">Управление ролями (класс [склролепровидер](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="fda4a-334">Role Management (the [SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) class).</span></span>
- <span data-ttu-id="fda4a-335">Profile (класс [склпрофилепровидер](https://msdn.microsoft.com/library/system.web.profile.sqlprofileprovider.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="fda4a-335">Profile (the [SqlProfileProvider](https://msdn.microsoft.com/library/system.web.profile.sqlprofileprovider.aspx) class).</span></span>
- <span data-ttu-id="fda4a-336">Персонализация веб-части (класс [склперсонализатионпровидер](https://msdn.microsoft.com/library/system.web.ui.webcontrols.webparts.sqlpersonalizationprovider.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="fda4a-336">Web Parts Personalization (the [SqlPersonalizationProvider](https://msdn.microsoft.com/library/system.web.ui.webcontrols.webparts.sqlpersonalizationprovider.aspx) class).</span></span>
- <span data-ttu-id="fda4a-337">Веб-события (класс [SqlWebEventProvider](https://msdn.microsoft.com/library/system.web.management.sqlwebeventprovider.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="fda4a-337">Web Events (the [SqlWebEventProvider](https://msdn.microsoft.com/library/system.web.management.sqlwebeventprovider.aspx) class).</span></span>

<span data-ttu-id="fda4a-338">При установке ASP.NET файл Machine. config для сервера включает элементы конфигурации, указывающие поставщики SQL Server для каждой из функций ASP.NET, зависящих от поставщика.</span><span class="sxs-lookup"><span data-stu-id="fda4a-338">When you install ASP.NET, the Machine.config file for your server includes configuration elements that specify SQL Server providers for each of the ASP.NET features that rely on a provider.</span></span> <span data-ttu-id="fda4a-339">По умолчанию эти поставщики настроены для подключения к локальному пользовательскому экземпляру SQL Server Express 2005.</span><span class="sxs-lookup"><span data-stu-id="fda4a-339">These providers are configured, by default, to connect to a local user instance of SQL Server Express 2005.</span></span> <span data-ttu-id="fda4a-340">При изменении строки подключения, используемой поставщиками по умолчанию, перед использованием функций ASP.NET, настроенных в конфигурации компьютера, необходимо установить базу данных SQL Server и элементы базы данных для выбранного компонента с помощью ASPNET\_регскл. exe.</span><span class="sxs-lookup"><span data-stu-id="fda4a-340">If you change the default connection string used by the providers, then before you can use any of the ASP.NET features configured in the machine configuration, you must install the SQL Server database and the database elements for your chosen feature using Aspnet\_regsql.exe.</span></span> <span data-ttu-id="fda4a-341">Если база данных, указанная с помощью средства регистрации SQL, еще не существует (значение aspnetdb будет базой данных по умолчанию, если оно не указано в командной строке), то текущий пользователь должен иметь права на создание баз данных в SQL Server, а также на создание схемы e лементс в базе данных.</span><span class="sxs-lookup"><span data-stu-id="fda4a-341">If the database that you specify with the SQL registration tool does not already exist (aspnetdb will be the default database if one is not specified on the command line), then the current user must have rights to create databases in SQL Server as well as to create schema elements within a database.</span></span>

### <a name="sql-cache-dependency"></a><span data-ttu-id="fda4a-342">Зависимость кэша SQL</span><span class="sxs-lookup"><span data-stu-id="fda4a-342">SQL Cache Dependency</span></span>

<span data-ttu-id="fda4a-343">Расширенная возможность кэширования выходных данных ASP.NET — зависимость кэша SQL.</span><span class="sxs-lookup"><span data-stu-id="fda4a-343">An advanced feature of ASP.NET output caching is SQL cache dependency.</span></span> <span data-ttu-id="fda4a-344">Зависимость кэша SQL поддерживает два разных режима работы: одна использует ASP.NET реализацию опроса таблиц и второй режим, использующий функции уведомления о запросах SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="fda4a-344">SQL cache dependency supports two different modes of operation: one that uses an ASP.NET implementation of table polling and a second mode that uses the query notification features of SQL Server 2005.</span></span> <span data-ttu-id="fda4a-345">Средство регистрации SQL можно использовать для настройки режима опроса таблиц.</span><span class="sxs-lookup"><span data-stu-id="fda4a-345">The SQL registration tool can be used to configure the table-polling mode of operation.</span></span>

### <a name="session-state"></a><span data-ttu-id="fda4a-346">Состояние сеанса</span><span class="sxs-lookup"><span data-stu-id="fda4a-346">Session State</span></span>

<span data-ttu-id="fda4a-347">По умолчанию значения и сведения о состоянии сеанса хранятся в памяти в процессе ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="fda4a-347">By default, session state values and information are stored in memory within the ASP.NET process.</span></span> <span data-ttu-id="fda4a-348">Кроме того, данные сеанса можно хранить в базе данных SQL Server, где они могут совместно использоваться несколькими веб-серверами.</span><span class="sxs-lookup"><span data-stu-id="fda4a-348">Alternatively, you can store session data in a SQL Server database, where it can be shared by multiple Web servers.</span></span> <span data-ttu-id="fda4a-349">Если база данных, указанная для состояния сеанса с помощью средства регистрации SQL, еще не существует, то текущий пользователь должен иметь права на создание баз данных в SQL Server, а также на создание элементов схемы в базе данных.</span><span class="sxs-lookup"><span data-stu-id="fda4a-349">If the database that you specify for session state with the SQL registration tool does not already exist, then the current user must have rights to create databases in SQL Server as well as to create schema elements within a database.</span></span> <span data-ttu-id="fda4a-350">Если база данных существует, то текущий пользователь должен иметь права на создание элементов схемы в существующей базе данных.</span><span class="sxs-lookup"><span data-stu-id="fda4a-350">If the database does exist, then the current user must have rights to create schema elements in the existing database.</span></span>

<span data-ttu-id="fda4a-351">Чтобы установить базу данных состояния сеанса на SQL Server, запустите средство ASPNET\_регскл. exe и укажите следующие сведения с помощью команды:</span><span class="sxs-lookup"><span data-stu-id="fda4a-351">To install the session state database on SQL Server, run the Aspnet\_regsql.exe tool and supply the following information with the command:</span></span>

- <span data-ttu-id="fda4a-352">Имя экземпляра SQL Server с помощью параметра **-S** .</span><span class="sxs-lookup"><span data-stu-id="fda4a-352">The name of the SQL Server instance, using the **-S** option.</span></span>
- <span data-ttu-id="fda4a-353">Учетные данные для входа в учетную запись, имеющую разрешение на создание базы данных на компьютере с SQL Server.</span><span class="sxs-lookup"><span data-stu-id="fda4a-353">The logon credentials for an account that has permission to create a database on a computer running SQL Server.</span></span> <span data-ttu-id="fda4a-354">Используйте параметр **-E** , чтобы использовать пользователя, выполнившего вход в систему, или используйте параметр **-U** , чтобы указать идентификатор пользователя вместе с параметром **-P** , чтобы указать пароль.</span><span class="sxs-lookup"><span data-stu-id="fda4a-354">Use the **-E** option to use the currently logged-on user, or use the **-U** option to specify a user ID along with the **-P** option to specify a password.</span></span>
- <span data-ttu-id="fda4a-355">Параметр командной строки **-ссадд** для добавления базы данных состояния сеанса.</span><span class="sxs-lookup"><span data-stu-id="fda4a-355">The **-ssadd** command-line option to add the session state database.</span></span>

<span data-ttu-id="fda4a-356">По умолчанию нельзя использовать средство ASPNET\_регскл. exe для установки базы данных состояния сеанса на компьютере, на котором выполняется SQL Server 2005, экспресс-выпуск.</span><span class="sxs-lookup"><span data-stu-id="fda4a-356">By default, you cannot use the Aspnet\_regsql.exe tool to install the session state database on a computer running SQL Server 2005 Express Edition.</span></span>

### <a name="the-aspnet-browser-registration-tool---aspnet_regbrowsersexe"></a><span data-ttu-id="fda4a-357">Средство регистрации браузера ASP.NET — ASPNET\_регбровсерс. exe</span><span class="sxs-lookup"><span data-stu-id="fda4a-357">The ASP.NET Browser Registration Tool - aspnet\_regbrowsers.exe</span></span>

<span data-ttu-id="fda4a-358">В ASP.NET версии 1,1 файл Machine. config содержал раздел с именем &lt;browserCaps&gt;.</span><span class="sxs-lookup"><span data-stu-id="fda4a-358">In ASP.NET version 1.1, the Machine.config file contained a section called &lt;browserCaps&gt;.</span></span> <span data-ttu-id="fda4a-359">В этом разделе содержится ряд XML-записей, в которых определены конфигурации для различных браузеров на основе регулярного выражения.</span><span class="sxs-lookup"><span data-stu-id="fda4a-359">This section contained a series of XML entries that defined the configurations for various browsers based on a regular expression.</span></span> <span data-ttu-id="fda4a-360">Для ASP.NET версии 2,0 — новый. Файл браузера определяет параметры конкретного браузера с помощью записей XML.</span><span class="sxs-lookup"><span data-stu-id="fda4a-360">For ASP.NET version 2.0, a new .BROWSER file defines the parameters of a particular browser using XML entries.</span></span> <span data-ttu-id="fda4a-361">Чтобы добавить сведения в новый браузер, добавьте новый объект. Файл браузера в папку, расположенную по адресу%Системрут%\микрософт.нет\фрамеворк\версион\конфиг\бровсерс в системе.</span><span class="sxs-lookup"><span data-stu-id="fda4a-361">You add information on a new browser by adding a new .BROWSER file to the folder located at %SystemRoot%\Microsoft.NET\Framework\version\CONFIG\Browsers on your system.</span></span>

<span data-ttu-id="fda4a-362">Так как приложение не считывает файл конфигурации каждый раз, когда ему требуются сведения об обозревателе, можно создать новый. Файл браузера и запустите ASPNET\_регбровсерс. exe, чтобы добавить необходимые изменения в сборку.</span><span class="sxs-lookup"><span data-stu-id="fda4a-362">Because an application is not reading a .config file every time it requires browser information, you can create a new .BROWSER file and run Aspnet\_regbrowsers.exe to add the required changes to the assembly.</span></span> <span data-ttu-id="fda4a-363">Это позволяет серверу немедленно получить доступ к новым данным браузера, чтобы не закрывать все приложения для получения информации.</span><span class="sxs-lookup"><span data-stu-id="fda4a-363">This allows the server to access the new browser information immediately so you do not have to shut down any of your applications to pick up the information.</span></span> <span data-ttu-id="fda4a-364">Приложение может обращаться к возможностям браузера через свойство Browser текущего HttpRequest.</span><span class="sxs-lookup"><span data-stu-id="fda4a-364">An application can access browser capabilities through the Browser property of the current HttpRequest.</span></span>

<span data-ttu-id="fda4a-365">При запуске ASPNET\_регбровсер. exe доступны следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="fda4a-365">The following options are available when running aspnet\_regbrowser.exe:</span></span>

| <span data-ttu-id="fda4a-366">**Параметр**</span><span class="sxs-lookup"><span data-stu-id="fda4a-366">**Option**</span></span> | <span data-ttu-id="fda4a-367">**Описание**</span><span class="sxs-lookup"><span data-stu-id="fda4a-367">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="fda4a-368">**-?**</span><span class="sxs-lookup"><span data-stu-id="fda4a-368">**-?**</span></span> | <span data-ttu-id="fda4a-369">Отображает текст справки ASPNET\_регббровсерс. exe в окне команд.</span><span class="sxs-lookup"><span data-stu-id="fda4a-369">Displays the Aspnet\_regbbrowsers.exe Help text in the command window.</span></span> |
| <span data-ttu-id="fda4a-370">**-i**</span><span class="sxs-lookup"><span data-stu-id="fda4a-370">**-i**</span></span> | <span data-ttu-id="fda4a-371">Создает сборку возможностей обозревателя времени выполнения и устанавливает ее в глобальный кэш сборок.</span><span class="sxs-lookup"><span data-stu-id="fda4a-371">Creates the runtime browser capabilities assembly and installs it in the global assembly cache.</span></span> |
| <span data-ttu-id="fda4a-372">**-u**</span><span class="sxs-lookup"><span data-stu-id="fda4a-372">**-u**</span></span> | <span data-ttu-id="fda4a-373">Удаляет сборку возможностей обозревателя времени выполнения из глобального кэша сборок.</span><span class="sxs-lookup"><span data-stu-id="fda4a-373">Uninstalls the runtime browser capabilities assembly from the global assembly cache.</span></span> |

## <a name="the-aspnet-compilation-tool---aspnet_compilerexe"></a><span data-ttu-id="fda4a-374">Средство компиляции ASP.NET — ASPNET\_Compiler. exe</span><span class="sxs-lookup"><span data-stu-id="fda4a-374">The ASP.NET Compilation Tool - aspnet\_compiler.exe</span></span>

<span data-ttu-id="fda4a-375">Средство компиляции ASP.NET можно использовать двумя общими способами: для компиляции на месте и компиляции для развертывания, где указан целевой выходной каталог.</span><span class="sxs-lookup"><span data-stu-id="fda4a-375">The ASP.NET Compilation tool can be used in two general ways: for in-place compilation and compilation for deployment, where a target output directory is specified.</span></span>

### <a name="compiling-an-application-in-place"></a>[<span data-ttu-id="fda4a-376">Компиляция приложения на месте</span><span class="sxs-lookup"><span data-stu-id="fda4a-376">Compiling an Application in Place</span></span>](https://msdn.microsoft.com/library/ms229863.aspx)

<span data-ttu-id="fda4a-377">Средство компиляции ASP.NET может компилировать приложение на месте, то есть имитирует поведение при выполнении нескольких запросов к приложению, что вызывает регулярную компиляцию.</span><span class="sxs-lookup"><span data-stu-id="fda4a-377">The ASP.NET Compilation tool can compile an application in place, that is, it mimics the behavior of making multiple requests to the application, thus causing regular compilation.</span></span> <span data-ttu-id="fda4a-378">Пользователи предварительно скомпилированного сайта не будут испытывать задержки, вызванные компиляцией страницы при первом запросе.</span><span class="sxs-lookup"><span data-stu-id="fda4a-378">Users of a pre-compiled site will not experience a delay caused by compiling the page on first request.</span></span>

<span data-ttu-id="fda4a-379">При предварительной компиляции сайта на месте применяются следующие элементы.</span><span class="sxs-lookup"><span data-stu-id="fda4a-379">When you precompile a site in place, the following items apply:</span></span>

- <span data-ttu-id="fda4a-380">На сайте сохранены файлы и структура каталогов.</span><span class="sxs-lookup"><span data-stu-id="fda4a-380">The site retains its files and directory structure.</span></span>
- <span data-ttu-id="fda4a-381">Для всех языков программирования, используемых сайтом на сервере, необходимы компиляторы.</span><span class="sxs-lookup"><span data-stu-id="fda4a-381">You must have compilers for all programming languages used by the site on the server.</span></span>
- <span data-ttu-id="fda4a-382">Если какой-либо из файлов не проходит компиляцию, весь сайт завершается с ошибкой компиляции.</span><span class="sxs-lookup"><span data-stu-id="fda4a-382">If any file fails compilation, the entire site fails compilation.</span></span>

<span data-ttu-id="fda4a-383">Можно также перекомпилировать приложение на месте после добавления в него новых исходных файлов.</span><span class="sxs-lookup"><span data-stu-id="fda4a-383">You can also recompile an application in place after adding new source files to it.</span></span> <span data-ttu-id="fda4a-384">Средство компилирует только новые или измененные файлы, если не включен параметр **-c** .</span><span class="sxs-lookup"><span data-stu-id="fda4a-384">The tool compiles only the new or changed files unless you include the **-c** option.</span></span>

> [!NOTE]
> <span data-ttu-id="fda4a-385">Компиляция приложения, содержащего вложенное приложение, не приводит к компиляции вложенного приложения.</span><span class="sxs-lookup"><span data-stu-id="fda4a-385">Compilation of an application that contains a nested application does not compile the nested application.</span></span> <span data-ttu-id="fda4a-386">Вложенное приложение должно быть скомпилировано отдельно.</span><span class="sxs-lookup"><span data-stu-id="fda4a-386">The nested application must be compiled separately.</span></span>

### <a name="compiling-an-application-for-deployment"></a>[<span data-ttu-id="fda4a-387">Компиляция приложения для развертывания</span><span class="sxs-lookup"><span data-stu-id="fda4a-387">Compiling an Application for Deployment</span></span>](https://msdn.microsoft.com/library/ms229863.aspx)

<span data-ttu-id="fda4a-388">Компиляция приложения для развертывания (компиляции в целевое расположение) осуществляется путем указания параметра targetDir.</span><span class="sxs-lookup"><span data-stu-id="fda4a-388">You compile an application for deployment (compilation to a target location) by specifying the targetDir parameter.</span></span> <span data-ttu-id="fda4a-389">TargetDir может быть конечным расположением для веб-приложения, иначе скомпилированное приложение можно будет развернуть.</span><span class="sxs-lookup"><span data-stu-id="fda4a-389">The targetDir can be the final location for the Web application, or the compiled application can be further deployed.</span></span> <span data-ttu-id="fda4a-390">При использовании параметра **-u** приложение компилируется таким образом, что можно вносить изменения в определенные файлы в скомпилированном приложении без его перекомпиляции.</span><span class="sxs-lookup"><span data-stu-id="fda4a-390">Using the **-u** option compiles the application in such a way that you can make changes to certain files in the compiled application without recompiling it.</span></span> <span data-ttu-id="fda4a-391">ASPNET\_компилятор. exe делает различие между статическими и динамическими типами файлов и обрабатывает их по-разному при создании итогового приложения.</span><span class="sxs-lookup"><span data-stu-id="fda4a-391">Aspnet\_compiler.exe makes a distinction between static and dynamic file types, and handles them differently when creating the resulting application.</span></span>

- <span data-ttu-id="fda4a-392">Статические типы файлов — это те, которые не имеют связанного компилятора или поставщика сборки, например файлы с именами, имеющие расширения, такие как. CSS,. gif,. htm,. HTML,. jpg,. js и т. д.</span><span class="sxs-lookup"><span data-stu-id="fda4a-392">Static file types are those that do not have an associated compiler or build provider, such as files whose named have extensions such as .css, .gif, .htm, .html, .jpg, .js and so on.</span></span> <span data-ttu-id="fda4a-393">Эти файлы просто копируются в целевое расположение с сохранением их относительного расположения в структуре каталогов.</span><span class="sxs-lookup"><span data-stu-id="fda4a-393">These files are simply copied to the target location, with their relative places in the directory structure preserved.</span></span>
- <span data-ttu-id="fda4a-394">Динамические типы файлов — это те, которые имеют связанный компилятор или поставщик сборки, включая файлы с расширениями имен файлов ASP.NET, такие как asax, ASCX, ASHX, ASPX, Browser, Master и т. д.</span><span class="sxs-lookup"><span data-stu-id="fda4a-394">Dynamic file types are those that have an associated compiler or build provider, including files with ASP.NET-specific file name extensions such as .asax, .ascx, .ashx, .aspx, .browser, .master, and so on.</span></span> <span data-ttu-id="fda4a-395">Средство компиляции ASP.NET создает сборки из этих файлов.</span><span class="sxs-lookup"><span data-stu-id="fda4a-395">The ASP.NET Compilation tool generates assemblies from these files.</span></span> <span data-ttu-id="fda4a-396">Если параметр **-u** не указан, средство также создает файлы с расширением имени файла. Компиляция, которая сопоставляет исходные файлы с исходными файлами с их сборкой.</span><span class="sxs-lookup"><span data-stu-id="fda4a-396">If the **-u** option is omitted, the tool also creates files with the file name extension .COMPILED that map the original source files to their assembly.</span></span> <span data-ttu-id="fda4a-397">Чтобы обеспечить сохранение структуры каталогов источника приложения, средство создает файлы заполнителей в соответствующих расположениях в целевом приложении.</span><span class="sxs-lookup"><span data-stu-id="fda4a-397">To ensure that the directory structure of the application source is preserved, the tool generates placeholder files in the corresponding locations in the target application.</span></span>

<span data-ttu-id="fda4a-398">Необходимо использовать параметр **-u** , чтобы указать, что содержимое скомпилированного приложения можно изменить.</span><span class="sxs-lookup"><span data-stu-id="fda4a-398">You must use the **-u** option to indicate that the content of the compiled application can be modified.</span></span> <span data-ttu-id="fda4a-399">В противном случае последующие изменения игнорируются или вызывают ошибки времени выполнения.</span><span class="sxs-lookup"><span data-stu-id="fda4a-399">Otherwise, subsequent modifications are ignored or cause run-time errors.</span></span>

<span data-ttu-id="fda4a-400">В следующей таблице описано, как средство компиляции ASP.NET обрабатывает различные типы файлов при включении параметра **-u** .</span><span class="sxs-lookup"><span data-stu-id="fda4a-400">The following table describes how the ASP.NET Compilation tool handles different file types when the **-u** option is included.</span></span>

| <span data-ttu-id="fda4a-401">**Тип файла**</span><span class="sxs-lookup"><span data-stu-id="fda4a-401">**File type**</span></span> | <span data-ttu-id="fda4a-402">**Действие компилятора**</span><span class="sxs-lookup"><span data-stu-id="fda4a-402">**Compiler action**</span></span> |
| --- | --- |
| <span data-ttu-id="fda4a-403">.ascx, .aspx, .master</span><span class="sxs-lookup"><span data-stu-id="fda4a-403">.ascx, .aspx, .master</span></span> | <span data-ttu-id="fda4a-404">Эти файлы разбиваются на разметку и исходный код, который включает как файлы кода программной части, так и любой код, заключенный в &lt;Script runat = "Server"&gt; элементов.</span><span class="sxs-lookup"><span data-stu-id="fda4a-404">These files are split into markup and source code, which includes both code-behind files and any code that is enclosed in &lt;script runat="server"&gt; elements.</span></span> <span data-ttu-id="fda4a-405">Исходный код компилируется в сборки, имена которых являются производными от алгоритма хэширования, а сборки помещаются в каталог bin.</span><span class="sxs-lookup"><span data-stu-id="fda4a-405">Source code is compiled into assemblies, with names that are derived from a hashing algorithm, and the assemblies are placed in the Bin directory.</span></span> <span data-ttu-id="fda4a-406">Любой встроенный код, т. е. код, заключенный между **%ом&lt;** и **%&gt;** квадратных скобках, включен в разметку и не компилируется.</span><span class="sxs-lookup"><span data-stu-id="fda4a-406">Any inline code, that is, code enclosed between the **&lt;%** and **%&gt;** brackets, is included with markup and not compiled.</span></span> <span data-ttu-id="fda4a-407">Создаются новые файлы с тем же именем, что и у исходных файлов, которые будут содержать разметку и помещены в соответствующие выходные каталоги.</span><span class="sxs-lookup"><span data-stu-id="fda4a-407">New files with the same name as the source files are created to contain the markup and placed in the corresponding output directories.</span></span> |
| <span data-ttu-id="fda4a-408">. ashx,. asmx</span><span class="sxs-lookup"><span data-stu-id="fda4a-408">.ashx, .asmx</span></span> | <span data-ttu-id="fda4a-409">Эти файлы не компилируются и перемещаются в выходные каталоги, как есть и не компилируются.</span><span class="sxs-lookup"><span data-stu-id="fda4a-409">These files are not compiled and are moved to the output directories as is and not compiled.</span></span> <span data-ttu-id="fda4a-410">Если вы хотите скомпилировать код обработчика, поместите код в файлы исходного кода в каталоге приложения\_Code.</span><span class="sxs-lookup"><span data-stu-id="fda4a-410">If you wish to have the handler code compiled, place the code into source code files in the App\_Code directory.</span></span> |
| <span data-ttu-id="fda4a-411">. cs,. vb,. ЖСЛ,. cpp (не включает файлы кода программной части для перечисленных выше типов файлов)</span><span class="sxs-lookup"><span data-stu-id="fda4a-411">.cs, .vb, .jsl, .cpp (not including code-behind files for the file types listed earlier)</span></span> | <span data-ttu-id="fda4a-412">Эти файлы компилируются и включаются в виде ресурса в сборки, ссылающиеся на них.</span><span class="sxs-lookup"><span data-stu-id="fda4a-412">These files are compiled and included as a resource in assemblies that reference them.</span></span> <span data-ttu-id="fda4a-413">Исходные файлы не копируются в выходной каталог.</span><span class="sxs-lookup"><span data-stu-id="fda4a-413">Source files are not copied to the output directory.</span></span> <span data-ttu-id="fda4a-414">Если на файл кода нет ссылки, он не компилируется.</span><span class="sxs-lookup"><span data-stu-id="fda4a-414">If a code file is not referenced, it is not compiled.</span></span> |
| <span data-ttu-id="fda4a-415">Пользовательские типы файлов</span><span class="sxs-lookup"><span data-stu-id="fda4a-415">Custom file types</span></span> | <span data-ttu-id="fda4a-416">Эти файлы не компилируются.</span><span class="sxs-lookup"><span data-stu-id="fda4a-416">These files are not compiled.</span></span> <span data-ttu-id="fda4a-417">Эти файлы копируются в соответствующие выходные каталоги.</span><span class="sxs-lookup"><span data-stu-id="fda4a-417">These files are copied to the corresponding output directories.</span></span> |
| <span data-ttu-id="fda4a-418">Файлы исходного кода в приложении\_подкаталоге кода</span><span class="sxs-lookup"><span data-stu-id="fda4a-418">Source code files in the App\_Code subdirectory</span></span> | <span data-ttu-id="fda4a-419">Эти файлы компилируются в сборки и помещаются в каталог bin.</span><span class="sxs-lookup"><span data-stu-id="fda4a-419">These files are compiled into assemblies and placed in the Bin directory.</span></span> |
| <span data-ttu-id="fda4a-420">файлы. resx и. Resource в приложении\_подкаталоге Глобалресаурцес</span><span class="sxs-lookup"><span data-stu-id="fda4a-420">.resx and .resource files in the App\_GlobalResources subdirectory</span></span> | <span data-ttu-id="fda4a-421">Эти файлы компилируются в сборки и помещаются в каталог bin.</span><span class="sxs-lookup"><span data-stu-id="fda4a-421">These files are compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="fda4a-422">Подкаталог App\_Глобалресаурцес не создается в основном выходном каталоге, а файлы. resx и. Resources, расположенные в исходном каталоге, не копируются в выходные каталоги.</span><span class="sxs-lookup"><span data-stu-id="fda4a-422">No App\_GlobalResources subdirectory is created under the main output directory, and no .resx or .resources files located in the source directory are copied to the output directories.</span></span> |
| <span data-ttu-id="fda4a-423">файлы. resx и. Resource в приложении\_подкаталоге LocalResources</span><span class="sxs-lookup"><span data-stu-id="fda4a-423">.resx and .resource files in the App\_LocalResources subdirectory</span></span> | <span data-ttu-id="fda4a-424">Эти файлы не компилируются и копируются в соответствующие выходные каталоги.</span><span class="sxs-lookup"><span data-stu-id="fda4a-424">These files are not compiled and are copied to the corresponding output directories.</span></span> |
| <span data-ttu-id="fda4a-425">файлы Skin в подкаталоге приложения\_Themes</span><span class="sxs-lookup"><span data-stu-id="fda4a-425">.skin files in the App\_Themes subdirectory</span></span> | <span data-ttu-id="fda4a-426">Файлы. Skin и статические файлы темы не компилируются и копируются в соответствующие выходные каталоги.</span><span class="sxs-lookup"><span data-stu-id="fda4a-426">The .skin files and static theme files are not compiled and are copied to the corresponding output directories.</span></span> |
| <span data-ttu-id="fda4a-427">. browser — типы статических файлов сборки, уже имеющиеся в каталоге bin</span><span class="sxs-lookup"><span data-stu-id="fda4a-427">.browser Web.config Static file types Assemblies already present in the Bin directory</span></span> | <span data-ttu-id="fda4a-428">Эти файлы копируются как есть в выходные каталоги.</span><span class="sxs-lookup"><span data-stu-id="fda4a-428">These files are copied as is to the output directories.</span></span> |

<span data-ttu-id="fda4a-429">В следующей таблице описано, как средство компиляции ASP.NET обрабатывает различные типы файлов, если параметр **-u** не указан.</span><span class="sxs-lookup"><span data-stu-id="fda4a-429">The following table describes how the ASP.NET Compilation tool handles different file types when the **-u** option is omitted.</span></span>

| <span data-ttu-id="fda4a-430">**Тип файла**</span><span class="sxs-lookup"><span data-stu-id="fda4a-430">**File type**</span></span> | <span data-ttu-id="fda4a-431">**Действие компилятора**</span><span class="sxs-lookup"><span data-stu-id="fda4a-431">**Compiler action**</span></span> |
| --- | --- |
| <span data-ttu-id="fda4a-432">.aspx, .asmx, .ashx, .master</span><span class="sxs-lookup"><span data-stu-id="fda4a-432">.aspx, .asmx, .ashx, .master</span></span> | <span data-ttu-id="fda4a-433">Эти файлы разбиваются на разметку и исходный код, который включает как файлы кода программной части, так и любой код, заключенный в &lt;Script runat = "Server"&gt; элементов.</span><span class="sxs-lookup"><span data-stu-id="fda4a-433">These files are split into markup and source code, which includes both code-behind files and any code that is enclosed in &lt;script runat="server"&gt; elements.</span></span> <span data-ttu-id="fda4a-434">Исходный код компилируется в сборки, имена которых являются производными от алгоритма хэширования.</span><span class="sxs-lookup"><span data-stu-id="fda4a-434">Source code is compiled into assemblies, with names that are derived from a hashing algorithm.</span></span> <span data-ttu-id="fda4a-435">Итоговые сборки помещаются в каталог bin.</span><span class="sxs-lookup"><span data-stu-id="fda4a-435">The resulting assemblies are placed in the Bin directory.</span></span> <span data-ttu-id="fda4a-436">Любой встроенный код, т. е. код, заключенный между **%ом&lt;** и **%&gt;** квадратных скобках, включен в разметку и не компилируется.</span><span class="sxs-lookup"><span data-stu-id="fda4a-436">Any inline code, that is, code enclosed between the **&lt;%** and **%&gt;** brackets, is included with markup and not compiled.</span></span> <span data-ttu-id="fda4a-437">Компилятор создает новые файлы для размещения разметки с тем же именем, что и у исходных файлов.</span><span class="sxs-lookup"><span data-stu-id="fda4a-437">The compiler creates new files to contain the markup with the same name as the source files.</span></span> <span data-ttu-id="fda4a-438">Полученные файлы помещаются в каталог bin.</span><span class="sxs-lookup"><span data-stu-id="fda4a-438">These resulting files are placed in the Bin directory.</span></span> <span data-ttu-id="fda4a-439">Компилятор также создает файлы с тем же именем, что и исходные файлы, но с расширением. Компиляция, содержащая сведения о сопоставлении.</span><span class="sxs-lookup"><span data-stu-id="fda4a-439">The compiler also creates files with the same name as the source files but with the extension .COMPILED that contain mapping information.</span></span> <span data-ttu-id="fda4a-440">Тот. СКОМПИЛИРОВАНные файлы помещаются в выходные каталоги, соответствующие исходному расположению исходных файлов.</span><span class="sxs-lookup"><span data-stu-id="fda4a-440">The .COMPILED files are placed in the output directories corresponding to the original location of the source files.</span></span> |
| <span data-ttu-id="fda4a-441">.ascx</span><span class="sxs-lookup"><span data-stu-id="fda4a-441">.ascx</span></span> | <span data-ttu-id="fda4a-442">Эти файлы разбиваются на разметку и исходный код.</span><span class="sxs-lookup"><span data-stu-id="fda4a-442">These files are split into markup and source code.</span></span> <span data-ttu-id="fda4a-443">Исходный код компилируется в сборки и помещается в каталог bin с именами, которые являются производными от алгоритма хэширования.</span><span class="sxs-lookup"><span data-stu-id="fda4a-443">Source code is compiled into assemblies and placed in the Bin directory, with names that are derived from a hashing algorithm.</span></span> <span data-ttu-id="fda4a-444">Файлы разметки не создаются.</span><span class="sxs-lookup"><span data-stu-id="fda4a-444">No markup files are generated.</span></span> |
| <span data-ttu-id="fda4a-445">. cs,. vb,. ЖСЛ,. cpp (не включает файлы кода программной части для перечисленных выше типов файлов)</span><span class="sxs-lookup"><span data-stu-id="fda4a-445">.cs, .vb, .jsl, .cpp (not including code-behind files for the file types listed earlier)</span></span> | <span data-ttu-id="fda4a-446">Исходный код, на который ссылаются сборки, созданные из файлов. ascx,. ashx или. aspx, компилируется в сборки и помещается в каталог bin.</span><span class="sxs-lookup"><span data-stu-id="fda4a-446">Source code that is referenced by the assemblies generated from .ascx, .ashx, or .aspx files is compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="fda4a-447">Исходные файлы не копируются.</span><span class="sxs-lookup"><span data-stu-id="fda4a-447">No source files are copied.</span></span> |
| <span data-ttu-id="fda4a-448">Пользовательские типы файлов</span><span class="sxs-lookup"><span data-stu-id="fda4a-448">Custom file types</span></span> | <span data-ttu-id="fda4a-449">Эти файлы компилируются как динамические файлы.</span><span class="sxs-lookup"><span data-stu-id="fda4a-449">These files are compiled like dynamic files.</span></span> <span data-ttu-id="fda4a-450">В зависимости от типа файла, на котором они основаны, компилятор может разместить файлы сопоставления в выходных каталогах.</span><span class="sxs-lookup"><span data-stu-id="fda4a-450">Depending on the type of file they are based on, the compiler can place mapping files in the output directories.</span></span> |
| <span data-ttu-id="fda4a-451">Файлы в приложении\_подкаталоге кода</span><span class="sxs-lookup"><span data-stu-id="fda4a-451">Files in the App\_Code subdirectory</span></span> | <span data-ttu-id="fda4a-452">Файлы исходного кода в этом подкаталоге компилируются в сборки и помещаются в каталог bin.</span><span class="sxs-lookup"><span data-stu-id="fda4a-452">Source code files in this subdirectory are compiled into assemblies and placed in the Bin directory.</span></span> |
| <span data-ttu-id="fda4a-453">Файлы в подкаталоге Глобалресаурцес приложения\_</span><span class="sxs-lookup"><span data-stu-id="fda4a-453">Files in the App\_GlobalResources subdirectory</span></span> | <span data-ttu-id="fda4a-454">Эти файлы компилируются в сборки и помещаются в каталог bin.</span><span class="sxs-lookup"><span data-stu-id="fda4a-454">These files are compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="fda4a-455">В основном каталоге выходных данных не создается вложенный каталог Глобалресаурцес приложений\_.</span><span class="sxs-lookup"><span data-stu-id="fda4a-455">No App\_GlobalResources subdirectory is created under the main output directory.</span></span> <span data-ttu-id="fda4a-456">Если файл конфигурации указывает appliesTo = "ALL", файлы. resx и. Resources копируются в выходные каталоги.</span><span class="sxs-lookup"><span data-stu-id="fda4a-456">If the configuration file specifies appliesTo="All", .resx and .resources files are copied to the output directories.</span></span> <span data-ttu-id="fda4a-457">Они не копируются, если на них ссылается [буилдпровидер](https://msdn.microsoft.com/library/system.web.configuration.buildprovider.aspx).</span><span class="sxs-lookup"><span data-stu-id="fda4a-457">They are not copied if they are referenced by a [BuildProvider](https://msdn.microsoft.com/library/system.web.configuration.buildprovider.aspx).</span></span> |
| <span data-ttu-id="fda4a-458">файлы. resx и. Resource в приложении\_подкаталоге LocalResources</span><span class="sxs-lookup"><span data-stu-id="fda4a-458">.resx and .resource files in the App\_LocalResources subdirectory</span></span> | <span data-ttu-id="fda4a-459">Эти файлы компилируются в сборки с уникальными именами и помещаются в каталог bin.</span><span class="sxs-lookup"><span data-stu-id="fda4a-459">These files are compiled into assemblies with unique names and placed in the Bin directory.</span></span> <span data-ttu-id="fda4a-460">В выходные каталоги не копируются файлы RESX или resource.</span><span class="sxs-lookup"><span data-stu-id="fda4a-460">No .resx or .resource files are copied to the output directories.</span></span> |
| <span data-ttu-id="fda4a-461">файлы Skin в подкаталоге приложения\_Themes</span><span class="sxs-lookup"><span data-stu-id="fda4a-461">.skin files in the App\_Themes subdirectory</span></span> | <span data-ttu-id="fda4a-462">Темы компилируются в сборки и помещаются в каталог bin.</span><span class="sxs-lookup"><span data-stu-id="fda4a-462">Themes are compiled into assemblies and placed in the Bin directory.</span></span> <span data-ttu-id="fda4a-463">Файлы заглушек создаются для файлов. Skin и помещаются в соответствующий выходной каталог.</span><span class="sxs-lookup"><span data-stu-id="fda4a-463">Stub files are created for .skin files and placed in the corresponding output directory.</span></span> <span data-ttu-id="fda4a-464">Статические файлы (например,. CSS) копируются в выходные каталоги.</span><span class="sxs-lookup"><span data-stu-id="fda4a-464">Static files (such as .css) are copied to the output directories.</span></span> |
| <span data-ttu-id="fda4a-465">. browser — типы статических файлов сборки, уже имеющиеся в каталоге bin</span><span class="sxs-lookup"><span data-stu-id="fda4a-465">.browser Web.config Static file types Assemblies already present in the Bin directory</span></span> | <span data-ttu-id="fda4a-466">Эти файлы копируются как есть в выходной каталог.</span><span class="sxs-lookup"><span data-stu-id="fda4a-466">These files are copied as is to the output directory.</span></span> |

### <a name="fixed-assembly-names"></a>[<span data-ttu-id="fda4a-467">Фиксированные имена сборок</span><span class="sxs-lookup"><span data-stu-id="fda4a-467">Fixed Assembly Names</span></span>](https://msdn.microsoft.com/library/ms229863.aspx##)

<span data-ttu-id="fda4a-468">В некоторых сценариях, например при развертывании веб-приложения с помощью MSI установщик Windows, требуется использовать совместимые имена файлов и содержимое, а также единообразные структуры каталогов для обнаружения сборок или параметров конфигурации для обновлений.</span><span class="sxs-lookup"><span data-stu-id="fda4a-468">Some scenarios, such as deploying a Web application using the MSI Windows Installer, require the use of consistent file names and contents, as well as consistent directory structures to identify assemblies or configuration settings for updates.</span></span> <span data-ttu-id="fda4a-469">В таких случаях можно использовать параметр **-fixednames** , чтобы указать, что средство компиляции ASP.NET должно компилировать сборку для каждого исходного файла, а не использовать, где несколько страниц компилируются в сборки.</span><span class="sxs-lookup"><span data-stu-id="fda4a-469">In those cases, you can use the **-fixednames** option to specify that the ASP.NET Compilation tool should compile an assembly for each source file instead of using the where multiple pages are compiled into assemblies.</span></span> <span data-ttu-id="fda4a-470">Это может привести к большому числу сборок, поэтому, если вы беспокоитесь о масштабируемости, следует использовать этот параметр с осторожностью.</span><span class="sxs-lookup"><span data-stu-id="fda4a-470">This can lead to a large number of assemblies, so if you are concerned with scalability you should use this option with caution.</span></span>

### <a name="strong-name-compilation"></a>[<span data-ttu-id="fda4a-471">Компиляция со строгим именем</span><span class="sxs-lookup"><span data-stu-id="fda4a-471">Strong-Name Compilation</span></span>](https://msdn.microsoft.com/library/ms229863.aspx##)

<span data-ttu-id="fda4a-472">Предоставляются параметры **-APTCA**, **-delaysign**, **-keycontainer** и **-keyfile** , позволяющие использовать ASPNET\_компилятора. exe для создания сборок со строгими именами без использования [средства строгих имен (Sn. exe)](https://msdn.microsoft.com/library/k5b5tt23.aspx) отдельно.</span><span class="sxs-lookup"><span data-stu-id="fda4a-472">The **-aptca**, **-delaysign**, **-keycontainer** and **-keyfile** options are provided so that you can use Aspnet\_compiler.exe to create strongly named assemblies without using the [Strong Name Tool (Sn.exe)](https://msdn.microsoft.com/library/k5b5tt23.aspx) separately.</span></span> <span data-ttu-id="fda4a-473">Эти параметры соответствуют, соответственно, с **AllowPartiallyTrustedCallersAttribute**, **AssemblyDelaySignAttribute**, **AssemblyKeyNameAttribute**и **AssemblyKeyFileAttribute**.</span><span class="sxs-lookup"><span data-stu-id="fda4a-473">These options correspond, respectively, to **AllowPartiallyTrustedCallersAttribute**, **AssemblyDelaySignAttribute**, **AssemblyKeyNameAttribute**, and **AssemblyKeyFileAttribute**.</span></span>

<span data-ttu-id="fda4a-474">Обсуждение этих атрибутов находится вне области этого курса.</span><span class="sxs-lookup"><span data-stu-id="fda4a-474">Discussion of these attributes is outside of the scope of this course.</span></span>

## <a name="labs"></a><span data-ttu-id="fda4a-475">Тестовые службы</span><span class="sxs-lookup"><span data-stu-id="fda4a-475">Labs</span></span>

<span data-ttu-id="fda4a-476">Каждая из следующих лабораторных занятий основана на предыдущих лабораториях.</span><span class="sxs-lookup"><span data-stu-id="fda4a-476">Each of the following labs builds on the previous labs.</span></span> <span data-ttu-id="fda4a-477">Их нужно будет сделать по порядку.</span><span class="sxs-lookup"><span data-stu-id="fda4a-477">You will need to do them in order.</span></span>

## <a name="lab-1-using-the-configuration-api"></a><span data-ttu-id="fda4a-478">Лаборатория 1. Использование API конфигурации</span><span class="sxs-lookup"><span data-stu-id="fda4a-478">Lab 1: Using the Configuration API</span></span>

1. <span data-ttu-id="fda4a-479">Создайте новый веб-сайт с именем *mod9lab*.</span><span class="sxs-lookup"><span data-stu-id="fda4a-479">Create a new Web site called *mod9lab*.</span></span>
2. <span data-ttu-id="fda4a-480">Добавьте новый файл веб-конфигурации на сайт.</span><span class="sxs-lookup"><span data-stu-id="fda4a-480">Add a new Web Configuration File to the site.</span></span>
3. <span data-ttu-id="fda4a-481">Добавьте следующий фрагмент в файл Web. config:</span><span class="sxs-lookup"><span data-stu-id="fda4a-481">Add the following to the web.config file:</span></span>

[!code-xml[Main](configuration-and-instrumentation/samples/sample14.xml)]

<span data-ttu-id="fda4a-482">Это обеспечит наличие разрешений на сохранение изменений в файле Web. config.</span><span class="sxs-lookup"><span data-stu-id="fda4a-482">This will ensure that you have permission to save changes to the web.config file.</span></span>

1. <span data-ttu-id="fda4a-483">Добавьте новый элемент управления Label в Default. aspx и измените идентификатор на **лблдебугстатус**.</span><span class="sxs-lookup"><span data-stu-id="fda4a-483">Add a new Label control to Default.aspx and change the ID to **lblDebugStatus**.</span></span>
2. <span data-ttu-id="fda4a-484">Добавьте новый элемент управления "Кнопка" в Default. aspx.</span><span class="sxs-lookup"><span data-stu-id="fda4a-484">Add a new Button control to Default.aspx.</span></span>
3. <span data-ttu-id="fda4a-485">Измените идентификатор элемента управления кнопки на **бтнтоггледебуг** и текст для **переключения состояния отладки**.</span><span class="sxs-lookup"><span data-stu-id="fda4a-485">Change the Button control's ID to **btnToggleDebug** and the Text to **Toggle Debug Status**.</span></span>
4. <span data-ttu-id="fda4a-486">Откройте представление кода для файла кода программной части Default. aspx и добавьте инструкцию **using** для **System. Web. Configuration** следующим образом:</span><span class="sxs-lookup"><span data-stu-id="fda4a-486">Open the Code View for the code-behind file of Default.aspx and add a **using** statement for **System.Web.Configuration** as follows:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample15.cs)]

1. <span data-ttu-id="fda4a-487">Добавьте две частные переменные в класс и метод Page\_init, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="fda4a-487">Add two private variables to the class and a Page\_Init method as shown below:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample16.cs)]

1. <span data-ttu-id="fda4a-488">Добавьте следующий код для страницы загрузки\_:</span><span class="sxs-lookup"><span data-stu-id="fda4a-488">Add the following code to Page\_Load:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample17.cs)]

1. <span data-ttu-id="fda4a-489">Сохраните и просмотрите Default. aspx.</span><span class="sxs-lookup"><span data-stu-id="fda4a-489">Save and browse default.aspx.</span></span> <span data-ttu-id="fda4a-490">Обратите внимание, что элемент управления Метка отображает текущее состояние отладки.</span><span class="sxs-lookup"><span data-stu-id="fda4a-490">Notice that the Label control displays the current debug status.</span></span>
2. <span data-ttu-id="fda4a-491">Дважды щелкните элемент управления Button в конструкторе и добавьте следующий код в событие Click для элемента управления Button:</span><span class="sxs-lookup"><span data-stu-id="fda4a-491">Double-click on the Button control in the designer and add the following code to the Click event for the Button control:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample18.cs)]

1. <span data-ttu-id="fda4a-492">Сохраните и просмотрите Default. aspx и нажмите кнопку.</span><span class="sxs-lookup"><span data-stu-id="fda4a-492">Save and browse default.aspx and click the button.</span></span>
2. <span data-ttu-id="fda4a-493">Откройте файл Web. config после каждого нажатия кнопки и просмотрите атрибут **Debug** в разделе &lt;компиляции&gt;.</span><span class="sxs-lookup"><span data-stu-id="fda4a-493">Open the web.config file after each button click and observe the **debug** attribute in the &lt;compilation&gt; section.</span></span>

## <a name="lab-2-logging-application-restarts"></a><span data-ttu-id="fda4a-494">Лаборатория 2. Регистрация перезапусков приложения</span><span class="sxs-lookup"><span data-stu-id="fda4a-494">Lab 2: Logging Application Restarts</span></span>

<span data-ttu-id="fda4a-495">В этом лабораторном занятии будет создан код, позволяющий переключать ведение журнала завершения работы приложений, запусков и перекомпиляций в Просмотр событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-495">In this lab, you will create code that will allow you to toggle the logging of application shutdowns, startups, and recompilations in the Event Viewer.</span></span>

1. <span data-ttu-id="fda4a-496">Добавьте DropDownList к Default. aspx и измените идентификатор на Ддллогаппевентс.</span><span class="sxs-lookup"><span data-stu-id="fda4a-496">Add a DropDownList to default.aspx and change the ID to ddlLogAppEvents.</span></span>
2. <span data-ttu-id="fda4a-497">Установите свойство **AutoPostBack** для DropDownList в **значение true**.</span><span class="sxs-lookup"><span data-stu-id="fda4a-497">Set the **AutoPostBack** property for the DropDownList to **true**.</span></span>
3. <span data-ttu-id="fda4a-498">Добавьте три элемента в коллекцию Items для DropDownList.</span><span class="sxs-lookup"><span data-stu-id="fda4a-498">Add three items to the Items collection for the DropDownList.</span></span> <span data-ttu-id="fda4a-499">Сделайте **текст** для первого элемента, *выберите значение* и значение-1.</span><span class="sxs-lookup"><span data-stu-id="fda4a-499">Make the **Text** for the first item *Select Value* and the value -1.</span></span> <span data-ttu-id="fda4a-500">Сделайте **текст** и **значение** второго элемента равным **true** , а также **текст** и **значение** третьего элемента **false**.</span><span class="sxs-lookup"><span data-stu-id="fda4a-500">Make the **Text** and **Value** of the second item **True** and the **Text** and **Value** of the third item **False**.</span></span>
4. <span data-ttu-id="fda4a-501">Добавьте новую метку к Default. aspx.</span><span class="sxs-lookup"><span data-stu-id="fda4a-501">Add a new Label to default.aspx.</span></span> <span data-ttu-id="fda4a-502">Измените идентификатор на **лбллогаппевентс**.</span><span class="sxs-lookup"><span data-stu-id="fda4a-502">Change the ID to **lblLogAppEvents**.</span></span>
5. <span data-ttu-id="fda4a-503">Откройте представление кода программной части для Default. aspx и добавьте новое объявление для переменной типа Хеалсмониторингсектион, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="fda4a-503">Open the code-behind view for default.aspx and add a new declaration for a variable of type HealthMonitoringSection as shown below:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample19.cs)]

1. <span data-ttu-id="fda4a-504">Добавьте следующий код в существующий код на странице\_init:</span><span class="sxs-lookup"><span data-stu-id="fda4a-504">Add the following code to the existing code in Page\_Init:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample20.cs)]

1. <span data-ttu-id="fda4a-505">Дважды щелкните DropDownList и добавьте следующий код в событие:</span><span class="sxs-lookup"><span data-stu-id="fda4a-505">Double-click on the DropDownList and add the following code to the SelectedIndexChanged event:</span></span>

[!code-csharp[Main](configuration-and-instrumentation/samples/sample21.cs)]

1. <span data-ttu-id="fda4a-506">Обзор Default. aspx.</span><span class="sxs-lookup"><span data-stu-id="fda4a-506">Browse default.aspx.</span></span>
2. <span data-ttu-id="fda4a-507">Задайте для раскрывающегося списка **значение false**.</span><span class="sxs-lookup"><span data-stu-id="fda4a-507">Set the dropdown to **False**.</span></span>
3. <span data-ttu-id="fda4a-508">Очистите журнал приложений в Просмотр событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-508">Clear the Application log in the Event Viewer.</span></span>
4. <span data-ttu-id="fda4a-509">Нажмите кнопку, чтобы изменить атрибут отладки для приложения.</span><span class="sxs-lookup"><span data-stu-id="fda4a-509">Click the button to change the Debug attribute for the application.</span></span>
5. <span data-ttu-id="fda4a-510">Обновите журнал приложений на Просмотр событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-510">Refresh the Application log in the Event Viewer.</span></span> 

    1. <span data-ttu-id="fda4a-511">Были ли зарегистрированы события?</span><span class="sxs-lookup"><span data-stu-id="fda4a-511">Were any events logged?</span></span>
    2. <span data-ttu-id="fda4a-512">Почему или почему?</span><span class="sxs-lookup"><span data-stu-id="fda4a-512">Why or why not?</span></span>
6. <span data-ttu-id="fda4a-513">Задайте для раскрывающегося списка **значение true.**</span><span class="sxs-lookup"><span data-stu-id="fda4a-513">Set the dropdown to **True.**</span></span>
7. <span data-ttu-id="fda4a-514">Нажмите кнопку, чтобы переключить атрибут Debug для приложения.</span><span class="sxs-lookup"><span data-stu-id="fda4a-514">Click the button to toggle the Debug attribute for the application.</span></span>
8. <span data-ttu-id="fda4a-515">Обновите имя входа приложения Просмотр событий.</span><span class="sxs-lookup"><span data-stu-id="fda4a-515">Refresh the Application login the Event Viewer.</span></span> 

    1. <span data-ttu-id="fda4a-516">Были ли зарегистрированы события?</span><span class="sxs-lookup"><span data-stu-id="fda4a-516">Were any events logged?</span></span>
    2. <span data-ttu-id="fda4a-517">Какова причина завершения работы приложения?</span><span class="sxs-lookup"><span data-stu-id="fda4a-517">What was the reason for the app shutdown?</span></span>
9. <span data-ttu-id="fda4a-518">Поэкспериментируйте с включением и отключением ведения журнала и просмотрите изменения, внесенные в файл Web. config.</span><span class="sxs-lookup"><span data-stu-id="fda4a-518">Experiment with turning on and off logging and look at the changes made to the web.config file.</span></span>

## <a name="more-information"></a><span data-ttu-id="fda4a-519">Дополнительные сведения:</span><span class="sxs-lookup"><span data-stu-id="fda4a-519">More Information:</span></span>

<span data-ttu-id="fda4a-520">Модель поставщика ASP.NET 2.0 позволяет создавать собственные поставщики для не только инструментария приложений, но и для многих других целей, таких как членство, профили и т. д. Подробные сведения о написании настраиваемого поставщика для записи событий приложения в текстовый файл см. по [этой ссылке](https://msdn.microsoft.com/library/default.asp?url=/library/dnaspp/html/ASPNETProvMod_Prt6.asp).</span><span class="sxs-lookup"><span data-stu-id="fda4a-520">ASP.NET 2.0's Provider model allows you to create your own providers for not only application instrumentation, but for many other uses as well such as Membership, Profiles, etc. For detailed information on writing a custom provider to log application events to a text file, visit [this link](https://msdn.microsoft.com/library/default.asp?url=/library/dnaspp/html/ASPNETProvMod_Prt6.asp).</span></span>
