---
uid: web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-configuring-project-properties-4-of-12
title: 'Развертывание веб-приложения ASP.NET с SQL Server Compact с помощью Visual Studio или Visual Web Developer: Настройка свойств проекта — 4 из 12 | Документация Майкрософт'
author: tdykstra
description: В этой серии учебников показано, как развернуть (опубликовать) проект веб-приложения ASP.NET, включающий базу данных SQL Server Compact, с помощью Visual Stu...
ms.author: riande
ms.date: 11/17/2011
ms.assetid: 8b013630-842c-4d44-a6fc-c6be43e7210f
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-configuring-project-properties-4-of-12
msc.type: authoredcontent
ms.openlocfilehash: 6e63e75dca3d776fb9a1bd7e420ef48891daac69
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2019
ms.locfileid: "74569812"
---
# <a name="deploying-an-aspnet-web-application-with-sql-server-compact-using-visual-studio-or-visual-web-developer-configuring-project-properties---4-of-12"></a>Развертывание веб-приложения ASP.NET с SQL Server Compact с помощью Visual Studio или Visual Web Developer: Настройка свойств проекта — 4 из 12

от [Tom Dykstra)](https://github.com/tdykstra)

[Скачать начальный проект](https://code.msdn.microsoft.com/Deploying-an-ASPNET-Web-4e31366b)

> В этой серии учебников показано, как развернуть (опубликовать) проект веб-приложения ASP.NET, включающий базу данных SQL Server Compact, с помощью Visual Studio 2012 RC или Visual Studio Express 2012 RC для Web. При установке обновления веб-публикации можно также использовать Visual Studio 2010. Введение в серию см. [в первом учебнике серии](deployment-to-a-hosting-provider-introduction-1-of-12.md).
> 
> Руководство, в котором показаны функции развертывания, появившиеся после выпуска версии-КАНДИДАТа Visual Studio 2012, демонстрирует развертывание SQL Server выпусков, отличных от SQL Server Compact, и демонстрация развертывания в веб-приложениях службы приложений Azure см. в разделе [ASP.NET Web Deploying using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).

## <a name="overview"></a>Обзор

Некоторые параметры развертывания настраиваются в свойствах проекта, которые хранятся в файле проекта (файл *. csproj* или *. vbproj* ). В большинстве случаев значения этих параметров по умолчанию нужны, но можно использовать пользовательский интерфейс **свойств проекта** , встроенный в Visual Studio, для работы с этими параметрами, если необходимо их изменить. В этом учебнике вы просматриваете параметры развертывания в **свойствах проекта**. Также создается файл-заполнитель, который вызывает развертывание пустой папки.

## <a name="configuring-deployment-settings-in-the-project-properties-window"></a>Настройка параметров развертывания в окне "Свойства проекта"

Большинство параметров, влияющих на то, что происходит во время развертывания, включаются в профиль публикации, как показано в следующих учебниках. Некоторые параметры, о которых следует помнить, находятся на вкладках **Пакет/Публикация** окна **Свойства проекта** . Эти параметры задаются для каждой конфигурации сборки, то есть могут иметь разные параметры для сборки выпуска, чем для отладочной сборки.

В **Обозреватель решений**щелкните правой кнопкой мыши проект **ContosoUniversity** , выберите пункт **Свойства**, а затем перейдите на вкладку **Пакет/Публикация веб-сайта** .

![Package_Publish_Web_tab](deployment-to-a-hosting-provider-configuring-project-properties-4-of-12/_static/image1.png)

Когда окно отображается, оно по умолчанию отображает параметры конфигурации сборки, которая в настоящее время активна для решения. Если в поле **Конфигурация** не указано значение **активно (выпуск)** , выберите **выпуск** , чтобы отобразить параметры конфигурации сборки выпуска. Сборки выпуска развертываются как в тестовой, так и в рабочей среде.

![Package_Publish_Web_tab_selecting_Release](deployment-to-a-hosting-provider-configuring-project-properties-4-of-12/_static/image2.png)

Выбрав **Активный (выпуск)** или **выпуск** , вы увидите значения, действующие при развертывании с использованием конфигурации сборки выпуска.

- В поле **элементы для развертывания** выбраны **только файлы, необходимые для запуска приложения** . Другие параметры — **все файлы в этом проекте** или **все файлы в этой папке проекта**. При отсутствии неизменного выбора по умолчанию не следует развертывать файлы исходного кода, например. Этот параметр является причиной, по которой папки, содержащие двоичные файлы SQL Server Compact, должны быть включены в проект. Дополнительные сведения об этом параметре см. в разделе **почему не все файлы в папке проекта развертываются?** в разделе [часто задаваемые вопросы о развертывании проекта веб-приложения ASP.NET](https://msdn.microsoft.com/library/ee942158.aspx).
- Выбрано **исключение созданных отладочных символов** . При использовании этой конфигурации сборки отладка не будет выполняться.
- **Исключение файлов из папки "приложение\_данных"** не выбрано. Файл SQL Server Compact для базы данных членства находится в этой папке, и его необходимо развернуть. При развертывании обновлений, которые не включают изменения базы данных, следует установить этот флажок.
- **Предварительная компиляция этого приложения перед публикацией** не выбрана. В большинстве случаев нет необходимости выполнять предварительную компиляцию проектов веб-приложений. Дополнительные сведения об этом параметре см. в разделе [Упаковка/Публикация веб-вкладки, свойства проекта](https://msdn.microsoft.com/library/dd410108(v=vs.110).aspx) и [диалоговое окно "Дополнительные параметры предварительной компиляции](https://msdn.microsoft.com/library/hh475319(v=vs.110).aspx)".
- Выбран параметр **включить все базы данных, настроенные на вкладке "Пакет/Публикация SQL"** , но эта возможность не действует, так как не настроена вкладка " **Пакет/Публикация SQL** ". Эта вкладка предназначена для устаревшего метода развертывания базы данных, который использовался только в качестве единственного варианта развертывания баз данных SQL Server. Используйте вкладку **Пакет/Публикация SQL** в учебнике [миграция в SQL Server](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12.md) .
- Раздел **параметров пакета веб-развертывания** не применяется, так как вы используете публикацию одним щелчком в этих руководствах.

Измените раскрывающийся список **Конфигурация** на отладку, чтобы увидеть параметры по умолчанию для отладочных сборок. Значения одинаковы, за исключением случаев, когда **исключены созданные отладочные символы** , которые можно отлаживать при развертывании отладочной сборки.

## <a name="making-sure-that-the-elmah-folder-gets-deployed"></a>Проверка того, что папка ELMAH развернута

Как было показано в предыдущем учебном курсе, [пакет NuGet для ELMAH](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx) предоставляет функциональные возможности для ведения журнала ошибок и создания отчетов. В приложении университета Contoso для университетов настроено хранение сведений об ошибках в папке с именем *ELMAH*:

![Папка ELMAH](deployment-to-a-hosting-provider-configuring-project-properties-4-of-12/_static/image3.png)

Исключением некоторых файлов или папок из развертывания является обычное требование. Другим примером может быть папка, в которую пользователи могут отправлять файлы. Вы не хотите, чтобы файлы журнала или загруженные файлы, созданные в среде разработки, были развернуты в рабочей версии. Если вы развертываете обновление в рабочей среде, вы не хотите, чтобы процесс развертывания удалил файлы, которые существуют в рабочей среде. (В зависимости от настройки параметра развертывания, если файл существует на целевом сайте, но не на исходном сайте при развертывании, веб-развертывание удаляет его из назначения.)

Как было показано ранее в этом учебнике, для параметра **элементы для развертывания** на вкладке **Пакет/Публикация веб-сайта** задаются **только файлы, необходимые для запуска приложения**. В результате файлы журнала, созданные ELMAH в разработке, не будут развернуты, что нужно сделать. (Для развертывания они должны быть добавлены в проект, а свойство **действия построения** должно быть установлено в **содержимое**. Дополнительные сведения см. в разделе **почему не все файлы в папке проекта развертываются?** в разделе [часто задаваемые вопросы о развертывании проекта веб-приложения ASP.NET](https://msdn.microsoft.com/library/ee942158.aspx). Однако веб-развертывание не создаст папку на целевом сайте, если не существует хотя бы один файл для копирования. Таким образом, вы добавите в папку *txt* -файл, который будет использоваться в качестве заполнителя для копирования папки.

В **Обозреватель решений**щелкните правой кнопкой мыши папку *ELMAH* , выберите **Добавить новый элемент**и создайте файл с именем *PlaceHolder. txt*. Вставьте в него следующий текст: "это файл-заполнитель, который обеспечивает развертывание папки". и сохраните файл. Это все, что нужно сделать, чтобы убедиться, что Visual Studio развертывает этот файл и папку, в которой он находится, так как свойство **действия сборки** *txt* -файлов по умолчанию имеет значение **Content** .

Теперь все задачи по настройке развертывания завершены. В следующем руководстве вы развернете сайт университета Contoso в тестовой среде и протестируете его.

> [!div class="step-by-step"]
> [Назад](deployment-to-a-hosting-provider-web-config-file-transformations-3-of-12.md)
> [Вперед](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md)
