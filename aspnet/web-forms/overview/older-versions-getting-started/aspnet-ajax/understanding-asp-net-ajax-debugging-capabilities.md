---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-debugging-capabilities
title: Основные сведения о возможностях отладки ASP.NET AJAX | Документация Майкрософт
author: scottcate
description: Возможность отладки кода — это навык, который каждый разработчик должен иметь в своих арсеналу, независимо от технологии, которую они используют. Хотя многие разработчики...
ms.author: riande
ms.date: 03/28/2008
ms.assetid: 7f9380c6-19f7-4c82-a019-916ec6dffc9c
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-debugging-capabilities
msc.type: authoredcontent
ms.openlocfilehash: 08ced380f3551407d757524dbc84b5feeeb5482b
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78510864"
---
# <a name="understanding-aspnet-ajax-debugging-capabilities"></a><span data-ttu-id="69ed5-104">Общие сведения о возможностях отладки ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="69ed5-104">Understanding ASP.NET AJAX Debugging Capabilities</span></span>

<span data-ttu-id="69ed5-105">по [Скотт Cate](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="69ed5-105">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="69ed5-106">Скачать в формате PDF</span><span class="sxs-lookup"><span data-stu-id="69ed5-106">Download PDF</span></span>](https://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial06_Debugging_MS_Ajax_Applications_cs.pdf)

> <span data-ttu-id="69ed5-107">Возможность отладки кода — это навык, который каждый разработчик должен иметь в своих арсеналу, независимо от технологии, которую они используют.</span><span class="sxs-lookup"><span data-stu-id="69ed5-107">The ability to debug code is a skill that every developer should have in their arsenal regardless of the technology they're using.</span></span> <span data-ttu-id="69ed5-108">Хотя многие разработчики привыкли использовать Visual Studio .NET или Web Developer Express для отладки ASP.NET приложений, использующих VB.NET C# или код, некоторые не знают, что они также чрезвычайно полезны для отладки кода на стороне клиента, например JavaScript.</span><span class="sxs-lookup"><span data-stu-id="69ed5-108">While many developers are accustomed to using Visual Studio .NET or Web Developer Express to debug ASP.NET applications that use VB.NET or C# code, some aren't aware that it's also extremely useful for debugging client-side code such as JavaScript.</span></span> <span data-ttu-id="69ed5-109">Те же типы методов, которые используются для отладки приложений .NET, также можно применять к приложениям с поддержкой AJAX и более ASP.NET приложениям AJAX.</span><span class="sxs-lookup"><span data-stu-id="69ed5-109">The same type of techniques used to debug .NET applications can also be applied to AJAX-enabled applications and more specifically ASP.NET AJAX applications.</span></span>

## <a name="debugging-aspnet-ajax-applications"></a><span data-ttu-id="69ed5-110">Отладка приложений ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="69ed5-110">Debugging ASP.NET AJAX Applications</span></span>

<span data-ttu-id="69ed5-111">Вахлин "+ +"</span><span class="sxs-lookup"><span data-stu-id="69ed5-111">Dan Wahlin</span></span>

<span data-ttu-id="69ed5-112">Возможность отладки кода — это навык, который каждый разработчик должен иметь в своих арсеналу, независимо от технологии, которую они используют.</span><span class="sxs-lookup"><span data-stu-id="69ed5-112">The ability to debug code is a skill that every developer should have in their arsenal regardless of the technology they're using.</span></span> <span data-ttu-id="69ed5-113">Это не говорит о том, что понимание различных доступных возможностей отладки может сэкономить много времени на проекте и, возможно, даже несколько проблем.</span><span class="sxs-lookup"><span data-stu-id="69ed5-113">It goes without saying that understanding the different debugging options that are available can save a tremendous amount of time on a project and perhaps even a few headaches.</span></span> <span data-ttu-id="69ed5-114">Хотя многие разработчики привыкли использовать Visual Studio .NET или Web Developer Express для отладки ASP.NET приложений, использующих VB.NET C# или код, некоторые не знают, что они также чрезвычайно полезны для отладки кода на стороне клиента, например JavaScript.</span><span class="sxs-lookup"><span data-stu-id="69ed5-114">While many developers are accustomed to using Visual Studio .NET or Web Developer Express to debug ASP.NET applications that use VB.NET or C# code, some aren't aware that it's also extremely useful for debugging client-side code such as JavaScript.</span></span> <span data-ttu-id="69ed5-115">Те же типы методов, которые используются для отладки приложений .NET, также можно применять к приложениям с поддержкой AJAX и более ASP.NET приложениям AJAX.</span><span class="sxs-lookup"><span data-stu-id="69ed5-115">The same type of techniques used to debug .NET applications can also be applied to AJAX-enabled applications and more specifically ASP.NET AJAX applications.</span></span>

<span data-ttu-id="69ed5-116">В этой статье вы узнаете, как Visual Studio 2008 и несколько других средств можно использовать для отладки приложений ASP.NET AJAX для быстрого выявления ошибок и других проблем.</span><span class="sxs-lookup"><span data-stu-id="69ed5-116">In this article you'll see how Visual Studio 2008 and several other tools can be used to debug ASP.NET AJAX applications to quickly locate bugs and other issues.</span></span> <span data-ttu-id="69ed5-117">В этом обсуждении будут содержаться сведения о включении Internet Explorer 6 или более поздней версии для отладки, использовании Visual Studio 2008 и обозревателя скриптов для пошагового выполнения кода, а также других бесплатных средств, таких как вспомогательная программа веб-разработки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-117">This discussion will include information about enabling Internet Explorer 6 or higher for debugging, using Visual Studio 2008 and the Script Explorer to step through code as well as using other free tools such as Web Development Helper.</span></span> <span data-ttu-id="69ed5-118">Вы также узнаете, как выполнять отладку приложений ASP.NET AJAX в браузере Firefox с помощью расширения Firebug, которое позволяет пошагово выполнять код JavaScript непосредственно в браузере без каких-либо других средств.</span><span class="sxs-lookup"><span data-stu-id="69ed5-118">You'll also learn how to debug ASP.NET AJAX applications in Firefox using an extension named Firebug which lets you step through JavaScript code directly in the browser without any other tools.</span></span> <span data-ttu-id="69ed5-119">Наконец, вы будете присутствовать в классах в библиотеке AJAX ASP.NET, которая может помочь в различных задачах отладки, таких как трассировка и операторы утверждения кода.</span><span class="sxs-lookup"><span data-stu-id="69ed5-119">Finally, you'll be introduced to classes in the ASP.NET AJAX Library that can help with various debugging tasks such as tracing and code assertion statements.</span></span>

<span data-ttu-id="69ed5-120">Прежде чем пытаться отлаживать страницы, просматриваемые в Internet Explorer, необходимо выполнить несколько основных действий, чтобы включить его для отладки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-120">Before you try to debug pages viewed in Internet Explorer there are a few basic steps you'll need to perform to enable it for debugging.</span></span> <span data-ttu-id="69ed5-121">Давайте рассмотрим некоторые базовые требования к настройке, которые необходимо выполнить, чтобы приступить к работе.</span><span class="sxs-lookup"><span data-stu-id="69ed5-121">Let's take a look at some basic setup requirements that need to be performed to get started.</span></span>

## <a name="configuring-internet-explorer-for-debugging"></a><span data-ttu-id="69ed5-122">Настройка Internet Explorer для отладки</span><span class="sxs-lookup"><span data-stu-id="69ed5-122">Configuring Internet Explorer for Debugging</span></span>

<span data-ttu-id="69ed5-123">Большинству пользователей не требуется просматривать проблемы JavaScript, обнаруженные на веб-сайте, который отображается в Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="69ed5-123">Most people aren't interested in seeing JavaScript issues encountered on a Website viewed with Internet Explorer.</span></span> <span data-ttu-id="69ed5-124">На самом деле, средний пользователь даже не знает, что делать, если они видели сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="69ed5-124">In fact, the average user wouldn't even know what to do if they saw an error message.</span></span> <span data-ttu-id="69ed5-125">В результате параметры отладки по умолчанию отключены в браузере.</span><span class="sxs-lookup"><span data-stu-id="69ed5-125">As a result, debugging options are turned off by default in the browser.</span></span> <span data-ttu-id="69ed5-126">Однако очень просто включить отладку и разместить ее для использования при разработке новых приложений AJAX.</span><span class="sxs-lookup"><span data-stu-id="69ed5-126">However, it's very straightforward to turn debugging on and put it to use as you develop new AJAX applications.</span></span>

<span data-ttu-id="69ed5-127">Чтобы включить функцию отладки, в меню Internet Explorer выберите Сервис Свойства обозревателя и перейдите на вкладку Дополнительно. В разделе "Обзор" снимите флажки для следующих элементов:</span><span class="sxs-lookup"><span data-stu-id="69ed5-127">To enable debugging functionality, go to Tools Internet Options on the Internet Explorer menu and select the Advanced tab. Within the Browsing section ensure that the following items are unchecked:</span></span>

- <span data-ttu-id="69ed5-128">Отключить отладку скриптов (Internet Explorer)</span><span class="sxs-lookup"><span data-stu-id="69ed5-128">Disable script debugging (Internet Explorer)</span></span>
- <span data-ttu-id="69ed5-129">Отключить отладку скриптов (другие)</span><span class="sxs-lookup"><span data-stu-id="69ed5-129">Disable script debugging (Other)</span></span>

<span data-ttu-id="69ed5-130">Хотя это и не является обязательным, при попытке отладки приложения, вероятно, потребуется, чтобы все ошибки JavaScript на странице были немедленно видны и очевидны.</span><span class="sxs-lookup"><span data-stu-id="69ed5-130">Although not required, if you're trying to debug an application you'll probably want any JavaScript errors in the page to be immediately visible and obvious.</span></span> <span data-ttu-id="69ed5-131">Можно принудительно отобразить все ошибки с помощью окна сообщения, установив флажок "отображать уведомление о каждой ошибке сценария".</span><span class="sxs-lookup"><span data-stu-id="69ed5-131">You can force all errors to be shown with a message box by checking the "Display a notification about every script error" checkbox.</span></span> <span data-ttu-id="69ed5-132">Хотя это отличный вариант для включения во время разработки приложения, он может быстро стать нежелательным, если вы просто прорабатываете другие веб-сайты, так как вероятность возникновения ошибок JavaScript довольно хорошая.</span><span class="sxs-lookup"><span data-stu-id="69ed5-132">While this is a great option to turn on while you're developing an application, it can quickly become annoying if you're just perusing other Websites since your chances of encountering JavaScript errors are pretty good.</span></span>

<span data-ttu-id="69ed5-133">На рис. 1 показано, что должно выглядеть диалоговое окно Internet Explorer Advanced после того, как оно будет правильно настроено для отладки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-133">Figure 1 shows what the Internet Explorer advanced dialog should look after it has been properly configured for debugging.</span></span>

<span data-ttu-id="69ed5-134">[![настройке Internet Explorer для отладки.](understanding-asp-net-ajax-debugging-capabilities/_static/image2.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="69ed5-134">[![Configuring Internet Explorer for debugging.](understanding-asp-net-ajax-debugging-capabilities/_static/image2.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image1.png)</span></span>

<span data-ttu-id="69ed5-135">**Рис. 1**. Настройка Internet Explorer для отладки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-135">**Figure 1**: Configuring Internet Explorer for debugging.</span></span>  <span data-ttu-id="69ed5-136">([Щелкните, чтобы просмотреть изображение с полным размером](understanding-asp-net-ajax-debugging-capabilities/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="69ed5-136">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image3.png))</span></span>

<span data-ttu-id="69ed5-137">После включения отладки в меню "вид" появится новый пункт "отладчик скриптов".</span><span class="sxs-lookup"><span data-stu-id="69ed5-137">Once debugging has been turned on, you'll see a new menu item appear in the View menu named Script Debugger.</span></span> <span data-ttu-id="69ed5-138">Доступно два варианта, включая открытые и разрывы на следующем операторе.</span><span class="sxs-lookup"><span data-stu-id="69ed5-138">It has two options available including Open and Break at Next Statement.</span></span> <span data-ttu-id="69ed5-139">Если выбрано значение открыть, вам будет предложено отладить страницу в Visual Studio 2008 (Обратите внимание, что Visual Web Developer Express можно также использовать для отладки).</span><span class="sxs-lookup"><span data-stu-id="69ed5-139">When Open is selected you'll be prompted to debug the page in Visual Studio 2008 (note that Visual Web Developer Express can also be used for debugging).</span></span> <span data-ttu-id="69ed5-140">Если Visual Studio .NET выполняется в данный момент, вы можете использовать этот экземпляр или создать новый экземпляр.</span><span class="sxs-lookup"><span data-stu-id="69ed5-140">If Visual Studio .NET is currently running you can choose to use that instance or to create a new instance.</span></span> <span data-ttu-id="69ed5-141">При выборе прерывания на следующем операторе будет предложено выполнить отладку страницы при выполнении кода JavaScript.</span><span class="sxs-lookup"><span data-stu-id="69ed5-141">When Break at Next Statement is selected you'll be prompted to debug the page when JavaScript code is executed.</span></span> <span data-ttu-id="69ed5-142">Если код JavaScript выполняется в событии OnLoad страницы, можно обновить страницу, чтобы активировать сеанс отладки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-142">If JavaScript code executes in the onLoad event of the page you can refresh the page to trigger a debug session.</span></span> <span data-ttu-id="69ed5-143">Если код JavaScript выполняется после нажатия кнопки, отладчик будет выполняться сразу после нажатия кнопки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-143">If JavaScript code is run after a button is clicked then the debugger will run immediately after the button is clicked.</span></span>

> [!NOTE]
> <span data-ttu-id="69ed5-144">Если вы используете Windows Vista с включенным контролем учетных записей (UAC), а Visual Studio 2008 настроен для запуска от имени администратора, Visual Studio не сможет присоединиться к процессу при появлении запроса на присоединение.</span><span class="sxs-lookup"><span data-stu-id="69ed5-144">If you're running on Windows Vista with User Access Control (UAC) enabled, and you have Visual Studio 2008 set to run as an administrator, Visual Studio will fail to attach to the process when you are prompted to attach.</span></span> <span data-ttu-id="69ed5-145">Чтобы обойти эту ошибку, сначала запустите Visual Studio и используйте этот экземпляр для отладки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-145">To work around this issue, start Visual Studio first, and use that instance to debug.</span></span>

<span data-ttu-id="69ed5-146">В следующем разделе будет продемонстрировано, как выполнить отладку страницы ASP.NET AJAX непосредственно в Visual Studio 2008, используя параметр отладчика сценариев Internet Explorer, если страница уже открыта и вы хотите более полно проверить ее.</span><span class="sxs-lookup"><span data-stu-id="69ed5-146">Although the next section will demonstrate how to debug an ASP.NET AJAX page directly from within Visual Studio 2008, using the Internet Explorer Script Debugger option is useful when a page is already open and you'd like to more fully inspect it.</span></span>

## <a name="debugging-with-visual-studio-2008"></a><span data-ttu-id="69ed5-147">Отладка с помощью Visual Studio 2008</span><span class="sxs-lookup"><span data-stu-id="69ed5-147">Debugging with Visual Studio 2008</span></span>

<span data-ttu-id="69ed5-148">Visual Studio 2008 предоставляет функциональные возможности отладки, которые разработчики по всему миру полагаются на повседневную работу для отладки приложений .NET.</span><span class="sxs-lookup"><span data-stu-id="69ed5-148">Visual Studio 2008 provides debugging functionality that developers around the world rely on everyday to debug .NET applications.</span></span> <span data-ttu-id="69ed5-149">Встроенный отладчик позволяет пошагово выполнять код, просматривать данные объекта, отслеживать конкретные переменные, отслеживать стек вызовов и многое другое.</span><span class="sxs-lookup"><span data-stu-id="69ed5-149">The built-in debugger allows you to step through code, view object data, watch for specific variables, monitor the call stack plus much more.</span></span> <span data-ttu-id="69ed5-150">В дополнение к отладке VB.NET C# или кода, отладчик также полезен для отладки приложений ASP.NET AJAX и позволяет выполнять пошаговое выполнение кода JavaScript построчно.</span><span class="sxs-lookup"><span data-stu-id="69ed5-150">In addition to debugging VB.NET or C# code, the debugger is also helpful for debugging ASP.NET AJAX applications and will allow you to step through JavaScript code line by line.</span></span> <span data-ttu-id="69ed5-151">Подробные сведения о методах, которые можно использовать для отладки файлов скриптов на стороне клиента, а не об общем процессе отладки приложений с помощью Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="69ed5-151">The details that follow focus on techniques that can be used to debug client-side script files rather than providing a discourse on the overall process of debugging applications using Visual Studio 2008.</span></span>

<span data-ttu-id="69ed5-152">Процесс отладки страницы в Visual Studio 2008 может быть запущен различными способами.</span><span class="sxs-lookup"><span data-stu-id="69ed5-152">The process of debugging a page in Visual Studio 2008 can be started in several different ways.</span></span> <span data-ttu-id="69ed5-153">Сначала можно использовать параметр отладчика сценариев Internet Explorer, упомянутый в предыдущем разделе.</span><span class="sxs-lookup"><span data-stu-id="69ed5-153">First, you can use the Internet Explorer Script Debugger option mentioned in the previous section.</span></span> <span data-ttu-id="69ed5-154">Это хорошо работает, когда страница уже загружена в браузере и вы хотите начать ее отладку.</span><span class="sxs-lookup"><span data-stu-id="69ed5-154">This works well when a page is already loaded in the browser and you'd like to start debugging it.</span></span> <span data-ttu-id="69ed5-155">Кроме того, можно щелкнуть правой кнопкой мыши страницу ASPX в обозреватель решений и выбрать в меню пункт Задать как начальную страницу.</span><span class="sxs-lookup"><span data-stu-id="69ed5-155">Alternatively, you can right-click on an .aspx page in the Solution Explorer and select Set As Start Page from the menu.</span></span> <span data-ttu-id="69ed5-156">Если вы привыкли к отладке страниц ASP.NET, вы, вероятно, сделали это раньше.</span><span class="sxs-lookup"><span data-stu-id="69ed5-156">If you're accustomed to debugging ASP.NET pages then you've probably done this before.</span></span> <span data-ttu-id="69ed5-157">После нажатия клавиши F5 страница может быть отлажена.</span><span class="sxs-lookup"><span data-stu-id="69ed5-157">Once F5 is pressed the page can be debugged.</span></span> <span data-ttu-id="69ed5-158">Однако, хотя вы можете задать точку останова в любом месте, где бы вы C# хотели бы вы VB.NET или код, это не всегда так с JavaScript, как вы увидите далее.</span><span class="sxs-lookup"><span data-stu-id="69ed5-158">However, while you can generally set a breakpoint anywhere you'd like in VB.NET or C# code, that's not always the case with JavaScript as you'll see next.</span></span>

<span data-ttu-id="69ed5-159">*Сравнение внедренных и внешних скриптов*</span><span class="sxs-lookup"><span data-stu-id="69ed5-159">*Embedded Versus External Scripts*</span></span>

<span data-ttu-id="69ed5-160">Отладчик Visual Studio 2008 обрабатывает JavaScript, внедренный на странице, отличной от внешних файлов JavaScript.</span><span class="sxs-lookup"><span data-stu-id="69ed5-160">The Visual Studio 2008 debugger treats JavaScript embedded in a page different than external JavaScript files.</span></span> <span data-ttu-id="69ed5-161">С помощью внешних файлов скриптов можно открыть файл и установить точку останова в любой выбранной строке.</span><span class="sxs-lookup"><span data-stu-id="69ed5-161">With external script files, you can open the file and set a breakpoint on any line you choose.</span></span> <span data-ttu-id="69ed5-162">Точки останова можно задать, щелкнув в области серого лотка слева от окна редактора кода.</span><span class="sxs-lookup"><span data-stu-id="69ed5-162">Breakpoints can be set by clicking in the grey tray area to the left of the code editor window.</span></span> <span data-ttu-id="69ed5-163">Когда JavaScript внедряется непосредственно в страницу с помощью тега `<script>`, Установка точки останова путем щелчка в области серого лотка не является вариантом.</span><span class="sxs-lookup"><span data-stu-id="69ed5-163">When JavaScript is embedded directly into a page using the `<script>` tag, setting a breakpoint by clicking in the grey tray area isn't an option.</span></span> <span data-ttu-id="69ed5-164">Попытка установить точку останова в строке внедренного скрипта приведет к появлению предупреждения о том, что это не является допустимым расположением точки останова.</span><span class="sxs-lookup"><span data-stu-id="69ed5-164">Attempts to set a breakpoint on a line of embedded script will result in a warning that states "This is not a valid location for a breakpoint".</span></span>

<span data-ttu-id="69ed5-165">Эту ошибку можно обойти, переместив код в внешний файл. js и ссылаясь на него с помощью атрибута src&gt; тега &lt;Script:</span><span class="sxs-lookup"><span data-stu-id="69ed5-165">You can get around this issue by moving the code into an external .js file and referencing it using the src attribute of the &lt;script&gt; tag:</span></span>

[!code-html[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample1.html)]

<span data-ttu-id="69ed5-166">Что, если перемещение кода во внешний файл не является вариантом или требует больше работы, чем стоит?</span><span class="sxs-lookup"><span data-stu-id="69ed5-166">What if moving the code into an external file isn't an option or requires more work than it's worth?</span></span> <span data-ttu-id="69ed5-167">Хотя вы не можете задать точку останова с помощью редактора, можно добавить оператор отладчика непосредственно в код, где вы хотите начать отладку.</span><span class="sxs-lookup"><span data-stu-id="69ed5-167">While you can't set a breakpoint using the editor, you can add the debugger statement directly into the code where you'd like to start debugging.</span></span> <span data-ttu-id="69ed5-168">Можно также использовать класс sys. Debug, доступный в библиотеке ASP.NET AJAX, чтобы принудительно запустить отладку.</span><span class="sxs-lookup"><span data-stu-id="69ed5-168">You can also use the Sys.Debug class available in the ASP.NET AJAX library to force debugging to start.</span></span> <span data-ttu-id="69ed5-169">Дополнительные сведения о классе sys. Debug см. Далее в этой статье.</span><span class="sxs-lookup"><span data-stu-id="69ed5-169">You'll learn more about the Sys.Debug class later in this article.</span></span>

<span data-ttu-id="69ed5-170">Пример использования ключевого слова `debugger` показан в листинге 1.</span><span class="sxs-lookup"><span data-stu-id="69ed5-170">An example of using the `debugger` keyword is shown in Listing 1.</span></span> <span data-ttu-id="69ed5-171">В этом примере отладчик принудительно разбивается сразу перед вызовом функции Update.</span><span class="sxs-lookup"><span data-stu-id="69ed5-171">This example forces the debugger to break right before a call to an update function is made.</span></span>

<span data-ttu-id="69ed5-172">**Листинг 1. Использование ключевого слова Debugger для принудительного прерывания отладчика Visual Studio .NET.**</span><span class="sxs-lookup"><span data-stu-id="69ed5-172">**Listing 1. Using the debugger keyword to force the Visual Studio .NET debugger to break.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample2.js)]

<span data-ttu-id="69ed5-173">После выполнения инструкции отладчика вам будет предложено отладить страницу с помощью Visual Studio .NET и начать пошаговое выполнение кода.</span><span class="sxs-lookup"><span data-stu-id="69ed5-173">Once the debugger statement is hit you will be prompted to debug the page using Visual Studio .NET and can begin stepping through the code.</span></span> <span data-ttu-id="69ed5-174">При этом может возникнуть проблема с доступом к файлам скриптов библиотеки ASP.NET AJAX, используемым на странице, поэтому давайте рассмотрим использование Visual Studio. Обозреватель скриптов NET.</span><span class="sxs-lookup"><span data-stu-id="69ed5-174">While doing this you may encounter an issue with accessing ASP.NET AJAX library script files used in the page so let's take a look at using Visual Studio .NET's Script Explorer.</span></span>

## <a name="using-visual-studio-net-windows-to-debug"></a><span data-ttu-id="69ed5-175">Использование Windows для отладки в Visual Studio .NET</span><span class="sxs-lookup"><span data-stu-id="69ed5-175">Using Visual Studio .NET Windows to Debug</span></span>

<span data-ttu-id="69ed5-176">После запуска сеанса отладки и начала прохода по коду с помощью ключа F11 по умолчанию может появиться диалоговое окно ошибки, показанное в разделе см. рис. 2, если все файлы скриптов, используемые на странице, открыты и недоступны для отладки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-176">Once a debug session is started and you begin walking through code using the default F11 key, you may encounter the error dialog shown in see Figure 2 unless all script files used in the page are open and available for debugging.</span></span>

<span data-ttu-id="69ed5-177">[![диалоговое окно сообщения об ошибке, если исходный код недоступен для отладки.](understanding-asp-net-ajax-debugging-capabilities/_static/image5.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="69ed5-177">[![Error dialog shown when no source code is available for debugging.](understanding-asp-net-ajax-debugging-capabilities/_static/image5.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image4.png)</span></span>

<span data-ttu-id="69ed5-178">**Рис. 2**. диалоговое окно ошибки, отображаемое, когда исходный код недоступен для отладки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-178">**Figure 2**: Error dialog shown when no source code is available for debugging.</span></span>  <span data-ttu-id="69ed5-179">([Щелкните, чтобы просмотреть изображение с полным размером](understanding-asp-net-ajax-debugging-capabilities/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="69ed5-179">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image6.png))</span></span>

<span data-ttu-id="69ed5-180">Это диалоговое окно отображается, поскольку Visual Studio .NET не гарантирует, как получить исходный код некоторых сценариев, на которые ссылается страница.</span><span class="sxs-lookup"><span data-stu-id="69ed5-180">This dialog is shown because Visual Studio .NET isn't sure how to get to the source code of some of the scripts referenced by the page.</span></span> <span data-ttu-id="69ed5-181">В первую очередь это может оказаться довольно непростой, но есть и простое исправление.</span><span class="sxs-lookup"><span data-stu-id="69ed5-181">While this can be quite frustrating at first, there's a simple fix.</span></span> <span data-ttu-id="69ed5-182">После запуска сеанса отладки и попадания в точку останова перейдите в окно Отладка обозревателя скриптов Windows в меню Visual Studio 2008 или используйте сочетание клавиш CTRL + ALT + N.</span><span class="sxs-lookup"><span data-stu-id="69ed5-182">Once you have started a debug session and hit a breakpoint, go to the Debug Windows Script Explorer window on the Visual Studio 2008 menu or use the Ctrl+Alt+N hotkey.</span></span>

> [!NOTE]
> <span data-ttu-id="69ed5-183">Если меню Обозреватель скриптов не отображается в списке, выберите **инструменты** > **настроить** > **команды** в меню Visual Studio .NET.</span><span class="sxs-lookup"><span data-stu-id="69ed5-183">If you can't see the Script Explorer menu listed, go to **Tools** > **Customize** > **Commands** on the Visual Studio .NET menu.</span></span> <span data-ttu-id="69ed5-184">В разделе Категории выберите запись **отладки** и щелкните ее, чтобы отобразить все доступные элементы меню.</span><span class="sxs-lookup"><span data-stu-id="69ed5-184">Locate the **Debug** entry in the Categories section and click it to show all available menu entries.</span></span> <span data-ttu-id="69ed5-185">В списке команды прокрутите вниз до пункта Обозреватель скриптов и перетащите его в меню окна Отладка, упомянутое ранее.</span><span class="sxs-lookup"><span data-stu-id="69ed5-185">In the Commands list, scroll down to Script Explorer and then drag it up onto the Debug Windows menu in mentioned earlier.</span></span> <span data-ttu-id="69ed5-186">Это сделает запись меню обозревателя скриптов доступной при каждом запуске Visual Studio .NET.</span><span class="sxs-lookup"><span data-stu-id="69ed5-186">Doing this will make the Script Explorer menu entry available each time you run Visual Studio .NET.</span></span>

<span data-ttu-id="69ed5-187">Обозреватель скриптов можно использовать для просмотра всех скриптов, используемых на странице, и их открытия в редакторе кода.</span><span class="sxs-lookup"><span data-stu-id="69ed5-187">The Script Explorer can be used to view all scripts used in a page and open them in the code editor.</span></span> <span data-ttu-id="69ed5-188">После открытия обозревателя скриптов дважды щелкните страницу ASPX, которая отлаживается в данный момент, чтобы открыть ее в окне редактора кода.</span><span class="sxs-lookup"><span data-stu-id="69ed5-188">Once the Script Explorer is open, double-click on the .aspx page currently being debugged to open it in the code editor window.</span></span> <span data-ttu-id="69ed5-189">Выполните то же действие для всех других скриптов, показанных в обозревателе скриптов.</span><span class="sxs-lookup"><span data-stu-id="69ed5-189">Perform the same action for all of the other scripts shown in the Script Explorer.</span></span> <span data-ttu-id="69ed5-190">После открытия всех скриптов в окне кода можно нажать клавишу F11 (и использовать другие горячие клавиши для отладки) для пошагового выполнения кода.</span><span class="sxs-lookup"><span data-stu-id="69ed5-190">Once all of the scripts are open in the code window you can press F11 (and use the other debug hotkeys) to step through your code.</span></span> <span data-ttu-id="69ed5-191">На рис. 3 показан пример обозревателя скриптов.</span><span class="sxs-lookup"><span data-stu-id="69ed5-191">Figure 3 shows an example of the Script Explorer.</span></span> <span data-ttu-id="69ed5-192">В нем указывается текущий отлаживаемый файл (Demo. aspx), а также два пользовательских скрипта и два сценария, динамически добавляемые в страницу с помощью ScriptManager ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="69ed5-192">It lists the current file being debugged (Demo.aspx) as well as two custom scripts and two scripts dynamically injected into the page by the ASP.NET AJAX ScriptManager.</span></span>

<span data-ttu-id="69ed5-193">[![Обозреватель скриптов обеспечивает простой доступ к скриптам, используемым на странице.](understanding-asp-net-ajax-debugging-capabilities/_static/image8.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="69ed5-193">[![The Script Explorer provides easy access to scripts used in a page.](understanding-asp-net-ajax-debugging-capabilities/_static/image8.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image7.png)</span></span>

<span data-ttu-id="69ed5-194">**Рис. 3**.</span><span class="sxs-lookup"><span data-stu-id="69ed5-194">**Figure 3**.</span></span> <span data-ttu-id="69ed5-195">Обозреватель скриптов обеспечивает простой доступ к скриптам, используемым на странице.</span><span class="sxs-lookup"><span data-stu-id="69ed5-195">The Script Explorer provides easy access to scripts used in a page.</span></span>  <span data-ttu-id="69ed5-196">([Щелкните, чтобы просмотреть изображение с полным размером](understanding-asp-net-ajax-debugging-capabilities/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="69ed5-196">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image9.png))</span></span>

<span data-ttu-id="69ed5-197">Несколько других окон также можно использовать для предоставления полезной информации при пошаговом выполнении кода на странице.</span><span class="sxs-lookup"><span data-stu-id="69ed5-197">Several others windows can also be used to provide useful information as you step through code in a page.</span></span> <span data-ttu-id="69ed5-198">Например, можно использовать окно Локальные для просмотра значений различных переменных, используемых на странице, окна интерпретации для вычисления конкретных переменных или условий и просмотра выходных данных.</span><span class="sxs-lookup"><span data-stu-id="69ed5-198">For example, you can use the Locals window to see the values of different variables used in the page, the Immediate window to evaluate specific variables or conditions and view the output.</span></span> <span data-ttu-id="69ed5-199">Можно также использовать окно Вывод для просмотра операторов трассировки, написанных с помощью функции sys. Debug. Trace (которая будет рассмотрена далее в этой статье) или функции Debug. writeln в Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="69ed5-199">You can also use the Output window to view trace statements written out using the Sys.Debug.trace function (which will be covered later in this article) or Internet Explorer's Debug.writeln function.</span></span>

<span data-ttu-id="69ed5-200">При пошаговом выполнении кода с помощью отладчика можно навести указатель мыши на переменные в коде, чтобы просмотреть назначенное им значение.</span><span class="sxs-lookup"><span data-stu-id="69ed5-200">As you step through code using the debugger you can mouse over variables in the code to view the value that they are assigned.</span></span> <span data-ttu-id="69ed5-201">Однако отладчик сценариев иногда не будет показывать ничего при наведении указателя мыши на указанную переменную JavaScript.</span><span class="sxs-lookup"><span data-stu-id="69ed5-201">However, the script debugger occasionally won't show anything as you mouse over a given JavaScript variable.</span></span> <span data-ttu-id="69ed5-202">Чтобы просмотреть это значение, выделите оператор или переменную, которые вы пытаетесь просмотреть в окне редактора кода, а затем наведите на нее указатель мыши.</span><span class="sxs-lookup"><span data-stu-id="69ed5-202">To see the value, highlight the statement or variable you're trying to see in the code editor window and then mouse over it.</span></span> <span data-ttu-id="69ed5-203">Несмотря на то, что этот прием не работает во всех ситуациях, вы можете увидеть это значение без необходимости искать в другом окне отладки, например в окне Локальные.</span><span class="sxs-lookup"><span data-stu-id="69ed5-203">Although this technique doesn't work in every situation, many times you will be able to see the value without having to look in a different debug window such as the Locals window.</span></span>

<span data-ttu-id="69ed5-204">Видеоучебник, демонстрирующий некоторые функции, обсуждаемые здесь, можно просмотреть по адресу [http://www.xmlforasp.net](http://www.xmlforasp.net).</span><span class="sxs-lookup"><span data-stu-id="69ed5-204">A video tutorial demonstrating some of the features discussed here can be viewed at [http://www.xmlforasp.net](http://www.xmlforasp.net).</span></span>

## <a name="debugging-with-web-development-helper"></a><span data-ttu-id="69ed5-205">Отладка с помощью вспомогательного приложения веб-разработки</span><span class="sxs-lookup"><span data-stu-id="69ed5-205">Debugging With Web Development Helper</span></span>

<span data-ttu-id="69ed5-206">Хотя Visual Studio 2008 (и Visual Web Developer Express 2008) очень хорошо поддерживают средства отладки, существуют дополнительные параметры, которые можно использовать, а значит, это более тонкое.</span><span class="sxs-lookup"><span data-stu-id="69ed5-206">Although Visual Studio 2008 (and Visual Web Developer Express 2008) are very capable debugging tools, there are additional options that can be used as well which are more light-weight.</span></span> <span data-ttu-id="69ed5-207">Одним из новейших средств для выпуска является вспомогательная функция веб-разработки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-207">One of the latest tools to be released is the Web Development Helper.</span></span> <span data-ttu-id="69ed5-208">Корпорация Майкрософт Нихила Котари (один из ключевых ASP.NET архитекторов AJAX в корпорации Майкрософт) написала это отличное средство, которое позволяет выполнять различные задачи с помощью простой отладки для просмотра сообщений HTTP-запросов и ответов.</span><span class="sxs-lookup"><span data-stu-id="69ed5-208">Microsoft's Nikhil Kothari (one of the key ASP.NET AJAX architects at Microsoft) wrote this excellent tool which can perform many different tasks from simple debugging to viewing HTTP request and response messages.</span></span> <span data-ttu-id="69ed5-209">Вспомогательный модуль веб-разработки можно скачать по адресу [http://projects.nikhilk.net/Projects/WebDevHelper.aspx](http://projects.nikhilk.net/Projects/WebDevHelper.aspx).</span><span class="sxs-lookup"><span data-stu-id="69ed5-209">Web Development Helper can be downloaded at [http://projects.nikhilk.net/Projects/WebDevHelper.aspx](http://projects.nikhilk.net/Projects/WebDevHelper.aspx).</span></span>

<span data-ttu-id="69ed5-210">Вспомогательный модуль веб-разработки можно использовать непосредственно в Internet Explorer, что упрощает использование.</span><span class="sxs-lookup"><span data-stu-id="69ed5-210">Web Development helper can be used directly inside of Internet Explorer which makes it convenient to use.</span></span> <span data-ttu-id="69ed5-211">Для этого выберите Инструменты веб-разработка помощника в меню Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="69ed5-211">It's started by selecting Tools Web Development Helper from the Internet Explorer menu.</span></span> <span data-ttu-id="69ed5-212">Это позволит открыть средство в нижней части браузера, что удобно, поскольку не нужно оставлять браузер для выполнения нескольких задач, таких как запрос HTTP и ведение журнала ответа.</span><span class="sxs-lookup"><span data-stu-id="69ed5-212">This will open the tool in the bottom portion of the browser which is nice since you don't have to leave the browser to perform several tasks such as HTTP request and response message logging.</span></span> <span data-ttu-id="69ed5-213">На рис. 4 показано, как выглядит помощник веб-разработки в действии.</span><span class="sxs-lookup"><span data-stu-id="69ed5-213">Figure 4 shows what Web Development Helper looks like in action.</span></span>

<span data-ttu-id="69ed5-214">[![вспомогательный модуль веб-разработки](understanding-asp-net-ajax-debugging-capabilities/_static/image11.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="69ed5-214">[![Web Development Helper](understanding-asp-net-ajax-debugging-capabilities/_static/image11.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image10.png)</span></span>

<span data-ttu-id="69ed5-215">**Рис. 4**. вспомогательный метод веб-разработки ([щелкните, чтобы просмотреть изображение с полным размером](understanding-asp-net-ajax-debugging-capabilities/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="69ed5-215">**Figure 4**: Web Development Helper  ([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image12.png))</span></span>

<span data-ttu-id="69ed5-216">Вспомогательный модуль веб-разработки не является средством, которое будет использоваться для пошагового перехода по строке кода, как в Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="69ed5-216">Web Development helper isn't a tool you'll use to step through code line by line as with Visual Studio 2008.</span></span> <span data-ttu-id="69ed5-217">Однако его можно использовать для просмотра выходных данных трассировки, легко оценивать переменные в скрипте или исследовать данные в объекте JSON.</span><span class="sxs-lookup"><span data-stu-id="69ed5-217">However, it can be used to view trace output, easily evaluate variables in a script or explore data is inside of a JSON object.</span></span> <span data-ttu-id="69ed5-218">Он также очень полезен для просмотра данных, передаваемых в ASP.NET AJAX-страницу и на сервер.</span><span class="sxs-lookup"><span data-stu-id="69ed5-218">It's also very useful for viewing data that is passed to and from an ASP.NET AJAX page and a server.</span></span>

<span data-ttu-id="69ed5-219">После открытия вспомогательного приложения веб-разработки в Internet Explorer необходимо включить отладку скриптов, выбрав сценарий включить отладку сценариев из меню помощник веб-разработки, как показано выше на рис. 4.</span><span class="sxs-lookup"><span data-stu-id="69ed5-219">Once Web Development Helper is open in Internet Explorer, script debugging must be enabled by selecting Script Enable Script Debugging from the Web Development helper menu as shown earlier in Figure 4.</span></span> <span data-ttu-id="69ed5-220">Это позволяет средству перехватывать ошибки, происходящие при выполнении страницы.</span><span class="sxs-lookup"><span data-stu-id="69ed5-220">This enables the tool to intercept errors that occur as a page is run.</span></span> <span data-ttu-id="69ed5-221">Он также обеспечивает простой доступ к сообщениям трассировки, которые выводятся на странице.</span><span class="sxs-lookup"><span data-stu-id="69ed5-221">It also allows easy access to trace messages that are output in the page.</span></span> <span data-ttu-id="69ed5-222">Чтобы просмотреть сведения о трассировке или выполнить команды сценария для тестирования различных функций на странице, выберите сценарий Показать консоль сценариев в меню помощник веб-разработки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-222">To view trace information or execute script commands to test different functions within a page, select Script Show Script Console from the Web Development Helper menu.</span></span> <span data-ttu-id="69ed5-223">Это обеспечивает доступ к командному окну и простому окну интерпретации.</span><span class="sxs-lookup"><span data-stu-id="69ed5-223">This provides access to a command window and a simple immediate window.</span></span>

<span data-ttu-id="69ed5-224">*Просмотр сообщений трассировки и данных объектов JSON*</span><span class="sxs-lookup"><span data-stu-id="69ed5-224">*Viewing Trace Messages and JSON Object Data*</span></span>

<span data-ttu-id="69ed5-225">Окно интерпретации можно использовать для выполнения команд сценариев или даже для загрузки или сохранения скриптов, которые используются для тестирования различных функций на странице.</span><span class="sxs-lookup"><span data-stu-id="69ed5-225">The immediate window can be used to execute script commands or even load or save scripts that are used to test different functions in a page.</span></span> <span data-ttu-id="69ed5-226">В командном окне отображаются сообщения трассировки или отладки, записанные просматриваемой страницей.</span><span class="sxs-lookup"><span data-stu-id="69ed5-226">The command window displays trace or debug messages written out by the page being viewed.</span></span> <span data-ttu-id="69ed5-227">В листинге 2 показано, как написать сообщение трассировки с помощью функции Debug. writeln в Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="69ed5-227">Listing 2 shows how to write a trace message using Internet Explorer's Debug.writeln function.</span></span>

<span data-ttu-id="69ed5-228">**Листинг 2. Запись сообщения трассировки на стороне клиента с помощью класса Debug.**</span><span class="sxs-lookup"><span data-stu-id="69ed5-228">**Listing 2. Writing out a client-side trace message using the Debug class.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample3.js)]

<span data-ttu-id="69ed5-229">Если свойство LastName содержит значение Петров, то вспомогательное приложение веб-разработки будет отображать сообщение «Person Name: Петров» в командном окне консоли сценария (при условии, что включена отладка).</span><span class="sxs-lookup"><span data-stu-id="69ed5-229">If the LastName property contains a value of Doe, Web Development Helper will display the message "Person name: Doe" in the script console's command window (assuming that debugging has been enabled).</span></span> <span data-ttu-id="69ed5-230">Вспомогательный метод веб-разработки также добавляет объект Дебугсервице верхнего уровня в страницы, которые можно использовать для записи данных трассировки или просмотра содержимого объектов JSON.</span><span class="sxs-lookup"><span data-stu-id="69ed5-230">Web Development Helper also adds a top-level debugService object into pages that can be used to write out trace information or view the content of JSON objects.</span></span> <span data-ttu-id="69ed5-231">В листинге 3 показан пример использования функции трассировки класса Дебугсервице.</span><span class="sxs-lookup"><span data-stu-id="69ed5-231">Listing 3 shows an example of using the debugService class's trace function.</span></span>

<span data-ttu-id="69ed5-232">**Листинг 3. Использование класса Дебугсервице вспомогательного приложения веб-разработки для записи сообщения трассировки.**</span><span class="sxs-lookup"><span data-stu-id="69ed5-232">**Listing 3. Using Web Development Helper's debugService class to write a trace message.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample4.js)]

<span data-ttu-id="69ed5-233">Удобная особенность класса Дебугсервице заключается в том, что он будет работать даже в том случае, если отладка не включена в Internet Explorer, что упрощает доступ к данным трассировки при работе вспомогательного приложения веб-разработки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-233">A nice feature of the debugService class is that it will work even if debugging isn't enabled in Internet Explorer making it easy to always access trace data when Web Development Helper is running.</span></span> <span data-ttu-id="69ed5-234">Если средство не используется для отладки страницы, операторы трассировки будут пропущены, так как вызов метода Window. Дебугсервице возвратит значение false.</span><span class="sxs-lookup"><span data-stu-id="69ed5-234">When the tool isn't being used to debug a page, trace statements will be ignored since the call to window.debugService will return false.</span></span>

<span data-ttu-id="69ed5-235">Класс Дебугсервице также позволяет просматривать данные объекта JSON с помощью окна инспектора помощника веб-разработки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-235">The debugService class also allows JSON object data to be viewed using Web Development Helper's inspector window.</span></span> <span data-ttu-id="69ed5-236">В листинге 4 создается простой объект JSON, содержащий данные Person.</span><span class="sxs-lookup"><span data-stu-id="69ed5-236">Listing 4 creates a simple JSON object containing person data.</span></span> <span data-ttu-id="69ed5-237">После создания объекта выполняется вызов функции проверки класса Дебугсервице, чтобы разрешить визуальную проверку объекта JSON.</span><span class="sxs-lookup"><span data-stu-id="69ed5-237">Once the object is created, a call is made to the debugService class's inspect function to allow the JSON object to be visually inspected.</span></span>

<span data-ttu-id="69ed5-238">**Листинг 4. Использование функции Дебугсервице. исследовать для просмотра данных объекта JSON.**</span><span class="sxs-lookup"><span data-stu-id="69ed5-238">**Listing 4. Using the debugService.inspect function to view JSON object data.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample5.js)]

<span data-ttu-id="69ed5-239">Вызов функции GetObject () на странице или в окне интерпретации приведет к появлению диалогового окна инспектора объектов, как показано на рис. 5.</span><span class="sxs-lookup"><span data-stu-id="69ed5-239">Calling the GetPerson() function in the page or through the immediate window will result in the Object Inspector dialog window appearing as shown in Figure 5.</span></span> <span data-ttu-id="69ed5-240">Свойства в объекте можно динамически изменить, выделив их, изменив значение, отображаемое в текстовом поле значение, а затем щелкнув ссылку Обновить.</span><span class="sxs-lookup"><span data-stu-id="69ed5-240">Properties within the object can be changed dynamically by highlighting them, changing the value shown in the Value text box and then clicking the Update link.</span></span> <span data-ttu-id="69ed5-241">С помощью инспектора объектов можно легко просматривать данные объекта JSON и экспериментировать с применением различных значений к свойствам.</span><span class="sxs-lookup"><span data-stu-id="69ed5-241">Using the Object Inspector makes it straightforward to view JSON object data and experiment with applying different values to properties.</span></span>

<span data-ttu-id="69ed5-242">*Ошибки отладки*</span><span class="sxs-lookup"><span data-stu-id="69ed5-242">*Debugging Errors*</span></span>

<span data-ttu-id="69ed5-243">Помимо разрешения на отображение данных трассировки и объектов JSON, вспомогательная функция веб-разработки также может помочь в отладке ошибок на странице.</span><span class="sxs-lookup"><span data-stu-id="69ed5-243">In addition to allowing trace data and JSON objects to be displayed, Web Development helper can also aid in debugging errors in a page.</span></span> <span data-ttu-id="69ed5-244">Если возникает ошибка, вам будет предложено перейти к следующей строке кода или выполнить отладку сценария (см. рис. 6).</span><span class="sxs-lookup"><span data-stu-id="69ed5-244">If an error is encountered, you will be prompted to continue to the next line of code or debug the script (see Figure 6).</span></span> <span data-ttu-id="69ed5-245">В диалоговом окне Ошибка сценария отображается полный стек вызовов, а также номера строк, что позволяет легко находить проблемы в сценарии.</span><span class="sxs-lookup"><span data-stu-id="69ed5-245">The Script Error dialog window shows the complete call stack as well as line numbers so you can easily identify where issues are within a script.</span></span>

<span data-ttu-id="69ed5-246">[![с помощью окна инспектора объектов для просмотра объекта JSON.](understanding-asp-net-ajax-debugging-capabilities/_static/image14.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="69ed5-246">[![Using the Object Inspector window to view a JSON object.](understanding-asp-net-ajax-debugging-capabilities/_static/image14.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image13.png)</span></span>

<span data-ttu-id="69ed5-247">**Рис. 5**. Использование окна инспектора объектов для просмотра объекта JSON.</span><span class="sxs-lookup"><span data-stu-id="69ed5-247">**Figure 5**: Using the Object Inspector window to view a JSON object.</span></span>  <span data-ttu-id="69ed5-248">([Щелкните, чтобы просмотреть изображение с полным размером](understanding-asp-net-ajax-debugging-capabilities/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="69ed5-248">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image15.png))</span></span>

<span data-ttu-id="69ed5-249">Выбор параметра отладки позволяет выполнять операторы скриптов непосредственно в окне интерпретации вспомогательного метода веб-разработки для просмотра значений переменных, записи объектов JSON и т. д.</span><span class="sxs-lookup"><span data-stu-id="69ed5-249">Selecting the debug option allows you to execute script statements directly in Web Development Helper's immediate window to view the value of variables, write out JSON objects, plus more.</span></span> <span data-ttu-id="69ed5-250">Если то же действие, вызвавшее ошибку, будет выполнено снова и Visual Studio 2008 станет доступным на компьютере, вам будет предложено запустить сеанс отладки, чтобы можно было пошагово выполнить код по строке, как описано в предыдущем разделе.</span><span class="sxs-lookup"><span data-stu-id="69ed5-250">If the same action that triggered the error is performed again and Visual Studio 2008 is available on the machine, you will be prompted to start a debug session so that you can step through the code line by line as discussed in the previous section.</span></span>

<span data-ttu-id="69ed5-251">[![диалоговое окно ошибки скрипта в вспомогательном браузере веб-разработки](understanding-asp-net-ajax-debugging-capabilities/_static/image17.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="69ed5-251">[![Web Development Helper's Script Error Dialog](understanding-asp-net-ajax-debugging-capabilities/_static/image17.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image16.png)</span></span>

<span data-ttu-id="69ed5-252">**Рис. 6**. диалоговое окно ошибки скрипта веб-разработки ([щелкните, чтобы просмотреть изображение с полным размером](understanding-asp-net-ajax-debugging-capabilities/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="69ed5-252">**Figure 6**: Web Development Helper's Script Error Dialog  ([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image18.png))</span></span>

<span data-ttu-id="69ed5-253">*Проверка сообщений о запросах и ответах*</span><span class="sxs-lookup"><span data-stu-id="69ed5-253">*Inspecting Request and Response Messages*</span></span>

<span data-ttu-id="69ed5-254">При отладке страниц ASP.NET AJAX часто бывает удобно просматривать сообщения запросов и ответов, отправляемые между страницей и сервером.</span><span class="sxs-lookup"><span data-stu-id="69ed5-254">While debugging ASP.NET AJAX pages it is often useful to see request and response messages sent between a page and server.</span></span> <span data-ttu-id="69ed5-255">Просмотр содержимого в сообщениях позволяет определить, передаются ли правильные данные, а также размер сообщений.</span><span class="sxs-lookup"><span data-stu-id="69ed5-255">Viewing the content within messages allows you to see if the proper data is being passed as well as the size of the messages.</span></span> <span data-ttu-id="69ed5-256">Модуль поддержки веб-разработки предоставляет отличную функцию средства ведения журнала сообщений HTTP, которая позволяет легко просматривать данные в виде необработанного текста или в более удобном для чтения формате.</span><span class="sxs-lookup"><span data-stu-id="69ed5-256">Web Development Helper provides an excellent HTTP message logger feature that makes it easy to view data as raw text or in a more readable format.</span></span>

<span data-ttu-id="69ed5-257">Чтобы просмотреть сообщения запросов и ответов AJAX ASP.NET, необходимо включить средство ведения журнала HTTP, выбрав в меню вспомогательного приложения веб-разработки команду HTTP Enable HTTP Logging.</span><span class="sxs-lookup"><span data-stu-id="69ed5-257">To view ASP.NET AJAX request and response messages, the HTTP logger must be enabled by selecting HTTP Enable HTTP Logging from the Web Development Helper menu.</span></span> <span data-ttu-id="69ed5-258">После включения все сообщения, отправленные с текущей страницы, можно просмотреть в средстве просмотра журнала HTTP, доступ к которому можно получить, выбрав HTTP отобразить журналы HTTP.</span><span class="sxs-lookup"><span data-stu-id="69ed5-258">Once enabled, all messages sent from the current page can be viewed in the HTTP log viewer which can be accessed by selecting HTTP Show HTTP Logs.</span></span>

<span data-ttu-id="69ed5-259">Несмотря на то, что Просмотр необработанного текста, отправленного в каждом сообщении типа "запрос-ответ", безусловно полезен (и вариант в модуле поддержки веб-разработки), часто бывает проще просматривать данные сообщений в более графическом формате.</span><span class="sxs-lookup"><span data-stu-id="69ed5-259">Although viewing the raw text sent in each request/response message is certainly useful (and an option in Web Development Helper), it is often easier to view message data in a more graphical format.</span></span> <span data-ttu-id="69ed5-260">После включения ведения журнала HTTP и регистрации сообщений данные сообщений можно просмотреть, дважды щелкнув сообщение в средстве просмотра журнала HTTP.</span><span class="sxs-lookup"><span data-stu-id="69ed5-260">Once HTTP logging has been enabled and messages have been logged, message data can be viewed by double-clicking on the message in the HTTP log viewer.</span></span> <span data-ttu-id="69ed5-261">Это позволяет просматривать все заголовки, связанные с сообщением, а также реальное содержимое сообщения.</span><span class="sxs-lookup"><span data-stu-id="69ed5-261">Doing this allows you to view all headers associated with a message as well as the actual message content.</span></span> <span data-ttu-id="69ed5-262">На рис. 7 показан пример сообщения запроса и ответного сообщения, просматриваемого в окне средства просмотра журнала HTTP.</span><span class="sxs-lookup"><span data-stu-id="69ed5-262">Figure 7 shows an example of a request message and response message viewed in the HTTP Log Viewer window.</span></span>

<span data-ttu-id="69ed5-263">[![с помощью средства просмотра журнала HTTP для просмотра данных сообщений запросов и ответов.](understanding-asp-net-ajax-debugging-capabilities/_static/image20.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="69ed5-263">[![Using the HTTP Log Viewer to view request and response message data.](understanding-asp-net-ajax-debugging-capabilities/_static/image20.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image19.png)</span></span>

<span data-ttu-id="69ed5-264">**Рис. 7**. Просмотр данных сообщений запросов и ответов с помощью средства просмотра журнала HTTP.</span><span class="sxs-lookup"><span data-stu-id="69ed5-264">**Figure 7**: Using the HTTP Log Viewer to view request and response message data.</span></span>  <span data-ttu-id="69ed5-265">([Щелкните, чтобы просмотреть изображение с полным размером](understanding-asp-net-ajax-debugging-capabilities/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="69ed5-265">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image21.png))</span></span>

<span data-ttu-id="69ed5-266">Средство просмотра журнала HTTP автоматически анализирует объекты JSON и отображает их с помощью представления в виде дерева, что позволяет быстро и легко просматривать данные свойств объекта.</span><span class="sxs-lookup"><span data-stu-id="69ed5-266">The HTTP Log Viewer automatically parses JSON objects and displays them using a tree view making it quick and easy to view the object's property data.</span></span> <span data-ttu-id="69ed5-267">При использовании UpdatePanel на странице ASP.NET AJAX средство просмотра разделяет каждую часть сообщения на отдельные части, как показано на рис. 8.</span><span class="sxs-lookup"><span data-stu-id="69ed5-267">When an UpdatePanel is being used in an ASP.NET AJAX page, the viewer breaks out each portion of the message into individual parts as shown in Figure 8.</span></span> <span data-ttu-id="69ed5-268">Это отличная функция, которая значительно упрощает просмотр и понимание того, что находится в сообщении, по сравнению с просмотром необработанных данных сообщений.</span><span class="sxs-lookup"><span data-stu-id="69ed5-268">This is a great feature that makes it much easier to see and understand what is in the message as compared to viewing the raw message data.</span></span>

<span data-ttu-id="69ed5-269">[![сообщение ответа UpdatePanel, просматриваемое с помощью средства просмотра журнала HTTP.](understanding-asp-net-ajax-debugging-capabilities/_static/image23.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="69ed5-269">[![An UpdatePanel response message viewed using the HTTP Log Viewer.](understanding-asp-net-ajax-debugging-capabilities/_static/image23.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image22.png)</span></span>

<span data-ttu-id="69ed5-270">**Рис. 8**. сообщение ответа UpdatePanel, просматриваемое с помощью средства просмотра журнала HTTP.</span><span class="sxs-lookup"><span data-stu-id="69ed5-270">**Figure 8**: An UpdatePanel response message viewed using the HTTP Log Viewer.</span></span>  <span data-ttu-id="69ed5-271">([Щелкните, чтобы просмотреть изображение с полным размером](understanding-asp-net-ajax-debugging-capabilities/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="69ed5-271">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image24.png))</span></span>

<span data-ttu-id="69ed5-272">Помимо вспомогательного метода веб-разработки, можно использовать несколько других средств для просмотра сообщений запросов и ответов.</span><span class="sxs-lookup"><span data-stu-id="69ed5-272">There are several other tools that can be used to view request and response messages in addition to Web Development Helper.</span></span> <span data-ttu-id="69ed5-273">Еще один хороший вариант — Fiddler, доступный бесплатно на [http://www.fiddlertool.com](http://www.fiddlertool.com).</span><span class="sxs-lookup"><span data-stu-id="69ed5-273">Another good option is Fiddler which is available for free at [http://www.fiddlertool.com](http://www.fiddlertool.com).</span></span> <span data-ttu-id="69ed5-274">Хотя Fiddler не будет обсуждаться здесь, он также является хорошим вариантом, когда необходимо тщательно проверить заголовки и данные сообщений.</span><span class="sxs-lookup"><span data-stu-id="69ed5-274">Although Fiddler will not be discussed here, it is also a good option when you need to thoroughly inspect message headers and data.</span></span>

## <a name="debugging-with-firefox-and-firebug"></a><span data-ttu-id="69ed5-275">Отладка с помощью Firefox и Firebug</span><span class="sxs-lookup"><span data-stu-id="69ed5-275">Debugging with Firefox and Firebug</span></span>

<span data-ttu-id="69ed5-276">Хотя Internet Explorer по-прежнему является наиболее широко используемым браузером, другие браузеры, такие как Firefox, стали довольно популярными и используются больше и больше.</span><span class="sxs-lookup"><span data-stu-id="69ed5-276">While Internet Explorer is still the most widely used browser, other browsers such as Firefox have become quite popular and are being used more and more.</span></span> <span data-ttu-id="69ed5-277">В результате вы хотите просматривать и отлаживать страницы ASP.NET AJAX в браузере Firefox и Internet Explorer, чтобы обеспечить правильную работу приложений.</span><span class="sxs-lookup"><span data-stu-id="69ed5-277">As a result, you'll want to view and debug your ASP.NET AJAX pages in Firefox as well as Internet Explorer to ensure that your applications work properly.</span></span> <span data-ttu-id="69ed5-278">Хотя браузер Firefox не может напрямую связываться с Visual Studio 2008 для отладки, он имеет расширение Firebug, которое можно использовать для отладки страниц.</span><span class="sxs-lookup"><span data-stu-id="69ed5-278">Although Firefox can't tie directly into Visual Studio 2008 for debugging, it has an extension called Firebug that can be used to debug pages.</span></span> <span data-ttu-id="69ed5-279">Firebug можно скачать бесплатно, перейдя по [http://www.getfirebug.com](http://www.getfirebug.com).</span><span class="sxs-lookup"><span data-stu-id="69ed5-279">Firebug can be downloaded for free by going to [http://www.getfirebug.com](http://www.getfirebug.com).</span></span>

<span data-ttu-id="69ed5-280">Firebug предоставляет полнофункциональную среду отладки, которую можно использовать для пошагового выполнения кода по строке, доступа ко всем сценариям, используемым на странице, просмотра структур DOM, отображения стилей CSS и даже для контроля событий, происходящих на странице.</span><span class="sxs-lookup"><span data-stu-id="69ed5-280">Firebug provides a full-featured debugging environment that can be used to step through code line by line, access all scripts used within a page, view DOM structures, display CSS styles and even track events that occur in a page.</span></span> <span data-ttu-id="69ed5-281">После установки Firebug доступ к нему можно получить, выбрав Инструменты Firebug открыть Firebug в меню Firefox.</span><span class="sxs-lookup"><span data-stu-id="69ed5-281">Once installed, Firebug can be accessed by selecting Tools Firebug Open Firebug from the Firefox menu.</span></span> <span data-ttu-id="69ed5-282">Как и вспомогательное приложение веб-разработки, Firebug используется непосредственно в браузере, хотя его также можно использовать в качестве автономного приложения.</span><span class="sxs-lookup"><span data-stu-id="69ed5-282">Like Web Development Helper, Firebug is used directly in the browser although it can also be used as a stand-alone application.</span></span>

<span data-ttu-id="69ed5-283">После запуска Firebug точки останова могут быть установлены в любой строке файла JavaScript независимо от того, внедряется ли скрипт на страницу.</span><span class="sxs-lookup"><span data-stu-id="69ed5-283">Once Firebug is running, breakpoints can be set on any line of a JavaScript file whether the script is embedded in a page or not.</span></span> <span data-ttu-id="69ed5-284">Чтобы установить точку останова, сначала загрузите соответствующую страницу, которую вы хотите отладить в браузере Firefox.</span><span class="sxs-lookup"><span data-stu-id="69ed5-284">To set a breakpoint, first load the appropriate page you'd like to debug in Firefox.</span></span> <span data-ttu-id="69ed5-285">После загрузки страницы выберите скрипт для отладки из раскрывающегося списка скриптов Firebug.</span><span class="sxs-lookup"><span data-stu-id="69ed5-285">Once the page is loaded, select the script to debug from Firebug's Scripts drop-down list.</span></span> <span data-ttu-id="69ed5-286">Будут показаны все скрипты, используемые страницей.</span><span class="sxs-lookup"><span data-stu-id="69ed5-286">All scripts used by the page will be shown.</span></span> <span data-ttu-id="69ed5-287">Точка останова задается щелчком в области серого лотка Firebug в строке, где должна идти точка останова, как в Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="69ed5-287">A breakpoint is set by clicking in Firebug's grey tray area on the line where the breakpoint should go must like you would do in Visual Studio 2008.</span></span>

<span data-ttu-id="69ed5-288">После установки точки останова в Firebug можно выполнить действие, необходимое для выполнения сценария, для которого необходимо выполнить отладку, например нажатие кнопки или обновление браузера для активации события OnLoad.</span><span class="sxs-lookup"><span data-stu-id="69ed5-288">Once a breakpoint has been set in Firebug you can perform the action required to execute the script that needs to be debugged such as clicking a button or refreshing the browser to trigger the onLoad event.</span></span> <span data-ttu-id="69ed5-289">Выполнение будет автоматически прервано в строке, содержащей точку останова.</span><span class="sxs-lookup"><span data-stu-id="69ed5-289">Execution will automatically stop on the line containing the breakpoint.</span></span> <span data-ttu-id="69ed5-290">На рис. 9 показан пример точки останова, которая была активирована в Firebug.</span><span class="sxs-lookup"><span data-stu-id="69ed5-290">Figure 9 shows an example of a breakpoint that has been triggered in Firebug.</span></span>

<span data-ttu-id="69ed5-291">[![обработки точек останова в Firebug.](understanding-asp-net-ajax-debugging-capabilities/_static/image26.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="69ed5-291">[![Handling breakpoints in Firebug.](understanding-asp-net-ajax-debugging-capabilities/_static/image26.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image25.png)</span></span>

<span data-ttu-id="69ed5-292">**Рис. 9**. обработка точек останова в Firebug.</span><span class="sxs-lookup"><span data-stu-id="69ed5-292">**Figure 9**: Handling breakpoints in Firebug.</span></span>  <span data-ttu-id="69ed5-293">([Щелкните, чтобы просмотреть изображение с полным размером](understanding-asp-net-ajax-debugging-capabilities/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="69ed5-293">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image27.png))</span></span>

<span data-ttu-id="69ed5-294">После попадания в точку останова можно выполнить шаг с заходом, шаг с обходом или шаг с выходом из кода с помощью кнопок со стрелками.</span><span class="sxs-lookup"><span data-stu-id="69ed5-294">Once a breakpoint is hit you can step into, step over or step out of code using the arrow buttons.</span></span> <span data-ttu-id="69ed5-295">При пошаговом выполнении кода переменные сценария отображаются в правой части отладчика, что позволяет просматривать значения и детализировать объекты.</span><span class="sxs-lookup"><span data-stu-id="69ed5-295">As you step through code, script variables are displayed in the right-hand portion of the debugger allowing you to see values and drill-down into objects.</span></span> <span data-ttu-id="69ed5-296">Firebug также содержит раскрывающийся список стек вызовов для просмотра шагов выполнения сценария, которые привели к отладке текущей строки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-296">Firebug also includes a Call Stack drop-down list to view the script's execution steps that led up to the current line being debugged.</span></span>

<span data-ttu-id="69ed5-297">Firebug также включает окно консоли, которое можно использовать для тестирования различных операторов сценария, вычисления переменных и просмотра выходных данных трассировки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-297">Firebug also includes a console window that can be used to test different script statements, evaluate variables and view trace output.</span></span> <span data-ttu-id="69ed5-298">Для доступа к нему щелкните вкладку Console (консоль) в верхней части окна Firebug.</span><span class="sxs-lookup"><span data-stu-id="69ed5-298">It is accessed by clicking on the Console tab at the top of the Firebug window.</span></span> <span data-ttu-id="69ed5-299">Страница, для которой выполняется отладка, также может быть "проверена", чтобы просмотреть ее структуру и содержимое DOM, щелкнув вкладку Проверка. При наведении указателя мыши на различные элементы DOM, отображаемые в окне инспектора, будет выделена соответствующая часть страницы, позволяющая легко увидеть, где элемент используется на странице.</span><span class="sxs-lookup"><span data-stu-id="69ed5-299">The page being debugged can also be "inspected" to see its DOM structure and contents by clicking on the Inspect tab. As you mouse over the different DOM elements shown in the inspector window the appropriate portion of the page will be highlighted making it easy to see where the element is used in the page.</span></span> <span data-ttu-id="69ed5-300">Значения атрибутов, связанные с данным элементом, можно изменить в динамическом режиме, чтобы поэкспериментировать с применением различных значений ширины, стилей и т. д. к элементу.</span><span class="sxs-lookup"><span data-stu-id="69ed5-300">Attribute values associated with a given element can be changed "live" to experiment with applying different widths, styles, etc. to an element.</span></span> <span data-ttu-id="69ed5-301">Это удобная функция, которая избавляет вас от необходимости постоянно переключаться между редактором исходного кода и браузером Firefox, чтобы увидеть, как простые изменения влияют на страницу.</span><span class="sxs-lookup"><span data-stu-id="69ed5-301">This is a nice feature that saves you from having to constantly switch between the source code editor and the Firefox browser to view how simple changes affect a page.</span></span>

<span data-ttu-id="69ed5-302">На рис. 10 показан пример использования инспектора DOM для определения местоположения текстового поля с именем Тксткаунтри на странице.</span><span class="sxs-lookup"><span data-stu-id="69ed5-302">Figure 10 shows an example of using the DOM inspector to locate a textbox named txtCountry in the page.</span></span> <span data-ttu-id="69ed5-303">Инспектор Firebug также можно использовать для просмотра стилей CSS, используемых на странице, а также событий, которые возникают, например для отслеживания движений мыши, нажатия кнопок и т. д.</span><span class="sxs-lookup"><span data-stu-id="69ed5-303">The Firebug inspector can also be used to view CSS styles used in a page as well as events that occur such as tracking mouse movements, button clicks, plus more.</span></span>

<span data-ttu-id="69ed5-304">[![с помощью инспектора DOM Firebug.](understanding-asp-net-ajax-debugging-capabilities/_static/image29.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="69ed5-304">[![Using Firebug's DOM inspector.](understanding-asp-net-ajax-debugging-capabilities/_static/image29.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image28.png)</span></span>

<span data-ttu-id="69ed5-305">**Рис. 10**. Использование инспектора DOM Firebug.</span><span class="sxs-lookup"><span data-stu-id="69ed5-305">**Figure 10**: Using Firebug's DOM inspector.</span></span>  <span data-ttu-id="69ed5-306">([Щелкните, чтобы просмотреть изображение с полным размером](understanding-asp-net-ajax-debugging-capabilities/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="69ed5-306">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image30.png))</span></span>

<span data-ttu-id="69ed5-307">Firebug предоставляет легкий способ быстрой отладки страницы непосредственно в браузере Firefox, а также отличный инструмент для проверки различных элементов на странице.</span><span class="sxs-lookup"><span data-stu-id="69ed5-307">Firebug provides a light-weight way to quickly debug a page directly in Firefox as well as an excellent tool for inspecting different elements within the page.</span></span>

## <a name="debugging-support-in-aspnet-ajax"></a><span data-ttu-id="69ed5-308">Поддержка отладки в ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="69ed5-308">Debugging Support in ASP.NET AJAX</span></span>

<span data-ttu-id="69ed5-309">Библиотека ASP.NET AJAX содержит множество различных классов, которые можно использовать для упрощения процесса добавления возможностей AJAX в веб-страницу.</span><span class="sxs-lookup"><span data-stu-id="69ed5-309">The ASP.NET AJAX library includes many different classes that can be used to simplify the process of adding AJAX capabilities into a Webpage.</span></span> <span data-ttu-id="69ed5-310">Эти классы можно использовать для нахождение элементов на странице и управления ими, добавления новых элементов управления, вызова веб-служб и даже обработки событий.</span><span class="sxs-lookup"><span data-stu-id="69ed5-310">You can use these classes to locate elements within a page and manipulate them, add new controls, call Web Services and even handle events.</span></span> <span data-ttu-id="69ed5-311">Библиотека ASP.NET AJAX также содержит классы, которые можно использовать для улучшения процесса отладки страниц.</span><span class="sxs-lookup"><span data-stu-id="69ed5-311">The ASP.NET AJAX library also contains classes that can be used to enhance the process of debugging pages.</span></span> <span data-ttu-id="69ed5-312">В этом разделе будет представлен класс sys. Debug и показано, как его можно использовать в приложениях.</span><span class="sxs-lookup"><span data-stu-id="69ed5-312">In this section you'll be introduced to the Sys.Debug class and see how it can be used in applications.</span></span>

<span data-ttu-id="69ed5-313">*Использование класса Sys. Debug*</span><span class="sxs-lookup"><span data-stu-id="69ed5-313">*Using the Sys.Debug class*</span></span>

<span data-ttu-id="69ed5-314">Класс sys. Debug (класс JavaScript, расположенный в пространстве имен sys) можно использовать для выполнения нескольких различных функций, включая запись выходных данных трассировки, выполнение утверждений кода и принудительное завершение кода, чтобы его можно было отлаживать.</span><span class="sxs-lookup"><span data-stu-id="69ed5-314">The Sys.Debug class (a JavaScript class located in the Sys namespace) can be used to perform several different functions including writing trace output, performing code assertions and forcing code to fail so that it can be debugged.</span></span> <span data-ttu-id="69ed5-315">Он широко используется в файлах отладки библиотеки ASP.NET AJAX (устанавливается в папке C:\Program Files\Microsoft ASP. НЕТ\АСП.нет 2,0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 по умолчанию) для выполнения условных тестов ( называемые утверждениями), обеспечивающие правильную передачу параметров для функций, эти объекты содержат ожидаемые данные и для написания операторов трассировки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-315">It is used extensively in the ASP.NET AJAX library's debug files (installed at C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 by default) to perform conditional tests (called assertions) that ensure parameters are passed properly to functions, that objects contain the expected data and to write trace statements.</span></span>

<span data-ttu-id="69ed5-316">Класс sys. Debug предоставляет несколько различных функций, которые можно использовать для работы с трассировкой, утверждениями или ошибками кода, как показано в таблице 1.</span><span class="sxs-lookup"><span data-stu-id="69ed5-316">The Sys.Debug class exposes several different functions that can be used to handle tracing, code assertions or failures as shown in Table 1.</span></span>

<span data-ttu-id="69ed5-317">**Таблица 1. Функции класса Sys. Debug.**</span><span class="sxs-lookup"><span data-stu-id="69ed5-317">**Table 1. Sys.Debug class functions.**</span></span>

| <span data-ttu-id="69ed5-318">**Имя функции**</span><span class="sxs-lookup"><span data-stu-id="69ed5-318">**Function Name**</span></span> | <span data-ttu-id="69ed5-319">**Описание**</span><span class="sxs-lookup"><span data-stu-id="69ed5-319">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="69ed5-320">Assert (условие, сообщение, Дисплайкаллер)</span><span class="sxs-lookup"><span data-stu-id="69ed5-320">assert(condition, message, displayCaller)</span></span> | <span data-ttu-id="69ed5-321">Утверждает, что параметр Condition имеет значение true.</span><span class="sxs-lookup"><span data-stu-id="69ed5-321">Asserts that the condition parameter is true.</span></span> <span data-ttu-id="69ed5-322">Если проверяемое условие имеет значение false, для вывода значения параметра сообщения будет использоваться окно сообщения.</span><span class="sxs-lookup"><span data-stu-id="69ed5-322">If the condition being tested is false, a message box will be used to display the message parameter value.</span></span> <span data-ttu-id="69ed5-323">Если параметр Дисплайкаллер имеет значение true, метод также отображает сведения о вызывающем объекте.</span><span class="sxs-lookup"><span data-stu-id="69ed5-323">If the displayCaller parameter is true, the method also displays information about the caller.</span></span> |
| <span data-ttu-id="69ed5-324">Клеартраце ()</span><span class="sxs-lookup"><span data-stu-id="69ed5-324">clearTrace()</span></span> | <span data-ttu-id="69ed5-325">Стирает выходные данные инструкций из операций трассировки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-325">Erases statements output from tracing operations.</span></span> |
| <span data-ttu-id="69ed5-326">сбой (сообщение)</span><span class="sxs-lookup"><span data-stu-id="69ed5-326">fail(message)</span></span> | <span data-ttu-id="69ed5-327">Заставляет программу остановить выполнение и переключиться в отладчик.</span><span class="sxs-lookup"><span data-stu-id="69ed5-327">Causes the program to stop execution and break into the debugger.</span></span> <span data-ttu-id="69ed5-328">Чтобы указать причину сбоя, можно использовать параметр сообщения.</span><span class="sxs-lookup"><span data-stu-id="69ed5-328">The message parameter can be used to provide a reason for the failure.</span></span> |
| <span data-ttu-id="69ed5-329">Трассировка (сообщение)</span><span class="sxs-lookup"><span data-stu-id="69ed5-329">trace(message)</span></span> | <span data-ttu-id="69ed5-330">Записывает параметр сообщения в выходные данные трассировки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-330">Writes the message parameter to the trace output.</span></span> |
| <span data-ttu-id="69ed5-331">Трацедумп (объект, имя)</span><span class="sxs-lookup"><span data-stu-id="69ed5-331">traceDump(object, name)</span></span> | <span data-ttu-id="69ed5-332">Выводит данные объекта в удобном для чтения формате.</span><span class="sxs-lookup"><span data-stu-id="69ed5-332">Outputs an object's data in a readable format.</span></span> <span data-ttu-id="69ed5-333">Параметр Name можно использовать для предоставления метки для дампа трассировки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-333">The name parameter can be used to provide a label for the trace dump.</span></span> <span data-ttu-id="69ed5-334">Все вложенные объекты в создаваемом объекте будут записаны по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="69ed5-334">Any sub-objects within the object being dumped will be written out by default.</span></span> |

<span data-ttu-id="69ed5-335">Трассировка на стороне клиента может использоваться во многом так же, как и функции трассировки, доступные в ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="69ed5-335">Client-side tracing can be used in much the same way as the tracing functionality available in ASP.NET.</span></span> <span data-ttu-id="69ed5-336">Это позволяет легко видеть различные сообщения, не прерывая поток приложения.</span><span class="sxs-lookup"><span data-stu-id="69ed5-336">It allows different messages to easily be seen without interrupting the flow of the application.</span></span> <span data-ttu-id="69ed5-337">В листинге 5 показан пример использования функции sys. Debug. Trace для записи в журнал трассировки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-337">Listing 5 shows an example of using the Sys.Debug.trace function to write to the trace log.</span></span> <span data-ttu-id="69ed5-338">Эта функция просто принимает сообщение, которое должно быть записано как параметр.</span><span class="sxs-lookup"><span data-stu-id="69ed5-338">This function simply takes the message that should be written out as a parameter.</span></span>

<span data-ttu-id="69ed5-339">**Листинг 5. Использование функции sys. Debug. Trace.**</span><span class="sxs-lookup"><span data-stu-id="69ed5-339">**Listing 5. Using the Sys.Debug.trace function.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample6.js)]

<span data-ttu-id="69ed5-340">Если выполнить код, показанный в листинге 5, на странице не будут отображаться выходные данные трассировки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-340">If you execute the code shown in Listing 5 you won't see any trace output in the page.</span></span> <span data-ttu-id="69ed5-341">Единственный способ увидеть это — использовать окно консоли, доступное в Visual Studio .NET, вспомогательное приложение веб-разработки или Firebug.</span><span class="sxs-lookup"><span data-stu-id="69ed5-341">The only way to see it is to use a console window available in Visual Studio .NET, Web Development Helper or Firebug.</span></span> <span data-ttu-id="69ed5-342">Если вы хотите просмотреть выходные данные трассировки на странице, необходимо добавить тег TextArea и присвоить ему идентификатор Трацеконсоле, как показано далее:</span><span class="sxs-lookup"><span data-stu-id="69ed5-342">If you do want to see the trace output in the page then you'll need to add a TextArea tag and give it an id of TraceConsole as shown next:</span></span>

[!code-html[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample7.html)]

<span data-ttu-id="69ed5-343">Все инструкции sys. Debug. Trace на странице будут записаны в Трацеконсоле TextArea.</span><span class="sxs-lookup"><span data-stu-id="69ed5-343">Any Sys.Debug.trace statements in the page will be written to the TraceConsole TextArea.</span></span>

<span data-ttu-id="69ed5-344">В случаях, когда необходимо просмотреть данные, содержащиеся в объекте JSON, можно использовать функцию Трацедумп класса Sys. Debug.</span><span class="sxs-lookup"><span data-stu-id="69ed5-344">In cases where you want to see the data contained within a JSON object you can use the Sys.Debug class's traceDump function.</span></span> <span data-ttu-id="69ed5-345">Эта функция принимает два параметра, включая объект, который должен быть выгружен в консоль трассировки, и имя, которое можно использовать для обнаружения объекта в выходных данных трассировки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-345">This function takes two parameters including the object that should be dumped to the trace console and a name that can be used to identify the object in the trace output.</span></span> <span data-ttu-id="69ed5-346">В листинге 6 показан пример использования функции Трацедумп.</span><span class="sxs-lookup"><span data-stu-id="69ed5-346">Listing 6 shows an example of using the traceDump function.</span></span>

<span data-ttu-id="69ed5-347">**Листинг 6. С помощью функции sys. Debug. Трацедумп.**</span><span class="sxs-lookup"><span data-stu-id="69ed5-347">**Listing 6. Using the Sys.Debug.traceDump function.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample8.js)]

<span data-ttu-id="69ed5-348">На рис. 11 показаны выходные данные вызова функции sys. Debug. Трацедумп.</span><span class="sxs-lookup"><span data-stu-id="69ed5-348">Figure 11 shows the output from calling the Sys.Debug.traceDump function.</span></span> <span data-ttu-id="69ed5-349">Обратите внимание, что помимо записи данных объекта Person, он также записывает данные подобъекта адреса.</span><span class="sxs-lookup"><span data-stu-id="69ed5-349">Notice that in addition to writing out the Person object's data, it also writes out the Address sub-object's data.</span></span>

<span data-ttu-id="69ed5-350">Кроме трассировки, класс sys. Debug также может использоваться для выполнения утверждений кода.</span><span class="sxs-lookup"><span data-stu-id="69ed5-350">In addition to tracing, the Sys.Debug class can also be used to perform code assertions.</span></span> <span data-ttu-id="69ed5-351">Утверждения используются для проверки соблюдения конкретных условий во время выполнения приложения.</span><span class="sxs-lookup"><span data-stu-id="69ed5-351">Assertions are used to test that specific conditions are met while an application is running.</span></span> <span data-ttu-id="69ed5-352">Отладочная версия скриптов библиотеки ASP.NET AJAX содержит несколько операторов Assert для тестирования различных условий.</span><span class="sxs-lookup"><span data-stu-id="69ed5-352">The debug version of the ASP.NET AJAX library scripts contain several assert statements to test a variety of conditions.</span></span>

<span data-ttu-id="69ed5-353">В листинге 7 показан пример использования функции sys. Debug. Assert для проверки условия.</span><span class="sxs-lookup"><span data-stu-id="69ed5-353">Listing 7 shows an example of using the Sys.Debug.assert function to test a condition.</span></span> <span data-ttu-id="69ed5-354">Перед обновлением объекта Person код проверяет, имеет ли объект адреса значение null.</span><span class="sxs-lookup"><span data-stu-id="69ed5-354">The code tests whether or not the Address object is null before updating a Person object.</span></span>

<span data-ttu-id="69ed5-355">[![выходные данные функции sys. Debug. Трацедумп.](understanding-asp-net-ajax-debugging-capabilities/_static/image32.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="69ed5-355">[![Output of the Sys.Debug.traceDump function.](understanding-asp-net-ajax-debugging-capabilities/_static/image32.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image31.png)</span></span>

<span data-ttu-id="69ed5-356">**Рис. 11**. выходные данные функции sys. Debug. трацедумп.</span><span class="sxs-lookup"><span data-stu-id="69ed5-356">**Figure 11**: Output of the Sys.Debug.traceDump function.</span></span>  <span data-ttu-id="69ed5-357">([Щелкните, чтобы просмотреть изображение с полным размером](understanding-asp-net-ajax-debugging-capabilities/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="69ed5-357">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image33.png))</span></span>

<span data-ttu-id="69ed5-358">**Листинг 7. Использование функции Debug. Assert.**</span><span class="sxs-lookup"><span data-stu-id="69ed5-358">**Listing 7. Using the debug.assert function.**</span></span>

[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample9.js)]

<span data-ttu-id="69ed5-359">Передаются три параметра, включая условие для вычисления, сообщение, отображаемое, если проверочное утверждение возвращает значение false и следует ли отображать сведения о вызывающем объекте.</span><span class="sxs-lookup"><span data-stu-id="69ed5-359">Three parameters are passed including the condition to evaluate, the message to display if the assertion returns false and whether or not information about the caller should be displayed.</span></span> <span data-ttu-id="69ed5-360">В случаях, когда утверждение не выполняется, сообщение будет отображаться, а также сведения о вызывающем объекте, если третий параметр имел значение true.</span><span class="sxs-lookup"><span data-stu-id="69ed5-360">In cases where an assertion fails, the message will be displayed as well as caller information if the third parameter was true.</span></span> <span data-ttu-id="69ed5-361">На рис. 12 показан пример диалогового окна сбоя, которое появляется в случае сбоя утверждения, показанного в листинге 7.</span><span class="sxs-lookup"><span data-stu-id="69ed5-361">Figure 12 shows an example of the failure dialog that appears if the assertion shown in Listing 7 fails.</span></span>

<span data-ttu-id="69ed5-362">Завершающей функцией для покрытия является sys. Debug. Fail.</span><span class="sxs-lookup"><span data-stu-id="69ed5-362">The final function to cover is Sys.Debug.fail.</span></span> <span data-ttu-id="69ed5-363">Если требуется принудительно завершить выполнение кода в определенной строке скрипта, можно добавить вызов sys. Debug. Fail вместо инструкции отладчика, обычно используемой в приложениях JavaScript.</span><span class="sxs-lookup"><span data-stu-id="69ed5-363">When you want to force code to fail on a particular line in a script you can add a Sys.Debug.fail call rather than the debugger statement typically used in JavaScript applications.</span></span> <span data-ttu-id="69ed5-364">Функция sys. Debug. Fail принимает один строковый параметр, представляющий причину сбоя, как показано далее:</span><span class="sxs-lookup"><span data-stu-id="69ed5-364">The Sys.Debug.fail function accepts a single string parameter that represents the reason for the failure as shown next:</span></span>

[!code-css[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample10.css)]

<span data-ttu-id="69ed5-365">[![сообщение об ошибке sys. Debug. Assert.](understanding-asp-net-ajax-debugging-capabilities/_static/image35.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="69ed5-365">[![A Sys.Debug.assert failure message.](understanding-asp-net-ajax-debugging-capabilities/_static/image35.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image34.png)</span></span>

<span data-ttu-id="69ed5-366">**Рис. 12**. сообщение об ошибке sys. Debug. Assert.</span><span class="sxs-lookup"><span data-stu-id="69ed5-366">**Figure 12**: A Sys.Debug.assert failure message.</span></span>  <span data-ttu-id="69ed5-367">([Щелкните, чтобы просмотреть изображение с полным размером](understanding-asp-net-ajax-debugging-capabilities/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="69ed5-367">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image36.png))</span></span>

<span data-ttu-id="69ed5-368">Если во время выполнения скрипта обнаруживается инструкция sys. Debug. Fail, значение параметра message будет отображаться в консоли приложения отладки, например Visual Studio 2008, и будет предложено выполнить отладку приложения.</span><span class="sxs-lookup"><span data-stu-id="69ed5-368">When a Sys.Debug.fail statement is encountered while a script is executing, the value of the message parameter will be displayed in the console of a debug application such as Visual Studio 2008 and you'll be prompted to debug the application.</span></span> <span data-ttu-id="69ed5-369">Один из случаев, когда это может быть весьма полезен, заключается в том, что нельзя установить точку останова в Visual Studio 2008 во встроенном скрипте, но необходимо, чтобы код был останавливаться в конкретной строке, чтобы можно было проверить значение переменных.</span><span class="sxs-lookup"><span data-stu-id="69ed5-369">One case where this can be quite useful is when you can't set a breakpoint with Visual Studio 2008 on an inline script but would like the code to stop on particular line so you can inspect the value of variables.</span></span>

<span data-ttu-id="69ed5-370">*Основные сведения о свойстве Скриптмоде элемента управления ScriptManager*</span><span class="sxs-lookup"><span data-stu-id="69ed5-370">*Understanding the ScriptManager Control's ScriptMode Property*</span></span>

<span data-ttu-id="69ed5-371">Библиотека ASP.NET AJAX содержит версии скриптов отладки и выпуска, которые устанавливаются в каталог C:\Program Files\Microsoft ASP. НЕТ\АСП.нет 2,0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="69ed5-371">The ASP.NET AJAX library includes debug and release script versions that are installed at C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 by default.</span></span> <span data-ttu-id="69ed5-372">Скрипты отладки отлично форматируются, просты для чтения и имеют несколько вызовов sys. Debug. Assert, в то время как в сценариях выпуска удаляются пробелы, а класс sys. debug можно сократить, чтобы уменьшить их общий размер.</span><span class="sxs-lookup"><span data-stu-id="69ed5-372">The debug scripts are nicely formatted, easy to read and have several Sys.Debug.assert calls scattered throughout them while the release scripts have whitespace stripped out and use the Sys.Debug class sparingly to minimize their overall size.</span></span>

<span data-ttu-id="69ed5-373">Элемент управления ScriptManager, добавленный в ASP.NET AJAX Pages, считывает атрибут Debug элемента compilation в файле Web. config, чтобы определить, какие версии скриптов библиотеки нужно загрузить.</span><span class="sxs-lookup"><span data-stu-id="69ed5-373">The ScriptManager control added to ASP.NET AJAX pages reads the compilation element's debug attribute in web.config to determine which versions of library scripts to load.</span></span> <span data-ttu-id="69ed5-374">Однако можно управлять загрузкой скриптов отладки или выпуска (скрипты библиотеки или собственные пользовательские скрипты), изменяя свойство Скриптмоде.</span><span class="sxs-lookup"><span data-stu-id="69ed5-374">However, you can control if debug or release scripts are loaded (library scripts or your own custom scripts) by changing the ScriptMode property.</span></span> <span data-ttu-id="69ed5-375">Скриптмоде принимает перечисление Скриптмоде, члены которого включают Auto, отладка, выпуск и наследование.</span><span class="sxs-lookup"><span data-stu-id="69ed5-375">ScriptMode accepts a ScriptMode enumeration whose members include Auto, Debug, Release and Inherit.</span></span>

<span data-ttu-id="69ed5-376">Скриптмоде по умолчанию имеет значение Auto, что означает, что ScriptManager будет проверять атрибут Debug в файле Web. config. Если debug имеет значение false, ScriptManager загрузит окончательную версию скриптов библиотеки ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="69ed5-376">ScriptMode defaults to a value of Auto which means that the ScriptManager will check the debug attribute in web.config. When debug is false the ScriptManager will load the release version of ASP.NET AJAX library scripts.</span></span> <span data-ttu-id="69ed5-377">Если debug имеет значение true, будет загружена отладочная версия скриптов.</span><span class="sxs-lookup"><span data-stu-id="69ed5-377">When debug is true the debug version of the scripts will be loaded.</span></span> <span data-ttu-id="69ed5-378">Изменение свойства Скриптмоде на Release или Debug приведет к принудительной загрузке диспетчером ScriptManager соответствующих скриптов независимо от значения атрибута Debug в файле Web. config. В листинге 8 показан пример использования элемента управления ScriptManager для загрузки скриптов отладки из библиотеки ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="69ed5-378">Changing the ScriptMode property to Release or Debug will force the ScriptManager to load the appropriate scripts regardless of what value the debug attribute has in web.config. Listing 8 shows an example of using the ScriptManager control to load debug scripts from the ASP.NET AJAX library.</span></span>

<span data-ttu-id="69ed5-379">**Листинг 8. Загрузка скриптов отладки с помощью ScriptManager**.</span><span class="sxs-lookup"><span data-stu-id="69ed5-379">**Listing 8. Loading debug scripts using the ScriptManager**.</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample11.aspx)]

<span data-ttu-id="69ed5-380">Можно также загрузить различные версии (Отладка или выпуск) собственных пользовательских скриптов с помощью свойства сценариев ScriptManager вместе с компонентом ScriptReference, как показано в листинге 9.</span><span class="sxs-lookup"><span data-stu-id="69ed5-380">You can also load different versions (debug or release) of your own custom scripts by using the ScriptManager's Scripts property along with the ScriptReference component as shown in Listing 9.</span></span>

<span data-ttu-id="69ed5-381">**Листинг 9. Загрузка пользовательских скриптов с помощью ScriptManager.**</span><span class="sxs-lookup"><span data-stu-id="69ed5-381">**Listing 9. Loading custom scripts using the ScriptManager.**</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample12.aspx)]

> [!NOTE]
> <span data-ttu-id="69ed5-382">Если вы загружаете пользовательские скрипты с помощью компонента ScriptReference, необходимо уведомить ScriptManager о завершении загрузки сценария, добавив следующий код в нижнюю часть скрипта:</span><span class="sxs-lookup"><span data-stu-id="69ed5-382">If you're loading custom scripts using the ScriptReference component you must notify the ScriptManager when the script has finished loading by adding the following code at the bottom of the script:</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample13.cs)]

<span data-ttu-id="69ed5-383">Код, приведенный в листинге 9, указывает диспетчеру ScriptManager найти отладочную версию сценария Person, чтобы он автоматически выполнял поиск пользователя. Debug. js вместо Person. js.</span><span class="sxs-lookup"><span data-stu-id="69ed5-383">The code shown in Listing 9 tells the ScriptManager to look for a debug version of the Person script so it will automatically look for Person.debug.js instead of Person.js.</span></span> <span data-ttu-id="69ed5-384">Если файл Person. Debug. js не найден, возникнет ошибка.</span><span class="sxs-lookup"><span data-stu-id="69ed5-384">If the Person.debug.js file is not found an error will be raised.</span></span>

<span data-ttu-id="69ed5-385">В случаях, когда требуется загрузить отладочную или окончательную версию пользовательского скрипта на основе значения свойства Скриптмоде, заданного для элемента управления ScriptManager, можно задать для свойства Скриптмоде элемента управления ScriptReference значение Inherit.</span><span class="sxs-lookup"><span data-stu-id="69ed5-385">In cases where you want a debug or release version of a custom script to be loaded based upon the value of the ScriptMode property set on the ScriptManager control, you can set the ScriptReference control's ScriptMode property to Inherit.</span></span> <span data-ttu-id="69ed5-386">Это приведет к тому, что правильная версия пользовательского скрипта будет загружена на основе свойства Скриптмоде ScriptManager, как показано в листинге 10.</span><span class="sxs-lookup"><span data-stu-id="69ed5-386">This will cause the proper version of the custom script to be loaded based upon the ScriptManager's ScriptMode property as shown in Listing 10.</span></span> <span data-ttu-id="69ed5-387">Так как свойство Скриптмоде элемента управления ScriptManager имеет значение Debug, скрипт Person. Debug. js будет загружен и использован на странице.</span><span class="sxs-lookup"><span data-stu-id="69ed5-387">Because the ScriptMode property of the ScriptManager control is set to Debug, the Person.debug.js script will be loaded and used in the page.</span></span>

<span data-ttu-id="69ed5-388">**Список 10. Наследование Скриптмоде от ScriptManager для пользовательских скриптов.**</span><span class="sxs-lookup"><span data-stu-id="69ed5-388">**Listing 10. Inheriting the ScriptMode from the ScriptManager for custom scripts.**</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample14.aspx)]

<span data-ttu-id="69ed5-389">Используя свойство Скриптмоде, можно легко отлаживать приложения и упростить общий процесс.</span><span class="sxs-lookup"><span data-stu-id="69ed5-389">By using the ScriptMode property appropriately you can more easily debug applications and simplify the overall process.</span></span> <span data-ttu-id="69ed5-390">Сценарии выпуска библиотеки ASP.NET AJAX, скорее всего, не сложны для пошагового выполнения и чтения, так как форматирование кода было удалено, а отладочные скрипты отформатированы специально для целей отладки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-390">The ASP.NET AJAX library's release scripts are rather difficult to step through and read since code formatting has been removed while the debug scripts are formatted specifically for debugging purposes.</span></span>

## <a name="conclusion"></a><span data-ttu-id="69ed5-391">Заключение</span><span class="sxs-lookup"><span data-stu-id="69ed5-391">Conclusion</span></span>

<span data-ttu-id="69ed5-392">Технология Microsoft ASP.NET AJAX обеспечивает надежную основу для создания приложений с поддержкой AJAX, которые могут улучшить общий опыт конечного пользователя.</span><span class="sxs-lookup"><span data-stu-id="69ed5-392">Microsoft's ASP.NET AJAX technology provides a solid foundation for building AJAX-enabled applications that can enhance the end user's overall experience.</span></span> <span data-ttu-id="69ed5-393">Однако, как и в случае любой технологии программирования, ошибки и другие проблемы с приложениями, безусловно, будут возникать.</span><span class="sxs-lookup"><span data-stu-id="69ed5-393">However, as with any programming technology, bugs and other application issues will certainly arise.</span></span> <span data-ttu-id="69ed5-394">Знание различных доступных вариантов отладки может сэкономить много времени и привести к более стабильному продукту.</span><span class="sxs-lookup"><span data-stu-id="69ed5-394">Knowing about the different debugging options available can save a lot of time and result in a more stable product.</span></span>

<span data-ttu-id="69ed5-395">В этой статье мы предоставили несколько различных методов для отладки страниц ASP.NET AJAX, включая Internet Explorer с Visual Studio 2008, вспомогательным приложением веб-разработки и Firebug.</span><span class="sxs-lookup"><span data-stu-id="69ed5-395">In this article you've been introduced to several different techniques for debugging ASP.NET AJAX pages including Internet Explorer with Visual Studio 2008, Web Development Helper and Firebug.</span></span> <span data-ttu-id="69ed5-396">Эти средства могут упростить общий процесс отладки, так как можно получить доступ к переменным данным, пошаговое выполнение кода по строкам и Просмотр инструкций трассировки.</span><span class="sxs-lookup"><span data-stu-id="69ed5-396">These tools can simplify the overall debugging process since you can access variable data, walk through code line by line and view trace statements.</span></span> <span data-ttu-id="69ed5-397">Помимо различных обсуждаемых средств отладки, вы также узнали, как класс sys. Debug библиотеки ASP.NET AJAX можно использовать в приложении и как класс ScriptManager можно использовать для загрузки отладочных и окончательных версий скриптов.</span><span class="sxs-lookup"><span data-stu-id="69ed5-397">In addition to the different debugging tools discussed, you also saw how the ASP.NET AJAX library's Sys.Debug class can be used in an application and how the ScriptManager class can be used to load debug or release versions of scripts.</span></span>

## <a name="bio"></a><span data-ttu-id="69ed5-398">Биография</span><span class="sxs-lookup"><span data-stu-id="69ed5-398">Bio</span></span>

<span data-ttu-id="69ed5-399">"Вахлин" (самый ценный специалист корпорации Майкрософт для ASP.NET и веб-служб XML) — это консультант по разработке и архитектуре разработки .NET в техническом обучении интерфейса ([www.interfacett.com)](http://www.interfacett.com).</span><span class="sxs-lookup"><span data-stu-id="69ed5-399">Dan Wahlin (Microsoft Most Valuable Professional for ASP.NET and XML Web Services) is a .NET development instructor and architecture consultant at Interface Technical Training ([www.interfacett.com)](http://www.interfacett.com).</span></span> <span data-ttu-id="69ed5-400">Г., посвященный веб-узлу разработчиков XML для ASP.NET ([www.XMLforASP.NET](http://www.XMLforASP.NET)), находится в бюро докладчика INETA и говорит на нескольких конференциях.</span><span class="sxs-lookup"><span data-stu-id="69ed5-400">Dan founded the XML for ASP.NET Developers Web site ([www.XMLforASP.NET](http://www.XMLforASP.NET)), is on the INETA Speaker's Bureau and speaks at several conferences.</span></span> <span data-ttu-id="69ed5-401">Г. профессионально разработанная профессиональная Windows ДНК (Wrox), ASP.NET: советы, учебники и код (Sams), решения для предварительной оценки ASP.NET 1,1, профессиональная ASP.NET 2,0 AJAX (Wrox), ASP.NET 2,0 MVP и авторский XML для ASP.NET разработчиков (Sams).</span><span class="sxs-lookup"><span data-stu-id="69ed5-401">Dan co-authored Professional Windows DNA (Wrox), ASP.NET: Tips, Tutorials and Code (Sams), ASP.NET 1.1 Insider Solutions, Professional ASP.NET 2.0 AJAX (Wrox), ASP.NET 2.0 MVP Hacks and authored XML for ASP.NET Developers (Sams).</span></span> <span data-ttu-id="69ed5-402">Когда он не пишет код, статьи или книги, самое время пишет и записывает музыку и воспроизводила гольф и баскетбол с его женойами и детьми.</span><span class="sxs-lookup"><span data-stu-id="69ed5-402">When he's not writing code, articles or books, Dan enjoys writing and recording music and playing golf and basketball with his wife and kids.</span></span>

<span data-ttu-id="69ed5-403">Скотт Cate работал с веб-технологиями Майкрософт с 1997 и является президентом myKB.com ([www.myKB.com](http://www.myKB.com)), где он специализируется на написании приложений ASP.NET на базе знаний, посвященных программным решениям.</span><span class="sxs-lookup"><span data-stu-id="69ed5-403">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="69ed5-404">Скотт может связаться по электронной почте по адресу [scott.cate@myKB.com](mailto:scott.cate@myKB.com) или в блоге по адресу [ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="69ed5-404">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="69ed5-405">Назад</span><span class="sxs-lookup"><span data-stu-id="69ed5-405">Previous</span></span>](understanding-asp-net-ajax-web-services.md)
