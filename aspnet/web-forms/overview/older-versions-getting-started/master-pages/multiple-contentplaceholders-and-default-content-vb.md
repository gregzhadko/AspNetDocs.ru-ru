---
uid: web-forms/overview/older-versions-getting-started/master-pages/multiple-contentplaceholders-and-default-content-vb
title: Несколько элементов управления ContentPlaceHolder и содержимое по умолчанию (Visual Basic) | Документация Майкрософт
author: rick-anderson
description: Проверяет, как добавить несколько содержимого заполнители на главную страницу, а также как указать содержимое по умолчанию содержимого заполнители.
ms.author: riande
ms.date: 05/21/2008
ms.assetid: 866a7177-6884-451e-88f4-c934b1dd1af5
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/multiple-contentplaceholders-and-default-content-vb
msc.type: authoredcontent
ms.openlocfilehash: 18e2dfdf5cf3d5802bf94d797795fc0f12bdc95b
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57040231"
---
<a name="multiple-contentplaceholders-and-default-content-vb"></a>Несколько элементов управления ContentPlaceHolder и содержимое по умолчанию (VB)
====================
по [Скотт Митчелл](https://twitter.com/ScottOnWriting)

[Скачать код](http://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_02_VB.zip) или [скачать PDF](http://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_02_VB.pdf)

> Проверяет, как добавить несколько содержимого заполнители на главную страницу, а также как указать содержимое по умолчанию содержимого заполнители.


## <a name="introduction"></a>Вступление

В предыдущем учебном курсе было рассмотрено, как master pages enable разработчиков ASP.NET для создания согласованного макета всего веб-узла. Главные страницы определения разметки, общие для всех его страниц и области, которые можно настраивать на основе страницу по. В предыдущем учебном курсе мы создали простую главную страницу (`Site.master`) и двух страниц с контентом (`Default.aspx` и `About.aspx`). Нас на главной странице состоял из двух элементов управления ContentPlaceHolder с именем `head` и `MainContent`, которая расположена в `<head>` элемент и веб-формы, соответственно. Во время страницы содержимого каждого элемента управления содержимым, мы указали только разметку для из которых соответствует одному `MainContent`.

О чем свидетельствуют двух элементов управления ContentPlaceHolder в `Site.master`, Главная страница может содержать несколько элементов управления ContentPlaceHolder. Более того Главная страница может указать разметки по умолчанию для элементов управления ContentPlaceHolder. Страницы содержимого, а затем, можно при необходимости указать собственную разметку или использовать разметки по умолчанию. В этом руководстве мы рассмотрим использование нескольких содержимого элементов управления на главной странице и как определить разметки по умолчанию в элементах управления ContentPlaceHolder.

## <a name="step-1-adding-additional-contentplaceholder-controls-to-the-master-page"></a>Шаг 1. Добавление элементов управления ContentPlaceHolder дополнительных главной страницы

Многие модели веб-сайт содержит несколько областей на экране, которые настраиваются на основе страницу по. `Site.master`, мы создали в предыдущем учебном курсе, Главная страница содержит один ContentPlaceHolder в веб-форму с именем `MainContent`. В частности, этот ContentPlaceHolder находится в пределах `mainContent` `<div>` элемент.

Рис. 1 показаны `Default.aspx` при просмотре через браузер. Область, помеченные красными кружками представляет разметку страницы, соответствующий `MainContent`.


[![Область кружке показана область в настоящее время настраиваемые по принципу страниц](multiple-contentplaceholders-and-default-content-vb/_static/image2.png)](multiple-contentplaceholders-and-default-content-vb/_static/image1.png)

**Рис 01**: Области в круге показывает область сейчас настраиваемое по принципу страниц ([Просмотр полноразмерного изображения](multiple-contentplaceholders-and-default-content-vb/_static/image3.png))


Представьте, что в дополнение к области, показанный на рис. 1, также необходимо добавить элементы страниц в левый столбец под выводы и новости разделах. Для этого мы добавим другой элемент управления ContentPlaceHolder на главной странице. Для выполнения этой процедуры откройте `Site.master` главную страницу в Visual Web Developer, а затем перетащите элемент управления ContentPlaceHolder из инструментария в конструктор, после раздела новостей. Значение элемента ContentPlaceHolder `ID` для `LeftColumnContent`.


[![Добавление элемента управления ContentPlaceHolder на главной странице левый столбец](multiple-contentplaceholders-and-default-content-vb/_static/image5.png)](multiple-contentplaceholders-and-default-content-vb/_static/image4.png)

**Рис. 02**: Добавление элемента управления ContentPlaceHolder на главной странице столбец слева ([Просмотр полноразмерного изображения](multiple-contentplaceholders-and-default-content-vb/_static/image6.png))


С появлением `LeftColumnContent` ContentPlaceHolder на главной странице, можно определить содержимое для этой области на основе страниц, включив содержимое элемент управления на странице `ContentPlaceHolderID` присваивается `LeftColumnContent`. Мы рассмотрим этот процесс на шаге 2.

## <a name="step-2-defining-content-for-the-new-contentplaceholder-in-the-content-pages"></a>Шаг 2. Определение содержимого для нового элемента ContentPlaceHolder на страницах содержимого

При добавлении новой страницы содержимого на веб-сайт, Visual Web Developer автоматически создает содержимое элемента управления на странице для каждого элемента ContentPlaceHolder на главной странице выбранного. Мы добавили `LeftColumnContent` ContentPlaceHolder для нас на главной странице на шаге 1, теперь новый будет страниц ASP.NET имеют три содержимого элемента управления.

Чтобы проиллюстрировать это, добавьте новую страницу содержимого в корневой каталог с именем `MultipleContentPlaceHolders.aspx` , привязанный к `Site.master` главной страницы. Visual Web Developer создает эту страницу с помощью следующей декларативной разметке:

[!code-aspx[Main](multiple-contentplaceholders-and-default-content-vb/samples/sample1.aspx)]

Введите некоторое содержимое в элемент управления содержимым, ссылающиеся на `MainContent` элементов управления ContentPlaceHolder (`Content2`). Добавьте следующую разметку, чтобы `Content3` содержимого элемента управления (который ссылается на `LeftColumnContent` ContentPlaceHolder):

[!code-html[Main](multiple-contentplaceholders-and-default-content-vb/samples/sample2.html)]

Когда вы добавите эту разметку, посетите страницу через обозреватель. Как показано на рис. 3, разметка помещаются в `Content3` содержимого элемента управления отображается в столбце слева под разделом новостей (обведена красным). Разметка помещаются в `Content2` отображается в правой части страницы (обведенный синим цветом).


[![Левый столбец теперь включает в себя содержимое конкретной страницы под разделом новости](multiple-contentplaceholders-and-default-content-vb/_static/image8.png)](multiple-contentplaceholders-and-default-content-vb/_static/image7.png)

**Рис 03**: Слева столбец теперь включает в себя отдельных страниц содержимого под раздела новостей ([Просмотр полноразмерного изображения](multiple-contentplaceholders-and-default-content-vb/_static/image9.png))


### <a name="defining-content-in-existing-content-pages"></a>Определение содержимого в существующих страниц содержимого

Создание новой страницы содержимого автоматически включает в себя элемент управления ContentPlaceHolder, который мы добавили на шаге 1. Но два существующих страниц содержимого - `About.aspx` и `Default.aspx` -нет элемента управления содержимым для `LeftColumnContent` ContentPlaceHolder. Чтобы указать содержимое для этого элемента ContentPlaceHolder в этих двух существующих страниц, необходимо добавить элемент управления содержимым, сами.

В отличие от большинства элементов управления ASP.NET Web инструментов Visual Web Developer не включает элемент управления содержимым. Можно вручную ввести декларативная разметка элемента управления содержимым в представлении источника, но проще и быстрее подходом является использование в режим конструктора. Откройте `About.aspx` странице и переключитесь в режим конструктора. Как показано на рис. 4, `LeftColumnContent` ContentPlaceHolder отображается в режиме конструктора; при наведении указателя мыши над ней, считывает заголовок, отображаемый: «LeftColumnContent (Master).» Включение «Master» в названии указывает на наличие нет элемента управления содержимым, определенных на странице для этого элемента ContentPlaceHolder. Если существует элемент управления содержимым для элемента ContentPlaceHolder, как и в случае с `MainContent`, будет считывать заголовка: "*ContentPlaceHolderID* (настраиваемая).»

Чтобы добавить элемент управления содержимым для `LeftColumnContent` ContentPlaceHolder для `About.aspx`разверните ContentPlaceHolder смарт-тег и щелкните ссылку, создание пользовательского содержимого.


[![Режим конструктора для About.aspx показывает LeftColumnContent ContentPlaceHolder](multiple-contentplaceholders-and-default-content-vb/_static/image11.png)](multiple-contentplaceholders-and-default-content-vb/_static/image10.png)

**Рис. 04**: Режим конструктора для `About.aspx` показывает `LeftColumnContent` ContentPlaceHolder ([Просмотр полноразмерного изображения](multiple-contentplaceholders-and-default-content-vb/_static/image12.png))


Щелкнув ссылку Создать настраиваемый содержимое создает необходимые содержимого элемента управления в страницу и задает его `ContentPlaceHolderID` свойства ContentPlaceHolder `ID`. Например, щелкнув ссылку создания пользовательского содержимого для `LeftColumnContent` регион в `About.aspx` добавляет следующей декларативной разметке страницы:

[!code-aspx[Main](multiple-contentplaceholders-and-default-content-vb/samples/sample3.aspx)]

### <a name="omitting-content-controls"></a>Пропуск элементов управления содержимым

ASP.NET не требуется включение элементов управления содержимым для всех страниц содержимого для каждого элемента ContentPlaceHolder, определенные на главной странице. Если элемент управления содержимым указан, модуль ASP.NET использует разметки, определенные в ContentPlaceHolder на главной странице. Эта разметка называется ContentPlaceHolder *по умолчанию содержимое* и удобен в сценариях, где содержимое для некоторых области являются общими для большинства страниц, но необходимо выполнить настройку для небольшого числа страниц. Шаг 3 исследует указав содержимое по умолчанию на главной странице.

В настоящее время `Default.aspx` содержит два элемента управления содержимым для `head` и `MainContent` элементов управления ContentPlaceHolder; не включает элемент управления содержимым для `LeftColumnContent`. Следовательно, если `Default.aspx` отображается `LeftColumnContent` используется по умолчанию содержимое элемента ContentPlaceHolder. Поскольку у нас есть еще для определения содержимого по умолчанию для этого элемента ContentPlaceHolder, в итоге получается, что разметка не создается для этого региона. Чтобы проверить это, посетите `Default.aspx` через браузер. Как показано на рис. 5, разметка не создается в столбце слева под разделом новостей.


[![Содержимое не отображается для LeftColumnContent ContentPlaceHolder](multiple-contentplaceholders-and-default-content-vb/_static/image14.png)](multiple-contentplaceholders-and-default-content-vb/_static/image13.png)

**05 рис**: Содержимое не отображается для `LeftColumnContent` ContentPlaceHolder ([Просмотр полноразмерного изображения](multiple-contentplaceholders-and-default-content-vb/_static/image15.png))


## <a name="step-3-specifying-default-content-in-the-master-page"></a>Шаг 3. Указание по умолчанию содержимое главной странице

Некоторые веб-сайт макеты включать область, содержимое которого является одинаковым для всех страниц узла, за исключением одного или двух исключений. Рассмотрим веб-сайт, который поддерживает учетные записи пользователей. Такой узел требуется страницу входа, где посетители можно ввести свои учетные данные для входа на сайт. Чтобы ускорить процесс входа, дизайнерам веб-сайтов может включать текстовые поля имени пользователя и пароля в левом верхнем углу каждой страницы, чтобы разрешить пользователям выполнять вход без необходимости явно см. на странице входа. Хотя эти текстовые поля имени пользователя и пароль могут быть полезны в большинство страниц, они избыточны на странице входа, который уже содержит текстовые поля для учетных данных пользователя.

Чтобы реализовать такой подход, можно создать элемент управления ContentPlaceHolder в верхнем левом углу главной страницы. Каждой странице, необходимые для отображения текстовых полях имя пользователя и пароль в верхнем левом углу будет создание элемента управления содержимым для этого элемента ContentPlaceHolder и добавить интерфейс необходимые. На страницу входа, с другой стороны, либо будет пропущен, добавление элемента управления содержимым для этого элемента ContentPlaceHolder, или создать содержимое элемента управления с разметка не определен. Недостатком этого подхода является, у нас не забудьте добавить имя пользователя и пароль текстовых полей на каждой странице, которую мы добавим к сайту (за исключением страница входа). Это поиском неприятностей. Мы скорее всего, забыли добавить эти текстовые поля на страницу или два, или, что еще хуже, мы может не реализовывать интерфейс правильно (возможно, добавив только одно текстовое поле вместо двух).

Лучшим решением является определение текстовых полях имя пользователя и пароль как ContentPlaceHolder содержимое по умолчанию. Таким образом, нам требуется только переопределить это значение по умолчанию содержимое этих несколько страниц, которые не видны в текстовых полях имя пользователя и пароль (страницы входа, например). Чтобы проиллюстрировать указав содержимое по умолчанию для элемента управления ContentPlaceHolder, давайте реализуем сценарий, который только что обсудили.

> [!NOTE]
> Оставшейся части этого руководства обновляет наш веб-сайт, чтобы включить интерфейс входа в левом столбце для всех страниц, но на страницу входа. Тем не менее этот учебник не проверяет способы настройки веб-сайт для поддержки учетных записей пользователей. Дополнительные сведения по этой теме см. Мой [форм проверки подлинности, авторизации, учетные записи пользователей и ролей](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md) учебники.


### <a name="adding-a-contentplaceholder-and-specifying-its-default-content"></a>Добавление ContentPlaceHolder и указав содержимое по умолчанию

Откройте `Site.master` главную страницу и добавьте следующую разметку в левый столбец между `DateDisplay` метки, а также уроки раздел:

[!code-aspx[Main](multiple-contentplaceholders-and-default-content-vb/samples/sample4.aspx)]

После добавления этой разметки главной страницы конструктора будет выглядеть на рис. 6.


[![На главной странице включает элемент управления Login](multiple-contentplaceholders-and-default-content-vb/_static/image17.png)](multiple-contentplaceholders-and-default-content-vb/_static/image16.png)

**Рис 06**: На главной странице включает элемент управления Login ([Просмотр полноразмерного изображения](multiple-contentplaceholders-and-default-content-vb/_static/image18.png))


Этот ContentPlaceHolder `QuickLoginUI`, имеет имя входа веб-элемент управления как содержимое по умолчанию. Элемент управления Login отображает пользовательский интерфейс, который предлагает пользователю ввести имя пользователя и пароль, вместе с кнопку входа. После нажатия кнопки «вход», элемент управления Login, внутренне, проверяет учетные данные пользователя с API членства. Чтобы использовать этот элемент управления Login на практике, затем необходимо настроить сайт для использования членства. В этом разделе выходит за рамки данного руководства; см. Мой [форм проверки подлинности, авторизации, учетные записи пользователей и ролей](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md) учебники, Дополнительные сведения о веб-приложений, которая поддерживает учетные записи пользователей.

Вы можете настроить поведение или внешний вид элемента управления Login. Я установил два его свойства: `TitleText` и `FailureAction`. `TitleText` Значение свойства, значение по умолчанию — «Вход», отображается в верхней части элемента управления пользовательского интерфейса. Я установил это свойство, таким образом, как отображается текст «Вход» `<h3>` элемент. `FailureAction` Свойство указывает, что делать, если учетные данные пользователя являются недопустимыми. По умолчанию используется значение `Refresh`, которое оставляет пользователю на одной странице и выводит сообщение об ошибке в элементе управления Login. Я изменил его, чтобы `RedirectToLoginPage`, которая направляет пользователя на страницу входа в случае недопустимых учетных данных. Я хочу отправлять пользователя на страницу входа, когда пользователь пытается войти в систему из другую страницу, но дает сбой, так как на страницу входа могут содержать дополнительные инструкции и параметры, которые легко не может поместиться в левом столбце. Например страницы входа может включать параметры для извлечения забытого пароля или для создания новой учетной записи.

### <a name="creating-the-login-page-and-overriding-the-default-content"></a>Создание страницы входа и переопределение содержимое по умолчанию

С помощью создания главных страниц следующим этапом является создание страницы входа. Добавьте страницы ASP.NET веб сайта корневой каталог с именем `Login.aspx`, привязав его к `Site.master` главной страницы. Это создаст страницу с четырьмя элементами управления содержимым, один для каждого из элементов управления ContentPlaceHolder определен в `Site.master`.

Добавьте элемент управления Login для `MainContent` содержимого элемента управления. Аналогичным образом, вы можете добавить любое содержимое, `LeftColumnContent` регион. Тем не менее, не забудьте оставить для содержимого элемента управления для `QuickLoginUI` ContentPlaceHolder пустым. Это гарантирует, что имя входа, управления не отображается в левом столбце страницы входа.

После определения содержимого для `MainContent` и `LeftColumnContent` регионов, страница входа должна выглядеть следующим образом:

[!code-aspx[Main](multiple-contentplaceholders-and-default-content-vb/samples/sample5.aspx)]

Рис. 7 показана эта страница при просмотре через браузер. Так как эта страница задает элемент управления содержимым для `QuickLoginUI` ContentPlaceHolder, он переопределяет содержимое по умолчанию, указанное на главной странице. В итоге получается, отображение элемента управления Login в конструирования главной страницы представления (см. рис. 6) не отображается на этой странице.


[![На страницу входа Represses QuickLoginUI ContentPlaceHolder содержимое по умолчанию](multiple-contentplaceholders-and-default-content-vb/_static/image20.png)](multiple-contentplaceholders-and-default-content-vb/_static/image19.png)

**07 рис**: Страница входа в систему, Represses `QuickLoginUI` содержимого по умолчанию элемента ContentPlaceHolder ([Просмотр полноразмерного изображения](multiple-contentplaceholders-and-default-content-vb/_static/image21.png))


### <a name="using-the-default-content-in-new-pages"></a>С использованием содержимого, по умолчанию в новых страниц

Мы хотим Показать элемент управления Login в левом столбце для всех страниц, за исключением на страницу входа. Чтобы добиться этого, все страницы содержимого за исключением страницы входа следует пропустить элемент управления содержимым для `QuickLoginUI` ContentPlaceHolder. Опуская элемента управления содержимым, содержимое элемента ContentPlaceHolder по умолчанию будет использоваться вместо этого.

Наши существующие страницы содержимого - `Default.aspx`, `About.aspx`, и `MultipleContentPlaceHolders.aspx` -не используйте элемент управления содержимым для `QuickLoginUI` так, как они были созданы, прежде чем мы добавили этот элемент управления ContentPlaceHolder на главной странице. Таким образом эти существующие страницы не обязательно должны быть обновлены. Однако новые страницы, добавляемыми на сайт включает элемент управления содержимым для `QuickLoginUI` ContentPlaceHolder, по умолчанию. Таким образом, нам нужно помнить о необходимости удалить эти элементы управления содержимым каждый раз, мы добавим новую страницу содержимого (если мы хотим переопределить ContentPlaceHolder содержимое по умолчанию, как в случае страницы входа).

Чтобы удалить элемент управления содержимым, можно вручную удалить его декларативная разметка из представления источников или, в режиме конструктора, выберите значение по умолчанию к ссылке на содержимое главной смарт-теге. Любой из этих подходов удаляет элемент управления содержимым из страницы и выдает же net эффект.

На рисунке 8 показана `Default.aspx` при просмотре через браузер. Помните, что `Default.aspx` имеет только два содержимого элемента управления, указанный в его декларативной разметке - один для `head` и один для `MainContent`. В результате, по умолчанию для содержимого `LeftColumnContent` и `QuickLoginUI` отображения элементов управления ContentPlaceHolder.


[![По умолчанию содержимое для LeftColumnContent и элементов управления ContentPlaceHolder QuickLoginUI отображаются](multiple-contentplaceholders-and-default-content-vb/_static/image23.png)](multiple-contentplaceholders-and-default-content-vb/_static/image22.png)

**Рис 08**: По умолчанию содержимое для `LeftColumnContent` и `QuickLoginUI` отображения элементов управления ContentPlaceHolder ([Просмотр полноразмерного изображения](multiple-contentplaceholders-and-default-content-vb/_static/image24.png))


## <a name="summary"></a>Сводка

Модель главной страницы ASP.NET позволяет произвольное число элементов управления ContentPlaceHolder на главной странице. Что такое дополнительные, элементов управления ContentPlaceHolder включают содержимое по умолчанию, которое выдается в случае отсутствия нет соответствующего содержимого элемента управления на странице содержимого. В этом руководстве мы узнали, как включать дополнительные элементы управления ContentPlaceHolder на главной странице и определение элементов управления содержимым для этих новых элементов управления ContentPlaceHolder на новых и существующих страницах ASP.NET. Мы также рассмотрели задание значения по умолчанию содержимого в ContentPlaceHolder, что полезно в сценариях, где только меньшинства страниц нужно настроить, в противном случае стандартизированный содержимое в определенном регионе.

В следующем учебном курсе мы изучим `head` ContentPlaceHolder более подробно, отображаются как декларативно и программно определить заголовок, метатегов и других заголовков HTML на основе страниц.

Счастливого вам программирования!

### <a name="about-the-author"></a>Об авторе

[Скотт Митчелл](http://www.4guysfromrolla.com/ScottMitchell.shtml), автор из нескольких книг по ASP/ASP.NET и основатель веб-узла 4GuysFromRolla.com, работает с веб-технологиями Microsoft с 1998 года. Скотт — независимый консультант, преподаватель и автор. Его последняя книга — [ *Sams Teach самостоятельно ASP.NET 3.5 за 24 часа*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco). Скоттом можно связаться по адресу [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com) или через его блог по адресу [ http://ScottOnWriting.NET ](http://scottonwriting.net/).

### <a name="special-thanks-to"></a>Особая благодарность

В этой серии руководств пособий рецензировалась многими компетентными редакторами. Основной рецензент этого учебного был Банерджи Suchi. Хотите поработать с моих последующих статей для MSDN? Если Да, напишите мне [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com).

> [!div class="step-by-step"]
> [Назад](creating-a-site-wide-layout-using-master-pages-vb.md)
> [Вперед](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-vb.md)
