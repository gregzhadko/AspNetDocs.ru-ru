---
uid: web-forms/overview/older-versions-getting-started/tailspin-spyworks/tailspin-spyworks-part-4
title: Часть 4. список продуктов | Документация Майкрософт
author: JoeStagner
description: В этой серии руководств подробно описаны все шаги, предпринятые для создания примера приложения Tailspin Spyworks. В части 4 описывается список продуктов с помощью элемента управления "отдача"...
ms.author: riande
ms.date: 07/21/2010
ms.assetid: 4fab47d5-a6ec-4fdc-91f0-651a093a24b9
msc.legacyurl: /web-forms/overview/older-versions-getting-started/tailspin-spyworks/tailspin-spyworks-part-4
msc.type: authoredcontent
ms.openlocfilehash: 7af1b8afa2ecc8df9846f2edd2091b26b93a811c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78457284"
---
# <a name="part-4-listing-products"></a>Часть 4. список продуктов

кем [Джо Stagner)](https://github.com/JoeStagner)

> В Tailspin Spyworks. демонстрируется, как чрезвычайно прост в создании мощных масштабируемых приложений для платформы .NET. Здесь показано, как использовать замечательные новые функции в ASP.NET 4 для создания Интернет-магазина, включая покупку, оформление и администрирование.
> 
> В этой серии руководств подробно описаны все шаги, предпринятые для создания примера приложения Tailspin Spyworks. В части 4 описывается список продуктов с помощью элемента управления GridView.

## <a id="_Toc260221670"></a>Список продуктов с помощью элемента управления GridView

Давайте начнем реализацию страницы Продуктслист. aspx, щелкнув правой кнопкой мыши в нашем решении и выбрав "Добавить" и "новый элемент".

![](tailspin-spyworks-part-4/_static/image1.jpg)

Выберите "веб-форма с использованием главной страницы" и введите имя страницы Продуктслист. aspx.

Нажмите кнопку "Добавить".

![](tailspin-spyworks-part-4/_static/image2.jpg)

Затем выберите папку Styles (стили), в которую помещена страница Site. master, и выберите ее в окне "содержимое папки".

![](tailspin-spyworks-part-4/_static/image3.jpg)

Нажмите кнопку "ОК", чтобы создать страницу.

База данных заполняется данными о продуктах, как показано ниже.

![](tailspin-spyworks-part-4/_static/image4.jpg)

После создания страницы мы снова будем использовать источник данных сущности для доступа к данным этого продукта, но в этом экземпляре нужно выбрать сущности «продукт», чтобы ограничить возвращаемые элементы только теми, которые относятся к выбранной категории.

Для этого мы будем сообщать EntityDataSource автоматически создавать предложение WHERE, и мы будем указывать Вхерепараметер.

Вы помните, что при создании пунктов меню в меню "Категория продукта" Мы динамически создали ссылку, добавив CategoryID в строку запроса для каждой ссылки. Мы будем сообщать источнику данных сущности о необходимости получения параметра WHERE из этого параметра QueryString.

[!code-aspx[Main](tailspin-spyworks-part-4/samples/sample1.aspx)]

Далее мы настроим элемент управления ListView для вывода списка продуктов. Чтобы создать оптимальные возможности для покупок, мы будем сжимать несколько кратких функций в каждом отдельном продукте, который отображается в нашей Листвев.

- Название продукта будет ссылкой на подробное представление продукта.
- Отобразится цена продукта.
- Будет отображен образ продукта, и мы динамически выбираем образ из каталога образов каталога в нашем приложении.
- Мы будем включать ссылку для незамедлительного добавления конкретного продукта в корзину для покупок.

Ниже приведена разметка для нашего экземпляра элемента управления ListView.

[!code-aspx[Main](tailspin-spyworks-part-4/samples/sample2.aspx)]

Мы динамически создаем несколько ссылок для каждого отображаемого продукта.

Кроме того, перед тестированием новой страницы необходимо создать структуру каталогов для образов каталога продуктов следующим образом.

![](tailspin-spyworks-part-4/_static/image1.png)

После получения доступа к нашим образам продукта можно протестировать страницу списка продуктов.

![](tailspin-spyworks-part-4/_static/image5.jpg)

На домашней странице сайта щелкните одну из ссылок списка категорий.

![](tailspin-spyworks-part-4/_static/image6.jpg)

Теперь необходимо реализовать страницу Продуктдетаилс. aspx и функцию Аддтокарт.

Используйте файл-&gt;New, чтобы создать имя страницы Продуктдетаилс. aspx с помощью главной страницы сайта, как это было сделано ранее.

Мы снова будем использовать элемент управления EntityDataSource для доступа к конкретной записи продукта в базе данных, и мы будем использовать элемент управления FormView ASP.NET для вывода данных о продукте следующим образом.

[!code-aspx[Main](tailspin-spyworks-part-4/samples/sample3.aspx)]

Не беспокойтесь, если форматирование выглядит немного весело. Приведенная выше разметка оставляет место в макете для нескольких функций, которые мы будем реализовывать позже.

Корзина для покупок будет представлять более сложную логику в нашем приложении. Чтобы приступить к работе, используйте файл-&gt;New, чтобы создать страницу с именем Мишоппингкарт. aspx.

Обратите внимание, что мы не выбираем имя ShoppingCart. aspx.

Наша база данных содержит таблицу с именем «ShoppingCart». Когда мы создали EDM класс был создан для каждой таблицы в базе данных. Таким образом, EDM создал класс сущностей с именем «ShoppingCart». Мы можем изменить модель, чтобы мы могли использовать это имя для реализации нашей корзины покупок или расширить его для наших нужд, но вместо этого мы будем выбирать имя, которое позволит избежать конфликта.

Также стоит отметить, что мы будем создавать простую корзину для покупок и внедрять логику покупательской корзины с отображением корзины. Мы также можем реализовать нашу корзину для покупок на совершенно отдельном бизнес-уровне.

> [!div class="step-by-step"]
> [Назад](tailspin-spyworks-part-3.md)
> [Вперед](tailspin-spyworks-part-5.md)
