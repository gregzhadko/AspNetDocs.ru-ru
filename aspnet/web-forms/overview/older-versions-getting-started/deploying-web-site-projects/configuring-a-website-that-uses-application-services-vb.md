---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/configuring-a-website-that-uses-application-services-vb
title: Настройка веб-сайта, использующего Службы приложений (VB) | Документация Майкрософт
author: rick-anderson
description: В ASP.NET версии 2,0 появился ряд служб приложений, которые являются частью .NET Framework и служат набором стандартных блочных служб, которые Yo...
ms.author: riande
ms.date: 04/23/2009
ms.assetid: 9c31a42f-d8bb-4c0f-9ccc-597d4f70ac42
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/configuring-a-website-that-uses-application-services-vb
msc.type: authoredcontent
ms.openlocfilehash: 19e7258b558372259c7554a36c6ad73ce572dfa8
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2019
ms.locfileid: "74588692"
---
# <a name="configuring-a-website-that-uses-application-services-vb"></a>Настройка веб-сайта, использующего службы приложений (VB)

по [Скотт Митчелл](https://twitter.com/ScottOnWriting)

[Скачать код](https://download.microsoft.com/download/E/6/F/E6FE3A1F-EE3A-4119-989A-33D1A9F6F6DD/ASPNET_Hosting_Tutorial_09_VB.zip) или [скачать PDF](https://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial09_AppServicesConfig_vb.pdf)

> В ASP.NET версии 2,0 появился ряд служб приложений, которые являются частью .NET Framework и служат набором стандартных блочных служб, которые можно использовать для добавления широких функциональных возможностей в веб-приложение. В этом учебнике рассматривается настройка веб-сайта в рабочей среде для использования служб приложений и устранение распространенных проблем с управлением учетными записями пользователей и ролями в рабочей среде.

## <a name="introduction"></a>Введение

В ASP.NET версии 2,0 появился ряд *служб приложений*, которые являются частью .NET Framework и служат набором стандартных блочных служб, которые можно использовать для добавления широких функциональных возможностей в веб-приложение. В число служб приложений входят:

- **Членство** — API для создания учетных записей пользователей и управления ими.
- **Роли** — API для категоризации пользователей по группам.
- **Profile** — API для хранения пользовательского содержимого, определяемого пользователем.
- **Схема сайта** — API для определения логической структуры сайта в виде иерархии, которую затем можно отобразить с помощью элементов управления навигацией, таких как меню и панели навигации.
- **Персонализация** — API для обслуживания предпочтений настройки, чаще всего используемый с экземплярами [*WebPart*](https://msdn.microsoft.com/library/e0s9t4ck.aspx).
- **Мониторинг работоспособности** — API для мониторинга производительности, безопасности, ошибок и других метрик работоспособности системы для работающего веб-приложения.

API-интерфейсы служб приложений не привязаны к определенной реализации. Вместо этого вы указываете службам приложений на использование определенного *поставщика*, и этот поставщик реализует службу с помощью определенной технологии. Наиболее часто используемые поставщики веб-приложений, размещенных в компании размещения в Интернете, — это поставщики, использующие реализацию базы данных SQL Server. Например, `SqlMembershipProvider` является поставщиком для API членства, который хранит сведения об учетной записи пользователя в базе данных Microsoft SQL Server.

Использование служб приложений и поставщиков SQL Server добавляет некоторые трудности при развертывании приложения. Для начинающих объекты базы данных служб приложений должны быть созданы должным образом как в базах данных разработки, так и в рабочей среде и соответствующим образом инициализированы. Существуют также важные параметры конфигурации, которые необходимо выполнить.

> [!NOTE]
> API-интерфейсы служб приложений разрабатывались с использованием [*модели поставщика*](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx)— шаблона разработки, который позволяет предоставлять сведения о реализации API во время выполнения. .NET Framework поставляется с несколькими поставщиками служб приложений, которые можно использовать, например `SqlMembershipProvider` и `SqlRoleProvider`, которые являются поставщиками интерфейсов API членства и ролей, использующих реализацию SQL Server базы данных. Вы также можете создать и подключить настраиваемый поставщик. На самом деле, веб-приложение "проверки книги" уже содержит настраиваемого поставщика для API схемы узла (`ReviewSiteMapProvider`), который строит карту узла на основе данных в `Genres` и в таблицах `Books` в базе данных.

В этом учебнике объясняется, как расширить веб-приложение "Рецензирование книги" для использования API членства и ролей. Затем выполняется развертывание веб-приложения, которое использует службы приложений с реализацией базы данных SQL Server, и завершается с помощью решения распространенных проблем, связанных с управлением учетными записями пользователей и ролями в рабочей среде.

## <a name="updates-to-the-book-reviews-application"></a>Обновления для приложения "Рецензирование книг"

В течение последних нескольких учебников веб-приложение "Рецензирование книг" было обновлено с статического веб-сайта на динамическое, управляемое данными веб-приложение, дополненное набором страниц администрирования для управления жанрами и проверками. Однако этот раздел администрирования сейчас не защищен — любой пользователь, который знает (или догадать) URL-адрес страницы администрирования, может валтз и создавать, изменять и удалять рецензии на нашем сайте. Распространенным способом защиты определенных частей веб-сайта является реализация учетных записей пользователей, а затем использование правил авторизации URL-адресов для ограничения доступа к определенным пользователям или ролям. В этом руководстве веб-приложение для рецензирования книг, доступное для загрузки, поддерживает учетные записи пользователей и роли. В ней определена одна роль Admin, и только пользователи этой роли могут получить доступ к страницам администрирования.

> [!NOTE]
> Я создал три учетные записи пользователей в веб-приложении рецензий книги: Скотт, Цзисунь и Алиса. Все три пользователя имеют одинаковый пароль: **Password!** Скотт и Цзисунь имеют роль администратора, а Алиса — нет. Страницы, не являющиеся администраторами сайта, по-прежнему доступны анонимным пользователям. То есть вам не нужно выполнять вход для посещения сайта, если вы не хотите администрировать его. в этом случае необходимо войти в систему от имени пользователя в роли администратора.

Главная страница обзоров приложений в книге была обновлена и включает другой пользовательский интерфейс для прошедших проверку подлинности и анонимных пользователей. Если анонимный пользователь посещает сайт, он видит ссылку для входа в правом верхнем углу. Прошедший проверку подлинности пользователь видит сообщение "Добро пожаловать, *username*!" и ссылку для выхода из нее. Кроме того, есть страница входа (`~/Login.aspx`), которая содержит веб-элемент управления Login, предоставляющий пользовательский интерфейс и логику для проверки подлинности посетителя. Создавать новые учетные записи могут только администраторы. (В папке `~/Admin` есть страницы для создания учетных записей пользователей и управления ими.)

### <a name="configuring-the-membership-and-roles-apis"></a>Настройка интерфейсов API членства и ролей

Веб-приложение для рецензирования книг использует интерфейсы API членства и ролей для поддержки учетных записей пользователей и группирования этих пользователей в роли (а именно — роль администратора). Используются классы поставщика `SqlMembershipProvider` и `SqlRoleProvider`, так как необходимо хранить сведения об учетной записи и ролях в базе данных SQL Server.

> [!NOTE]
> Этот учебник не предназначен для подробного изучения при настройке веб-приложения для поддержки интерфейсов API членства и ролей. Подробные сведения об этих API и действиях, которые необходимо предпринять для настройки веб-сайта для их использования, см. в [*руководствах по безопасности веб-сайтов*](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).

Чтобы использовать службы приложений с SQL Server базой данных, необходимо сначала добавить объекты базы данных, используемые этими поставщиками, в базу данных, в которой будут храниться данные учетной записи пользователя и роли. Эти необходимые объекты базы данных включают в себя множество таблиц, представлений и хранимых процедур. Если не указано иное, классы поставщиков `SqlMembershipProvider` и `SqlRoleProvider` используют базу данных SQL Server Express Edition с именем `ASPNETDB`, расположенную в папке Application s `App_Data`. Если такая база данных не существует, она автоматически создается с необходимыми объектами базы данных этими поставщиками во время выполнения.

Возможно, и, как правило, идеально подходят для создания объектов базы данных служб приложений в той же базе данных, где хранятся данные конкретного приложения. .NET Framework поставляется с инструментом с именем `aspnet_regsql.exe`, который устанавливает объекты базы данных в указанной базе данных. Я восиспользовал это средство для добавления этих объектов в базу данных `Reviews.mdf` в папке `App_Data` (база данных разработки). Мы посмотрим, как использовать это средство далее в этом учебнике, когда мы добавим эти объекты в рабочую базу данных.

Если объекты базы данных служб приложений добавляются в базу данных, отличную от `ASPNETDB`, необходимо настроить конфигурации классов поставщиков `SqlMembershipProvider` и `SqlRoleProvider`, чтобы они использовали соответствующую базу данных. Чтобы настроить поставщик членства, добавьте [*элемент&lt;членства&gt;* ](https://msdn.microsoft.com/library/1b9hw62f.aspx) в раздел `<system.web>` в `Web.config`. Используйте [*элемент&lt;roleManager&gt;* ](https://msdn.microsoft.com/library/ms164660.aspx) для настройки поставщика ролей. Следующий фрагмент кода берется из приложения "рецензии" `Web.config` и показывает параметры настройки для интерфейсов API членства и ролей. Обратите внимание, что регистрируется новый поставщик — `ReviewMembership` и `ReviewRole`, которые используют поставщики `SqlMembershipProvider` и `SqlRoleProvider` соответственно.

[!code-xml[Main](configuring-a-website-that-uses-application-services-vb/samples/sample1.xml)]

Элемент `<authentication>` `Web.config` File s также настроен для поддержки проверки подлинности на основе форм.

[!code-xml[Main](configuring-a-website-that-uses-application-services-vb/samples/sample2.xml)]

### <a name="limiting-access-to-the-administration-pages"></a>Ограничение доступа к страницам администрирования

ASP.NET упрощает предоставление или запрет доступа к определенному файлу или папке пользователю или роли с помощью функции *авторизации по URL-адресу* . (Мы вкратце рассмотрели авторизацию по URL-адресу в *основных различиях между IIS и ASP.NET Development Serverным* руководством и увидели, как службы iis и ASP.NET Development Server применяют правила авторизации URL-адресов иначе для статического и динамического содержимого.) Так как мы хотим запретить доступ к папке `~/Admin`, за исключением пользователей в роли администратора, необходимо добавить правила авторизации URL-адресов в эту папку. В частности, правила авторизации URL-адресов должны разрешать пользователям в роли администратора и запрещать всех других пользователей. Это достигается путем добавления файла `Web.config` в папку `~/Admin` со следующим содержимым:

[!code-xml[Main](configuring-a-website-that-uses-application-services-vb/samples/sample3.xml)]

Дополнительные сведения о функции авторизации URL-адресов ASP.NET s и об их использовании для написания правил авторизации для пользователей и ролей см. в руководствах по [*безопасности веб-сайтов*](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md), а также в руководствах по [*авторизации и авторизации*](../../older-versions-security/membership/user-based-authorization-vb.md) на основе [*ролей*](../../older-versions-security/roles/role-based-authorization-vb.md) .

## <a name="deploying-a-web-application-that-uses-application-services"></a>Развертывание веб-приложения, использующего Службы приложений

При развертывании веб-сайта, использующего службы приложений, и поставщика, хранящего сведения о службах приложений в базе данных, необходимо, чтобы объекты базы данных, необходимые для служб приложений, создавались в рабочей базе данных. Изначально Рабочая база данных не содержит этих объектов, поэтому при первом развертывании приложения (или при первом развертывании в первый раз после добавления служб приложений) необходимо выполнить дополнительные действия для получения этих объектов базы данных в Рабочая база данных.

Другая проблема может возникнуть при развертывании веб-сайта, использующего службы приложений, если планируется репликация учетных записей пользователей, созданных в среде разработки, в рабочую среду. В зависимости от конфигурации членства и ролей возможно, что даже если вы успешно скопировали учетные записи пользователей, созданные в среде разработки, в рабочую базу данных, эти пользователи не смогут войти в веб-приложение в рабочем режиме. Мы рассмотрим причину этой проблемы и обсудим, как предотвратить ее возникновение.

ASP.NET поставляется с удобным [*средством администрирования веб-сайтов (WSAT)* ](https://msdn.microsoft.com/library/yy40ytx0.aspx) , которое можно запустить из Visual Studio и позволяет управлять учетной записью пользователя, ролями и правилами авторизации через веб-интерфейс. К сожалению, WSAT работает только для локальных веб-сайтов, т. е. он не может использоваться для удаленного управления учетными записями пользователей, ролями и правилами авторизации для веб-приложения в рабочей среде. Мы рассмотрим различные способы реализации поведения, похожего на WSAT, на рабочем веб-сайте.

### <a name="adding-the-database-objects-using-aspnet_regsqlexe"></a>Добавление объектов базы данных с помощью ASPNET\_регскл. exe

В учебнике *развертывание базы данных* было показано, как скопировать таблицы и данные из базы данных разработки в рабочую базу данных, и эти методы можно использовать для копирования объектов базы данных служб приложений в рабочую базу данных. Другим вариантом является средство `aspnet_regsql.exe`, которое добавляет или удаляет объекты базы данных служб приложений из базы данных.

> [!NOTE]
> Средство `aspnet_regsql.exe` создает объекты базы данных в указанной базе данных. Он не переносит данные из базы данных разработки в рабочую базу данных. Если вы хотите скопировать учетную запись пользователя и сведения о ролях в базу данных разработки в рабочую базу данных, используйте методы, описанные в учебнике *развертывание базы данных* .

Давайте посмотрим, как добавить объекты базы данных в рабочую базу данных с помощью средства `aspnet_regsql.exe`. Начните с открытия проводника Windows и перехода к каталогу .NET Framework версии 2,0 на компьютере% WINDIR% \ Microsoft. NET\Framework\v2.0.50727. Вы должны найти средство `aspnet_regsql.exe`. Это средство можно использовать из командной строки, но оно также включает графический пользовательский интерфейс. Дважды щелкните файл `aspnet_regsql.exe`, чтобы запустить его графический компонент.

Средство запускается, отображая экран-заставку, объясняющий его назначение. Нажмите кнопку Далее, чтобы перейти к экрану "Выбор параметра установки", который показан на рис. 1. Здесь можно добавить объекты базы данных служб приложений или удалить их из базы данных. Так как нам нужно добавить эти объекты в рабочую базу данных, выберите параметр "настроить SQL Server для служб приложений" и нажмите кнопку "Далее".

[![выбрать настройку SQL Server для Службы приложений](configuring-a-website-that-uses-application-services-vb/_static/image2.jpg)](configuring-a-website-that-uses-application-services-vb/_static/image1.jpg)

**Рис. 1**. Настройка SQL Server для службы приложений ([щелкните, чтобы просмотреть изображение с полным размером](configuring-a-website-that-uses-application-services-vb/_static/image3.jpg))

На экране "Выбор сервера и базы данных" запрашиваются сведения для подключения к базе данных. Введите сервер базы данных, учетные данные безопасности и имя базы данных, предоставленное вашей компанией для размещения веб-сайтов, и нажмите кнопку Далее.

> [!NOTE]
> После ввода сервера базы данных и учетных данных может возникнуть ошибка при развертывании раскрывающегося списка База данных. Средство `aspnet_regsql.exe` отправляет запрос к системной таблице `sysdatabases`, чтобы получить список баз данных на сервере, но некоторые компании размещения веб-узлов заблокировали свои серверы баз данных, чтобы эти сведения не были общедоступными. При возникновении этой ошибки можно ввести имя базы данных непосредственно в раскрывающемся списке.

[![предоставить средство с информацией о подключении к базе данных](configuring-a-website-that-uses-application-services-vb/_static/image5.jpg)](configuring-a-website-that-uses-application-services-vb/_static/image4.jpg)

**Рис. 2**. предоставление средства с информацией о соединении с базой данных ([щелкните, чтобы просмотреть изображение с полным размером](configuring-a-website-that-uses-application-services-vb/_static/image6.jpg))

На следующем экране приведены сводные сведения о действиях, которые необходимо выполнить, а именно о том, что объекты базы данных служб приложений будут добавлены в указанную базу данных. Нажмите кнопку Далее, чтобы завершить это действие. Через несколько секунд появится окончательный экран, пометив, что объекты базы данных были добавлены (см. рис. 3).

[![успешно. Службы приложений объекты базы данных были добавлены в рабочую базу данных](configuring-a-website-that-uses-application-services-vb/_static/image8.jpg)](configuring-a-website-that-uses-application-services-vb/_static/image7.jpg)

**Рис. 3**. успешное завершение! Службы приложений объекты базы данных были добавлены в рабочую базу данных ([щелкните, чтобы просмотреть изображение с полным размером](configuring-a-website-that-uses-application-services-vb/_static/image9.jpg)).

Чтобы убедиться, что объекты базы данных служб приложений были успешно добавлены в рабочую базу данных, откройте SQL Server Management Studio и подключитесь к рабочей базе данных. Как показано на рис. 4, теперь в базе данных должны отображаться таблицы базы данных служб приложений, `aspnet_Applications`, `aspnet_Membership`, `aspnet_Users`и т. д.

[![подтвердить, что объекты базы данных были добавлены в рабочую базу данных](configuring-a-website-that-uses-application-services-vb/_static/image11.jpg)](configuring-a-website-that-uses-application-services-vb/_static/image10.jpg)

**Рис. 4**. Убедитесь, что объекты базы данных были добавлены в рабочую базу данных ([щелкните, чтобы просмотреть изображение с полным размером](configuring-a-website-that-uses-application-services-vb/_static/image12.jpg))

Средство `aspnet_regsql.exe` необходимо использовать только при первом развертывании веб-приложения или в первый раз после начала работы со службами приложений. После того как эти объекты базы данных находятся в рабочей базе данных, их не нужно повторно добавлять или изменять.

### <a name="copying-user-accounts-from-development-to-production"></a>Копирование учетных записей пользователей из разработки в рабочую среду

При использовании классов поставщиков `SqlMembershipProvider` и `SqlRoleProvider` для хранения сведений о службах приложений в базе данных SQL Server данные учетной записи пользователя и роли хранятся в различных таблицах базы данных, включая `aspnet_Users`, `aspnet_Membership`, `aspnet_Roles`и `aspnet_UsersInRoles`. Если во время разработки вы создаете учетные записи пользователей в среде разработки, эти учетные записи пользователей можно реплицировать в рабочую среду, скопировав соответствующие записи из соответствующих таблиц базы данных. Если вы использовали мастер публикации баз данных для развертывания объектов базы данных служб приложений, возможно, вы также выбрали копирование записей, что приведет к тому, что учетные записи пользователей, созданные в разработке, также будут находиться в рабочей среде. Но в зависимости от параметров конфигурации может оказаться, что пользователи, учетные записи которых были созданы в процессе разработки и скопированы в рабочую среду, не могут войти с рабочего веб-сайта. Что дает?

Классы поставщиков `SqlMembershipProvider` и `SqlRoleProvider` были спроектированы таким образом, что одна база данных может служить хранилищем пользователей для нескольких приложений, где каждое приложение теоретически может иметь пользователей с перекрывающимися именами пользователей и ролями с тем же именем. Чтобы обеспечить такую гибкость, база данных хранит список приложений в `aspnet_Applications` таблице, и каждый пользователь связан с одним из этих приложений. В частности, таблица `aspnet_Users` содержит столбец `ApplicationId`, связывающий каждого пользователя с записью в `aspnet_Applications` таблице.

В дополнение к столбцу `ApplicationId` `aspnet_Applications` таблица также содержит столбец `ApplicationName`, который предоставляет более удобное для человека имя приложения. Когда веб-сайт пытается работать с учетной записью пользователя, например проверку учетных данных пользователя на странице входа, он должен сообщить классу `SqlMembershipProvider`, с каким приложением работать. Обычно это достигается путем предоставления имени приложения, а это значение берется из конфигурации поставщика s в `Web.config`, особенно через атрибут `applicationName`.

Но что произойдет, если атрибут `applicationName` не указан в `Web.config`? В этом случае система членства использует корневой путь приложения в качестве значения `applicationName`. Если атрибут `applicationName` не задан явно в `Web.config`, то существует вероятность того, что среда разработки и Рабочая среда используют другой корень приложения и, следовательно, будут связаны с разными именами приложений в службах приложений. В случае такого несоответствия эти пользователи, созданные в среде разработки, будут иметь значение `ApplicationId`, не совпадающее со значением `ApplicationId` в рабочей среде. В итоге эти пользователи не смогут войти в систему.

> [!NOTE]
> Если в этой ситуации вы обнаружите, что с учетными записями пользователей, скопированными в рабочую среду с несоответствующим значением `ApplicationId`, можно написать запрос, чтобы обновить неправильные значения `ApplicationId` в `ApplicationId`, используемые в рабочей среде. После обновления пользователи, учетные записи которых были созданы в среде разработки, теперь смогут входить в веб-приложение в рабочей области.

Хорошая новость состоит в том, что существует простой шаг, который можно предпринять, чтобы убедиться, что в обеих средах используется один `ApplicationId` — явно задать атрибут `applicationName` в `Web.config` для всех поставщиков служб приложений. Я явно установил для атрибута `applicationName` значение «Букревиевс» в элементах `<membership>` и `<roleManager>`, как показано в этом фрагменте `Web.config`.

[!code-xml[Main](configuring-a-website-that-uses-application-services-vb/samples/sample4.xml)]

Дополнительные сведения о настройке атрибута `applicationName` и его обосновании см. в записи блога [*Скотта Гатри (* ](https://weblogs.asp.net/scottgu/) s. [*при настройке членства ASP.NET и других поставщиков всегда задавайте свойство ApplicationName*](https://weblogs.asp.net/scottgu/443634).

### <a name="managing-user-accounts-in-the-production-environment"></a>Управление учетными записями пользователей в рабочей среде

Средство администрирования веб-сайта ASP.NET (WSAT) упрощает создание учетных записей пользователей и управление ими, определение и применение ролей, а также написание правил авторизации на основе пользователей и ролей. Вы можете запустить WSAT из Visual Studio, перейдя к обозреватель решений и щелкнув значок конфигурации ASP.NET или перейдя к меню веб-сайт или проект и выбрав пункт меню ASP.NET Configuration. К сожалению, WSAT может работать только с локальными веб-сайтами. Таким образом, нельзя использовать WSAT на рабочей станции для управления веб-сайтом в рабочей среде.

Хорошая новость состоит в том, что все функции, предоставляемые WSAT, доступны программно через интерфейсы API членства и ролей. Кроме того, многие экраны WSAT используют стандартные элементы управления, связанные с входом ASP.NET. Вкратце, вы можете добавить на веб-сайт страницы ASP.NET, которые предлагают необходимые возможности управления.

Вспомним, что в предыдущем учебнике веб-приложение "Рецензирование книг" было добавлено в папку `~/Admin`, а в этой папке настроено разрешение только пользователям с ролью администратора. Я добавил в эту папку страницу с именем `CreateAccount.aspx`, с которой администратор может создать новую учетную запись пользователя. На этой странице используется элемент управления CreateUserWizard для вывода пользовательского интерфейса и серверной логики для создания новой учетной записи пользователя. Что еще больше, я настроил элемент управления, включив в него флажок, запрашивающий, следует ли добавить нового пользователя к роли администратора (см. рис. 5). С небольшой скоростью работы можно создать пользовательский набор страниц, реализующих задачи, связанные с управлением пользователями и ролями, которые в противном случае были бы предоставлены WSAT.

> [!NOTE]
> Дополнительные сведения об использовании API членства и ролей вместе с веб-элементами управления ASP.NET для входа в систему см. в [*руководствах по безопасности веб-сайтов*](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md). Дополнительные сведения о настройке элемента управления CreateUserWizard см. в статьях [*Создание учетных записей пользователей*](../../older-versions-security/membership/creating-user-accounts-vb.md) и сохранение дополнительных руководств по работе с [*данными о пользователях*](../../older-versions-security/membership/storing-additional-user-information-vb.md) , а также в статье [*Ерич Петерсон*](http://www.erichpeterson.com/) s [*Настройка элемента управления CreateUserWizard*](http://aspnet.4guysfromrolla.com/articles/070506-1.aspx).

[Администраторы ![могут создавать новые учетные записи пользователей](configuring-a-website-that-uses-application-services-vb/_static/image14.jpg)](configuring-a-website-that-uses-application-services-vb/_static/image13.jpg)

**Рис. 5**. Администраторы могут создавать новые учетные записи пользователей ([щелкните, чтобы просмотреть изображение с полным размером](configuring-a-website-that-uses-application-services-vb/_static/image15.jpg))

Если вам нужна полная функциональность WSAT, в которой вы создаете [*собственное средство администрирования веб-сайтов*](http://aspnet.4guysfromrolla.com/articles/052307-1.aspx), в котором автор "Клем" познакомится с процессом создания пользовательского инструмента, похожего на WSAT. "+ +" Использует исходный код приложения ( C#в) и предоставляет пошаговые инструкции по его добавлению на размещенный веб-сайт.

## <a name="summary"></a>Сводка

При развертывании веб-приложения, использующего реализацию базы данных служб приложений, необходимо сначала убедиться, что в рабочей базе данных есть необходимые объекты базы данных. Эти объекты можно добавить с помощью методик, описанных в учебнике *развертывание базы данных* . Кроме того, можно использовать средство `aspnet_regsql.exe`, как было показано в этом руководстве. Другие проблемы, с которыми мы работаем в центре синхронизации имени приложения, используемого в средах разработки и рабочей среды (это важно, если вы хотите, чтобы пользователи и роли, созданные в среде разработки, были действительны в рабочем окружении) и методы для Управление пользователями и ролями в рабочей среде.

Поздравляем с программированием!

### <a name="further-reading"></a>Дополнительные сведения

Дополнительные сведения о разделах, обсуждаемых в этом руководстве, см. в следующих ресурсах:

- [*Средство регистрации SQL Server ASP.NET (aspnet_regsql. exe)* ](https://msdn.microsoft.com/library/ms229862.aspx)
- [*Создание базы данных Службы приложений для SQL Server*](https://msdn.microsoft.com/library/x28wfk74.aspx)
- [*Создание схемы членства в SQL Server*](../../older-versions-security/membership/creating-the-membership-schema-in-sql-server-vb.md)
- [*Исследование членства, ролей и профиля ASP.NET*](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [*Развертывание собственного средства администрирования веб-сайтов*](http://aspnet.4guysfromrolla.com/articles/052307-1.aspx)
- [*Учебники по безопасности веб-сайтов*](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md)
- [*Обзор средства администрирования веб-сайтов*](https://msdn.microsoft.com/library/yy40ytx0.aspx)

> [!div class="step-by-step"]
> [Назад](configuring-the-production-web-application-to-use-the-production-database-vb.md)
> [Вперед](strategies-for-database-development-and-deployment-vb.md)
