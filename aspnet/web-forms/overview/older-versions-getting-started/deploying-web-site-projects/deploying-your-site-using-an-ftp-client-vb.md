---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-your-site-using-an-ftp-client-vb
title: Развертывание сайта с помощью FTP-клиент (Visual Basic) | Документация Майкрософт
author: rick-anderson
description: Самый простой способ развернуть приложение ASP.NET является вручную скопировать необходимые файлы из среды разработки в рабочую среду. Э...
ms.author: riande
ms.date: 04/01/2009
ms.assetid: 09279194-bcf9-4b59-a09d-c68e5926a758
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-your-site-using-an-ftp-client-vb
msc.type: authoredcontent
ms.openlocfilehash: ea6d2deaaad1112f4a5ce4e4ea5534c6eab35a8d
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57058661"
---
<a name="deploying-your-site-using-an-ftp-client-vb"></a>Развертывание сайта с помощью FTP-клиента (VB)
====================
по [Скотт Митчелл](https://twitter.com/ScottOnWriting)

[Скачать код](http://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_03_VB.zip) или [скачать PDF](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial03_DeployingViaFTP_vb.pdf)

> Самый простой способ развернуть приложение ASP.NET является вручную скопировать необходимые файлы из среды разработки в рабочую среду. Этом руководстве показано, как использовать FTP-клиента для получения файлов с рабочего стола на поставщике веб-узла.


## <a name="introduction"></a>Вступление

Предыдущем учебном курсе представлены простой книги проверки веб-приложение ASP.NET, состоящее из нескольких страниц ASP.NET, главной страницы, пользовательского базового `Page` класса, число образов, и таблицы стилей CSS три. Теперь мы готовы развернуть это приложение поставщике веб-размещения, после чего приложение будет доступна любому пользователю с подключением к Интернету!


В ходе наших обсуждений в [ *определить, какие файлы должны быть развернуты* ](determining-what-files-need-to-be-deployed-vb.md) учебника, мы знаем, что файлы необходимо скопировать на поставщике веб-узла. (Помните, что какие-либо файлы копируются зависит от приложения явным образом или автоматически скомпилирован ли). Но, как получить файлы из среды разработки (настольных систем) до рабочей среде (веб-сервер, управляемый поставщиком веб-узла)? [ **F** ile **T** на перемещение **P** сокращение от протокол (FTP)](http://en.wikipedia.org/wiki/File_Transfer_Protocol) — это протокол, часто используемых для копирования файлов с одного компьютера на другой по сети. Другой вариант — серверных расширений FrontPage (FPSE). Это руководство посвящено с помощью автономного клиентское программное обеспечение FTP для развертывания необходимые файлы из среды разработки в рабочую среду.

> [!NOTE]
> Visual Studio включает инструменты для публикации веб-сайтов по FTP; Эти средства, а также рассмотрим инструменты, использующие FPSE, рассматриваются в следующем учебном курсе.


Чтобы скопировать файлы с помощью FTP, нам нужно *FTP-клиент* в среде разработки. FTP-клиент является приложением, предназначенный для копирования файлов с компьютера, он устанавливается на компьютер, на котором выполняется *FTP-сервера*. (Если в поставщике веб-размещения поддерживает передачу файлов по протоколу FTP, как и большинство, то нет FTP-сервера на своих веб-серверов.) Существует ряд клиентских приложений FTP. Можно даже double FTP-клиента веб-браузере. Мои FTP-клиента, а также того, я буду использовать для этого руководства — [FileZilla](http://filezilla-project.org/), бесплатно, открытый FTP-клиент, доступный для Windows, Linux и компьютерах Mac. Любой FTP-клиент будет работать, но так можно использовать любой клиент, вы являетесь наиболее удобен.

Если вы следуете вдоль вы должны создать учетную запись с поставщике веб-размещения, прежде чем можно завершит учебником или последующие условия. Как отмечалось в предыдущем учебном курсе, имеются того веб узла поставщика компаний, с помощью широкого спектра цены, функции и качество обслуживания. Для этого цикла руководств я буду использовать [скидки ASP.NET](http://discountasp.net) как Мой веб-узел поставщика, но вы можно изучить любые поставщике веб-размещения до тех пор, пока они поддерживают версию ASP.NET, веб-узла был разработан в. (Эти руководства были созданы с помощью ASP.NET 3.5.) Кроме того так как мы будут копироваться файлы на поставщике веб-узла с помощью протокола FTP в этом руководстве и, в будущем, те, которые крайне важно что на поставщике веб-размещения поддерживает доступ к их веб-серверов. Практически все веб-узла поставщиками возможности, но следует повторно проверить перед регистрацией.

## <a name="deploying-the-book-review-web-application-project"></a>Развертывание проекта книги проверки веб-приложения

Помните, что существует две версии веб-приложения рецензия на книгу: один реализовано с помощью модели проекта веб-приложения (BookReviewsWAP), а другой с помощью модели проекта веб-сайта (BookReviewsWSP). Тип проекта влияет ли компиляции сайта автоматически или явно, и эту модель компиляции определяет, какие файлы должны быть развернуты. Следовательно мы рассмотрим развертывание BookReviewsWAP и BookReviewsWSP проекты по отдельности, начиная с BookReviewsWAP. Отвлекитесь и загружать эти два приложения ASP.NET в том случае, если вы еще не сделали.

Запустить проект BookReviewsWAP, перейдя по `BookReviewsWAP` папку и дважды щелкнув `BookReviewsWAP.sln` файл. Перед развертыванием проекта очень важно для построения его, чтобы убедиться, что все изменения к исходному коду, включаются в скомпилированную сборку. Чтобы выполнить сборку проекта перейдите к меню "сборка" и выберите пункт меню BookReviewsWAP сборки. Это компилирует исходный код в проекте в одну сборку, `BookReviewsWAP.dll`, который размещается в `Bin` папку.

Теперь мы готовы к развертыванию необходимых файлов! Запуск FTP-клиент и подключитесь к веб-сервера в поставщике вашего веб-размещения. (При регистрации с веб-хостинга компанию, они будут вам по электронной почте сведения о том, как подключиться к FTP-сервера; это включает адрес, для FTP-сервера, а также имя пользователя и пароль).

Скопируйте следующие файлы с рабочего стола к корневой папке веб-сайта в поставщике вашего веб-размещения. При FTP в веб-сервер на веб-размещении поставщика вы, скорее всего, в корневом каталоге веб-сайта. Тем не менее, некоторые поставщики веб узла имеют вложенную папку с именем `www` или `wwwroot` , служит в качестве корневой папки для файлов веб-сайта. И, наконец, когда FTPing файлы может потребоваться создать соответствующую структуру папок в рабочей среде — `Bin` папке `Fiction` папке `Images` папки и т. д.

- `~/Default.aspx`
- `~/About.aspx`
- `~/Site.master`
- `~/Web.config`
- `~/Web.sitemap`
- Полное содержимое `Styles` папки
- Полное содержимое `Images` папки (и ее подпапке `BookCovers`)
- `~/Fiction/Default.aspx`
- `~/Fiction/Blaze.aspx`
- `~/Tech/Default.aspx`
- `~/Tech/CYOW.aspx`
- `~/Tech/TYASP35.aspx`
- `~/Bin/BookReviewsWAP.dll`

Рис. 1 показана FileZilla, скопировав необходимые файлы. FileZilla отображает файлы на локальном компьютере в левой части и файлы на удаленном компьютере в правой части. Как на рис. 1 показано, файлы исходного кода ASP.NET, такие как `About.aspx.vb`, находятся на локальном компьютере (среда разработки), но не были скопированы на поставщике веб-узла (рабочей среде), так как файлы кода не обязательно должны быть развернуты при использовании явную компиляцию.

> [!NOTE]
> Нет никакого вреда от необходимости файлы исходного кода на рабочем сервере, так как они учитываются. По умолчанию ASP.NET запрещает HTTP-запросы для файлов исходного кода, таким образом, даже если файлы исходного кода присутствуют на рабочем сервере они недоступны для посетителей веб-сайта. (То есть, в том случае, если пользователь пытается посетить `http://www.yoursite.com/Default.aspx.vb` они получат страницу ошибки, которая объясняет, что эти типы файлов — `.vb` файлы — запрещены.)


[![Используйте FTP-клиента, чтобы скопировать необходимые файлы с настольного компьютера на веб-сервер на поставщике веб-размещения.](deploying-your-site-using-an-ftp-client-vb/_static/image2.png)](deploying-your-site-using-an-ftp-client-vb/_static/image1.png)

**Рис. 1**: Использовать FTP-клиента, чтобы скопировать необходимые файлы из рабочего стола на веб-сервер на поставщике веб-размещения ([Просмотр полноразмерного изображения](deploying-your-site-using-an-ftp-client-vb/_static/image3.png))


После развертывания веб-узла Отвлекитесь и тестирование сайта. Если вы приобрели доменное имя и параметры DNS настроены правильно, можно посетить веб-узла, введя имя домена. В качестве альтернативы на поставщике веб-размещения должен предоставил URL-адрес сайта, который будет выглядеть примерно так *accountname*. *webhostprovider*.com или *webhostprovider*.com /*accountname*. Приведен пример URL-адрес для моей учетной записи на ASP.NET, скидка: `http://httpruntime.web703.discountasp.net`.

Рис. 2 показан рецензий развернутого веб-сайта. Обратите внимание на то, что я просматриваю его на скидках ASP. Серверы NET на `http://httpruntime.web703.discountasp.net`. На данный момент времени любой пользователь с подключением к Интернету может просмотреть мой веб-сайт! Как мы хотели, сайт выглядит и ведет себя так же, как при тестировании в среде разработки.

> [!NOTE]
> Если отобразится сообщение об ошибке при просмотре приложения Отвлекитесь и убедитесь, что вы развернули правильного набора файлов. Затем проверьте сообщение об ошибке, см. в разделе, если оно показывает все сразу же увидеть проблемы. После этого можно включать службу технической поддержки компании веб узла или отправьте свой вопрос на соответствующий форум по адресу [форумы ASP.NET](https://forums.asp.net/).


[![Узел проверки книги теперь доступен всем с подключением к Интернету.](deploying-your-site-using-an-ftp-client-vb/_static/image5.png)](deploying-your-site-using-an-ftp-client-vb/_static/image4.png)

**Рис. 2**: Узел проверки книги теперь доступен всем с подключением к Интернету ([Просмотр полноразмерного изображения](deploying-your-site-using-an-ftp-client-vb/_static/image6.png))


## <a name="deploying-the-book-review-web-site-project"></a>Развертывание проекта веб-сайта просмотрите книги

При развертывании приложения ASP.NET, использующего автоматическую компиляцию, например проект веб-сайта BookReviewsWSP, нет никакой скомпилированной сборки, в `Bin` папку. Таким образом файлы исходного кода веб-приложения должны быть развернуты в рабочей среде. Давайте подробно рассмотрим этот процесс.

Как с помощью проекта веб-приложения имеет смысл первая сборка приложения перед его развертыванием. Во время построения проекта веб-сайта не приводит к созданию сборки, он Проверьте наличие ошибок компиляции страницы. Лучше найти эти ошибки, вместо необходимости посетителям сайта обнаруживать их для вас!

После успешного создания проекта, скопируйте следующие файлы в корневую папку веб-сайта, в поставщике вашего веб-размещения с помощью клиента FTP. Может потребоваться создать соответствующую структуру папок в рабочей среде.

> [!NOTE]
> Если вы уже развернули BookReviewsWAP, но по-прежнему хотите попробуйте выполнить развертывание проекта BookReviewsWSP проект, сначала удалите все файлы на веб-сервере, которые были переданы при развертывании BookReviewsWAP, а затем развернуть файлы для BookReviewsWSP.


- `~/Default.aspx`
- `~/Default.aspx.vb`
- `~/About.aspx`
- `~/About.aspx.vb`
- `~/Site.master`
- `~/Site.master.vb`
- `~/Web.config`
- `~/Web.sitemap`
- Полное содержимое `Styles` папки
- Полное содержимое `Images` папки (и ее подпапке `BookCovers`)
- `~/App_Code/BasePage.vb`
- `~/Fiction/Default.aspx`
- `~/Fiction/Default.aspx.vb`
- `~/Fiction/Blaze.aspx`
- `~/Fiction/Blaze.aspx.vb`
- `~/Tech/Default.aspx`
- `~/Tech/Default.aspx.vb`
- `~/Tech/CYOW.aspx`
- `~/Tech/CYOW.aspx.vb`
- `~/Tech/TYASP35.aspx`
- `~/Tech/TYASP35.aspx.vb`

Рис. 3 показано FileZilla, скопировав необходимые файлы. Как вы видите, ASP.NET файлов исходного кода, такие как `About.aspx.vb`, присутствуют на локальном компьютере (среда разработки) и поставщике веб-размещения (рабочей среде), так как файлы кода должны быть развернуты при использовании автоматического компиляция.


[![Использовать FTP-клиента, чтобы скопировать необходимые файлы с настольного компьютера на веб-сервер на поставщике веб-размещения](deploying-your-site-using-an-ftp-client-vb/_static/image8.png)](deploying-your-site-using-an-ftp-client-vb/_static/image7.png)

**Рис. 3**: Использовать FTP-клиента, чтобы скопировать необходимые файлы из рабочего стола на веб-сервер на поставщике веб-размещения ([Просмотр полноразмерного изображения](deploying-your-site-using-an-ftp-client-vb/_static/image9.png))


Взаимодействие с пользователем не зависит от модели компиляции приложения. Доступны те же страницы ASP.NET, и они выглядят и ведут себя одинаково ли веб-сайт был создан с помощью модели проекта веб-приложения или модели проекта веб-сайта.

## <a name="updating-a-web-application-on-production"></a>Обновление веб-приложения в рабочей среде

Разработка веб-приложений и развертывания не однократный процесс. Например при создании веб-сайта рецензия на книгу я построения различных страницах и написали код сопровождающий ее код на моем компьютере personal (среда разработки). После достижения некоторых стабильного состояния, я развернутый Мое приложение так другими пользователями может на узле и чтение Мои отзывы. Но развертывания не отметил его в конец свои разработки на этом сайте. Может добавить дополнительные рецензий или реализовывать новые функции, например посетителями моей книги скорость или оставить свои комментарии. Подобные усовершенствования будут разрабатываться в среде разработки и необходимо развернуть после завершения. Разработка и развертывание, таким образом, являются cyclical. Разрабатывайте приложения и затем развернуть его. Хотя веб-сайт работает и в рабочей среде, добавлены новые функции и исправления ошибок со временем, что требует повторного развертывания приложения. И так далее и т. д.

Как можно догадаться, при повторном развертывании веб-приложение, требуется только для копирования новых и измененных файлов. Нет необходимости заново развертывать неизмененных страниц или стороне сервера или клиента поддерживает файлы (несмотря на то, что нет никакого вреда от таким образом).

> [!NOTE]
> Следует помнить при использовании явную компиляцию, что каждый раз, когда вы добавьте в проект новую страницу ASP.NET или изменять какие-либо связанные с кодом, вам нужно перестроить проект, который обновляет сборку в `Bin` папку. Следовательно необходимо скопировать эту обновленную сборку в рабочей среде, при обновлении веб-приложения в рабочей среде (а также другие новые и обновленные содержимое).


Также понимать, что любые изменения `Web.config` или файлов в `Bin` directory остановки и перезапуска пула приложений веб сайта. Если состояние сеанса хранится с использованием `InProc` режиме (по умолчанию), а затем посетителей веб сайта будет теряют свое состояние сеанса, каждый раз, когда изменяются эти файлы ключей. Чтобы избежать этого неудобства, рассмотрите возможность хранения сеанса с помощью `StateServer` или `SQLServer` режимы. Дополнительные сведения по этой теме [режимы состояния сеанса](https://msdn.microsoft.com/library/ms178586.aspx).

И, наконец Имейте в виду, что повторного развертывания приложения может занять от нескольких секунд до нескольких минут, в зависимости от числа и размера файлов, которые должны быть скопированы в рабочую среду. В течение этого времени пользователи, посещающие могут возникать ошибки или аномалии поведения. Можно «отключить» всего приложения, добавив на страницу с именем `App_Offline.htm` корневой каталог приложения, объясняющий пользователям что сайт не работает для обслуживания (или все) и будет быть резервного копирования чуть ниже. Когда `App_Offline.htm` файл присутствует, среда выполнения ASP.NET все входящие запросы вы будете перенаправлены на эту страницу.

## <a name="summary"></a>Сводка

Развертывание веб-приложения влечет за собой, скопировать необходимые файлы из среды разработки в рабочую среду. Наиболее распространенные средства, по которому файлы передаются по сети — протокол передачи файлов (FTP) и большинство поставщиков веб-узел поддержки доступа к FTP для своих веб-серверов. В этом руководстве мы узнали, как использовать FTP-клиент для развертывания необходимых файлов на веб-сервер. После развертывания веб-сайта могут быть посетители с подключением к Интернету!

Счастливого вам программирования!

### <a name="further-reading"></a>Дополнительные сведения

Дополнительные сведения по темам, обсуждавшимся в этом руководстве см. в следующих ресурсах:

- [Приложение\_Offline.htm и обойти функцию «IE понятное ошибки»](https://weblogs.asp.net/scottgu/App_5F00_Offline.htm-and-working-around-the-_2200_IE-Friendly-Errors_2200_-feature)
- [Режимы состояния сеанса](https://msdn.microsoft.com/library/ms178586.aspx)

> [!div class="step-by-step"]
> [Назад](determining-what-files-need-to-be-deployed-vb.md)
> [Вперед](deploying-your-site-using-visual-studio-vb.md)
