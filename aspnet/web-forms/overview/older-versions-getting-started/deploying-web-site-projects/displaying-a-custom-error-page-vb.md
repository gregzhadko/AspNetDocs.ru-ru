---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/displaying-a-custom-error-page-vb
title: Отображение страницы пользовательской ошибки (Visual Basic) | Документация Майкрософт
author: rick-anderson
description: Пользователь видят при возникновении ошибки среды выполнения в веб-приложения ASP.NET? Ответ зависит от веб сайта &lt;customErrors&gt; конфигурации...
ms.author: riande
ms.date: 06/09/2009
ms.assetid: 14873c5d-81a9-455b-bd71-30fb555583e7
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/displaying-a-custom-error-page-vb
msc.type: authoredcontent
ms.openlocfilehash: 961959300f5481a297ed8a9a17131c076d1dfd69
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/06/2019
ms.locfileid: "65116701"
---
# <a name="displaying-a-custom-error-page-vb"></a><span data-ttu-id="933a3-104">Отображение страницы пользовательской ошибки (VB)</span><span class="sxs-lookup"><span data-stu-id="933a3-104">Displaying a Custom Error Page (VB)</span></span>

<span data-ttu-id="933a3-105">по [Скотт Митчелл](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="933a3-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="933a3-106">[Скачать код](http://download.microsoft.com/download/1/0/C/10CC829F-A808-4302-97D3-59989B8F9C01/ASPNET_Hosting_Tutorial_11_VB.zip) или [скачать PDF](http://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial11_CustomErrors_vb.pdf)</span><span class="sxs-lookup"><span data-stu-id="933a3-106">[Download Code](http://download.microsoft.com/download/1/0/C/10CC829F-A808-4302-97D3-59989B8F9C01/ASPNET_Hosting_Tutorial_11_VB.zip) or [Download PDF](http://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial11_CustomErrors_vb.pdf)</span></span>

> <span data-ttu-id="933a3-107">Пользователь видят при возникновении ошибки среды выполнения в веб-приложения ASP.NET?</span><span class="sxs-lookup"><span data-stu-id="933a3-107">What does the user see when a runtime error occurs in an ASP.NET web application?</span></span> <span data-ttu-id="933a3-108">Ответ зависит от веб сайта &lt;customErrors&gt; конфигурации.</span><span class="sxs-lookup"><span data-stu-id="933a3-108">The answer depends on how the website's &lt;customErrors&gt; configuration.</span></span> <span data-ttu-id="933a3-109">По умолчанию пользователи отображаются родительной желтый экрана, proclaiming, что произошла ошибка среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="933a3-109">By default, users are shown an unsightly yellow screen proclaiming that a runtime error has occurred.</span></span> <span data-ttu-id="933a3-110">Этом руководстве показано, как настроить эти параметры отображения красоту приятная пользовательскую страницу ошибки, соответствующий вид веб сайта.</span><span class="sxs-lookup"><span data-stu-id="933a3-110">This tutorial shows how to customize these settings to display an aesthetically-pleasing custom error page that matches your site's look and feel.</span></span>

## <a name="introduction"></a><span data-ttu-id="933a3-111">Вступление</span><span class="sxs-lookup"><span data-stu-id="933a3-111">Introduction</span></span>

<span data-ttu-id="933a3-112">В идеальном мире будет без ошибок времени выполнения.</span><span class="sxs-lookup"><span data-stu-id="933a3-112">In a perfect world there would be no run-time errors.</span></span> <span data-ttu-id="933a3-113">Программисты написать код с n-арных объектов ошибки и с помощью надежной проверки ввода данных и внешние ресурсы, такие как серверы баз данных и электронной почты никогда не будет перейти в автономный режим.</span><span class="sxs-lookup"><span data-stu-id="933a3-113">Programmers would write code with nary a bug and with robust user input validation, and external resources like database servers and email servers would never go offline.</span></span> <span data-ttu-id="933a3-114">Конечно на самом деле неизбежны ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-114">Of course, in reality errors are inevitable.</span></span> <span data-ttu-id="933a3-115">Классы в .NET Framework сообщения об ошибке, создается исключение.</span><span class="sxs-lookup"><span data-stu-id="933a3-115">The classes in the .NET Framework signal an error by throwing an exception.</span></span> <span data-ttu-id="933a3-116">Например метод Open для объекта вызова объекта SqlConnection устанавливает подключение к базе данных, указанной строкой подключения.</span><span class="sxs-lookup"><span data-stu-id="933a3-116">For example, calling a SqlConnection object's Open method establishes a connection to the database specified by a connection string.</span></span> <span data-ttu-id="933a3-117">Тем не менее, если базы данных не работает или недопустимые учетные данные в строке подключения метод Open создаст `SqlException`.</span><span class="sxs-lookup"><span data-stu-id="933a3-117">However, if the database is down or if the credentials in the connection string are invalid then the Open method throws a `SqlException`.</span></span> <span data-ttu-id="933a3-118">Исключения могут обрабатываться с помощью `Try/Catch/Finally` блоков.</span><span class="sxs-lookup"><span data-stu-id="933a3-118">Exceptions can be handled by the use of `Try/Catch/Finally` blocks.</span></span> <span data-ttu-id="933a3-119">Если код в `Try` блок вызывает исключение, управление передается блоку catch соответствующие, где разработчик может пытаться восстановиться после ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-119">If code within a `Try` block throws an exception, control is transferred to the appropriate catch block where the developer can attempt to recover from the error.</span></span> <span data-ttu-id="933a3-120">Если нет соответствующего блока catch, или если код, который вызвал исключение не находится в блоке try, исключение percolates вверх по стеку вызовов search из `Try/Catch/Finally` блоков.</span><span class="sxs-lookup"><span data-stu-id="933a3-120">If there is no matching catch block, or if the code that threw the exception is not in a try block, the exception percolates up the call stack in search of `Try/Catch/Finally` blocks.</span></span>

<span data-ttu-id="933a3-121">Если исключение поднимается вплоть до среды выполнения ASP.NET без обработки, [ `HttpApplication` класс](https://msdn.microsoft.com/library/system.web.httpapplication.aspx) [ `Error` событий](https://msdn.microsoft.com/library/system.web.httpapplication.error.aspx) возникает и настроенный *страницу ошибки*  отображается.</span><span class="sxs-lookup"><span data-stu-id="933a3-121">If the exception bubbles all the way up to the ASP.NET runtime without being handled, the [`HttpApplication` class](https://msdn.microsoft.com/library/system.web.httpapplication.aspx)'s [`Error` event](https://msdn.microsoft.com/library/system.web.httpapplication.error.aspx) is raised and the configured *error page* is displayed.</span></span> <span data-ttu-id="933a3-122">По умолчанию ASP.NET отображаются на странице ошибки с Нежно называется [желтый экрана смерти](http://en.wikipedia.org/wiki/Yellow_Screen_of_Death#Yellow) (YSOD).</span><span class="sxs-lookup"><span data-stu-id="933a3-122">By default, ASP.NET displays an error page that is affectionately referred to as the [Yellow Screen of Death](http://en.wikipedia.org/wiki/Yellow_Screen_of_Death#Yellow) (YSOD).</span></span> <span data-ttu-id="933a3-123">Существуют две версии YSOD: один показывает сведения об исключении, трассировку стека и другие сведения полезны для разработчиков, отладку приложения (см. в разделе **рис.1**); другой просто утверждает, что произошла ошибка во время выполнения (см.  **Рис. 2**).</span><span class="sxs-lookup"><span data-stu-id="933a3-123">There are two versions of the YSOD: one shows the exception details, a stack trace, and other information helpful to developers debugging the application (see **Figure 1**); the other simply states that there was a run-time error (see **Figure 2**).</span></span>

<span data-ttu-id="933a3-124">Сведения об исключении YSOD весьма полезна для разработчиков, отладку приложения, но отображение YSOD конечным пользователям невзрачное и непрофессионально.</span><span class="sxs-lookup"><span data-stu-id="933a3-124">The exception details YSOD is quite helpful for developers debugging the application, but showing a YSOD to end users is tacky and unprofessional.</span></span> <span data-ttu-id="933a3-125">Вместо этого пользователям следует принимать на страницу ошибки, поддерживающий внешний вид веб-узла с более удобные прозой описываете ситуацию.</span><span class="sxs-lookup"><span data-stu-id="933a3-125">Instead, end users should be taken to an error page that maintains the site's look and feel with more user-friendly prose describing the situation.</span></span> <span data-ttu-id="933a3-126">Хорошей новостью является создание таких на пользовательскую страницу ошибки довольно просто.</span><span class="sxs-lookup"><span data-stu-id="933a3-126">The good news is that creating such a custom error page is quite easy.</span></span> <span data-ttu-id="933a3-127">Этот учебник начинается со взгляда на ASP. Страницы NET различных ошибок.</span><span class="sxs-lookup"><span data-stu-id="933a3-127">This tutorial starts with a look at ASP.NET's different error pages.</span></span> <span data-ttu-id="933a3-128">Затем показано, как настроить веб-приложение для отображения пользователей на пользовательскую страницу ошибки при возникновении ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-128">It then shows how to configure the web application to show users a custom error page in the face of an error.</span></span>

### <a name="examining-the-three-types-of-error-pages"></a><span data-ttu-id="933a3-129">Изучение три вида страницы ошибок</span><span class="sxs-lookup"><span data-stu-id="933a3-129">Examining the Three Types of Error Pages</span></span>

<span data-ttu-id="933a3-130">Если возникает необработанное исключение в приложении ASP.NET, один из трех видов страницы ошибок отображается:</span><span class="sxs-lookup"><span data-stu-id="933a3-130">When an unhandled exception arises in an ASP.NET application one of three types of error pages is displayed:</span></span>

- <span data-ttu-id="933a3-131">Исключение сведения желтый экрана из смерти страницы ошибки</span><span class="sxs-lookup"><span data-stu-id="933a3-131">The Exception Details Yellow Screen of Death error page,</span></span>
- <span data-ttu-id="933a3-132">Страницы ошибки среды выполнения ошибка желтый экрана из смерти или</span><span class="sxs-lookup"><span data-stu-id="933a3-132">The Runtime Error Yellow Screen of Death error page, or</span></span>
- <span data-ttu-id="933a3-133">На пользовательскую страницу ошибки</span><span class="sxs-lookup"><span data-stu-id="933a3-133">A custom error page</span></span>

<span data-ttu-id="933a3-134">Разработчики страниц ошибок, знакомые с YSOD сведения об исключении.</span><span class="sxs-lookup"><span data-stu-id="933a3-134">The error page developers are most familiar with is the Exception Details YSOD.</span></span> <span data-ttu-id="933a3-135">По умолчанию эта страница отображается для пользователей, которые посещают локально и таким образом — это страница, который появляется при возникновении ошибки во время тестирования на сайте в среде разработки.</span><span class="sxs-lookup"><span data-stu-id="933a3-135">By default, this page is displayed to users who are visiting locally and therefore is the page that you see when an error occurs when testing the site in the development environment.</span></span> <span data-ttu-id="933a3-136">Как понятно из названия, YSOD подробности исключения предоставляет сведения об исключении - тип, сообщение и трассировка стека.</span><span class="sxs-lookup"><span data-stu-id="933a3-136">As its name implies, the Exception Details YSOD provides details about the exception - the type, the message, and the stack trace.</span></span> <span data-ttu-id="933a3-137">Более того Если исключение было вызвано код в классе фонового кода страницы ASP.NET, и если приложение настроено для отладки YSOD подробности исключения также будет показано эту строку кода (и несколько строк кода выше и ниже).</span><span class="sxs-lookup"><span data-stu-id="933a3-137">What's more, if the exception was raised by code in your ASP.NET page's code-behind class and if the application is configured for debugging then the Exception Details YSOD will also show this line of code (and a few lines of code above and below it).</span></span>

<span data-ttu-id="933a3-138">**Рис. 1** показана страница YSOD сведения об исключении.</span><span class="sxs-lookup"><span data-stu-id="933a3-138">**Figure 1** shows the Exception Details YSOD page.</span></span> <span data-ttu-id="933a3-139">Запишите URL-адрес в адрес браузера: `http://localhost:62275/Genre.aspx?ID=foo`.</span><span class="sxs-lookup"><span data-stu-id="933a3-139">Note the URL in the browser's address window: `http://localhost:62275/Genre.aspx?ID=foo`.</span></span> <span data-ttu-id="933a3-140">Помните, что `Genre.aspx` странице перечислены обзоры книг определенного жанра.</span><span class="sxs-lookup"><span data-stu-id="933a3-140">Recall that the `Genre.aspx` page lists the book reviews in a particular genre.</span></span> <span data-ttu-id="933a3-141">Для нее необходимо выполнение `GenreId` значение ( `uniqueidentifier`) нужно передать строку запроса; приведен пример, соответствующий URL-адрес, чтобы просмотреть обзоры художественной `Genre.aspx?ID=7683ab5d-4589-4f03-a139-1c26044d0146`.</span><span class="sxs-lookup"><span data-stu-id="933a3-141">It requires that `GenreId` value (a `uniqueidentifier`) be passed through the querystring; for example, the appropriate URL to view the fiction reviews is `Genre.aspx?ID=7683ab5d-4589-4f03-a139-1c26044d0146`.</span></span> <span data-ttu-id="933a3-142">Если не`uniqueidentifier` значение передается в через строку запроса (например, «foo») создается исключение.</span><span class="sxs-lookup"><span data-stu-id="933a3-142">If a non-`uniqueidentifier` value is passed in through the querystring (such as "foo") an exception is thrown.</span></span>

> [!NOTE]
> <span data-ttu-id="933a3-143">Воспроизведение ошибки в демонстрационное веб-приложение можно загрузить вы можете открыть страницу `Genre.aspx?ID=foo` напрямую или щелкните ссылку «Создать ошибка среды выполнения» в `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="933a3-143">To reproduce this error in the demo web application available for download you can either visit `Genre.aspx?ID=foo` directly or click the "Generate a Runtime Error" link in `Default.aspx`.</span></span>

<span data-ttu-id="933a3-144">Обратите внимание, сведения об исключении, представленные в **рис.1**.</span><span class="sxs-lookup"><span data-stu-id="933a3-144">Note the exception information presented in **Figure 1**.</span></span> <span data-ttu-id="933a3-145">Сообщение об исключении, «ошибка при преобразовании строки символов в тип uniqueidentifier» находится в верхней части страницы.</span><span class="sxs-lookup"><span data-stu-id="933a3-145">The exception message, "Conversion failed when converting from a character string to uniqueidentifier" is present at the top of the page.</span></span> <span data-ttu-id="933a3-146">Тип исключения, `System.Data.SqlClient.SqlException`, присутствует в списке, а также.</span><span class="sxs-lookup"><span data-stu-id="933a3-146">The type of the exception, `System.Data.SqlClient.SqlException`, is listed, as well.</span></span> <span data-ttu-id="933a3-147">Также показана трассировка стека.</span><span class="sxs-lookup"><span data-stu-id="933a3-147">There's also the stack trace.</span></span>

[![](displaying-a-custom-error-page-vb/_static/image2.png)](displaying-a-custom-error-page-vb/_static/image1.png)

<span data-ttu-id="933a3-148">**Рис. 1**: Сведения об исключении YSOD включает в себя сведения об исключении</span><span class="sxs-lookup"><span data-stu-id="933a3-148">**Figure 1**: The Exception Details YSOD Includes Information About the Exception</span></span>  
 <span data-ttu-id="933a3-149">([Просмотр полноразмерного изображения](displaying-a-custom-error-page-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="933a3-149">([Click to view full-size image](displaying-a-custom-error-page-vb/_static/image3.png))</span></span>

<span data-ttu-id="933a3-150">Другие виды YSOD YSOD ошибка среды выполнения и отображается в **рис. 2**.</span><span class="sxs-lookup"><span data-stu-id="933a3-150">The other type of YSOD is the Runtime Error YSOD, and is shown in **Figure 2**.</span></span> <span data-ttu-id="933a3-151">YSOD ошибка среды выполнения сообщает посетитель, который произошла ошибка во время выполнения, но не включает все сведения об исключении, вызванное исключение.</span><span class="sxs-lookup"><span data-stu-id="933a3-151">The Runtime Error YSOD informs the visitor that a run-time error has occurred, but it does not include any information about the exception that was thrown.</span></span> <span data-ttu-id="933a3-152">(Тем не менее предоставляют инструкции о том, как сделать можно просмотреть сведения об ошибке, изменив `Web.config` файл, который входит в том, что делает такие YSOD выглядеть непрофессионально.)</span><span class="sxs-lookup"><span data-stu-id="933a3-152">(It does, however, provide instructions on how to make the error details viewable by modifying the `Web.config` file, which is part of what makes such a YSOD look unprofessional.)</span></span>

<span data-ttu-id="933a3-153">По умолчанию YSOD ошибка среды выполнения отображается для пользователей, посетив удаленно (через http://www.yoursite.com), о чем свидетельствуют URL-адрес в адресной строке браузера в **рис. 2**: `http://httpruntime.web703.discountasp.net/Genre.aspx?ID=foo`.</span><span class="sxs-lookup"><span data-stu-id="933a3-153">By default, the Runtime Error YSOD is shown to users visiting remotely (through http://www.yoursite.com), as evidenced by the URL in the browser's Address bar in **Figure 2**: `http://httpruntime.web703.discountasp.net/Genre.aspx?ID=foo`.</span></span> <span data-ttu-id="933a3-154">Существуют две различные экраны YSOD, поскольку разработчики, хочет знать, сведения об ошибке, но такая информация не должна присутствовать на действующем сайте, как она может выявить потенциальные уязвимости системы безопасности или другой конфиденциальной информацией, всем, кто посещает вашей веб-узел.</span><span class="sxs-lookup"><span data-stu-id="933a3-154">The two different YSOD screens exist because developers are interested in knowing the error details, but such information should not be shown on a live site as it may reveal potential security vulnerabilities or other sensitive information to anyone who visits your site.</span></span>

> [!NOTE]
> <span data-ttu-id="933a3-155">Если кто Усвоил материал и при использовании в качестве работы веб-узла компании DiscountASP.NET, вы можете заметить, что YSOD ошибка среды выполнения не отображаются при просмотре на действующем сайте.</span><span class="sxs-lookup"><span data-stu-id="933a3-155">If you are following along and are using DiscountASP.NET as your web host, you may notice that the Runtime Error YSOD does not display when visiting the live site.</span></span> <span data-ttu-id="933a3-156">Это обусловлено компании DiscountASP.NET имеет свои серверы, настроенные для отображения YSOD подробности исключения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="933a3-156">This is because DiscountASP.NET has their servers configured to show the Exception Details YSOD by default.</span></span> <span data-ttu-id="933a3-157">Хорошая новость состоит в том, что это поведение по умолчанию можно переопределить, добавив `<customErrors>` раздел вашей `Web.config` файл.</span><span class="sxs-lookup"><span data-stu-id="933a3-157">The good news is that you can override this default behavior by adding a `<customErrors>` section to your `Web.config` file.</span></span> <span data-ttu-id="933a3-158">В разделе «Настройка которой ошибка откроется страница» проверяет `<customErrors>` раздел подробно.</span><span class="sxs-lookup"><span data-stu-id="933a3-158">The "Configuring Which Error Page is Displayed" section examines the `<customErrors>` section in detail.</span></span>

[![](displaying-a-custom-error-page-vb/_static/image5.png)](displaying-a-custom-error-page-vb/_static/image4.png)

<span data-ttu-id="933a3-159">**Рис. 2**: Ошибка времени выполнения YSOD не включает все сведения об ошибке</span><span class="sxs-lookup"><span data-stu-id="933a3-159">**Figure 2**: The Runtime Error YSOD Does Not Include Any Error Details</span></span>  
 <span data-ttu-id="933a3-160">([Просмотр полноразмерного изображения](displaying-a-custom-error-page-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="933a3-160">([Click to view full-size image](displaying-a-custom-error-page-vb/_static/image6.png))</span></span>

<span data-ttu-id="933a3-161">Третий тип страницы ошибок — пользовательскую страницу ошибки, который является веб-страницы, созданной.</span><span class="sxs-lookup"><span data-stu-id="933a3-161">The third type of error page is the custom error page, which is a web page that you create.</span></span> <span data-ttu-id="933a3-162">Преимущество на пользовательскую страницу ошибки заключается в том, что вы получаете полный контроль над информацией, который отображается для пользователя, а также внешний вид страницы; пользовательскую страницу ошибки можно использовать одну главную страницу и стили, как другие страницы.</span><span class="sxs-lookup"><span data-stu-id="933a3-162">The benefit of a custom error page is that you have complete control over the information that is displayed to the user along with the page's look and feel; the custom error page can use the same master page and styles as your other pages.</span></span> <span data-ttu-id="933a3-163">В разделе «Использование пользовательские страницы ошибок» описывается создание на пользовательскую страницу ошибки и настроить его для отображения в случае необработанного исключения.</span><span class="sxs-lookup"><span data-stu-id="933a3-163">The "Using a Custom Error Page" section walks through creating a custom error page and configuring it to display in the event of an unhandled exception.</span></span> <span data-ttu-id="933a3-164">**Рис. 3** предлагает конферениций части этой страницы настраиваемых ошибок.</span><span class="sxs-lookup"><span data-stu-id="933a3-164">**Figure 3** offers a sneak peak of this custom error page.</span></span> <span data-ttu-id="933a3-165">Как вы видите, внешний вид страницы ошибки является гораздо более профессионально выглядящие отличную от желтый экраны из смертью показано на рисунках 1 и 2.</span><span class="sxs-lookup"><span data-stu-id="933a3-165">As you can see, the look and feel of the error page is much more professional-looking than either of the Yellow Screens of Death shown in Figures 1 and 2.</span></span>

[![](displaying-a-custom-error-page-vb/_static/image8.png)](displaying-a-custom-error-page-vb/_static/image7.png)

<span data-ttu-id="933a3-166">**Рис. 3**: На пользовательскую страницу ошибки предлагает более специализированных внешнего вида и поведения</span><span class="sxs-lookup"><span data-stu-id="933a3-166">**Figure 3**: A Custom Error Page Offers a More Tailored Look and Feel</span></span>  
 <span data-ttu-id="933a3-167">([Просмотр полноразмерного изображения](displaying-a-custom-error-page-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="933a3-167">([Click to view full-size image](displaying-a-custom-error-page-vb/_static/image9.png))</span></span>

<span data-ttu-id="933a3-168">Отвлекитесь и проверьте адресную строку браузера в **рис. 3**.</span><span class="sxs-lookup"><span data-stu-id="933a3-168">Take a moment to inspect the browser's Address bar in **Figure 3**.</span></span> <span data-ttu-id="933a3-169">Обратите внимание, что в адресной строке указывается URL-адрес пользовательскую страницу ошибки (`/ErrorPages/Oops.aspx`).</span><span class="sxs-lookup"><span data-stu-id="933a3-169">Note that the Address bar shows the URL of the custom error page (`/ErrorPages/Oops.aspx`).</span></span> <span data-ttu-id="933a3-170">На рисунках 1 и 2 желтый экраны смерти отображаются на этой же странице, являющийся источником ошибки (`Genre.aspx`).</span><span class="sxs-lookup"><span data-stu-id="933a3-170">In Figures 1 and 2 the Yellow Screens of Death are shown in the same page that the error originated from (`Genre.aspx`).</span></span> <span data-ttu-id="933a3-171">Пользовательскую страницу ошибки передается URL-адрес страницы, где произошла ошибка с помощью `aspxerrorpath` параметр строки запроса.</span><span class="sxs-lookup"><span data-stu-id="933a3-171">The custom error page is passed the URL of the page where the error occurred via the `aspxerrorpath` querystring parameter.</span></span>

## <a name="configuring-which-error-page-is-displayed"></a><span data-ttu-id="933a3-172">Настройка страницы ошибки которого отображается</span><span class="sxs-lookup"><span data-stu-id="933a3-172">Configuring Which Error Page is Displayed</span></span>

<span data-ttu-id="933a3-173">Какой из трех возможных ошибок страниц отображается основана на двух переменных:</span><span class="sxs-lookup"><span data-stu-id="933a3-173">Which of the three possible error pages is displayed is based on two variables:</span></span>

- <span data-ttu-id="933a3-174">Сведения о конфигурации в `<customErrors>` разделе и</span><span class="sxs-lookup"><span data-stu-id="933a3-174">The configuration information in the `<customErrors>` section, and</span></span>
- <span data-ttu-id="933a3-175">Ли пользователь посещает сайт локально или удаленно.</span><span class="sxs-lookup"><span data-stu-id="933a3-175">Whether the user is visiting the site locally or remotely.</span></span>

<span data-ttu-id="933a3-176">[ `<customErrors>` Разделе](https://msdn.microsoft.com/library/h0hfz6fc.aspx) в `Web.config` имеет два атрибута, которые влияют на какой странице ошибка отображается: `defaultRedirect` и `mode`.</span><span class="sxs-lookup"><span data-stu-id="933a3-176">The [`<customErrors>` section](https://msdn.microsoft.com/library/h0hfz6fc.aspx) in `Web.config` has two attributes that affect what error page is shown: `defaultRedirect` and `mode`.</span></span> <span data-ttu-id="933a3-177">Атрибут `defaultRedirect` является необязательным.</span><span class="sxs-lookup"><span data-stu-id="933a3-177">The `defaultRedirect` attribute is optional.</span></span> <span data-ttu-id="933a3-178">Если предоставляется, он указывает URL-адрес пользовательскую страницу ошибки и указывает, что вместо YSOD ошибка среды выполнения должен отображаться пользовательскую страницу ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-178">If provided, it specifies the URL of the custom error page and indicates that the custom error page should be shown instead of the Runtime Error YSOD.</span></span> <span data-ttu-id="933a3-179">`mode` Атрибут является обязательным и принимает одно из трех значений: `On`, `Off`, или `RemoteOnly`.</span><span class="sxs-lookup"><span data-stu-id="933a3-179">The `mode` attribute is required and accepts one of three values: `On`, `Off`, or `RemoteOnly`.</span></span> <span data-ttu-id="933a3-180">Эти значения имеют следующие особенности:</span><span class="sxs-lookup"><span data-stu-id="933a3-180">These values have the following behavior:</span></span>

- <span data-ttu-id="933a3-181">`On` — Указывает, что пользовательскую страницу ошибки или YSOD ошибка среды выполнения отображается для всех посетителей, независимо от того, являются ли они локальными или удаленными.</span><span class="sxs-lookup"><span data-stu-id="933a3-181">`On` - indicates that the custom error page or the Runtime Error YSOD is shown to all visitors, regardless of whether they are local or remote.</span></span>
- <span data-ttu-id="933a3-182">`Off` — Указывает, что YSOD сведения об исключении отображаются для всех посетителей, независимо от того, являются ли они локальными или удаленными.</span><span class="sxs-lookup"><span data-stu-id="933a3-182">`Off` - specifies that the Exception Details YSOD is displayed to all visitors, regardless of whether they are local or remote.</span></span>
- <span data-ttu-id="933a3-183">`RemoteOnly` — Указывает, что пользовательскую страницу ошибки или YSOD ошибка среды выполнения отображается для удаленного посетителей, хотя YSOD сведения об исключении отображается локальный посетителям.</span><span class="sxs-lookup"><span data-stu-id="933a3-183">`RemoteOnly` - indicates that the custom error page or the Runtime Error YSOD is shown to remote visitors, while the Exception Details YSOD is shown to local visitors.</span></span>

<span data-ttu-id="933a3-184">Если не указано обратное, ASP.NET действует так, будто устанавливают атрибут режима `RemoteOnly` и не был указан `defaultRedirect` значение.</span><span class="sxs-lookup"><span data-stu-id="933a3-184">Unless you specify otherwise, ASP.NET acts as if you had set the mode attribute to `RemoteOnly` and had not specified a `defaultRedirect` value.</span></span> <span data-ttu-id="933a3-185">Другими словами по умолчанию выполняется отображение YSOD подробности исключения локального посетителям хотя YSOD ошибка среды выполнения отображается для удаленного посетителей.</span><span class="sxs-lookup"><span data-stu-id="933a3-185">In other words, the default behavior is that the Exception Details YSOD is displayed to local visitors while the Runtime Error YSOD is shown to remote visitors.</span></span> <span data-ttu-id="933a3-186">Это поведение по умолчанию можно переопределить, добавив `<customErrors>` раздел в веб-приложение `Web.config file.`</span><span class="sxs-lookup"><span data-stu-id="933a3-186">You can override this default behavior by adding a `<customErrors>` section to your web application's `Web.config file.`</span></span>

## <a name="using-a-custom-error-page"></a><span data-ttu-id="933a3-187">С помощью на пользовательскую страницу ошибки</span><span class="sxs-lookup"><span data-stu-id="933a3-187">Using a Custom Error Page</span></span>

<span data-ttu-id="933a3-188">Каждый веб-приложении должен быть на пользовательскую страницу ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-188">Every web application should have a custom error page.</span></span> <span data-ttu-id="933a3-189">Он является альтернативой более профессионально YSOD ошибка среды выполнения, его можно легко создать и настройка приложения для использования пользовательскую страницу ошибки только через несколько мгновений.</span><span class="sxs-lookup"><span data-stu-id="933a3-189">It provides a more professional-looking alternative to the Runtime Error YSOD, it is easy to create, and configuring the application to use the custom error page takes only a few moments.</span></span> <span data-ttu-id="933a3-190">Первым шагом является создание пользовательскую страницу ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-190">The first step is creating the custom error page.</span></span> <span data-ttu-id="933a3-191">Я добавил новую папку с именем приложению рецензий `ErrorPages` и добавить новую страницу ASP.NET с именем `Oops.aspx`.</span><span class="sxs-lookup"><span data-stu-id="933a3-191">I've added a new folder to the Book Reviews application named `ErrorPages` and added to that a new ASP.NET page named `Oops.aspx`.</span></span> <span data-ttu-id="933a3-192">У страницы использовать одну главную страницу как остальная часть страницы узла, чтобы она автоматически наследует с оформлением.</span><span class="sxs-lookup"><span data-stu-id="933a3-192">Have the page use the same master page as the rest of the pages on your site so that it automatically inherits the same look and feel.</span></span>

[![](displaying-a-custom-error-page-vb/_static/image11.png)](displaying-a-custom-error-page-vb/_static/image10.png)

<span data-ttu-id="933a3-193">**Рис. 4**: Создайте на пользовательскую страницу ошибки</span><span class="sxs-lookup"><span data-stu-id="933a3-193">**Figure 4**: Create a Custom Error Page</span></span>

<span data-ttu-id="933a3-194">Далее Потратьте несколько минут, создание содержимого для страницы ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-194">Next, spend a few minutes creating the content for the error page.</span></span> <span data-ttu-id="933a3-195">Я создал на довольно простой пользовательскую страницу ошибки с сообщение о том, что произошла непредвиденная ошибка, и обратной ссылки на домашнюю страницу веб-узла.</span><span class="sxs-lookup"><span data-stu-id="933a3-195">I've created a rather simple custom error page with a message indicating that there was an unexpected error and a link back to the site's homepage.</span></span>

[![](displaying-a-custom-error-page-vb/_static/image13.png)](displaying-a-custom-error-page-vb/_static/image12.png)

<span data-ttu-id="933a3-196">**Рис. 5**: Проектирование на пользовательскую страницу ошибки</span><span class="sxs-lookup"><span data-stu-id="933a3-196">**Figure 5**: Design Your Custom Error Page</span></span>  
 <span data-ttu-id="933a3-197">([Просмотр полноразмерного изображения](displaying-a-custom-error-page-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="933a3-197">([Click to view full-size image](displaying-a-custom-error-page-vb/_static/image14.png))</span></span>

<span data-ttu-id="933a3-198">Страницы ошибок, завершено настройте веб-приложение, чтобы использовать пользовательскую страницу ошибки вместо YSOD ошибка среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="933a3-198">With the error page completed, configure the web application to use the custom error page in lieu of the Runtime Error YSOD.</span></span> <span data-ttu-id="933a3-199">Это достигается путем указания URL-адрес страницы ошибки в `<customErrors>` раздела `defaultRedirect` атрибута.</span><span class="sxs-lookup"><span data-stu-id="933a3-199">This is accomplished by specifying the URL of the error page in the `<customErrors>` section's `defaultRedirect` attribute.</span></span> <span data-ttu-id="933a3-200">Добавьте следующую разметку в приложение `Web.config` файла:</span><span class="sxs-lookup"><span data-stu-id="933a3-200">Add the following markup to your application's `Web.config` file:</span></span>

[!code-xml[Main](displaying-a-custom-error-page-vb/samples/sample1.xml)]

<span data-ttu-id="933a3-201">Приведенная выше разметка настраивает приложение для отображения YSOD подробности исключения для посетителей локально, используя пользовательскую страницу ошибки Oops.aspx для тех пользователей, посетив удаленно.</span><span class="sxs-lookup"><span data-stu-id="933a3-201">The above markup configures the application to show the Exception Details YSOD to users visiting locally, while using the custom error page Oops.aspx for those users visiting remotely.</span></span> <span data-ttu-id="933a3-202">Чтобы увидеть это в действии, разверните веб-сайт в рабочей среде и перейдите на страницу Genre.aspx на действующем сайте со значением недопустимые строки запроса.</span><span class="sxs-lookup"><span data-stu-id="933a3-202">To see this in action, deploy your website to the production environment and then visit the Genre.aspx page on the live site with an invalid querystring value.</span></span> <span data-ttu-id="933a3-203">Вы должны увидеть страницу пользовательской ошибки (вернуться к **рис. 3**).</span><span class="sxs-lookup"><span data-stu-id="933a3-203">You should see the custom error page (refer back to **Figure 3**).</span></span>

<span data-ttu-id="933a3-204">Чтобы убедиться, что пользовательскую страницу ошибки отображается только для удаленных пользователей, посетите `Genre.aspx` страница с недопустимые строки запроса, из среды разработки.</span><span class="sxs-lookup"><span data-stu-id="933a3-204">To verify that the custom error page is only shown to remote users, visit the `Genre.aspx` page with an invalid querystring from the development environment.</span></span> <span data-ttu-id="933a3-205">Вы по-прежнему должны увидеть YSOD подробности исключения (вернуться к **рис.1**).</span><span class="sxs-lookup"><span data-stu-id="933a3-205">You should still see the Exception Details YSOD (refer back to **Figure 1**).</span></span> <span data-ttu-id="933a3-206">`RemoteOnly` Параметр гарантирует, что пользователи, посещающие сайта в рабочей среде см. в разделе пользовательскую страницу ошибки пока разработчики, работающие локально продолжают подробные сведения об исключении.</span><span class="sxs-lookup"><span data-stu-id="933a3-206">The `RemoteOnly` setting ensures that users visiting the site on the production environment see the custom error page while developers working locally continue to see the details of the exception.</span></span>

## <a name="notifying-developers-and-logging-error-details"></a><span data-ttu-id="933a3-207">Уведомление разработчиков и записи сведений об ошибках</span><span class="sxs-lookup"><span data-stu-id="933a3-207">Notifying Developers and Logging Error Details</span></span>

<span data-ttu-id="933a3-208">Ошибки, возникающие в среде разработки были вызваны на своем компьютере разработчика.</span><span class="sxs-lookup"><span data-stu-id="933a3-208">Errors that occur in the development environment were caused by the developer sitting at her computer.</span></span> <span data-ttu-id="933a3-209">Она показывается сведения об исключении в YSOD подробности исключения, и она знает, какие действия, она во время возникновения ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-209">She is shown the exception's information in the Exception Details YSOD, and she knows what steps she was performing when the error occurred.</span></span> <span data-ttu-id="933a3-210">Однако при возникновении ошибки в рабочей среде, разработчик может не знает, что произошла ошибка, если конечный пользователь узле потратит время на отчет об ошибке.</span><span class="sxs-lookup"><span data-stu-id="933a3-210">But when an error occurs on production, the developer has no knowledge that an error occurred unless the end user visiting the site takes the time to report the error.</span></span> <span data-ttu-id="933a3-211">И даже если пользователь выходит за пределы своей способ предупреждения разработчиков, произошла ошибка, не зная тип исключения, сообщение и трассировка стека, он может быть трудно диагностировать причину ошибки, не говоря уже об ее устранению.</span><span class="sxs-lookup"><span data-stu-id="933a3-211">And even if the user goes out of his way to alert the development team that an error occurred, without knowing the exception type, message, and stack trace it can be difficult to diagnose the cause of the error, let alone fix it.</span></span>

<span data-ttu-id="933a3-212">По этим причинам это первостепенное значение, что любая ошибка в рабочей среде регистрируется в постоянном хранилище (например, в базе данных) и что разработчики знают об этой ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-212">For these reasons it is paramount that any error in the production environment is logged to some persistent store (such as a database) and that the developers are alerted of this error.</span></span> <span data-ttu-id="933a3-213">Пользовательскую страницу ошибки может показаться лучше всего сделать это ведение журнала и уведомления.</span><span class="sxs-lookup"><span data-stu-id="933a3-213">The custom error page may seem like a good place to do this logging and notification.</span></span> <span data-ttu-id="933a3-214">К сожалению пользовательскую страницу ошибки не имеет доступа, сведения об ошибке и таким образом, не может использоваться для входа эту информацию.</span><span class="sxs-lookup"><span data-stu-id="933a3-214">Unfortunately, the custom error page does not have access to the error details and therefore cannot be used to log this information.</span></span> <span data-ttu-id="933a3-215">Хорошая новость — существует несколько способов для перехвата сведения об ошибке и регистрировать их, что в этом разделе более подробно изучить трех следующих руководствах.</span><span class="sxs-lookup"><span data-stu-id="933a3-215">The good news is that there are a number of ways to intercept the error details and to log them, and the next three tutorials explore this topic in more detail.</span></span>

## <a name="using-different-custom-error-pages-for-different-http-error-statuses"></a><span data-ttu-id="933a3-216">С помощью различных настраиваемые страницы ошибок для состояния ошибки HTTP</span><span class="sxs-lookup"><span data-stu-id="933a3-216">Using Different Custom Error Pages for Different HTTP Error Statuses</span></span>

<span data-ttu-id="933a3-217">Когда исключение генерируется страницей ASP.NET и не обрабатывается, до среды выполнения ASP.NET, который выведет страницу настроенных percolates исключение.</span><span class="sxs-lookup"><span data-stu-id="933a3-217">When an exception is thrown by an ASP.NET page and is not handled, the exception percolates up to the ASP.NET runtime, which displays the configured error page.</span></span> <span data-ttu-id="933a3-218">Если запрос поступает в подсистему ASP.NET, но не может обрабатываться по некоторым причинам — возможно запрошенный файл не найден или не читать разрешения отключены для файла -, а затем вызывает механизм ASP.NET `HttpException`.</span><span class="sxs-lookup"><span data-stu-id="933a3-218">If a request comes into the ASP.NET engine but cannot be processed for some reason - perhaps the requested file is not found or Read permissions have been disabled for the file - then the ASP.NET engine raises an `HttpException`.</span></span> <span data-ttu-id="933a3-219">Это исключение, например исключения, вызванные из страницы ASP.NET, поднимается среды выполнения, соответствующее сообщение об ошибке страницы для отображения.</span><span class="sxs-lookup"><span data-stu-id="933a3-219">This exception, like exceptions raised from ASP.NET pages, bubbles up to the runtime, causing the appropriate error page to be displayed.</span></span>

<span data-ttu-id="933a3-220">Для веб-приложения в рабочей среде это значит, что если пользователь запрашивает страницу, которая не найден, то он увидит пользовательскую страницу ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-220">What this means for the web application in production is that if a user requests a page that is not found then they will see the custom error page.</span></span> <span data-ttu-id="933a3-221">**Рис. 6** показан такой пример.</span><span class="sxs-lookup"><span data-stu-id="933a3-221">**Figure 6** shows such an example.</span></span> <span data-ttu-id="933a3-222">Так как запрашивается страница не существует (`NoSuchPage.aspx`), `HttpException` возникает исключение и пользовательскую страницу ошибки отображается (Обратите внимание на ссылку, чтобы `NoSuchPage.aspx` в `aspxerrorpath` параметр строки запроса).</span><span class="sxs-lookup"><span data-stu-id="933a3-222">Because the request is for a non-existent page (`NoSuchPage.aspx`), an `HttpException` is thrown and the custom error page is displayed (note the reference to `NoSuchPage.aspx` in the `aspxerrorpath` querystring parameter).</span></span>

<span data-ttu-id="933a3-223">[![](displaying-a-custom-error-page-vb/_static/image16.png)](displaying-a-custom-error-page-vb/_static/image15.png)**Рис. 6**: Среда выполнения ASP.NET отображает страницы настроенные ошибки в ответ на недопустимый запрос</span><span class="sxs-lookup"><span data-stu-id="933a3-223">[![](displaying-a-custom-error-page-vb/_static/image16.png)](displaying-a-custom-error-page-vb/_static/image15.png)**Figure 6**: The ASP.NET Runtime Displays the Configured Error Page In Response to an Invalid Request</span></span>  
 <span data-ttu-id="933a3-224">([Просмотр полноразмерного изображения](displaying-a-custom-error-page-vb/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="933a3-224">([Click to view full-size image](displaying-a-custom-error-page-vb/_static/image17.png))</span></span> 

<span data-ttu-id="933a3-225">По умолчанию все типы ошибок вызывают же пользовательскую страницу ошибки для отображения.</span><span class="sxs-lookup"><span data-stu-id="933a3-225">By default, all types of errors cause the same custom error page to be displayed.</span></span> <span data-ttu-id="933a3-226">Тем не менее, можно указать на разных пользовательскую страницу ошибки для определенных HTTP состояние кода с использованием `<error>` дочерние элементы в пределах `<customErrors>` раздел.</span><span class="sxs-lookup"><span data-stu-id="933a3-226">However, you can specify a different custom error page for a specific HTTP status code using `<error>` children elements within the `<customErrors>` section.</span></span> <span data-ttu-id="933a3-227">Например, другую ошибку страницы, в случае страницы, не найдены ошибки, которая содержит код состояния HTTP 404, обновить `<customErrors>` раздел, посвященный следующую разметку:</span><span class="sxs-lookup"><span data-stu-id="933a3-227">For example, to have a different error page displayed in the event of a page not found error, which has an HTTP status code of 404, update the `<customErrors>` section to include the following markup:</span></span>

[!code-xml[Main](displaying-a-custom-error-page-vb/samples/sample2.xml)]

<span data-ttu-id="933a3-228">После этого изменения на месте при каждом посещении удаленно пользователь запрашивает ресурс ASP.NET, который не существует, он будет перенаправлен к `404.aspx` пользовательскую страницу ошибки вместо `Oops.aspx`.</span><span class="sxs-lookup"><span data-stu-id="933a3-228">With this change in place, whenever a user visiting remotely requests an ASP.NET resource that does not exist, they will be redirected to the `404.aspx` custom error page instead of `Oops.aspx`.</span></span> <span data-ttu-id="933a3-229">Как **рис. 7** иллюстрирует, `404.aspx` страница может содержать более конкретные сообщения, чем общие пользовательскую страницу ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-229">As **Figure 7** illustrates, the `404.aspx` page can include a more specific message than the general custom error page.</span></span>

> [!NOTE]
> <span data-ttu-id="933a3-230">Ознакомьтесь с [страницы ошибок 404, один раз более](http://www.smashingmagazine.com/2009/01/29/404-error-pages-one-more-time/) рекомендации по созданию эффективной страницы ошибок 404.</span><span class="sxs-lookup"><span data-stu-id="933a3-230">Check out [404 Error Pages, One More Time](http://www.smashingmagazine.com/2009/01/29/404-error-pages-one-more-time/) for guidance on creating effective 404 error pages.</span></span>

<span data-ttu-id="933a3-231">[![](displaying-a-custom-error-page-vb/_static/image19.png)](displaying-a-custom-error-page-vb/_static/image18.png)**Рис. 7**: Чем точнее сообщение отображается страница ошибки 404 с помощью пользовательской `Oops.aspx`</span><span class="sxs-lookup"><span data-stu-id="933a3-231">[![](displaying-a-custom-error-page-vb/_static/image19.png)](displaying-a-custom-error-page-vb/_static/image18.png)**Figure 7**: The Custom 404 Error Page Displays a More Targeted Message Than `Oops.aspx`</span></span>  
 <span data-ttu-id="933a3-232">([Просмотр полноразмерного изображения](displaying-a-custom-error-page-vb/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="933a3-232">([Click to view full-size image](displaying-a-custom-error-page-vb/_static/image20.png))</span></span> 

<span data-ttu-id="933a3-233">Так как вы знаете, что `404.aspx` страницы достигается только в том случае, если пользователь запрашивает страницу, которая не найдена, можно улучшить данную страницу для включения функции, чтобы помочь пользователю устранить этот особого типа ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-233">Because you know that the `404.aspx` page is only reached when the user makes a request for a page that was not found, you can enhance this custom error page to include functionality to help the user address this specific type of error.</span></span> <span data-ttu-id="933a3-234">Например, можно создавать таблицу базы данных, которая сопоставляет известно неправильный URL-адреса, хороший URL-адреса и затем `404.aspx` пользовательскую страницу ошибки выполните запрос к таблице и предложить страниц, пользователь может пытаться связаться.</span><span class="sxs-lookup"><span data-stu-id="933a3-234">For example, you could build a database table that maps known bad URLs to good URLs, and then have the `404.aspx` custom error page run a query against that table and suggest pages the user may be trying to reach.</span></span>

> [!NOTE]
> <span data-ttu-id="933a3-235">Пользовательскую страницу ошибки отображается только в том случае, когда выполняется запрос к ресурсу, обрабатывается обработчиком ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="933a3-235">The custom error page is only displayed when a request is made to a resource handled by the ASP.NET engine.</span></span> <span data-ttu-id="933a3-236">Как уже говорилось в [основные различия между IIS и ASP.NET Development Server](core-differences-between-iis-and-the-asp-net-development-server-vb.md) руководства, веб-сервер может обрабатывать определенные запросы сам.</span><span class="sxs-lookup"><span data-stu-id="933a3-236">As we discussed in the [Core Differences Between IIS and the ASP.NET Development Server](core-differences-between-iis-and-the-asp-net-development-server-vb.md) tutorial, the web server may handle certain requests itself.</span></span> <span data-ttu-id="933a3-237">По умолчанию IIS веб-сервер обрабатывает запросы для статического содержимого, такие как изображения и файлы HTML без вызова ядро ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="933a3-237">By default, the IIS web server processes requests for static content like images and HTML files without invoking the ASP.NET engine.</span></span> <span data-ttu-id="933a3-238">Следовательно Если пользователь запрашивает файл образа несуществующие они получат обратно сообщение об ошибке 404 IIS по умолчанию, а не ASP. NET настроить страницу ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-238">Consequently, if the user requests a non-existent image file they will get back IIS's default 404 error message rather than ASP.NET's configured error page.</span></span>

## <a name="summary"></a><span data-ttu-id="933a3-239">Сводка</span><span class="sxs-lookup"><span data-stu-id="933a3-239">Summary</span></span>

<span data-ttu-id="933a3-240">При возникновении необработанного исключения в приложении ASP.NET, то пользователю будет показано одно из трех страниц ошибок: исключение сведения желтый экрана из смертью; Ошибка времени выполнения желтый экраном смерти; или на пользовательскую страницу ошибки.</span><span class="sxs-lookup"><span data-stu-id="933a3-240">When an unhandled exception occurs in an ASP.NET application, the user is shown one of three error pages: the Exception Details Yellow Screen of Death; the Runtime Error Yellow Screen of Death; or a custom error page.</span></span> <span data-ttu-id="933a3-241">Ошибка-страница зависит от приложения `<customErrors>` конфигурации и ли пользователь использует локально или удаленно.</span><span class="sxs-lookup"><span data-stu-id="933a3-241">Which error page is displayed depends on the application's `<customErrors>` configuration and whether the user is visiting locally or remotely.</span></span> <span data-ttu-id="933a3-242">Поведение по умолчанию — Показать YSOD подробности исключения для локального посетителей и YSOD ошибка среды выполнения для удаленного посетителей.</span><span class="sxs-lookup"><span data-stu-id="933a3-242">The default behavior is to show the Exception Details YSOD to local visitors and the Runtime Error YSOD to remote visitors.</span></span>

<span data-ttu-id="933a3-243">Хотя YSOD ошибка среды выполнения скрывает конфиденциальные сведения от пользователя на узле, он прерывается из веб сайта внешним видом и делает вид коляска приложения.</span><span class="sxs-lookup"><span data-stu-id="933a3-243">While the Runtime Error YSOD hides potentially sensitive error information from the user visiting the site, it breaks from your site's look and feel and makes your application look buggy.</span></span> <span data-ttu-id="933a3-244">Лучшим подходом является использование на пользовательскую страницу ошибки, который влечет за собой создание и проектирование пользовательскую страницу ошибки и указав его URL-адрес в `<customErrors>` раздела `defaultRedirect` атрибута.</span><span class="sxs-lookup"><span data-stu-id="933a3-244">A better approach is to use a custom error page, which entails creating and designing the custom error page and specifying its URL in the `<customErrors>` section's `defaultRedirect` attribute.</span></span> <span data-ttu-id="933a3-245">Вы получаете несколько настраиваемые страницы ошибок для различных состояний ошибок HTTP.</span><span class="sxs-lookup"><span data-stu-id="933a3-245">You can even have multiple custom error pages for different HTTP error statuses.</span></span>

<span data-ttu-id="933a3-246">Пользовательскую страницу ошибки является первым шагом в комплексную стратегию для веб-сайта в рабочей среде ошибок.</span><span class="sxs-lookup"><span data-stu-id="933a3-246">The custom error page is the first step in a comprehensive error handling strategy for a website in production.</span></span> <span data-ttu-id="933a3-247">Оповещения, чтобы разработчик ошибки и ведения журнала сведения о нем также являются важные действия.</span><span class="sxs-lookup"><span data-stu-id="933a3-247">Alerting the developer of the error and logging its details are also important steps.</span></span> <span data-ttu-id="933a3-248">Следующие три руководствах рассматриваются методы уведомления об ошибках и ведение журнала.</span><span class="sxs-lookup"><span data-stu-id="933a3-248">The next three tutorials explore techniques for error notification and logging.</span></span>

<span data-ttu-id="933a3-249">Счастливого вам программирования!</span><span class="sxs-lookup"><span data-stu-id="933a3-249">Happy Programming!</span></span>

## <a name="further-reading"></a><span data-ttu-id="933a3-250">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="933a3-250">Further Reading</span></span>

<span data-ttu-id="933a3-251">Дополнительные сведения по темам, обсуждавшимся в этом руководстве см. в следующих ресурсах:</span><span class="sxs-lookup"><span data-stu-id="933a3-251">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="933a3-252">Страницы ошибок, еще раз</span><span class="sxs-lookup"><span data-stu-id="933a3-252">Error Pages, One More Time</span></span>](http://www.smashingmagazine.com/2009/01/29/404-error-pages-one-more-time/)
- [<span data-ttu-id="933a3-253">Правила разработки исключений</span><span class="sxs-lookup"><span data-stu-id="933a3-253">Design Guidelines for Exceptions</span></span>](https://msdn.microsoft.com/library/ms229014.aspx)
- [<span data-ttu-id="933a3-254">Страницы ошибок понятное</span><span class="sxs-lookup"><span data-stu-id="933a3-254">User-Friendly Error Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/090606-1.aspx)
- [<span data-ttu-id="933a3-255">Обработка и создание исключений</span><span class="sxs-lookup"><span data-stu-id="933a3-255">Handling and Throwing Exceptions</span></span>](https://msdn.microsoft.com/library/5b2yeyab.aspx)
- [<span data-ttu-id="933a3-256">Надлежащим образом, используя настраиваемые страницы ошибок в ASP.NET</span><span class="sxs-lookup"><span data-stu-id="933a3-256">Properly Using Custom Error Pages in ASP.NET</span></span>](http://professionalaspnet.com/archive/2007/09/30/Properly-Using-Custom-Error-Pages-in-ASP.NET.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="933a3-257">[Назад](strategies-for-database-development-and-deployment-vb.md)
> [Вперед](processing-unhandled-exceptions-vb.md)</span><span class="sxs-lookup"><span data-stu-id="933a3-257">[Previous](strategies-for-database-development-and-deployment-vb.md)
[Next](processing-unhandled-exceptions-vb.md)</span></span>
