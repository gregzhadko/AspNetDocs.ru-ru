---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/logging-error-details-with-elmah-cs
title: Ведение журнала сведений об ошибкахC#с помощью ELMAH () | Документация Майкрософт
author: rick-anderson
description: Модули и обработчики ведения журнала ошибок (ELMAH) предлагают другой подход к регистрации ошибок времени выполнения в рабочей среде. ELMAH — это бесплатная ошибка с открытым кодом...
ms.author: riande
ms.date: 06/09/2009
ms.assetid: 11f6fe44-64ef-4a38-a3b4-35c7bb992352
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/logging-error-details-with-elmah-cs
msc.type: authoredcontent
ms.openlocfilehash: 5018023eced23e7a70eab90e649f85862c548940
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78462810"
---
# <a name="logging-error-details-with-elmah-c"></a><span data-ttu-id="5d620-104">Запись в журнал сведений об ошибках с помощью ELMAH (C#)</span><span class="sxs-lookup"><span data-stu-id="5d620-104">Logging Error Details with ELMAH (C#)</span></span>

<span data-ttu-id="5d620-105">по [Скотт Митчелл](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="5d620-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="5d620-106">[Скачать код](https://download.microsoft.com/download/1/0/C/10CC829F-A808-4302-97D3-59989B8F9C01/ASPNET_Hosting_Tutorial_14_CS.zip) или [скачать PDF](https://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial14_ELMAH_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="5d620-106">[Download Code](https://download.microsoft.com/download/1/0/C/10CC829F-A808-4302-97D3-59989B8F9C01/ASPNET_Hosting_Tutorial_14_CS.zip) or [Download PDF](https://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial14_ELMAH_cs.pdf)</span></span>

> <span data-ttu-id="5d620-107">Модули и обработчики ведения журнала ошибок (ELMAH) предлагают другой подход к регистрации ошибок времени выполнения в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="5d620-107">Error Logging Modules And Handlers (ELMAH) offers another approach to logging runtime errors in a production environment.</span></span> <span data-ttu-id="5d620-108">ELMAH — это бесплатная библиотека регистрации ошибок с открытым исходным кодом, которая включает в себя такие функции, как фильтрация ошибок и возможность просмотра журнала ошибок с веб-страницы, в виде RSS-канала или загрузки в виде файла, разделенного запятыми.</span><span class="sxs-lookup"><span data-stu-id="5d620-108">ELMAH is a free, open source error logging library that includes features like error filtering and the ability to view the error log from a web page, as an RSS feed, or to download it as a comma-delimited file.</span></span> <span data-ttu-id="5d620-109">В этом руководстве описывается загрузка и настройка ELMAH.</span><span class="sxs-lookup"><span data-stu-id="5d620-109">This tutorial walks through downloading and configuring ELMAH.</span></span>

## <a name="introduction"></a><span data-ttu-id="5d620-110">Введение</span><span class="sxs-lookup"><span data-stu-id="5d620-110">Introduction</span></span>

<span data-ttu-id="5d620-111">[Предыдущее руководство](logging-error-details-with-asp-net-health-monitoring-cs.md) было проверено на ASP. Система мониторинга работоспособности сети, которая предоставляет собственную библиотеку для записи широкого массива веб-событий.</span><span class="sxs-lookup"><span data-stu-id="5d620-111">The [preceding tutorial](logging-error-details-with-asp-net-health-monitoring-cs.md) examined ASP.NET's health monitoring system, which offers an out of the box library for recording a wide array of Web events.</span></span> <span data-ttu-id="5d620-112">Многие разработчики используют мониторинг работоспособности для ведения журнала и отправки сведений о необработанных исключениях.</span><span class="sxs-lookup"><span data-stu-id="5d620-112">Many developers use health monitoring to log and email the details of unhandled exceptions.</span></span> <span data-ttu-id="5d620-113">Однако в этой системе есть несколько проблем.</span><span class="sxs-lookup"><span data-stu-id="5d620-113">However, there are a few pain points with this system.</span></span> <span data-ttu-id="5d620-114">Первая и самое главное — отсутствие какого-либо пользовательского интерфейса для просмотра сведений о зарегистрированных событиях.</span><span class="sxs-lookup"><span data-stu-id="5d620-114">First and foremost is the lack any sort of user interface for viewing information about the logged events.</span></span> <span data-ttu-id="5d620-115">Если вы хотите просмотреть сводку по 10 последним ошибкам или просмотреть подробные сведения об ошибке, возникшей за прошлую неделю, необходимо либо выполнить поиск по базе данных, либо просмотреть ее в папке "Входящие" электронной почты, либо создать веб-страницу, отображающую сведения из таблицы `aspnet_WebEvent_Events`.</span><span class="sxs-lookup"><span data-stu-id="5d620-115">If you want to see a summary of the 10 last errors, or view the details of an error that happened last week, you must either poke through the database, scan through your email Inbox, or build a web page that displays information from the `aspnet_WebEvent_Events` table.</span></span>

<span data-ttu-id="5d620-116">Еще одна точка зрения заключается в направлении сложности мониторинга работоспособности.</span><span class="sxs-lookup"><span data-stu-id="5d620-116">Another pain point centers around health monitoring's complexity.</span></span> <span data-ttu-id="5d620-117">Так как наблюдение за работоспособностью можно использовать для записи множества различных событий, и, поскольку существует множество параметров для указания того, как и когда регистрируются события, правильная настройка системы мониторинга работоспособности может быть обременительным задачей.</span><span class="sxs-lookup"><span data-stu-id="5d620-117">Because health monitoring can be used to record a plethora of different events, and because there are a variety of options for instructing how and when events are logged, correctly configuring the health monitoring system can be an onerous task.</span></span> <span data-ttu-id="5d620-118">Наконец, существуют проблемы совместимости.</span><span class="sxs-lookup"><span data-stu-id="5d620-118">Finally, there are compatibility issues.</span></span> <span data-ttu-id="5d620-119">Так как мониторинг работоспособности впервые был добавлен к .NET Framework в версии 2,0, он недоступен для старых веб-приложений, созданных с помощью ASP.NET версии 1. x.</span><span class="sxs-lookup"><span data-stu-id="5d620-119">Because health monitoring was first added to the .NET Framework in version 2.0, it is not available for older web applications built using ASP.NET version 1.x.</span></span> <span data-ttu-id="5d620-120">Более того, класс `SqlWebEventProvider`, который мы использовали в предыдущем руководстве для регистрации сведений об ошибках в базе данных, работает только с Microsoft SQL Server базами данных.</span><span class="sxs-lookup"><span data-stu-id="5d620-120">Moreover, the `SqlWebEventProvider` class, which we used in the preceding tutorial to logs error details to a database, only works with Microsoft SQL Server databases.</span></span> <span data-ttu-id="5d620-121">Необходимо создать пользовательский класс регистратора, чтобы записывать ошибки в альтернативное хранилище данных, например в XML-файл или базу данных Oracle.</span><span class="sxs-lookup"><span data-stu-id="5d620-121">You will need to create a custom log provider class should you need to log errors to an alternate data store, such as an XML file or Oracle database.</span></span>

<span data-ttu-id="5d620-122">Альтернативой системы мониторинга работоспособности являются модули регистрации ошибок и обработчики (ELMAH) — бесплатная система регистрации ошибок с открытым кодом, созданная с помощью [Атиф Азиз](http://www.raboof.com/).</span><span class="sxs-lookup"><span data-stu-id="5d620-122">An alternative to the health monitoring system is Error Logging Modules And Handlers (ELMAH), a free, open-source error logging system created by [Atif Aziz](http://www.raboof.com/).</span></span> <span data-ttu-id="5d620-123">Самым важным различием между двумя системами является способность ЕЛАМХ отображать список ошибок и подробные сведения о конкретной ошибке с веб-страницы и в виде RSS.</span><span class="sxs-lookup"><span data-stu-id="5d620-123">The most notable difference between the two systems is ELAMH's ability to display a list of errors and the details of a specific error from a web page and as an RSS feed.</span></span> <span data-ttu-id="5d620-124">ELMAH проще настроить, чем мониторинг работоспособности, так как он только регистрирует ошибки.</span><span class="sxs-lookup"><span data-stu-id="5d620-124">ELMAH is easier to configure than health monitoring because it only logs errors.</span></span> <span data-ttu-id="5d620-125">Более того, ELMAH включает поддержку приложений ASP.NET 1. x, ASP.NET 2,0 и ASP.NET 3,5 и поставляется с различными поставщиками источников журналов.</span><span class="sxs-lookup"><span data-stu-id="5d620-125">Furthermore, ELMAH includes support for ASP.NET 1.x, ASP.NET 2.0, and ASP.NET 3.5 applications, and ships with a variety of log source providers.</span></span>

<span data-ttu-id="5d620-126">В этом учебнике рассматриваются шаги, связанные с добавлением ELMAH в приложение ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5d620-126">This tutorial walks through the steps involved in adding ELMAH to an ASP.NET application.</span></span> <span data-ttu-id="5d620-127">Приступим.</span><span class="sxs-lookup"><span data-stu-id="5d620-127">Let's get started!</span></span>

> [!NOTE]
> <span data-ttu-id="5d620-128">Система мониторинга работоспособности и ELMAH имеют собственные наборы достоинств и недостатков.</span><span class="sxs-lookup"><span data-stu-id="5d620-128">The health monitoring system and ELMAH both have their own sets of pros and cons.</span></span> <span data-ttu-id="5d620-129">Я рекомендую опробовать обе системы и решить, какой из них наилучшим образом соответствует вашим потребностям.</span><span class="sxs-lookup"><span data-stu-id="5d620-129">I encourage you to try both systems and decide what one best suits your needs.</span></span>

## <a name="adding-elmah-to-an-aspnet-web-application"></a><span data-ttu-id="5d620-130">Добавление ELMAH в веб-приложение ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5d620-130">Adding ELMAH to an ASP.NET Web Application</span></span>

<span data-ttu-id="5d620-131">Интеграция ELMAH в новое или существующее приложение ASP.NET является простым и простым процессом, который занимает пять минут.</span><span class="sxs-lookup"><span data-stu-id="5d620-131">Integrating ELMAH into a new or existing ASP.NET application is an easy and straightforward process that takes under five minutes.</span></span> <span data-ttu-id="5d620-132">Вкратце, он включает четыре простых шага:</span><span class="sxs-lookup"><span data-stu-id="5d620-132">In a nutshell, it involves four simple steps:</span></span>

1. <span data-ttu-id="5d620-133">Скачайте ELMAH и добавьте сборку `Elmah.dll` в веб-приложение,</span><span class="sxs-lookup"><span data-stu-id="5d620-133">Download ELMAH and add the `Elmah.dll` assembly to your web application,</span></span>
2. <span data-ttu-id="5d620-134">Регистрация модулей HTTP и обработчика ELMAH в `Web.config`</span><span class="sxs-lookup"><span data-stu-id="5d620-134">Register ELMAH's HTTP Modules and Handler in `Web.config`,</span></span>
3. <span data-ttu-id="5d620-135">Укажите параметры конфигурации ELMAH и</span><span class="sxs-lookup"><span data-stu-id="5d620-135">Specify ELMAH's configuration options, and</span></span>
4. <span data-ttu-id="5d620-136">При необходимости создайте исходную инфраструктуру журнала ошибок.</span><span class="sxs-lookup"><span data-stu-id="5d620-136">Create the error log source infrastructure, if needed.</span></span>

<span data-ttu-id="5d620-137">Давайте рассмотрим каждый из этих четырех шагов, по одному за раз.</span><span class="sxs-lookup"><span data-stu-id="5d620-137">Let's walk through each of these four steps, one at a time.</span></span>

### <a name="step-1-downloading-the-elmah-project-files-and-addingelmahdllto-your-web-application"></a><span data-ttu-id="5d620-138">Шаг 1. Загрузка файлов проекта ELMAH и добавление`Elmah.dll`в веб-приложение</span><span class="sxs-lookup"><span data-stu-id="5d620-138">Step 1: Downloading the ELMAH Project Files and Adding`Elmah.dll`To Your Web Application</span></span>

<span data-ttu-id="5d620-139">ELMAH 1,0 BETA 3 (сборка 10617), последняя версия на момент написания статьи включается в загрузку, доступную в этом руководстве.</span><span class="sxs-lookup"><span data-stu-id="5d620-139">ELMAH 1.0 BETA 3 (Build 10617), the most recent version at the time of writing, is included in the download available with this tutorial.</span></span> <span data-ttu-id="5d620-140">Кроме того, вы можете посетить [веб-сайт ELMAH](https://code.google.com/p/elmah/) , чтобы получить последнюю версию или загрузить исходный код.</span><span class="sxs-lookup"><span data-stu-id="5d620-140">Alternatively, you may visit the [ELMAH website](https://code.google.com/p/elmah/) to get the most recent version or to download the source code.</span></span> <span data-ttu-id="5d620-141">Извлеките файл ELMAH в папку на рабочем столе и нахождение файла сборки ELMAH (`Elmah.dll`).</span><span class="sxs-lookup"><span data-stu-id="5d620-141">Extract the ELMAH download to a folder on your desktop and locate the ELMAH assembly file (`Elmah.dll`).</span></span>

> [!NOTE]
> <span data-ttu-id="5d620-142">Файл `Elmah.dll` находится в папке `Bin` загрузки, которая содержит вложенные папки для разных версий .NET Framework, а также для сборок выпуска и отладки.</span><span class="sxs-lookup"><span data-stu-id="5d620-142">The `Elmah.dll` file is located in the download's `Bin` folder, which has subfolders for different .NET Framework versions and for Release and Debug builds.</span></span> <span data-ttu-id="5d620-143">Используйте сборку выпуска для соответствующей версии платформы.</span><span class="sxs-lookup"><span data-stu-id="5d620-143">Use the Release build for the appropriate framework version.</span></span> <span data-ttu-id="5d620-144">Например, если вы создаете веб-приложение ASP.NET 3,5, скопируйте файл `Elmah.dll` из папки `Bin\net-3.5\Release`.</span><span class="sxs-lookup"><span data-stu-id="5d620-144">For instance, if you are building an ASP.NET 3.5 web application, copy the `Elmah.dll` file from the `Bin\net-3.5\Release` folder.</span></span>

<span data-ttu-id="5d620-145">Затем откройте Visual Studio и добавьте сборку в проект, щелкнув правой кнопкой мыши имя веб-сайта в обозреватель решений и выбрав пункт Добавить ссылку из контекстного меню.</span><span class="sxs-lookup"><span data-stu-id="5d620-145">Next, open Visual Studio and add the assembly to your project by right-clicking on the website name in the Solution Explorer and choosing Add Reference from the context menu.</span></span> <span data-ttu-id="5d620-146">Откроется диалоговое окно Добавление ссылки.</span><span class="sxs-lookup"><span data-stu-id="5d620-146">This brings up the Add Reference dialog box.</span></span> <span data-ttu-id="5d620-147">Перейдите на вкладку Обзор и выберите файл `Elmah.dll`.</span><span class="sxs-lookup"><span data-stu-id="5d620-147">Navigate to the Browse tab and choose the `Elmah.dll` file.</span></span> <span data-ttu-id="5d620-148">Это действие добавляет файл `Elmah.dll` в папку `Bin` веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="5d620-148">This action adds the `Elmah.dll` file to the web application's `Bin` folder.</span></span>

> [!NOTE]
> <span data-ttu-id="5d620-149">Тип проекта веб-приложения (WAP) не отображает папку `Bin` в обозреватель решений.</span><span class="sxs-lookup"><span data-stu-id="5d620-149">The Web Application Project (WAP) type does not show the `Bin` folder in the Solution Explorer.</span></span> <span data-ttu-id="5d620-150">Вместо этого эти элементы перечисляются в папке References.</span><span class="sxs-lookup"><span data-stu-id="5d620-150">Instead, it lists these items under the References folder.</span></span>

<span data-ttu-id="5d620-151">Сборка `Elmah.dll` включает классы, используемые системой ELMAH.</span><span class="sxs-lookup"><span data-stu-id="5d620-151">The `Elmah.dll` assembly includes the classes used by the ELMAH system.</span></span> <span data-ttu-id="5d620-152">Эти классы относятся к одной из трех категорий:</span><span class="sxs-lookup"><span data-stu-id="5d620-152">These classes fall into one of three categories:</span></span>

- <span data-ttu-id="5d620-153">**Модули HTTP** . http-модуль — это класс, определяющий обработчики событий для `HttpApplication` событий, таких как событие `Error`.</span><span class="sxs-lookup"><span data-stu-id="5d620-153">**HTTP Modules** - an HTTP Module is a class that defines event handlers for `HttpApplication` events, such as the `Error` event.</span></span> <span data-ttu-id="5d620-154">ELMAH включает несколько модулей HTTP, три наиболее немецких из них:</span><span class="sxs-lookup"><span data-stu-id="5d620-154">ELMAH includes multiple HTTP Modules, the three most germane ones being:</span></span> 

    - <span data-ttu-id="5d620-155">`ErrorLogModule` — записывает необработанные исключения в источник журнала.</span><span class="sxs-lookup"><span data-stu-id="5d620-155">`ErrorLogModule` - logs unhandled exceptions to a log source.</span></span>
    - <span data-ttu-id="5d620-156">`ErrorMailModule` — отправляет сведения о необработанном исключении в сообщении электронной почты.</span><span class="sxs-lookup"><span data-stu-id="5d620-156">`ErrorMailModule` - sends the details of an unhandled exception in an email message.</span></span>
    - <span data-ttu-id="5d620-157">`ErrorFilterModule` — применяет фильтры, заданные разработчиком, для определения того, какие исключения заносятся в журнал и какие из них игнорируются.</span><span class="sxs-lookup"><span data-stu-id="5d620-157">`ErrorFilterModule` - applies developer-specified filters to determine what exceptions are logged and what ones are ignored.</span></span>
- <span data-ttu-id="5d620-158">**Обработчики HTTP** — обработчик HTTP — это класс, отвечающий за создание разметки для конкретного типа запроса.</span><span class="sxs-lookup"><span data-stu-id="5d620-158">**HTTP Handlers** - an HTTP Handler is a class that is responsible for generating the markup for a particular type of request.</span></span> <span data-ttu-id="5d620-159">ELMAH включает обработчики HTTP, которые отображают сведения об ошибках в виде веб-канала, RSS или в виде файла с разделителями-запятыми (CSV).</span><span class="sxs-lookup"><span data-stu-id="5d620-159">ELMAH includes HTTP Handlers that render error details as a web page, as an RSS feed, or as a comma-delimited file (CSV).</span></span>
- <span data-ttu-id="5d620-160">**Источники журнала ошибок** — из Box ELMAH может записывать ошибки в память, в базу данных Microsoft SQL Server, в базу данных Microsoft Access, в базу данных Oracle, в XML-файл, в базу данных SQLite или в базу данных Vista DB.</span><span class="sxs-lookup"><span data-stu-id="5d620-160">**Error Log Sources** - out of the box ELMAH can log errors to memory, to a Microsoft SQL Server database, to a Microsoft Access database, to an Oracle database, to an XML file, to a SQLite database, or to a Vista DB database.</span></span> <span data-ttu-id="5d620-161">Как и в системе мониторинга работоспособности, архитектура ELMAH была построена с использованием модели поставщика, что означает, что при необходимости можно создать и легко интегрировать собственные поставщики пользовательского источника журнала.</span><span class="sxs-lookup"><span data-stu-id="5d620-161">Like the health monitoring system, ELMAH's architecture was built using the provider model, meaning that you can create and seamlessly integrate your own custom log source providers, if needed.</span></span>

### <a name="step-2-registering-elmahs-http-module-and-handler"></a><span data-ttu-id="5d620-162">Шаг 2. Регистрация модуля HTTP и обработчика ELMAH</span><span class="sxs-lookup"><span data-stu-id="5d620-162">Step 2: Registering ELMAH's HTTP Module and Handler</span></span>

<span data-ttu-id="5d620-163">Хотя файл `Elmah.dll` содержит модули HTTP и обработчик, необходимый для автоматического ведения журнала необработанных исключений, а также для вывода сведений об ошибках с веб-страницы, они должны быть явно зарегистрированы в конфигурации веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="5d620-163">While the `Elmah.dll` file contains the HTTP Modules and Handler needed to automatically log unhandled exceptions and to display error details from a web page, these must be explicitly registered in the web application's configuration.</span></span> <span data-ttu-id="5d620-164">После регистрации HTTP-модуль `ErrorLogModule` подписывается на событие `Error` `HttpApplication`.</span><span class="sxs-lookup"><span data-stu-id="5d620-164">The `ErrorLogModule` HTTP Module, once registered, subscribes to the `HttpApplication`'s `Error` event.</span></span> <span data-ttu-id="5d620-165">При возникновении этого события `ErrorLogModule` записывает сведения об исключении в указанный источник журнала.</span><span class="sxs-lookup"><span data-stu-id="5d620-165">Whenever this event is raised the `ErrorLogModule` logs the details of the exception to a specified log source.</span></span> <span data-ttu-id="5d620-166">Мы посмотрим, как определить поставщика источника журнала в следующем разделе «Настройка ELMAH».</span><span class="sxs-lookup"><span data-stu-id="5d620-166">We'll see how to define the log source provider in the next section, "Configuring ELMAH."</span></span> <span data-ttu-id="5d620-167">Фабрика обработчиков HTTP `ErrorLogPageFactory` отвечает за создание разметки при просмотре журнала ошибок с веб-страницы.</span><span class="sxs-lookup"><span data-stu-id="5d620-167">The `ErrorLogPageFactory` HTTP Handler factory is responsible for generating the markup when viewing the error log from a web page.</span></span>

<span data-ttu-id="5d620-168">Специальный синтаксис для регистрации модулей и обработчиков HTTP зависит от веб-сервера, который является его питанием.</span><span class="sxs-lookup"><span data-stu-id="5d620-168">The specific syntax for registering HTTP Modules and Handlers depends upon the web server that is powering the site.</span></span> <span data-ttu-id="5d620-169">Для ASP.NET Development Server и служб Microsoft IIS версии 6,0 и более ранних версий модули HTTP и обработчики регистрируются в разделах `<httpModules>` и `<httpHandlers>`, которые отображаются в элементе `<system.web>`.</span><span class="sxs-lookup"><span data-stu-id="5d620-169">For the ASP.NET Development Server and Microsoft's IIS version 6.0 and earlier, HTTP Modules and Handlers are registered in the `<httpModules>` and `<httpHandlers>` sections, which appear within the `<system.web>` element.</span></span> <span data-ttu-id="5d620-170">Если вы используете IIS 7,0, то они должны быть зарегистрированы в разделах `<modules>` и `<handlers>` элемента `<system.webServer>`.</span><span class="sxs-lookup"><span data-stu-id="5d620-170">If you are using IIS 7.0 then they need to be registered in the `<system.webServer>` element's `<modules>` and `<handlers>` sections.</span></span> <span data-ttu-id="5d620-171">К счастью, модули HTTP и обработчики можно определить в *обоих* местах независимо от используемого веб-сервера.</span><span class="sxs-lookup"><span data-stu-id="5d620-171">Fortunately, you can define the HTTP Modules and Handlers in *both* places regardless of the web server being used.</span></span> <span data-ttu-id="5d620-172">Этот вариант является наиболее переносимым, так как позволяет использовать ту же конфигурацию в средах разработки и рабочей среде независимо от используемого веб-сервера.</span><span class="sxs-lookup"><span data-stu-id="5d620-172">This option is the most portable one as it allows the same configuration to be used in the development and production environments regardless of the web server being used.</span></span>

<span data-ttu-id="5d620-173">Начните с регистрации HTTP-модуля `ErrorLogModule` и `ErrorLogPageFactory` обработчика HTTP в разделе `<httpModules>` и `<httpHandlers>` в `<system.web>`.</span><span class="sxs-lookup"><span data-stu-id="5d620-173">Start by registering the `ErrorLogModule` HTTP Module and the `ErrorLogPageFactory` HTTP Handler in the `<httpModules>` and `<httpHandlers>` section in `<system.web>`.</span></span> <span data-ttu-id="5d620-174">Если в конфигурации уже определены эти два элемента, просто включите элемент `<add>` для модуля HTTP ELMAH и обработчика.</span><span class="sxs-lookup"><span data-stu-id="5d620-174">If your configuration already defines these two elements then simply include the `<add>` element for ELMAH's HTTP Module and Handler.</span></span>

[!code-xml[Main](logging-error-details-with-elmah-cs/samples/sample1.xml)]

<span data-ttu-id="5d620-175">Затем зарегистрируйте модуль HTTP и обработчик ELMAH в элементе `<system.webServer>`.</span><span class="sxs-lookup"><span data-stu-id="5d620-175">Next, register ELMAH's HTTP Module and Handler in the `<system.webServer>` element.</span></span> <span data-ttu-id="5d620-176">Как и ранее, если этот элемент еще не существует в конфигурации, добавьте его.</span><span class="sxs-lookup"><span data-stu-id="5d620-176">As before, if this element is not already present in your configuration then add it.</span></span>

[!code-xml[Main](logging-error-details-with-elmah-cs/samples/sample2.xml)]

<span data-ttu-id="5d620-177">По умолчанию IIS 7 выдает ошибку, если модули и обработчики HTTP зарегистрированы в разделе `<system.web>`.</span><span class="sxs-lookup"><span data-stu-id="5d620-177">By default, IIS 7 complains if HTTP Modules and Handlers are registered in the `<system.web>` section.</span></span> <span data-ttu-id="5d620-178">Атрибут `validateIntegratedModeConfiguration` в элементе `<validation>` указывает IIS 7 подавлять такие сообщения об ошибках.</span><span class="sxs-lookup"><span data-stu-id="5d620-178">The `validateIntegratedModeConfiguration` attribute in the `<validation>` element instructs IIS 7 to suppress such error messages.</span></span>

<span data-ttu-id="5d620-179">Обратите внимание, что синтаксис регистрации `ErrorLogPageFactory` обработчик HTTP-данных включает атрибут `path`, для которого задано значение `elmah.axd`.</span><span class="sxs-lookup"><span data-stu-id="5d620-179">Note that the syntax for registering the `ErrorLogPageFactory` HTTP Handler includes a `path` attribute, which is set to `elmah.axd`.</span></span> <span data-ttu-id="5d620-180">Этот атрибут информирует веб-приложение о том, что при поступлении запроса на страницу с именем `elmah.axd` запрос должен обрабатываться `ErrorLogPageFactory`ным обработчиком HTTP.</span><span class="sxs-lookup"><span data-stu-id="5d620-180">This attribute informs the web application that if a request arrives for a page named `elmah.axd` then the request should be processed by the `ErrorLogPageFactory` HTTP Handler.</span></span> <span data-ttu-id="5d620-181">Далее в этом учебнике вы увидите `ErrorLogPageFactory` обработчик HTTP в действии.</span><span class="sxs-lookup"><span data-stu-id="5d620-181">We'll see the `ErrorLogPageFactory` HTTP Handler in action later in this tutorial.</span></span>

### <a name="step-3-configuring-elmah"></a><span data-ttu-id="5d620-182">Шаг 3. Настройка ELMAH</span><span class="sxs-lookup"><span data-stu-id="5d620-182">Step 3: Configuring ELMAH</span></span>

<span data-ttu-id="5d620-183">ELMAH ищет параметры конфигурации в файле `Web.config` веб-сайта в пользовательском разделе конфигурации с именем `<elmah>`.</span><span class="sxs-lookup"><span data-stu-id="5d620-183">ELMAH looks for its configuration options in the website's `Web.config` file in a custom configuration section named `<elmah>`.</span></span> <span data-ttu-id="5d620-184">Чтобы использовать пользовательский раздел в `Web.config` необходимо сначала определить его в элементе `<configSections>`.</span><span class="sxs-lookup"><span data-stu-id="5d620-184">In order to use a custom section in `Web.config` it must first be defined in the `<configSections>` element.</span></span> <span data-ttu-id="5d620-185">Откройте файл `Web.config` и добавьте в `<configSections>`следующую разметку:</span><span class="sxs-lookup"><span data-stu-id="5d620-185">Open the `Web.config` file and add the following markup to the `<configSections>`:</span></span>

[!code-xml[Main](logging-error-details-with-elmah-cs/samples/sample3.xml)]

> [!NOTE]
> <span data-ttu-id="5d620-186">Если вы настраиваете ELMAH для приложения ASP.NET 1. x, удалите атрибут `requirePermission="false"` из `<section>` элементов выше.</span><span class="sxs-lookup"><span data-stu-id="5d620-186">If you are configuring ELMAH for an ASP.NET 1.x application then remove the `requirePermission="false"` attribute from the `<section>` elements above.</span></span>

<span data-ttu-id="5d620-187">Приведенный выше синтаксис регистрирует пользовательский раздел `<elmah>` и его подразделы: `<security>`, `<errorLog>`, `<errorMail>`и `<errorFilter>`.</span><span class="sxs-lookup"><span data-stu-id="5d620-187">The above syntax registers the custom `<elmah>` section and its subsections: `<security>`, `<errorLog>`, `<errorMail>`, and `<errorFilter>`.</span></span>

<span data-ttu-id="5d620-188">Затем добавьте раздел `<elmah>` в `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="5d620-188">Next, add the `<elmah>` section to `Web.config`.</span></span> <span data-ttu-id="5d620-189">Этот раздел должен отображаться на том же уровне, что и элемент `<system.web>`.</span><span class="sxs-lookup"><span data-stu-id="5d620-189">This section should appear at the same level as the `<system.web>` element.</span></span> <span data-ttu-id="5d620-190">В разделе `<elmah>` добавьте `<security>` и `<errorLog>` разделы следующим образом:</span><span class="sxs-lookup"><span data-stu-id="5d620-190">Inside the `<elmah>` section add the `<security>` and `<errorLog>` sections like so:</span></span>

[!code-xml[Main](logging-error-details-with-elmah-cs/samples/sample4.xml)]

<span data-ttu-id="5d620-191">Атрибут `allowRemoteAccess` раздела `<security>` указывает, разрешен ли удаленный доступ.</span><span class="sxs-lookup"><span data-stu-id="5d620-191">The `<security>` section's `allowRemoteAccess` attribute indicates whether remote access is allowed.</span></span> <span data-ttu-id="5d620-192">Если это значение равно 0, веб-страницу журнала ошибок можно просматривать только локально.</span><span class="sxs-lookup"><span data-stu-id="5d620-192">If this value is set to 0, then the error log web page can only be viewed locally.</span></span> <span data-ttu-id="5d620-193">Если этот атрибут имеет значение 1, то веб-страница журнала ошибок включена для удаленных и локальных посетителей.</span><span class="sxs-lookup"><span data-stu-id="5d620-193">If this attribute is set to 1 then the error log web page is enabled for both remote and local visitors.</span></span> <span data-ttu-id="5d620-194">Сейчас давайте отключим веб-страницу журнала ошибок для удаленных посетителей.</span><span class="sxs-lookup"><span data-stu-id="5d620-194">For now, let's disable the error log web page for remote visitors.</span></span> <span data-ttu-id="5d620-195">Мы разберем удаленный доступ позже, когда у нас есть возможность обсудить вопросы, связанные с безопасностью.</span><span class="sxs-lookup"><span data-stu-id="5d620-195">We'll allow remote access later after we have an opportunity to discuss the security concerns of doing so.</span></span>

<span data-ttu-id="5d620-196">В разделе `<errorLog>` определяется источник журнала ошибок, который определяет, где записываются сведения об ошибке. Он аналогичен разделу `<providers>` в системе мониторинга работоспособности.</span><span class="sxs-lookup"><span data-stu-id="5d620-196">The `<errorLog>` section defines the error log source, which dictates where the error details are recorded; it is similar to the `<providers>` section in the health monitoring system.</span></span> <span data-ttu-id="5d620-197">В приведенном выше синтаксисе в качестве источника журнала ошибок указывается класс `SqlErrorLog`, который регистрирует ошибки в Microsoft SQL Server базе данных, указанной в значении атрибута `connectionStringName`.</span><span class="sxs-lookup"><span data-stu-id="5d620-197">The above syntax specifies the `SqlErrorLog` class as the error log source, which logs the errors to a Microsoft SQL Server database specified by the `connectionStringName` attribute value.</span></span>

> [!NOTE]
> <span data-ttu-id="5d620-198">ELMAH поставляется с дополнительными регистраторами ошибок, которые можно использовать для записи ошибок в XML-файл, базу данных Microsoft Access, базу данных Oracle и другие хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="5d620-198">ELMAH ships with additional error log providers that can be used to log errors to an XML file, a Microsoft Access database, an Oracle database, and other data stores.</span></span> <span data-ttu-id="5d620-199">Сведения о том, как использовать эти альтернативные регистраторы, см. в примере файла `Web.config`, который входит в состав загрузки ELMAH.</span><span class="sxs-lookup"><span data-stu-id="5d620-199">Refer to the sample `Web.config` file that is included with the ELMAH download for information on how to use these alternate error log providers.</span></span>

### <a name="step-4-creating-the-error-log-source-infrastructure"></a><span data-ttu-id="5d620-200">Шаг 4. создание исходной инфраструктуры журнала ошибок</span><span class="sxs-lookup"><span data-stu-id="5d620-200">Step 4: Creating the Error Log Source Infrastructure</span></span>

<span data-ttu-id="5d620-201">Поставщик `SqlErrorLog` ELMAH записывает сведения об ошибке в указанную Microsoft SQL Server базу данных.</span><span class="sxs-lookup"><span data-stu-id="5d620-201">ELMAH's `SqlErrorLog` provider logs error details to a specified Microsoft SQL Server database.</span></span> <span data-ttu-id="5d620-202">Поставщик `SqlErrorLog` предписывает этой базе данных наличие таблицы с именем `ELMAH_Error` и трех хранимых процедур: `ELMAH_GetErrorsXml`, `ELMAH_GetErrorXml`и `ELMAH_LogError`.</span><span class="sxs-lookup"><span data-stu-id="5d620-202">The `SqlErrorLog` provider expects this database to have a table named `ELMAH_Error` and three stored procedures: `ELMAH_GetErrorsXml`, `ELMAH_GetErrorXml`, and `ELMAH_LogError`.</span></span> <span data-ttu-id="5d620-203">Скачивание ELMAH включает файл с именем `SQLServer.sql` в папку `db`, содержащую T-SQL для создания этой таблицы и этих хранимых процедур.</span><span class="sxs-lookup"><span data-stu-id="5d620-203">The ELMAH download includes a file named `SQLServer.sql` in the `db` folder that contains the T-SQL for creating this table and these stored procedures.</span></span> <span data-ttu-id="5d620-204">Чтобы использовать поставщик `SqlErrorLog`, необходимо выполнить эти инструкции в базе данных.</span><span class="sxs-lookup"><span data-stu-id="5d620-204">You'll need to run these statements on your database to use the `SqlErrorLog` provider.</span></span>

<span data-ttu-id="5d620-205">На **рисунках 1** и **2** показан Обозреватель базы данных в Visual Studio после добавления объектов базы данных, необходимых для поставщика `SqlErrorLog`.</span><span class="sxs-lookup"><span data-stu-id="5d620-205">**Figures 1** and **2** show the Database Explorer in Visual Studio after the database objects needed by the `SqlErrorLog` provider have been added.</span></span>

[![](logging-error-details-with-elmah-cs/_static/image2.png)](logging-error-details-with-elmah-cs/_static/image1.png)

<span data-ttu-id="5d620-206">**Рис. 1**. поставщик `SqlErrorLog` регистрирует ошибки в таблице `ELMAH_Error`</span><span class="sxs-lookup"><span data-stu-id="5d620-206">**Figure 1**: The `SqlErrorLog` Provider Logs Errors to the `ELMAH_Error` Table</span></span>

[![](logging-error-details-with-elmah-cs/_static/image4.png)](logging-error-details-with-elmah-cs/_static/image3.png)

<span data-ttu-id="5d620-207">**Рис. 2**. поставщик `SqlErrorLog` использует три хранимых процедуры</span><span class="sxs-lookup"><span data-stu-id="5d620-207">**Figure 2**: The `SqlErrorLog` Provider Uses Three Stored Procedures</span></span>

## <a name="elmah-in-action"></a><span data-ttu-id="5d620-208">ELMAH в действии</span><span class="sxs-lookup"><span data-stu-id="5d620-208">ELMAH In Action</span></span>

<span data-ttu-id="5d620-209">На этом этапе мы добавили ELMAH в веб-приложение, зарегистрировали модуль HTTP `ErrorLogModule` и `ErrorLogPageFactory` обработчик HTTP, заданные параметры конфигурации ELMAH в `Web.config`и добавили необходимые объекты базы данных для `SqlErrorLog` регистратора.</span><span class="sxs-lookup"><span data-stu-id="5d620-209">At this point we have added ELMAH to the web application, registered the `ErrorLogModule` HTTP Module and the `ErrorLogPageFactory` HTTP Handler, specified ELMAH's configuration options in `Web.config`, and added the needed database objects for the `SqlErrorLog` error log provider.</span></span> <span data-ttu-id="5d620-210">Теперь все готово для просмотра ELMAH в действии.</span><span class="sxs-lookup"><span data-stu-id="5d620-210">We are now ready to see ELMAH in action!</span></span> <span data-ttu-id="5d620-211">Посетите веб-сайт обзоры книг и посетите страницу, которая создает ошибку времени выполнения, например `Genre.aspx?ID=foo`или несуществующую страницу, например `NoSuchPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="5d620-211">Visit the Book Reviews website and visit a page that generates a runtime error, such as `Genre.aspx?ID=foo`, or a non-existent page, such as `NoSuchPage.aspx`.</span></span> <span data-ttu-id="5d620-212">То, что вы видите при посещении этих страниц, зависит от конфигурации `<customErrors>` и от того, посещаете ли вы локально или удаленно.</span><span class="sxs-lookup"><span data-stu-id="5d620-212">What you see when visiting these pages depends on the `<customErrors>` configuration and whether you're visiting locally or remotely.</span></span> <span data-ttu-id="5d620-213">(См. Руководство по [ *отображению настраиваемой страницы ошибок* ](displaying-a-custom-error-page-cs.md) для обновления в этом разделе.)</span><span class="sxs-lookup"><span data-stu-id="5d620-213">(Refer back to the [*Displaying a Custom Error Page* tutorial](displaying-a-custom-error-page-cs.md) for a refresher on this topic.)</span></span>

<span data-ttu-id="5d620-214">ELMAH не влияет на содержимое, отображаемое пользователю при возникновении необработанного исключения; Он просто записывает в журнал сведения о нем.</span><span class="sxs-lookup"><span data-stu-id="5d620-214">ELMAH doesn't affect what content is shown to the user when an unhandled exception occurs; it just logs its details.</span></span> <span data-ttu-id="5d620-215">Этот журнал ошибок доступен с веб-страницы `elmah.axd` из корневого каталога веб-сайта, например `http://localhost/BookReviews/elmah.axd`.</span><span class="sxs-lookup"><span data-stu-id="5d620-215">This error log is accessible from the web page `elmah.axd` from the root of your website, such as `http://localhost/BookReviews/elmah.axd`.</span></span> <span data-ttu-id="5d620-216">(Этот файл физически не существует в проекте, но когда поступает запрос на `elmah.axd` среда выполнения отправляет его в обработчик `ErrorLogPageFactory` HTTP, который создает разметку, отправляемую обратно в браузер.)</span><span class="sxs-lookup"><span data-stu-id="5d620-216">(This file does not physically exist in your project, but when a request comes in for `elmah.axd` the runtime dispatches it to the `ErrorLogPageFactory` HTTP Handler, which generates the markup sent back to the browser.)</span></span>

> [!NOTE]
> <span data-ttu-id="5d620-217">Можно также использовать страницу `elmah.axd`, чтобы сообщить ELMAH о формировании ошибки теста.</span><span class="sxs-lookup"><span data-stu-id="5d620-217">You can also use the `elmah.axd` page to instruct ELMAH to generate a test error.</span></span> <span data-ttu-id="5d620-218">Посещение `elmah.axd/test` (как и `http://localhost/BookReviews/elmah.axd/test`) приводит к тому, что ELMAH создает исключение типа `Elmah.TestException`, которое содержит сообщение об ошибке: «это тестовое исключение, которое можно спокойно проигнорировать».</span><span class="sxs-lookup"><span data-stu-id="5d620-218">Visiting `elmah.axd/test` (as in, `http://localhost/BookReviews/elmah.axd/test`) causes ELMAH to throw an exception of type `Elmah.TestException`, which has the error message: " This is a test exception that can be safely ignored."</span></span>

<span data-ttu-id="5d620-219">На **рис. 3** показан журнал ошибок при посещении `elmah.axd` из среды разработки.</span><span class="sxs-lookup"><span data-stu-id="5d620-219">**Figure 3** shows the error log when visiting `elmah.axd` from the development environment.</span></span>

[![](logging-error-details-with-elmah-cs/_static/image6.png)](logging-error-details-with-elmah-cs/_static/image5.png)

<span data-ttu-id="5d620-220">**Рис. 3**. `Elmah.axd` отображение журнала ошибок на веб-странице</span><span class="sxs-lookup"><span data-stu-id="5d620-220">**Figure 3**: `Elmah.axd` Displays the Error Log from a Web Page</span></span>  
<span data-ttu-id="5d620-221">([Щелкните, чтобы просмотреть изображение с полным размером](logging-error-details-with-elmah-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="5d620-221">([Click to view full-size image](logging-error-details-with-elmah-cs/_static/image7.png))</span></span>

<span data-ttu-id="5d620-222">Журнал ошибок на **рис. 3** содержит шесть записей об ошибках.</span><span class="sxs-lookup"><span data-stu-id="5d620-222">The error log in **Figure 3** contains six error entries.</span></span> <span data-ttu-id="5d620-223">Каждая запись содержит код состояния HTTP (404 или 500 для этих ошибок), тип, описание, имя вошедшего в систему пользователя в момент возникновения ошибки, а также дату и время.</span><span class="sxs-lookup"><span data-stu-id="5d620-223">Each entry includes the HTTP status code (404 or 500, for these errors), the type, the description, the name of the logged on user when the error occurred, and the date and time.</span></span> <span data-ttu-id="5d620-224">Если щелкнуть ссылку "сведения", откроется страница с тем же сообщением об ошибке, которое отображается на желтом экране "сведения об ошибке" (см. **рис. 4**) вместе со значениями переменных сервера на момент возникновения ошибки (см. **рис. 5**).</span><span class="sxs-lookup"><span data-stu-id="5d620-224">Clicking the Details link displays a page that includes the same error message shown in the Error Details Yellow Screen of Death (see **Figure 4**) along with the values of the server variables at the time of the error (see **Figure 5**).</span></span> <span data-ttu-id="5d620-225">Можно также просмотреть необработанный XML-код, в котором сохраняются сведения об ошибке, включая дополнительные сведения, такие как значения в заголовке HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="5d620-225">You can also view the raw XML in which the error details are saved, which includes additional information such as the values in the HTTP POST header.</span></span>

[![](logging-error-details-with-elmah-cs/_static/image9.png)](logging-error-details-with-elmah-cs/_static/image8.png)

<span data-ttu-id="5d620-226">**Рис. 4**. Просмотр сведений об ОШИБКе исод</span><span class="sxs-lookup"><span data-stu-id="5d620-226">**Figure 4**: View the Error Details YSOD</span></span>  
<span data-ttu-id="5d620-227">([Щелкните, чтобы просмотреть изображение с полным размером](logging-error-details-with-elmah-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="5d620-227">([Click to view full-size image](logging-error-details-with-elmah-cs/_static/image10.png))</span></span>

[![](logging-error-details-with-elmah-cs/_static/image12.png)](logging-error-details-with-elmah-cs/_static/image11.png)

<span data-ttu-id="5d620-228">**Рис. 5**. Просмотр значений коллекции Server Variables во время возникновения ошибки</span><span class="sxs-lookup"><span data-stu-id="5d620-228">**Figure 5**: Explore the Values of the Server Variables Collection at the Time of the Error</span></span>  
<span data-ttu-id="5d620-229">([Щелкните, чтобы просмотреть изображение с полным размером](logging-error-details-with-elmah-cs/_static/image13.png))</span><span class="sxs-lookup"><span data-stu-id="5d620-229">([Click to view full-size image](logging-error-details-with-elmah-cs/_static/image13.png))</span></span>

<span data-ttu-id="5d620-230">Развертывание ELMAH на рабочем веб-сайте влечет за собой:</span><span class="sxs-lookup"><span data-stu-id="5d620-230">Deploying ELMAH to the production website entails:</span></span>

- <span data-ttu-id="5d620-231">Копирование файла `Elmah.dll` в папку `Bin` в рабочей среде;</span><span class="sxs-lookup"><span data-stu-id="5d620-231">Copying the `Elmah.dll` file to the `Bin` folder on production,</span></span>
- <span data-ttu-id="5d620-232">Копирование параметров конфигурации ELMAH в файл `Web.config`, используемый в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="5d620-232">Copying the ELMAH-specific configuration settings to the `Web.config` file used on production, and</span></span>
- <span data-ttu-id="5d620-233">Добавление исходной инфраструктуры журнала ошибок в рабочую базу данных.</span><span class="sxs-lookup"><span data-stu-id="5d620-233">Adding the error log source infrastructure to the production database.</span></span>

<span data-ttu-id="5d620-234">Мы изучили методы копирования файлов из разработки в рабочую среду в предыдущих руководствах.</span><span class="sxs-lookup"><span data-stu-id="5d620-234">We've explored techniques for copying files from development to production in previous tutorials.</span></span> <span data-ttu-id="5d620-235">Возможно, самый простой способ получить инфраструктуру источника журнала ошибок в рабочей базе данных — использовать SQL Server Management Studio для подключения к рабочей базе данных, а затем выполнить `SqlServer.sql` файл скрипта, который создаст необходимую таблицу и хранимые процедуры.</span><span class="sxs-lookup"><span data-stu-id="5d620-235">Perhaps the easiest way to get the error log source infrastructure on the production database is to use SQL Server Management Studio to connect to the production database and then execute the `SqlServer.sql` script file, which will create the needed table and stored procedures.</span></span>

### <a name="viewing-the-error-details-page-on-production"></a><span data-ttu-id="5d620-236">Просмотр страницы "сведения об ошибке" в рабочей среде</span><span class="sxs-lookup"><span data-stu-id="5d620-236">Viewing the Error Details Page on Production</span></span>

<span data-ttu-id="5d620-237">После развертывания сайта в рабочей среде перейдите на рабочий веб-сайт и создайте необработанное исключение.</span><span class="sxs-lookup"><span data-stu-id="5d620-237">After deploying your site to production, visit the production website and generate an unhandled exception.</span></span> <span data-ttu-id="5d620-238">Как и в среде разработки, ELMAH не влияет на страницу ошибки, отображаемую при возникновении необработанного исключения. Вместо этого он просто регистрирует ошибку.</span><span class="sxs-lookup"><span data-stu-id="5d620-238">As in the development environment, ELMAH has no affect on the error page displayed when an unhandled exception occurs; instead, it merely logs the error.</span></span> <span data-ttu-id="5d620-239">Если вы попытаетесь посетить страницу журнала ошибок (`elmah.axd`) из рабочей среды, вы будете сталкивается с запрещенной страницей, показанной на **рис. 6**.</span><span class="sxs-lookup"><span data-stu-id="5d620-239">If you attempt to visit the error log page (`elmah.axd`) from the production environment, you will be greeted with the Forbidden page shown in **Figure 6**.</span></span>

[![](logging-error-details-with-elmah-cs/_static/image15.png)](logging-error-details-with-elmah-cs/_static/image14.png)

<span data-ttu-id="5d620-240">**Рис. 6**. по умолчанию удаленные посетители не могут просматривать веб-страницу журнала ошибок</span><span class="sxs-lookup"><span data-stu-id="5d620-240">**Figure 6**: By Default, Remote Visitors Cannot View the Error Log Web Page</span></span>  
<span data-ttu-id="5d620-241">([Щелкните, чтобы просмотреть изображение с полным размером](logging-error-details-with-elmah-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="5d620-241">([Click to view full-size image](logging-error-details-with-elmah-cs/_static/image16.png))</span></span>

<span data-ttu-id="5d620-242">Вспомним, что в разделе `<security>` конфигурации ELMAH для атрибута `allowRemoteAccess` задано значение 0, что запрещает удаленным пользователям просматривать журнал ошибок.</span><span class="sxs-lookup"><span data-stu-id="5d620-242">Recall that in the ELMAH configuration's `<security>` section we set the `allowRemoteAccess` attribute to 0, which prohibits remote users from viewing the error log.</span></span> <span data-ttu-id="5d620-243">Важно запретить анонимным посетителям просматривать журнал ошибок, так как сведения об ошибке могут обнаружить уязвимости системы безопасности или другие конфиденциальные сведения.</span><span class="sxs-lookup"><span data-stu-id="5d620-243">It's important to prohibit anonymous visitors from viewing the error log, as the error details might reveal security vulnerabilities or other sensitive information.</span></span> <span data-ttu-id="5d620-244">Если вы решили присвоить этому атрибуту значение 1 и разрешить удаленный доступ к журналу ошибок, важно заблокировать `elmah.axd` путь, чтобы только авторизованные посетители могли получить к нему доступ.</span><span class="sxs-lookup"><span data-stu-id="5d620-244">If you decide to set this attribute to 1 and enable remote access to the error log then it is important to lock down the `elmah.axd` path so that only authorized visitors can access it.</span></span> <span data-ttu-id="5d620-245">Это можно сделать, добавив элемент `<location>` в файл `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="5d620-245">This can be achieved by adding a `<location>` element to the `Web.config` file.</span></span>

<span data-ttu-id="5d620-246">Следующая конфигурация разрешает доступ к веб-странице журнала ошибок только пользователям с ролью администратора:</span><span class="sxs-lookup"><span data-stu-id="5d620-246">The following configuration permits only users in the Admin role to access the error log web page:</span></span>

[!code-xml[Main](logging-error-details-with-elmah-cs/samples/sample5.xml)]

> [!NOTE]
> <span data-ttu-id="5d620-247">Роль администратора и три пользователя в системе (Скотт, Цзисунь и Алиса) были добавлены в окне [ *Настройка веб-сайта, использующего* учебник по службы приложений](configuring-a-website-that-uses-application-services-cs.md).</span><span class="sxs-lookup"><span data-stu-id="5d620-247">The Admin role and the three users in the system - Scott, Jisun, and Alice - were added in the [*Configuring a Website That Uses Application Services* tutorial](configuring-a-website-that-uses-application-services-cs.md).</span></span> <span data-ttu-id="5d620-248">Пользователи Скотт и Цзисунь являются членами роли администратора.</span><span class="sxs-lookup"><span data-stu-id="5d620-248">Users Scott and Jisun are members of the Admin role.</span></span> <span data-ttu-id="5d620-249">Дополнительные сведения о проверке подлинности и авторизации см. в [руководствах по безопасности веб-сайтов](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).</span><span class="sxs-lookup"><span data-stu-id="5d620-249">For more information on authentication and authorization, refer to my [Website Security Tutorials](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).</span></span>

<span data-ttu-id="5d620-250">Журнал ошибок в рабочей среде теперь может быть просмотрен удаленными пользователями; снимки экрана веб-страницы журнала ошибок см. на **рисунках 3**, **4**и **5** .</span><span class="sxs-lookup"><span data-stu-id="5d620-250">The error log on the production environment can now be viewed by remote users; refer back to **Figures 3**, **4**, and **5** for screen shots of the error log web page.</span></span> <span data-ttu-id="5d620-251">Однако, если пользователь с анонимным или без прав администратора попытается просмотреть страницу журнала ошибок, он автоматически перенаправляется на страницу входа (`Login.aspx`), как показано **на рис. 7** .</span><span class="sxs-lookup"><span data-stu-id="5d620-251">However, if an anonymous or non-Admin user attempts to view the error log page they are automatically redirected to the login page (`Login.aspx`), as **Figure 7** shows.</span></span>

[![](logging-error-details-with-elmah-cs/_static/image18.png)](logging-error-details-with-elmah-cs/_static/image17.png)

<span data-ttu-id="5d620-252">**Рис. 7**. неавторизованные пользователи автоматически перенаправляются на страницу входа</span><span class="sxs-lookup"><span data-stu-id="5d620-252">**Figure 7**: Unauthorized Users are Automatically Redirected to the Login Page</span></span>  
<span data-ttu-id="5d620-253">([Щелкните, чтобы просмотреть изображение с полным размером](logging-error-details-with-elmah-cs/_static/image19.png))</span><span class="sxs-lookup"><span data-stu-id="5d620-253">([Click to view full-size image](logging-error-details-with-elmah-cs/_static/image19.png))</span></span>

### <a name="programmatically-logging-errors"></a><span data-ttu-id="5d620-254">Программное ведение журнала ошибок</span><span class="sxs-lookup"><span data-stu-id="5d620-254">Programmatically Logging Errors</span></span>

<span data-ttu-id="5d620-255">HTTP-модуль ELMAH `ErrorLogModule` автоматически регистрирует необработанные исключения в указанном источнике журнала.</span><span class="sxs-lookup"><span data-stu-id="5d620-255">ELMAH's `ErrorLogModule` HTTP Module automatically logs unhandled exceptions to the specified log source.</span></span> <span data-ttu-id="5d620-256">Кроме того, можно зарегистрировать ошибку без необходимости вызывать необработанное исключение с помощью класса `ErrorSignal` и его метода `Raise`.</span><span class="sxs-lookup"><span data-stu-id="5d620-256">Alternatively, you can log an error without having to raise an unhandled exception by using the `ErrorSignal` class and its `Raise` method.</span></span> <span data-ttu-id="5d620-257">Методу `Raise` передается объект `Exception` и заносится в журнал так, как если бы это исключение было создано и достигло времени выполнения ASP.NET без обработки.</span><span class="sxs-lookup"><span data-stu-id="5d620-257">The `Raise` method is passed an `Exception` object and logs it as if that exception had been thrown and had reached the ASP.NET runtime without being handled.</span></span> <span data-ttu-id="5d620-258">Однако различие заключается в том, что выполнение запроса продолжается нормально после вызова метода `Raise`, в то время как выдаваемое, необработанное исключение прерывает нормальное выполнение запроса и заставляет среду выполнения ASP.NET отображать настроенную страницу ошибки.</span><span class="sxs-lookup"><span data-stu-id="5d620-258">The difference, however, is that the request continues executing normally after the `Raise` method has been called, whereas a thrown, unhandled exception interrupts the request's normal execution and causes the ASP.NET runtime to display the configured error page.</span></span>

<span data-ttu-id="5d620-259">Класс `ErrorSignal` полезен в ситуациях, когда существует какое-либо действие, которое может завершиться ошибкой, но его сбой не является критическим к выполнению общей операции.</span><span class="sxs-lookup"><span data-stu-id="5d620-259">The `ErrorSignal` class is useful in situations where there is some action that may fail, but its failure is not catastrophic to the overall operation being performed.</span></span> <span data-ttu-id="5d620-260">Например, веб-сайт может содержать форму, которая принимает входные данные пользователя, сохраняет ее в базе данных, а затем отправляет пользователю сообщение электронной почты, информирующее о том, что информация была обработана.</span><span class="sxs-lookup"><span data-stu-id="5d620-260">For instance, a website may contain a form that takes the user's input, stores it in a database, and then sends the user an email informing them that they information was processed.</span></span> <span data-ttu-id="5d620-261">Что произойдет, если информация успешно сохранена в базе данных, но при отправке сообщения электронной почты возникает ошибка?</span><span class="sxs-lookup"><span data-stu-id="5d620-261">What should happen if the information is saved to the database successfully, but there is an error when sending the email message?</span></span> <span data-ttu-id="5d620-262">Один из вариантов — создать исключение и отправить пользователю на страницу ошибки.</span><span class="sxs-lookup"><span data-stu-id="5d620-262">One option would be to throw an exception and send the user to the error page.</span></span> <span data-ttu-id="5d620-263">Однако это может запутать пользователя в том, что данные, которые они указали, не сохранялись.</span><span class="sxs-lookup"><span data-stu-id="5d620-263">However, this might confuse the user into thinking that the information they entered was not saved.</span></span> <span data-ttu-id="5d620-264">Другой подход — зарегистрировать ошибку, связанную с электронной почтой, но не изменять взаимодействие с пользователем каким-либо образом.</span><span class="sxs-lookup"><span data-stu-id="5d620-264">Another approach would be to log the email-related error, but not alter the user's experience in any way.</span></span> <span data-ttu-id="5d620-265">Именно здесь полезен класс `ErrorSignal`.</span><span class="sxs-lookup"><span data-stu-id="5d620-265">This is where the `ErrorSignal` class is useful.</span></span>

[!code-csharp[Main](logging-error-details-with-elmah-cs/samples/sample6.cs)]

## <a name="error-notification-via-email"></a><span data-ttu-id="5d620-266">Уведомление об ошибке по электронной почте</span><span class="sxs-lookup"><span data-stu-id="5d620-266">Error Notification Via Email</span></span>

<span data-ttu-id="5d620-267">Наряду с регистрацией ошибок в базе данных ELMAH можно настроить для отправки сведений об ошибке указанному получателю по электронной почте.</span><span class="sxs-lookup"><span data-stu-id="5d620-267">Along with logging errors to a database, ELMAH can also be configured to email error details to a specified recipient.</span></span> <span data-ttu-id="5d620-268">Эта функция предоставляется модулем `ErrorMailModule` HTTP. Поэтому необходимо зарегистрировать этот HTTP-модуль в `Web.config`, чтобы отправлять сведения об ошибке по электронной почте.</span><span class="sxs-lookup"><span data-stu-id="5d620-268">This functionality is provided by the `ErrorMailModule` HTTP Module; therefore, you must register this HTTP Module in `Web.config` in order to send error details via email.</span></span>

[!code-xml[Main](logging-error-details-with-elmah-cs/samples/sample7.xml)]

<span data-ttu-id="5d620-269">Затем укажите сведения об электронной почте об ошибке в разделе `<errorMail>` элемента `<elmah>`, указывающем отправителя и получателя сообщения электронной почты, тему и способ отправки сообщения в асинхронном режиме.</span><span class="sxs-lookup"><span data-stu-id="5d620-269">Next, specify information about the error email in the `<elmah>` element's `<errorMail>` section, indicating the email's sender and recipient, the subject, and whether the email is sent asynchronously.</span></span>

[!code-xml[Main](logging-error-details-with-elmah-cs/samples/sample8.xml)]

<span data-ttu-id="5d620-270">При наличии указанных выше параметров при возникновении ошибки времени выполнения ELMAH отправляет электронное сообщение на support@example.com с подробными сведениями об ошибке.</span><span class="sxs-lookup"><span data-stu-id="5d620-270">With the above settings in place, whenever a runtime error occurs ELMAH sends an email to support@example.com with the error details.</span></span> <span data-ttu-id="5d620-271">Сообщение об ошибке ELMAH содержит те же сведения, которые отображаются на веб-странице сведения об ошибке, а именно сообщение об ошибке, трассировка стека и переменные сервера (см. **рис. 4** и **5**).</span><span class="sxs-lookup"><span data-stu-id="5d620-271">ELMAH's error email includes the same information shown in the error details web page, namely the error message, the stack trace, and the server variables (refer back to **Figures 4** and **5**).</span></span> <span data-ttu-id="5d620-272">В сообщении об ошибке также содержится желтый экран сведений об исключении для содержимого смерти в виде вложения (`YSOD.html`).</span><span class="sxs-lookup"><span data-stu-id="5d620-272">The error email also includes the Exception Details Yellow Screen of Death content as an attachment (`YSOD.html`).</span></span>

<span data-ttu-id="5d620-273">**На рис. 8** показаны сообщения об ошибках ELMAH, созданные при посещении `Genre.aspx?ID=foo`.</span><span class="sxs-lookup"><span data-stu-id="5d620-273">**Figure 8** shows ELMAH's error email generated by visiting `Genre.aspx?ID=foo`.</span></span> <span data-ttu-id="5d620-274">Хотя на **рис. 8** показано только сообщение об ошибке и трассировка стека, переменные сервера добавляются в текст сообщения электронной почты.</span><span class="sxs-lookup"><span data-stu-id="5d620-274">While **Figure 8** shows only the error message and stack trace, the server variables are included further down in the email's body.</span></span>

[![](logging-error-details-with-elmah-cs/_static/image21.png)](logging-error-details-with-elmah-cs/_static/image20.png)

<span data-ttu-id="5d620-275">**Рис. 8**. можно настроить ELMAH для отправки сведений об ошибках по электронной почте</span><span class="sxs-lookup"><span data-stu-id="5d620-275">**Figure 8**: You Can Configure ELMAH To Send Error Details Via Email</span></span>  
<span data-ttu-id="5d620-276">([Щелкните, чтобы просмотреть изображение с полным размером](logging-error-details-with-elmah-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="5d620-276">([Click to view full-size image](logging-error-details-with-elmah-cs/_static/image22.png))</span></span>

## <a name="only-logging-errors-of-interest"></a><span data-ttu-id="5d620-277">Запись только тех ошибок, которые представляют интерес</span><span class="sxs-lookup"><span data-stu-id="5d620-277">Only Logging Errors Of Interest</span></span>

<span data-ttu-id="5d620-278">По умолчанию ELMAH записывает в журнал подробные сведения о каждом необработанном исключении, включая 404 и другие ошибки HTTP.</span><span class="sxs-lookup"><span data-stu-id="5d620-278">By default, ELMAH logs the details of every unhandled exception, including 404 and other HTTP errors.</span></span> <span data-ttu-id="5d620-279">Можно указать ELMAH игнорировать эти или другие типы ошибок с помощью фильтрации ошибок.</span><span class="sxs-lookup"><span data-stu-id="5d620-279">You can instruct ELMAH to ignore these or other types of errors using error filtering.</span></span> <span data-ttu-id="5d620-280">Логика фильтрации выполняется модулем `ErrorFilterModule` HTTP ELMAH, который необходимо зарегистрировать в `Web.config`, чтобы использовать логику фильтрации.</span><span class="sxs-lookup"><span data-stu-id="5d620-280">The filtering logic is performed by ELMAH's `ErrorFilterModule` HTTP Module, which you'll need to register in `Web.config` in order to use the filtering logic.</span></span> <span data-ttu-id="5d620-281">Правила фильтрации указываются в разделе `<errorFilter>`.</span><span class="sxs-lookup"><span data-stu-id="5d620-281">The rules for filtering are specified in the `<errorFilter>` section.</span></span>

<span data-ttu-id="5d620-282">Следующая разметка указывает, что ELMAH не регистрирует ошибки 404.</span><span class="sxs-lookup"><span data-stu-id="5d620-282">The following markup instructs ELMAH to not log 404 errors.</span></span>

[!code-xml[Main](logging-error-details-with-elmah-cs/samples/sample9.xml)]

> [!NOTE]
> <span data-ttu-id="5d620-283">Не забывайте, что для использования фильтрации ошибок необходимо зарегистрировать HTTP-модуль `ErrorFilterModule`.</span><span class="sxs-lookup"><span data-stu-id="5d620-283">Don't forget, in order to use error filtering you must register the `ErrorFilterModule` HTTP Module.</span></span>

<span data-ttu-id="5d620-284">Элемент `<equal>` внутри раздела `<test>` называется утверждением.</span><span class="sxs-lookup"><span data-stu-id="5d620-284">The `<equal>` element inside the `<test>` section is referred to as an assertion.</span></span> <span data-ttu-id="5d620-285">Если утверждение принимает значение true, то ошибка фильтруется из журнала ELMAH.</span><span class="sxs-lookup"><span data-stu-id="5d620-285">If the assertion evaluates to true then the error is filtered from ELMAH's log.</span></span> <span data-ttu-id="5d620-286">Существуют и другие доступные утверждения, в том числе: `<greater>`, `<greater-or-equal>`, `<not-equal>`, `<lesser>`, `<lesser-or-equal>`и т. д.</span><span class="sxs-lookup"><span data-stu-id="5d620-286">There are other assertions available, including: `<greater>`, `<greater-or-equal>`, `<not-equal>`, `<lesser>`, `<lesser-or-equal>`, and so on.</span></span> <span data-ttu-id="5d620-287">Можно также комбинировать утверждения с помощью логических операторов `<and>` и `<or>`.</span><span class="sxs-lookup"><span data-stu-id="5d620-287">You can also combine assertions using the `<and>` and `<or>` Boolean operators.</span></span> <span data-ttu-id="5d620-288">Более того, можно даже включить простое выражение JavaScript в качестве утверждения или написать собственные утверждения в C# или Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="5d620-288">What's more, you can even include a simple JavaScript expression as an assertion, or write your own assertions in C# or Visual Basic.</span></span>

<span data-ttu-id="5d620-289">Дополнительные сведения о возможностях фильтрации ошибок ELMAH см. в [разделе Фильтрация ошибок](https://code.google.com/p/elmah/wiki/ErrorFiltering) в вики- [сайте ELMAH](https://code.google.com/p/elmah/w/list).</span><span class="sxs-lookup"><span data-stu-id="5d620-289">For more information on ELMAH's error filtering capabilities, refer to the [Error Filtering section](https://code.google.com/p/elmah/wiki/ErrorFiltering) in the [ELMAH wiki](https://code.google.com/p/elmah/w/list).</span></span>

## <a name="summary"></a><span data-ttu-id="5d620-290">Сводка</span><span class="sxs-lookup"><span data-stu-id="5d620-290">Summary</span></span>

<span data-ttu-id="5d620-291">ELMAH предоставляет простой, но мощный механизм ведения журнала ошибок в веб-приложении ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5d620-291">ELMAH provides a simple, yet powerful mechanism for logging errors in an ASP.NET web application.</span></span> <span data-ttu-id="5d620-292">Как и система мониторинга работоспособности корпорации Майкрософт, ELMAH может записывать ошибки в базу данных и отправлять сведения об ошибке разработчику по электронной почте.</span><span class="sxs-lookup"><span data-stu-id="5d620-292">Like Microsoft's health monitoring system, ELMAH can log errors to a database and can send the error details to a developer via email.</span></span> <span data-ttu-id="5d620-293">В отличие от системы мониторинга работоспособности, ELMAH включает в себя поддержку более широкого спектра хранилищ данных журнала ошибок, в том числе: Microsoft SQL Server, Microsoft Access, Oracle, XML-файлы и некоторые другие.</span><span class="sxs-lookup"><span data-stu-id="5d620-293">Unlike the health monitoring system, ELMAH includes out of the box support for a wider range of error log data stores, including: Microsoft SQL Server, Microsoft Access, Oracle, XML files, and several others.</span></span> <span data-ttu-id="5d620-294">Более того, ELMAH предлагает встроенный механизм просмотра журнала ошибок и сведений о конкретной ошибке на веб-странице `elmah.axd`.</span><span class="sxs-lookup"><span data-stu-id="5d620-294">Moreover, ELMAH offers a built-in mechanism for viewing the error log and details about a specific error from a web page, `elmah.axd`.</span></span> <span data-ttu-id="5d620-295">`elmah.axd`ная страница может также отображать сведения об ошибках в виде RSS-канала или в виде файла данных, разделенного запятыми (CSV), который можно прочитать с помощью Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="5d620-295">The `elmah.axd` page can also render error information as an RSS feed or as a comma-separated value file (CSV), which you can read using Microsoft Excel.</span></span> <span data-ttu-id="5d620-296">Также можно указать ELMAH, чтобы отфильтровать ошибки из журнала с помощью декларативных или программных утверждений.</span><span class="sxs-lookup"><span data-stu-id="5d620-296">You can also instruct ELMAH to filter errors from the log using declarative or programmatic assertions.</span></span> <span data-ttu-id="5d620-297">И ELMAH можно использовать с приложениями ASP.NET версии 1. x.</span><span class="sxs-lookup"><span data-stu-id="5d620-297">And ELMAH can be used with ASP.NET version 1.x applications.</span></span>

<span data-ttu-id="5d620-298">Каждое развернутое приложение должно иметь некоторый механизм для автоматического ведения журнала необработанных исключений и отправки уведомлений группе разработчиков.</span><span class="sxs-lookup"><span data-stu-id="5d620-298">Every deployed application should have some mechanism for automatically logging unhandled exceptions and sending notification to the development team.</span></span> <span data-ttu-id="5d620-299">Выполняется ли это при использовании мониторинга работоспособности или ELMAH.</span><span class="sxs-lookup"><span data-stu-id="5d620-299">Whether this is accomplished using health monitoring or ELMAH is secondary.</span></span> <span data-ttu-id="5d620-300">Иными словами, это не имеет большого значения, используется ли мониторинг работоспособности или ELMAH; Оцените обе системы и выберите ту, которая наилучшим образом соответствует вашим потребностям.</span><span class="sxs-lookup"><span data-stu-id="5d620-300">In other words, it doesn't really matter much whether you use health monitoring or ELMAH; evaluate both systems and then choose the one that best fits your needs.</span></span> <span data-ttu-id="5d620-301">Основная важность заключается в том, что для регистрации необработанных исключений в рабочей среде используется некоторый механизм.</span><span class="sxs-lookup"><span data-stu-id="5d620-301">What is fundamentally important is that some mechanism be put in place to log unhandled exceptions in the production environment.</span></span>

<span data-ttu-id="5d620-302">Поздравляем с программированием!</span><span class="sxs-lookup"><span data-stu-id="5d620-302">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="5d620-303">Дополнительные материалы</span><span class="sxs-lookup"><span data-stu-id="5d620-303">Further Reading</span></span>

<span data-ttu-id="5d620-304">Дополнительные сведения о разделах, обсуждаемых в этом руководстве, см. в следующих ресурсах:</span><span class="sxs-lookup"><span data-stu-id="5d620-304">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="5d620-305">ELMAH — модули и обработчики ведения журнала ошибок</span><span class="sxs-lookup"><span data-stu-id="5d620-305">ELMAH - Error Logging Modules and Handlers</span></span>](http://dotnetslackers.com/articles/aspnet/ErrorLoggingModulesAndHandlers.aspx)
- <span data-ttu-id="5d620-306">[Страница проекта ELMAH](https://code.google.com/p/elmah/) (исходный код, примеры, вики-страницы)</span><span class="sxs-lookup"><span data-stu-id="5d620-306">[ELMAH Project Page](https://code.google.com/p/elmah/) (source code, samples, wiki)</span></span>
- <span data-ttu-id="5d620-307">[Подключение ELMAH к веб-приложению для перехвата необработанных исключений](http://screencastaday.com/ScreenCasts/43_Plugging_Elmah_into_Web_Application_to_Catch_Unhandled_Exceptions.aspx) (видео)</span><span class="sxs-lookup"><span data-stu-id="5d620-307">[Plugging ELMAH Into a Web Application to Catch Unhandled Exceptions](http://screencastaday.com/ScreenCasts/43_Plugging_Elmah_into_Web_Application_to_Catch_Unhandled_Exceptions.aspx) (video)</span></span>
- [<span data-ttu-id="5d620-308">Страницы журнала ошибок безопасности</span><span class="sxs-lookup"><span data-stu-id="5d620-308">Security Error Log Pages</span></span>](https://code.google.com/p/elmah/wiki/SecuringErrorLogPages)
- [<span data-ttu-id="5d620-309">Использование модулей и обработчиков HTTP для создания подключаемых компонентов ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5d620-309">Using HTTP Modules and Handlers to Create Pluggable ASP.NET Components</span></span>](https://msdn.microsoft.com/library/aa479332.aspx)
- [<span data-ttu-id="5d620-310">Учебники по безопасности веб-сайтов</span><span class="sxs-lookup"><span data-stu-id="5d620-310">Website Security Tutorials</span></span>](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md)

> [!div class="step-by-step"]
> <span data-ttu-id="5d620-311">[Назад](logging-error-details-with-asp-net-health-monitoring-cs.md)
> [Вперед](precompiling-your-website-cs.md)</span><span class="sxs-lookup"><span data-stu-id="5d620-311">[Previous](logging-error-details-with-asp-net-health-monitoring-cs.md)
[Next](precompiling-your-website-cs.md)</span></span>
