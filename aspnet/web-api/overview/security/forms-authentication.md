---
uid: web-api/overview/security/forms-authentication
title: Проверки подлинности форм в веб-API ASP.NET | Документация Майкрософт
author: MikeWasson
description: Описывает, с помощью форм в ASP.NET Web API.
ms.author: riande
ms.date: 12/12/2012
ms.assetid: 9f06c1f2-ffaa-4831-94a0-2e4a3befdf07
msc.legacyurl: /web-api/overview/security/forms-authentication
msc.type: authoredcontent
ms.openlocfilehash: 35d62a83382553085ed8a728dcdcdae0e93090b8
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57065331"
---
<a name="forms-authentication-in-aspnet-web-api"></a>Проверка подлинности форм в веб-API ASP.NET
====================
по [Майк Уоссон](https://github.com/MikeWasson)

Аутентификация с помощью форм использует HTML-формы для отправки учетных данных пользователя на сервер. Он не является стандартом Интернета. Проверка подлинности форм только подходит для веб-API, которые вызываются из веб-приложения, чтобы пользователь мог взаимодействовать с HTML-формы.

| Преимущества | Недостатки |
| --- | --- |
| -Легко реализовать: Встроенная в ASP.NET. -Использует поставщик членства ASP.NET, который упрощает управление учетными записями пользователей. | — Не на стандартный HTTP механизм проверки подлинности; использует файлы cookie HTTP, а не стандартный заголовок авторизации. — Требует веб-клиент. -Учетные данные отправляются в виде открытого текста. -Подвержена подделки межсайтовых запросов (CSRF); требуется anti-CSRF меры. -Сложно использовать nonbrowser клиентов. Имя входа требуется браузер. -Учетные данные отправляются в запросе. — Ряд пользователей отключить файлы cookie. |

Коротко говоря проверку подлинности форм в ASP.NET работает следующим образом:

1. Клиент запрашивает ресурс, который требует проверки подлинности.
2. Если пользователь не прошел проверку подлинности, сервер возвращает HTTP 302 (найдено) и перенаправляет на страницу входа.
3. Пользователь вводит учетные данные и отправляет форму.
4. Сервер возвращает другой HTTP 302, которое перенаправляется обратно на исходный URI. Этот ответ содержит файл cookie проверки подлинности.
5. Клиент запрашивает ресурс еще раз. Запрос включает файл cookie проверки подлинности, поэтому сервер предоставляет запрос.

![](forms-authentication/_static/image1.png)

Дополнительные сведения см. в разделе [Обзор аутентификации форм.](../../../web-forms/overview/older-versions-security/introduction/an-overview-of-forms-authentication-cs.md)

## <a name="using-forms-authentication-with-web-api"></a>С помощью форм с помощью веб-API

Чтобы создать приложение, использующее проверку подлинности форм, выберите шаблон «Веб-приложение» в мастере проектов MVC 4. Этот шаблон создает контроллеры MVC для управления учетными записями. Можно также использовать шаблон «Одностраничного приложения», доступных в обновлении Fall 2012 ASP.NET.

В контроллерах веб-API, можно ограничить доступ с помощью `[Authorize]` атрибута, как описано в разделе [с помощью атрибута [Authorize]](authentication-and-authorization-in-aspnet-web-api.md#auth3).

Проверки подлинности форм использует файл cookie сеанса для проверки подлинности запросов. Браузеры автоматически отправляют все необходимые файлы cookie веб-узлу. Благодаря этой функции проверки подлинности форм потенциально уязвима к запроса, см. в разделе атаки с подделкой межсайтовых [атак с подделкой запроса с Предотвращение Cross-Site (CSRF)](preventing-cross-site-request-forgery-csrf-attacks.md).

Проверка подлинности форм не шифрует учетные данные пользователя. Таким образом проверка подлинности форм не является безопасным, за исключением применения с SSL. См. в разделе [работа с SSL в веб-API](working-with-ssl-in-web-api.md).
