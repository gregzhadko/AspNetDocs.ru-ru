---
uid: single-page-application/overview/templates/emberjs-template
title: Шаблон Ембержс | Документация Майкрософт
author: xqiu
description: Шаблон EmberJS
ms.author: riande
ms.date: 01/30/2013
ms.assetid: 04d5f142-5f62-494a-b5ea-4f3d068d34cb
msc.legacyurl: /single-page-application/overview/templates/emberjs-template
msc.type: authoredcontent
ms.openlocfilehash: 1aefa46dd0841b1b06675409cc8a09f9a218d7ac
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78467160"
---
# <a name="emberjs-template"></a>Шаблон EmberJS

по [Ксинянг КИУ](https://github.com/xqiu)

> Шаблон Ембержс MVC написан на (Nathan Тоттен, Thiago Сантос и Ксинянг КИУ.
> 
> [Скачивание шаблона MVC Ембержс](https://go.microsoft.com/fwlink/?LinkId=282647)

Шаблон Ембержс SPA предназначен для быстрого создания интерактивных веб-приложений на стороне клиента с помощью Ембержс.

"Одностраничное приложение" (SPA) — это общий термин для веб-приложения, которое загружает одну HTML-страницу и обновляет страницу динамически, вместо того, чтобы загружать новые страницы. После начальной загрузки страницы Протокол SPA обращается к серверу через запросы AJAX.

![](emberjs-template/_static/image1.png)

AJAX не является ничего новым, но на сегодняшний день существуют платформы JavaScript, упрощающие создание и обслуживание большого сложного приложения SPA. Кроме того, HTML 5 и CSS3 упрощают создание многофункциональных интерфейсов пользователя.

Шаблон Ембержс SPA использует библиотеку JavaScript [Ember](http://emberjs.com/) для обработки обновлений страницы из запросов AJAX. Ember. js использует привязку данных для синхронизации страницы с последними данными. Таким образом, вам не нужно писать код, который проходит через данные JSON и обновляет модель DOM. Вместо этого в HTML-коде помещаются декларативные атрибуты, указывающие Ember. js, как представлять данные.

На стороне сервера шаблон Ембержс практически идентичен [шаблону KNOCKOUTJS Spa](../introduction/knockoutjs-template.md). Он использует ASP.NET MVC для обслуживания документов HTML и веб-API ASP.NET для обработки запросов AJAX от клиента. Дополнительные сведения об этих аспектах шаблона см. в документации по [шаблону KnockoutJS](../introduction/knockoutjs-template.md) . В этом разделе рассматриваются различия между шаблоном маскирования и шаблоном Ембержс.

## <a name="create-an-emberjs-spa-template-project"></a>Создание проекта шаблона Ембержс SPA

Скачайте и установите шаблон, нажав кнопку Загрузить выше. Возможно, потребуется перезапустить Visual Studio.

В области **шаблоны** выберите **Установленные шаблоны** и разверните узел  **C# визуального** элемента. В **разделе C#визуальный** элемент выберите **веб**. В списке шаблонов проектов выберите **ASP.NET MVC 4 веб-приложение**. Задайте для проекта имя и щелкните **ОК**.

![](emberjs-template/_static/image2.png)

В мастере **создания проектов** выберите **проект EMBER. js Spa**.

![](emberjs-template/_static/image4.png)

## <a name="emberjs-spa-template-overview"></a>Общие сведения о шаблоне SPA Ембержс

Шаблон Ембержс использует сочетание jQuery, Ember. js, заголовки. js для создания плавного интерактивного пользовательского интерфейса.

Ember. js — это библиотека JavaScript, которая использует шаблон MVC на стороне клиента.

- *Шаблон*, написанный на языке шаблонов заголовки, описывает пользовательский интерфейс приложения. В режиме выпуска [компилятор заголовки](https://github.com/Myslik/csharp-ember-handlebars) используется для объединения и компиляции шаблона заголовки.
- *Модель* хранит данные приложения, полученные с сервера (списки задач и элементы TODO).
- *Контроллер* хранит состояние приложения. Контроллеры часто представляют данные модели соответствующим шаблонам.
- *Представление* преобразует события-примитивы из приложения и передает их контроллеру.
- *Маршрутизатор* управляет состоянием приложения, обеспечивая синхронизацию URL-адресов и шаблонов.

Кроме того, библиотеку данных Ember можно использовать для синхронизации объектов JSON (полученных с сервера через API RESTFUL) и клиентских моделей.

Шаблон Ембержс SPA организует скрипты на восемь уровней:

- webapi\_Adapter. js, webapi\_сериализатор. js: расширяет библиотеку данных Ember для работы с веб-API ASP.NET.
- Scripts/helps. js: определяет новые вспомогательные методы Ember заголовки.
- Scripts/App. js: создает приложение и настраивает адаптер и сериализатор.
- Scripts/App/Models/\*. js: определяет модели.
- Scripts/app/views/\*. js: определяет представления.
- Scripts/App/Controllers/\*. js: определяет контроллеры.
- Scripts/App/Routes, Scripts/App/Router. js: определяет маршруты.
- Templates/\*. ХБС: определяет шаблоны заголовки.

Рассмотрим некоторые из этих сценариев более подробно.

## <a name="models"></a>Модели

Модели определяются в папке Scripts/App/Models. Существует два файла модели: todoItem. js и todoList. js.

**TODO. Model. js** определяет модели на стороне клиента (браузер) для списков задач. Существует два класса модели: todoItem и todoList. В Ember модели являются подклассами DS. Моделировать. Модель может иметь свойства с атрибутами:

[!code-javascript[Main](emberjs-template/samples/sample1.js)]

Модели могут определять связи с другими моделями:

[!code-css[Main](emberjs-template/samples/sample2.css)]

Модели могут иметь вычисленные свойства, которые привязаны к другим свойствам:

[!code-javascript[Main](emberjs-template/samples/sample3.js)]

Модели могут иметь функции наблюдателя, которые вызываются при изменении наблюдаемого свойства:

[!code-javascript[Main](emberjs-template/samples/sample4.js)]

## <a name="views"></a>Представления

Представления определяются в папке Scripts/app/views. Представление преобразует события из пользовательского интерфейса приложения. Обработчик событий может выполнить обратный вызов функций контроллера или просто вызвать контекст данных напрямую.

Например, следующий код находится в представлении views/Тодоитемедитвиев. js. Он определяет обработку событий для текстового поля ввода.

[!code-javascript[Main](emberjs-template/samples/sample5.js)]

## <a name="controller"></a>Контроллер

Контроллеры определяются в папке Scripts/App/Controllers. Чтобы представить одну модель, расширьте `Ember.ObjectController`:

[!code-javascript[Main](emberjs-template/samples/sample6.js)]

Контроллер также может представлять коллекцию моделей путем расширения `Ember.ArrayController`. Например, TodoListController представляет массив объектов `todoList`. Контроллер сортирует по todoList ИДЕНТИФИКАТОРу в порядке убывания:

[!code-javascript[Main](emberjs-template/samples/sample7.js)]

Контроллер определяет функцию с именем `addTodoList`, которая создает новый todoList и добавляет ее в массив. Чтобы увидеть, как вызывается эта функция, откройте файл шаблона с именем Тодолисттемплате. HTML в папке Templates. Следующий код шаблона привязывает кнопку к функции `addTodoList`:

[!code-html[Main](emberjs-template/samples/sample8.html)]

Контроллер также содержит свойство `error`, содержащее сообщение об ошибке. Ниже приведен код шаблона для вывода сообщения об ошибке (также в Тодолисттемплате. HTML):

[!code-html[Main](emberjs-template/samples/sample9.html)]

## <a name="routes"></a>Маршруты

Router. js определяет маршруты и шаблон по умолчанию для отображения, настраивает состояние приложения и сопоставляет URL-адреса с маршрутами:

[!code-javascript[Main](emberjs-template/samples/sample10.js)]

Тодолистрауте. js загружает данные для Тодолистрауте, переопределяя функцию Сетупконтроллер:

[!code-javascript[Main](emberjs-template/samples/sample11.js)]

Ember использует соглашения об именовании для сопоставления URL-адресов, имен маршрутов, контроллеров и шаблонов. Дополнительные сведения см. в разделе [http://emberjs.com/guides/routing/defining-your-routes/](http://emberjs.com/guides/routing/defining-your-routes/) в документации по ембержс.

## <a name="templates"></a>Шаблоны

Папка Templates содержит четыре шаблона:

- Application. ХБС: шаблон по умолчанию, отображаемый при запуске приложения.
- About. ХБС: шаблон для маршрута "/абаут".
- index. ХБС: шаблон для корневого маршрута "/".
- todoList. ХБС — шаблон для маршрута «/Тодо».
- \_панель навигации. ХБС. шаблон определяет меню переходов.

Шаблон приложения действует как Главная страница. Он содержит заголовок, нижний колонтитул и "{{Outlet}}" для вставки других шаблонов в зависимости от маршрута. Дополнительные сведения о шаблонах приложений в Ember см. в разделе [http://guides.emberjs.com/v1.10.0/templates/the-application-template//](http://guides.emberjs.com/v1.10.0/templates/the-application-template/).

Шаблон "/Тодолист" содержит два выражения цикла. Внешний цикл `{{#each controller}}`, а цикл внутри — `{{#each todos}}`. В следующем коде показан встроенный `Ember.Checkbox` представление, настраиваемый `App.TodoItemEditView`и ссылка с `deleteTodo` действием.

[!code-html[Main](emberjs-template/samples/sample12.html)]

Класс `HtmlHelperExtensions`, определенный в Controllers/Хтмлхелперекстенсионс. cs, определяет вспомогательную функцию для кэширования и вставки файлов шаблонов при установке для **Debug** значения **true** в файле Web. config. Эта функция вызывается из файла представления ASP.NET MVC, определенного в Views/Home/App. cshtml:

[!code-cshtml[Main](emberjs-template/samples/sample13.cshtml)]

Функция, вызываемая без аргументов, отображает все файлы шаблонов в папке шаблонов. Можно также указать вложенную папку или конкретный файл шаблона.

Если параметр **Debug** имеет **значение false** в файле Web. config, приложение включает элемент пакета «~/бундлес/темплатес». Этот элемент пакета добавляется в BundleConfig.cs с помощью библиотеки компилятора заголовки:

[!code-csharp[Main](emberjs-template/samples/sample14.cs)]
