---
uid: single-page-application/overview/templates/breezeknockout-template
title: Шаблон breeze/Knockout | Документация Майкрософт
author: madskristensen
description: Шаблон breeze/Knockout одностраничного приложения
ms.author: riande
ms.date: 01/30/2013
ms.assetid: 3bd94827-3c59-448f-abc3-36e6df4858db
msc.legacyurl: /single-page-application/overview/templates/breezeknockout-template
msc.type: authoredcontent
ms.openlocfilehash: 482119a97f30e24472231897e8db31685c451a0f
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59400793"
---
# <a name="breezeknockout-template"></a>Шаблон Breeze/Knockout

по [Мэдсом Kristensen](https://github.com/madskristensen)

> Шаблон Breeze/Knockout было написано с Ворд колокольчика
> 
> [Загрузить шаблон Breeze/Knockout](https://go.microsoft.com/fwlink/?LinkId=282649)


Вы уже слышали о «одностраничное приложение» (SPA) и хотите узнать, что это такое. Хотя можно прочитать об этом, вместо этого будет испытывать его самостоятельно. Но у кого остается время, чтобы загрузить пример? Если у вас есть Visual Studio, у вас есть пример одностраничного приложения и под управлением в меньше, чем 60 секунд с ASP.NET MVC 4 шаблон «Breeze/Knockout одностраничного приложения».

![](http://www.breezejs.com/sites/all/images/spa-template/ZephyrRunning.png)

## <a name="what-is-the-breezeknockout-spa-template"></a>Что такое шаблон Breeze/Knockout SPA

Большинство шаблонов проектов Создание схемы приложения. Включить эти кости уйму путем добавления кода и обеспечивает работающего приложения. Шаблон Breeze/Knockout SPA выглядит иначе. Он создает образец приложения для вам в изучении. Он демонстрирует макета приложения SPA и многие из методик для создания SPA.

Шаблон Breeze/Knockout является вариантом на [шаблон KnockoutJS SPA](../introduction/knockoutjs-template.md) включенным в ASP.NET и веб-инструменты 2012.2 обновление. Шаблон Breeze SPA используется для создания приложения с тем же взаимодействие с пользователем, но имеет другую реализацию, с помощью очень просто для управления данными.

Шаблон KnockoutJS SPA делает запросы к службе с необработанных jQuery AJAX, который подходит для простого приложения. Но более сложные приложения имеют более высокие требования к управлению данными. Например, большинство приложений:

- Запрос и повторного запроса во время сеанса расширенных пользователя.
- Добавьте запрос фильтры, сортировку и разбиение по страницам.
- Общие данные на нескольких экранах.
- Накапливать изменения многих объектов, а затем сохраните их как одну транзакцию.
- Проверяет изменения на стороне клиента, поэтому пользователь может исправления ошибок, перед внесением изменений в базу данных.

Библиотека BreezeJS обрабатывает эти рутинную работу, вы можете разрабатывать приложения логики и пользовательский интерфейс самых освобождение.

[**Очень просто** ](http://www.breezejs.com/?utm_source=ms-spa) является библиотекой с открытым исходным кодом для создания приложений с богатыми возможностями в JavaScript и HTML, типы приложений, которые традиционно были доставлены как автономных настольных приложений.

Шаблон Breeze/Knockout помогает в этой первой позволит распространить действие более надежную инфраструктуру данных управления. Он создает пример приложения Todo, которое внешне идентичный шаблон KnockoutJS SPA. Внутри он заменяет слое данных AJAX очень просто, чтобы можно было сравнить два приближается к side-by-side. Конечно он едва соприкасается потенциал приложения очень просто. Но вы увидите, как работает очень просто и какая незначительная необходимо, чтобы сделать этот переход.

Итак, начнем.

## <a name="create-a-breezeknockout-template-project"></a>Создание проекта шаблон Breeze/Knockout

Скачайте и установите шаблон, нажав кнопку "скачать" выше. Шаблон упаковывается в формате Visual Studio Extension (VSIX). Может потребоваться перезапустить Visual Studio.

В **шаблоны** области выберите **установленные шаблоны** и разверните **Visual C#** узла. В разделе **Visual C#** выберите **Web**. В списке шаблонов проектов выберите **веб-приложение ASP.NET MVC 4**. Имя проекта и нажмите кнопку **ОК**.

В **новый проект** мастера выберите **Breeze Knockout SPA**.

![](http://www.breezejs.com/sites/all/images/spa-template/SelectBreezeKOSpaTemplate.png)

Нажмите клавиши Ctrl-F5, чтобы построить и запустить приложение без отладки, или нажмите клавишу F5, чтобы запустить программу с отладкой.

![](http://www.breezejs.com/sites/all/images/spa-template/ZephyrRunning.png)

При первом запуске приложения отображается экран входа. Щелкните ссылку «Регистрация» и glides новую страницу в представлении, где можно ввести имя пользователя и пароль. (На страницах входа и регистрации создаются с использованием ASP.NET MVC.) Когда вы отправляете форму регистрации, сервер создает TodoList с двумя элементами для вашей учетной записи. Затем отображаемыми их на желтый ноте.

![](http://www.breezejs.com/sites/all/images/spa-template/TodoList.png)

Теперь вы находитесь в land одностраничного приложения. Все, что вы просматриваете и возникают во время обработки задач к просмотру и управляется на клиенте с помощью Knockout и Breeze. Обзор приложения от имени пользователя... но с изображением глаза для разработчика. Использование средств разработчика в браузере для записи сетевого трафика. (В Internet Explorer: Нажмите клавишу F12, выберите **сети** , а щелкните **начать захват**.) Теперь попробуйте сделайте следующее:

- Добавьте новый элемент списка дел.
- Щелкните метку и изменить заголовок элемента списка дел
- Установите флажок, чтобы пометить элемент done. Обратите внимание, что текстовое поле отключено, поэтому заголовок больше не является редактируемой.
- Щелкните значок «x» справа от метки. Элемент исчезнет и удаляется из базы данных.
- Выберите другой элемент и очистить его заголовок. Вы получите ошибку проверки, что заголовок является обязательным. После небольшой паузы восстанавливается предыдущих заголовок.
- Введите в очень длинный заголовок. Вы получите ошибку проверки, название слишком длинное.
- Нажмите кнопку «Добавить Todo List». Появится новый список слева от приведенного выше списка.
- Воспроизведение с заголовком TodoList, активируя ее и проверки длины.
- Щелкните текстовое поле заголовка, чтобы очистить сообщение об ошибке.
- Нажмите кнопку «x» в круге в правом верхнем углу, чтобы удалить TodoList и его задач.

Логика проверки реализуется выполнено стороне клиента с очень просто. Атрибуты проверки в классах модели сервера передаются клиенту и выполняется автоматически, прежде чем клиент связывается с сервером.

Просмотрите сетевой трафик. Обратите внимание, что факт никакие вызовы на сервер при очень просто обнаружена ошибка. Каждое допустимое Изменение привело к запрос POST к «/ api/Todo/SaveChanges». Очень просто объединяет изменения и отправляет их друг с другом виде одного запроса контроллер Web API `SaveChanges` метод. Это отличается от шаблона KnockoutJS SPA, что делает PUT, POST и DELETE запросов для каждого элемента по отдельности.

## <a name="peek-inside"></a>Показать внутри

Это приложение имеет стороне клиента и на стороне сервера. Стек клиентского состоит из немного HTML и сочетание модули приложения JavaScript (в папке «приложение») плюс сторонних библиотек JavaScript (в папке «Сценарии»).

![](http://www.breezejs.com/sites/all/images/spa-template/ClientArchitecture.png)

Если изучить шаблон KnockoutJS SPA, это покажется очень знакомым. Сосредоточьтесь на синие прямоугольники. Архитектура пользовательского интерфейса является Model-View-ViewModel (MVVM), в котором мини-приложения HTML в представлении четко отделены от кода поддержки презентации в модели представления. Система привязки данных (в нашем примере — Knockout) координирует представления и модель представления, что каждый может выполнять свою работу без глубокого знания другого.

Модель инкапсулирует данные Todo. Сущности в модели построены очень просто с Knockout наблюдаемые свойства, поэтому они могут быть привязаны непосредственно к мини-приложения в представлении. Модель представления запрашивает контекст данных для получения и сохранения модели сущностей. Контекст данных делегирует большая часть работы по очень просто.

Стека на сервере состоит из трех библиотек .NET принцип и код разработчика: Веб-API, платформа Entity Framework и Breeze.NET:

![](http://www.breezejs.com/sites/all/images/spa-template/ServerArchitecture.png)

Базовая архитектура является таким же, как шаблон KnockoutJS SPA. Тем не менее реализация выглядит гораздо проще: DTO были удалены, и большая часть деталей Entity Framework делегированных Breeze.NET.

## <a name="next-steps"></a>Следующие шаги

Мы рекомендуем просмотреть код, занятия под руководством [обширной обсуждение](http://www.breezejs.com/spa-template?utm_source=ms-spa) клиента и стеки серверов, на веб-сайте очень просто.

Можно попробовать воспроизведение с помощью запросов на стороне клиента очень просто; Добавьте некоторые фильтры и выполнять сортировку. Можно добавить дополнительные свойства модели и дополнительные сущности, чтобы лучше понять, для разработки SPA end-to-end. Если есть уверенность, разработки, можно разделять работу функций Todo, а затем заменить их на собственные.

Скоро вы будете готовы для очередной важный этап: Добавление экранов на стороне клиента и перехода между ними. Можно оставить этот шаблон одностраничного приложения и включить в более полный стек SPA, например [выкинуть "Горячий" Джон Папа](https://github.com/johnpapa/HotTowel#readme "горячей выкинуть"), добавляющая Durandal набор Breeze и маскирования.
