---
uid: single-page-application/overview/templates/hottowel-template
title: Шаблон Hot Товел | Документация Майкрософт
author: madskristensen
description: Шаблон Хоттовел
ms.author: riande
ms.date: 02/09/2013
ms.assetid: 75af2e17-6ed3-4d24-8ea1-bc340027c318
msc.legacyurl: /single-page-application/overview/templates/hottowel-template
msc.type: authoredcontent
ms.openlocfilehash: eeab69e75546791978bb09d7823d95caf9dca1a0
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78467142"
---
# <a name="hot-towel-template"></a>Шаблон Hot Towel

по [Мэдсом Кристенсеном](https://github.com/madskristensen)

> Шаблон "горячий Товел MVC" написан Джон Папа (
> 
> Выберите версию для загрузки:
> 
> [Шаблон Товел MVC для Visual Studio 2012](https://visualstudiogallery.msdn.microsoft.com/1f68fbe8-b4e9-4968-9fd3-ddc7cbc52dca)
> 
> [Шаблон "горячий Товел MVC" для Visual Studio 2013](https://visualstudiogallery.msdn.microsoft.com/1eb8780d-d522-4dcf-bf56-56f0eab305c2)
> 
> 
> Горячий Товел: так как вы не хотите переходить к SPA без участия!

Хотите создать SPA, но не можете решить, где начать? Используйте горячий Товел и, в секундах, вы получите SPA и все средства, которые должны быть созданы.

Горячий Товел создает отличную отправную точку для создания одностраничного приложения (SPA) с помощью ASP.NET. В этом случае вы предоставляете модульную структуру кода, навигацию по представлениям, привязку данных, широкие возможности управления данными, а также простые, но элегантные стили. Горячий Товел предоставляет все необходимое для создания SPA, чтобы вы могли сосредоточиться на своем приложении, а не на связи.

> Узнайте больше о создании SPA на основе [видеороликов, руководств и Pluralsight курсов Джон Папа (](http://johnpapa.net/spa?vsix).

## <a name="application-structure"></a>Структура приложений

Горячий Товел SPA предоставляет папку приложения, в которой содержатся файлы JavaScript и HTML, определяющие приложение.

Внутри папки приложения:

- Durandal
- services;
- ViewModels
- узел "Представления"

Папка приложения содержит коллекцию модулей. Эти модули инкапсулируют функциональность и объявляют зависимости от других модулей. Папка Views содержит код HTML для вашего приложения, а папка ViewModels содержит логику представления для представлений (общий шаблон MVVM). Папка Services идеально подходит для размещения любых общих служб, которые могут потребоваться вашему приложению, таких как получение данных HTTP или взаимодействие с локальным хранилищем. Часто несколько ViewModels используются для повторного использования кода из модулей служб.

## <a name="aspnet-mvc-server-side-application-structure"></a>Структура приложения ASP.NET MVC на стороне сервера

Горячий Товел построен на знакомой и мощной структуре ASP.NET MVC.

- Запуск\_приложения
- Содержимое
- Controllers;
- Модели
- Сценарии
- Представления

## <a name="featured-libraries"></a>Избранные библиотеки

- ASP.NET MVC 3
- Веб-API ASP.NET
- Веб-Оптимизация ASP.NET — объединение и минификации
- Очень просто [. js](http://Breezejs.com) -расширенное управление данными
- [Durandal. js](http://Durandaljs.com) — Навигация и просмотр структуры
- [Выколачивание. js](http://Knockoutjs.com) — привязки данных
- [Требовать. js](http://requirejs.org) -модуль с AMD и оптимизацией
- Всплывающие окна всплывающих сообщений [. js](http://jpapa.me/c7toastr)
- [Начальная загрузка Twitter](https://twitter.github.com/bootstrap/) — надежная СТИЛИЗАЦИя CSS

## <a name="installing-via-the-visual-studio-2012-hot-towel-spa-template"></a>Установка с помощью шаблона горячий Товел SPA в Visual Studio 2012

Горячий Товел можно установить как шаблон Visual Studio 2012. Просто щелкните `File` | `New Project` и выберите `ASP.NET MVC 4 Web Application`. Затем выберите шаблон "горячее Товел одностраничное приложение" и выполните команду!

## <a name="installing-via-the-nuget-package"></a>Установка с помощью пакета NuGet

Горячий Товел также является пакетом NuGet, который дополняет существующий пустой проект ASP.NET MVC. Просто установите с помощью NuGet, а затем запустите.

[!code-powershell[Main](hottowel-template/samples/sample1.ps1)]

## <a name="how-do-i-build-on-hot-towel"></a>Как выполнить сборку с горячий Товел?

Просто начните добавлять код!

1. Добавьте собственный код на стороне сервера, предпочтительно Entity Framework и WebAPI (что, в действительности, очень просто с помощью простого. js)
2. Добавление представлений в папку `App/views`
3. Добавление ViewModels в папку `App/viewmodels`
4. Добавление привязок данных HTML и маскирования в новые представления
5. Обновление маршрутов навигации в `shell.js`

## <a name="walkthrough-of-the-htmljavascript"></a>Пошаговое руководство по HTML/JavaScript

### <a name="viewshottowelindexcshtml"></a>Views/Хоттовел/index. cshtml

index. cshtml — это начальный маршрут и представление для приложения MVC. Он содержит все стандартные теги META, ссылки CSS и ссылки JavaScript. Текст содержит один `<div>`, где все содержимое (представления) будет помещено при запросе. `@Scripts.Render` использует файл обязательно. js для запуска точки входа для кода приложения, который содержится в файле `main.js`. Экран-заставка показывает, как создать экран-заставку во время загрузки приложения.

[!code-cshtml[Main](hottowel-template/samples/sample2.cshtml)]

### <a name="appmainjs"></a>App/Main. js

Файл `main.js` содержит код, который будет выполняться сразу после загрузки приложения. Здесь вы хотите определить маршруты навигации, задать представления запуска и выполнить настройку или начальную загрузку, например подготовка данные вашего приложения.

Файл `main.js` определяет несколько модулей Durandal, которые помогут запустить приложение. Инструкция define помогает разрешить зависимости модулей, чтобы они были доступны для функции. Сначала сообщения отладки включены, которые отправляют сообщения о событиях, выполняемых приложением в окне консоли. Код App. Start сообщает Durandal Framework запустить приложение. Соглашения задаются таким образом, что Durandal знает все представления и ViewModels содержатся в одних и тех же именованных папках соответственно. Наконец, `app.setRoot` запускает загрузку `shell` с помощью предопределенной `entrance` анимации.

[!code-javascript[Main](hottowel-template/samples/sample3.js)]

## <a name="views"></a>Представления

Представления находятся в папке `App/views`.

### <a name="shellhtml"></a>Shell. HTML

`shell.html` содержит основной макет для HTML-кода. Все остальные представления будут содержаться в любом месте в представлении `shell`. Горячий Товел предоставляет `shell` с тремя такими регионами: заголовок, область содержимого и нижний колонтитул. Каждый из этих регионов загружается вместе с содержимым в другие представления по запросу.

Привязки `compose` для верхнего и нижнего колонтитулов жестко закодированы в горячий Товел, чтобы они указывали на `nav` и `footer` представления соответственно. Привязка создания для раздела `#content` привязана к активному элементу модуля `router`. Иными словами, при щелчке ссылки навигации в этой области загружается соответствующее представление.

[!code-html[Main](hottowel-template/samples/sample4.html)]

### <a name="navhtml"></a>NAV. HTML

`nav.html` содержит ссылки навигации для SPA. В этом случае можно разместить структуру меню, например. Часто это происходит с привязкой данных (с использованием маскирования) к модулю `router` для просмотра навигации, определенной в `shell.js`. Выколачивание ищет атрибуты привязки данных и привязывает их к `shell` ViewModel для отображения маршрутов навигации и отображения ProgressBar (с помощью начальной загрузки Twitter), если модуль `router` находится в процессе перехода от одного представления к другому (см. `router.isNavigating`).

[!code-html[Main](hottowel-template/samples/sample5.html)]

### <a name="homehtml-and-detailshtml"></a>Home. HTML и Details. HTML

Эти представления содержат HTML для пользовательских представлений. При нажатии ссылки `home` в меню представления `nav` представление `home` будет помещено в область содержимого представления `shell`. Эти представления можно дополнить или заменить собственными пользовательскими представлениями.

### <a name="footerhtml"></a>Нижний колонтитул. HTML

`footer.html` содержит HTML-код, отображаемый в нижнем колонтитуле в нижней части представления `shell`.

## <a name="viewmodels"></a>Модели представлений

ViewModels находятся в папке `App/viewmodels`.

### <a name="shelljs"></a>Shell. js

`shell` ViewModel содержит свойства и функции, привязанные к представлению `shell`. Часто это место, где обнаруживаются привязки навигации по меню (см. логику `router.mapNav`).

[!code-javascript[Main](hottowel-template/samples/sample6.js)]

### <a name="homejs-and-detailsjs"></a>Home. js и Details. js

Эти классы ViewModel содержат свойства и функции, привязанные к `home`ному представлению. Он также содержит логику представления для представления и является связующим представлением между данными и представлением.

[!code-javascript[Main](hottowel-template/samples/sample7.js)]

## <a name="services"></a>Службы

Службы находятся в папке App/Services. В идеале для будущих служб, таких как модуль службы данных, который отвечает за получение и публикацию удаленных данных, может быть размещен.

### <a name="loggerjs"></a>Logger. js

Горячий Товел предоставляет модуль `logger` в папке "службы". Модуль `logger` идеально подходит для ведения журнала сообщений в консоли и для пользователя во всплывающих уведомлениях.
