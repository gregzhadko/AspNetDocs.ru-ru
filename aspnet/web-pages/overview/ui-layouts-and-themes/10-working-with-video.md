---
uid: web-pages/overview/ui-layouts-and-themes/10-working-with-video
title: Отображение видео на сайте веб-страницы ASP.NET (Razor) | Документация Майкрософт
author: Rick-Anderson
description: В этой главе объясняется, как отобразить видео в веб-страницы ASP.NET со страницей синтаксис Razor.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: 332fb3da-e2a5-460d-bb90-dd911e1e2c95
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/10-working-with-video
msc.type: authoredcontent
ms.openlocfilehash: 516d46f38ce8910209f4207c474b0404bf012950
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78510384"
---
# <a name="displaying-video-in-an-aspnet-web-pages-razor-site"></a>Отображение видео на сайте веб-страницы ASP.NET (Razor)

от [Tom фитзмаккен](https://github.com/tfitzmac)

> В этой статье объясняется, как использовать проигрыватель видео (мультимедиа) на веб-сайте веб-страницы ASP.NET (Razor), чтобы пользователи могли просматривать видео, хранящиеся на сайте. Веб-страницы ASP.NET с синтаксис Razor позволяет воспроизводить видео Flash ( *. SWF*), Media Player ( *. wmv*) и Silverlight (*XAP*).
> 
> Из этого руководства вы узнаете, как выполнять такие задачи:
> 
> - Как выбрать видеопроигрыватель.
> - Добавление видео на веб-страницу.
> - Настройка атрибутов проигрывателя видео.
> 
> Ниже приведены функции ASP.NET Razor Pages, представленные в статье:
> 
> - Вспомогательный метод `Video`.
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a>Версии программного обеспечения, используемые в этом руководстве
> 
> 
> - Веб-страницы ASP.NET (Razor) 2
> - WebMatrix 2
>   
> 
> Этот учебник также работает с WebMatrix 3.

## <a name="introduction"></a>Введение

Может потребоваться отобразить видео на сайте. Одним из способов сделать это является связывание с сайтом, на котором уже есть видео, например YouTube. Если вы хотите внедрить видео с этих сайтов непосредственно на собственные страницы, обычно можно получить разметку HTML с сайта и скопировать их на страницу. Например, в следующем примере показано, как внедрить видео YouTube:

[!code-html[Main](10-working-with-video/samples/sample1.html?highlight=10-14)]

Если вы хотите воспроизвести видео, которое находится на собственном веб-сайте (а не на общедоступном сайте для совместного использования видео), вы не можете напрямую привязать его, используя внедренную разметку, подобную этой. Однако можно воспроизводить видео с сайта с помощью вспомогательного метода `Video`, который отображает проигрыватель мультимедиа непосредственно на странице.

<a id="Choosing_a_Video_Player"></a>
## <a name="choosing-a-video-player"></a>Выбор видеопроигрывателя

Существует множество форматов для видеофайлов, и для каждого формата обычно требуется другой проигрыватель и другой способ настройки проигрывателя. На страницах Razor ASP.NET можно воспроизвести видео на веб-странице с помощью вспомогательного метода `Video`. Вспомогательный метод `Video` упрощает процесс встраивания видео на веб-страницу, так как автоматически создает `object` и `embed` HTML-элементы, которые обычно используются для добавления видео на страницу.

Вспомогательный модуль `Video` поддерживает следующие проигрыватели мультимедиа:

- Adobe Flash
- Windows MediaPlayer
- Microsoft Silverlight

### <a name="the-flash-player"></a>Проигрыватель Flash Player

Проигрыватель `Flash` вспомогательного приложения `Video` позволяет воспроизводить видео Flash (файлы *. SWF* ) на веб-странице. Как минимум необходимо указать путь к видеофайл. Если указать только путь, проигрыватель будет использовать значения по умолчанию, заданные текущей версией Flash. Стандартные параметры по умолчанию:

- Видео отображается с использованием ширины и высоты по умолчанию и без цвета фона.
- Видео автоматически воспроизводится при загрузке страницы.
- Видео циклически обрабатывается до тех пор, пока оно не будет явно остановлено.
- Видео масштабируется, чтобы отобразить все видео, а не обрезать видео в соответствии с конкретным размером.
- Видео воспроизводится в окне.

### <a name="the-mediaplayer-player"></a>Проигрыватель MediaPlayer

Проигрыватель `MediaPlayer` вспомогательного приложения `Video` позволяет воспроизводить видео Windows Media (*WMV* -файлы), Windows Media Audio (*WMA* -файлы) и MP3 (*MP3* -файлы) на странице. Необходимо указать путь к файлу мультимедиа для воспроизведения. все остальные параметры являются необязательными. Если указать только путь, проигрыватель будет использовать параметры по умолчанию, заданные текущей версией MediaPlayer, например:

- Видео отображается с использованием ширины и высоты по умолчанию.
- Видео автоматически воспроизводится при загрузке страницы.
- Видео воспроизводится один раз (он не находится в цикле).
- Проигрыватель отображает полный набор элементов управления в пользовательском интерфейсе.
- Видео воспроизводится в окне.

### <a name="the-silverlight-player"></a>Проигрыватель Silverlight

Проигрыватель `Silverlight` вспомогательного приложения `Video` позволяет воспроизводить видео Windows Media (*WMV* -файлы), Windows Media Audio (*WMA* -файлы) и MP3 (*MP3* -файлы). Необходимо задать параметр path, указывающий на пакет приложения на основе Silverlight (*XAP* -файл). Также необходимо задать параметры Width и Height. Все остальные параметры являются необязательными. При использовании проигрывателя Silverlight для видео, если заданы только необходимые параметры, проигрыватель Silverlight отображает видео без цвета фона.

> [!NOTE]
> Если вы еще не знакомы с Silverlight: *XAP* -файл представляет собой сжатый файл, содержащий инструкции макета в *XAML* -файле, управляемый код в сборках и дополнительные ресурсы. Вы можете создать *XAP* -файл в Visual Studio в качестве проекта приложения Silverlight.

Проигрыватель `Silverlight` Video использует как параметры, указанные для проигрывателя, так и параметры, предоставленные в файле *. XAP* .

> [!TIP] 
> 
> <a id="SB_MimeTypes"></a>
> ### <a name="mime-types"></a>Типы MIME
> 
> Когда браузер загружает файл, браузер гарантирует, что тип файла соответствует типу MIME, указанному для отображаемого документа. Тип MIME — это тип содержимого или тип носителя файла. Модуль поддержки `Video` использует следующие типы MIME:
> 
> - `application/x-shockwave-flash`
> - `application/x-mplayer2`
> - `application/x-silverlight-2`

<a id="Playing_Flash"></a>
## <a name="playing-flash-swf-videos"></a>Воспроизведение видео Flash (. SWF)

В этой процедуре показано, как воспроизвести видео с именем *Sample. SWF*в формате Flash. В процедуре предполагается, что у вас есть папка с именем *Media* на сайте, а *SWF* -файл находится в этой папке.

1. Добавьте библиотеку вспомогательных веб-функций ASP.NET на веб-сайт, как описано в разделе [Установка вспомогательных функций на веб-страницы ASP.net сайте](https://go.microsoft.com/fwlink/?LinkId=252372), если вы еще не добавили его.
2. На веб-сайте добавьте страницу и назовите ее *флашвидео. cshtml*.
3. Добавьте на страницу следующую разметку: 

    [!code-cshtml[Main](10-working-with-video/samples/sample2.cshtml)]
4. Запустите страницу в браузере. (Перед выполнением страницы убедитесь, что она выбрана в рабочей области **файлы** .) Откроется страница, и видео будет воспроизводиться автоматически. 

    ![Эскиз](10-working-with-video/_static/image1.jpg "ch08_video -1. jpg")

Можно задать параметр `quality` для Flash-видео, чтобы `low`, `autolow`, `autohigh`, `medium`, `high`и `best`.

[!code-cshtml[Main](10-working-with-video/samples/sample3.cshtml)]

Можно изменить видео Flash для воспроизведения с указанным размером с помощью параметра `scale`, который можно установить следующим образом:

- `showall`. Это делает весь видеоролик видимым при сохранении исходных пропорций. Однако на каждой стороне могут пристоять границы.
- `noorder`. Это позволяет масштабировать видео при сохранении исходных пропорций, но может быть обрезано.
- `exactfit`. Это делает видимым все видео без сохранения исходного пропорций, но может произойти искажение.

Если не указать параметр `scale`, будет отображаться все видео, а исходные пропорции будут сохранены без обрезки. В следующем примере показано, как использовать параметр `scale`.

[!code-cshtml[Main](10-working-with-video/samples/sample4.cshtml)]

Проигрыватель Flash Player поддерживает параметр режима видео с именем `windowMode`. Это значение можно задать для `window`, `opaque`и `transparent`. По умолчанию `windowMode` имеет значение `window`, которое отображает видео в отдельном окне на веб-странице. Параметр `opaque` скрывает все содержимое экрана на веб-странице. Параметр `transparent` позволяет отображать фон веб-страницы с помощью видео, при условии, что любая часть видео прозрачна.

<a id="Playing_MediaPlayer"></a>
## <a name="playing-mediaplayer-wmv-videos"></a>Воспроизведение видеороликов MediaPlayer ( *. wmv*)

В следующей процедуре показано, как воспроизвести окно Media Video с именем *Sample. wmv* , которое находится в папке *Media* .

1. Добавьте библиотеку вспомогательных веб-функций ASP.NET на веб-сайт, как описано в разделе [Установка вспомогательных функций на веб-страницы ASP.net сайте](https://go.microsoft.com/fwlink/?LinkId=252372), если вы этого еще не сделали.
2. Создайте новую страницу с именем *медиаплайервидео. cshtml*.
3. Добавьте на страницу следующую разметку: 

    [!code-cshtml[Main](10-working-with-video/samples/sample5.cshtml)]
4. Запустите страницу в браузере. Видео загружается и воспроизводится автоматически. 

    ![Эскиз](10-working-with-video/_static/image2.jpg "ch08_video-2. jpg")

Можно задать `playCount` целое число, которое показывает, сколько раз следует автоматически воспроизвести видео:

[!code-cshtml[Main](10-working-with-video/samples/sample6.cshtml)]

Параметр `uiMode` позволяет указать, какие элементы управления отображаются в пользовательском интерфейсе. `uiMode` можно задать для `invisible`, `none`, `mini`или `full`. Если не указать параметр `uiMode`, видео будет отображаться в окне состояния, на панели поиска, на кнопках управления и в дополнение к видеоэкрану. Эти элементы управления также будут отображаться при использовании проигрывателя для воспроизведения звукового файла. Ниже приведен пример использования параметра `uiMode`.

[!code-cshtml[Main](10-working-with-video/samples/sample7.cshtml)]

По умолчанию звук включен при воспроизведении видео. Звук можно отключить, установив для параметра `mute` значение true:

[!code-cshtml[Main](10-working-with-video/samples/sample8.cshtml)]

Вы можете управлять уровнем звука для видео MediaPlayer, присвоив параметру `volume` значение от 0 до 100. Значение по умолчанию: 50. Ниже приведен пример:

[!code-cshtml[Main](10-working-with-video/samples/sample9.cshtml)]

<a id="Playing_Silverlight"></a>
## <a name="playing-silverlight-videos"></a>Воспроизведение видео Silverlight

В этой процедуре показано, как воспроизвести видео, содержащееся на странице Silverlight *. XAP* , в папке с именем *Media*.

1. Добавьте библиотеку вспомогательных веб-функций ASP.NET на веб-сайт, как описано в разделе [Установка вспомогательных функций на веб-страницы ASP.net сайте](https://go.microsoft.com/fwlink/?LinkId=252372), если вы этого еще не сделали.
2. Создайте новую страницу с именем *силверлигхтвидео. cshtml*.
3. Добавьте на страницу следующую разметку: 

    [!code-cshtml[Main](10-working-with-video/samples/sample10.cshtml)]
4. Запустите страницу в браузере. 

    ![Эскиз](10-working-with-video/_static/image3.jpg "ch08_video -3. jpg")

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a>Дополнительные ресурсы

[Обзор Silverlight](https://msdn.microsoft.com/library/bb404700(VS.95).aspx)

[Атрибуты объекта Flash и тега EMBED](http://kb2.adobe.com/cps/127/tn_12701.html)

[Теги параметров пакета SDK для проигрывателя Windows Media 11](https://msdn.microsoft.com/library/aa392321(VS.85).aspx)
