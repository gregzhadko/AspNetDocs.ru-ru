---
uid: web-pages/overview/ui-layouts-and-themes/displaying-maps-in-an-aspnet-web-pages-site
title: Отображение карт веб-ASP.NET страниц узла (Razor) | Документация Майкрософт
author: Rick-Anderson
description: В этой статье объясняется, как отображение интерактивной карты на страницах в на веб-сайте ASP.NET Web Pages (Razor), на базе сопоставлений служб, предоставляемых Bing, Google, Ma...
ms.author: riande
ms.date: 02/20/2014
ms.assetid: b5c268dd-ca6a-4562-b94c-a220fcf01f58
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/displaying-maps-in-an-aspnet-web-pages-site
msc.type: authoredcontent
ms.openlocfilehash: 6e5c01c3602bd313ebca467b65563b7abfd7ffe2
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59400104"
---
# <a name="displaying-maps-in-an-aspnet-web-pages-razor-site"></a>Отображение карт на сайте ASP.NET Web Pages (Razor)

по [Tom FitzMacken](https://github.com/tfitzmac)

> В этой статье объясняется, как отображение интерактивной карты на страницах в на веб-сайте ASP.NET Web Pages (Razor), на базе служб, предоставляемых Bing, Google, Yahoo и MapQuest сопоставлений.
> 
> Вы узнаете, как:
> 
> - Как создать карту, на основе адреса.
> - Как создать карту, на основе координат широты и долготы.
> - Как зарегистрировать учетную запись разработчика Bing Maps и получить ключ для использования с помощью Bing Maps.
> 
> Это функция ASP.NET, впервые представленная в этой статье:
> 
> - `Maps` Вспомогательный.
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a>Версии программного обеспечения, используемые в этом руководстве
> 
> 
> - Веб-страниц ASP.NET (Razor) 2
> - WebMatrix 2
>   
> 
> Этот учебник также работает с WebMatrix 3.


На веб-страницах, можно отобразить карты на странице с помощью `Maps` вспомогательный. Вы можете создать сопоставления, либо на основе адреса либо набор координат широты и долготы. `Maps` Класса позволяет вызывать в том числе Bing, Google, Yahoo и MapQuest модули популярных карты.

Инструкции по добавлению сопоставления на страницу одинаковы независимо от того, какое ядро карты вы вызываете. Просто добавьте ссылку на файл JavaScript, который делает доступные методы для отображения карты, а затем вызвать методы `Maps` вспомогательный.

Выберите схемы услуги, на основании которого `Maps` используется вспомогательный метод. Можно использовать любой из следующих:

- `Maps.GetBingHtml`
- `Maps.GetGoogleHtml`
- `Maps.GetYahooHtml`
- `Maps.GetMapQuestHtml`

## <a name="installing-the-pieces-you-need"></a>Установка необходимых компонентов

Чтобы отобразить карты, вам потребуется все эти элементы:

- `Maps` Вспомогательный. Во второй версии библиотеку ASP.NET — этого вспомогательного объекта. Если вы еще не уже добавили библиотеку, можно установить на сайте как пакет NuGet. Дополнительные сведения см. в разделе [Установка вспомогательных функций на сайте веб-страниц ASP.NET](https://go.microsoft.com/fwlink/?LinkId=252372). (В коллекции, поиск `microsoft-web-helpers` пакета.)
- Библиотека jQuery. Несколько шаблонов узла WebMatrix уже включают библиотеки jQuery в их *скрипт* папки. Если у вас нет этих библиотек, можно загрузить последнюю версию библиотеки jQuery непосредственно из [jQuery.org](http://jQuery.org) сайта. Или можно создать новый сайт с помощью шаблона (например, **начального сайта** шаблона) и скопируйте файлы jQuery с этого сайта в свой текущий сайт.

Наконец Если вы хотите использовать Bing maps, необходимо сначала создать учетную запись (бесплатно) и получить ключ. Чтобы получить ключ, выполните следующие действия.

1. Создание учетной записи на [учетной записи разработчика Bing Maps](https://www.microsoft.com/maps/developers/web.aspx). Необходимо иметь учетную запись Майкрософт (Windows Live ID) также.

    Можно указать, что вы хотите использовать ключ для **оценки и тестирования**. Если вы тестируете функцию сопоставления на компьютере с использованием WebMatrix и IIS Express, перейдите **сайта** рабочей области и запишите URL-адрес веб-сайта (например, `http://localhost:50408`, несмотря на то, что этот номер порта, скорее всего, будут отличаться). Это можно использовать *localhost* адрес узла при регистрации.
2. После регистрации для учетной записи, перейдите в центр учетных записей Bing Maps и нажмите кнопку **Create или view ключи**:

    ![сопоставление-2](displaying-maps-in-an-aspnet-web-pages-site/_static/image1.png)
3. Запишите ключ, который создает Bing.

## <a name="creating-a-map-based-on-an-address-using-google"></a>Создание карты на основе адреса (с помощью Google)

В следующем примере показано, как создать страницу, которая подготавливает к просмотру схему, на основе адреса. В этом примере показано, как использовать Google Maps.

1. Создайте файл с именем *MapAddress.cshtml* в корень сайта. Эта страница будет создать карту, на основе адреса, который передается в него.
2. Скопируйте следующий код в файл, перезаписав существующее содержимое.

    [!code-cshtml[Main](displaying-maps-in-an-aspnet-web-pages-site/samples/sample1.cshtml)]

    Обратите внимание, что следующие функции страницы:

    - `<script>` Элемент в `<head>` элемент. В примере `<script>` ссылок на элементы *jquery-1.6.4.min.js* файл, который представляет собой минифицированные (сжатого) версию библиотеки jQuery, версии 1.6.4. Обратите внимание, что ссылка предполагает, что *.js* файл находится в *сценариев* папки сайта. 

        > [!NOTE]
        > Если вы используете другую версию библиотеки jQuery, убедитесь, что вы ссылаются на эту версию правильно.
    - Вызов `@Maps.GetGoogleHtml` в основной области страницы. Для сопоставления адреса, необходимо передать строку адреса. Методы для других модулей карты работать так же, как (`@Maps.GetYahooHtml`, `@Maps.GetMapQuestHtml`).
3. Откройте страницу и ввести адрес. На странице отображается карту, в зависимости от Google карты, отображающего указанное расположение.

     ![сопоставление-1](displaying-maps-in-an-aspnet-web-pages-site/_static/image2.png)

## <a name="creating-a-map-based-on-latitude-and-longitude-coordinates-using-bing"></a>Создание карты на основе широты и долготы координирует (с помощью Bing)

В этом примере показано, как создать карту, на основе координат. В этом примере показано, как использовать карты Bing и как включить ваш ключ Bing. (Можно создать карту, на основе координат, кроме того, с помощью других модулей карты без использования ключа Bing.)

1. Создайте файл с именем *MapCoordinates.cshtml* в корневом каталоге сайта и заменить существующее содержимое со следующими кода и разметки:

    [!code-cshtml[Main](displaying-maps-in-an-aspnet-web-pages-site/samples/sample2.cshtml)]
2. Замените `your-key-here` на ключ Bing Maps, созданные в более ранних версий.
3. Запустите *MapCoordinates.cshtml* странице, введите координаты широты и долготы и нажмите кнопку **Map It!** . (Если вы не знаете все координаты, сделайте следующее. Это расположение на Microsoft Редмонд.)

   - Широта: 47.6781005859375
   - Долготы:-122.158317565918

     Эта страница отображается с помощью координат, которые вы указали.

     ![сопоставление-3](displaying-maps-in-an-aspnet-web-pages-site/_static/image3.png)

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a>Дополнительные ресурсы


[Справочник по API Microsoft.Maps](https://msdn.microsoft.com/library/gg427611.aspx)
