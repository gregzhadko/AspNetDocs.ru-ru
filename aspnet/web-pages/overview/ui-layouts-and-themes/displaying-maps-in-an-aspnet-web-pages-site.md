---
uid: web-pages/overview/ui-layouts-and-themes/displaying-maps-in-an-aspnet-web-pages-site
title: Отображение карт на сайте веб-страницы ASP.NET (Razor) | Документация Майкрософт
author: Rick-Anderson
description: В этой статье объясняется, как отобразить Интерактивные карты на страницах на веб-сайте веб-страницы ASP.NET (Razor) на основе служб сопоставления, предоставляемых Bing, Google, MA...
ms.author: riande
ms.date: 02/20/2014
ms.assetid: b5c268dd-ca6a-4562-b94c-a220fcf01f58
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/displaying-maps-in-an-aspnet-web-pages-site
msc.type: authoredcontent
ms.openlocfilehash: 36f3b753cf312504892872ff54bef49854588990
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78518724"
---
# <a name="displaying-maps-in-an-aspnet-web-pages-razor-site"></a>Отображение карт на сайте веб-страницы ASP.NET (Razor)

от [Tom фитзмаккен](https://github.com/tfitzmac)

> В этой статье объясняется, как отображать Интерактивные карты на страницах на веб-сайте веб-страницы ASP.NET (Razor) на основе служб сопоставления, предоставляемых Bing, Google, Мапкуест и Yahoo.
> 
> Из этого руководства вы узнаете, как выполнять такие задачи:
> 
> - Создание схемы на основе адреса.
> - Как создать карту на основе координат широты и долготы.
> - Как зарегистрировать учетную запись разработчика карт Bing и получить ключ для использования с картами Bing.
> 
> Это функция ASP.NET, представленная в статье:
> 
> - Вспомогательный метод `Maps`.
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a>Версии программного обеспечения, используемые в этом руководстве
> 
> 
> - Веб-страницы ASP.NET (Razor) 2
> - WebMatrix 2
>   
> 
> Этот учебник также работает с WebMatrix 3.

На веб-страницах карты можно отображать на странице с помощью `Maps` вспомогательного метода. Карты можно создавать на основе адреса или набора координат долготы и широты. Класс `Maps` позволяет вызывать популярные обработчики карт, включая Bing, Google, Мапкуест и Yahoo.

Действия по добавлению сопоставления со страницей одинаковы независимо от того, какие обработчики карты вызываются. Просто добавьте ссылку на файл JavaScript, которая предоставляет доступные методы для отображения схемы, а затем вызовите методы вспомогательного метода `Maps`.

Вы выбираете службу Map, основанную на используемом вспомогательном методе `Maps`. Можно использовать любой из следующих элементов:

- `Maps.GetBingHtml`
- `Maps.GetGoogleHtml`
- `Maps.GetYahooHtml`
- `Maps.GetMapQuestHtml`

## <a name="installing-the-pieces-you-need"></a>Установка необходимых компонентов

Чтобы отобразить карты, необходимы следующие компоненты:

- Вспомогательный метод `Maps`. Этот вспомогательный метод находится в версии 2 библиотеки веб-помощников ASP.NET. Если вы еще не добавили библиотеку, ее можно установить на сайте в качестве пакета NuGet. Дополнительные сведения см. [в разделе Установка вспомогательных функций на веб-страницы ASP.net сайте](https://go.microsoft.com/fwlink/?LinkId=252372). (В коллекции найдите пакет `microsoft-web-helpers`).
- Библиотека jQuery. Некоторые шаблоны сайтов WebMatrix уже содержат библиотеки jQuery в своих папках *сценариев* . Если эти библиотеки отсутствуют, вы можете скачать последнюю библиотеку jQuery непосредственно с сайта [jQuery.org](http://jQuery.org) . Или можно создать новый сайт с помощью шаблона (например, шаблона **начального сайта** ), а затем скопировать файлы jQuery с этого сайта на текущий сайт.

Наконец, если вы хотите использовать карты Bing, сначала необходимо создать (бесплатную) учетную запись и получить ключ. Чтобы получить ключ, выполните следующие действия.

1. Создайте учетную запись для [учетной записи разработчика карт Bing](https://www.microsoft.com/maps/developers/web.aspx). Необходимо также иметь учетная запись Майкрософт (Windows Live ID).

    Вы можете указать, что вы хотите использовать ключ для **оценки или тестирования**. Если вы тестируете функцию сопоставления на своем компьютере с помощью WebMatrix и IIS Express, перейдите в рабочую область **сайт** и запишите URL-адрес сайта (например, `http://localhost:50408`, хотя номер порта, скорее всего, будет отличаться). Этот адрес *localhost* можно использовать в качестве сайта при регистрации.
2. После регистрации учетной записи перейдите в центр учетных записей карт Bing и щелкните **создать или просмотреть ключи**:

    ![сопоставление — 2](displaying-maps-in-an-aspnet-web-pages-site/_static/image1.png)
3. Запишите ключ, создаваемый Bing.

## <a name="creating-a-map-based-on-an-address-using-google"></a>Создание схемы на основе адреса (с помощью Google)

В следующем примере показано, как создать страницу, которая визуализирует карту на основе адреса. В этом примере показано, как использовать карты Google.

1. Создайте файл с именем *мападдресс. cshtml* в корневом каталоге сайта. Эта страница создаст карту на основе адреса, который вы передали.
2. Скопируйте следующий код в файл, перезаписав имеющееся содержимое.

    [!code-cshtml[Main](displaying-maps-in-an-aspnet-web-pages-site/samples/sample1.cshtml)]

    Обратите внимание на следующие возможности страницы:

    - Элемент `<script>` в элементе `<head>`. В примере элемент `<script>` ссылается на файл *жкуери-1.6.4. min. js* , который представляет собой минифицированные (сжатую) версию библиотеки jQuery версии 1.6.4. Обратите внимание, что в ссылке предполагается, что *JS* -файл находится в папке *Scripts* вашего сайта. 

        > [!NOTE]
        > Если вы используете другую версию библиотеки jQuery, просто убедитесь, что вы указали на эту версию правильно.
    - Вызов `@Maps.GetGoogleHtml` в тексте страницы. Для отображения адреса необходимо передать строку адреса. Методы других механизмов карт работают аналогичным образом (`@Maps.GetYahooHtml`, `@Maps.GetMapQuestHtml`).
3. Запустите страницу и введите адрес. На странице отображается карта на основе Google Maps, которая показывает указанное расположение.

     ![сопоставление — 1](displaying-maps-in-an-aspnet-web-pages-site/_static/image2.png)

## <a name="creating-a-map-based-on-latitude-and-longitude-coordinates-using-bing"></a>Создание карты на основе координат широты и долготы (с помощью Bing)

В этом примере показано, как создать карту на основе координат. В этом примере показано, как использовать карты Bing и как включить ключ Bing. (Карту можно создать на основе координат с помощью других механизмов карт, не используя ключ Bing.)

1. Создайте файл с именем *мапкурдинатес. cshtml* в корневом каталоге сайта и замените имеющееся содержимое следующим кодом и разметкой:

    [!code-cshtml[Main](displaying-maps-in-an-aspnet-web-pages-site/samples/sample2.cshtml)]
2. Замените `your-key-here` ключом Bing Maps, который был создан ранее.
3. Запустите страницу *мапкурдинатес. cshtml* , введите координаты широты и долготы, а затем щелкните **Map!** . . (Если вы не знакомы с координатами, попробуйте сделать следующее. Это расположение в кампусе Microsoft Redmond.)

   - Широта: 47.6781005859375
   - Долгота:-122.158317565918

     Страница отображается с использованием указанных координат.

     ![Сопоставление — 3](displaying-maps-in-an-aspnet-web-pages-site/_static/image3.png)

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a>Дополнительные ресурсы

[Справочник по API Microsoft. Maps](https://msdn.microsoft.com/library/gg427611.aspx)
