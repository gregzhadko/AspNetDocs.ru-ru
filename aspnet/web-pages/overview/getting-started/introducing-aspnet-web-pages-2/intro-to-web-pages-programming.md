---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/intro-to-web-pages-programming
title: Основы программирования веб-страницы ASP.NET | Документация Майкрософт
author: Rick-Anderson
description: 'В этом учебнике приводятся общие сведения о программировании в веб-страницы ASP.NET с помощью синтаксис Razor. Что вы узнаете: базовый синтаксис "Razor", используемый для PR...'
ms.author: riande
ms.date: 06/17/2015
ms.assetid: 7526ed45-a97d-4e8a-8301-01324ef0eff9
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/intro-to-web-pages-programming
msc.type: authoredcontent
ms.openlocfilehash: 474de7671ac2931e5ba9ff635d77385403644521
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78509982"
---
# <a name="introducing-aspnet-web-pages---programming-basics"></a><span data-ttu-id="f077e-104">Основы программирования веб-страницы ASP.NET</span><span class="sxs-lookup"><span data-stu-id="f077e-104">Introducing ASP.NET Web Pages - Programming Basics</span></span>

<span data-ttu-id="f077e-105">от [Tom фитзмаккен](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="f077e-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="f077e-106">В этом учебнике приводятся общие сведения о программировании в веб-страницы ASP.NET с помощью синтаксис Razor.</span><span class="sxs-lookup"><span data-stu-id="f077e-106">This tutorial gives you an overview of how to program in ASP.NET Web Pages with Razor syntax.</span></span>
> 
> <span data-ttu-id="f077e-107">Из этого руководства вы узнаете, как выполнять такие задачи:</span><span class="sxs-lookup"><span data-stu-id="f077e-107">What you'll learn:</span></span>
> 
> - <span data-ttu-id="f077e-108">Базовый синтаксис "Razor", используемый для программирования в веб-страницы ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="f077e-108">The basic "Razor" syntax that you use for programming in ASP.NET Web Pages.</span></span>
> - <span data-ttu-id="f077e-109">Некоторые основные C#, то есть язык программирования, который вы будете использовать.</span><span class="sxs-lookup"><span data-stu-id="f077e-109">Some basic C#, which is the programming language you'll use.</span></span>
> - <span data-ttu-id="f077e-110">Некоторые фундаментальные концепции программирования для веб-страниц.</span><span class="sxs-lookup"><span data-stu-id="f077e-110">Some fundamental programming concepts for Web Pages.</span></span>
> - <span data-ttu-id="f077e-111">Установка пакетов (компонентов, содержащих готовый код) для использования с сайтом.</span><span class="sxs-lookup"><span data-stu-id="f077e-111">How to install packages (components that contain prebuilt code) to use with your site.</span></span>
> - <span data-ttu-id="f077e-112">Использование *вспомогательных* функций для выполнения общих задач программирования.</span><span class="sxs-lookup"><span data-stu-id="f077e-112">How to use *helpers* to perform common programming tasks.</span></span>
>   
> 
> <span data-ttu-id="f077e-113">Обсуждаемые функции и технологии:</span><span class="sxs-lookup"><span data-stu-id="f077e-113">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="f077e-114">NuGet и диспетчер пакетов.</span><span class="sxs-lookup"><span data-stu-id="f077e-114">NuGet and the package manager.</span></span>
> - <span data-ttu-id="f077e-115">Вспомогательный метод `Gravatar`.</span><span class="sxs-lookup"><span data-stu-id="f077e-115">The `Gravatar` helper.</span></span>

<span data-ttu-id="f077e-116">Этот учебник в первую очередь представляет собой упражнение, в котором описывается синтаксис программирования, который вы будете использовать для веб-страницы ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="f077e-116">This tutorial is primarily an exercise in introducing you to the programming syntax that you'll use for ASP.NET Web Pages.</span></span> <span data-ttu-id="f077e-117">Вы узнаете о *синтаксис Razor* и коде, написанном на языке C# программирования.</span><span class="sxs-lookup"><span data-stu-id="f077e-117">You'll learn about *Razor syntax* and code that's written in the C# programming language.</span></span> <span data-ttu-id="f077e-118">Вы получили краткое представление о синтаксисе в предыдущем учебном курсе. в этом учебнике мы объяснем синтаксис.</span><span class="sxs-lookup"><span data-stu-id="f077e-118">You got a glimpse of this syntax in the previous tutorial; in this tutorial we'll explain the syntax more.</span></span>

<span data-ttu-id="f077e-119">Мы обещаем, что этот учебник включает в себя большинство программ, которые можно увидеть в одном учебнике, и это единственное руководство, которое относится *только* к программированию.</span><span class="sxs-lookup"><span data-stu-id="f077e-119">We promise that this tutorial involves the most programming that you'll see in a single tutorial, and that it's the only tutorial that is *only* about programming.</span></span> <span data-ttu-id="f077e-120">В остальных руководствах в этом наборе вы создадите страницы, которые выполняют интересные задачи.</span><span class="sxs-lookup"><span data-stu-id="f077e-120">In the remaining tutorials in this set, you'll actually create pages that do interesting things.</span></span>

<span data-ttu-id="f077e-121">Вы также узнаете о *вспомогательных*параметрах.</span><span class="sxs-lookup"><span data-stu-id="f077e-121">You'll also learn about *helpers*.</span></span> <span data-ttu-id="f077e-122">Вспомогательный объект — это компонент — упакованный фрагмент кода, который можно добавить на страницу.</span><span class="sxs-lookup"><span data-stu-id="f077e-122">A helper is a component — a packaged-up piece of code — that you can add to a page.</span></span> <span data-ttu-id="f077e-123">Вспомогательная служба выполняет работу, что в противном случае может быть утомительной или сложной.</span><span class="sxs-lookup"><span data-stu-id="f077e-123">The helper performs work for you that otherwise might be tedious or complex to do by hand.</span></span>

## <a name="creating-a-page-to-play-with-razor"></a><span data-ttu-id="f077e-124">Создание страницы для воспроизведения с помощью Razor</span><span class="sxs-lookup"><span data-stu-id="f077e-124">Creating a Page to Play with Razor</span></span>

<span data-ttu-id="f077e-125">В этом разделе вы пойдете немного с Razor, чтобы вы могли получить представление о базовом синтаксисе.</span><span class="sxs-lookup"><span data-stu-id="f077e-125">In this section you'll play a bit with Razor so you can get a sense of the basic syntax.</span></span>

<span data-ttu-id="f077e-126">Запустите WebMatrix, если он еще не запущен.</span><span class="sxs-lookup"><span data-stu-id="f077e-126">Start WebMatrix if it's not already running.</span></span> <span data-ttu-id="f077e-127">Вы будете использовать веб-сайт, созданный в предыдущем руководстве ([Начало работы с веб-страницами](https://go.microsoft.com/fwlink/?LinkId=251578)).</span><span class="sxs-lookup"><span data-stu-id="f077e-127">You'll use the website you created in the previous tutorial ([Getting Started With Web Pages](https://go.microsoft.com/fwlink/?LinkId=251578)).</span></span> <span data-ttu-id="f077e-128">Чтобы открыть его снова, щелкните **Мои сайты** и выберите **вебпажемовиес**:</span><span class="sxs-lookup"><span data-stu-id="f077e-128">To reopen it, click **My Sites** and choose **WebPageMovies**:</span></span>

![Начальный экран WebMatrix с выделенными параметрами "открыть сайт" и "Мои сайты"](intro-to-web-pages-programming/_static/image1.png)

<span data-ttu-id="f077e-130">Выберите рабочую область **файлы** .</span><span class="sxs-lookup"><span data-stu-id="f077e-130">Select the **Files** workspace.</span></span>

<span data-ttu-id="f077e-131">На ленте щелкните **создать** , чтобы создать страницу.</span><span class="sxs-lookup"><span data-stu-id="f077e-131">In the ribbon, click **New** to create a page.</span></span> <span data-ttu-id="f077e-132">Выберите **CSHTML** и назовите новую страницу *тестразор. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="f077e-132">Select **CSHTML** and name the new page *TestRazor.cshtml*.</span></span>

<span data-ttu-id="f077e-133">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="f077e-133">Click **OK**.</span></span>

<span data-ttu-id="f077e-134">Скопируйте следующий фрагмент в файл, полностью заменив уже существующий.</span><span class="sxs-lookup"><span data-stu-id="f077e-134">Copy the following into the file, completely replacing what's there already.</span></span>

> [!NOTE]
> <span data-ttu-id="f077e-135">При копировании кода или разметки из примеров в страницу отступы и выравнивание могут отличаться от описанных в учебнике.</span><span class="sxs-lookup"><span data-stu-id="f077e-135">When you copy code or markup from the examples into a page, the indentation and alignment might not be the same as in the tutorial.</span></span> <span data-ttu-id="f077e-136">Однако отступы и выравнивание не влияют на то, как выполняется код.</span><span class="sxs-lookup"><span data-stu-id="f077e-136">Indentation and alignment don't affect how the code runs, though.</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample1.cshtml)]

## <a name="examining-the-example-page"></a><span data-ttu-id="f077e-137">Изучение примера страницы</span><span class="sxs-lookup"><span data-stu-id="f077e-137">Examining the Example Page</span></span>

<span data-ttu-id="f077e-138">Большинство отображаемых данных — это обычный HTML.</span><span class="sxs-lookup"><span data-stu-id="f077e-138">Most of what you see is ordinary HTML.</span></span> <span data-ttu-id="f077e-139">Однако в верхней части этого блока кода:</span><span class="sxs-lookup"><span data-stu-id="f077e-139">However, at the top there's this code block:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample2.cshtml)]

<span data-ttu-id="f077e-140">Обратите внимание на следующие моменты в этом блоке кода:</span><span class="sxs-lookup"><span data-stu-id="f077e-140">Notice the following things about this code block:</span></span>

- <span data-ttu-id="f077e-141">Символ @ указывает ASP.NET, что следует за кодом Razor, а не с HTML.</span><span class="sxs-lookup"><span data-stu-id="f077e-141">The @ character tells ASP.NET that what follows is Razor code, not HTML.</span></span> <span data-ttu-id="f077e-142">ASP.NET будет рассматривать все символы после символа @ как код, пока он не перейдет в HTML.</span><span class="sxs-lookup"><span data-stu-id="f077e-142">ASP.NET will treat everything after the @ character as code until it runs into some HTML again.</span></span> <span data-ttu-id="f077e-143">(В данном случае это &lt;! Элемент DOCTYPE&gt;.</span><span class="sxs-lookup"><span data-stu-id="f077e-143">(In this case, that's the &lt;!DOCTYPE&gt; element.</span></span>
- <span data-ttu-id="f077e-144">Фигурные скобки ({и}) заключают блок кода Razor, если код содержит более одной строки.</span><span class="sxs-lookup"><span data-stu-id="f077e-144">The braces ( { and } ) enclose a block of Razor code if the code has more than one line.</span></span> <span data-ttu-id="f077e-145">Фигурные скобки указывают ASP.NET, где начинается и заканчивается код для этого блока.</span><span class="sxs-lookup"><span data-stu-id="f077e-145">The braces tell ASP.NET where the code for that block starts and ends.</span></span>
- <span data-ttu-id="f077e-146">Символы//помечают комментарий, то есть часть кода, который не будет выполняться.</span><span class="sxs-lookup"><span data-stu-id="f077e-146">The // characters mark a comment — that is, a part of the code that won't execute.</span></span>
- <span data-ttu-id="f077e-147">Каждая инструкция должна заканчиваться точкой с запятой (;).</span><span class="sxs-lookup"><span data-stu-id="f077e-147">Each statement has to end with a semicolon (;).</span></span> <span data-ttu-id="f077e-148">(Но не комментарии.)</span><span class="sxs-lookup"><span data-stu-id="f077e-148">(Not comments, though.)</span></span>
- <span data-ttu-id="f077e-149">Значения можно хранить в *переменных*, создаваемых (*Declare*) с ключевым словом var.</span><span class="sxs-lookup"><span data-stu-id="f077e-149">You can store values in *variables*, which you create (*declare*) with the keyword var.</span></span> <span data-ttu-id="f077e-150">При создании переменной ей присваивается имя, которое может включать буквы, цифры и символы подчеркивания (\_).</span><span class="sxs-lookup"><span data-stu-id="f077e-150">When you create a variable, you give it a name, which can include letters, numbers, and underscore (\_).</span></span> <span data-ttu-id="f077e-151">Имена переменных не могут начинаться с цифры и не могут использовать имя ключевого слова программирования (например, var).</span><span class="sxs-lookup"><span data-stu-id="f077e-151">Variable names can't start with a number and can't use the name of a programming keyword (like var).</span></span>
- <span data-ttu-id="f077e-152">Строки символов (например, "ASP.NET" и "Web Pages") заключаются в кавычки.</span><span class="sxs-lookup"><span data-stu-id="f077e-152">You enclose character strings (like "ASP.NET" and "Web Pages") in quotation marks.</span></span> <span data-ttu-id="f077e-153">(Они должны быть двойными кавычками.) Числа заключаются в кавычки.</span><span class="sxs-lookup"><span data-stu-id="f077e-153">(They must be double quotation marks.) Numbers are not in quotation marks.</span></span>
- <span data-ttu-id="f077e-154">Пробелы за пределами кавычек не имеют значения.</span><span class="sxs-lookup"><span data-stu-id="f077e-154">Whitespace outside of quotation marks doesn't matter.</span></span> <span data-ttu-id="f077e-155">Разрывы строк в основном не важны; исключением является то, что нельзя разделить строку в кавычках между строками.</span><span class="sxs-lookup"><span data-stu-id="f077e-155">Line breaks mostly don't matter; the exception is that you can't split a string in quotation marks across lines.</span></span> <span data-ttu-id="f077e-156">Отступы и выравнивание не имеют значения.</span><span class="sxs-lookup"><span data-stu-id="f077e-156">Indentation and alignment don't matter.</span></span>

<span data-ttu-id="f077e-157">В этом примере не очевидно, что весь код учитывает регистр.</span><span class="sxs-lookup"><span data-stu-id="f077e-157">Something that's not obvious from this example is that all code is case sensitive.</span></span> <span data-ttu-id="f077e-158">Это означает, что переменная Сесум отличается от переменных, которые могут называться Сесум или сесум.</span><span class="sxs-lookup"><span data-stu-id="f077e-158">This means that the variable TheSum is a different variable than variables that might be named theSum or thesum.</span></span> <span data-ttu-id="f077e-159">Точно так же переменная var является ключевым словом, а переменная var — нет.</span><span class="sxs-lookup"><span data-stu-id="f077e-159">Similarly, var is a keyword, but Var is not.</span></span>

### <a name="objects-and-properties-and-methods"></a><span data-ttu-id="f077e-160">Объекты и свойства и методы</span><span class="sxs-lookup"><span data-stu-id="f077e-160">Objects and properties and methods</span></span>

<span data-ttu-id="f077e-161">Затем выражение DateTime. Now.</span><span class="sxs-lookup"><span data-stu-id="f077e-161">Then there's the expression DateTime.Now.</span></span> <span data-ttu-id="f077e-162">Проще говоря, DateTime — это *объект*.</span><span class="sxs-lookup"><span data-stu-id="f077e-162">In simple terms, DateTime is an *object*.</span></span> <span data-ttu-id="f077e-163">Объект — это вещь, с которой можно программировать — страницу, текстовое поле, файл, изображение, веб-запрос, сообщение электронной почты, запись клиента и т. д. Объекты имеют одно или несколько *свойств* , описывающих их характеристики.</span><span class="sxs-lookup"><span data-stu-id="f077e-163">An object is a thing that you can program with—a page, a text box, a file, an image, a web request, an email message, a customer record, etc. Objects have one or more *properties* that describe their characteristics.</span></span> <span data-ttu-id="f077e-164">Объект текстового поля имеет свойство Text (помимо других), объект запроса имеет свойство URL-адреса (и другие), сообщение электронной почты имеет свойство From и свойство to, и т. д.</span><span class="sxs-lookup"><span data-stu-id="f077e-164">A text box object has a Text property (among others), a request object has a Url property (and others), an email message has a From property and a To property, and so on.</span></span> <span data-ttu-id="f077e-165">Объекты также имеют *методы* , которые можно выполнять с помощью «глаголов».</span><span class="sxs-lookup"><span data-stu-id="f077e-165">Objects also have *methods* that are the "verbs" they can perform.</span></span> <span data-ttu-id="f077e-166">Вы будете работать с объектами очень много.</span><span class="sxs-lookup"><span data-stu-id="f077e-166">You'll be working with objects a lot.</span></span>

<span data-ttu-id="f077e-167">Как видно из примера, DateTime — это объект, который позволяет программировать даты и время.</span><span class="sxs-lookup"><span data-stu-id="f077e-167">As you can see from the example, DateTime is an object that lets you program dates and times.</span></span> <span data-ttu-id="f077e-168">У него есть свойство с именем Now, которое возвращает текущие дату и время.</span><span class="sxs-lookup"><span data-stu-id="f077e-168">It has a property named Now that returns the current date and time.</span></span>

### <a name="using-code-to-render-markup-in-the-page"></a><span data-ttu-id="f077e-169">Использование кода для отрисовки разметки на странице</span><span class="sxs-lookup"><span data-stu-id="f077e-169">Using code to render markup in the page</span></span>

<span data-ttu-id="f077e-170">В тексте страницы обратите внимание на следующее:</span><span class="sxs-lookup"><span data-stu-id="f077e-170">In the body of the page, notice the following:</span></span>

[!code-html[Main](intro-to-web-pages-programming/samples/sample3.html)]

<span data-ttu-id="f077e-171">Опять же, символ @ говорит ASP.NET, что следует за кодом, а не с HTML.</span><span class="sxs-lookup"><span data-stu-id="f077e-171">Again, the @ character tells ASP.NET that what follows is code, not HTML.</span></span> <span data-ttu-id="f077e-172">В разметке можно добавить @, за которым следует выражение кода, а ASP.NET будет отображать значение этого выражения прямо в этой точке.</span><span class="sxs-lookup"><span data-stu-id="f077e-172">In the markup you can add @ followed by a code expression, and ASP.NET will render the value of that expression right at that point.</span></span> <span data-ttu-id="f077e-173">В этом примере @a будет отображать любое значение переменной с именем a, @product визуализирует все, что находится в переменной с именем Product и т. д.</span><span class="sxs-lookup"><span data-stu-id="f077e-173">In the example, @a will render whatever the value is of the variable named a, @product renders whatever is in the variable named product, and so on.</span></span>

<span data-ttu-id="f077e-174">Однако вы не ограничены переменными.</span><span class="sxs-lookup"><span data-stu-id="f077e-174">You're not limited to variables, though.</span></span> <span data-ttu-id="f077e-175">В нескольких экземплярах здесь символ @ стоит перед выражением:</span><span class="sxs-lookup"><span data-stu-id="f077e-175">In a few instances here, the @ character precedes an expression:</span></span>

- <span data-ttu-id="f077e-176">@ (a\*b) визуализирует продукт, находящимся в переменных a и b.</span><span class="sxs-lookup"><span data-stu-id="f077e-176">@(a\*b) renders the product of whatever is in the variables a and b.</span></span> <span data-ttu-id="f077e-177">(Оператор \* означает умножение.)</span><span class="sxs-lookup"><span data-stu-id="f077e-177">(The \* operator means multiplication.)</span></span>
- <span data-ttu-id="f077e-178">@ (технологии + "" + Product) отображает значения в переменных технологии и продукте после их объединения и добавления пробела между ними.</span><span class="sxs-lookup"><span data-stu-id="f077e-178">@(technology + " " + product) renders the values in the variables technology and product after concatenating them and adding a space in between.</span></span> <span data-ttu-id="f077e-179">Оператор (+) для сцепления строк совпадает с оператором для добавления чисел.</span><span class="sxs-lookup"><span data-stu-id="f077e-179">The operator (+) for concatenating strings is the same as the operator for adding numbers.</span></span> <span data-ttu-id="f077e-180">ASP.NET обычно может определить, работаете ли вы с числами или строками и выполняете нужное действие с оператором +.</span><span class="sxs-lookup"><span data-stu-id="f077e-180">ASP.NET can usually tell whether you're working with numbers or with strings and does the right thing with the + operator.</span></span>
- <span data-ttu-id="f077e-181">@Request.Url отображает свойство URL-адреса объекта запроса.</span><span class="sxs-lookup"><span data-stu-id="f077e-181">@Request.Url renders the Url property of the Request object.</span></span> <span data-ttu-id="f077e-182">Объект Request содержит сведения о текущем запросе из браузера, а свойство URL-адреса содержит URL-адрес текущего запроса.</span><span class="sxs-lookup"><span data-stu-id="f077e-182">The Request object contains information about the current request from the browser, and of course the Url property contains the URL of that current request.</span></span>

<span data-ttu-id="f077e-183">Этот пример также предназначен для демонстрации того, что вы можете работать различными способами.</span><span class="sxs-lookup"><span data-stu-id="f077e-183">The example is also designed to show you that you can do work in different ways.</span></span> <span data-ttu-id="f077e-184">Можно выполнять вычисления в блоке кода в верхней части, поместив результаты в переменную, а затем визуализировать ее в разметке.</span><span class="sxs-lookup"><span data-stu-id="f077e-184">You can do calculations in the code block at the top, put the results into a variable, and then render the variable in markup.</span></span> <span data-ttu-id="f077e-185">Кроме того, можно выполнять вычисления в выражении непосредственно в разметке.</span><span class="sxs-lookup"><span data-stu-id="f077e-185">Or you can do calculations in an expression right in the markup.</span></span> <span data-ttu-id="f077e-186">Используемый подход зависит от того, что вы делаете, и в некоторой степени с собственными предпочтениями.</span><span class="sxs-lookup"><span data-stu-id="f077e-186">The approach you use depends on what you're doing and, to some extent, on your own preference.</span></span>

### <a name="seeing-the-code-in-action"></a><span data-ttu-id="f077e-187">Просмотр кода в действии</span><span class="sxs-lookup"><span data-stu-id="f077e-187">Seeing the code in action</span></span>

<span data-ttu-id="f077e-188">Щелкните правой кнопкой мыши имя файла и выберите пункт **запустить в браузере**.</span><span class="sxs-lookup"><span data-stu-id="f077e-188">Right-click the name of the file and then choose **Launch in browser**.</span></span> <span data-ttu-id="f077e-189">В браузере отобразится страница со всеми значениями и выражениями, разрешенными на странице.</span><span class="sxs-lookup"><span data-stu-id="f077e-189">You see the page in the browser with all the values and expressions resolved in the page.</span></span>

![Страница "Тестразор", выполняемая в браузере](intro-to-web-pages-programming/_static/image2.png)

<span data-ttu-id="f077e-191">Взгляните на источник в браузере.</span><span class="sxs-lookup"><span data-stu-id="f077e-191">Look at the source in the browser.</span></span>

![Источник страницы "Test Razor" в браузере](intro-to-web-pages-programming/_static/image3.png)

<span data-ttu-id="f077e-193">Как и в предыдущем учебном курсе, ни один из кода Razor не находится на странице.</span><span class="sxs-lookup"><span data-stu-id="f077e-193">As you expect from your experience in the previous tutorial, none of the Razor code is in the page.</span></span> <span data-ttu-id="f077e-194">Все, что вы видите, — это фактически отображаемые значения.</span><span class="sxs-lookup"><span data-stu-id="f077e-194">All you see are the actual display values.</span></span> <span data-ttu-id="f077e-195">При запуске страницы фактически выполняется запрос к веб-серверу, встроенному в WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="f077e-195">When you run a page, you're actually making a request to the web server that's built into WebMatrix.</span></span> <span data-ttu-id="f077e-196">При получении запроса ASP.NET разрешает все значения и выражения и отображает их значения на странице.</span><span class="sxs-lookup"><span data-stu-id="f077e-196">When the request is received, ASP.NET resolves all the values and expressions and renders their values into the page.</span></span> <span data-ttu-id="f077e-197">Затем он отправляет страницу в браузер.</span><span class="sxs-lookup"><span data-stu-id="f077e-197">It then sends the page to the browser.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="f077e-198">**Razor иC#**</span><span class="sxs-lookup"><span data-stu-id="f077e-198">**Razor and C#**</span></span>
> 
> <span data-ttu-id="f077e-199">Теперь мы сказали, что вы работаете с синтаксис Razor.</span><span class="sxs-lookup"><span data-stu-id="f077e-199">Up to now we've said that you're working with Razor syntax.</span></span> <span data-ttu-id="f077e-200">Это верно, но это не полная история.</span><span class="sxs-lookup"><span data-stu-id="f077e-200">That's true, but it's not the complete story.</span></span> <span data-ttu-id="f077e-201">Будет вызван *C#* фактический язык программирования, который вы используете.</span><span class="sxs-lookup"><span data-stu-id="f077e-201">The actual programming language you're using is called *C#*.</span></span> <span data-ttu-id="f077e-202">C#был создан корпорацией Майкрософт более десяти лет назад и стал одним из основных языков программирования для создания приложений Windows.</span><span class="sxs-lookup"><span data-stu-id="f077e-202">C# was created by Microsoft over a decade ago and has become one of the primary programming languages for creating Windows apps.</span></span> <span data-ttu-id="f077e-203">Все правила, которые вы узнали о том, как присвоить имя переменной и как создавать инструкции и т. д., фактически C# являются правилами языка.</span><span class="sxs-lookup"><span data-stu-id="f077e-203">All the rules you've seen about how to name a variable and how to create statements and so on are actually all rules of the C# language.</span></span>
> 
> <span data-ttu-id="f077e-204">Razor более соответствует небольшому набору соглашений по внедрению этого кода на страницу.</span><span class="sxs-lookup"><span data-stu-id="f077e-204">Razor refers more specifically to the small set of conventions for how you embed this code into a page.</span></span> <span data-ttu-id="f077e-205">Например, соглашение об использовании @ для пометки кода на странице и использования @ {} для внедрения блока кода — это аспект Razor страницы.</span><span class="sxs-lookup"><span data-stu-id="f077e-205">For example, the convention of using @ to mark code in the page and using @{ } to embed a code block is the Razor aspect of a page.</span></span> <span data-ttu-id="f077e-206">Кроме того, вспомогательные методы считаются частью Razor.</span><span class="sxs-lookup"><span data-stu-id="f077e-206">Helpers are also considered to be part of Razor.</span></span> <span data-ttu-id="f077e-207">Синтаксис Razor используется в большем месте, чем просто в веб-страницы ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="f077e-207">Razor syntax is used in more places than just in ASP.NET Web Pages.</span></span> <span data-ttu-id="f077e-208">(Например, он также используется в представлениях MVC ASP.NET.)</span><span class="sxs-lookup"><span data-stu-id="f077e-208">(For example, it's used in ASP.NET MVC views as well.)</span></span>
> 
> <span data-ttu-id="f077e-209">Мы упомянули это, так как если вы ищете информацию о веб-страницы ASP.NET программирования, вы найдете множество ссылок на Razor.</span><span class="sxs-lookup"><span data-stu-id="f077e-209">We mention this because if you look for information about programming ASP.NET Web Pages, you'll find lots of references to Razor.</span></span> <span data-ttu-id="f077e-210">Однако многие из этих ссылок не применяются к выполняемым действиям и, следовательно, могут быть запутанными.</span><span class="sxs-lookup"><span data-stu-id="f077e-210">However, a lot of those references don't apply to what you're doing and might therefore be confusing.</span></span> <span data-ttu-id="f077e-211">И на самом деле многие из ваших вопросов по программированию действительно будут работать с C# ASP.NET или работать с ними.</span><span class="sxs-lookup"><span data-stu-id="f077e-211">And in fact, many of your programming questions are really going to be about either working with C# or working with ASP.NET.</span></span> <span data-ttu-id="f077e-212">Поэтому при просмотре специально для сведений о Razor вы можете не найти нужные ответы.</span><span class="sxs-lookup"><span data-stu-id="f077e-212">So if you look specifically for information about Razor, you might not find the answers you need.</span></span>

## <a name="adding-some-conditional-logic"></a><span data-ttu-id="f077e-213">Добавление условной логики</span><span class="sxs-lookup"><span data-stu-id="f077e-213">Adding Some Conditional Logic</span></span>

<span data-ttu-id="f077e-214">Одна из замечательных возможностей использования кода на странице заключается в том, что можно изменить то, что происходит в зависимости от различных условий.</span><span class="sxs-lookup"><span data-stu-id="f077e-214">One of the great features about using code in a page is that you can change what happens based on various conditions.</span></span> <span data-ttu-id="f077e-215">В этой части руководства вы воспроизводите несколько способов изменения отображаемых на странице данных.</span><span class="sxs-lookup"><span data-stu-id="f077e-215">In this part of the tutorial, you'll play around with some ways to change what's displayed in the page.</span></span>

<span data-ttu-id="f077e-216">Пример будет простым и довольно надуманныйным, чтобы мы могли сосредоточиться на условной логике.</span><span class="sxs-lookup"><span data-stu-id="f077e-216">The example will be simple and somewhat contrived so that we can concentrate on the conditional logic.</span></span> <span data-ttu-id="f077e-217">Страница, которую вы создадите, сделает следующее:</span><span class="sxs-lookup"><span data-stu-id="f077e-217">The page you'll create will do this:</span></span>

- <span data-ttu-id="f077e-218">Отображение другого текста на странице в зависимости от того, отображается ли страница в первый раз, или если была нажата кнопка для отправки страницы.</span><span class="sxs-lookup"><span data-stu-id="f077e-218">Show different text on the page depending on whether it's the first time the page is displayed or whether you've clicked a button to submit the page.</span></span> <span data-ttu-id="f077e-219">Это будет первый условный тест.</span><span class="sxs-lookup"><span data-stu-id="f077e-219">That will be the first conditional test.</span></span>
- <span data-ttu-id="f077e-220">Отображать сообщение, только если определенное значение передается в строку запроса URL-адреса (http://...? Показать = true).</span><span class="sxs-lookup"><span data-stu-id="f077e-220">Display the message only if a certain value is passed in the query string of the URL (http://...?show=true).</span></span> <span data-ttu-id="f077e-221">Это будет второй условный тест.</span><span class="sxs-lookup"><span data-stu-id="f077e-221">That will be the second conditional test.</span></span>

<span data-ttu-id="f077e-222">В WebMatrix создайте страницу и назовите ее *TestRazorPart2. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="f077e-222">In WebMatrix, create a page and name it *TestRazorPart2.cshtml*.</span></span> <span data-ttu-id="f077e-223">(На ленте щелкните **создать**, выберите **CSHTML**, присвойте имя файлу и нажмите кнопку **ОК**.)</span><span class="sxs-lookup"><span data-stu-id="f077e-223">(In the ribbon, click **New**, choose **CSHTML**, name the file, and then click **OK**.)</span></span>

<span data-ttu-id="f077e-224">Замените содержимое этой страницы следующим:</span><span class="sxs-lookup"><span data-stu-id="f077e-224">Replace the contents of that page with the following:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample4.cshtml)]

<span data-ttu-id="f077e-225">Блок кода в верхней части инициализирует переменную с именем Message и текстом.</span><span class="sxs-lookup"><span data-stu-id="f077e-225">The code block at the top initializes a variable named message with some text.</span></span> <span data-ttu-id="f077e-226">В тексте страницы содержимое переменной сообщения отображается внутри элемента &lt;p&gt;.</span><span class="sxs-lookup"><span data-stu-id="f077e-226">In the body of the page, the contents of the message variable are displayed inside a &lt;p&gt; element.</span></span> <span data-ttu-id="f077e-227">Разметка также содержит элемент&gt; &lt;input для создания кнопки **отправки** .</span><span class="sxs-lookup"><span data-stu-id="f077e-227">The markup also contains an &lt;input&gt; element to create a **Submit** button.</span></span>

<span data-ttu-id="f077e-228">Запустите страницу, чтобы увидеть, как она работает.</span><span class="sxs-lookup"><span data-stu-id="f077e-228">Run the page to see how it works now.</span></span> <span data-ttu-id="f077e-229">Сейчас это статическая страница, даже если нажать кнопку **Submit (отправить** ).</span><span class="sxs-lookup"><span data-stu-id="f077e-229">For now, it's basically a static page, even if you click the **Submit** button.</span></span>

<span data-ttu-id="f077e-230">Вернитесь в WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="f077e-230">Go back to WebMatrix.</span></span> <span data-ttu-id="f077e-231">Внутри блока кода добавьте следующий выделенный код *после* строки, которая инициализирует сообщение:</span><span class="sxs-lookup"><span data-stu-id="f077e-231">Inside the code block, add the following highlighted code *after* the line that initializes message:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample5.cshtml?highlight=4-6)]

### <a name="the-if---block"></a><span data-ttu-id="f077e-232">Блок if {}</span><span class="sxs-lookup"><span data-stu-id="f077e-232">The if { } block</span></span>

<span data-ttu-id="f077e-233">Только что добавленное было условие If.</span><span class="sxs-lookup"><span data-stu-id="f077e-233">What you just added was an if condition.</span></span> <span data-ttu-id="f077e-234">В коде условие If имеет структуру, подобную следующей:</span><span class="sxs-lookup"><span data-stu-id="f077e-234">In code, the if condition has a structure like this:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample6.cs)]

<span data-ttu-id="f077e-235">Проверяемое условие находится в круглых скобках.</span><span class="sxs-lookup"><span data-stu-id="f077e-235">The condition to test is in parentheses.</span></span> <span data-ttu-id="f077e-236">Он должен быть значением или выражением, возвращающим значение true или false.</span><span class="sxs-lookup"><span data-stu-id="f077e-236">It has to be a value or an expression that returns true or false.</span></span> <span data-ttu-id="f077e-237">Если условие истинно, ASP.NET выполняет инструкцию или инструкции, находящиеся внутри фигурных скобок.</span><span class="sxs-lookup"><span data-stu-id="f077e-237">If the condition is true, ASP.NET runs the statement or statements that are inside the braces.</span></span> <span data-ttu-id="f077e-238">( *Затем* это часть логики *if-then* .) Если условие имеет значение false, блок кода пропускается.</span><span class="sxs-lookup"><span data-stu-id="f077e-238">(Those are the *then* part of the *if-then* logic.) If the condition is false, the block of code is skipped.</span></span>

<span data-ttu-id="f077e-239">Ниже приведено несколько примеров условий, которые можно проверить в операторе if:</span><span class="sxs-lookup"><span data-stu-id="f077e-239">Here are a few examples of conditions you can test in an if statement:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample7.cs)]

<span data-ttu-id="f077e-240">Переменные можно протестировать по значениям или по выражениям с помощью *логического оператора* или *оператора сравнения*: равно (= =), больше (&gt;), меньше (&lt;), больше или равно (&gt;=) и меньше или равно (&lt;=).</span><span class="sxs-lookup"><span data-stu-id="f077e-240">You can test variables against values or against expressions by using a *logical operator* or *comparison operator*: equal to (==), greater than (&gt;), less than (&lt;), greater than or equal to (&gt;=), and less than or equal to (&lt;=).</span></span> <span data-ttu-id="f077e-241">Оператор! = не равен, например, если (a! = 0) означает, что *значение не равно 0*.</span><span class="sxs-lookup"><span data-stu-id="f077e-241">The != operator means not equal to — for example, if(a != 0) means *if a is not equal to 0*.</span></span>

> [!NOTE]
> <span data-ttu-id="f077e-242">Убедитесь, что оператор сравнения для Equals to (= =) не совпадает с параметром =.</span><span class="sxs-lookup"><span data-stu-id="f077e-242">Make sure you notice that the comparison operator for equals to (==) is not the same as =.</span></span> <span data-ttu-id="f077e-243">Оператор = используется только для присвоения значений (var a = 2).</span><span class="sxs-lookup"><span data-stu-id="f077e-243">The = operator is used only to assign values (var a=2).</span></span> <span data-ttu-id="f077e-244">Если вы настроили эти операторы вверх, вы получите ошибку или получите необычные результаты.</span><span class="sxs-lookup"><span data-stu-id="f077e-244">If you mix these operators up, you'll either get an error or you'll get some strange results.</span></span>

<span data-ttu-id="f077e-245">Чтобы проверить, является ли что-то истинным, полный синтаксис имеет значение, если («Done = = true»).</span><span class="sxs-lookup"><span data-stu-id="f077e-245">To test whether something is true, the complete syntax is if(IsDone == true).</span></span> <span data-ttu-id="f077e-246">Но можно также использовать ярлык, если (Done).</span><span class="sxs-lookup"><span data-stu-id="f077e-246">But you can also use the shortcut if(IsDone).</span></span> <span data-ttu-id="f077e-247">Если оператор сравнения отсутствует, ASP.NET предполагает, что выполняется тестирование на true.</span><span class="sxs-lookup"><span data-stu-id="f077e-247">If there's no comparison operator, ASP.NET assumes that you're testing for true.</span></span>

<span data-ttu-id="f077e-248">!</span><span class="sxs-lookup"><span data-stu-id="f077e-248">The !</span></span> <span data-ttu-id="f077e-249">сам по себе оператор означает логическое значение NOT.</span><span class="sxs-lookup"><span data-stu-id="f077e-249">operator by itself means a logical NOT.</span></span> <span data-ttu-id="f077e-250">Например, условие If (! Процедура POST означает *, что значение не равно true*.</span><span class="sxs-lookup"><span data-stu-id="f077e-250">For example, the condition if(!IsPost) means *if IsPost is not true*.</span></span>

<span data-ttu-id="f077e-251">Условия можно объединять с помощью логического оператора AND (&amp;&amp;) или логического или (| | operator).</span><span class="sxs-lookup"><span data-stu-id="f077e-251">You can combine conditions by using a logical AND (&amp;&amp; operator) or logical OR (|| operator).</span></span> <span data-ttu-id="f077e-252">Например, последний из условий if в предыдущих примерах означает, что *филепроцессингисдоне не имеет значение true, а дисплаймессаже имеет значение false*.</span><span class="sxs-lookup"><span data-stu-id="f077e-252">For example, the last of the if conditions in the preceding examples means *if FileProcessingIsDone is not set to true AND displayMessage is set to false*.</span></span>

### <a name="the-else-block"></a><span data-ttu-id="f077e-253">Блок Else</span><span class="sxs-lookup"><span data-stu-id="f077e-253">The else block</span></span>

<span data-ttu-id="f077e-254">Одна последняя вещь о блоках if: блок If может следовать за блоком Else.</span><span class="sxs-lookup"><span data-stu-id="f077e-254">One final thing about if blocks: an if block can be followed by an else block.</span></span> <span data-ttu-id="f077e-255">Блок Else полезен для выполнения кода, если условие ложно.</span><span class="sxs-lookup"><span data-stu-id="f077e-255">An else block is useful is you have to execute different code when the condition is false.</span></span> <span data-ttu-id="f077e-256">Ниже приведен простой пример.</span><span class="sxs-lookup"><span data-stu-id="f077e-256">Here's a simple example:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample8.cs)]

<span data-ttu-id="f077e-257">В последующих руководствах в этой серии вы увидите несколько примеров, где можно использовать блок else.</span><span class="sxs-lookup"><span data-stu-id="f077e-257">You'll see some examples in later tutorials in this series where using an else block is useful.</span></span>

### <a name="testing-whether-the-request-is-a-submit-post"></a><span data-ttu-id="f077e-258">Проверка того, является ли запрос отправкой (POST)</span><span class="sxs-lookup"><span data-stu-id="f077e-258">Testing whether the request is a submit (post)</span></span>

<span data-ttu-id="f077e-259">Это еще не все, но давайте вернемся к примеру, который имеет условие If (POST) {...}.</span><span class="sxs-lookup"><span data-stu-id="f077e-259">There's more, but let's get back to the example, which has the condition if(IsPost){ ... }.</span></span> <span data-ttu-id="f077e-260">Процедура POST фактически является свойством текущей страницы.</span><span class="sxs-lookup"><span data-stu-id="f077e-260">IsPost is actually a property of the current page.</span></span> <span data-ttu-id="f077e-261">При первом запросе страницы функция POST возвращает значение false.</span><span class="sxs-lookup"><span data-stu-id="f077e-261">The first time the page is requested, IsPost returns false.</span></span> <span data-ttu-id="f077e-262">Однако, если нажать кнопку или иным способом отправить страницу, то есть опубликовать ее — функция IsTrue возвращает значение true.</span><span class="sxs-lookup"><span data-stu-id="f077e-262">However, if you click a button or otherwise submit the page — that is, you post it — IsPost returns true.</span></span> <span data-ttu-id="f077e-263">Так что процедура POST позволяет определить, работаете ли вы с отправкой формы.</span><span class="sxs-lookup"><span data-stu-id="f077e-263">So IsPost lets you determine whether you're dealing with a form submission.</span></span> <span data-ttu-id="f077e-264">(В терминах HTTP-глаголов, если запрос является операцией GET, функция POST возвращает значение false.</span><span class="sxs-lookup"><span data-stu-id="f077e-264">(In terms of HTTP verbs, if the request is a GET operation, IsPost returns false.</span></span> <span data-ttu-id="f077e-265">Если запрос является операцией POST, функция POST возвращает значение true.) В следующем учебнике вы будете работать с формами ввода, где этот тест станет особенно полезным.</span><span class="sxs-lookup"><span data-stu-id="f077e-265">If the request is a POST operation, IsPost returns true.) In a later tutorial you'll work with input forms, where this test becomes particularly useful.</span></span>

<span data-ttu-id="f077e-266">Запустите страницу.</span><span class="sxs-lookup"><span data-stu-id="f077e-266">Run the page.</span></span> <span data-ttu-id="f077e-267">Так как это первый раз, когда вы запрашиваете страницу, вы увидите: «это первый раз, когда вы запросили страницу».</span><span class="sxs-lookup"><span data-stu-id="f077e-267">Because this is the first time you're requested the page, you see "This is the first time you've requested the page".</span></span> <span data-ttu-id="f077e-268">Эта строка представляет собой значение, которое было инициализировано переменной сообщения.</span><span class="sxs-lookup"><span data-stu-id="f077e-268">That string is the value that you initialized the message variable to.</span></span> <span data-ttu-id="f077e-269">Существует тест if (POST), который в данный момент возвращает значение false, поэтому код внутри блока if не выполняется.</span><span class="sxs-lookup"><span data-stu-id="f077e-269">There's an if(IsPost) test, but that returns false at the moment, so the code inside the if block doesn't run.</span></span>

<span data-ttu-id="f077e-270">Нажмите кнопку **Submit (отправить** ).</span><span class="sxs-lookup"><span data-stu-id="f077e-270">Click the **Submit** button.</span></span> <span data-ttu-id="f077e-271">Страница запрашивается снова.</span><span class="sxs-lookup"><span data-stu-id="f077e-271">The page is requested again.</span></span> <span data-ttu-id="f077e-272">Как и ранее, переменная сообщения имеет значение "это первый раз...".</span><span class="sxs-lookup"><span data-stu-id="f077e-272">As before, the message variable is set to "This is the first time ...".</span></span> <span data-ttu-id="f077e-273">Но на этот раз тест if (POST) возвращает значение true, поэтому код внутри блока if выполняется.</span><span class="sxs-lookup"><span data-stu-id="f077e-273">But this time, the test if(IsPost) returns true, so the code inside the if block runs.</span></span> <span data-ttu-id="f077e-274">Код изменяет значение переменной сообщения на другое значение, которое отображается в разметке.</span><span class="sxs-lookup"><span data-stu-id="f077e-274">The code changes the value of the message variable to a different value, which is what's rendered in the markup.</span></span>

<span data-ttu-id="f077e-275">Теперь добавьте условие If в разметку.</span><span class="sxs-lookup"><span data-stu-id="f077e-275">Now add an if condition in the markup.</span></span> <span data-ttu-id="f077e-276">Под элементом &lt;p&gt;, который содержит кнопку **Submit (отправить** ), добавьте следующую разметку:</span><span class="sxs-lookup"><span data-stu-id="f077e-276">Below the &lt;p&gt; element that contains the **Submit** button, add the following markup:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample9.cshtml)]

<span data-ttu-id="f077e-277">Вы добавляете код внутри разметки, поэтому необходимо начать с @.</span><span class="sxs-lookup"><span data-stu-id="f077e-277">You're adding code inside the markup, so you have to start with @.</span></span> <span data-ttu-id="f077e-278">После этого есть тест if, аналогичный добавленному ранее в блоке кода.</span><span class="sxs-lookup"><span data-stu-id="f077e-278">Then there's an if test similar to the one you added earlier up in the code block.</span></span> <span data-ttu-id="f077e-279">Однако внутри фигурных скобок вы добавляете обычный код HTML — по крайней мере, он является обычным, пока не получит @DateTime.Now.</span><span class="sxs-lookup"><span data-stu-id="f077e-279">Inside the braces, though, you're adding ordinary HTML — at least, it's ordinary until it gets to @DateTime.Now.</span></span> <span data-ttu-id="f077e-280">Это еще один небольшой фрагмент кода Razor, поэтому снова нужно добавить @ перед ним.</span><span class="sxs-lookup"><span data-stu-id="f077e-280">This is another little bit of Razor code, so again you have to add @ in front of it.</span></span>

<span data-ttu-id="f077e-281">Здесь следует отметить, что можно добавить условия If в блоке кода в верхней части и в разметке.</span><span class="sxs-lookup"><span data-stu-id="f077e-281">The point here is that you can add if conditions in both the code block at the top and in the markup.</span></span> <span data-ttu-id="f077e-282">Если в тексте страницы используется условие If, то строки внутри блока могут быть разметкой или кодом.</span><span class="sxs-lookup"><span data-stu-id="f077e-282">If you use an if condition in the body of the page, the lines inside the block can be markup or code.</span></span> <span data-ttu-id="f077e-283">В этом случае и, как и во время смешивания разметки и кода, необходимо использовать @, чтобы ясно ASP.NET там, где находится код.</span><span class="sxs-lookup"><span data-stu-id="f077e-283">In that case, and as is true anytime you mix markup and code, you have to use @ to make it clear to ASP.NET where the code is.</span></span>

<span data-ttu-id="f077e-284">Запустите страницу и нажмите кнопку **Отправить**.</span><span class="sxs-lookup"><span data-stu-id="f077e-284">Run the page and click **Submit**.</span></span> <span data-ttu-id="f077e-285">На этот раз вы не увидите другое сообщение при отправке ("теперь отправлено..."), но отображается новое сообщение со списком даты и времени.</span><span class="sxs-lookup"><span data-stu-id="f077e-285">This time you not only see a different message when you submit ("Now you've submitted ..."), but you see a new message that lists the date and time.</span></span>

![Страница "Test Razor 2" выполняется в браузере с меткой времени, показанной после отправки](intro-to-web-pages-programming/_static/image4.png)

### <a name="testing-the-value-of-a-query-string"></a><span data-ttu-id="f077e-287">Проверка значения строки запроса</span><span class="sxs-lookup"><span data-stu-id="f077e-287">Testing the value of a query string</span></span>

<span data-ttu-id="f077e-288">Еще один тест.</span><span class="sxs-lookup"><span data-stu-id="f077e-288">One more test.</span></span> <span data-ttu-id="f077e-289">На этот раз вы добавите блок If, который проверяет значение с именем «показывать», которое может быть передано в строку запроса.</span><span class="sxs-lookup"><span data-stu-id="f077e-289">This time, you'll add an if block that tests a value named show that might be passed in the query string.</span></span> <span data-ttu-id="f077e-290">(Как в следующем: `http://localhost:43097/TestRazorPart2.cshtml?show=true`) Вы измените страницу, чтобы отображалось сообщение («это первый раз...» и т. д.), только если значение параметра Показать равно true.</span><span class="sxs-lookup"><span data-stu-id="f077e-290">(Like this: `http://localhost:43097/TestRazorPart2.cshtml?show=true`) You'll change the page so that the message you've been displaying ("This is the first time ...", etc.) is only displayed if the value of show is true.</span></span>

<span data-ttu-id="f077e-291">В нижней части (но внутри) блока кода в верхней части страницы добавьте следующее:</span><span class="sxs-lookup"><span data-stu-id="f077e-291">At the bottom (but inside) the code block at the top of the page, add the following:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample10.cs)]

<span data-ttu-id="f077e-292">Полный блок кода теперь выглядит, как в следующем примере.</span><span class="sxs-lookup"><span data-stu-id="f077e-292">The complete code block now look like the following example.</span></span> <span data-ttu-id="f077e-293">(Помните, что при копировании кода на страницу отступы могут выглядеть иначе.</span><span class="sxs-lookup"><span data-stu-id="f077e-293">(Remember that when you copy the code into your page, the indentation might look different.</span></span> <span data-ttu-id="f077e-294">Но это не влияет на выполнение кода.)</span><span class="sxs-lookup"><span data-stu-id="f077e-294">But that doesn't affect how the code runs.)</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample11.cshtml)]

<span data-ttu-id="f077e-295">Новый код в блоке инициализирует переменную с именем showMessage и значением false.</span><span class="sxs-lookup"><span data-stu-id="f077e-295">The new code in the block initializes a variable named showMessage to false.</span></span> <span data-ttu-id="f077e-296">Затем выполняется проверка if для поиска значения в строке запроса.</span><span class="sxs-lookup"><span data-stu-id="f077e-296">It then does an if test to look for a value in the query string.</span></span> <span data-ttu-id="f077e-297">При первом запросе страницы он имеет URL-адрес следующего вида:</span><span class="sxs-lookup"><span data-stu-id="f077e-297">When you first request the page, it has a URL like this one:</span></span>

`http://localhost:43097/TestRazorPart2.cshtml`

<span data-ttu-id="f077e-298">Код определяет, содержит ли URL-адрес переменную с именем "показывать в строке запроса", например следующую версию URL-адреса:</span><span class="sxs-lookup"><span data-stu-id="f077e-298">The code determines whether the URL contains a variable named show in the query string, like this version of the URL:</span></span>

<span data-ttu-id="f077e-299">`http://localhost:43097/TestRazorPart2.cshtml`? показывать = true</span><span class="sxs-lookup"><span data-stu-id="f077e-299">`http://localhost:43097/TestRazorPart2.cshtml`?show=true</span></span>

<span data-ttu-id="f077e-300">Сам тест просматривает свойство QueryString объекта Request.</span><span class="sxs-lookup"><span data-stu-id="f077e-300">The test itself looks at the QueryString property of the Request object.</span></span> <span data-ttu-id="f077e-301">Если строка запроса содержит элемент с именем "показ", а если для этого элемента задано значение true, блок if выполняется и присваивает переменной showMessage значение true.</span><span class="sxs-lookup"><span data-stu-id="f077e-301">If the query string contains an item named show, and if that item is set to true, the if block runs and sets the showMessage variable to true.</span></span>

<span data-ttu-id="f077e-302">Здесь есть хитрость, как можно видеть.</span><span class="sxs-lookup"><span data-stu-id="f077e-302">There's a trick here, as you can see.</span></span> <span data-ttu-id="f077e-303">Как и в случае с именем, строка запроса является строкой.</span><span class="sxs-lookup"><span data-stu-id="f077e-303">Like the name says, the query string is a string.</span></span> <span data-ttu-id="f077e-304">Однако можно проверить только значения true и false, если проверяемое значение является логическим значением (true/false).</span><span class="sxs-lookup"><span data-stu-id="f077e-304">However, you can only test for true and false if the value you're testing is a Boolean (true/false) value.</span></span> <span data-ttu-id="f077e-305">Перед продолжением проверки значения переменной показывать в строке запроса ее необходимо преобразовать в логическое значение.</span><span class="sxs-lookup"><span data-stu-id="f077e-305">Before you can test the value of the show variable in the query string, you have to convert it to a Boolean value.</span></span> <span data-ttu-id="f077e-306">Вот что делает метод Асбул — он принимает в качестве входных данных строку и преобразует ее в логическое значение.</span><span class="sxs-lookup"><span data-stu-id="f077e-306">That's what the AsBool method does — it takes a string as input and converts it to a Boolean value.</span></span> <span data-ttu-id="f077e-307">Очевидно, что если строка имеет значение true, метод Асбул преобразует это значение в true.</span><span class="sxs-lookup"><span data-stu-id="f077e-307">Clearly, if the string is "true", the AsBool method converts that value to true.</span></span> <span data-ttu-id="f077e-308">Если значение строки другое, Асбул возвращает значение false.</span><span class="sxs-lookup"><span data-stu-id="f077e-308">If the value of the string is anything else, AsBool returns false.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="f077e-309">**Типы данных и методы AS ()**</span><span class="sxs-lookup"><span data-stu-id="f077e-309">**Data Types and As() Methods**</span></span>
> 
> <span data-ttu-id="f077e-310">Мы сказали, что при создании переменной используется ключевое слово var.</span><span class="sxs-lookup"><span data-stu-id="f077e-310">We've only said so far that when you create a variable, you use the keyword var.</span></span> <span data-ttu-id="f077e-311">Но это не вся история.</span><span class="sxs-lookup"><span data-stu-id="f077e-311">That's not the entire story, though.</span></span> <span data-ttu-id="f077e-312">Для управления значениями — для добавления чисел, сцепления строк или сравнения дат или проверки на значение true/false — C# должен работать с соответствующим внутренним представлением значения.</span><span class="sxs-lookup"><span data-stu-id="f077e-312">In order to manipulate values — to add numbers, or concatenate strings, or compare dates, or test for true/false — C# has to work with an appropriate internal representation of the value.</span></span> <span data-ttu-id="f077e-313">C#*обычно* может выяснить, что должно быть представлено (т. е. *тип* данных) в зависимости от того, что вы делаете с этими значениями.</span><span class="sxs-lookup"><span data-stu-id="f077e-313">C# can *usually* figure out what that representation should be (that is, what *type* the data is) based on what you're doing with the values.</span></span> <span data-ttu-id="f077e-314">Но теперь это не так.</span><span class="sxs-lookup"><span data-stu-id="f077e-314">Now and then, though, it can't do that.</span></span> <span data-ttu-id="f077e-315">В противном случае необходимо явно указать, как C# должны представлять данные.</span><span class="sxs-lookup"><span data-stu-id="f077e-315">If not, you have to help out by explicitly indicating how C# should represent the data.</span></span> <span data-ttu-id="f077e-316">Метод Асбул делает это — он сообщает C# , что строковое значение "true" или "false" должно рассматриваться как логическое значение.</span><span class="sxs-lookup"><span data-stu-id="f077e-316">The AsBool method does that — it tells C# that a string value of "true" or "false" should be treated as a Boolean value.</span></span> <span data-ttu-id="f077e-317">Аналогичные методы существуют для представления строк как других типов, например AsIn (в виде целого числа), Асдатетиме (обрабатывается как Дата и время), Асфлоат (обрабатывается как число с плавающей запятой) и т. д.</span><span class="sxs-lookup"><span data-stu-id="f077e-317">Similar methods exist to represent strings as other types as well, like AsInt (treat as an integer), AsDateTime (treat as a date/time), AsFloat (treat as a floating-point number), and so on.</span></span> <span data-ttu-id="f077e-318">При использовании этих методов AS (), если C# не может представлять строковое значение как запрошенное, вы увидите ошибку.</span><span class="sxs-lookup"><span data-stu-id="f077e-318">When you use these As( ) methods, if C# can't represent the string value as requested, you'll see an error.</span></span>

<span data-ttu-id="f077e-319">В разметке страницы удалите или закомментируйте этот элемент (здесь он отображается с комментарием):</span><span class="sxs-lookup"><span data-stu-id="f077e-319">In the markup of the page, remove or comment out this element (here it's shown commented out):</span></span>

[!code-html[Main](intro-to-web-pages-programming/samples/sample12.html)]

<span data-ttu-id="f077e-320">Если вы удалили или закомментируи этот текст, добавьте следующее:</span><span class="sxs-lookup"><span data-stu-id="f077e-320">Right where you removed or commented out that text, add the following:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample13.cshtml)]

<span data-ttu-id="f077e-321">Тест if говорит о том, что если переменная showMessage имеет значение true, визуализирует элемент &lt;p&gt; со значением переменной сообщения.</span><span class="sxs-lookup"><span data-stu-id="f077e-321">The if test says that if the showMessage variable is true, render a &lt;p&gt; element with the value of the message variable.</span></span>

### <a name="summary-of-your-conditional-logic"></a><span data-ttu-id="f077e-322">Сводка по условной логике</span><span class="sxs-lookup"><span data-stu-id="f077e-322">Summary of your conditional logic</span></span>

<span data-ttu-id="f077e-323">Если вы не уверены, что вы только что сделали, вот краткий обзор.</span><span class="sxs-lookup"><span data-stu-id="f077e-323">In case you're not entirely sure of what you've just done, here's a summary.</span></span>

- <span data-ttu-id="f077e-324">Переменная сообщения инициализируется строкой по умолчанию ("это первый раз...").</span><span class="sxs-lookup"><span data-stu-id="f077e-324">The message variable is initialized to a default string ("This is the first time ...").</span></span>
- <span data-ttu-id="f077e-325">Если запрос страницы является результатом отправки (POST), то значение сообщения меняется на "теперь вы передавали".</span><span class="sxs-lookup"><span data-stu-id="f077e-325">If the page request is the result of a submit (post), the value of message is changed to "Now you've submitted ..."</span></span>
- <span data-ttu-id="f077e-326">Переменная showMessage инициализируется значением false.</span><span class="sxs-lookup"><span data-stu-id="f077e-326">The showMessage variable is initialized to false.</span></span>
- <span data-ttu-id="f077e-327">Если строка запроса содержит? показывать = true, переменной showMessage присваивается значение true.</span><span class="sxs-lookup"><span data-stu-id="f077e-327">If the query string contains ?show=true, the showMessage variable is set to true.</span></span>
- <span data-ttu-id="f077e-328">Если showMessage имеет значение true, в разметке отображается элемент &lt;p&gt;, отображающий значение сообщения.</span><span class="sxs-lookup"><span data-stu-id="f077e-328">In the markup, if showMessage is true, a &lt;p&gt; element is rendered that shows the value of message.</span></span> <span data-ttu-id="f077e-329">(Если showMessage имеет значение false, в этой точке разметки ничего не отображается.)</span><span class="sxs-lookup"><span data-stu-id="f077e-329">(If showMessage is false, nothing is rendered at that point in the markup.)</span></span>
- <span data-ttu-id="f077e-330">В разметке, если запрос является POST, отображается элемент &lt;p&gt;, отображающий дату и время.</span><span class="sxs-lookup"><span data-stu-id="f077e-330">In the markup, if the request is a post, a &lt;p&gt; element is rendered that displays the date and time.</span></span>

<span data-ttu-id="f077e-331">Запустите страницу.</span><span class="sxs-lookup"><span data-stu-id="f077e-331">Run the page.</span></span> <span data-ttu-id="f077e-332">Нет сообщения, так как showMessage имеет значение false, поэтому в разметке проверка if (showMessage) возвращает значение false.</span><span class="sxs-lookup"><span data-stu-id="f077e-332">There's no message, because showMessage is false, so in the markup the if(showMessage) test returns false.</span></span>

<span data-ttu-id="f077e-333">Щелкните **Отправить**.</span><span class="sxs-lookup"><span data-stu-id="f077e-333">Click **Submit**.</span></span> <span data-ttu-id="f077e-334">Вы увидите дату и время, но не все сообщения.</span><span class="sxs-lookup"><span data-stu-id="f077e-334">You see the date and time, but still no message.</span></span>

<span data-ttu-id="f077e-335">В браузере перейдите в поле URL-адрес и добавьте следующий код в конец URL-адреса:? показывать = true и нажмите клавишу ВВОД.</span><span class="sxs-lookup"><span data-stu-id="f077e-335">In your browser, go to the URL box and add the following to the end of the URL: ?show=true and then press Enter.</span></span>

![Страница "Test Razor 2" в браузере, отображающая строку запроса](intro-to-web-pages-programming/_static/image5.png)

<span data-ttu-id="f077e-337">Страница отобразится снова.</span><span class="sxs-lookup"><span data-stu-id="f077e-337">The page is displayed again.</span></span> <span data-ttu-id="f077e-338">(Так как вы изменили URL-адрес, это новый запрос, а не отправка.) Нажмите кнопку **Отправить** еще раз.</span><span class="sxs-lookup"><span data-stu-id="f077e-338">(Because you changed the URL, this is a new request, not a submit.) Click **Submit** again.</span></span> <span data-ttu-id="f077e-339">Сообщение отображается снова, как и Дата и время.</span><span class="sxs-lookup"><span data-stu-id="f077e-339">The message is displayed again, as is the date and time.</span></span>

![Страница "Test Razor 2" после отправки при наличии строки запроса](intro-to-web-pages-programming/_static/image6.png)

<span data-ttu-id="f077e-341">В URL-адресе измените? показывать = true на? показывать = false и нажмите клавишу ВВОД.</span><span class="sxs-lookup"><span data-stu-id="f077e-341">In the URL, change ?show=true to ?show=false and press Enter.</span></span> <span data-ttu-id="f077e-342">Снова отправьте страницу.</span><span class="sxs-lookup"><span data-stu-id="f077e-342">Submit the page again.</span></span> <span data-ttu-id="f077e-343">Страница возвращается к началу работы — нет сообщения.</span><span class="sxs-lookup"><span data-stu-id="f077e-343">The page is back to how you started — no message.</span></span>

<span data-ttu-id="f077e-344">Как отмечалось ранее, логика этого примера немного надуманный.</span><span class="sxs-lookup"><span data-stu-id="f077e-344">As noted earlier, the logic of this example is a little contrived.</span></span> <span data-ttu-id="f077e-345">Тем не менее, если будет выступить во многих страницах, и он примет одну или несколько показанных здесь форм.</span><span class="sxs-lookup"><span data-stu-id="f077e-345">However, if is going to come up in many of your pages, and it will take one or more of the forms you've seen here.</span></span>

## <a name="installing-a-helper-displaying-a-gravatar-image"></a><span data-ttu-id="f077e-346">Установка вспомогательного приложения (отображение образа граватаров)</span><span class="sxs-lookup"><span data-stu-id="f077e-346">Installing a Helper (Displaying a Gravatar Image)</span></span>

<span data-ttu-id="f077e-347">Некоторые задачи, которые часто требуется выполнить на веб-страницах, потребовали много кода или требуются дополнительные знания.</span><span class="sxs-lookup"><span data-stu-id="f077e-347">Some tasks that people often want to do on web pages require a lot of code or require extra knowledge.</span></span> <span data-ttu-id="f077e-348">Примеры: отображение диаграммы для данных; перевод на страницу кнопки "нравится" Facebook; Отправка электронной почты с веб-сайта; Обрезка изображений или изменение их размера; использование PayPal для сайта.</span><span class="sxs-lookup"><span data-stu-id="f077e-348">Examples: displaying a chart for data; putting a Facebook "Like" button on a page; sending email from your website; cropping or resizing images; using PayPal for your site.</span></span> <span data-ttu-id="f077e-349">Чтобы упростить эти виды действий, веб-страницы ASP.NET позволяет использовать *вспомогательные методы*.</span><span class="sxs-lookup"><span data-stu-id="f077e-349">To make it easy to do these kinds of things, ASP.NET Web Pages lets you use *helpers*.</span></span> <span data-ttu-id="f077e-350">Вспомогательные методы — это компоненты, которые устанавливаются для сайта и позволяют выполнять типичные задачи с помощью всего нескольких строк кода Razor.</span><span class="sxs-lookup"><span data-stu-id="f077e-350">Helpers are components that you install for a site and that let you perform typical tasks by using just a few lines of Razor code.</span></span>

<span data-ttu-id="f077e-351">Веб-страницы ASP.NET имеет несколько встроенных вспомогательных функций.</span><span class="sxs-lookup"><span data-stu-id="f077e-351">ASP.NET Web Pages has a few helpers built in.</span></span> <span data-ttu-id="f077e-352">Однако многие вспомогательные методы доступны в пакетах (надстройках), которые предоставляются с помощью диспетчера пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="f077e-352">However, many helpers are available in packages (add-ins) that are provided using the NuGet package manager.</span></span> <span data-ttu-id="f077e-353">NuGet позволяет выбрать пакет для установки, после чего он позаботится о всех деталях установки.</span><span class="sxs-lookup"><span data-stu-id="f077e-353">NuGet lets you select a package to install and then it takes care of all the details of the installation.</span></span>

<span data-ttu-id="f077e-354">В этой части руководства вы установите вспомогательное приложение, которое позволит отобразить изображение граватаров ("глобально распознанный Аватар").</span><span class="sxs-lookup"><span data-stu-id="f077e-354">In this part of the tutorial, you'll install a helper that lets you display a Gravatar ("globally recognized avatar") image.</span></span> <span data-ttu-id="f077e-355">Вы узнаете о двух вещах.</span><span class="sxs-lookup"><span data-stu-id="f077e-355">You'll learn two things.</span></span> <span data-ttu-id="f077e-356">Один из них — поиск и Установка вспомогательной функции.</span><span class="sxs-lookup"><span data-stu-id="f077e-356">One is how to find and install a helper.</span></span> <span data-ttu-id="f077e-357">Кроме того, вы узнаете, как вспомогательный модуль упрощает выполнение действий, которые в противном случае необходимо выполнить с помощью большого объема кода.</span><span class="sxs-lookup"><span data-stu-id="f077e-357">You'll also learn how a helper makes it easy to do something you'd otherwise need to do by using a lot of code you'd have to write yourself.</span></span>

<span data-ttu-id="f077e-358">Вы можете зарегистрировать собственный граватаров на веб-сайте граватаров по адресу [http://www.gravatar.com/](http://www.gravatar.com/), но не обязательно создавать учетную запись граватаров для выполнения этой части руководства.</span><span class="sxs-lookup"><span data-stu-id="f077e-358">You can register your own Gravatar at the Gravatar website at [http://www.gravatar.com/](http://www.gravatar.com/), but it is not essential to create a Gravatar account to perform this part of the tutorial.</span></span>

<span data-ttu-id="f077e-359">В WebMatrix нажмите кнопку **NuGet** .</span><span class="sxs-lookup"><span data-stu-id="f077e-359">In WebMatrix, click the **NuGet** button.</span></span>

![Диалоговое окно "коллекция NuGet" в WebMatrix](intro-to-web-pages-programming/_static/image7.png)

<span data-ttu-id="f077e-361">Запустится диспетчер пакетов NuGet и отобразятся доступные пакеты.</span><span class="sxs-lookup"><span data-stu-id="f077e-361">This launches the NuGet package manager and displays available packages.</span></span> <span data-ttu-id="f077e-362">(Не все пакеты являются вспомогательными, а некоторые добавляют функции WebMatrix, некоторые — дополнительные шаблоны и т. д.) Может появиться сообщение об ошибке о несовместимости версий.</span><span class="sxs-lookup"><span data-stu-id="f077e-362">(Not all of the packages are helpers; some add functionality to WebMatrix itself, some are additional templates, and so on.) You may get an error message about version incompatibility.</span></span> <span data-ttu-id="f077e-363">Чтобы проигнорировать это сообщение об ошибке, нажмите кнопку **ОК** и продолжите работу с этим руководством.</span><span class="sxs-lookup"><span data-stu-id="f077e-363">You can ignore this error message by clicking **OK** and proceeding with this tutorial.</span></span>

![Диалоговое окно "коллекция NuGet" в WebMatrix](intro-to-web-pages-programming/_static/image8.png)

<span data-ttu-id="f077e-365">В поле поиска введите "вспомогательные методы asp.net".</span><span class="sxs-lookup"><span data-stu-id="f077e-365">In the search box, enter "asp.net helpers".</span></span> <span data-ttu-id="f077e-366">NuGet отображает пакеты, соответствующие условиям поиска.</span><span class="sxs-lookup"><span data-stu-id="f077e-366">NuGet shows the packages that match the search terms.</span></span>

![Коллекция NuGet в WebMatrix, показывающая пакеты](intro-to-web-pages-programming/_static/image9.png)

<span data-ttu-id="f077e-368">Библиотека вспомогательных веб-функций ASP.NET содержит код для упрощения многих распространенных задач, включая использование образов граватаров.</span><span class="sxs-lookup"><span data-stu-id="f077e-368">The ASP.NET Web Helpers Library contains code to simplify many common tasks, including the use of Gravatar images.</span></span> <span data-ttu-id="f077e-369">Выберите пакет **библиотеки веб-справки ASP.NET** и нажмите кнопку **установить** , чтобы запустить установщик.</span><span class="sxs-lookup"><span data-stu-id="f077e-369">Select the **ASP.NET Web Helpers Library** package and then click **Install** to launch the installer.</span></span> <span data-ttu-id="f077e-370">Выберите **Да** при появлении запроса на установку пакета и примите условия для завершения установки.</span><span class="sxs-lookup"><span data-stu-id="f077e-370">Select **Yes** when asked if you want to install the package, and accept the terms to complete the installation.</span></span>

<span data-ttu-id="f077e-371">Вот и все.</span><span class="sxs-lookup"><span data-stu-id="f077e-371">That's it.</span></span> <span data-ttu-id="f077e-372">NuGet скачивает и устанавливает все необходимые дополнительные компоненты (*зависимости*).</span><span class="sxs-lookup"><span data-stu-id="f077e-372">NuGet downloads and installs everything, including any additional components that might be required (*dependencies*).</span></span>

<span data-ttu-id="f077e-373">Если по каким-либо причинам необходимо удалить вспомогательный модуль, процесс будет очень похожим.</span><span class="sxs-lookup"><span data-stu-id="f077e-373">If for some reason you have to uninstall a helper, the process is very similar.</span></span> <span data-ttu-id="f077e-374">Нажмите кнопку **NuGet** , перейдите на вкладку **установленные** и выберите пакет, который нужно удалить.</span><span class="sxs-lookup"><span data-stu-id="f077e-374">Click the **NuGet** button, click the **Installed** tab, and pick the package you want to uninstall.</span></span>

## <a name="using-a-helper-in-a-page"></a><span data-ttu-id="f077e-375">Использование вспомогательного метода на странице</span><span class="sxs-lookup"><span data-stu-id="f077e-375">Using a Helper in a Page</span></span>

<span data-ttu-id="f077e-376">Теперь вы будете использовать только что установленный вспомогательный модуль.</span><span class="sxs-lookup"><span data-stu-id="f077e-376">Now you'll use the helper that you just installed.</span></span> <span data-ttu-id="f077e-377">Процесс добавления вспомогательного метода к странице похож на большинство вспомогательных функций.</span><span class="sxs-lookup"><span data-stu-id="f077e-377">The process for adding a helper to a page is similar for most helpers.</span></span>

<span data-ttu-id="f077e-378">В WebMatrix создайте страницу и назовите ее *граватартест. кшмл*.</span><span class="sxs-lookup"><span data-stu-id="f077e-378">In WebMatrix, create a page and name it *GravatarTest.cshml*.</span></span> <span data-ttu-id="f077e-379">(Вы создаете специальную страницу для тестирования вспомогательного приложения, но можете использовать вспомогательные методы на любой странице сайта.)</span><span class="sxs-lookup"><span data-stu-id="f077e-379">(You're creating a special page to test the helper, but you can use helpers in any page in your site.)</span></span>

<span data-ttu-id="f077e-380">В элементе &lt;Body&gt; добавьте элемент &lt;div&gt;.</span><span class="sxs-lookup"><span data-stu-id="f077e-380">Inside the &lt;body&gt; element, add a &lt;div&gt; element.</span></span> <span data-ttu-id="f077e-381">В элементе &lt;div&gt; введите следующее:</span><span class="sxs-lookup"><span data-stu-id="f077e-381">Inside the &lt;div&gt; element, type this:</span></span>

<span data-ttu-id="f077e-382">@Gravatar.</span><span class="sxs-lookup"><span data-stu-id="f077e-382">@Gravatar.</span></span>

<span data-ttu-id="f077e-383">Символ @ — это тот же символ, который вы использовали для пометки кода Razor.</span><span class="sxs-lookup"><span data-stu-id="f077e-383">The @ character is the same character you've been using to mark Razor code.</span></span> <span data-ttu-id="f077e-384">**Граватаров** — это вспомогательный объект, с которым вы работаете.</span><span class="sxs-lookup"><span data-stu-id="f077e-384">**Gravatar** is the helper object that you're working with.</span></span>

<span data-ttu-id="f077e-385">После ввода точки (.) в WebMatrix отображается список *методов* (функций), доступных вспомогательному модулю граватаров.</span><span class="sxs-lookup"><span data-stu-id="f077e-385">As soon as you type the period (.), WebMatrix displays a list of *methods* (functions) that the Gravatar helper makes available:</span></span>

![Раскрывающийся список IntelliSense вспомогательной функции граватаров](intro-to-web-pages-programming/_static/image10.png)

<span data-ttu-id="f077e-387">Эта функция известна как *IntelliSense*.</span><span class="sxs-lookup"><span data-stu-id="f077e-387">This feature is known as *IntelliSense*.</span></span> <span data-ttu-id="f077e-388">Он помогает в кодировании, предоставляя варианты, соответствующие контексту.</span><span class="sxs-lookup"><span data-stu-id="f077e-388">It helps you code by providing context-appropriate choices.</span></span> <span data-ttu-id="f077e-389">IntelliSense работает с HTML, CSS, кодом ASP.NET, JavaScript и другими языками, которые поддерживаются в WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="f077e-389">IntelliSense works with HTML, CSS, ASP.NET code, JavaScript, and other languages that are supported in WebMatrix.</span></span> <span data-ttu-id="f077e-390">Это еще одна функция, которая упрощает разработку веб-страниц в WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="f077e-390">It's another feature that makes it easier to develop web pages in WebMatrix.</span></span>

<span data-ttu-id="f077e-391">Нажмите клавишу G на клавиатуре, и вы увидите, что IntelliSense находит метод HTML.</span><span class="sxs-lookup"><span data-stu-id="f077e-391">Press G on the keyboard, and you see that IntelliSense finds the GetHtml method.</span></span> <span data-ttu-id="f077e-392">Нажмите клавишу TAB. IntelliSense вставляет выбранный метод (HTML).</span><span class="sxs-lookup"><span data-stu-id="f077e-392">Press Tab. IntelliSense inserts the selected method (GetHtml) for you.</span></span> <span data-ttu-id="f077e-393">Введите открывающую скобку и обратите внимание, что закрывающая круглая скобка автоматически добавляется.</span><span class="sxs-lookup"><span data-stu-id="f077e-393">Type an open parenthesis, and notice that the closing parenthesis is automatically added.</span></span> <span data-ttu-id="f077e-394">Введите свой адрес электронной почты в кавычках между двумя круглыми скобками.</span><span class="sxs-lookup"><span data-stu-id="f077e-394">Type your email address in quotation marks between the two parenthesis.</span></span> <span data-ttu-id="f077e-395">Если у вас есть учетная запись граватаров, будет возвращено изображение профиля.</span><span class="sxs-lookup"><span data-stu-id="f077e-395">If you have a Gravatar account, your profile picture will be returned.</span></span> <span data-ttu-id="f077e-396">Если у вас нет учетной записи граватаров, будет возвращен образ по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="f077e-396">If you do not have a Gravatar account, a default image is returned.</span></span> <span data-ttu-id="f077e-397">Когда все будет готово, строка будет выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="f077e-397">When you're done, the line looks like this:</span></span>

[!code-css[Main](intro-to-web-pages-programming/samples/sample14.css)]

<span data-ttu-id="f077e-398">Теперь просмотрите страницу в браузере.</span><span class="sxs-lookup"><span data-stu-id="f077e-398">Now view the page in a browser.</span></span> <span data-ttu-id="f077e-399">В зависимости от наличия учетной записи граватаров отображается изображение или изображение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="f077e-399">Either your picture or the default image is displayed, depending on whether you have a Gravatar account.</span></span>

![Граватаров](intro-to-web-pages-programming/_static/image11.png) ![изображение по умолчанию](intro-to-web-pages-programming/_static/image12.png)

<span data-ttu-id="f077e-402">Чтобы получить представление о том, что делает помощник, просмотрите исходный код страницы в браузере.</span><span class="sxs-lookup"><span data-stu-id="f077e-402">To get an idea of what the helper is doing for you, view the source of the page in the browser.</span></span> <span data-ttu-id="f077e-403">Вместе с HTML-кодом, который вы находились на странице, вы увидите элемент Image, содержащий идентификатор.</span><span class="sxs-lookup"><span data-stu-id="f077e-403">Along with the HTML that you had in your page, you see an image element that includes an identifier.</span></span> <span data-ttu-id="f077e-404">Это код, который вспомогательный объект визуализирует на странице в том месте, где @Gravatar.GetHtml.</span><span class="sxs-lookup"><span data-stu-id="f077e-404">This is code that the helper rendered into the page at the place where you had @Gravatar.GetHtml.</span></span> <span data-ttu-id="f077e-405">Вспомогательное приложение потратило предоставленную информацию и создала код, который напрямую обращается к граватаров, чтобы получить правильный образ для предоставленной учетной записи.</span><span class="sxs-lookup"><span data-stu-id="f077e-405">The helper took the information you provided and generated the code that talks directly to Gravatar in order to get back the correct image for supplied account.</span></span>

<span data-ttu-id="f077e-406">Метод HTML также позволяет настраивать образ, предоставляя другие параметры.</span><span class="sxs-lookup"><span data-stu-id="f077e-406">The GetHtml method also enables you to customize the image by providing other parameters.</span></span> <span data-ttu-id="f077e-407">В следующем коде показано, как запросить изображение с шириной и высотой 40 пикселей и использовать указанный образ по умолчанию с именем **ваватар** , если указанная учетная запись не существует.</span><span class="sxs-lookup"><span data-stu-id="f077e-407">The following code shows how to request an image has a width and height of 40 pixels, and uses a specified default image named **wavatar** if the specified account does not exist.</span></span>

[!code-javascript[Main](intro-to-web-pages-programming/samples/sample15.js)]

<span data-ttu-id="f077e-408">Этот код выдает примерно следующий результат (изображение по умолчанию изменяется случайным образом).</span><span class="sxs-lookup"><span data-stu-id="f077e-408">This code produces something like the following result (the default image will randomly vary).</span></span>

![](intro-to-web-pages-programming/_static/image13.png)

## <a name="coming-up-next"></a><span data-ttu-id="f077e-409">Далее</span><span class="sxs-lookup"><span data-stu-id="f077e-409">Coming Up Next</span></span>

<span data-ttu-id="f077e-410">Для упрощения работы с этим руководством нам пришлось уделить внимание только некоторым основам.</span><span class="sxs-lookup"><span data-stu-id="f077e-410">To keep this tutorial short, we had to focus on only a few basics.</span></span> <span data-ttu-id="f077e-411">Естественно, Razor и. C#</span><span class="sxs-lookup"><span data-stu-id="f077e-411">Naturally, there's a *lot* more to Razor and C#.</span></span> <span data-ttu-id="f077e-412">При работе с этими учебниками вы узнаете больше.</span><span class="sxs-lookup"><span data-stu-id="f077e-412">You'll learn more as you go through these tutorials.</span></span> <span data-ttu-id="f077e-413">Если вас интересуют дополнительные сведения о аспектах программирования Razor и C# прямо сейчас, вы можете ознакомиться с более подробными сведениями в статье [Введение в веб-программирование ASP.NET с помощью синтаксиса Razor](https://go.microsoft.com/fwlink/?LinkID=202890).</span><span class="sxs-lookup"><span data-stu-id="f077e-413">If you're interested in learning more about the programming aspects of Razor and C# right now, you can read a more thorough introduction here: [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkID=202890).</span></span>

<span data-ttu-id="f077e-414">В следующем учебнике описывается работа с базой данных.</span><span class="sxs-lookup"><span data-stu-id="f077e-414">The next tutorial introduces you to working with a database.</span></span> <span data-ttu-id="f077e-415">В этом руководстве вы создадите пример приложения, позволяющего создавать список избранных фильмов.</span><span class="sxs-lookup"><span data-stu-id="f077e-415">In that tutorial, you'll begin creating the sample application that lets you list your favorite movies.</span></span>

## <a name="complete-listing-for-testrazor-page"></a><span data-ttu-id="f077e-416">Полный список для страницы Тестразор</span><span class="sxs-lookup"><span data-stu-id="f077e-416">Complete Listing for TestRazor Page</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample16.cshtml)]

## <a name="complete-listing-for-testrazorpart2-page"></a><span data-ttu-id="f077e-417">Полный список для страницы TestRazorPart2</span><span class="sxs-lookup"><span data-stu-id="f077e-417">Complete Listing for TestRazorPart2 Page</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample17.cshtml)]

## <a name="complete-listing-for-gravatartest-page"></a><span data-ttu-id="f077e-418">Полный список для страницы Граватартест</span><span class="sxs-lookup"><span data-stu-id="f077e-418">Complete Listing for GravatarTest Page</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample18.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="f077e-419">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="f077e-419">Additional Resources</span></span>

- [<span data-ttu-id="f077e-420">Введение в веб-программирование ASP.NET с использованием синтаксиса Razor</span><span class="sxs-lookup"><span data-stu-id="f077e-420">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)
- [<span data-ttu-id="f077e-421">Вспомогательная функция Twitter</span><span class="sxs-lookup"><span data-stu-id="f077e-421">Twitter helper</span></span>](../../ui-layouts-and-themes/twitter-helper.md)

> [!div class="step-by-step"]
> <span data-ttu-id="f077e-422">[Назад](getting-started.md)
> [Вперед](displaying-data.md)</span><span class="sxs-lookup"><span data-stu-id="f077e-422">[Previous](getting-started.md)
[Next](displaying-data.md)</span></span>
