---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/intro-to-web-pages-programming
title: Основы программирования веб-страницы ASP.NET | Документация Майкрософт
author: Rick-Anderson
description: 'В этом учебнике приводятся общие сведения о программировании в веб-страницы ASP.NET с помощью синтаксис Razor. Что вы узнаете: базовый синтаксис "Razor", используемый для PR...'
ms.author: riande
ms.date: 06/17/2015
ms.assetid: 7526ed45-a97d-4e8a-8301-01324ef0eff9
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/intro-to-web-pages-programming
msc.type: authoredcontent
ms.openlocfilehash: 474de7671ac2931e5ba9ff635d77385403644521
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78509982"
---
# <a name="introducing-aspnet-web-pages---programming-basics"></a>Основы программирования веб-страницы ASP.NET

от [Tom фитзмаккен](https://github.com/tfitzmac)

> В этом учебнике приводятся общие сведения о программировании в веб-страницы ASP.NET с помощью синтаксис Razor.
> 
> Из этого руководства вы узнаете, как выполнять такие задачи:
> 
> - Базовый синтаксис "Razor", используемый для программирования в веб-страницы ASP.NET.
> - Некоторые основные C#, то есть язык программирования, который вы будете использовать.
> - Некоторые фундаментальные концепции программирования для веб-страниц.
> - Установка пакетов (компонентов, содержащих готовый код) для использования с сайтом.
> - Использование *вспомогательных* функций для выполнения общих задач программирования.
>   
> 
> Обсуждаемые функции и технологии:
> 
> - NuGet и диспетчер пакетов.
> - Вспомогательный метод `Gravatar`.

Этот учебник в первую очередь представляет собой упражнение, в котором описывается синтаксис программирования, который вы будете использовать для веб-страницы ASP.NET. Вы узнаете о *синтаксис Razor* и коде, написанном на языке C# программирования. Вы получили краткое представление о синтаксисе в предыдущем учебном курсе. в этом учебнике мы объяснем синтаксис.

Мы обещаем, что этот учебник включает в себя большинство программ, которые можно увидеть в одном учебнике, и это единственное руководство, которое относится *только* к программированию. В остальных руководствах в этом наборе вы создадите страницы, которые выполняют интересные задачи.

Вы также узнаете о *вспомогательных*параметрах. Вспомогательный объект — это компонент — упакованный фрагмент кода, который можно добавить на страницу. Вспомогательная служба выполняет работу, что в противном случае может быть утомительной или сложной.

## <a name="creating-a-page-to-play-with-razor"></a>Создание страницы для воспроизведения с помощью Razor

В этом разделе вы пойдете немного с Razor, чтобы вы могли получить представление о базовом синтаксисе.

Запустите WebMatrix, если он еще не запущен. Вы будете использовать веб-сайт, созданный в предыдущем руководстве ([Начало работы с веб-страницами](https://go.microsoft.com/fwlink/?LinkId=251578)). Чтобы открыть его снова, щелкните **Мои сайты** и выберите **вебпажемовиес**:

![Начальный экран WebMatrix с выделенными параметрами "открыть сайт" и "Мои сайты"](intro-to-web-pages-programming/_static/image1.png)

Выберите рабочую область **файлы** .

На ленте щелкните **создать** , чтобы создать страницу. Выберите **CSHTML** и назовите новую страницу *тестразор. cshtml*.

Нажмите кнопку **ОК**.

Скопируйте следующий фрагмент в файл, полностью заменив уже существующий.

> [!NOTE]
> При копировании кода или разметки из примеров в страницу отступы и выравнивание могут отличаться от описанных в учебнике. Однако отступы и выравнивание не влияют на то, как выполняется код.

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample1.cshtml)]

## <a name="examining-the-example-page"></a>Изучение примера страницы

Большинство отображаемых данных — это обычный HTML. Однако в верхней части этого блока кода:

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample2.cshtml)]

Обратите внимание на следующие моменты в этом блоке кода:

- Символ @ указывает ASP.NET, что следует за кодом Razor, а не с HTML. ASP.NET будет рассматривать все символы после символа @ как код, пока он не перейдет в HTML. (В данном случае это &lt;! Элемент DOCTYPE&gt;.
- Фигурные скобки ({и}) заключают блок кода Razor, если код содержит более одной строки. Фигурные скобки указывают ASP.NET, где начинается и заканчивается код для этого блока.
- Символы//помечают комментарий, то есть часть кода, который не будет выполняться.
- Каждая инструкция должна заканчиваться точкой с запятой (;). (Но не комментарии.)
- Значения можно хранить в *переменных*, создаваемых (*Declare*) с ключевым словом var. При создании переменной ей присваивается имя, которое может включать буквы, цифры и символы подчеркивания (\_). Имена переменных не могут начинаться с цифры и не могут использовать имя ключевого слова программирования (например, var).
- Строки символов (например, "ASP.NET" и "Web Pages") заключаются в кавычки. (Они должны быть двойными кавычками.) Числа заключаются в кавычки.
- Пробелы за пределами кавычек не имеют значения. Разрывы строк в основном не важны; исключением является то, что нельзя разделить строку в кавычках между строками. Отступы и выравнивание не имеют значения.

В этом примере не очевидно, что весь код учитывает регистр. Это означает, что переменная Сесум отличается от переменных, которые могут называться Сесум или сесум. Точно так же переменная var является ключевым словом, а переменная var — нет.

### <a name="objects-and-properties-and-methods"></a>Объекты и свойства и методы

Затем выражение DateTime. Now. Проще говоря, DateTime — это *объект*. Объект — это вещь, с которой можно программировать — страницу, текстовое поле, файл, изображение, веб-запрос, сообщение электронной почты, запись клиента и т. д. Объекты имеют одно или несколько *свойств* , описывающих их характеристики. Объект текстового поля имеет свойство Text (помимо других), объект запроса имеет свойство URL-адреса (и другие), сообщение электронной почты имеет свойство From и свойство to, и т. д. Объекты также имеют *методы* , которые можно выполнять с помощью «глаголов». Вы будете работать с объектами очень много.

Как видно из примера, DateTime — это объект, который позволяет программировать даты и время. У него есть свойство с именем Now, которое возвращает текущие дату и время.

### <a name="using-code-to-render-markup-in-the-page"></a>Использование кода для отрисовки разметки на странице

В тексте страницы обратите внимание на следующее:

[!code-html[Main](intro-to-web-pages-programming/samples/sample3.html)]

Опять же, символ @ говорит ASP.NET, что следует за кодом, а не с HTML. В разметке можно добавить @, за которым следует выражение кода, а ASP.NET будет отображать значение этого выражения прямо в этой точке. В этом примере @a будет отображать любое значение переменной с именем a, @product визуализирует все, что находится в переменной с именем Product и т. д.

Однако вы не ограничены переменными. В нескольких экземплярах здесь символ @ стоит перед выражением:

- @ (a\*b) визуализирует продукт, находящимся в переменных a и b. (Оператор \* означает умножение.)
- @ (технологии + "" + Product) отображает значения в переменных технологии и продукте после их объединения и добавления пробела между ними. Оператор (+) для сцепления строк совпадает с оператором для добавления чисел. ASP.NET обычно может определить, работаете ли вы с числами или строками и выполняете нужное действие с оператором +.
- @Request.Url отображает свойство URL-адреса объекта запроса. Объект Request содержит сведения о текущем запросе из браузера, а свойство URL-адреса содержит URL-адрес текущего запроса.

Этот пример также предназначен для демонстрации того, что вы можете работать различными способами. Можно выполнять вычисления в блоке кода в верхней части, поместив результаты в переменную, а затем визуализировать ее в разметке. Кроме того, можно выполнять вычисления в выражении непосредственно в разметке. Используемый подход зависит от того, что вы делаете, и в некоторой степени с собственными предпочтениями.

### <a name="seeing-the-code-in-action"></a>Просмотр кода в действии

Щелкните правой кнопкой мыши имя файла и выберите пункт **запустить в браузере**. В браузере отобразится страница со всеми значениями и выражениями, разрешенными на странице.

![Страница "Тестразор", выполняемая в браузере](intro-to-web-pages-programming/_static/image2.png)

Взгляните на источник в браузере.

![Источник страницы "Test Razor" в браузере](intro-to-web-pages-programming/_static/image3.png)

Как и в предыдущем учебном курсе, ни один из кода Razor не находится на странице. Все, что вы видите, — это фактически отображаемые значения. При запуске страницы фактически выполняется запрос к веб-серверу, встроенному в WebMatrix. При получении запроса ASP.NET разрешает все значения и выражения и отображает их значения на странице. Затем он отправляет страницу в браузер.

> [!TIP] 
> 
> **Razor иC#**
> 
> Теперь мы сказали, что вы работаете с синтаксис Razor. Это верно, но это не полная история. Будет вызван *C#* фактический язык программирования, который вы используете. C#был создан корпорацией Майкрософт более десяти лет назад и стал одним из основных языков программирования для создания приложений Windows. Все правила, которые вы узнали о том, как присвоить имя переменной и как создавать инструкции и т. д., фактически C# являются правилами языка.
> 
> Razor более соответствует небольшому набору соглашений по внедрению этого кода на страницу. Например, соглашение об использовании @ для пометки кода на странице и использования @ {} для внедрения блока кода — это аспект Razor страницы. Кроме того, вспомогательные методы считаются частью Razor. Синтаксис Razor используется в большем месте, чем просто в веб-страницы ASP.NET. (Например, он также используется в представлениях MVC ASP.NET.)
> 
> Мы упомянули это, так как если вы ищете информацию о веб-страницы ASP.NET программирования, вы найдете множество ссылок на Razor. Однако многие из этих ссылок не применяются к выполняемым действиям и, следовательно, могут быть запутанными. И на самом деле многие из ваших вопросов по программированию действительно будут работать с C# ASP.NET или работать с ними. Поэтому при просмотре специально для сведений о Razor вы можете не найти нужные ответы.

## <a name="adding-some-conditional-logic"></a>Добавление условной логики

Одна из замечательных возможностей использования кода на странице заключается в том, что можно изменить то, что происходит в зависимости от различных условий. В этой части руководства вы воспроизводите несколько способов изменения отображаемых на странице данных.

Пример будет простым и довольно надуманныйным, чтобы мы могли сосредоточиться на условной логике. Страница, которую вы создадите, сделает следующее:

- Отображение другого текста на странице в зависимости от того, отображается ли страница в первый раз, или если была нажата кнопка для отправки страницы. Это будет первый условный тест.
- Отображать сообщение, только если определенное значение передается в строку запроса URL-адреса (http://...? Показать = true). Это будет второй условный тест.

В WebMatrix создайте страницу и назовите ее *TestRazorPart2. cshtml*. (На ленте щелкните **создать**, выберите **CSHTML**, присвойте имя файлу и нажмите кнопку **ОК**.)

Замените содержимое этой страницы следующим:

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample4.cshtml)]

Блок кода в верхней части инициализирует переменную с именем Message и текстом. В тексте страницы содержимое переменной сообщения отображается внутри элемента &lt;p&gt;. Разметка также содержит элемент&gt; &lt;input для создания кнопки **отправки** .

Запустите страницу, чтобы увидеть, как она работает. Сейчас это статическая страница, даже если нажать кнопку **Submit (отправить** ).

Вернитесь в WebMatrix. Внутри блока кода добавьте следующий выделенный код *после* строки, которая инициализирует сообщение:

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample5.cshtml?highlight=4-6)]

### <a name="the-if---block"></a>Блок if {}

Только что добавленное было условие If. В коде условие If имеет структуру, подобную следующей:

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample6.cs)]

Проверяемое условие находится в круглых скобках. Он должен быть значением или выражением, возвращающим значение true или false. Если условие истинно, ASP.NET выполняет инструкцию или инструкции, находящиеся внутри фигурных скобок. ( *Затем* это часть логики *if-then* .) Если условие имеет значение false, блок кода пропускается.

Ниже приведено несколько примеров условий, которые можно проверить в операторе if:

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample7.cs)]

Переменные можно протестировать по значениям или по выражениям с помощью *логического оператора* или *оператора сравнения*: равно (= =), больше (&gt;), меньше (&lt;), больше или равно (&gt;=) и меньше или равно (&lt;=). Оператор! = не равен, например, если (a! = 0) означает, что *значение не равно 0*.

> [!NOTE]
> Убедитесь, что оператор сравнения для Equals to (= =) не совпадает с параметром =. Оператор = используется только для присвоения значений (var a = 2). Если вы настроили эти операторы вверх, вы получите ошибку или получите необычные результаты.

Чтобы проверить, является ли что-то истинным, полный синтаксис имеет значение, если («Done = = true»). Но можно также использовать ярлык, если (Done). Если оператор сравнения отсутствует, ASP.NET предполагает, что выполняется тестирование на true.

! сам по себе оператор означает логическое значение NOT. Например, условие If (! Процедура POST означает *, что значение не равно true*.

Условия можно объединять с помощью логического оператора AND (&amp;&amp;) или логического или (| | operator). Например, последний из условий if в предыдущих примерах означает, что *филепроцессингисдоне не имеет значение true, а дисплаймессаже имеет значение false*.

### <a name="the-else-block"></a>Блок Else

Одна последняя вещь о блоках if: блок If может следовать за блоком Else. Блок Else полезен для выполнения кода, если условие ложно. Ниже приведен простой пример.

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample8.cs)]

В последующих руководствах в этой серии вы увидите несколько примеров, где можно использовать блок else.

### <a name="testing-whether-the-request-is-a-submit-post"></a>Проверка того, является ли запрос отправкой (POST)

Это еще не все, но давайте вернемся к примеру, который имеет условие If (POST) {...}. Процедура POST фактически является свойством текущей страницы. При первом запросе страницы функция POST возвращает значение false. Однако, если нажать кнопку или иным способом отправить страницу, то есть опубликовать ее — функция IsTrue возвращает значение true. Так что процедура POST позволяет определить, работаете ли вы с отправкой формы. (В терминах HTTP-глаголов, если запрос является операцией GET, функция POST возвращает значение false. Если запрос является операцией POST, функция POST возвращает значение true.) В следующем учебнике вы будете работать с формами ввода, где этот тест станет особенно полезным.

Запустите страницу. Так как это первый раз, когда вы запрашиваете страницу, вы увидите: «это первый раз, когда вы запросили страницу». Эта строка представляет собой значение, которое было инициализировано переменной сообщения. Существует тест if (POST), который в данный момент возвращает значение false, поэтому код внутри блока if не выполняется.

Нажмите кнопку **Submit (отправить** ). Страница запрашивается снова. Как и ранее, переменная сообщения имеет значение "это первый раз...". Но на этот раз тест if (POST) возвращает значение true, поэтому код внутри блока if выполняется. Код изменяет значение переменной сообщения на другое значение, которое отображается в разметке.

Теперь добавьте условие If в разметку. Под элементом &lt;p&gt;, который содержит кнопку **Submit (отправить** ), добавьте следующую разметку:

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample9.cshtml)]

Вы добавляете код внутри разметки, поэтому необходимо начать с @. После этого есть тест if, аналогичный добавленному ранее в блоке кода. Однако внутри фигурных скобок вы добавляете обычный код HTML — по крайней мере, он является обычным, пока не получит @DateTime.Now. Это еще один небольшой фрагмент кода Razor, поэтому снова нужно добавить @ перед ним.

Здесь следует отметить, что можно добавить условия If в блоке кода в верхней части и в разметке. Если в тексте страницы используется условие If, то строки внутри блока могут быть разметкой или кодом. В этом случае и, как и во время смешивания разметки и кода, необходимо использовать @, чтобы ясно ASP.NET там, где находится код.

Запустите страницу и нажмите кнопку **Отправить**. На этот раз вы не увидите другое сообщение при отправке ("теперь отправлено..."), но отображается новое сообщение со списком даты и времени.

![Страница "Test Razor 2" выполняется в браузере с меткой времени, показанной после отправки](intro-to-web-pages-programming/_static/image4.png)

### <a name="testing-the-value-of-a-query-string"></a>Проверка значения строки запроса

Еще один тест. На этот раз вы добавите блок If, который проверяет значение с именем «показывать», которое может быть передано в строку запроса. (Как в следующем: `http://localhost:43097/TestRazorPart2.cshtml?show=true`) Вы измените страницу, чтобы отображалось сообщение («это первый раз...» и т. д.), только если значение параметра Показать равно true.

В нижней части (но внутри) блока кода в верхней части страницы добавьте следующее:

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample10.cs)]

Полный блок кода теперь выглядит, как в следующем примере. (Помните, что при копировании кода на страницу отступы могут выглядеть иначе. Но это не влияет на выполнение кода.)

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample11.cshtml)]

Новый код в блоке инициализирует переменную с именем showMessage и значением false. Затем выполняется проверка if для поиска значения в строке запроса. При первом запросе страницы он имеет URL-адрес следующего вида:

`http://localhost:43097/TestRazorPart2.cshtml`

Код определяет, содержит ли URL-адрес переменную с именем "показывать в строке запроса", например следующую версию URL-адреса:

`http://localhost:43097/TestRazorPart2.cshtml`? показывать = true

Сам тест просматривает свойство QueryString объекта Request. Если строка запроса содержит элемент с именем "показ", а если для этого элемента задано значение true, блок if выполняется и присваивает переменной showMessage значение true.

Здесь есть хитрость, как можно видеть. Как и в случае с именем, строка запроса является строкой. Однако можно проверить только значения true и false, если проверяемое значение является логическим значением (true/false). Перед продолжением проверки значения переменной показывать в строке запроса ее необходимо преобразовать в логическое значение. Вот что делает метод Асбул — он принимает в качестве входных данных строку и преобразует ее в логическое значение. Очевидно, что если строка имеет значение true, метод Асбул преобразует это значение в true. Если значение строки другое, Асбул возвращает значение false.

> [!TIP] 
> 
> **Типы данных и методы AS ()**
> 
> Мы сказали, что при создании переменной используется ключевое слово var. Но это не вся история. Для управления значениями — для добавления чисел, сцепления строк или сравнения дат или проверки на значение true/false — C# должен работать с соответствующим внутренним представлением значения. C#*обычно* может выяснить, что должно быть представлено (т. е. *тип* данных) в зависимости от того, что вы делаете с этими значениями. Но теперь это не так. В противном случае необходимо явно указать, как C# должны представлять данные. Метод Асбул делает это — он сообщает C# , что строковое значение "true" или "false" должно рассматриваться как логическое значение. Аналогичные методы существуют для представления строк как других типов, например AsIn (в виде целого числа), Асдатетиме (обрабатывается как Дата и время), Асфлоат (обрабатывается как число с плавающей запятой) и т. д. При использовании этих методов AS (), если C# не может представлять строковое значение как запрошенное, вы увидите ошибку.

В разметке страницы удалите или закомментируйте этот элемент (здесь он отображается с комментарием):

[!code-html[Main](intro-to-web-pages-programming/samples/sample12.html)]

Если вы удалили или закомментируи этот текст, добавьте следующее:

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample13.cshtml)]

Тест if говорит о том, что если переменная showMessage имеет значение true, визуализирует элемент &lt;p&gt; со значением переменной сообщения.

### <a name="summary-of-your-conditional-logic"></a>Сводка по условной логике

Если вы не уверены, что вы только что сделали, вот краткий обзор.

- Переменная сообщения инициализируется строкой по умолчанию ("это первый раз...").
- Если запрос страницы является результатом отправки (POST), то значение сообщения меняется на "теперь вы передавали".
- Переменная showMessage инициализируется значением false.
- Если строка запроса содержит? показывать = true, переменной showMessage присваивается значение true.
- Если showMessage имеет значение true, в разметке отображается элемент &lt;p&gt;, отображающий значение сообщения. (Если showMessage имеет значение false, в этой точке разметки ничего не отображается.)
- В разметке, если запрос является POST, отображается элемент &lt;p&gt;, отображающий дату и время.

Запустите страницу. Нет сообщения, так как showMessage имеет значение false, поэтому в разметке проверка if (showMessage) возвращает значение false.

Щелкните **Отправить**. Вы увидите дату и время, но не все сообщения.

В браузере перейдите в поле URL-адрес и добавьте следующий код в конец URL-адреса:? показывать = true и нажмите клавишу ВВОД.

![Страница "Test Razor 2" в браузере, отображающая строку запроса](intro-to-web-pages-programming/_static/image5.png)

Страница отобразится снова. (Так как вы изменили URL-адрес, это новый запрос, а не отправка.) Нажмите кнопку **Отправить** еще раз. Сообщение отображается снова, как и Дата и время.

![Страница "Test Razor 2" после отправки при наличии строки запроса](intro-to-web-pages-programming/_static/image6.png)

В URL-адресе измените? показывать = true на? показывать = false и нажмите клавишу ВВОД. Снова отправьте страницу. Страница возвращается к началу работы — нет сообщения.

Как отмечалось ранее, логика этого примера немного надуманный. Тем не менее, если будет выступить во многих страницах, и он примет одну или несколько показанных здесь форм.

## <a name="installing-a-helper-displaying-a-gravatar-image"></a>Установка вспомогательного приложения (отображение образа граватаров)

Некоторые задачи, которые часто требуется выполнить на веб-страницах, потребовали много кода или требуются дополнительные знания. Примеры: отображение диаграммы для данных; перевод на страницу кнопки "нравится" Facebook; Отправка электронной почты с веб-сайта; Обрезка изображений или изменение их размера; использование PayPal для сайта. Чтобы упростить эти виды действий, веб-страницы ASP.NET позволяет использовать *вспомогательные методы*. Вспомогательные методы — это компоненты, которые устанавливаются для сайта и позволяют выполнять типичные задачи с помощью всего нескольких строк кода Razor.

Веб-страницы ASP.NET имеет несколько встроенных вспомогательных функций. Однако многие вспомогательные методы доступны в пакетах (надстройках), которые предоставляются с помощью диспетчера пакетов NuGet. NuGet позволяет выбрать пакет для установки, после чего он позаботится о всех деталях установки.

В этой части руководства вы установите вспомогательное приложение, которое позволит отобразить изображение граватаров ("глобально распознанный Аватар"). Вы узнаете о двух вещах. Один из них — поиск и Установка вспомогательной функции. Кроме того, вы узнаете, как вспомогательный модуль упрощает выполнение действий, которые в противном случае необходимо выполнить с помощью большого объема кода.

Вы можете зарегистрировать собственный граватаров на веб-сайте граватаров по адресу [http://www.gravatar.com/](http://www.gravatar.com/), но не обязательно создавать учетную запись граватаров для выполнения этой части руководства.

В WebMatrix нажмите кнопку **NuGet** .

![Диалоговое окно "коллекция NuGet" в WebMatrix](intro-to-web-pages-programming/_static/image7.png)

Запустится диспетчер пакетов NuGet и отобразятся доступные пакеты. (Не все пакеты являются вспомогательными, а некоторые добавляют функции WebMatrix, некоторые — дополнительные шаблоны и т. д.) Может появиться сообщение об ошибке о несовместимости версий. Чтобы проигнорировать это сообщение об ошибке, нажмите кнопку **ОК** и продолжите работу с этим руководством.

![Диалоговое окно "коллекция NuGet" в WebMatrix](intro-to-web-pages-programming/_static/image8.png)

В поле поиска введите "вспомогательные методы asp.net". NuGet отображает пакеты, соответствующие условиям поиска.

![Коллекция NuGet в WebMatrix, показывающая пакеты](intro-to-web-pages-programming/_static/image9.png)

Библиотека вспомогательных веб-функций ASP.NET содержит код для упрощения многих распространенных задач, включая использование образов граватаров. Выберите пакет **библиотеки веб-справки ASP.NET** и нажмите кнопку **установить** , чтобы запустить установщик. Выберите **Да** при появлении запроса на установку пакета и примите условия для завершения установки.

Вот и все. NuGet скачивает и устанавливает все необходимые дополнительные компоненты (*зависимости*).

Если по каким-либо причинам необходимо удалить вспомогательный модуль, процесс будет очень похожим. Нажмите кнопку **NuGet** , перейдите на вкладку **установленные** и выберите пакет, который нужно удалить.

## <a name="using-a-helper-in-a-page"></a>Использование вспомогательного метода на странице

Теперь вы будете использовать только что установленный вспомогательный модуль. Процесс добавления вспомогательного метода к странице похож на большинство вспомогательных функций.

В WebMatrix создайте страницу и назовите ее *граватартест. кшмл*. (Вы создаете специальную страницу для тестирования вспомогательного приложения, но можете использовать вспомогательные методы на любой странице сайта.)

В элементе &lt;Body&gt; добавьте элемент &lt;div&gt;. В элементе &lt;div&gt; введите следующее:

@Gravatar.

Символ @ — это тот же символ, который вы использовали для пометки кода Razor. **Граватаров** — это вспомогательный объект, с которым вы работаете.

После ввода точки (.) в WebMatrix отображается список *методов* (функций), доступных вспомогательному модулю граватаров.

![Раскрывающийся список IntelliSense вспомогательной функции граватаров](intro-to-web-pages-programming/_static/image10.png)

Эта функция известна как *IntelliSense*. Он помогает в кодировании, предоставляя варианты, соответствующие контексту. IntelliSense работает с HTML, CSS, кодом ASP.NET, JavaScript и другими языками, которые поддерживаются в WebMatrix. Это еще одна функция, которая упрощает разработку веб-страниц в WebMatrix.

Нажмите клавишу G на клавиатуре, и вы увидите, что IntelliSense находит метод HTML. Нажмите клавишу TAB. IntelliSense вставляет выбранный метод (HTML). Введите открывающую скобку и обратите внимание, что закрывающая круглая скобка автоматически добавляется. Введите свой адрес электронной почты в кавычках между двумя круглыми скобками. Если у вас есть учетная запись граватаров, будет возвращено изображение профиля. Если у вас нет учетной записи граватаров, будет возвращен образ по умолчанию. Когда все будет готово, строка будет выглядеть следующим образом:

[!code-css[Main](intro-to-web-pages-programming/samples/sample14.css)]

Теперь просмотрите страницу в браузере. В зависимости от наличия учетной записи граватаров отображается изображение или изображение по умолчанию.

![Граватаров](intro-to-web-pages-programming/_static/image11.png) ![изображение по умолчанию](intro-to-web-pages-programming/_static/image12.png)

Чтобы получить представление о том, что делает помощник, просмотрите исходный код страницы в браузере. Вместе с HTML-кодом, который вы находились на странице, вы увидите элемент Image, содержащий идентификатор. Это код, который вспомогательный объект визуализирует на странице в том месте, где @Gravatar.GetHtml. Вспомогательное приложение потратило предоставленную информацию и создала код, который напрямую обращается к граватаров, чтобы получить правильный образ для предоставленной учетной записи.

Метод HTML также позволяет настраивать образ, предоставляя другие параметры. В следующем коде показано, как запросить изображение с шириной и высотой 40 пикселей и использовать указанный образ по умолчанию с именем **ваватар** , если указанная учетная запись не существует.

[!code-javascript[Main](intro-to-web-pages-programming/samples/sample15.js)]

Этот код выдает примерно следующий результат (изображение по умолчанию изменяется случайным образом).

![](intro-to-web-pages-programming/_static/image13.png)

## <a name="coming-up-next"></a>Далее

Для упрощения работы с этим руководством нам пришлось уделить внимание только некоторым основам. Естественно, Razor и. C# При работе с этими учебниками вы узнаете больше. Если вас интересуют дополнительные сведения о аспектах программирования Razor и C# прямо сейчас, вы можете ознакомиться с более подробными сведениями в статье [Введение в веб-программирование ASP.NET с помощью синтаксиса Razor](https://go.microsoft.com/fwlink/?LinkID=202890).

В следующем учебнике описывается работа с базой данных. В этом руководстве вы создадите пример приложения, позволяющего создавать список избранных фильмов.

## <a name="complete-listing-for-testrazor-page"></a>Полный список для страницы Тестразор

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample16.cshtml)]

## <a name="complete-listing-for-testrazorpart2-page"></a>Полный список для страницы TestRazorPart2

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample17.cshtml)]

## <a name="complete-listing-for-gravatartest-page"></a>Полный список для страницы Граватартест

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample18.cshtml)]

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Введение в веб-программирование ASP.NET с использованием синтаксиса Razor](https://go.microsoft.com/fwlink/?LinkID=202890)
- [Вспомогательная функция Twitter](../../ui-layouts-and-themes/twitter-helper.md)

> [!div class="step-by-step"]
> [Назад](getting-started.md)
> [Вперед](displaying-data.md)
