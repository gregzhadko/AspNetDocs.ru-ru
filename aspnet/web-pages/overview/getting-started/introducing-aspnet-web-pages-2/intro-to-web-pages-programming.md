---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/intro-to-web-pages-programming
title: Знакомство с веб-страниц ASP.NET — основы программирования | Документация Майкрософт
author: Rick-Anderson
description: 'Этот учебник дает Общие сведения о программе в ASP.NET Web Pages с синтаксисом Razor. Вы узнаете, как: Базовый синтаксис «Razor», который используется для запроса на Вытягивание...'
ms.author: riande
ms.date: 06/17/2015
ms.assetid: 7526ed45-a97d-4e8a-8301-01324ef0eff9
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/intro-to-web-pages-programming
msc.type: authoredcontent
ms.openlocfilehash: ec1c055d1b3f6ca5c6374a18840c2595bb368e0e
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57034561"
---
<a name="introducing-aspnet-web-pages---programming-basics"></a><span data-ttu-id="0c14c-104">Знакомство с веб-страниц ASP.NET — основы программирования</span><span class="sxs-lookup"><span data-stu-id="0c14c-104">Introducing ASP.NET Web Pages - Programming Basics</span></span>
====================
<span data-ttu-id="0c14c-105">по [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="0c14c-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="0c14c-106">Этот учебник дает Общие сведения о программе в ASP.NET Web Pages с синтаксисом Razor.</span><span class="sxs-lookup"><span data-stu-id="0c14c-106">This tutorial gives you an overview of how to program in ASP.NET Web Pages with Razor syntax.</span></span>
> 
> <span data-ttu-id="0c14c-107">Вы узнаете, как:</span><span class="sxs-lookup"><span data-stu-id="0c14c-107">What you'll learn:</span></span>
> 
> - <span data-ttu-id="0c14c-108">Базовый синтаксис «Razor», можно использовать для программирования веб-страницах ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0c14c-108">The basic "Razor" syntax that you use for programming in ASP.NET Web Pages.</span></span>
> - <span data-ttu-id="0c14c-109">Некоторые основные C#, который — язык программирования, которые будут использоваться.</span><span class="sxs-lookup"><span data-stu-id="0c14c-109">Some basic C#, which is the programming language you'll use.</span></span>
> - <span data-ttu-id="0c14c-110">Некоторые основные понятия программирования для веб-страниц.</span><span class="sxs-lookup"><span data-stu-id="0c14c-110">Some fundamental programming concepts for Web Pages.</span></span>
> - <span data-ttu-id="0c14c-111">Инструкции по установке пакетов (компоненты, которые содержат готового кода) для использования с веб-узла.</span><span class="sxs-lookup"><span data-stu-id="0c14c-111">How to install packages (components that contain prebuilt code) to use with your site.</span></span>
> - <span data-ttu-id="0c14c-112">Как использовать *вспомогательные функции* для выполнения распространенных задач программирования.</span><span class="sxs-lookup"><span data-stu-id="0c14c-112">How to use *helpers* to perform common programming tasks.</span></span>
>   
> 
> <span data-ttu-id="0c14c-113">Функции и технологии:</span><span class="sxs-lookup"><span data-stu-id="0c14c-113">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="0c14c-114">И диспетчер пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="0c14c-114">NuGet and the package manager.</span></span>
> - <span data-ttu-id="0c14c-115">`Gravatar` Вспомогательный.</span><span class="sxs-lookup"><span data-stu-id="0c14c-115">The `Gravatar` helper.</span></span>


<span data-ttu-id="0c14c-116">Это руководство предназначено в первую очередь получить с помощью которых представлен синтаксис программирования, которая будет использоваться для веб-страниц ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0c14c-116">This tutorial is primarily an exercise in introducing you to the programming syntax that you'll use for ASP.NET Web Pages.</span></span> <span data-ttu-id="0c14c-117">Вы узнаете о *синтаксиса Razor* и язык программирования кода, написанного на языке C#.</span><span class="sxs-lookup"><span data-stu-id="0c14c-117">You'll learn about *Razor syntax* and code that's written in the C# programming language.</span></span> <span data-ttu-id="0c14c-118">Вы ознакомились этот синтаксис в предыдущем учебном курсе; в этом руководстве мы объясним, как дополнительные синтаксис.</span><span class="sxs-lookup"><span data-stu-id="0c14c-118">You got a glimpse of this syntax in the previous tutorial; in this tutorial we'll explain the syntax more.</span></span>

<span data-ttu-id="0c14c-119">Мы обещаем, что это руководство включает наиболее программирования, вы увидите в руководстве по настройке единого, и что это единственный учебник, в котором находится *только* о программировании.</span><span class="sxs-lookup"><span data-stu-id="0c14c-119">We promise that this tutorial involves the most programming that you'll see in a single tutorial, and that it's the only tutorial that is *only* about programming.</span></span> <span data-ttu-id="0c14c-120">В оставшихся учебниках в рамках этого курса вы создадите фактически страницам, которые выполняют интересных вещей.</span><span class="sxs-lookup"><span data-stu-id="0c14c-120">In the remaining tutorials in this set, you'll actually create pages that do interesting things.</span></span>

<span data-ttu-id="0c14c-121">Вы также узнаете о *вспомогательные функции*.</span><span class="sxs-lookup"><span data-stu-id="0c14c-121">You'll also learn about *helpers*.</span></span> <span data-ttu-id="0c14c-122">Вспомогательный объект — это компонент — упаковать вверх фрагмент кода —, можно добавить на страницу.</span><span class="sxs-lookup"><span data-stu-id="0c14c-122">A helper is a component — a packaged-up piece of code — that you can add to a page.</span></span> <span data-ttu-id="0c14c-123">Вспомогательное приложение выполняет работу, в противном случае может быть утомительным или сложно сделать вручную.</span><span class="sxs-lookup"><span data-stu-id="0c14c-123">The helper performs work for you that otherwise might be tedious or complex to do by hand.</span></span>

## <a name="creating-a-page-to-play-with-razor"></a><span data-ttu-id="0c14c-124">Создание страницы для воспроизведения в Razor</span><span class="sxs-lookup"><span data-stu-id="0c14c-124">Creating a Page to Play with Razor</span></span>

<span data-ttu-id="0c14c-125">В этом разделе мы выполним немного Razor, можно получить представление о базовый синтаксис.</span><span class="sxs-lookup"><span data-stu-id="0c14c-125">In this section you'll play a bit with Razor so you can get a sense of the basic syntax.</span></span>

<span data-ttu-id="0c14c-126">Запуск WebMatrix, если она еще не запущена.</span><span class="sxs-lookup"><span data-stu-id="0c14c-126">Start WebMatrix if it's not already running.</span></span> <span data-ttu-id="0c14c-127">Вы будете использовать веб-сайт, созданный в предыдущем учебном курсе ([Приступая к работе с веб-страниц](https://go.microsoft.com/fwlink/?LinkId=251578)).</span><span class="sxs-lookup"><span data-stu-id="0c14c-127">You'll use the website you created in the previous tutorial ([Getting Started With Web Pages](https://go.microsoft.com/fwlink/?LinkId=251578)).</span></span> <span data-ttu-id="0c14c-128">Чтобы снова открыть его, нажмите кнопку **My Sites** и выберите **WebPageMovies**:</span><span class="sxs-lookup"><span data-stu-id="0c14c-128">To reopen it, click **My Sites** and choose **WebPageMovies**:</span></span>

![Снимок экрана: параметры открыть сайт и My Sites выделены запуск WebMatrix](intro-to-web-pages-programming/_static/image1.png)

<span data-ttu-id="0c14c-130">Выберите **файлы** рабочей области.</span><span class="sxs-lookup"><span data-stu-id="0c14c-130">Select the **Files** workspace.</span></span>

<span data-ttu-id="0c14c-131">На ленте щелкните **New** для создания страницы.</span><span class="sxs-lookup"><span data-stu-id="0c14c-131">In the ribbon, click **New** to create a page.</span></span> <span data-ttu-id="0c14c-132">Выберите **CSHTML** и назовите новую страницу *TestRazor.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="0c14c-132">Select **CSHTML** and name the new page *TestRazor.cshtml*.</span></span>

<span data-ttu-id="0c14c-133">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="0c14c-133">Click **OK**.</span></span>

<span data-ttu-id="0c14c-134">Скопируйте следующий код в файле, полной замены уже существует.</span><span class="sxs-lookup"><span data-stu-id="0c14c-134">Copy the following into the file, completely replacing what's there already.</span></span>

> [!NOTE]
> <span data-ttu-id="0c14c-135">При копировании кода или разметки на основе примеров в страницу, отступов и выравнивания может не быть таким же, как в этом руководстве.</span><span class="sxs-lookup"><span data-stu-id="0c14c-135">When you copy code or markup from the examples into a page, the indentation and alignment might not be the same as in the tutorial.</span></span> <span data-ttu-id="0c14c-136">Отступы и выравнивание не влияют на способ выполнения кода, однако.</span><span class="sxs-lookup"><span data-stu-id="0c14c-136">Indentation and alignment don't affect how the code runs, though.</span></span>


[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample1.cshtml)]

## <a name="examining-the-example-page"></a><span data-ttu-id="0c14c-137">Изучение примера страницы</span><span class="sxs-lookup"><span data-stu-id="0c14c-137">Examining the Example Page</span></span>

<span data-ttu-id="0c14c-138">Большая часть получаемых является обычный HTML-код.</span><span class="sxs-lookup"><span data-stu-id="0c14c-138">Most of what you see is ordinary HTML.</span></span> <span data-ttu-id="0c14c-139">Тем не менее в верхней находится этот блок кода:</span><span class="sxs-lookup"><span data-stu-id="0c14c-139">However, at the top there's this code block:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample2.cshtml)]

<span data-ttu-id="0c14c-140">Обратите внимание, что указанные ниже действия, о этот блок кода:</span><span class="sxs-lookup"><span data-stu-id="0c14c-140">Notice the following things about this code block:</span></span>

- <span data-ttu-id="0c14c-141">Символ @ сообщает ASP.NET, что следующие за кода Razor, а не HTML.</span><span class="sxs-lookup"><span data-stu-id="0c14c-141">The @ character tells ASP.NET that what follows is Razor code, not HTML.</span></span> <span data-ttu-id="0c14c-142">ASP.NET будет рассматривать все, что после @ символ, как код, пока не будет запущен в HTML еще раз.</span><span class="sxs-lookup"><span data-stu-id="0c14c-142">ASP.NET will treat everything after the @ character as code until it runs into some HTML again.</span></span> <span data-ttu-id="0c14c-143">(В данном случае это &lt;! DOCTYPE&gt; элемент.</span><span class="sxs-lookup"><span data-stu-id="0c14c-143">(In this case, that's the &lt;!DOCTYPE&gt; element.</span></span>
- <span data-ttu-id="0c14c-144">Фигурные скобки ({и}) ограничивают блок кода Razor, если код имеет более одной строки.</span><span class="sxs-lookup"><span data-stu-id="0c14c-144">The braces ( { and } ) enclose a block of Razor code if the code has more than one line.</span></span> <span data-ttu-id="0c14c-145">Фигурные скобки сообщить ASP.NET, где начинается и заканчивается в код для этого блока.</span><span class="sxs-lookup"><span data-stu-id="0c14c-145">The braces tell ASP.NET where the code for that block starts and ends.</span></span>
- <span data-ttu-id="0c14c-146">/ / Комментарий mark символов — то есть часть кода, который не будет выполняться.</span><span class="sxs-lookup"><span data-stu-id="0c14c-146">The // characters mark a comment — that is, a part of the code that won't execute.</span></span>
- <span data-ttu-id="0c14c-147">Каждый оператор должен заканчиваться точкой с запятой (;).</span><span class="sxs-lookup"><span data-stu-id="0c14c-147">Each statement has to end with a semicolon (;).</span></span> <span data-ttu-id="0c14c-148">(Не комментарии, однако.)</span><span class="sxs-lookup"><span data-stu-id="0c14c-148">(Not comments, though.)</span></span>
- <span data-ttu-id="0c14c-149">Можно хранить значения в *переменных*, который создается (*объявить*) с помощью ключевого слова var.</span><span class="sxs-lookup"><span data-stu-id="0c14c-149">You can store values in *variables*, which you create (*declare*) with the keyword var.</span></span> <span data-ttu-id="0c14c-150">При создании переменной задается имя, которое может содержать буквы, цифры и символ подчеркивания (\_).</span><span class="sxs-lookup"><span data-stu-id="0c14c-150">When you create a variable, you give it a name, which can include letters, numbers, and underscore (\_).</span></span> <span data-ttu-id="0c14c-151">Имена переменных не может начинаться с цифры и не может использовать имя программного ключевого слова (например, var).</span><span class="sxs-lookup"><span data-stu-id="0c14c-151">Variable names can't start with a number and can't use the name of a programming keyword (like var).</span></span>
- <span data-ttu-id="0c14c-152">Символьные строки (например, «ASP.NET» и «Веб-страниц») заключайте в кавычки.</span><span class="sxs-lookup"><span data-stu-id="0c14c-152">You enclose character strings (like "ASP.NET" and "Web Pages") in quotation marks.</span></span> <span data-ttu-id="0c14c-153">(Они должны быть двойные кавычки). Числа не заключаются в кавычки.</span><span class="sxs-lookup"><span data-stu-id="0c14c-153">(They must be double quotation marks.) Numbers are not in quotation marks.</span></span>
- <span data-ttu-id="0c14c-154">Пробел за пределами кавычек не имеет значения.</span><span class="sxs-lookup"><span data-stu-id="0c14c-154">Whitespace outside of quotation marks doesn't matter.</span></span> <span data-ttu-id="0c14c-155">Разрывы строки главным образом не имеет значения; исключением является то, что строка в двойных кавычках, невозможно разделить на строки.</span><span class="sxs-lookup"><span data-stu-id="0c14c-155">Line breaks mostly don't matter; the exception is that you can't split a string in quotation marks across lines.</span></span> <span data-ttu-id="0c14c-156">Не имеет значения отступов и выравнивания.</span><span class="sxs-lookup"><span data-stu-id="0c14c-156">Indentation and alignment don't matter.</span></span>

<span data-ttu-id="0c14c-157">То, что не очевидно из этого примера является весь код с учетом регистра.</span><span class="sxs-lookup"><span data-stu-id="0c14c-157">Something that's not obvious from this example is that all code is case sensitive.</span></span> <span data-ttu-id="0c14c-158">Это означает, что TheSum переменной другой переменной, чем переменные, может называться theSum или thesum.</span><span class="sxs-lookup"><span data-stu-id="0c14c-158">This means that the variable TheSum is a different variable than variables that might be named theSum or thesum.</span></span> <span data-ttu-id="0c14c-159">Аналогичным образом var является ключевым словом, но Var не.</span><span class="sxs-lookup"><span data-stu-id="0c14c-159">Similarly, var is a keyword, but Var is not.</span></span>

### <a name="objects-and-properties-and-methods"></a><span data-ttu-id="0c14c-160">Объекты, свойства и методы</span><span class="sxs-lookup"><span data-stu-id="0c14c-160">Objects and properties and methods</span></span>

<span data-ttu-id="0c14c-161">То есть выражение DateTime.Now.</span><span class="sxs-lookup"><span data-stu-id="0c14c-161">Then there's the expression DateTime.Now.</span></span> <span data-ttu-id="0c14c-162">Проще говоря, — DateTime *объект*.</span><span class="sxs-lookup"><span data-stu-id="0c14c-162">In simple terms, DateTime is an *object*.</span></span> <span data-ttu-id="0c14c-163">Объект представляет собой нечто, что можно программировать — страницы текстовое поле, файл, изображения, веб-запроса, сообщение электронной почты, запись о заказчике, и т.д. Объекты имеют один или несколько *свойства* , описывающие их характеристик.</span><span class="sxs-lookup"><span data-stu-id="0c14c-163">An object is a thing that you can program with—a page, a text box, a file, an image, a web request, an email message, a customer record, etc. Objects have one or more *properties* that describe their characteristics.</span></span> <span data-ttu-id="0c14c-164">Объект с текстовыми полями есть свойство Text (среди прочего), объект запроса содержит свойства URL-адреса (и других), сообщение электронной почты имеет свойство From и свойства To, и т. д.</span><span class="sxs-lookup"><span data-stu-id="0c14c-164">A text box object has a Text property (among others), a request object has a Url property (and others), an email message has a From property and a To property, and so on.</span></span> <span data-ttu-id="0c14c-165">Объекты также имеют *методы* , которые они могут выполнять «команды».</span><span class="sxs-lookup"><span data-stu-id="0c14c-165">Objects also have *methods* that are the "verbs" they can perform.</span></span> <span data-ttu-id="0c14c-166">Вы будете работать с объектами гораздо.</span><span class="sxs-lookup"><span data-stu-id="0c14c-166">You'll be working with objects a lot.</span></span>

<span data-ttu-id="0c14c-167">Как видно из примера, даты и времени — это объект, который позволяет программе значения даты и времени.</span><span class="sxs-lookup"><span data-stu-id="0c14c-167">As you can see from the example, DateTime is an object that lets you program dates and times.</span></span> <span data-ttu-id="0c14c-168">Он имеет свойство с именем теперь, возвращает текущую дату и время.</span><span class="sxs-lookup"><span data-stu-id="0c14c-168">It has a property named Now that returns the current date and time.</span></span>

### <a name="using-code-to-render-markup-in-the-page"></a><span data-ttu-id="0c14c-169">С помощью кода для визуализации разметки на странице</span><span class="sxs-lookup"><span data-stu-id="0c14c-169">Using code to render markup in the page</span></span>

<span data-ttu-id="0c14c-170">В основной области страницы Обратите внимание на следующее:</span><span class="sxs-lookup"><span data-stu-id="0c14c-170">In the body of the page, notice the following:</span></span>

[!code-html[Main](intro-to-web-pages-programming/samples/sample3.html)]

<span data-ttu-id="0c14c-171">Опять же символ @ сообщает ASP.NET, ниже приведен код, не HTML.</span><span class="sxs-lookup"><span data-stu-id="0c14c-171">Again, the @ character tells ASP.NET that what follows is code, not HTML.</span></span> <span data-ttu-id="0c14c-172">В разметке можно добавить следуют выражение кода, а ASP.NET будут отображаться значение этого выражения справа в этот момент.</span><span class="sxs-lookup"><span data-stu-id="0c14c-172">In the markup you can add @ followed by a code expression, and ASP.NET will render the value of that expression right at that point.</span></span> <span data-ttu-id="0c14c-173">В примере @a будут отображаться все, что значение переменной с именем, @product отображает указаны в переменной названного продукта и т. д.</span><span class="sxs-lookup"><span data-stu-id="0c14c-173">In the example, @a will render whatever the value is of the variable named a, @product renders whatever is in the variable named product, and so on.</span></span>

<span data-ttu-id="0c14c-174">Можно не только к переменным, однако.</span><span class="sxs-lookup"><span data-stu-id="0c14c-174">You're not limited to variables, though.</span></span> <span data-ttu-id="0c14c-175">В некоторых случаях в данном случае символ @ предшествует выражение:</span><span class="sxs-lookup"><span data-stu-id="0c14c-175">In a few instances here, the @ character precedes an expression:</span></span>

- <span data-ttu-id="0c14c-176">@(\*b) отображает продукта функций переменные и b.</span><span class="sxs-lookup"><span data-stu-id="0c14c-176">@(a\*b) renders the product of whatever is in the variables a and b.</span></span> <span data-ttu-id="0c14c-177">( \* Оператор означает умножение.)</span><span class="sxs-lookup"><span data-stu-id="0c14c-177">(The \* operator means multiplication.)</span></span>
- <span data-ttu-id="0c14c-178">@(технология + "" + продукт) отображает значения в переменные технологий и продуктов после их объединения и добавления пробелов между ними.</span><span class="sxs-lookup"><span data-stu-id="0c14c-178">@(technology + " " + product) renders the values in the variables technology and product after concatenating them and adding a space in between.</span></span> <span data-ttu-id="0c14c-179">Оператор (+) для объединения строк является таким же, как оператор сложения чисел.</span><span class="sxs-lookup"><span data-stu-id="0c14c-179">The operator (+) for concatenating strings is the same as the operator for adding numbers.</span></span> <span data-ttu-id="0c14c-180">ASP.NET обычно ли вы работаете с числами или строками и выполняются правильные действия с оператором "+".</span><span class="sxs-lookup"><span data-stu-id="0c14c-180">ASP.NET can usually tell whether you're working with numbers or with strings and does the right thing with the + operator.</span></span>
- <span data-ttu-id="0c14c-181">@Request.Url Отображает свойство URL-адреса объекта запроса.</span><span class="sxs-lookup"><span data-stu-id="0c14c-181">@Request.Url renders the Url property of the Request object.</span></span> <span data-ttu-id="0c14c-182">Объект запроса содержит сведения о текущем запросе из браузера, а само собой свойство URL-адреса URL-адрес текущего запроса.</span><span class="sxs-lookup"><span data-stu-id="0c14c-182">The Request object contains information about the current request from the browser, and of course the Url property contains the URL of that current request.</span></span>

<span data-ttu-id="0c14c-183">Пример также предназначен для отображения, вы можете работать по-разному.</span><span class="sxs-lookup"><span data-stu-id="0c14c-183">The example is also designed to show you that you can do work in different ways.</span></span> <span data-ttu-id="0c14c-184">Можно выполнять вычисления в блоке кода в верхней, помещает результат в переменной и визуализировать переменную в разметке.</span><span class="sxs-lookup"><span data-stu-id="0c14c-184">You can do calculations in the code block at the top, put the results into a variable, and then render the variable in markup.</span></span> <span data-ttu-id="0c14c-185">Или можно выполнять вычисления выражения справа в разметке.</span><span class="sxs-lookup"><span data-stu-id="0c14c-185">Or you can do calculations in an expression right in the markup.</span></span> <span data-ttu-id="0c14c-186">Подход, который можно использовать зависит от выполняемых задач и, в некоторой степени на собственных предпочтений.</span><span class="sxs-lookup"><span data-stu-id="0c14c-186">The approach you use depends on what you're doing and, to some extent, on your own preference.</span></span>

### <a name="seeing-the-code-in-action"></a><span data-ttu-id="0c14c-187">Просмотр кода в действии</span><span class="sxs-lookup"><span data-stu-id="0c14c-187">Seeing the code in action</span></span>

<span data-ttu-id="0c14c-188">Щелкните правой кнопкой мыши имя файла, а затем выберите **запустить в браузере**.</span><span class="sxs-lookup"><span data-stu-id="0c14c-188">Right-click the name of the file and then choose **Launch in browser**.</span></span> <span data-ttu-id="0c14c-189">Откроется страница в браузере с использованием всех значений и выражений, которые разрешены в странице.</span><span class="sxs-lookup"><span data-stu-id="0c14c-189">You see the page in the browser with all the values and expressions resolved in the page.</span></span>

![Страница «TestRazor», выполняется в браузере](intro-to-web-pages-programming/_static/image2.png)

<span data-ttu-id="0c14c-191">Посмотрите на источник в браузере.</span><span class="sxs-lookup"><span data-stu-id="0c14c-191">Look at the source in the browser.</span></span>

!['Test Razor» исходного кода страницы в браузере](intro-to-web-pages-programming/_static/image3.png)

<span data-ttu-id="0c14c-193">Так как ожидается, что опыт работы в предыдущем учебном курсе, ни одна из кода Razor не на странице.</span><span class="sxs-lookup"><span data-stu-id="0c14c-193">As you expect from your experience in the previous tutorial, none of the Razor code is in the page.</span></span> <span data-ttu-id="0c14c-194">Все, что вы видите являются фактические отображаемые значения.</span><span class="sxs-lookup"><span data-stu-id="0c14c-194">All you see are the actual display values.</span></span> <span data-ttu-id="0c14c-195">При запуске страницы реальных запрос на веб-сервер, который встроен в WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="0c14c-195">When you run a page, you're actually making a request to the web server that's built into WebMatrix.</span></span> <span data-ttu-id="0c14c-196">При получении запроса ASP.NET разрешает значений и выражений и отображает их значения на странице.</span><span class="sxs-lookup"><span data-stu-id="0c14c-196">When the request is received, ASP.NET resolves all the values and expressions and renders their values into the page.</span></span> <span data-ttu-id="0c14c-197">Затем он отправляет страницу в браузер.</span><span class="sxs-lookup"><span data-stu-id="0c14c-197">It then sends the page to the browser.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="0c14c-198">**Razor и C#**</span><span class="sxs-lookup"><span data-stu-id="0c14c-198">**Razor and C#**</span></span>
> 
> <span data-ttu-id="0c14c-199">Пока мы указали, что вы работаете с синтаксисом Razor.</span><span class="sxs-lookup"><span data-stu-id="0c14c-199">Up to now we've said that you're working with Razor syntax.</span></span> <span data-ttu-id="0c14c-200">Это верно, но не всей картины.</span><span class="sxs-lookup"><span data-stu-id="0c14c-200">That's true, but it's not the complete story.</span></span> <span data-ttu-id="0c14c-201">Фактическое язык программирования, вы используете называется *C#*.</span><span class="sxs-lookup"><span data-stu-id="0c14c-201">The actual programming language you're using is called *C#*.</span></span> <span data-ttu-id="0c14c-202">C# был создан корпорацией Майкрософт более десяти лет назад и стал одним из первичного языков программирования для создания приложений Windows.</span><span class="sxs-lookup"><span data-stu-id="0c14c-202">C# was created by Microsoft over a decade ago and has become one of the primary programming languages for creating Windows apps.</span></span> <span data-ttu-id="0c14c-203">Все правила, которые вы уже видели, о том, какое имя переменной и способ создания инструкций и т. д, фактически все правила в языке C#.</span><span class="sxs-lookup"><span data-stu-id="0c14c-203">All the rules you've seen about how to name a variable and how to create statements and so on are actually all rules of the C# language.</span></span>
> 
> <span data-ttu-id="0c14c-204">Razor — это более направлено на небольшой набор соглашения о том, как внедрить этот код в страницу.</span><span class="sxs-lookup"><span data-stu-id="0c14c-204">Razor refers more specifically to the small set of conventions for how you embed this code into a page.</span></span> <span data-ttu-id="0c14c-205">Например, соглашению с помощью, чтобы пометить код на странице и @ {} для внедрения блок кода — это аспект Razor, страницы.</span><span class="sxs-lookup"><span data-stu-id="0c14c-205">For example, the convention of using @ to mark code in the page and using @{ } to embed a code block is the Razor aspect of a page.</span></span> <span data-ttu-id="0c14c-206">Вспомогательные функции, также считаются частью Razor.</span><span class="sxs-lookup"><span data-stu-id="0c14c-206">Helpers are also considered to be part of Razor.</span></span> <span data-ttu-id="0c14c-207">Синтаксис Razor используется в других местах, чем просто веб-страницах ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0c14c-207">Razor syntax is used in more places than just in ASP.NET Web Pages.</span></span> <span data-ttu-id="0c14c-208">(Например, он используется в представлениях ASP.NET MVC также.)</span><span class="sxs-lookup"><span data-stu-id="0c14c-208">(For example, it's used in ASP.NET MVC views as well.)</span></span>
> 
> <span data-ttu-id="0c14c-209">Мы упомянем, поскольку если посмотреть сведения о программирования веб-страниц ASP.NET, вы найдете много ссылок на Razor.</span><span class="sxs-lookup"><span data-stu-id="0c14c-209">We mention this because if you look for information about programming ASP.NET Web Pages, you'll find lots of references to Razor.</span></span> <span data-ttu-id="0c14c-210">Тем не менее массу эти ссылки не применяются к что вы это и поэтому может ввести в заблуждение.</span><span class="sxs-lookup"><span data-stu-id="0c14c-210">However, a lot of those references don't apply to what you're doing and might therefore be confusing.</span></span> <span data-ttu-id="0c14c-211">И на самом деле многие вопросы по программированию действительно будут о работе с C# или работы с ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0c14c-211">And in fact, many of your programming questions are really going to be about either working with C# or working with ASP.NET.</span></span> <span data-ttu-id="0c14c-212">Так что если взглянуть в частности сведения о Razor, вам удается найти необходимые ответы.</span><span class="sxs-lookup"><span data-stu-id="0c14c-212">So if you look specifically for information about Razor, you might not find the answers you need.</span></span>


## <a name="adding-some-conditional-logic"></a><span data-ttu-id="0c14c-213">Добавление условную логику</span><span class="sxs-lookup"><span data-stu-id="0c14c-213">Adding Some Conditional Logic</span></span>

<span data-ttu-id="0c14c-214">Одним из замечательных возможностей по использованию кода на странице является, что можно изменить, что происходит на основе различных условий.</span><span class="sxs-lookup"><span data-stu-id="0c14c-214">One of the great features about using code in a page is that you can change what happens based on various conditions.</span></span> <span data-ttu-id="0c14c-215">В этой части руководства мы выполним некоторые возможности настройки, отображаемые на странице.</span><span class="sxs-lookup"><span data-stu-id="0c14c-215">In this part of the tutorial, you'll play around with some ways to change what's displayed in the page.</span></span>

<span data-ttu-id="0c14c-216">Пример будет простой и несколько надуманный таким образом, мы можете сосредоточиться на условную логику.</span><span class="sxs-lookup"><span data-stu-id="0c14c-216">The example will be simple and somewhat contrived so that we can concentrate on the conditional logic.</span></span> <span data-ttu-id="0c14c-217">Страница, которую вы создадите сделает это:</span><span class="sxs-lookup"><span data-stu-id="0c14c-217">The page you'll create will do this:</span></span>

- <span data-ttu-id="0c14c-218">Показать другим текстом на странице, в зависимости от того, является ли он при первом отображении страницы или ли кнопка была нажата кнопка для передачи на страницу.</span><span class="sxs-lookup"><span data-stu-id="0c14c-218">Show different text on the page depending on whether it's the first time the page is displayed or whether you've clicked a button to submit the page.</span></span> <span data-ttu-id="0c14c-219">Которые будут первого условного теста.</span><span class="sxs-lookup"><span data-stu-id="0c14c-219">That will be the first conditional test.</span></span>
- <span data-ttu-id="0c14c-220">Отображение сообщения, только в том случае, если определенное значение передается в строке запроса URL-адреса (http://...?show=true).</span><span class="sxs-lookup"><span data-stu-id="0c14c-220">Display the message only if a certain value is passed in the query string of the URL (http://...?show=true).</span></span> <span data-ttu-id="0c14c-221">Который будет иметь второй условного теста.</span><span class="sxs-lookup"><span data-stu-id="0c14c-221">That will be the second conditional test.</span></span>

<span data-ttu-id="0c14c-222">В WebMatrix, создайте страницу и назовите его *TestRazorPart2.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="0c14c-222">In WebMatrix, create a page and name it *TestRazorPart2.cshtml*.</span></span> <span data-ttu-id="0c14c-223">(На ленте щелкните **New**, выберите **CSHTML**, присвойте файлу имя и нажмите кнопку **ОК**.)</span><span class="sxs-lookup"><span data-stu-id="0c14c-223">(In the ribbon, click **New**, choose **CSHTML**, name the file, and then click **OK**.)</span></span>

<span data-ttu-id="0c14c-224">Замените содержимое этой страницы, следующее:</span><span class="sxs-lookup"><span data-stu-id="0c14c-224">Replace the contents of that page with the following:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample4.cshtml)]

<span data-ttu-id="0c14c-225">Блок кода в верхней инициализирует переменную «сообщение», с какой-либо текст.</span><span class="sxs-lookup"><span data-stu-id="0c14c-225">The code block at the top initializes a variable named message with some text.</span></span> <span data-ttu-id="0c14c-226">В основной области страницы, содержимое сообщения переменной отображается внутри &lt;p&gt; элемент.</span><span class="sxs-lookup"><span data-stu-id="0c14c-226">In the body of the page, the contents of the message variable are displayed inside a &lt;p&gt; element.</span></span> <span data-ttu-id="0c14c-227">Разметка также содержит &lt;входной&gt; элемент для создания **отправить** кнопки.</span><span class="sxs-lookup"><span data-stu-id="0c14c-227">The markup also contains an &lt;input&gt; element to create a **Submit** button.</span></span>

<span data-ttu-id="0c14c-228">Запустите страницу, чтобы описать их работу.</span><span class="sxs-lookup"><span data-stu-id="0c14c-228">Run the page to see how it works now.</span></span> <span data-ttu-id="0c14c-229">Сейчас это по сути статической страницы, даже если щелкнуть **отправить** кнопки.</span><span class="sxs-lookup"><span data-stu-id="0c14c-229">For now, it's basically a static page, even if you click the **Submit** button.</span></span>

<span data-ttu-id="0c14c-230">Вернитесь в WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="0c14c-230">Go back to WebMatrix.</span></span> <span data-ttu-id="0c14c-231">Внутри блока кода, добавьте следующий выделенный код *после* строки, которая инициализирует сообщение:</span><span class="sxs-lookup"><span data-stu-id="0c14c-231">Inside the code block, add the following highlighted code *after* the line that initializes message:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample5.cshtml?highlight=4-6)]

### <a name="the-if---block"></a><span data-ttu-id="0c14c-232">Если блок {}</span><span class="sxs-lookup"><span data-stu-id="0c14c-232">The if { } block</span></span>

<span data-ttu-id="0c14c-233">Только что добавленную был if условие.</span><span class="sxs-lookup"><span data-stu-id="0c14c-233">What you just added was an if condition.</span></span> <span data-ttu-id="0c14c-234">В коде Если условие имеет структуру следующим образом:</span><span class="sxs-lookup"><span data-stu-id="0c14c-234">In code, the if condition has a structure like this:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample6.cs)]

<span data-ttu-id="0c14c-235">Условие для проверки указан в скобках.</span><span class="sxs-lookup"><span data-stu-id="0c14c-235">The condition to test is in parentheses.</span></span> <span data-ttu-id="0c14c-236">Оно должно быть значение или выражение, возвращающее значение true или false.</span><span class="sxs-lookup"><span data-stu-id="0c14c-236">It has to be a value or an expression that returns true or false.</span></span> <span data-ttu-id="0c14c-237">Если условие истинно, ASP.NET выполняет оператор или операторы, которые находятся внутри фигурных скобок.</span><span class="sxs-lookup"><span data-stu-id="0c14c-237">If the condition is true, ASP.NET runs the statement or statements that are inside the braces.</span></span> <span data-ttu-id="0c14c-238">(Это *затем* частью *if-then* логики.) Если условие равно false, пропускается блок кода.</span><span class="sxs-lookup"><span data-stu-id="0c14c-238">(Those are the *then* part of the *if-then* logic.) If the condition is false, the block of code is skipped.</span></span>

<span data-ttu-id="0c14c-239">Ниже приведены некоторые примеры условий, которые можно протестировать в if инструкции:</span><span class="sxs-lookup"><span data-stu-id="0c14c-239">Here are a few examples of conditions you can test in an if statement:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample7.cs)]

<span data-ttu-id="0c14c-240">Можно проверить переменные для значений или выражений с помощью <em>логический оператор</em> или <em>оператор сравнения</em>: равенства (==), больше (&gt;), меньше (&lt;), больше или равно (&gt;=) и меньше или равно (&lt;=).</span><span class="sxs-lookup"><span data-stu-id="0c14c-240">You can test variables against values or against expressions by using a <em>logical operator</em> or <em>comparison operator</em>: equal to (==), greater than (&gt;), less than (&lt;), greater than or equal to (&gt;=), and less than or equal to (&lt;=).</span></span> <span data-ttu-id="0c14c-241">! = Не равно означает оператор — например, если (! = 0) означает <em>Если</em> <em>a</em><em>не равно 0</em>.</span><span class="sxs-lookup"><span data-stu-id="0c14c-241">The != operator means not equal to — for example, if(a != 0) means <em>if</em> <em>a</em><em>is not equal to 0</em>.</span></span>

> [!NOTE]
> <span data-ttu-id="0c14c-242">Убедитесь, что вы Обратите внимание, что оператор сравнения для равенства (==) не так же, как =.</span><span class="sxs-lookup"><span data-stu-id="0c14c-242">Make sure you notice that the comparison operator for equals to (==) is not the same as =.</span></span> <span data-ttu-id="0c14c-243">= Оператор используется только для присвоения значений (var = 2).</span><span class="sxs-lookup"><span data-stu-id="0c14c-243">The = operator is used only to assign values (var a=2).</span></span> <span data-ttu-id="0c14c-244">Если вы перепутать эти операторы, либо вы получите ошибку, или вы получите непредвиденных результатов.</span><span class="sxs-lookup"><span data-stu-id="0c14c-244">If you mix these operators up, you'll either get an error or you'll get some strange results.</span></span>


<span data-ttu-id="0c14c-245">Чтобы проверить, является ли что-то значение равно true, — полный синтаксис if(IsDone == true).</span><span class="sxs-lookup"><span data-stu-id="0c14c-245">To test whether something is true, the complete syntax is if(IsDone == true).</span></span> <span data-ttu-id="0c14c-246">Но можно также использовать if(IsDone) ярлык.</span><span class="sxs-lookup"><span data-stu-id="0c14c-246">But you can also use the shortcut if(IsDone).</span></span> <span data-ttu-id="0c14c-247">Если нет оператора сравнения, ASP.NET предполагает, что вы проводите тестирование для значения верно.</span><span class="sxs-lookup"><span data-stu-id="0c14c-247">If there's no comparison operator, ASP.NET assumes that you're testing for true.</span></span>

<span data-ttu-id="0c14c-248">!</span><span class="sxs-lookup"><span data-stu-id="0c14c-248">The !</span></span> <span data-ttu-id="0c14c-249">оператор сама по себе означает логическое не.</span><span class="sxs-lookup"><span data-stu-id="0c14c-249">operator by itself means a logical NOT.</span></span> <span data-ttu-id="0c14c-250">Например, условие if (! Означает, что IsPost) *Если IsPost не соблюдается*.</span><span class="sxs-lookup"><span data-stu-id="0c14c-250">For example, the condition if(!IsPost) means *if IsPost is not true*.</span></span>

<span data-ttu-id="0c14c-251">Условия можно комбинировать с помощью логического и (&amp; &amp; оператор) или логического или (|| оператор).</span><span class="sxs-lookup"><span data-stu-id="0c14c-251">You can combine conditions by using a logical AND (&amp;&amp; operator) or logical OR (|| operator).</span></span> <span data-ttu-id="0c14c-252">Например, последнего, если условия в предыдущем означает примеры *Если FileProcessingIsDone не присвоено значение true, и displayMessage имеет значение false*.</span><span class="sxs-lookup"><span data-stu-id="0c14c-252">For example, the last of the if conditions in the preceding examples means *if FileProcessingIsDone is not set to true AND displayMessage is set to false*.</span></span>

### <a name="the-else-block"></a><span data-ttu-id="0c14c-253">Блок else</span><span class="sxs-lookup"><span data-stu-id="0c14c-253">The else block</span></span>

<span data-ttu-id="0c14c-254">Заключительную о блоков: Если блок может следовать блок else.</span><span class="sxs-lookup"><span data-stu-id="0c14c-254">One final thing about if blocks: an if block can be followed by an else block.</span></span> <span data-ttu-id="0c14c-255">Блок else полезно том вам нужно выполнить разный код в том случае, если условие имеет значение false.</span><span class="sxs-lookup"><span data-stu-id="0c14c-255">An else block is useful is you have to execute different code when the condition is false.</span></span> <span data-ttu-id="0c14c-256">Ниже приведен простой пример:</span><span class="sxs-lookup"><span data-stu-id="0c14c-256">Here's a simple example:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample8.cs)]

<span data-ttu-id="0c14c-257">Вы увидите несколько примеров в последующих руководствах этой серии, где использование блок else полезно.</span><span class="sxs-lookup"><span data-stu-id="0c14c-257">You'll see some examples in later tutorials in this series where using an else block is useful.</span></span>

### <a name="testing-whether-the-request-is-a-submit-post"></a><span data-ttu-id="0c14c-258">Тестирование, является ли запрос отправить (post)</span><span class="sxs-lookup"><span data-stu-id="0c14c-258">Testing whether the request is a submit (post)</span></span>

<span data-ttu-id="0c14c-259">Больше, но вернемся к примеру, который имеет условие if(IsPost) {...}.</span><span class="sxs-lookup"><span data-stu-id="0c14c-259">There's more, but let's get back to the example, which has the condition if(IsPost){ ... }.</span></span> <span data-ttu-id="0c14c-260">IsPost относится к текущей страницы.</span><span class="sxs-lookup"><span data-stu-id="0c14c-260">IsPost is actually a property of the current page.</span></span> <span data-ttu-id="0c14c-261">При первом запросе страницы IsPost возвращает значение false.</span><span class="sxs-lookup"><span data-stu-id="0c14c-261">The first time the page is requested, IsPost returns false.</span></span> <span data-ttu-id="0c14c-262">Тем не менее если нажать кнопку или иным способом страницы — то есть блога — IsPost возвращает значение true.</span><span class="sxs-lookup"><span data-stu-id="0c14c-262">However, if you click a button or otherwise submit the page — that is, you post it — IsPost returns true.</span></span> <span data-ttu-id="0c14c-263">Поэтому IsPost позволяет определить ли вы дело с отправкой формы.</span><span class="sxs-lookup"><span data-stu-id="0c14c-263">So IsPost lets you determine whether you're dealing with a form submission.</span></span> <span data-ttu-id="0c14c-264">(С точки зрения HTTP-команды, если запрос является операцией GET, IsPost возвращает значение false.</span><span class="sxs-lookup"><span data-stu-id="0c14c-264">(In terms of HTTP verbs, if the request is a GET operation, IsPost returns false.</span></span> <span data-ttu-id="0c14c-265">Если запрос является операция POST, IsPost возвращает значение true.) В этом руководстве вы будете работать с формы ввода, где этот тест будет особенно полезно.</span><span class="sxs-lookup"><span data-stu-id="0c14c-265">If the request is a POST operation, IsPost returns true.) In a later tutorial you'll work with input forms, where this test becomes particularly useful.</span></span>

<span data-ttu-id="0c14c-266">Откройте страницу.</span><span class="sxs-lookup"><span data-stu-id="0c14c-266">Run the page.</span></span> <span data-ttu-id="0c14c-267">Так как это в первый раз при запросе страницы, вы см. в разделе «This is в первый раз, которое вы запросили страницы».</span><span class="sxs-lookup"><span data-stu-id="0c14c-267">Because this is the first time you're requested the page, you see "This is the first time you've requested the page".</span></span> <span data-ttu-id="0c14c-268">Что строка является значение, которое инициализировать переменную сообщения.</span><span class="sxs-lookup"><span data-stu-id="0c14c-268">That string is the value that you initialized the message variable to.</span></span> <span data-ttu-id="0c14c-269">Тест if(IsPost), но, возвращает значение false, если в данный момент, так что код внутри if блокировать не запускается.</span><span class="sxs-lookup"><span data-stu-id="0c14c-269">There's an if(IsPost) test, but that returns false at the moment, so the code inside the if block doesn't run.</span></span>

<span data-ttu-id="0c14c-270">Нажмите кнопку **отправить** кнопки.</span><span class="sxs-lookup"><span data-stu-id="0c14c-270">Click the **Submit** button.</span></span> <span data-ttu-id="0c14c-271">Страница запрашивается снова.</span><span class="sxs-lookup"><span data-stu-id="0c14c-271">The page is requested again.</span></span> <span data-ttu-id="0c14c-272">Как ранее, сообщение имеет значение «This is в первый раз...».</span><span class="sxs-lookup"><span data-stu-id="0c14c-272">As before, the message variable is set to "This is the first time ...".</span></span> <span data-ttu-id="0c14c-273">Но на этот раз if(IsPost) теста возвращает значение true, так что код внутри if блокировать запусков.</span><span class="sxs-lookup"><span data-stu-id="0c14c-273">But this time, the test if(IsPost) returns true, so the code inside the if block runs.</span></span> <span data-ttu-id="0c14c-274">Код изменяет значение переменной сообщение на другое значение, которое будет отображаться в разметке.</span><span class="sxs-lookup"><span data-stu-id="0c14c-274">The code changes the value of the message variable to a different value, which is what's rendered in the markup.</span></span>

<span data-ttu-id="0c14c-275">Теперь добавьте if условие в разметке.</span><span class="sxs-lookup"><span data-stu-id="0c14c-275">Now add an if condition in the markup.</span></span> <span data-ttu-id="0c14c-276">Ниже &lt;p&gt; элемент, содержащий **отправить** "Кнопка", добавьте следующую разметку:</span><span class="sxs-lookup"><span data-stu-id="0c14c-276">Below the &lt;p&gt; element that contains the **Submit** button, add the following markup:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample9.cshtml)]

<span data-ttu-id="0c14c-277">При добавлении кода в разметке, так что необходимо начать с @.</span><span class="sxs-lookup"><span data-stu-id="0c14c-277">You're adding code inside the markup, so you have to start with @.</span></span> <span data-ttu-id="0c14c-278">То есть выражение if теста, аналогичный приведенному добавленный ранее в блоке кода.</span><span class="sxs-lookup"><span data-stu-id="0c14c-278">Then there's an if test similar to the one you added earlier up in the code block.</span></span> <span data-ttu-id="0c14c-279">В фигурных скобках, однако вы добавляете обычный HTML-код — по крайней мере, это обычный пока не достигнет @DateTime.Now.</span><span class="sxs-lookup"><span data-stu-id="0c14c-279">Inside the braces, though, you're adding ordinary HTML — at least, it's ordinary until it gets to @DateTime.Now.</span></span> <span data-ttu-id="0c14c-280">Это другой небольшой фрагмент кода Razor, и опять же необходимо добавить перед ним.</span><span class="sxs-lookup"><span data-stu-id="0c14c-280">This is another little bit of Razor code, so again you have to add @ in front of it.</span></span>

<span data-ttu-id="0c14c-281">Суть в том, что можно добавить, если условия в обоих тот блок кода, в начале и в разметке.</span><span class="sxs-lookup"><span data-stu-id="0c14c-281">The point here is that you can add if conditions in both the code block at the top and in the markup.</span></span> <span data-ttu-id="0c14c-282">Если вы используете if условия в основной области страницы, строки внутри блока, может быть разметки или кода.</span><span class="sxs-lookup"><span data-stu-id="0c14c-282">If you use an if condition in the body of the page, the lines inside the block can be markup or code.</span></span> <span data-ttu-id="0c14c-283">В этом случае и как имеет значение true, каждый раз, когда смешивать разметки и кода, необходимо использовать, чтобы сделать снимите флажок, чтобы ASP.NET кода.</span><span class="sxs-lookup"><span data-stu-id="0c14c-283">In that case, and as is true anytime you mix markup and code, you have to use @ to make it clear to ASP.NET where the code is.</span></span>

<span data-ttu-id="0c14c-284">Откройте страницу и щелкните **отправить**.</span><span class="sxs-lookup"><span data-stu-id="0c14c-284">Run the page and click **Submit**.</span></span> <span data-ttu-id="0c14c-285">Это время вы не только см. в разделе разные сообщения при отправке («теперь отправки...»), но вы увидите новое сообщение, которое указывает дату и время.</span><span class="sxs-lookup"><span data-stu-id="0c14c-285">This time you not only see a different message when you submit ("Now you've submitted ..."), but you see a new message that lists the date and time.</span></span>

![Страница «тестирование Razor 2", выполняется в браузере с меткой времени, показывающая после отправки](intro-to-web-pages-programming/_static/image4.png)

### <a name="testing-the-value-of-a-query-string"></a><span data-ttu-id="0c14c-287">Проверка значения строки запроса</span><span class="sxs-lookup"><span data-stu-id="0c14c-287">Testing the value of a query string</span></span>

<span data-ttu-id="0c14c-288">Еще один тест.</span><span class="sxs-lookup"><span data-stu-id="0c14c-288">One more test.</span></span> <span data-ttu-id="0c14c-289">На этот раз вы добавите if блок, который проверяет значение с именем показывают, что может быть передано в строке запроса.</span><span class="sxs-lookup"><span data-stu-id="0c14c-289">This time, you'll add an if block that tests a value named show that might be passed in the query string.</span></span> <span data-ttu-id="0c14c-290">(Следующим образом: `http://localhost:43097/TestRazorPart2.cshtml?show=true`) вы измените страницу, чтобы сообщения вы отображение («This is в первый раз...», и т.д.) отображается только в том случае, если Показать значение true.</span><span class="sxs-lookup"><span data-stu-id="0c14c-290">(Like this: `http://localhost:43097/TestRazorPart2.cshtml?show=true`) You'll change the page so that the message you've been displaying ("This is the first time ...", etc.) is only displayed if the value of show is true.</span></span>

<span data-ttu-id="0c14c-291">В нижней (но внутри) блок кода в верхней части страницы, добавьте следующие строки:</span><span class="sxs-lookup"><span data-stu-id="0c14c-291">At the bottom (but inside) the code block at the top of the page, add the following:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample10.cs)]

<span data-ttu-id="0c14c-292">Полный код блока Теперь посмотрите как в следующем примере.</span><span class="sxs-lookup"><span data-stu-id="0c14c-292">The complete code block now look like the following example.</span></span> <span data-ttu-id="0c14c-293">(Помните, что при копировании код на страницу, отступы может выглядеть иначе.</span><span class="sxs-lookup"><span data-stu-id="0c14c-293">(Remember that when you copy the code into your page, the indentation might look different.</span></span> <span data-ttu-id="0c14c-294">Но это не повлияет на способ выполнения кода.)</span><span class="sxs-lookup"><span data-stu-id="0c14c-294">But that doesn't affect how the code runs.)</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample11.cshtml)]

<span data-ttu-id="0c14c-295">Новый код в блоке инициализирует переменную с именем showMessage значение false.</span><span class="sxs-lookup"><span data-stu-id="0c14c-295">The new code in the block initializes a variable named showMessage to false.</span></span> <span data-ttu-id="0c14c-296">Будет выполнена if теста для поиска значения в строке запроса.</span><span class="sxs-lookup"><span data-stu-id="0c14c-296">It then does an if test to look for a value in the query string.</span></span> <span data-ttu-id="0c14c-297">При первом запросе страницы, он имеет URL-адрес следующего вида:</span><span class="sxs-lookup"><span data-stu-id="0c14c-297">When you first request the page, it has a URL like this one:</span></span>

`http://localhost:43097/TestRazorPart2.cshtml`

<span data-ttu-id="0c14c-298">Код определяет, содержит ли URL-адрес переменной с именем, приведенными в строке запроса, как эта версия URL-адрес:</span><span class="sxs-lookup"><span data-stu-id="0c14c-298">The code determines whether the URL contains a variable named show in the query string, like this version of the URL:</span></span>

<span data-ttu-id="0c14c-299">`http://localhost:43097/TestRazorPart2.cshtml`? Показать = true</span><span class="sxs-lookup"><span data-stu-id="0c14c-299">`http://localhost:43097/TestRazorPart2.cshtml`?show=true</span></span>

<span data-ttu-id="0c14c-300">Сам тест рассматривает свойство QueryString объекта запроса.</span><span class="sxs-lookup"><span data-stu-id="0c14c-300">The test itself looks at the QueryString property of the Request object.</span></span> <span data-ttu-id="0c14c-301">Если строка запроса содержит элемент с именем show, и если этот элемент имеет значение true, если блок выполняется и присваивает переменной showMessage значение true.</span><span class="sxs-lookup"><span data-stu-id="0c14c-301">If the query string contains an item named show, and if that item is set to true, the if block runs and sets the showMessage variable to true.</span></span>

<span data-ttu-id="0c14c-302">Как вы видите здесь есть хитрость здесь.</span><span class="sxs-lookup"><span data-stu-id="0c14c-302">There's a trick here, as you can see.</span></span> <span data-ttu-id="0c14c-303">Например, ее называния, строка запроса не строка.</span><span class="sxs-lookup"><span data-stu-id="0c14c-303">Like the name says, the query string is a string.</span></span> <span data-ttu-id="0c14c-304">Тем не менее можно только для проверки true и false, если вы тестируете значение логическое значение (true или false).</span><span class="sxs-lookup"><span data-stu-id="0c14c-304">However, you can only test for true and false if the value you're testing is a Boolean (true/false) value.</span></span> <span data-ttu-id="0c14c-305">Прежде чем можно проверить значение переменной show в строке запроса, необходимо преобразовать его в значение типа Boolean.</span><span class="sxs-lookup"><span data-stu-id="0c14c-305">Before you can test the value of the show variable in the query string, you have to convert it to a Boolean value.</span></span> <span data-ttu-id="0c14c-306">Вот что делает метод AsBool — он принимает в качестве входных данных строку и преобразует его в значение типа Boolean.</span><span class="sxs-lookup"><span data-stu-id="0c14c-306">That's what the AsBool method does — it takes a string as input and converts it to a Boolean value.</span></span> <span data-ttu-id="0c14c-307">Очевидно если строка имеет значение «true», метод AsBool преобразует это значение в значение true.</span><span class="sxs-lookup"><span data-stu-id="0c14c-307">Clearly, if the string is "true", the AsBool method converts that value to true.</span></span> <span data-ttu-id="0c14c-308">Если значение строки равно что-нибудь еще, AsBool возвращает false.</span><span class="sxs-lookup"><span data-stu-id="0c14c-308">If the value of the string is anything else, AsBool returns false.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="0c14c-309">**Типы данных и методов метод As()**</span><span class="sxs-lookup"><span data-stu-id="0c14c-309">**Data Types and As() Methods**</span></span>
> 
> <span data-ttu-id="0c14c-310">Мы только вышесказанное, при создании переменной используется ключевое слово var.</span><span class="sxs-lookup"><span data-stu-id="0c14c-310">We've only said so far that when you create a variable, you use the keyword var.</span></span> <span data-ttu-id="0c14c-311">Весь материал, однако не.</span><span class="sxs-lookup"><span data-stu-id="0c14c-311">That's not the entire story, though.</span></span> <span data-ttu-id="0c14c-312">Чтобы управлять значениями — Добавление номеров, или объединения строк, сравнения дат или проверки на true или false — C# должно работать с соответствующие внутреннего представления значения.</span><span class="sxs-lookup"><span data-stu-id="0c14c-312">In order to manipulate values — to add numbers, or concatenate strings, or compare dates, or test for true/false — C# has to work with an appropriate internal representation of the value.</span></span> <span data-ttu-id="0c14c-313">C# можно *обычно* выяснить это представление, которое должно быть (то есть что *тип* данные) зависимости от выполняемых задач со значениями.</span><span class="sxs-lookup"><span data-stu-id="0c14c-313">C# can *usually* figure out what that representation should be (that is, what *type* the data is) based on what you're doing with the values.</span></span> <span data-ttu-id="0c14c-314">Однако он не предусмотрена.</span><span class="sxs-lookup"><span data-stu-id="0c14c-314">Now and then, though, it can't do that.</span></span> <span data-ttu-id="0c14c-315">В противном случае вам придется оказать помощь, явно указав как C# должен представлять данные.</span><span class="sxs-lookup"><span data-stu-id="0c14c-315">If not, you have to help out by explicitly indicating how C# should represent the data.</span></span> <span data-ttu-id="0c14c-316">Метод AsBool делает это, он сообщает C# что строковое значение «true» или «false» должно рассматриваться как значение типа Boolean.</span><span class="sxs-lookup"><span data-stu-id="0c14c-316">The AsBool method does that — it tells C# that a string value of "true" or "false" should be treated as a Boolean value.</span></span> <span data-ttu-id="0c14c-317">Существуют аналогичные методы для представления строк как другие типы, например AsInt (Power BI как целое число), AsDateTime (обрабатывать как даты и времени), AsFloat (обрабатывать как число с плавающей запятой) и т. д.</span><span class="sxs-lookup"><span data-stu-id="0c14c-317">Similar methods exist to represent strings as other types as well, like AsInt (treat as an integer), AsDateTime (treat as a date/time), AsFloat (treat as a floating-point number), and so on.</span></span> <span data-ttu-id="0c14c-318">При использовании их в качестве методов (), если C# не может представлять строковое значение, по запросу, вы увидите ошибку.</span><span class="sxs-lookup"><span data-stu-id="0c14c-318">When you use these As( ) methods, if C# can't represent the string value as requested, you'll see an error.</span></span>


<span data-ttu-id="0c14c-319">В разметке страницы, удалите или закомментируйте этот элемент (здесь он показан закомментированным):</span><span class="sxs-lookup"><span data-stu-id="0c14c-319">In the markup of the page, remove or comment out this element (here it's shown commented out):</span></span>

[!code-html[Main](intro-to-web-pages-programming/samples/sample12.html)]

<span data-ttu-id="0c14c-320">Справа, где была удалена, или в комментарий этот текст, добавьте следующий код:</span><span class="sxs-lookup"><span data-stu-id="0c14c-320">Right where you removed or commented out that text, add the following:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample13.cshtml)]

<span data-ttu-id="0c14c-321">Если тест ошибке, если переменная showMessage имеет значение true, подготавливающие &lt;p&gt; элемент со значением переменной сообщения.</span><span class="sxs-lookup"><span data-stu-id="0c14c-321">The if test says that if the showMessage variable is true, render a &lt;p&gt; element with the value of the message variable.</span></span>

### <a name="summary-of-your-conditional-logic"></a><span data-ttu-id="0c14c-322">Сводка условной логики</span><span class="sxs-lookup"><span data-stu-id="0c14c-322">Summary of your conditional logic</span></span>

<span data-ttu-id="0c14c-323">В случае, если вы не совсем уверены во что вы только что выполнили, ниже приведена сводка.</span><span class="sxs-lookup"><span data-stu-id="0c14c-323">In case you're not entirely sure of what you've just done, here's a summary.</span></span>

- <span data-ttu-id="0c14c-324">Сообщение переменная инициализируется в строку по умолчанию («This is в первый раз...»).</span><span class="sxs-lookup"><span data-stu-id="0c14c-324">The message variable is initialized to a default string ("This is the first time ...").</span></span>
- <span data-ttu-id="0c14c-325">Если запрос страницы является результатом отправить (post), значение сообщения изменяется на «теперь отправки...»</span><span class="sxs-lookup"><span data-stu-id="0c14c-325">If the page request is the result of a submit (post), the value of message is changed to "Now you've submitted ..."</span></span>
- <span data-ttu-id="0c14c-326">Переменная showMessage устанавливается равным false.</span><span class="sxs-lookup"><span data-stu-id="0c14c-326">The showMessage variable is initialized to false.</span></span>
- <span data-ttu-id="0c14c-327">Если строка запроса содержит? Показать = true, showMessage переменной задается значение true.</span><span class="sxs-lookup"><span data-stu-id="0c14c-327">If the query string contains ?show=true, the showMessage variable is set to true.</span></span>
- <span data-ttu-id="0c14c-328">В разметке, если значение равно true, showMessage &lt;p&gt; элемент отображается, показывающий значение сообщения.</span><span class="sxs-lookup"><span data-stu-id="0c14c-328">In the markup, if showMessage is true, a &lt;p&gt; element is rendered that shows the value of message.</span></span> <span data-ttu-id="0c14c-329">(Если showMessage имеет значение false, ничего не отображается на этом этапе в разметке.)</span><span class="sxs-lookup"><span data-stu-id="0c14c-329">(If showMessage is false, nothing is rendered at that point in the markup.)</span></span>
- <span data-ttu-id="0c14c-330">В разметке, если запрос post &lt;p&gt; элемент отображается, который отображает дату и время.</span><span class="sxs-lookup"><span data-stu-id="0c14c-330">In the markup, if the request is a post, a &lt;p&gt; element is rendered that displays the date and time.</span></span>

<span data-ttu-id="0c14c-331">Откройте страницу.</span><span class="sxs-lookup"><span data-stu-id="0c14c-331">Run the page.</span></span> <span data-ttu-id="0c14c-332">Отсутствуют сообщения, поскольку showMessage имеет значение false, поэтому в разметке if(showMessage) тест возвращает false.</span><span class="sxs-lookup"><span data-stu-id="0c14c-332">There's no message, because showMessage is false, so in the markup the if(showMessage) test returns false.</span></span>

<span data-ttu-id="0c14c-333">Нажмите кнопку **Отправить**.</span><span class="sxs-lookup"><span data-stu-id="0c14c-333">Click **Submit**.</span></span> <span data-ttu-id="0c14c-334">Вы видите, дату и время, но по-прежнему нет сообщения.</span><span class="sxs-lookup"><span data-stu-id="0c14c-334">You see the date and time, but still no message.</span></span>

<span data-ttu-id="0c14c-335">В браузере, в поле URL-адрес и добавьте в конец URL-адрес следующий:? Показать = true и нажмите клавишу ВВОД.</span><span class="sxs-lookup"><span data-stu-id="0c14c-335">In your browser, go to the URL box and add the following to the end of the URL: ?show=true and then press Enter.</span></span>

![«Тестирование Razor 2"страницу в браузере, отображающий строку запроса](intro-to-web-pages-programming/_static/image5.png)

<span data-ttu-id="0c14c-337">Снова откроется страница.</span><span class="sxs-lookup"><span data-stu-id="0c14c-337">The page is displayed again.</span></span> <span data-ttu-id="0c14c-338">(Так как вы изменили URL-адрес, это новый запрос, не отправить.) Нажмите кнопку **отправить** еще раз.</span><span class="sxs-lookup"><span data-stu-id="0c14c-338">(Because you changed the URL, this is a new request, not a submit.) Click **Submit** again.</span></span> <span data-ttu-id="0c14c-339">Появляется сообщение опять же, как дата и время.</span><span class="sxs-lookup"><span data-stu-id="0c14c-339">The message is displayed again, as is the date and time.</span></span>

![Страница «тестирование Razor 2"после отправки при строка запроса](intro-to-web-pages-programming/_static/image6.png)

<span data-ttu-id="0c14c-341">В URL-адрес, измените? Показать = true в? Показать = false, и нажмите клавишу ВВОД.</span><span class="sxs-lookup"><span data-stu-id="0c14c-341">In the URL, change ?show=true to ?show=false and press Enter.</span></span> <span data-ttu-id="0c14c-342">Отправьте страницу еще раз.</span><span class="sxs-lookup"><span data-stu-id="0c14c-342">Submit the page again.</span></span> <span data-ttu-id="0c14c-343">Возвращается страницы, чтобы как была начата работа — сообщение не.</span><span class="sxs-lookup"><span data-stu-id="0c14c-343">The page is back to how you started — no message.</span></span>

<span data-ttu-id="0c14c-344">Как отмечалось ранее, логика этого примера находится несколько надуманный.</span><span class="sxs-lookup"><span data-stu-id="0c14c-344">As noted earlier, the logic of this example is a little contrived.</span></span> <span data-ttu-id="0c14c-345">Тем не менее, если будет, чтобы найти во многих страниц, и может занять один или несколько форм, вы уже видели здесь.</span><span class="sxs-lookup"><span data-stu-id="0c14c-345">However, if is going to come up in many of your pages, and it will take one or more of the forms you've seen here.</span></span>

## <a name="installing-a-helper-displaying-a-gravatar-image"></a><span data-ttu-id="0c14c-346">Установка вспомогательного метода (отображение изображения Gravatar)</span><span class="sxs-lookup"><span data-stu-id="0c14c-346">Installing a Helper (Displaying a Gravatar Image)</span></span>

<span data-ttu-id="0c14c-347">Некоторые задачи, которые пользователи часто стремятся сделать на веб-страницах, требуют большого объема кода или требует дополнительных знаний.</span><span class="sxs-lookup"><span data-stu-id="0c14c-347">Some tasks that people often want to do on web pages require a lot of code or require extra knowledge.</span></span> <span data-ttu-id="0c14c-348">Примеры: отображение диаграммы для данных; Размещение Facebook «Как» на странице; При отправке сообщения с веб-сайта; Обрезание или изменение размеров изображений; с помощью PayPal для вашего сайта.</span><span class="sxs-lookup"><span data-stu-id="0c14c-348">Examples: displaying a chart for data; putting a Facebook "Like" button on a page; sending email from your website; cropping or resizing images; using PayPal for your site.</span></span> <span data-ttu-id="0c14c-349">Чтобы упростить процесс для выполнения таких задач, веб-страниц ASP.NET позволяет использовать *вспомогательные функции*.</span><span class="sxs-lookup"><span data-stu-id="0c14c-349">To make it easy to do these kinds of things, ASP.NET Web Pages lets you use *helpers*.</span></span> <span data-ttu-id="0c14c-350">Вспомогательные функции являются компонентами, устанавливаемый для сайта, и для свойства, которые позволяют выполнять типовые задачи с помощью всего нескольких строк кода Razor.</span><span class="sxs-lookup"><span data-stu-id="0c14c-350">Helpers are components that you install for a site and that let you perform typical tasks by using just a few lines of Razor code.</span></span>

<span data-ttu-id="0c14c-351">Веб-страницы ASP.NET имеет несколько вспомогательных функций, встроенных.</span><span class="sxs-lookup"><span data-stu-id="0c14c-351">ASP.NET Web Pages has a few helpers built in.</span></span> <span data-ttu-id="0c14c-352">Тем не менее многие вспомогательные функции доступны в пакетах (надстройки), которые предоставляются с помощью диспетчера пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="0c14c-352">However, many helpers are available in packages (add-ins) that are provided using the NuGet package manager.</span></span> <span data-ttu-id="0c14c-353">NuGet позволяет выбрать пакет установки, а затем она отвечает за все аспекты установки.</span><span class="sxs-lookup"><span data-stu-id="0c14c-353">NuGet lets you select a package to install and then it takes care of all the details of the installation.</span></span>

<span data-ttu-id="0c14c-354">В этой части руководства вы установите вспомогательный объект, которое служит для отображения изображения Gravatar («глобально распознанных аватар»).</span><span class="sxs-lookup"><span data-stu-id="0c14c-354">In this part of the tutorial, you'll install a helper that lets you display a Gravatar ("globally recognized avatar") image.</span></span> <span data-ttu-id="0c14c-355">Вы узнаете следующее.</span><span class="sxs-lookup"><span data-stu-id="0c14c-355">You'll learn two things.</span></span> <span data-ttu-id="0c14c-356">Один, как найти и установить вспомогательный объект.</span><span class="sxs-lookup"><span data-stu-id="0c14c-356">One is how to find and install a helper.</span></span> <span data-ttu-id="0c14c-357">Вы также узнаете, как вспомогательный объект позволяет легко выполнить задачи, в противном случае необходимо сделать с помощью большого объема кода, вам пришлось бы писать самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="0c14c-357">You'll also learn how a helper makes it easy to do something you'd otherwise need to do by using a lot of code you'd have to write yourself.</span></span>

<span data-ttu-id="0c14c-358">Вы можете зарегистрировать свои собственные Gravatar на веб-сайте Gravatar в [ http://www.gravatar.com/ ](http://www.gravatar.com/), но не обязательно, чтобы создать учетную запись Gravatar для выполнения этой части руководства.</span><span class="sxs-lookup"><span data-stu-id="0c14c-358">You can register your own Gravatar at the Gravatar website at [http://www.gravatar.com/](http://www.gravatar.com/), but it is not essential to create a Gravatar account to perform this part of the tutorial.</span></span>

<span data-ttu-id="0c14c-359">В WebMatrix щелкните **NuGet** кнопки.</span><span class="sxs-lookup"><span data-stu-id="0c14c-359">In WebMatrix, click the **NuGet** button.</span></span>

![Коллекция NuGet диалоговое окно, в WebMatrix](intro-to-web-pages-programming/_static/image7.png)

<span data-ttu-id="0c14c-361">Это запускает диспетчер пакетов NuGet и отображает доступные пакеты.</span><span class="sxs-lookup"><span data-stu-id="0c14c-361">This launches the NuGet package manager and displays available packages.</span></span> <span data-ttu-id="0c14c-362">(Не все пакеты, вспомогательные функции; некоторые добавления функций в WebMatrix, сам, некоторые дополнительные шаблоны и т. д.) Может появиться сообщение об ошибке о несовместимости версий.</span><span class="sxs-lookup"><span data-stu-id="0c14c-362">(Not all of the packages are helpers; some add functionality to WebMatrix itself, some are additional templates, and so on.) You may get an error message about version incompatibility.</span></span> <span data-ttu-id="0c14c-363">Можно игнорировать это сообщение об ошибке, щелкнув **ОК** и работой с этим учебником.</span><span class="sxs-lookup"><span data-stu-id="0c14c-363">You can ignore this error message by clicking **OK** and proceeding with this tutorial.</span></span>

![Коллекция NuGet диалоговое окно, в WebMatrix](intro-to-web-pages-programming/_static/image8.png)

<span data-ttu-id="0c14c-365">В поле поиска введите «вспомогательные методы asp.net».</span><span class="sxs-lookup"><span data-stu-id="0c14c-365">In the search box, enter "asp.net helpers".</span></span> <span data-ttu-id="0c14c-366">NuGet отображаются пакеты, соответствующие условиям поиска.</span><span class="sxs-lookup"><span data-stu-id="0c14c-366">NuGet shows the packages that match the search terms.</span></span>

![Коллекция NuGet в WebMatrix, показывающий пакетов](intro-to-web-pages-programming/_static/image9.png)

<span data-ttu-id="0c14c-368">Библиотеку ASP.NET содержит код для упрощения многие распространенные задачи, включая использование изображения Граватаров.</span><span class="sxs-lookup"><span data-stu-id="0c14c-368">The ASP.NET Web Helpers Library contains code to simplify many common tasks, including the use of Gravatar images.</span></span> <span data-ttu-id="0c14c-369">Выберите **библиотеку ASP.NET** пакета, а затем нажмите кнопку **установить** запустить программу установки.</span><span class="sxs-lookup"><span data-stu-id="0c14c-369">Select the **ASP.NET Web Helpers Library** package and then click **Install** to launch the installer.</span></span> <span data-ttu-id="0c14c-370">Выберите **Да** при запросе, если вы хотите установить пакет и примите условия, чтобы завершить установку.</span><span class="sxs-lookup"><span data-stu-id="0c14c-370">Select **Yes** when asked if you want to install the package, and accept the terms to complete the installation.</span></span>

<span data-ttu-id="0c14c-371">Вот и все.</span><span class="sxs-lookup"><span data-stu-id="0c14c-371">That's it.</span></span> <span data-ttu-id="0c14c-372">NuGet загружает и устанавливает всем, включая все дополнительные компоненты, которые могут потребоваться (*зависимости*).</span><span class="sxs-lookup"><span data-stu-id="0c14c-372">NuGet downloads and installs everything, including any additional components that might be required (*dependencies*).</span></span>

<span data-ttu-id="0c14c-373">Если для какой-либо причине необходимо удалить вспомогательный объект, процесс очень похож.</span><span class="sxs-lookup"><span data-stu-id="0c14c-373">If for some reason you have to uninstall a helper, the process is very similar.</span></span> <span data-ttu-id="0c14c-374">Нажмите кнопку **NuGet** , выберите элемент **установленные** вкладку и выберите пакет, который требуется удалить.</span><span class="sxs-lookup"><span data-stu-id="0c14c-374">Click the **NuGet** button, click the **Installed** tab, and pick the package you want to uninstall.</span></span>

## <a name="using-a-helper-in-a-page"></a><span data-ttu-id="0c14c-375">Использование вспомогательного метода на странице</span><span class="sxs-lookup"><span data-stu-id="0c14c-375">Using a Helper in a Page</span></span>

<span data-ttu-id="0c14c-376">Теперь вы используете только что установленный вспомогательное приложение.</span><span class="sxs-lookup"><span data-stu-id="0c14c-376">Now you'll use the helper that you just installed.</span></span> <span data-ttu-id="0c14c-377">Процесс добавления на страницу вспомогательный объект аналогичен и для большинства вспомогательных функций.</span><span class="sxs-lookup"><span data-stu-id="0c14c-377">The process for adding a helper to a page is similar for most helpers.</span></span>

<span data-ttu-id="0c14c-378">В WebMatrix, создайте страницу и назовите его *GravatarTest.cshml*.</span><span class="sxs-lookup"><span data-stu-id="0c14c-378">In WebMatrix, create a page and name it *GravatarTest.cshml*.</span></span> <span data-ttu-id="0c14c-379">(Вы создаете специальной страницей для тестирования модуля поддержки, но вспомогательные функции можно использовать на любой странице узла).</span><span class="sxs-lookup"><span data-stu-id="0c14c-379">(You're creating a special page to test the helper, but you can use helpers in any page in your site.)</span></span>

<span data-ttu-id="0c14c-380">Внутри &lt;текст&gt; элемента, добавьте &lt;div&gt; элемент.</span><span class="sxs-lookup"><span data-stu-id="0c14c-380">Inside the &lt;body&gt; element, add a &lt;div&gt; element.</span></span> <span data-ttu-id="0c14c-381">Внутри &lt;div&gt; элемент, введите следующее:</span><span class="sxs-lookup"><span data-stu-id="0c14c-381">Inside the &lt;div&gt; element, type this:</span></span>

<span data-ttu-id="0c14c-382">@Gravatar.</span><span class="sxs-lookup"><span data-stu-id="0c14c-382">@Gravatar.</span></span>

<span data-ttu-id="0c14c-383">Символ @ является тот же символ, который вы использовали для пометки кода Razor.</span><span class="sxs-lookup"><span data-stu-id="0c14c-383">The @ character is the same character you've been using to mark Razor code.</span></span> <span data-ttu-id="0c14c-384">**Gravatar** — это вспомогательный объект, которыми вы работаете.</span><span class="sxs-lookup"><span data-stu-id="0c14c-384">**Gravatar** is the helper object that you're working with.</span></span>

<span data-ttu-id="0c14c-385">Как только после ввода точки (.), WebMatrix отображает список *методы* (функций), что вспомогательный Gravatar делает доступными:</span><span class="sxs-lookup"><span data-stu-id="0c14c-385">As soon as you type the period (.), WebMatrix displays a list of *methods* (functions) that the Gravatar helper makes available:</span></span>

![Gravatar вспомогательный IntelliSense раскрывающегося списка](intro-to-web-pages-programming/_static/image10.png)

<span data-ttu-id="0c14c-387">Эта функция называется *IntelliSense*.</span><span class="sxs-lookup"><span data-stu-id="0c14c-387">This feature is known as *IntelliSense*.</span></span> <span data-ttu-id="0c14c-388">Она помогает вам код, предоставляя варианты, соответствующие контексту.</span><span class="sxs-lookup"><span data-stu-id="0c14c-388">It helps you code by providing context-appropriate choices.</span></span> <span data-ttu-id="0c14c-389">Функция IntelliSense работает с HTML, CSS, код ASP.NET, JavaScript и других языков, которые поддерживаются в WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="0c14c-389">IntelliSense works with HTML, CSS, ASP.NET code, JavaScript, and other languages that are supported in WebMatrix.</span></span> <span data-ttu-id="0c14c-390">Это еще одна функция, упрощает разработку веб-страниц в WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="0c14c-390">It's another feature that makes it easier to develop web pages in WebMatrix.</span></span>

<span data-ttu-id="0c14c-391">Нажать G на клавиатуре, а также увидеть, что IntelliSense находит метод GetHtml.</span><span class="sxs-lookup"><span data-stu-id="0c14c-391">Press G on the keyboard, and you see that IntelliSense finds the GetHtml method.</span></span> <span data-ttu-id="0c14c-392">Нажмите клавишу Tab. IntelliSense вставляет выбранный метод (GetHtml).</span><span class="sxs-lookup"><span data-stu-id="0c14c-392">Press Tab. IntelliSense inserts the selected method (GetHtml) for you.</span></span> <span data-ttu-id="0c14c-393">Введите открывающую скобку и обратите внимание на то, что закрывающая круглая скобка добавляется автоматически.</span><span class="sxs-lookup"><span data-stu-id="0c14c-393">Type an open parenthesis, and notice that the closing parenthesis is automatically added.</span></span> <span data-ttu-id="0c14c-394">Введите адрес электронной почты в двойных кавычках, между двумя скобками.</span><span class="sxs-lookup"><span data-stu-id="0c14c-394">Type your email address in quotation marks between the two parenthesis.</span></span> <span data-ttu-id="0c14c-395">При наличии учетной записи Gravatar, будет возвращаться изображение профиля.</span><span class="sxs-lookup"><span data-stu-id="0c14c-395">If you have a Gravatar account, your profile picture will be returned.</span></span> <span data-ttu-id="0c14c-396">Если у вас нет учетной записи Gravatar, возвращается изображение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="0c14c-396">If you do not have a Gravatar account, a default image is returned.</span></span> <span data-ttu-id="0c14c-397">Когда все будет готово, строка выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="0c14c-397">When you're done, the line looks like this:</span></span>

[!code-css[Main](intro-to-web-pages-programming/samples/sample14.css)]

<span data-ttu-id="0c14c-398">Теперь можно просмотрите страницу в браузере.</span><span class="sxs-lookup"><span data-stu-id="0c14c-398">Now view the page in a browser.</span></span> <span data-ttu-id="0c14c-399">Изображения или изображения по умолчанию отображается, зависит от наличия учетной записи Gravatar.</span><span class="sxs-lookup"><span data-stu-id="0c14c-399">Either your picture or the default image is displayed, depending on whether you have a Gravatar account.</span></span>

![Gravatar](intro-to-web-pages-programming/_static/image11.png) ![изображение по умолчанию](intro-to-web-pages-programming/_static/image12.png)

<span data-ttu-id="0c14c-402">Чтобы получить представление о том, что делает вспомогательное приложение для вас, просмотрите исходный код страницы в браузере.</span><span class="sxs-lookup"><span data-stu-id="0c14c-402">To get an idea of what the helper is doing for you, view the source of the page in the browser.</span></span> <span data-ttu-id="0c14c-403">Вместе с HTML, что и на странице вы увидите элемент изображения, который включает идентификатор.</span><span class="sxs-lookup"><span data-stu-id="0c14c-403">Along with the HTML that you had in your page, you see an image element that includes an identifier.</span></span> <span data-ttu-id="0c14c-404">Это код, вспомогательного приложения отображаются на странице в месте, где нужно было @Gravatar.GetHtml.</span><span class="sxs-lookup"><span data-stu-id="0c14c-404">This is code that the helper rendered into the page at the place where you had @Gravatar.GetHtml.</span></span> <span data-ttu-id="0c14c-405">Вспомогательный метод заняло предоставляемые данные и созданный код, который напрямую обращается к Gravatar для получения нужного образа для указанной учетной записи.</span><span class="sxs-lookup"><span data-stu-id="0c14c-405">The helper took the information you provided and generated the code that talks directly to Gravatar in order to get back the correct image for supplied account.</span></span>

<span data-ttu-id="0c14c-406">Метод GetHtml также позволяет настраивать образ, указав другие параметры.</span><span class="sxs-lookup"><span data-stu-id="0c14c-406">The GetHtml method also enables you to customize the image by providing other parameters.</span></span> <span data-ttu-id="0c14c-407">Ниже показано, как для запроса, ширина и высота 40 пикселей изображения и использует указанное значение по умолчанию образ с именем **wavatar** Если указанная учетная запись не существует.</span><span class="sxs-lookup"><span data-stu-id="0c14c-407">The following code shows how to request an image has a width and height of 40 pixels, and uses a specified default image named **wavatar** if the specified account does not exist.</span></span>

[!code-javascript[Main](intro-to-web-pages-programming/samples/sample15.js)]

<span data-ttu-id="0c14c-408">Этот код формирует примерно следующий результат (изображение по умолчанию случайным образом будет другим).</span><span class="sxs-lookup"><span data-stu-id="0c14c-408">This code produces something like the following result (the default image will randomly vary).</span></span>

![](intro-to-web-pages-programming/_static/image13.png)

## <a name="coming-up-next"></a><span data-ttu-id="0c14c-409">В ближайшее время</span><span class="sxs-lookup"><span data-stu-id="0c14c-409">Coming Up Next</span></span>

<span data-ttu-id="0c14c-410">Чтобы сохранить это учебника короткое, нам пришлось уделить только основные сведения.</span><span class="sxs-lookup"><span data-stu-id="0c14c-410">To keep this tutorial short, we had to focus on only a few basics.</span></span> <span data-ttu-id="0c14c-411">Естественно, не существует *много* дополнительные Razor и C#.</span><span class="sxs-lookup"><span data-stu-id="0c14c-411">Naturally, there's a *lot* more to Razor and C#.</span></span> <span data-ttu-id="0c14c-412">Вы узнаете больше как перейти с этими руководствами.</span><span class="sxs-lookup"><span data-stu-id="0c14c-412">You'll learn more as you go through these tutorials.</span></span> <span data-ttu-id="0c14c-413">Если вы хотите узнать больше об аспектах программирования Razor и C# прямо сейчас, вы найдете более подробным введением здесь: [Введение в программирование веб-ASP.NET, с помощью синтаксиса Razor](https://go.microsoft.com/fwlink/?LinkID=202890).</span><span class="sxs-lookup"><span data-stu-id="0c14c-413">If you're interested in learning more about the programming aspects of Razor and C# right now, you can read a more thorough introduction here: [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkID=202890).</span></span>

<span data-ttu-id="0c14c-414">Следующем учебном курсе рассказывается о работе с базой данных.</span><span class="sxs-lookup"><span data-stu-id="0c14c-414">The next tutorial introduces you to working with a database.</span></span> <span data-ttu-id="0c14c-415">В этом учебнике вы начнете создание примера приложения, который позволяет вывести ваших любимых фильмов.</span><span class="sxs-lookup"><span data-stu-id="0c14c-415">In that tutorial, you'll begin creating the sample application that lets you list your favorite movies.</span></span>

## <a name="complete-listing-for-testrazor-page"></a><span data-ttu-id="0c14c-416">Полный пример для TestRazor страницы</span><span class="sxs-lookup"><span data-stu-id="0c14c-416">Complete Listing for TestRazor Page</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample16.cshtml)]

## <a name="complete-listing-for-testrazorpart2-page"></a><span data-ttu-id="0c14c-417">Полный пример для TestRazorPart2 страницы</span><span class="sxs-lookup"><span data-stu-id="0c14c-417">Complete Listing for TestRazorPart2 Page</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample17.cshtml)]

## <a name="complete-listing-for-gravatartest-page"></a><span data-ttu-id="0c14c-418">Полный пример для GravatarTest страницы</span><span class="sxs-lookup"><span data-stu-id="0c14c-418">Complete Listing for GravatarTest Page</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample18.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="0c14c-419">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="0c14c-419">Additional Resources</span></span>

- [<span data-ttu-id="0c14c-420">Введение в программирование веб-ASP.NET, с помощью синтаксиса Razor</span><span class="sxs-lookup"><span data-stu-id="0c14c-420">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)
- [<span data-ttu-id="0c14c-421">Вспомогательный модуль Twitter</span><span class="sxs-lookup"><span data-stu-id="0c14c-421">Twitter helper</span></span>](../../ui-layouts-and-themes/twitter-helper.md)

> [!div class="step-by-step"]
> <span data-ttu-id="0c14c-422">[Назад](getting-started.md)
> [Вперед](displaying-data.md)</span><span class="sxs-lookup"><span data-stu-id="0c14c-422">[Previous](getting-started.md)
[Next](displaying-data.md)</span></span>
