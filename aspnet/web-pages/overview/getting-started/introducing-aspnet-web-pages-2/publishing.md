---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/publishing
title: Знакомство с веб-страниц ASP.NET — публикация сайта с помощью WebMatrix | Документация Майкрософт
author: Rick-Anderson
description: Это руководство представляет собой заключительной учебного набора, которые представлены веб-страниц ASP.NET и Microsoft WebMatrix. В этом примере рассматривается публикация веб-узла t...
ms.author: riande
ms.date: 05/28/2015
ms.assetid: 7e85c70e-1a88-4408-8b3d-29611c7713ed
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/publishing
msc.type: authoredcontent
ms.openlocfilehash: ece436d44908497d6cf10017ba1ee285bfb4a5b2
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59382109"
---
# <a name="introducing-aspnet-web-pages---publishing-a-site-by-using-webmatrix"></a>Знакомство с веб-страниц ASP.NET — публикация сайта с помощью WebMatrix

по [Tom FitzMacken](https://github.com/tfitzmac)

> Это руководство представляет собой заключительной учебного набора, которые представлены веб-страниц ASP.NET и Microsoft WebMatrix. Он описывает, как для публикации своего сайта к Интернету, чтобы другие пользователи могли работать с ним. Предполагается, вы выполнили рядов через [Создание согласованного поиска для сайтов веб-страниц ASP.NET](https://go.microsoft.com/fwlink/?LinkId=251585).
> 
> Вы узнаете, как для публикации своего сайта с помощью:
> 
> - Microsoft Azure
> - Веб-хостинга


## <a name="about-publishing-your-site"></a>О публикации веб-узла

Пока мы сделали всю работу на локальном компьютере, включая тестирование страниц. Для запуска вашего<em>.cshtml</em> страниц, вы использовали веб-сервер, который встроен в WebMatrix, а именно: IIS Express. Но само собой никто можно см. на сайте, созданные за исключением того, вы. Другим пользователям работать с веб-узла, необходимо опубликовать его в Интернете.

Если уже имеется доступ к общедоступной веб-сервер публикации означает, что учетная запись с *облачная платформа* или *поставщика услуг размещения*. Облачная платформа, например Microsoft Azure предоставляет инфраструктуру по запросу для ваших приложений. Поставщик услуг размещения — компании, которому принадлежит общедоступный веб-серверов и который будет арендовать вы пространства для узла. Планы выполнения из за несколько долларов в месяц (или бесплатно) размещения для небольших узлов в несколько сотен долларов в месяц для крупномасштабных коммерческих веб-сайтов.

> [!NOTE]
> Возможно, доступ к общедоступной веб-сервера через поставщик услуг Интернета (ISP), можно использовать для получения услуг Интернета дома. Тем не менее ваш поставщик услуг размещения должен поддерживать веб-страниц ASP.NET. Не многие поставщики услуг Интернета, а это всегда стоит посмотреть.


В этом руководстве мы предоставим вам обзор того, как для публикации. Это не непрактично предоставлять точные сведения для всех операций, так как процесс немного отличается для каждого поставщика услуг размещения. Но вы получите хорошее представление о том, как работает этот процесс.

Этот учебник содержит четыре раздела:

1. [Настройка страницы по умолчанию](#defaultpage)
2. Публикация (выберите один из следующих)  
 1. [Публикация узла в Microsoft Azure](#azure)  
 2. [Публикация узла для веб-хостинга](#host)
3. [Обновление активного сайта: Повторная публикация](#update)

<a id="defaultpage"></a>
## <a name="setting-up-the-default-page"></a>Настройка страницы по умолчанию

При переходе к базовому адресу для веб-сайт, для пользователя отображается страница по умолчанию для веб-узла. Например, если *Default.htm* имеет значение по умолчанию для сайта по адресу `www.contoso.com`, затем открыть меню `www.contoso.com` совпадает со значением переход к `www.contoso.com/Default.htm`.

В настоящее время веб-сайт использует **Default.cshtml** страницей по умолчанию. Эта страница работает для страницы по умолчанию, но в этом руководстве вы не добавили любое содержимое на эту страницу, поэтому он будет отображаться пустая страница. Откройте Default.cshtml и замените содержимое следующим кодом.

[!code-cshtml[Main](publishing/samples/sample1.cshtml)]

Теперь веб-узла будет готова к публикации. Во-первых вы увидите, как развернуть сайт в Azure, а затем развернуть его в веб-хостинга. Либо вариант работает в веб-сайт, а также требуется только один из вариантов развертывания.

<a id="azure"></a>
## <a name="publishing-your-site-to-microsoft-azure"></a>Публикация узла в Microsoft Azure

Этот учебник будет сначала показано, как для развертывания сайта в Microsoft Azure. Выполнив вход с учетной записью Майкрософт, можно создать до 10 бесплатных сайтов в Azure. Эти бесплатные сайты предоставляют удобный способ для тестирования веб-сайтов. Вы всегда можете удалить этот пример веб-сайт позже старайтесь не использовать все бесплатные узлов. Можно создать бесплатную пробную учетную запись всего за несколько минут. Дополнительные сведения см. в разделе [бесплатной пробной версии Azure](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).

На ленте WebMatrix, щелкните **публикации** кнопки.

![Кнопка «Опубликовать» в ленте WebMatrix](publishing/_static/image1.png)

**Опубликовать свой сайт** диалоговое окно. Если не вошли учетную запись Майкрософт будет содержать окно **приступить к работе с Azure** ссылку. Щелкните эту ссылку.

![Опубликовать сайт](publishing/_static/image2.png)

Если не вошли учетную запись Майкрософт вы снова предоставляется возможность выполнить вход. Чтобы опубликовать сайт в Azure необходимо войти с учетной записью Майкрософт.

![Вход](publishing/_static/image3.png)

После входа в учетную запись Майкрософт, диалоговое окно содержит ссылки на создание нового сайта в Azure или подключиться к одному из существующих узлов в Azure.

![Создание нового сайта](publishing/_static/image4.png)

Выберите **создать новый сайт**.

Если название проекта **WebPagesMovies**, по умолчанию для веб-узла будет называться **webpagesmovies.azurewebsites.net**. Это имя по умолчанию является скорее всего, не доступен, как указано в красный восклицательный знак.

![Имя веб-сайта по умолчанию](publishing/_static/image5.png)

Изменить имя узла, на что-нибудь, которая доступна и выберите расположение, которое находится недалеко от вашего расположения.

![Имя измененного узла.](publishing/_static/image6.png)

Нажмите кнопку **ОК**.

WebMatrix performss тест, чтобы определить, совместима ли сервер с веб-узла.

![тест на совместимость](publishing/_static/image7.png)

Выберите **по-прежнему**.

Отображаются результаты проверки совместимости.

![результат совместимости](publishing/_static/image8.png)

Выберите **по-прежнему**.

WebMatrix отображает файлы и базы данных, которые будут опубликованы на сайте. Так как это первый раз, при публикации сайта, перечислены все файлы. Можно снять флажок файла, который еще не готов для публикации. В последующих публикаций будет отображаться только файлы, которые были изменены. См. в разделе [обновление на действующем сайте: Повторная публикация](#update).

![Предварительный просмотр публикации](publishing/_static/image9.png)

Выберите **по-прежнему**.

После развертывания сайта в Azure, отображается сообщение, которое указывает, что развертывание будет завершено.

![Публикация завершена](publishing/_static/image10.png)

Сайта и базы данных были опубликованы в Azure и теперь доступны всем желающим. Щелкните ссылку в сообщение, указывающее завершения публикации, и теперь вы увидите развернутого сайта. Вы или любой пользователь с доступом к Интернету можно добавить или изменить записи в базе данных.

![](publishing/_static/image11.png)

<a id="host"></a>
## <a name="publishing-your-site-to-a-web-hosting-company"></a>Публикация узла для веб-хостинга

Если вы решили не публиковать в Azure, можно вместо этого опубликовать сайт для веб-хостинга.

Нажмите кнопку **найти веб-размещения** ссылку.

![Кнопка «Найти в Интернете» в диалоговом окне Параметры публикации](publishing/_static/image12.png)

Перейдите на страницу на сайте Майкрософт со списком поставщиков услуг размещения, которые поддерживают ASP.NET.

![Страницу на сайте Microsoft, в которой перечислены поставщики услуг размещения](publishing/_static/image13.png)

Очевидно, что может быть сложно предсказать, теперь точно какие размещения функции, может потребоваться в долгосрочной перспективе. Вот несколько моментов, которые следует учитывать.

- В целях WebPagesMovies сайта не нужно иметь отдельный дополнительный модуль для SQL Server, который часто стоит очень. На сайте вы используете SQL Server Compact Edition, который является автономным. Тем не менее может потребоваться доступ к SQL Server для некоторых будущих веб-сайта в работе. Если вы считаете, что может оказаться, убедитесь, что возможности SQL Server можно добавить позже.
- Проверьте, поддерживает ли поставщик услуг размещения протокол публикации веб-развертывания. Можно опубликовать с помощью протокола FTP, но более удобным для использования веб-развертывания.

Некоторые сайты предлагают бесплатный пробный период. Бесплатная пробная версия — хороший способ попробуйте отправить публикацию и размещение при вы по-прежнему будете экспериментировать с WebMatrix и ASP.NET Web Pages.

Выберите один, что вам нравится. В этом учебнике мы выбрали компании DiscountASP.NET, так как пока мы Создание руководства, эту компанию рекламной акции, сотрудники могут легко создать узел бесплатно в течение нескольких месяцев.

> [!NOTE]
> На выбор поставщика услуг размещения в этом руководстве не должны интерпретироваться как является одобрением эту компанию какой-либо. Но нам пришлось выбрать один для иллюстрации и компании DiscountASP.NET является одной из многих компаний, которые поддерживает ASP.NET Web Pages и протокол Web Deploy для публикации.


Как правило после вы зарегистрировались с помощью поставщика услуг размещения, компания отправляет сообщение электронной почты, который содержит имя пользователя и пароль, URL-адрес веб-сервер и т. д. Если услуг размещения поддерживает протокол веб-развертывания, они может отправить вам файл, содержащий параметры публикации, или позволяют загрузить одну. Файл параметров публикации упрощает для вас.

Если вы зарегистрировались Готово к публикации, нажмите кнопку **публикации** кнопка на ленте WebMatrix. **Параметры публикации** диалоговое окно.

Если поставщик услуг размещения отправить файл параметров публикации, нажмите кнопку **Импорт параметров публикации** ссылку и импортируйте файл. Если у вас нет файла параметров публикации, заполните поля, используя значения, которые хостинг-компания отправлены вам по электронной почте. Вот что **параметры публикации** диалоговое окно может выглядеть после выполнения:

![Заполнить параметры публикации в диалоговом окне «Параметры публикации»](publishing/_static/image14.png)

Нажмите кнопку **Проверка подключения**. Если все, что норме, диалоговое окно сообщает **успешно подключен**, то есть может взаимодействовать с сервером поставщика услуг размещения.

![Успех сообщение, если публикация параметры настроены правильно](publishing/_static/image15.png)

Если имеется проблема, WebMatrix старается не сообщит о том, какие именно:

![Сообщение об ошибке, если имеется проблема с помощью параметров публикации](publishing/_static/image16.png)

Нажмите кнопку **Сохранить** для сохранения параметров. В WebMatrix присутствует для выполнения тестов, чтобы убедиться в том, что он мог обмениваться данными правильно узел размещения:

![Сообщение, предлагающее выполнить тестирование процесса публикации](publishing/_static/image17.png)

Нажмите кнопку **Да**. WebMatrix передает файлов с образцами поставщика услуг размещения. По завершении проверки совместимости WebMatrix сообщает о результатах:

![Результаты публикации теста](publishing/_static/image18.png)

Если вы готовы, щелкнем **Продолжить** реальную запустить процесс публикации. WebMatrix решает, что файлы находятся в веб-узла и уже находятся на сервере узла (а прямо сейчас нет) и можно просмотреть в процессе публикации:

![Предварительная версия, какие файлы, загруженные в процессе публикации будет](publishing/_static/image19.png)

Список файлов для публикации включает в себя веб-страниц, созданных как *Movies.cshtml*. Список также включает файлы для вспомогательных функций, которые вы установили, файлы для запуска SQL Server Compact Edition для вашей базы данных и т. д. В результате процесс публикации начального может оказаться значительной.

Нажмите кнопку **Продолжить**. WebMatrix копирует файлы на сервер поставщика услуг размещения. По завершении, результаты отображаются в строке состояния:

![Сообщение о состоянии панели после успешного завершения процесса публикации](publishing/_static/image20.png)

Чтобы просмотреть активного сайта, щелкните ссылку в строке состояния. Добавить *фильмы* URL-адрес, и вы увидите *Movies.cshtml* созданный файл:

![Отображение страницы «Movies» активного сайта](publishing/_static/image21.png)

<a id="update"></a>
## <a name="updating-the-live-site-republishing"></a>Обновление активного сайта: Повторная публикация

После публикации веб-узла (в Azure или веб-хостинга), существуют две копии &mdash; версии на компьютере и версией на поставщик услуг. Возможно, стоит продолжить развитие сайта (если нет ничего, как часть следующего учебного курса). При этом вам нужно опубликовать веб-узел, чтобы скопировать изменения на компьютере поставщика услуг. Процесс публикации в WebMatrix можно определить, какие файлы изменились на узле и публиковать только эти файлы.

Чтобы увидеть, как работает повторной публикации, откройте *Movies.cshtml* сайта, сделать некоторые небольшое изменение и затем сохраните файл. Например, измените заголовок на `Movies - Updated`.

Нажмите кнопку **публикации** кнопка на ленте. WebMatrix определяет наличие изменений и предварительный просмотр файлов, которые он будет публиковать.

![Диалоговое окно «Опубликовать», показывает измененные файлы, готовые для переиздания](publishing/_static/image22.png)

> [!IMPORTANT] 
> 
> По умолчанию WebMatrix публикует базы данных (*.sdf* файла) только для первой публикации сайта. После публикации веб-узла и взаимодействие с веб-сайта люди, базы данных на действующем сайте обычно имеет реальные данные сайта. Необходимо быть очень осторожным, чтобы не перезаписать активной базы данных с помощью *.sdf* файл, который находится на компьютере, который обычно содержит только тестовые данные. Вот почему вы увидите предупреждение **публикации приведет к перезаписи всех удаленных баз данных**, и почему флажок для *WebPagesMovies.sdf* по умолчанию снят.


Нажмите кнопку **Продолжить**. WebMatrix публикует измененных файлов и показано сообщение об успешном выполнении, точно так же в первый раз вы опубликовали.

Перейдите на действующем сайте (вы щелкните ссылку в сообщение об успешном выполнении, если она по-прежнему отображается) и убедитесь, что изменения были опубликованы.

> [!TIP] 
> 
> **Удаленное редактирование файлов**
> 
> Вместо изменения веб-узла и последующая повторная публикация можно редактировать удаленные файлы непосредственно в WebMatrix. В этом случае при открытии файла, к поставщику услуг и WebMatrix загружает копию его для редактирования. Каждый раз при сохранении файла, WebMatrix отправляет изменения на сайт.
> 
> Удаленного редактирования позволяет быстро и удобно для изменения активного сайта. Однако изменения, внесенные таким образом не синхронизированы с файлами на локальном узле. Чтобы синхронизировать локальные файлы с удаленного узла, можно загрузить удаленные файлы. Этот процесс работает очень похоже на публикации, за исключением в обратном порядке.
> 
> Мы не описать более удаленного редактирования и удаленной загрузки средств WebMatrix здесь. Они весьма полезен в том случае, если несколько человек был работать на том же узле, на разных компьютерах. Дополнительные сведения см. в разделе [публикации и редактирования на удаленный сайт с помощью бета-версии 2 WebMatrix](https://go.microsoft.com/fwlink/?LinkId=251591).


## <a name="additional-resources"></a>Дополнительные ресурсы

- [Форум по ASP.NET WebMatrix ASP.NET Web Pages](https://forums.asp.net/1224.aspx/1?WebMatrix+and+ASP+NET+Web+Pages), это прекрасная возможность публиковать вопросы и ответы.

> [!div class="step-by-step"]
> [Назад](layouts.md)
