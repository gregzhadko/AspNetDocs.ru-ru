---
uid: web-pages/overview/getting-started/13-adding-social-networking-to-your-web-site
title: Добавление социальных сетей на сайты веб-страницы ASP.NET (Razor) | Документация Майкрософт
author: Rick-Anderson
description: В этой главе объясняется, как интегрировать сайт со службами социальных сетей. В этой главе вы узнаете, как предоставить пользователям возможность Закладка и связывание веб-сайта...
ms.author: riande
ms.date: 02/21/2014
ms.assetid: 03c342f9-b35c-4d7c-b9ed-cd9aaaffedb6
msc.legacyurl: /web-pages/overview/getting-started/13-adding-social-networking-to-your-web-site
msc.type: authoredcontent
ms.openlocfilehash: 1637464b0473bba8133acbbf8918d92b4f552701
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78422958"
---
# <a name="adding-social-networking-to-aspnet-web-pages-razor-sites"></a>Добавление социальных сетей в сайты веб-страницы ASP.NET (Razor)

от [Tom фитзмаккен](https://github.com/tfitzmac)

> В этой статье объясняется, как добавить ссылки на социальные сети для Facebook, Twitter, Reddit и Digg на страницы на веб-сайте веб-страницы ASP.NET (Razor), а также как включать каналы Twitter, игровой адаптер Xbox и образы граватаров.
> 
> Из этого руководства вы узнаете, как выполнять такие задачи:
> 
> - Как разрешить пользователям закладку или связывание сайта.
> - Добавление веб-канала Twitter.
> - Добавление кнопки Facebook **Like** на страницы.
> - Как обрабатывать изображения Gravatar.com.
> - Сведения о том, как отобразить на сайте игровой адаптер Xbox.
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a>Версии программного обеспечения, используемые в этом руководстве
> 
> 
> - Веб-страницы ASP.NET (Razor) 2
> - Библиотека вспомогательного веб-модуля ASP.NET (пакет NuGet)
>   
> 
> Этот учебник также работает с веб-страницы ASP.NET 3, за исключением частей, использующих библиотеку веб-модуля поддержки ASP.NET.

<a id="Linking_Your_Website"></a>
## <a name="linking-your-website-on-social-networking-sites"></a>Связывание веб-сайта на сайтах социальных сетей

Если пользователи вашего сайта, как и на веб-узле, часто хотят поделиться им с друзьями. Это можно сделать простым отображением глифов (значков), которые пользователи могут щелкнуть для предоставления общего доступа к странице в Digg, Reddit, Facebook, Twitter или аналогичных сайтах.

Чтобы отобразить эти глифы, добавьте вспомогательную функцию `LinkSharecode` на страницу. Пользователи, посещающие страницу, могут щелкнуть отдельный глиф. Если у них есть учетная запись с сайтом социальных сетей, они смогут отправить ссылку на страницу на этом сайте.

![Рисунок 1](13-adding-social-networking-to-your-web-site/_static/image1.jpg)

1. Добавьте библиотеку вспомогательных веб-служб ASP.NET на веб-сайт, как описано в разделе [Установка вспомогательных функций на веб-страницы ASP.net сайте](https://go.microsoft.com/fwlink/?LinkId=252372), если вы еще не добавили его. — Создайте страницу с именем *листлинкшаре. cshtml* и добавьте следующую разметку:

    [!code-cshtml[Main](13-adding-social-networking-to-your-web-site/samples/sample1.cshtml)]

    В этом примере при запуске вспомогательного приложения `LinkShare` заголовок страницы передается в качестве параметра, который, в свою очередь, передает заголовок страницы на сайт социальных сетей. Однако можно передать любую строку. В этом примере также указываются сайты социальных сетей для включения в список. Можно указать сайты социальных сетей, относящиеся к вашему сайту.
2. Запустите страницу *листлинкшаре. cshtml* в браузере. (Перед выполнением страницы убедитесь, что она выбрана в рабочей области **файлы** .)
3. Щелкните глиф для одного из сайтов, для которых вы зарегистрированы. Ссылка переведет вас на страницу выбранного сайта социальных сетей, где можно поделиться ссылкой. Например, если щелкнуть ссылку Reddit, откроется страница `submit to reddit` на веб-сайте Reddit.

     ![Рисунок 2](13-adding-social-networking-to-your-web-site/_static/image2.jpg)

<a id="Adding_a_Twitter_Feed"></a>
## <a name="adding-a-twitter-feed"></a>Добавление веб-канала Twitter

Сведения об использовании вспомогательного приложения Twitter, совместимого с текущей версией API Twitter, см. в разделе [помощника Twitter](../ui-layouts-and-themes/twitter-helper.md). В этом примере показано, как написать собственный вспомогательный метод, чтобы можно было легко повторно использовать код из множества страниц.

<a id="Displaying_a_Facebook_Button"></a>
## <a name="displaying-a-facebook-quotlikequot-button"></a>Отображение &quot;Facebook, например&quot; кнопки

В некоторых случаях лучшим вариантом является получение кода непосредственно от поставщика социальных сетей, а не на стороне вспомогательного приложения. Это особенно верно, если поставщик социальных сетей обновляет свои параметры быстрее, чем обновляется вспомогательным приложением.

Чтобы добавить к сайту функции Facebook (например, кнопку Like), можно получить фрагменты кода с сайта [Developers.Facebook.com](https://developers.facebook.com/) . На сайте Facebook вы используете свои средства для создания фрагмента кода, относящегося к вашему сайту.

Следующий выделенный код — это код, полученный из инструмента кнопки Like на сайте developers.facebook.com. Необходимо указать собственный идентификатор приложения.

[!code-html[Main](13-adding-social-networking-to-your-web-site/samples/sample2.html?highlight=7-14,16-17)]

<a id="Rendering_a_Gravatar_Image"></a>
## <a name="rendering-a-gravatar-image"></a>Отрисовка изображения граватаров

*Граватаров* (&quot;глобально распознанным аватаром&quot;) — это изображение, которое можно использовать на нескольких веб-сайтах &#8212; в качестве аватара, представляющего собой изображение, которое вы видите. Например, граватаров может обозначать человека в записи форума, в комментарии к блогу и т. д. (Вы можете зарегистрировать собственный граватаров на веб-сайте граватаров по адресу [http://www.gravatar.com/](http://www.gravatar.com/).) Если вы хотите отображать изображения рядом с именами пользователей или адресами электронной почты на веб-сайте, можно использовать вспомогательный модуль граватаров.

В этом примере вы используете один граватаров, который представляет себе себя. Другой способ использования граватаров — разрешить пользователям указывать свой адрес граватаров при регистрации на сайте. (Вы можете узнать, как разрешить пользователям регистрироваться в статье [Добавление безопасности и членства на веб-страницы ASP.net сайте](https://go.microsoft.com/fwlink/?LinkId=202904)). Затем при каждом отображении сведений для этого пользователя можно просто добавить граватаров в место, где отображается имя пользователя.

1. Добавьте библиотеку вспомогательных веб-функций ASP.NET на веб-сайт, как описано в разделе [Установка вспомогательных функций на веб-страницы ASP.net сайте](https://go.microsoft.com/fwlink/?LinkId=252372), если вы этого еще не сделали.
2. Создайте новую веб-страницу с именем *граватаров. cshtml*.
3. Добавьте в файл следующую разметку: 

    [!code-cshtml[Main](13-adding-social-networking-to-your-web-site/samples/sample3.cshtml)]

    Метод `Gravatar.GetHtml` отображает изображение граватаров на странице. Чтобы изменить размер образа, можно включить число в качестве второго параметра. Размер по умолчанию — 80. Числа меньше 80 делают изображение меньше. Числа больше 80 делают изображение более крупным.
4. В методах `Gravatar.GetHtml` замените `<Your Gravatar account here>` адресом электронной почты, используемым для вашей учетной записи граватаров. (Если у вас нет учетной записи граватаров, можно использовать адрес электронной почты пользователя.)
5. Запустите страницу в браузере. На этой странице отображаются два изображения граватаров для указанного адреса электронной почты. Второе изображение меньше первого. 

    ![Рисунок 4](13-adding-social-networking-to-your-web-site/_static/image3.jpg)

<a id="Displaying_an_Xbox_Gamer_Card"></a>
## <a name="displaying-an-xbox-gamer-card"></a>Отображение игровой карты Xbox

Когда люди воспроизводят игры Microsoft Xbox в сети, у каждого пользователя есть уникальный идентификатор. Статистика хранится для каждого игрока в виде игровой карты, которая показывает свои репутации, компьютерные оценки и недавно воспроизводимые игры. Если вы используете Xbox, вы можете отобразить игровой адаптер на страницах сайта с помощью вспомогательного метода `GamerCard`.

1. Добавьте библиотеку вспомогательных веб-функций ASP.NET на веб-сайт, как описано в разделе [Установка вспомогательных функций на веб-страницы ASP.net сайте](https://go.microsoft.com/fwlink/?LinkId=252372), если вы этого еще не сделали.
2. Создайте новую страницу с именем *ксбоксгамер. cshtml* и добавьте следующую разметку.

    [!code-cshtml[Main](13-adding-social-networking-to-your-web-site/samples/sample4.cshtml)]

    Используйте свойство `GamerCard.GetHtml`, чтобы указать псевдоним для отображаемой игровой карты.
3. Запустите страницу в браузере. На этой странице отображается указанная вами карточная карта Xbox.

    ![Рисунок 5](13-adding-social-networking-to-your-web-site/_static/image4.jpg)
