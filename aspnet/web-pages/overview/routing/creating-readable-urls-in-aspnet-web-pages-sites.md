---
uid: web-pages/overview/routing/creating-readable-urls-in-aspnet-web-pages-sites
title: Создание доступных для чтения URL-адресов на сайтах веб-страницы ASP.NET (Razor) | Документация Майкрософт
author: Rick-Anderson
description: В этой статье описывается маршрутизация на веб-сайте веб-страницы ASP.NET (Razor) и объясняется, как это позволяет использовать URL-адреса, которые более удобочитаемы и лучше подходят для SEO. Что вы...
ms.author: riande
ms.date: 02/17/2014
ms.assetid: a8aac1ac-89de-4415-afe0-97a41c6423d2
msc.legacyurl: /web-pages/overview/routing/creating-readable-urls-in-aspnet-web-pages-sites
msc.type: authoredcontent
ms.openlocfilehash: 832db8e144cab730f16c78f67c12feb9b7c92c7c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78509910"
---
# <a name="creating-readable-urls-in-aspnet-web-pages-razor-sites"></a>Создание доступных для чтения URL-адресов на сайтах веб-страницы ASP.NET (Razor)

от [Tom фитзмаккен](https://github.com/tfitzmac)

> В этой статье описывается маршрутизация на веб-сайте веб-страницы ASP.NET (Razor) и объясняется, как это позволяет использовать URL-адреса, которые более удобочитаемы и лучше подходят для SEO.
> 
> Из этого руководства вы узнаете, как выполнять такие задачи:
> 
> - Как ASP.NET использует маршрутизацию, чтобы использовать более удобочитаемые и доступные для поиска URL-адреса.
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a>Версии программного обеспечения, используемые в этом руководстве
> 
> 
> - Веб-страницы ASP.NET (Razor) 3
>   
> 
> Этот учебник также работает с веб-страницы ASP.NET 2.

## <a name="about-routing"></a>О маршрутизации

URL-адреса страниц сайта могут оказать влияние на то, насколько хорошо работает сайт. URL-адрес, &quot;понятный&quot; может облегчить пользователям работу с сайтом. Он также может помочь в оптимизации поисковой системы для сайта. Веб-сайты ASP.NET включают возможность автоматического использования удобных URL-адресов.

ASP.NET позволяет создавать понятные URL-адреса, описывающие действия пользователя, а не указывать на файл на сервере. Рассмотрим эти URL-адреса для вымышленного блога:

- `http://www.contoso.com/Blog/blog.cshtml?categories=hardware`
- `http://www.contoso.com//Blog/blog.cshtml?startdate=2009-11-01&enddate=2009-11-30`

Сравните эти URL-адреса со следующими:

- `http://www.contoso.com/Blog/categories/hardware/`
- `http://www.contoso.com/Blog/2009/November`

В первой паре пользователю нужно было бы убедиться, что блог отображается с помощью страницы *Blog. cshtml* , а затем создать строку запроса, которая получает нужную категорию или диапазон дат. Второй набор примеров гораздо проще в восприятии и создании.

URL-адреса для первого примера также указывают непосредственно на конкретный файл (*Blog. cshtml*). Если по какой-либо причине блог был перемещен в другую папку на сервере или если блог был переписан для использования другой страницы, то ссылки будут неправильными. Второй набор URL-адресов не указывает на определенную страницу, поэтому даже в случае изменения реализации или расположения блога эти URL-адреса будут действительны.

В веб-страницы ASP.NET можно создать более понятные URL-адреса, аналогичные тем, которые приведены в приведенных выше примерах, так как ASP.NET использует *маршрутизацию*. Маршрутизация создает логическое сопоставление URL-адреса со страницей (или страницами), которая может выполнить запрос. Так как сопоставление является логическим (не физическим, в определенный файл), маршрутизация обеспечивает большую гибкость в определении URL-адресов для сайта.

## <a name="how-routing-works"></a>Принцип работы маршрутизации

Когда ASP.NET обрабатывает запрос, он считывает URL-адрес, чтобы определить, как его маршрутизировать. ASP.NET пытается сопоставить отдельные сегменты URL-адреса с файлами на диске, идущие слева направо. При наличии совпадения все остальные данные URL-адреса передаются на страницу в качестве *сведений о пути*.

Представьте себе, что кто-то выполняет запрос с помощью этого URL:

`http://www.contoso.com/a/b/c`

Поиск выполняется следующим образом:

1. Существует ли файл с путем и именем */а/б/к.кштмл*? Если это так, запустите эту страницу и передайте в нее сведения. В противном случае...
2. Существует ли файл с путем и именем */а/б.кштмл*? Если это так, запустите эту страницу и передайте в нее значение `c`. В противном случае...
3. Существует ли файл с путем и именем */а.кштмл*? Если это так, запустите эту страницу и передайте в нее значение `b/c`.

Если поиск не нашел точных соответствий для файлов *. cshtml* в указанных папках, ASP.NET продолжит поиск этих файлов в свою очередь:

1. */а/б/к/дефаулт.кштмл* (нет сведений о пути).
2. */а/б/к/индекс.кштмл* (нет сведений о пути).

> [!NOTE]
> Чтобы быть ясным, запросы к конкретным страницам (т. е. запросы, включающие расширение имени файла *. cshtml* ) работают точно так же, как и следовало бы ожидать. Запрос, подобный `http://www.contoso.com/a/b.cshtml`, просто выполнит страницу *b. cshtml* .

На странице можно получить сведения о пути с помощью свойства `UrlData` страницы, которое является словарем. Представьте, что у вас есть файл с именем *виевкустомерс. cshtml* , и ваш сайт получает этот запрос:

`http://mysite.com/myWebSite/ViewCustomers/1000`

Как описано в приведенных выше правилах, запрос будет отправлен на страницу. На странице можно использовать следующий код для получения и вывода сведений о пути (в данном случае это значение &quot;1000&quot;):

[!code-html[Main](creating-readable-urls-in-aspnet-web-pages-sites/samples/sample1.html)]

> [!NOTE]
> Поскольку маршрутизация не включает полные имена файлов, может быть неоднозначность при наличии страниц с одинаковыми именами, но разными расширениями имен файлов (например, *MyPage. cshtml* и *MyPage. HTML*). Чтобы избежать проблем с маршрутизацией, рекомендуется убедиться в отсутствии страниц на сайте, имена которых отличаются только расширением.

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a>Дополнительные ресурсы

[WebMatrix — URL-адреса, урлдата и маршрутизация для SEO](http://www.mikesdotnetting.com/Article/165/WebMatrix-URLs-UrlData-and-Routing-for-SEO). В этой записи блога от Mike Бринд содержатся некоторые дополнительные сведения о том, как работает маршрутизация в веб-страницы ASP.NET.
