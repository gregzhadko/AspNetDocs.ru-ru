---
uid: webhooks/index
title: Общие сведения об ASP.NET для веб-перехватчиков | Документация Майкрософт
author: rick-anderson
description: Введение в ASP.NET веб-перехватчики.
ms.author: riande
ms.date: 01/17/2012
ms.assetid: 5e2843f0-f499-448f-a712-33d4e9858321
ms.openlocfilehash: 702cc0bf0d0bb887c64bec19e1faf249bd96617a
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57021301"
---
# <a name="aspnet-webhooks-overview"></a>Общие сведения о веб-перехватчики ASP.NET

Веб-перехватчик — это упрощенный HTTP-шаблон, обеспечивающий простую модель подписки для связи друг с другом веб-API и SaaS-служб. Когда в службе происходит событие, зарегистрированным подписчикам отправляется уведомление в форме POST HTTP-запроса. Запрос POST содержит сведения о событии, благодаря чему получатель может выполнить соответствующие действия.

Благодаря своей простоте веб-перехватчики уже доступ к которым предоставляет большое количество служб в том числе [Dropbox](http://dropbox.com/), [GitHub](http://www.github.com/), [Bitbucket](https://bitbucket.org/), [MailChimp ](http://www.mailchimp.com/), [PayPal](http://www.paypal.com/), [Slack](http://www.slack.com), [Stripe](http://www.stripe.com), [Trello](http://www.trello.com/)и многие другие. Например, веб-перехватчика можно указать, что файл был изменен в [Dropbox](http://dropbox.com/), изменения кода будет зафиксирована в GitHub или инициирована платеж в [PayPal](http://www.paypal.com/), или карточки будет создана в [ Trello](http://www.trello.com/). Возможности безграничны!

Веб-перехватчики Microsoft ASP.NET упрощает процесс отправки и получения веб-перехватчики как часть вашего приложения ASP.NET:

* На принимающей стороне он предоставляет общую модель для получения и обработки веб-перехватчиков из произвольного числа поставщиков веб-перехватчика. Он поставляется с поддержкой [Dropbox](http://dropbox.com/), [GitHub](http://www.github.com/), [Bitbucket](https://bitbucket.org/), [MailChimp](http://www.mailchimp.com/), [PayPal](http://www.paypal.com/), [Pusher](http://www.pusher.com), [Salesforce](http://www.salesforce.com), [Slack](http://www.slack.com), [Stripe](http://www.stripe.com), [Trello](http://www.trello.com/),[ WordPress](http://www.wordpress.com) и [Zendesk](https://www.zendesk.com/) , но легко добавить поддержку для получения дополнительных сведений.

* На отправляющей стороне он обеспечивает поддержку управления и хранения подписки также, как и для отправки уведомлений о событиях для правильного набора подписчиков. Это позволяет определить собственный набор событий, что подписчики может подписаться на и уведомляйте их, когда происходит вещи.

Эти две части можно использовать друг с другом или друг от друга в зависимости от сценария. Если необходимо получать веб-перехватчики от других служб, то можно использовать только ту ее часть получателя; требуется только для предоставления веб-перехватчики для других пользователей для использования, то есть именно это.

Код предназначен для веб-API 2 ASP.NET и ASP.NET MVC 5 и доступен в виде [открытым исходным кодом на GitHub](https://github.com/aspnet/WebHooks).

## <a name="webhooks-overview"></a>Общие сведения о веб-перехватчиков

Веб-перехватчики — это шаблон, который означает, что он зависит, как она используется из службы к службе, но базовый принцип остается тем же. Можно считать веб-перехватчиков модель простого pub/sub где пользователь может подписаться на события, происходящие в другом месте. Уведомления о событиях, распространяются в виде запросов HTTP POST, содержащий сведения о самом событии.

Обычно запрос HTTP POST содержит объект JSON или данные HTML-формы, определенный отправителем веб-перехватчика, включая сведения о событии, вызывает веб-перехватчика для активации. Например, пример тела запроса POST веб-перехватчика из [GitHub](http://www.github.com/) выглядит следующим образом в результате новая проблема открывается в конкретном репозитории:

```json
{
  "action": "opened",
  "issue": {
      "url": "https://api.github.com/repos/octocat/Hello-World/issues/1347",
      "number": 1347,
      ...
  },
  "repository": {
      "id": 1296269,
      "full_name": "octocat/Hello-World",
      "owner": {
          "login": "octocat",
          "id": 1
          ...
      },
      ...
  },
  "sender": {
      "login": "octocat",
      "id": 1,
      ...
  }
}
```

Чтобы действительно является веб-перехватчика от предполагаемого отправителя, запрос POST защищена иным образом и затем проверяется до получателя. Например [веб-перехватчики GitHub](https://developer.github.com/webhooks/) включает в себя *X-Hub-подпись* заголовок HTTP с хэшем в тексте запроса, которое проверяется с помощью реализации получателя, не нужно беспокоиться об этом.

Как правило, веб-перехватчика поток выглядит примерно следующим образом:

* Веб-перехватчика Отправитель создает события, которые клиент может подписаться. События описывают заметные изменения в систему, например, элемент данных было вставлено, что процесс завершен, или что-то другое.

* Получатель веб-перехватчика подписывается путем регистрации веб-перехватчика, состоящий из четырех возможных:

     1. URI, для которой уведомление о событии должны быть опубликованы в виде запроса HTTP POST;

     2. Набор фильтров, описывающий определенного события, для которых должны создаваться веб-перехватчика;

     3. Секретный ключ, который используется для подписи запроса HTTP POST;

     4. Дополнительные данные, который следует включить в запрос HTTP POST. Например, это может быть дополнительные поля заголовка HTTP или свойств, включенных в тексте запроса HTTP POST.

* Когда происходит событие, можно найти в соответствующей регистрации веб-перехватчика и отправляет запросы HTTP POST. Как правило создания запросов HTTP POST повторяются несколько раз, если для какой-либо причине получателя не отвечает или результаты запроса HTTP POST в ответ на ошибку.

## <a name="webhooks-processing-pipeline"></a>Конвейер обработки веб-перехватчиков

Конвейер обработки веб-перехватчики Microsoft ASP.NET для входящего веб-перехватчиков выглядит следующим образом:

![Конвейер обработки ASP.NET веб-перехватчиков](_static/WebHookReceivers.png)

Двумя ключевыми понятиями являются *получателей* и *обработчики*:

* *Приемники* отвечают за обработку определенного вида веб-перехватчика из заданного отправителя, а также для принудительного применения проверки безопасности, чтобы убедиться, что предполагаемым отправитель действительно является запроса веб-перехватчика.

* *Обработчики* обычно являются, где код пользователя запускают обработку определенного веб-перехватчика.

В следующие узлы эти понятия описаны более подробно.
