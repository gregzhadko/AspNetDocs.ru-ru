---
uid: webhooks/index
title: ASP.NET веб-хуки Обзор (ru) Документы Майкрософт
author: rick-anderson
description: Введение в ASP.NET WebHooks.
ms.author: riande
ms.date: 01/17/2012
ms.assetid: 5e2843f0-f499-448f-a712-33d4e9858321
ms.openlocfilehash: aa5fa190386ec803a6801de2d815c948677fe1f5
ms.sourcegitcommit: ce28244209db8615bc9bdd576a2e2c88174d318d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80675431"
---
# <a name="aspnet-webhooks-overview"></a>обзор webHooks ASP.NET

WebHooks представляет собой легкий шаблон HTTP, обеспечивающий простую модель паб/суб для проводки web-aIS и сервисов SaaS. Когда событие происходит в службе, уведомление отправляется в виде запроса HTTP POST зарегистрированным абонентам. Запрос POST содержит информацию о событии, которая позволяет получателю действовать соответствующим образом.

Из-за своей простоты, WebHooks уже подвергаются большое количество услуг, включая [Dropbox](http://dropbox.com/), [GitHub](https://www.github.com/), [Bitbucket](https://bitbucket.org/), [MailChimp](http://www.mailchimp.com/), [PayPal](http://www.paypal.com/), [Slack](http://www.slack.com), [Полоса](http://www.stripe.com), [Trello](http://www.trello.com/), и многое другое. Например, WebHook может указать, что файл изменился в [Dropbox,](http://dropbox.com/)или изменение кода было зафиксировано в GitHub, или платеж был инициирован в [PayPal](http://www.paypal.com/), или карта была создана в [Trello](http://www.trello.com/). Возможности безграничны!

Корпорация Майкрософт ASP.NET WebHooks упрощает отправку и получение WebHooks как части приложения ASP.NET:

* Что касается принимающей стороны, то она обеспечивает общую модель для приема и обработки WebHooks от любого числа поставщиков WebHook. Он выходит из коробки с поддержкой [Dropbox](http://dropbox.com/), [GitHub](https://www.github.com/), [Bitbucket](https://bitbucket.org/), [MailChimp](http://www.mailchimp.com/), [PayPal](http://www.paypal.com/), [Pusher](http://www.pusher.com), [Salesforce](http://www.salesforce.com), [Slack](http://www.slack.com), [Stripe](http://www.stripe.com), [Trello](http://www.trello.com/),[WordPress](http://www.wordpress.com) и [Zendesk,](https://www.zendesk.com/) но это легко добавить поддержку для более.

* На стороне отправки он обеспечивает поддержку для управления и хранения подписок, а также для отправки уведомлений о событиях в нужный набор абонентов. Это позволяет определить свой собственный набор событий, на которые подписчики могут подписаться, и уведомить их, когда что-то происходит.

Эти две части могут быть использованы вместе или друг от друга в зависимости от вашего сценария. Если вам нужно только получать WebHooks от других служб, то вы можете использовать только часть приемника; если вы только хотите разоблачить WebHooks для других потреблять, то вы можете сделать именно это.

Код нацелен ASP.NET Web API 2 и ASP.NET MVC 5 и доступен в качестве [OSS на GitHub.](https://github.com/aspnet/WebHooks)

## <a name="webhooks-overview"></a>Обзор WebHooks

WebHooks — это шаблон, который означает, что он изменяет, как он используется от службы к службе, но основная идея та же. Вы можете думать о WebHooks как простой паб / суб-модель, где пользователь может подписаться на события, происходящие в другом месте. Уведомления о событии распространяются как запросы HTTP POST, содержащие информацию о самом событии.

Обычно запрос HTTP POST содержит данные об объекте JSON или HTML-формы, определенные отправителем WebHook, включая информацию о событии, вызывающую срабатывание WebHook. Например, тело запроса WebHook POST от [GitHub](https://www.github.com/) выглядит следующим образом в результате открытия новой проблемы в определенном репозитории:

```json
{
  "action": "opened",
  "issue": {
      "url": "https://api.github.com/repos/octocat/Hello-World/issues/1347",
      "number": 1347,
      ...
  },
  "repository": {
      "id": 1296269,
      "full_name": "octocat/Hello-World",
      "owner": {
          "login": "octocat",
          "id": 1
          ...
      },
      ...
  },
  "sender": {
      "login": "octocat",
      "id": 1,
      ...
  }
}
```

Чтобы убедиться, что WebHook действительно от предполагаемого отправителя, post запрос защищен в некотором роде, а затем проверить приемник. Например, [GitHub WebHooks](https://developer.github.com/webhooks/) включает в себя *заголовок X-Hub-Signature* HTTP с хэшом органа запроса, который проверяется реализацией получателя, так что вам не придется беспокоиться об этом.

Поток WebHook обычно идет что-то вроде этого:

* Отправитель WebHook предоставляет события, на которые клиент может подписаться. События описывают наблюдаемые изменения в системе, например, что был вставлен новый элемент данных, что процесс завершен, или что-то еще.

* Приемник WebHook подписывается, регистрируя WebHook, состоящий из четырех вещей:

     1. URI, где уведомление о событии должно быть размещено в виде запроса HTTP POST;

     2. Набор фильтров, описывающих конкретные события, для которых webHook должен быть уволен;

     3. Секретный ключ, который используется для подписания запроса HTTP POST;

     4. Дополнительные данные, которые должны быть включены в запрос HTTP POST. Это могут быть, например, дополнительные поля заголовка HTTP или свойства, включенные в орган запроса HTTP POST.

* Как только событие происходит, соответствующие регистрации WebHook найдены и http POST запросы представлены. Как правило, генерация запросов HTTP POST повторно повторяется несколько раз, если по какой-то причине получатель не отвечает или запрос HTTP POST приводит к ответу на ошибку.

## <a name="webhooks-processing-pipeline"></a>Конвейер обработки WebHooks

Конвейер обработки ASP.NET WebHooks для входящих WebHooks выглядит следующим образом:

![ASP.NET конвейер обработки WebHooks](_static/WebHookReceivers.png)

Двумя ключевыми концепциями здесь являются *приемники* и *обработчики:*

* *Получатели* несут ответственность за обработку конкретного вкуса WebHook от данного отправителя и для обеспечения проверки безопасности, чтобы убедиться, что запрос WebHook действительно от предполагаемого отправителя.

* *Обработчики,* как правило, где пользовательский код работает обработки конкретного WebHook.

В следующих узлах эти понятия описаны более подробно.
