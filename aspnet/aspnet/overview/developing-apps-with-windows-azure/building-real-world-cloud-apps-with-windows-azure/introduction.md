---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction
title: Создание реальных облачных приложений с помощью Azure | Документация Майкрософт
author: MikeWasson
description: В этой электронной книге описывается подход, основанный на шаблонах, для создания реальных облачных решений. Шаблоны применяются к процессу разработки, а также к...
ms.author: riande
ms.date: 06/12/2014
ms.assetid: accfa16a-ab15-4c26-9ad4-babdc2a77d2e
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction
msc.type: authoredcontent
ms.openlocfilehash: b88573b3702b755b155e8da35f5f8a67931bafc6
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78500652"
---
# <a name="building-real-world-cloud-apps-with-azure"></a>Создание реальных облачных приложений с помощью Azure

[Майк Уоссон](https://github.com/MikeWasson), [Рик Андерсон (](https://twitter.com/RickAndMSFT), том [Dykstra)](https://github.com/tdykstra)

[Скачивание решения ИТ-проекта](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) или [Загрузка электронной книги](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)

> В этой электронной книге описывается подход, основанный на шаблонах, для создания реальных облачных решений. Шаблоны применяются к процессу разработки, а также к методикам архитектуры и программирования.
> 
> Содержимое основано на презентации, разработанной Скотт Гатри (, и доставляется ИТ-специалистом на конференции для норвежских разработчиков (NDC) в июне 2013 ([часть 1](http://vimeo.com/68215538), [часть 2](http://vimeo.com/68215602)) и в Microsoft Tech Ed австралии в сентябре, 2013 ([часть 1](https://channel9.msdn.com/Events/TechEd/Australia/2013/AZR324), [часть 2](https://channel9.msdn.com/Events/TechEd/Australia/2013/AZR325)). [Многие другие](more-patterns-and-guidance.md#acknowledgments) были обновлены и дополнены содержимым при переходе из видео в письменную форму.

## <a name="intended-audience"></a>Целевая аудитория

Разработчикам, которые интересуются разработкой для облака, в том числе переходим в облако или не знакомы с разработкой в облаке, будет представлен краткий обзор наиболее важных концепций и рекомендаций, которые необходимо знать. Основные понятия показаны в конкретных примерах, а в каждой главе содержатся ссылки на другие ресурсы для получения более подробных сведений. Примеры и ссылки на дополнительные ресурсы предназначены для Microsoft Frameworks and Services, но эти принципы также применяются и к другим платформам веб-разработки и облачным средам.

Разработчики, которые уже разрабатывают для облака, могут найти здесь идеи, которые помогут сделать их более успешными. Каждую главу серии можно читать независимо друг от друга, чтобы можно было выбирать интересующие вас темы.

Все, кто наблюдался с Скотт Гатри (для *создания реальных облачных приложений с помощью презентации Azure* и хочет получить дополнительные сведения и обновленную информацию, найдет это здесь.

<a id="patterns"></a>
## <a name="cloud-development-patterns"></a>Шаблоны разработки в облаке

В этой электронной книге объясняется, как тринадцать рекомендованные шаблоны для разработки в облаке. "Шаблон" используется здесь в широком смысле, что означает рекомендуемый способ сделать следующее: как лучше всего разрабатывать, проектировать и программировать облачные приложения. Это ключевые шаблоны, которые помогут Вам «попадать в «смолу успеха», если вы их проберете.

- [Автоматизируйте все](automate-everything.md).

    - Используйте скрипты для повышения эффективности и снижения числа ошибок в повторяющихся процессах.
    - Демонстрация. сценарии управления Azure.
- [Система управления версиями](source-control.md). 

    - Настройка структуры ветвления в системе управления версиями для упрощения рабочего процесса DevOps.
    - Демонстрация: Добавление скриптов в систему управления версиями.
    - Демонстрация: Обеспечьте защиту конфиденциальных данных от системы управления версиями.
    - Демонстрация. использование Git в Visual Studio.
- [Непрерывная интеграция и доставка](continuous-integration-and-continuous-delivery.md). 

    - Автоматизируйте сборку и развертывание с каждым возвратом системы управления версиями.
- Рекомендации по [веб-разработке](web-development-best-practices.md). 

    - Сохранение состояния веб-уровня.
    - Демонстрация: масштабирование и автоматическое масштабирование в веб-приложениях в службе приложений Azure.
    - Избегайте состояния сеанса.
    - Используйте CDN с откатом, если сеть CDN недоступна.
    - Используйте асинхронную модель программирования.
    - Демонстрация: async в ASP.NET MVC и Entity Framework.
- [Единый вход](single-sign-on.md). 

    - Введение в Azure Active Directory.
    - Демонстрация. Создание приложения ASP.NET, использующего Azure Active Directory.
- [Варианты хранения данных](data-storage-options.md). 

    - Типы хранилищ данных.
    - Выбор правильного хранилища данных.
    - Демонстрация: база данных SQL Azure.
- [Стратегии секционирования данных](data-partitioning-strategies.md). 

    - Секционирование данных по вертикали, горизонтали или обоим, чтобы упростить масштабирование реляционной базы данных.
- [Неструктурированное хранилище BLOB-объектов](unstructured-blob-storage.md). 

    - Храните файлы в облаке с помощью службы BLOB-объектов.
    - Демонстрация. Использование хранилища BLOB-объектов в приложении Fix ИТ.
- [Разработайте, чтобы выдерживать сбои](design-to-survive-failures.md). 

    - Типы сбоев.
    - Область сбоя.
    - Основные сведения об SLA.
- [Мониторинг и данные телеметрии](monitoring-and-telemetry.md). 

    - Почему необходимо купить приложение телеметрии и написать собственный код для инструментирования приложения.
    - Демонстрация: новые Relic для Azure
    - Демонстрация. Регистрация кода в приложении Fix ИТ.
    - Демонстрация. внедрение зависимостей в приложение Fix ИТ.
    - Демонстрация. Встроенная поддержка ведения журнала в Azure.
- [Обработка временных сбоев](transient-fault-handling.md). 

    - Используйте интеллектуальную логику повтора и возврата, чтобы уменьшить влияние временных сбоев.
    - Демонстрация. повторное или обратное отключение в Entity Framework 6.
- [Распределенное кэширование](distributed-caching.md). 

    - Повышение масштабируемости и снижение затрат на транзакции базы данных за счет использования распределенного кэширования.
- [Рабочий шаблон, ориентированный на очередь](queue-centric-work-pattern.md). 

    - Обеспечение высокой доступности и повышение масштабируемости благодаря слабо связанным веб-и рабочим уровням.
    - Демонстрация. очереди службы хранилища Azure в приложении Fix ИТ.
- [Дополнительные шаблоны и рекомендации для облачных приложений](more-patterns-and-guidance.md).
- [Приложение. Пример приложения для устранения проблем](the-fix-it-sample-application.md)

    - Известные проблемы
    - Рекомендации
    - Загрузка, сборка, запуск и развертывание.

Эти шаблоны применяются ко всем облачным средам, но мы продемонстрируем их с помощью примеров на основе технологий и служб Майкрософт, таких как Visual Studio, Team Foundation Service, ASP.NET и Azure.

В этой оставшейся части главы представлен пример приложения Fix it и веб-приложения в облачной среде службы приложений Azure, в которой выполняется приложение для устранения проблем.

<a id="fixit"></a>
## <a name="the-fix-it-sample-application"></a>Пример приложения Fix ИТ

Большинство снимков экрана и примеров кода, приведенных в этой электронной книге, основаны на приложении Fix ИТ, первоначально разработанном [Скотт Гатри (](https://weblogs.asp.net/scottgu/) , чтобы продемонстрировать Рекомендуемые шаблоны и методики разработки облачных приложений.

![Домашняя страница исправления ИТ-приложения](introduction/_static/image1.png)

Пример приложения — это простая система билетов рабочих элементов. Если вам нужно что-то исправить, вы создаете билет и назначаете его пользователю, а другие пользователи могут войти в систему и просмотреть назначенные им билеты и пометить билеты как завершенные после завершения работы.

Это стандартный веб-проект Visual Studio. Он основан на ASP.NET MVC и использует базу данных SQL Server. Он может выполняться локально в IIS Express и может быть развернут на веб-сайте Azure для запуска в облаке. Для входа можно использовать проверку подлинности с помощью форм и локальную базу данных или поставщика социальных сетей, например Google. (В дальнейшем мы также покажем, как войти в систему с помощью Active Directory учетной записи организации.)

![Страница входа](introduction/_static/image2.png)

После входа вы можете создать билет, назначить его пользователю и отправить картину того, что вы хотите исправить.

![Создание задачи решения ИТ](introduction/_static/image3.png)

![Задача создания решения для ИТ](introduction/_static/image4.png)

Вы можете отслеживать ход выполнения созданных рабочих элементов, просматривать сведения о билетах и помечать их как завершенные.

Это очень простое приложение с точки зрения возможностей, но вы узнаете, как создать его, чтобы он мог масштабироваться до миллионов пользователей и будет устойчивым к таким возможностям, как сбои баз данных и разрывы подключений. Вы также узнаете, как создать автоматизированный и гибкий рабочий процесс разработки, который позволит вам быстро и лучше повысить эффективность и улучшить работу приложения.

<a id="waws"></a>
## <a name="web-apps-in-azure-app-service"></a>Веб-приложения в службе приложений Azure

Облачная среда, используемая для решения проблем ИТ-приложения, — это служба Azure, которая вызывает веб-сайты. Эта служба позволяет разместить собственное веб-приложение в Azure без необходимости создавать виртуальные машины и обновлять их, устанавливать и настраивать службы IIS и т. д. Мы разместите сайт на наших виртуальных машинах и автоматически предпредоставите резервное копирование и восстановление, а также другие службы. Служба веб-сайтов работает с ASP.NET, Node. js, PHP и Python. Она позволяет быстро развертывать с помощью Visual Studio, веб-развертывание, FTP, Git или TFS. Обычно это всего несколько секунд между моментом запуска развертывания и тем временем, когда обновление будет доступно через Интернет. Все это можно начать, и вы можете увеличивать масштаб по мере роста трафика.

В фоновом режиме веб-приложения в службе приложений Azure предоставляют множество архитектурных компонентов и функций, которые вам пришлось бы создавать, если вы собираетесь разместить веб-сайт с помощью IIS на собственных виртуальных машинах. Один из компонентов — это конечная точка развертывания, которая автоматически настраивает IIS и устанавливает приложение на столько виртуальных машин, сколько требуется для запуска сайта.

![Служба развертывания](introduction/_static/image5.png)

Когда пользователь обращается к веб-сайту, он не попадает в виртуальные машины IIS напрямую, они проходят через подсистемы балансировки нагрузки для [запросов приложений (ARR)](https://www.iis.net/downloads/microsoft/application-request-routing) . Их можно использовать с собственными серверами, но преимущество здесь в том, что они настроены автоматически. Они используют интеллектуальную эвристику, учитывающую такие факторы, как сходство сеансов, глубина очереди в IIS и загрузка ЦП на каждом компьютере, чтобы направить трафик на виртуальные машины, на которых размещается веб-сайт.

![Балансировщик нагрузки ARR](introduction/_static/image6.png)

Если компьютер выходит из строя, Azure автоматически извлекает его из ротации, запускает новый экземпляр виртуальной машины и начинает направление трафика на новый экземпляр — все без времени простоя для приложения.

![Автоматическое восстановление после сбоя компьютера](introduction/_static/image7.png)

Все это происходит автоматически. Вам нужно всего лишь создать веб-сайт и развернуть в нем приложение, используя Windows PowerShell, Visual Studio или портал управления Azure.

Краткое и простое руководство, в котором показано, как создать веб-приложение в Visual Studio и развернуть его на веб-сайте Azure, см. в статье Начало [работы с Azure и ASP.NET](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-get-started/).

<a id="summary"></a>
## <a name="summary"></a>Сводка

В этом вводе представлен список разделов, которые будут рассмотрены в книге, снимки экрана примера приложения и краткий обзор веб-приложений в облачной среде службы приложений Azure. Одно из замечательных преимуществ разработки приложений в и в облаке заключается в том, что можно легко автоматизировать повторяющиеся задачи разработки, такие как создание тестовой среды и развертывание в нем кода. Как это сделать, тема в [следующей главе](automate-everything.md).

## <a name="resources"></a>Ресурсы

Дополнительные сведения о темах, описанных в этой главе, см. в следующих ресурсах.

Документация.

- [Веб-приложения в службе приложений Azure](https://azure.microsoft.com/services/app-service/web/). Страница портала для документации по веб-приложениям Azure.
- [Веб-приложения, облачные службы и виртуальные машины: когда следует использовать?](https://azure.microsoft.com/documentation/articles/choose-web-site-cloud-service-vm/) WAWS, как показано в этой главе, — это один из трех способов запуска веб-приложений в Azure. В этой статье объясняются различия между тремя способами и даются рекомендации по выбору того, какой из них подходит для вашего сценария. Как и веб-сайты, облачные службы — это функция PaaS в Azure. Виртуальные машины — это функция IaaS. Описание PaaS и IaaS см. в главе « [Параметры данных](data-storage-options.md#paasiaas) ».

Видеоролики:

- [Скотт Гатри (начинается на шаге 0 — что такое Cloud OS Azure?](https://azure.microsoft.com/documentation/videos/what-is-the-cloud-os-scottgu/)
- [Архитектура веб-сайтов — с Стефан Шаков (](https://azure.microsoft.com/documentation/videos/why-azure-web-sites-plus-architecture/).
- [Веб-сайты Azure внутренне с NIR mashkowski)](https://channel9.msdn.com/Shows/Web+Camps+TV/Windows-Azure-Web-Sites-Internals-with-Nir-Mashkowski).

> [!div class="step-by-step"]
> [Дальше](automate-everything.md)
