---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-storage-options
title: Варианты хранения данных (создание облачных приложений в реальном мире с помощью Azure) | Документация Майкрософт
author: MikeWasson
description: Создание реальных облачных приложений с помощью электронной книги Azure основано на презентации, разработанной Скотт Гатри (. В нем объясняются 13 шаблонов и методик, которые могут...
ms.author: riande
ms.date: 06/12/2014
ms.assetid: e51fcecb-cb33-4f9e-8428-6d2b3d0fe1bf
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-storage-options
msc.type: authoredcontent
ms.openlocfilehash: f97d973d87db895441f813376d757a8a2e94b255
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2019
ms.locfileid: "74585928"
---
# <a name="data-storage-options-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="ee5f2-104">Варианты хранения данных (создание облачных приложений в реальном мире с помощью Azure)</span><span class="sxs-lookup"><span data-stu-id="ee5f2-104">Data Storage Options (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="ee5f2-105">[Майк Уоссон](https://github.com/MikeWasson), [Рик Андерсон (]((https://twitter.com/RickAndMSFT)), том [Dykstra)](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="ee5f2-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="ee5f2-106">[Скачивание решения ИТ-проекта](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) или [Загрузка электронной книги](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="ee5f2-106">[Download Fix It Project](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="ee5f2-107">**Создание реальных облачных приложений с помощью** электронной книги Azure основано на презентации, разработанной Скотт Гатри (.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="ee5f2-108">В нем объясняются 13 шаблонов и методик, которые могут помочь в успешной разработке веб-приложений для облака.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="ee5f2-109">Сведения о электронной книге см. [в первой главе](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>

<span data-ttu-id="ee5f2-110">Большинство пользователей используются для реляционных баз данных, и они обычно задают другие варианты хранения данных при проектировании облачного приложения.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-110">Most people are used to relational databases, and they tend to overlook other data storage options when they're designing a cloud app.</span></span> <span data-ttu-id="ee5f2-111">Результат может быть неоптимальной производительностью, большими затратами или хуже, так как [NoSQL](http://en.wikipedia.org/wiki/NoSQL) (нереляционные) базы данных могут обрабатывать некоторые задачи более эффективно, чем реляционные базы данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-111">The result can be suboptimal performance, high expenses, or worse, because [NoSQL](http://en.wikipedia.org/wiki/NoSQL) (non-relational) databases can handle some tasks more efficiently than relational databases.</span></span> <span data-ttu-id="ee5f2-112">Когда клиенты запрашивают у нас помощь в решении проблемы с хранилищем критических данных, часто это связано с тем, что у них есть реляционная база данных, где один из вариантов NoSQL бы лучше работала.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-112">When customers ask us for help resolving a critical data storage problem, it's often because they have a relational database where one of the NoSQL options would have worked better.</span></span> <span data-ttu-id="ee5f2-113">В таких ситуациях клиент был бы лучше, если бы он реализовал решение NoSQL перед развертыванием приложения в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-113">In those situations the customer would have been better off if they had implemented the NoSQL solution before deploying the app to production.</span></span>

<span data-ttu-id="ee5f2-114">С другой стороны, это также ошибочно полагать, что база данных NoSQL может делать все правильно или достаточно хорошо.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-114">On the other hand, it would also be a mistake to assume that a NoSQL database can do everything well or well enough.</span></span> <span data-ttu-id="ee5f2-115">Не существует одного оптимального варианта управления данными для всех задач хранилища данных. различные решения для управления данными оптимизированы для различных задач.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-115">There is no single best data management choice for all data storage tasks; different data management solutions are optimized for different tasks.</span></span> <span data-ttu-id="ee5f2-116">Большинство реальных облачных приложений имеют разнообразные требования к хранению данных и часто обслуживаются с помощью сочетания нескольких решений для хранения данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-116">Most real-world cloud apps have a variety of data storage requirements and are often served best by a combination of multiple data storage solutions.</span></span>

<span data-ttu-id="ee5f2-117">Цель этой главы — предоставить вам более широкие возможности хранения данных, доступные для облачного приложения, а также некоторые основные рекомендации по выбору тех, которые соответствуют вашему сценарию.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-117">The purpose of this chapter is to give you a broader sense of the data storage options available to a cloud app, and some basic guidance on how to choose the ones that fit your scenario.</span></span> <span data-ttu-id="ee5f2-118">Перед разработкой приложения лучше учитывать доступные варианты и думать о их сильных и слабых сторонах.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-118">It's best to be aware of the options available to you and think about their strengths and weaknesses before you develop an application.</span></span> <span data-ttu-id="ee5f2-119">Изменение параметров хранения данных в рабочем приложении может оказаться чрезвычайно сложным, например, при необходимости изменения подсистемы Jet, когда плоскость находится в полете.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-119">Changing data storage options in a production app can be extremely difficult, like having to change a jet engine while the plane is in flight.</span></span>

## <a name="data-storage-options-on-azure"></a><span data-ttu-id="ee5f2-120">Варианты хранения данных в Azure</span><span class="sxs-lookup"><span data-stu-id="ee5f2-120">Data storage options on Azure</span></span>

<span data-ttu-id="ee5f2-121">Облако позволяет относительно легко использовать различные реляционные и NoSQL хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-121">The cloud makes it relatively easy to use a variety of relational and NoSQL data stores.</span></span> <span data-ttu-id="ee5f2-122">Ниже приведены некоторые платформы хранения данных, которые можно использовать в Azure.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-122">Here are some of the data storage platforms that you can use in Azure.</span></span>

![](data-storage-options/_static/image1.png)

<span data-ttu-id="ee5f2-123">В таблице показаны четыре типа баз данных NoSQL:</span><span class="sxs-lookup"><span data-stu-id="ee5f2-123">The table shows four types of NoSQL databases:</span></span>

- <span data-ttu-id="ee5f2-124">[Базы данных "ключ — значение](https://msdn.microsoft.com/library/dn313285.aspx#sec7) " хранят один сериализованный объект для каждого значения ключа.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-124">[Key/value databases](https://msdn.microsoft.com/library/dn313285.aspx#sec7) store a single serialized object for each key value.</span></span> <span data-ttu-id="ee5f2-125">Они хорошо подходят для хранения больших объемов данных, где требуется получить один элемент для заданного значения ключа, и вам не нужно запрашиваться на основе других свойств элемента.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-125">They're good for storing large volumes of data where you want to get one item for a given key value and you don't have to query based on other properties of the item.</span></span>

    <span data-ttu-id="ee5f2-126">[Хранилище BLOB-объектов Azure](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-blobs/) — это база данных "ключ-значение", которая работает как хранилище файлов в облаке, со значениями ключей, которые соответствуют именам папок и файлов.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-126">[Azure Blob storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-blobs/) is a key/value database that functions like file storage in the cloud, with key values that correspond to folder and file names.</span></span> <span data-ttu-id="ee5f2-127">Вы получаете файл по его папке и имени файла, а не ищете значения в его содержимом.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-127">You retrieve a file by its folder and file name, not by searching for values in the file contents.</span></span>

    <span data-ttu-id="ee5f2-128">[Хранилище таблиц Azure](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-tables/) также является базой данных "ключ — значение".</span><span class="sxs-lookup"><span data-stu-id="ee5f2-128">[Azure Table storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-tables/) is also a key/value database.</span></span> <span data-ttu-id="ee5f2-129">Каждое значение называется *сущностью* (аналогично строке, определяемой ключом секции и ключом строки) и содержит несколько *свойств* (аналогично столбцам, но не все сущности в таблице должны совместно использовать одни и те же столбцы).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-129">Each value is called an *entity* (similar to a row, identified by a partition key and row key) and contains multiple *properties* (similar to columns, but not all entities in a table have to share the same columns).</span></span> <span data-ttu-id="ee5f2-130">Запросы к столбцам, отличным от ключа, чрезвычайно неэффективны, поэтому их следует избегать.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-130">Querying on columns other than the key is extremely inefficient and should be avoided.</span></span> <span data-ttu-id="ee5f2-131">Например, можно хранить данные профиля пользователя с одним разделом, в котором хранятся сведения об отдельном пользователе.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-131">For example, you can store user profile data, with one partition storing information about a single user.</span></span> <span data-ttu-id="ee5f2-132">Вы можете хранить такие данные, как имя пользователя, хэш пароля, Дата рождения и т. д., в отдельных свойствах одной сущности или в отдельных сущностях в одной секции.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-132">You could store data such as user name, password hash, birth date, and so forth, in separate properties of one entity or in separate entities in the same partition.</span></span> <span data-ttu-id="ee5f2-133">Но не нужно запрашивать всех пользователей с заданным диапазоном дат рождения, и нельзя выполнять запрос JOIN между таблицей профиля и другой таблицей.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-133">But you wouldn't want to query for all users with a given range of birth dates, and you can't execute a join query between your profile table and another table.</span></span> <span data-ttu-id="ee5f2-134">Хранилище таблиц является более масштабируемым и дешевле, чем реляционная база данных, но не включает сложные запросы и объединения.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-134">Table storage is more scalable and less expensive than a relational database, but it doesn't enable complex queries or joins.</span></span>
- <span data-ttu-id="ee5f2-135">[Документдатабасес](https://msdn.microsoft.com/library/dn313285.aspx#sec8) — это базы данных ключей и значений, в которых значения являются *документами*.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-135">[Documentdatabases](https://msdn.microsoft.com/library/dn313285.aspx#sec8) are key/value databases in which the values are *documents*.</span></span> <span data-ttu-id="ee5f2-136">"Документ" не используется в смысле документа Word или Excel, но означает набор именованных полей и значений, любой из которых может быть дочерним документом.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-136">"Document" here isn't used in the sense of a Word or Excel document but means a collection of named fields and values, any of which could be a child document.</span></span> <span data-ttu-id="ee5f2-137">Например, в таблице журнала заказа документ заказа может содержать поля номер заказа, Дата заказа и клиент. в поле "клиент" могут быть поля "имя" и "адрес".</span><span class="sxs-lookup"><span data-stu-id="ee5f2-137">For example, in an order history table an order document might have order number, order date, and customer fields; and the customer field might have name and address fields.</span></span> <span data-ttu-id="ee5f2-138">База данных кодирует данные полей в таком формате, как XML, YAML, JSON или BSON. или может использовать обычный текст.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-138">The database encodes field data in a format such as XML, YAML, JSON, or BSON; or it can use plain text.</span></span> <span data-ttu-id="ee5f2-139">Одна из функций, устанавливающих базы данных документов отдельно от баз данных "ключ — значение", — это возможность запрашивать неключевые поля и определять вторичные индексы, чтобы сделать запросы более эффективными.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-139">One feature that sets document databases apart from key/value databases is the ability to query on non-key fields and define secondary indexes to make querying more efficient.</span></span> <span data-ttu-id="ee5f2-140">Эта возможность делает базу данных документов более подходящей для приложений, которым требуется получить данные на основе критериев, более сложных по сравнению с ключом документа.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-140">This ability makes a document database more suitable for applications that need to retrieve data based on criteria more complex than the value of the document key.</span></span> <span data-ttu-id="ee5f2-141">Например, в базе данных документов в журнале заказов на продажу можно запрашивать различные поля, такие как идентификатор продукта, идентификатор клиента, имя клиента и т. д.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-141">For example, in a sales order history document database you could query on various fields such as product ID, customer ID, customer name, and so forth.</span></span> <span data-ttu-id="ee5f2-142">[MongoDB](http://www.mongodb.org/) — это популярная база данных документов.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-142">[MongoDB](http://www.mongodb.org/) is a popular document database.</span></span>
- <span data-ttu-id="ee5f2-143">[Базы данных-семейства столбцов](https://msdn.microsoft.com/library/dn313285.aspx#sec9) — это хранилища данных "ключ — значение", которые позволяют структурировать хранилище данных в коллекции связанных столбцов, именуемых семействами столбцов.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-143">[Column-family databases](https://msdn.microsoft.com/library/dn313285.aspx#sec9) are key/value data stores that enable you to structure data storage into collections of related columns called column families.</span></span> <span data-ttu-id="ee5f2-144">Например, база данных переписи может иметь одну группу столбцов для имени человека (первая, средняя, последняя), одну группу для адреса человека и одну группу для сведений профиля пользователя (DOB, Gender и т. д.).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-144">For example, a census database might have one group of columns for a person's name (first, middle, last), one group for the person's address, and one group for the person's profile information (DOB, gender, etc.).</span></span> <span data-ttu-id="ee5f2-145">Затем база данных может хранить каждое семейство столбцов в отдельной секции, сохраняя все данные для одного пользователя, связанного с одним и тем же ключом.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-145">The database can then store each column family in a separate partition while keeping all of the data for one person related to the same key.</span></span> <span data-ttu-id="ee5f2-146">Затем можно считывать все сведения о профиле, не требуя считывания всех сведений об имени и адресе.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-146">You can then read all profile information without having to read through all of the name and address information as well.</span></span> <span data-ttu-id="ee5f2-147">[Cassandra](http://cassandra.apache.org/) — это популярная база данных для семейства столбцов.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-147">[Cassandra](http://cassandra.apache.org/) is a popular column-family database.</span></span>
- <span data-ttu-id="ee5f2-148">В [базах данных Graph](https://msdn.microsoft.com/library/dn313285.aspx#sec10) данные хранятся в виде коллекции объектов и связей.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-148">[Graph databases](https://msdn.microsoft.com/library/dn313285.aspx#sec10) store information as a collection of objects and relationships.</span></span> <span data-ttu-id="ee5f2-149">База данных графа предназначена для того, чтобы позволить приложению эффективно выполнять запросы, которые проходят через сеть объектов и связи между ними.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-149">The purpose of a graph database is to enable an application to efficiently perform queries that traverse the network of objects and the relationships between them.</span></span> <span data-ttu-id="ee5f2-150">Например, объекты могут быть сотрудниками в базе данных отдела кадров, и вам может потребоваться упростить такие запросы, как "найти всех сотрудников, прямо или косвенно работающих с Скотт".</span><span class="sxs-lookup"><span data-stu-id="ee5f2-150">For example, the objects might be employees in a human resources database, and you might want to facilitate queries such as "find all employees who directly or indirectly work for Scott."</span></span> <span data-ttu-id="ee5f2-151">[Neo4j](http://www.neo4j.org/) — это популярная база данных графов.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-151">[Neo4j](http://www.neo4j.org/) is a popular graph database.</span></span>

<span data-ttu-id="ee5f2-152">По сравнению с реляционными базами данных, параметры NoSQL обеспечивают гораздо более высокую масштабируемость и экономичность при хранении и анализе неструктурированных данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-152">Compared to relational databases, the NoSQL options offer far greater scalability and cost-effectiveness for storage and analysis of unstructured data.</span></span> <span data-ttu-id="ee5f2-153">Компромисс заключается в том, что они не предоставляют широкие возможности для запросов и надежной целостности данных в реляционных базах данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-153">The tradeoff is that they don't provide the rich queryability and robust data integrity capabilities of relational databases.</span></span> <span data-ttu-id="ee5f2-154">NoSQL хорошо подойдет для данных журнала IIS, в которых задействованы большие объемы томов без необходимости присоединять запросы.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-154">NoSQL would work well for IIS log data, which involves high volume with no need for join queries.</span></span> <span data-ttu-id="ee5f2-155">NoSQL будет работать не так хорошо для банковских транзакций, что требует абсолютной целостности данных и включает множество связей с другими данными, связанными с учетной записью.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-155">NoSQL would not work so well for banking transactions, which requires absolute data integrity and involves many relationships to other account-related data.</span></span>

<span data-ttu-id="ee5f2-156">Также существует новая категория платформы баз данных с именем [невскл](http://en.wikipedia.org/wiki/NewSQL) , которая сочетает масштабируемость базы данных NoSQL с возможностью запросов и целостностью реляционной базы данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-156">There is also a newer category of database platform called [NewSQL](http://en.wikipedia.org/wiki/NewSQL) that combines the scalability of a NoSQL database with the queryability and transactional integrity of a relational database.</span></span> <span data-ttu-id="ee5f2-157">Базы данных Невскл предназначены для распределенного хранения и обработки запросов, что часто сложно реализовать в базах данных «Олдскл».</span><span class="sxs-lookup"><span data-stu-id="ee5f2-157">NewSQL databases are designed for distributed storage and query processing, which is often hard to implement in "OldSQL" databases.</span></span> <span data-ttu-id="ee5f2-158">[Нуодб](http://www.nuodb.com/) — это пример базы данных невскл, которую можно использовать в Azure.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-158">[NuoDB](http://www.nuodb.com/) is an example of a NewSQL database that can be used on Azure.</span></span>

<a id="hadoop"></a>
## <a name="hadoop-and-mapreduce"></a><span data-ttu-id="ee5f2-159">Hadoop и MapReduce</span><span class="sxs-lookup"><span data-stu-id="ee5f2-159">Hadoop and MapReduce</span></span>

<span data-ttu-id="ee5f2-160">Большие объемы данных, которые можно хранить в базах данных NoSQL, могут быть трудными для эффективного анализа.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-160">The high volumes of data that you can store in NoSQL databases may be difficult to analyze efficiently in a timely manner.</span></span> <span data-ttu-id="ee5f2-161">Для этого можно использовать такую платформу, как [Hadoop](http://hadoop.apache.org/) , которая реализует функциональность [MapReduce](http://en.wikipedia.org/wiki/MapReduce) .</span><span class="sxs-lookup"><span data-stu-id="ee5f2-161">To do that you can use a framework like [Hadoop](http://hadoop.apache.org/) which implements [MapReduce](http://en.wikipedia.org/wiki/MapReduce) functionality.</span></span> <span data-ttu-id="ee5f2-162">По сути, процесс MapReduce выполняется следующим образом:</span><span class="sxs-lookup"><span data-stu-id="ee5f2-162">Essentially what a MapReduce process does is the following:</span></span>

- <span data-ttu-id="ee5f2-163">Ограничьте размер данных, которые необходимо обработать, выбирая из хранилища данных только те данные, которые действительно необходимо проанализировать.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-163">Limit the size of the data that needs to be processed by selecting out of the data store only the data you actually need to analyze.</span></span> <span data-ttu-id="ee5f2-164">Например, вы хотите узнать описывающего своей базы пользователей по году рождения, чтобы выбрать только год рождения из хранилища данных профиля пользователя.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-164">For example, you want to know the makeup of your user base by birth year, so you select only birth years out of your user profile data store.</span></span>
- <span data-ttu-id="ee5f2-165">Разбейте данные на части и отправляйте их на разные компьютеры для обработки.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-165">Break down the data into parts and send them to different computers for processing.</span></span> <span data-ttu-id="ee5f2-166">Компьютер A вычисляет число людей с 1950-1959 датами, компьютер B выполняет 1960-1969 и т. д. Эта группа компьютеров называется *кластером Hadoop*.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-166">Computer A calculates the number of people with 1950-1959 dates, computer B does 1960-1969, etc. This group of computers is called a *Hadoop cluster*.</span></span>
- <span data-ttu-id="ee5f2-167">Помещайте результаты каждой части обратно вместе после завершения обработки частей.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-167">Put the results of each part back together after the processing on the parts is done.</span></span> <span data-ttu-id="ee5f2-168">Теперь у вас есть сравнительно короткий список, сколько людей для каждого года рождения и задача вычисления процентных долей в этом общем списке является управляемой.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-168">You now have a relatively short list of how many people for each birth year and the task of calculating percentages in this overall list is manageable.</span></span>

<span data-ttu-id="ee5f2-169">В Azure [HDInsight](https://azure.microsoft.com/services/hdinsight/) позволяет обрабатывать, анализировать и получать новые ценные сведения из больших данных с помощью возможностей Hadoop.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-169">On Azure, [HDInsight](https://azure.microsoft.com/services/hdinsight/) enables you to process, analyze, and gain new insights from big data using the power of Hadoop.</span></span> <span data-ttu-id="ee5f2-170">Например, его можно использовать для анализа журналов веб-сервера:</span><span class="sxs-lookup"><span data-stu-id="ee5f2-170">For example, you could use it to analyze web server logs:</span></span>

- <span data-ttu-id="ee5f2-171">Включите ведение журнала веб-сервера в учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-171">Enable web server logging to your storage account.</span></span> <span data-ttu-id="ee5f2-172">Это настраивает Azure для записи журналов в службу больших двоичных объектов для каждого HTTP-запроса к приложению.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-172">This sets up Azure to write logs to the Blob Service for every HTTP request to your application.</span></span> <span data-ttu-id="ee5f2-173">Служба BLOB-объектов по сути является облачным хранилищем файлов и хорошо интегрируется с HDInsight.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-173">The Blob Service is basically cloud file storage, and it integrates nicely with HDInsight.</span></span>

    ![Журналы в хранилище BLOB-объектов](data-storage-options/_static/image2.png)
- <span data-ttu-id="ee5f2-175">По мере того как приложение получает трафик, журналы IIS веб-сервера записываются в хранилище больших двоичных объектов.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-175">As the app gets traffic, web server IIS logs are written to Blob storage.</span></span>

    ![Журналы веб-сервера](data-storage-options/_static/image3.png)
- <span data-ttu-id="ee5f2-177">На портале щелкните **New** - **Data Services** - **HDInsight** - **Быстрое создание**и укажите имя кластера hdinsight, размер кластера (число узлов данных кластера hdinsight), а также имя пользователя и пароль для кластера hdinsight.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-177">In the portal, click **New** - **Data Services** - **HDInsight** - **Quick Create**, and specify an HDInsight cluster name, cluster size (number of HDInsight cluster data nodes), and a user name and password for the HDInsight cluster.</span></span>

    ![HDInsight](data-storage-options/_static/image4.png)

<span data-ttu-id="ee5f2-179">Теперь можно настроить задания MapReduce для анализа журналов и получения ответов на такие вопросы:</span><span class="sxs-lookup"><span data-stu-id="ee5f2-179">You can now set up MapReduce jobs to analyze your logs and get answers to questions such as:</span></span>

- <span data-ttu-id="ee5f2-180">Какое время суток использует мое приложение для получения наибольшего или минимального трафика?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-180">What times of day does my app get the most or least traffic?</span></span>
- <span data-ttu-id="ee5f2-181">Из каких стран исходят исходящий трафик?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-181">What countries is my traffic coming from?</span></span>
- <span data-ttu-id="ee5f2-182">Каков средний доход в области, из которой поступил трафик.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-182">What is the average neighborhood income of the areas my traffic comes from.</span></span> <span data-ttu-id="ee5f2-183">(Есть общедоступный набор данных, который обеспечивает доходы по IP-адресу, и вы можете сопоставить его с IP-адресом в журналах веб-сервера.)</span><span class="sxs-lookup"><span data-stu-id="ee5f2-183">(There's a public dataset that gives you neighborhood income by IP address, and you can match that against IP address in the web server logs.)</span></span>
- <span data-ttu-id="ee5f2-184">Как отношение доходов окружения к конкретным страницам или продуктам на сайте?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-184">How does neighborhood income correlate to specific pages or products in the site?</span></span>

<span data-ttu-id="ee5f2-185">Вы можете использовать ответы на такие вопросы, чтобы ориентироваться на рекламу в зависимости от вероятности того, что клиент заинтересовался или скорее всего купит определенный продукт.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-185">You could then use the answers to questions like these to target ads based on the likelihood a customer would be interested in or likely to buy a particular product.</span></span>

<span data-ttu-id="ee5f2-186">Как объясняется в [главе «Автоматизация всех](automate-everything.md)», большинство функций, которые можно выполнять на портале, могут быть автоматизированы и включают настройку и выполнение заданий анализа HDInsight.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-186">As explained in the [Automate Everything chapter](automate-everything.md), most functions that you can do in the portal can be automated, and that includes setting up and executing HDInsight analysis jobs.</span></span> <span data-ttu-id="ee5f2-187">Типичный сценарий HDInsight может содержать следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="ee5f2-187">A typical HDInsight script might contain the following steps:</span></span>

- <span data-ttu-id="ee5f2-188">Подготавливает кластер HDInsight и свяжите его с учетной записью хранения для входных данных хранилища BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-188">Provision an HDInsight cluster and link it to your storage account for Blob storage input.</span></span>
- <span data-ttu-id="ee5f2-189">Передайте исполняемые файлы задания MapReduce (. jar или. exe) в кластер HDInsight.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-189">Upload the MapReduce job executables (.jar or .exe files) to the HDInsight cluster.</span></span>
- <span data-ttu-id="ee5f2-190">Отправьте MapReduce, который хранит выходные данные в хранилище BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-190">Submit a MapReduce that stores the output data to Blob storage.</span></span>
- <span data-ttu-id="ee5f2-191">Дождитесь завершения задания.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-191">Wait for the job to complete.</span></span>
- <span data-ttu-id="ee5f2-192">Удалите кластер HDInsight.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-192">Delete the HDInsight cluster.</span></span>
- <span data-ttu-id="ee5f2-193">Получите доступ к выходным данным из хранилища BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-193">Access the output from Blob storage.</span></span>

<span data-ttu-id="ee5f2-194">Выполнив сценарий, который делает это, вы сократите время, в течение которого будет подготовлен кластер HDInsight, что снизит затраты.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-194">By running a script that does all this, you minimize the amount of time that the HDInsight cluster is provisioned, which minimizes your costs.</span></span>

<a id="paasiaas"></a>
## <a name="platform-as-a-service-paas-versus-infrastructure-as-a-service-iaas"></a><span data-ttu-id="ee5f2-195">Платформа как услуга (PaaS) и инфраструктура как услуга (IaaS)</span><span class="sxs-lookup"><span data-stu-id="ee5f2-195">Platform as a Service (PaaS) versus Infrastructure as a Service (IaaS)</span></span>

<span data-ttu-id="ee5f2-196">Приведенные выше варианты хранения данных включают решения "платформа как услуга" (PaaS) и "инфраструктура как услуга" (IaaS).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-196">The data storage options listed earlier include both Platform-as-a-Service (PaaS) and Infrastructure-as-a-Service (IaaS) solutions.</span></span> <span data-ttu-id="ee5f2-197">PaaS означает, что мы работаем с аппаратной и программной инфраструктурой, а вы просто используете службу.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-197">PaaS means that we manage the hardware and software infrastructure and you just use the service.</span></span> <span data-ttu-id="ee5f2-198">База данных SQL — это функция PaaS в Azure.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-198">SQL Database is a PaaS feature of Azure.</span></span> <span data-ttu-id="ee5f2-199">Вы запрашиваете базы данных, и в фоновом режиме Azure устанавливает и настраивает виртуальные машины, а также устанавливает на них базы данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-199">You ask for databases, and behind the scenes Azure sets up and configures the VMs and sets up the databases on them.</span></span> <span data-ttu-id="ee5f2-200">У вас нет прямого доступа к виртуальным машинам и управление ими не требуется. IaaS означает, что вы настроили и настраиваете виртуальные машины, которые выполняются в нашей инфраструктуре центра обработки данных, и управляете ими.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-200">You don't have direct access to the VMs and don't have to manage them.IaaS means that you set up, configure, and manage VMs that run in our data center infrastructure, and you put whatever you want on them.</span></span> <span data-ttu-id="ee5f2-201">Мы предоставляем коллекцию предварительно настроенных образов виртуальных машин для распространенных конфигураций виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-201">We provide a gallery of pre-configured VM images for common VM configurations.</span></span> <span data-ttu-id="ee5f2-202">Например, можно установить предварительно настроенные образы виртуальных машин для Windows Server 2008, Windows Server 2012, BizTalk Server, Oracle для сервера Oracle Database и т. д.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-202">For example, you can install pre-configured VM images for Windows Server 2008, Windows Server 2012, BizTalk Server, Oracle WebLogic Server, Oracle Database, etc.</span></span>

<span data-ttu-id="ee5f2-203">Решения для данных PaaS, предоставляемые Azure, включают:</span><span class="sxs-lookup"><span data-stu-id="ee5f2-203">PaaS data solutions that Azure offers include:</span></span>

- <span data-ttu-id="ee5f2-204">База данных SQL Azure (прежнее название — SQL Azure).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-204">Azure SQL Database (formerly known as SQL Azure).</span></span> <span data-ttu-id="ee5f2-205">Облачная реляционная база данных на основе SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-205">A cloud relational database based on SQL Server.</span></span>
- <span data-ttu-id="ee5f2-206">Хранилище таблиц Azure.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-206">Azure Table storage.</span></span> <span data-ttu-id="ee5f2-207">База данных NoSQL "ключ-значение".</span><span class="sxs-lookup"><span data-stu-id="ee5f2-207">A key/value NoSQL database.</span></span>
- <span data-ttu-id="ee5f2-208">Хранилище BLOB-объектов Azure.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-208">Azure Blob storage.</span></span> <span data-ttu-id="ee5f2-209">Хранилище файлов в облаке.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-209">File storage in the cloud.</span></span>

<span data-ttu-id="ee5f2-210">Для IaaS можно запустить все, что можно загрузить на виртуальную машину, например:</span><span class="sxs-lookup"><span data-stu-id="ee5f2-210">For IaaS, you can run anything you can load onto a VM, for example:</span></span>

- <span data-ttu-id="ee5f2-211">Реляционные базы данных, такие как SQL Server, Oracle, MySQL, SQL Compact, SQLite или postgres.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-211">Relational databases such as SQL Server, Oracle, MySQL, SQL Compact, SQLite, or Postgres.</span></span>
- <span data-ttu-id="ee5f2-212">Хранилища данных "ключ — значение", такие как memcached, Redis, Cassandra и Риак.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-212">Key/value data stores such as Memcached, Redis, Cassandra, and Riak.</span></span>
- <span data-ttu-id="ee5f2-213">Хранилища данных столбцов, например HBase.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-213">Column data stores such as HBase.</span></span>
- <span data-ttu-id="ee5f2-214">Базы данных документов, такие как MongoDB, RavenDB и CouchDB.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-214">Document databases such as MongoDB, RavenDB, and CouchDB.</span></span>
- <span data-ttu-id="ee5f2-215">Базы данных графов, такие как Neo4j.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-215">Graph databases such as Neo4j.</span></span>

![Варианты хранения данных в Azure](data-storage-options/_static/image5.png)

<span data-ttu-id="ee5f2-217">Параметр IaaS предоставляет почти неограниченные возможности хранения данных, и многие из них особенно просты в использовании, так как вы можете создавать виртуальные машины с помощью предварительно настроенных образов.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-217">The IaaS option gives you almost unlimited data storage options, and many of them are especially easy to use because you can create VMs using preconfigured images.</span></span> <span data-ttu-id="ee5f2-218">Например, на портале управления перейдите к разделу **виртуальные машины**, перейдите на вкладку **образы** и щелкните **Обзор VM хранилище**.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-218">For example, in the management portal go to **Virtual Machines**, click the **Images** tab, and click **Browse VM Depot**.</span></span>

![Обзор виртуальной машины хранилище](data-storage-options/_static/image6.png)

<span data-ttu-id="ee5f2-220">Затем вы увидите список [сотен предварительно настроенных образов виртуальных машин](http://www.hanselman.com/blog/Over400VirtualMachineImagesOfOpenSourceSoftwareStacksInTheVMDepotAzureGallery.aspx), и вы можете создать виртуальную машину из образа с предварительно установленной системой управления базами данных, например MongoDB, Neo4J, Redis, Cassandra или CouchDB.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-220">You then see a list of [hundreds of preconfigured VM images](http://www.hanselman.com/blog/Over400VirtualMachineImagesOfOpenSourceSoftwareStacksInTheVMDepotAzureGallery.aspx), and you can create a VM from an image that has a database management system preinstalled, such as MongoDB, Neo4J, Redis, Cassandra, or CouchDB:</span></span>

![MongoDB в виртуальной машине хранилище](data-storage-options/_static/image7.png)

<span data-ttu-id="ee5f2-222">Azure делает возможности хранения данных IaaS простыми в использовании, но предложения PaaS имеют множество преимуществ, которые делают их более экономичными и практичными для многих сценариев:</span><span class="sxs-lookup"><span data-stu-id="ee5f2-222">Azure makes IaaS data storage options as easy to use as possible, but the PaaS offerings have many advantages that make them more cost-effective and practical for many scenarios:</span></span>

- <span data-ttu-id="ee5f2-223">Вам не нужно создавать виртуальные машины, вы просто используете портал или сценарий для настройки хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-223">You don't have to create VMs, you just use the portal or a script to set up a data store.</span></span> <span data-ttu-id="ee5f2-224">Если требуется хранилище данных 200 терабайта, можно просто щелкнуть кнопку или выполнить команду, а также в течение секунд, пока она готова к использованию.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-224">If you want a 200 terabyte data store, you can just click a button or run a command, and in seconds it's ready for you to use.</span></span>
- <span data-ttu-id="ee5f2-225">Вам не нужно управлять виртуальными машинами, используемыми службой, или исправлять их. Майкрософт делает это автоматически. — вам не нужно беспокоиться о настройке инфраструктуры для масштабирования или высокой доступности. Корпорация Майкрософт обрабатывает все это за вас.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-225">You don't have to manage or patch the VMs used by the service; Microsoft does that for you automatically.- You don't have to worry about setting up infrastructure for scaling or high availability; Microsoft handles all that for you.</span></span>
- <span data-ttu-id="ee5f2-226">Вам не нужно покупать лицензии; плата за лицензии включается в сервисные платы.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-226">You don't have to buy licenses; license fees are included in the service fees.</span></span>
- <span data-ttu-id="ee5f2-227">Вы платите только за то, что используете.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-227">You only pay for what you use.</span></span>

<span data-ttu-id="ee5f2-228">Варианты хранения данных PaaS в Azure включают предложения от сторонних поставщиков.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-228">PaaS data storage options in Azure include offerings by third-party providers.</span></span> <span data-ttu-id="ee5f2-229">Например, можно выбрать [надстройку MongoLab](https://azure.microsoft.com/documentation/articles/store-mongolab-web-sites-dotnet-store-data-mongodb/) из магазина Azure для предоставления базы данных MongoDB в качестве службы.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-229">For example, you can choose the [MongoLab Add-On](https://azure.microsoft.com/documentation/articles/store-mongolab-web-sites-dotnet-store-data-mongodb/) from the Azure Store to provision a MongoDB database as a service.</span></span>

## <a name="choosing-a-data-storage-option"></a><span data-ttu-id="ee5f2-230">Выбор варианта хранения данных</span><span class="sxs-lookup"><span data-stu-id="ee5f2-230">Choosing a data storage option</span></span>

<span data-ttu-id="ee5f2-231">Ни один подход не подходит для всех сценариев.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-231">No one approach is right for all scenarios.</span></span> <span data-ttu-id="ee5f2-232">Если кто-то говорит, что эта технология является ответом, первое, что следует спросить, — «что такое вопрос?», поскольку различные решения оптимизированы для разных целей.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-232">If anyone says that this technology is the answer, the first thing to ask is "What is the question?", because different solutions are optimized for different things.</span></span> <span data-ttu-id="ee5f2-233">Реляционная модель имеет определенные преимущества; Вот почему это было так долго.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-233">There are definite advantages to the relational model; that's why it's been around for so long.</span></span> <span data-ttu-id="ee5f2-234">Но есть и другие стороны SQL, которые могут быть решены с помощью решения NoSQL.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-234">But there are also down-sides to SQL that can be addressed with a NoSQL solution.</span></span>

<span data-ttu-id="ee5f2-235">Часто мы видим, что лучше всего это составной подход, где вы используете SQL и NoSQL в одном решении.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-235">Often what we see work best is a compositional approach, where you use SQL and NoSQL in a single solution.</span></span> <span data-ttu-id="ee5f2-236">Даже если люди говорят, что они используют NoSQL, при детализации того, что они делают, часто встречаются несколько различных NoSQL платформ: они используют [CouchDB](http://wiki.apache.org/couchdb/Introduction), а [Redis](http://redis.io/)и [Риак](http://basho.com/riak/) для различных целей.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-236">Even when people say they're embracing NoSQL, if you drill into what they're doing you often find that they're using several different NoSQL frameworks: they're using [CouchDB](http://wiki.apache.org/couchdb/Introduction), and [Redis](http://redis.io/), and [Riak](http://basho.com/riak/) for different things.</span></span> <span data-ttu-id="ee5f2-237">Даже Facebook, в котором широко используется NoSQL, использует разные платформы NoSQL для разных частей службы.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-237">Even Facebook, which uses NoSQL extensively, uses different NoSQL frameworks for different parts of the service.</span></span> <span data-ttu-id="ee5f2-238">Гибкость, связанная с подходами к хранению данных, — это одна из вещей, которые отлично подходят для облака, так как в одном приложении можно легко использовать несколько решений для работы с данными и интегрировать их.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-238">The flexibility to mix and match data storage approaches is one of the things that's nice about the cloud, because it's easy to use multiple data solutions and integrate them in a single app.</span></span>

<span data-ttu-id="ee5f2-239">Ниже приведены некоторые вопросы, которые следует учесть при выборе подхода.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-239">Here are some questions to think about when you're choosing an approach:</span></span>

| <span data-ttu-id="ee5f2-240">Семантика данных</span><span class="sxs-lookup"><span data-stu-id="ee5f2-240">Data semantic</span></span> | <span data-ttu-id="ee5f2-241">— Какова основная семантика хранилища данных и доступа к данным (хранятся ли реляционные или неструктурированные данные)?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-241">- What is the core data storage and data access semantic (are you storing relational or unstructured data)?</span></span> <span data-ttu-id="ee5f2-242">Неструктурированные данные, такие как файлы мультимедиа, подходят для хранения BLOB-объектов; набор связанных данных, таких как продукты, запасы, поставщики, заказы клиентов и т. д., подходит для реляционной базы данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-242">Unstructured data such as media files fits best in blob storage; a collection of related data such as products, inventories, suppliers, customer orders, etc., fits best in a relational database.</span></span> |
| --- | --- |
| <span data-ttu-id="ee5f2-243">Поддержка запросов</span><span class="sxs-lookup"><span data-stu-id="ee5f2-243">Query support</span></span> | <span data-ttu-id="ee5f2-244">Как просто запрашивать данные?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-244">- How easy is it to query the data?</span></span> <span data-ttu-id="ee5f2-245">— Какие типы вопросов можно эффективно запрашивать?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-245">- What types of questions can be efficiently asked?</span></span> <span data-ttu-id="ee5f2-246">Хранилища данных "ключ — значение" очень хороши при получении одной строки с заданным ключевым значением, но не настолько хорошо для сложных запросов.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-246">Key/value data stores are very good at getting a single row given a key value but not so good for complex queries.</span></span> <span data-ttu-id="ee5f2-247">Для хранилища данных профиля пользователя, в котором вы всегда получаете данные для одного конкретного пользователя, хранилище данных "ключ — значение" может работать правильно. для каталога продуктов, в котором вы хотите получить различные группирования, основанные на различных атрибутах продукта, реляционная база данных может работать лучше.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-247">For a user profile data store where you are always getting the data for one particular user, a key/value data store could work well; for a product catalog where you want to get different groupings based on various product attributes a relational database might work better.</span></span> <span data-ttu-id="ee5f2-248">Базы данных NoSQL могут эффективно хранить большие объемы данных, но необходимо структурировать базу данных так, как приложение запрашивает данные, и это затрудняет выполнение нерегламентированных запросов.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-248">NoSQL databases can store large volumes of data efficiently, but you have to structure the database around how the app queries the data, and this makes ad hoc queries harder to do.</span></span> <span data-ttu-id="ee5f2-249">С помощью реляционной базы данных можно создавать запросы практически любого типа.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-249">With a relational database, you can build almost any kind of query.</span></span> |
| <span data-ttu-id="ee5f2-250">Функциональная проекция</span><span class="sxs-lookup"><span data-stu-id="ee5f2-250">Functional projection</span></span> | <span data-ttu-id="ee5f2-251">— Вопросы, агрегаты и т. д. могут выполняться на стороне сервера?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-251">- Can questions, aggregations, etc., be executed server-side?</span></span> <span data-ttu-id="ee5f2-252">Если я выполняю SELECT COUNT (\*) из таблицы в SQL, он очень эффективно выполняет всю работу на сервере и возвращает нужное число.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-252">If I run SELECT COUNT(\*) from a table in SQL, it will very efficiently do all the work on the server and return the number I'm looking for.</span></span> <span data-ttu-id="ee5f2-253">Если мне нужно то же вычисление из хранилища данных NoSQL, которое не поддерживает агрегирование, это неэффективный неограниченный запрос и, возможно, истечет время ожидания. Даже если запрос выполнен успешно, мне нужно получить все данные с сервера на клиент и подсчитать строки на клиенте.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-253">If I want the same calculation from a NoSQL data store that doesn't support aggregation, this is an inefficient "unbounded query" and will probably time out. Even if the query succeeds I have to retrieve all of the data from the server to the client and count the rows on the client.</span></span> <span data-ttu-id="ee5f2-254">-Какие языки и типы выражений можно использовать?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-254">- What languages or types of expressions can be used?</span></span> <span data-ttu-id="ee5f2-255">В реляционной базе данных я могу использовать SQL.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-255">With a relational database I can use SQL.</span></span> <span data-ttu-id="ee5f2-256">В некоторых базах данных NoSQL, таких как хранилище таблиц Azure, я буду использовать [OData](http://www.odata.org/), и все, что я могу сделать, — это фильтровать по первичному ключу и получать проекции (выберите подмножество доступных полей).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-256">With some NoSQL databases such as Azure Table storage, I'll be using [OData](http://www.odata.org/), and all I can do is filter on primary key and get projections (select a subset of the available fields).</span></span> |
| <span data-ttu-id="ee5f2-257">Простота масштабирования</span><span class="sxs-lookup"><span data-stu-id="ee5f2-257">Ease of scalability</span></span> | <span data-ttu-id="ee5f2-258">— Как часто и сколько необходимо масштабировать данные?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-258">- How often and how much will the data need to scale?</span></span> <span data-ttu-id="ee5f2-259">— Платформа изначально реализует горизонтальное масштабирование?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-259">- Does the platform natively implement scale-out?</span></span> <span data-ttu-id="ee5f2-260">Как просто добавить или удалить емкость (размер и пропускную способность)?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-260">- How easy is it to add/remove capacity (size and throughput)?</span></span> <span data-ttu-id="ee5f2-261">Реляционные базы данных и таблицы не разделяются автоматически, чтобы сделать их масштабируемыми, поэтому их сложно масштабировать, чем некоторые ограничения.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-261">Relational databases and tables aren't automatically partitioned to make them scalable, so they are difficult to scale beyond certain limitations.</span></span> <span data-ttu-id="ee5f2-262">NoSQL хранилища данных, такие как хранилище таблиц Azure, по сути секционированы все, и почти нет ограничений на добавление секций.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-262">NoSQL data stores like Azure Table storage inherently partition everything, and there is almost no limit to adding partitions.</span></span> <span data-ttu-id="ee5f2-263">Вы можете легко масштабировать хранилище таблиц размером до 200 терабайт, но максимальный размер базы данных SQL Azure составляет 500 ГБ.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-263">You can readily scale Table Storage up to 200 terabytes, but the maximum database size for Azure SQL Database is 500 gigabytes.</span></span> <span data-ttu-id="ee5f2-264">Реляционные данные можно масштабировать, разделяя их на несколько баз данных, но Настройка приложения для поддержки этой модели включает в себя множество программных работ.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-264">You can scale relational data by partitioning it into multiple databases, but setting up an application to support that model involves a lot of programming work.</span></span> |
| <span data-ttu-id="ee5f2-265">Инструментирование и управляемость</span><span class="sxs-lookup"><span data-stu-id="ee5f2-265">Instrumentation and Manageability</span></span> | <span data-ttu-id="ee5f2-266">Насколько проста платформа для инструментирования, мониторинга и управления?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-266">- How easy is the platform to instrument, monitor, and manage?</span></span> <span data-ttu-id="ee5f2-267">Вам нужно будет знать о работоспособности и производительности хранилища данных, чтобы вам было известно о том, какие метрики предоставляет платформа бесплатно и что необходимо для самостоятельной разработки.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-267">You will need to keep informed about the health and performance of your data store, so you need to know up front what metrics a platform gives you for free, and what you have to develop yourself.</span></span> |
| <span data-ttu-id="ee5f2-268">Операции</span><span class="sxs-lookup"><span data-stu-id="ee5f2-268">Operations</span></span> | <span data-ttu-id="ee5f2-269">Насколько проста платформа для развертывания и запуска в Azure?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-269">- How easy is the platform to deploy and run on Azure?</span></span> <span data-ttu-id="ee5f2-270">PaaS?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-270">PaaS?</span></span> <span data-ttu-id="ee5f2-271">IaaS?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-271">IaaS?</span></span> <span data-ttu-id="ee5f2-272">Linux?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-272">Linux?</span></span> <span data-ttu-id="ee5f2-273">Хранилище таблиц и база данных SQL легко настроить в Azure.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-273">Table Storage and SQL Database are easy to set up on Azure.</span></span> <span data-ttu-id="ee5f2-274">Платформы, которые не являются встроенными решениями Azure PaaS, нуждаются в дополнительных усилиях.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-274">Platforms that aren't built-in Azure PaaS solutions require more effort.</span></span> |
| <span data-ttu-id="ee5f2-275">Поддержка API</span><span class="sxs-lookup"><span data-stu-id="ee5f2-275">API Support</span></span> | <span data-ttu-id="ee5f2-276">— Это доступный API, который упрощает работу с платформой?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-276">- Is an API available that makes it easy to work with the platform?</span></span> <span data-ttu-id="ee5f2-277">Для службы таблиц Azure существует пакет SDK с API .NET, поддерживающий модель асинхронного программирования .NET 4,5.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-277">For the Azure Table Service there's an SDK with a .NET API that supports the .NET 4.5 asynchronous programming model.</span></span> <span data-ttu-id="ee5f2-278">При написании приложения .NET гораздо проще написать и протестировать код для службы таблиц Azure по сравнению с другой платформой хранилища данных "ключ-значение", не имеющей API или менее исчерпывающим.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-278">If you're writing a .NET app, it'll be much easier to write and test code for the Azure Table Service compared to another key/value column data store platform that has no API or a less comprehensive one.</span></span> |
| <span data-ttu-id="ee5f2-279">Целостность транзакций и согласованность данных</span><span class="sxs-lookup"><span data-stu-id="ee5f2-279">Transactional integrity and data consistency</span></span> | <span data-ttu-id="ee5f2-280">— Очень важно, что платформа поддерживает транзакции, чтобы обеспечить согласованность данных?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-280">- Is it critical that the platform support transactions in order to guarantee data consistency?</span></span> <span data-ttu-id="ee5f2-281">Для отслеживания объемов отправленных сообщений электронной почты производительность и низкая стоимость хранения данных могут быть более важными, чем автоматическая поддержка транзакций или ссылочной целостности в платформе данных, что делает службу таблиц Azure хорошим выбором.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-281">For keeping track of bulk emails sent, performance and low data storage cost might be more important than automatic support for transactions or referential integrity in the data platform, making the Azure Table Service a good choice.</span></span> <span data-ttu-id="ee5f2-282">Для отслеживания балансов банковского счета или заказов на покупку платформа реляционной базы данных, обеспечивающая надежные гарантии транзакций, будет лучшим выбором.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-282">For tracking bank account balances or purchase orders a relational database platform that provides strong transactional guarantees would be a better choice.</span></span> |
| <span data-ttu-id="ee5f2-283">Непрерывность бизнес-процессов</span><span class="sxs-lookup"><span data-stu-id="ee5f2-283">Business continuity</span></span> | <span data-ttu-id="ee5f2-284">Что такое простота резервного копирования, восстановления и аварийного восстановления?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-284">- How easy are backup, restore, and disaster recovery?</span></span> <span data-ttu-id="ee5f2-285">Более ранние или более поздние рабочие данные будут повреждены, и вам потребуется функция отмены.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-285">Sooner or later production data will get corrupted and you'll need an undo function.</span></span> <span data-ttu-id="ee5f2-286">Реляционные базы данных часто имеют более детализированные возможности восстановления, например возможность восстановления на момент времени.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-286">Relational databases often have more fine-grained restore capabilities, such as the ability to restore to a point in time.</span></span> <span data-ttu-id="ee5f2-287">Понимание возможностей восстановления, доступных на каждой рассматриваемой платформе, является важным фактором.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-287">Understanding what restore features are available in each platform you're considering is an important factor to consider.</span></span> |
| <span data-ttu-id="ee5f2-288">Стоимость</span><span class="sxs-lookup"><span data-stu-id="ee5f2-288">Cost</span></span> | <span data-ttu-id="ee5f2-289">— Если несколько платформ могут поддерживать рабочую нагрузку данных, как они сравниваются по затратам?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-289">- If more than one platform can support your data workload, how do they compare in cost?</span></span> <span data-ttu-id="ee5f2-290">Например, при использовании ASP.NET Identity можно хранить данные профиля пользователя в службе таблиц Azure или в базе данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-290">For example, if you use ASP.NET Identity, you can store user profile data in Azure Table Service or Azure SQL Database.</span></span> <span data-ttu-id="ee5f2-291">Если вам не нужны широкие возможности запросов к базе данных SQL, вы можете выбрать таблицы Azure в части, так как затраты на него гораздо меньше для определенного объема хранилища.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-291">If you don't need the rich querying facilities of SQL Database, you might choose Azure Tables in part because it costs much less for a given amount of storage.</span></span> |

<span data-ttu-id="ee5f2-292">Прежде чем выбирать решения для хранения данных, мы рекомендуем ознакомиться с ответами на вопросы в каждой из этих категорий.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-292">What we generally recommend is know the answer to the questions in each of these categories before you choose your data storage solutions.</span></span>

<span data-ttu-id="ee5f2-293">Кроме того, у вашей рабочей нагрузки могут быть особые требования, которые некоторые платформы могут поддерживать лучше, чем другие.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-293">In addition, your workload might have specific requirements that some platforms can support better than others.</span></span> <span data-ttu-id="ee5f2-294">Например:</span><span class="sxs-lookup"><span data-stu-id="ee5f2-294">For example:</span></span>

- <span data-ttu-id="ee5f2-295">Требуются ли приложению возможности аудита?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-295">Does your application require audit capabilities?</span></span>
- <span data-ttu-id="ee5f2-296">Каковы требования к долговременному объему данных — требуются ли вам возможности автоматической архивации или очистки?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-296">What are your data longevity requirements -- do you require automated archival or purging capabilities?</span></span>
- <span data-ttu-id="ee5f2-297">Требуются ли вам специализированные требования к безопасности?</span><span class="sxs-lookup"><span data-stu-id="ee5f2-297">Do you have specialized security needs?</span></span> <span data-ttu-id="ee5f2-298">Например, данные включают персональные данные (личные сведения), но необходимо убедиться, что PII исключены из результатов запроса.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-298">For example, the data includes PII (personally identifiable information) but you have to be able to make sure that PII is excluded from query results.</span></span>
- <span data-ttu-id="ee5f2-299">Если у вас есть данные, которые не могут храниться в облаке для нормативных или технологических причин, может потребоваться платформа облачного хранилища данных, которая упрощает интеграцию с локальным хранилищем.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-299">If you have some data that can't be stored in the cloud for regulatory or technological reasons, you might need a cloud data storage platform that facilitates integrating with your on-premises storage.</span></span>

## <a name="demo--using-sql-database-in-azure"></a><span data-ttu-id="ee5f2-300">Демонстрация: использование базы данных SQL в Azure</span><span class="sxs-lookup"><span data-stu-id="ee5f2-300">Demo – using SQL Database in Azure</span></span>

<span data-ttu-id="ee5f2-301">Приложение для устранения проблем использует реляционную базу данных для хранения задач.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-301">The Fix It app uses a relational database to store tasks.</span></span> <span data-ttu-id="ee5f2-302">Сценарий Windows PowerShell для создания среды, показанный в [главе Автоматизация всех](automate-everything.md) , создает два экземпляра базы данных SQL.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-302">The environment creation Windows PowerShell script shown in the [Automate Everything chapter](automate-everything.md) creates two SQL Database instances.</span></span> <span data-ttu-id="ee5f2-303">Их можно увидеть на портале, щелкнув вкладку **базы данных SQL** .</span><span class="sxs-lookup"><span data-stu-id="ee5f2-303">You can see these in the portal by clicking the **SQL Databases** tab.</span></span>

![Базы данных SQL на портале](data-storage-options/_static/image8.png)

<span data-ttu-id="ee5f2-305">Вы также можете легко создавать базы данных с помощью портала.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-305">It's also easy to create databases by using the portal.</span></span>

<span data-ttu-id="ee5f2-306">Щелкните **создать--службы данных** -- **базе данных SQL** -- **Быстрое создание**, введите имя базы данных, выберите сервер, который уже есть в вашей учетной записи, или создайте новый, а затем щелкните **создать базу данных SQL**.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-306">Click **New -- Data Services** -- **SQL Database** -- **Quick Create**, enter a database name, choose a server you already have in your account or create a new one, and click **Create SQL Database**.</span></span>

![Новая база данных SQL](data-storage-options/_static/image9.png)

<span data-ttu-id="ee5f2-308">Подождите несколько секунд, и вы получите базу данных в Azure, которая будет готова к использованию.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-308">Wait several seconds, and you have a database in Azure ready for you to use.</span></span>

![Создана новая база данных SQL](data-storage-options/_static/image10.png)

<span data-ttu-id="ee5f2-310">Так что Azure выполняет через несколько секунд, что может занять день или неделю или больше времени для выполнения в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-310">So Azure does in a few seconds what it may take you a day or a week or longer to accomplish in the on-premises environment.</span></span> <span data-ttu-id="ee5f2-311">И так как вы можете легко создавать базы данных автоматически в сценарии или с помощью API управления, можно динамически масштабировать их путем распространения данных между несколькими базами данных, если ваше приложение запрограммировано для этого.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-311">And since you can just as easily create databases automatically in a script or by using a management API, you can dynamically scale out by spreading your data across multiple databases, so long as your application has been programmed for that.</span></span>

<span data-ttu-id="ee5f2-312">Вот пример нашей модели "платформа как услуга".</span><span class="sxs-lookup"><span data-stu-id="ee5f2-312">This is an example of our Platform-as-a-Service model.</span></span> <span data-ttu-id="ee5f2-313">Управлять серверами не требуется, мы делаем их.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-313">You don't have to manage the servers, we do it.</span></span> <span data-ttu-id="ee5f2-314">Вам не нужно беспокоиться о резервных копиях.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-314">You don't have to worry about backups, we do it.</span></span> <span data-ttu-id="ee5f2-315">Он работает в высокой доступности — данные в базе данных реплицируются на три сервера автоматически.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-315">It's running in high availability – the data in the database is replicated across three servers automatically.</span></span> <span data-ttu-id="ee5f2-316">Если компьютер выходит из строя, автоматически выполняется отработка отказа, и данные не теряются.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-316">If a machine dies, we automatically fail over and you lose no data.</span></span> <span data-ttu-id="ee5f2-317">Сервер постоянно обновляется, вам не нужно беспокоиться об этом.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-317">The server is patched regularly, you don't need to worry about that.</span></span>

<span data-ttu-id="ee5f2-318">Нажмите кнопку, чтобы получить точную строку подключения и сразу же приступить к использованию новой базы данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-318">Click a button and you get the exact connection string you need and can immediately start using the new database.</span></span>

![Строки подключения](data-storage-options/_static/image11.png)

<span data-ttu-id="ee5f2-320">На панели мониторинга отображается журнал подключения и объем используемого хранилища.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-320">The Dashboard shows you connection history and amount of storage used.</span></span>

![Панель мониторинга базы данных SQL](data-storage-options/_static/image12.png)

<span data-ttu-id="ee5f2-322">Можно управлять базами данных на портале или с помощью SQL Server инструментов, с которыми вы уже знакомы, в том числе SQL Server Management Studio (SSMS) и Visual Studio Tools обозреватель объектов SQL Server (SSOX) и обозреватель сервера.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-322">You can manage databases in the portal or by using SQL Server tools you're already familiar with, including SQL Server Management Studio (SSMS) and the Visual Studio tools SQL Server Object Explorer (SSOX) and Server Explorer.</span></span>

![SSOX](data-storage-options/_static/image13.png)

<span data-ttu-id="ee5f2-324">Еще одна удобная вещь — модель ценообразования.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-324">Another nice thing is the pricing model.</span></span> <span data-ttu-id="ee5f2-325">Вы можете начать разработку с бесплатной базы данных по 20 МБ, а Рабочая база данных начнется примерно $5 в месяц.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-325">You can start development with a free 20 MB database, and a production database starts at about $5 per month.</span></span> <span data-ttu-id="ee5f2-326">Вы платите только за объем данных, которые фактически хранятся в базе данных, а не на максимальной емкости.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-326">You pay only for the amount of data you actually store in the database, not the maximum capacity.</span></span> <span data-ttu-id="ee5f2-327">Вам не нужно покупать лицензию.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-327">You don't have to buy a license.</span></span>

<span data-ttu-id="ee5f2-328">Базу данных SQL легко масштабировать.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-328">SQL Database is easy to scale.</span></span> <span data-ttu-id="ee5f2-329">Для приложения, предназначенного для решения проблемы, база данных, созданная в нашем сценарии автоматизации, ограничена 1 ГБ.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-329">For the Fix It app, the database we create in our automation script is capped at 1 gig.</span></span> <span data-ttu-id="ee5f2-330">Если вы хотите масштабировать его до 150 ГБ, можно просто перейти на портал и изменить этот параметр или выполнить REST APIную команду, а в секундах — базу данных 150, в которую можно развернуть данные.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-330">If you want to scale it up to 150 gig, you can just go into the portal and change that setting, or execute a REST API command, and in seconds you have a 150 gig database that you can deploy data into.</span></span>

![Выпуски и размеры базы данных SQL](data-storage-options/_static/image14.png)

<span data-ttu-id="ee5f2-332">Это сила облака, которая позволяет быстро и легко использовать инфраструктуру, и сразу же приступить к ее использованию.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-332">That's the power of the cloud to stand up infrastructure quickly and easily and start using it immediately.</span></span>

<span data-ttu-id="ee5f2-333">Приложение для устранения проблем использует две базы данных SQL: одну для членства (проверка подлинности и авторизация) и одну для данных, и это все, что нужно сделать для ее предоставления и масштабирования.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-333">The Fix It app uses two SQL databases, one for membership (authentication and authorization) and one for data, and this is all you have to do to provision it and scale it.</span></span> <span data-ttu-id="ee5f2-334">Вы ранее видели, как подготавливать базы данных с помощью сценариев Windows PowerShell, и теперь вы узнали, как легко сделать это на портале.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-334">You saw earlier how to provision the databases through Windows PowerShell scripts, and now you've also seen how easy it is to do in the portal.</span></span>

## <a name="entity-framework-versus-direct-database-access-using-adonet"></a><span data-ttu-id="ee5f2-335">Entity Framework и прямой доступ к базе данных с помощью ADO.NET</span><span class="sxs-lookup"><span data-stu-id="ee5f2-335">Entity Framework versus direct database access using ADO.NET</span></span>

<span data-ttu-id="ee5f2-336">Приложение для устранения проблем обращается к этим базам данных с помощью Entity Framework, рекомендуемого модуля ORM (объектно-реляционного модуля сопоставления) Майкрософт для приложений .NET.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-336">The Fix It app accesses these databases by using the Entity Framework, Microsoft's recommended ORM (object-relational mapper) for .NET applications.</span></span> <span data-ttu-id="ee5f2-337">ORM — это отличное средство, которое упрощает работу разработчиков, но производительность в некоторых сценариях обусловлена снижением производительности.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-337">An ORM is a great tool that facilitates developer productivity, but productivity comes at the expense of degraded performance in some scenarios.</span></span> <span data-ttu-id="ee5f2-338">В реальных облачных приложениях вы не будете выбирать между использованием EF или ADO.NET напрямую. Вы будете использовать оба этих компонента.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-338">In a real-world cloud app you won't be making a choice between using EF or using ADO.NET directly -- you'll use both.</span></span> <span data-ttu-id="ee5f2-339">В большинстве случаев при написании кода, который работает с базой данных, получение максимальной производительности не является критическим, и вы можете воспользоваться преимуществами упрощенного программирования и тестирования, которые вы получаете с Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-339">Most of the time when you're writing code that works with the database, getting maximum performance is not critical and you can take advantage of the simplified coding and testing that you get with the Entity Framework.</span></span> <span data-ttu-id="ee5f2-340">В ситуациях, когда накладные расходы EF приведут к неприемлемой производительности, вы можете писать и выполнять собственные запросы с помощью ADO.NET, в идеале, путем вызова хранимых процедур.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-340">In situations where the EF overhead would cause unacceptable performance, you can write and execute your own queries using ADO.NET, ideally by calling stored procedures.</span></span>

<span data-ttu-id="ee5f2-341">Независимо от того, какой метод используется для доступа к базе данных, вы хотите максимально увеличить «беседу».</span><span class="sxs-lookup"><span data-stu-id="ee5f2-341">Whatever method you use to access the database, you want to minimize "chattiness" as much as possible.</span></span> <span data-ttu-id="ee5f2-342">Иными словами, если можно получить все необходимые данные в одном крупном наборе результатов запроса, а не десятках или сотнях меньших, это обычно предпочтительно.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-342">In other words, if you can get all the data you need in one larger query result set rather than dozens or hundreds of smaller ones, that's usually preferable.</span></span> <span data-ttu-id="ee5f2-343">Например, если вам нужно перечислить учащихся и курсов, в которых они зарегистрированы, обычно лучше получить все данные в одном запросе на соединение, а не получать учащихся в одном запросе и выполнять отдельные запросы для курсов каждого учащегося.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-343">For example, if you need to list students and the courses they're enrolled in, it's usually better to get all of the data in one join query rather than getting the students in one query and executing separate queries for each student's courses.</span></span>

## <a name="sql-databases-and-the-entity-framework-in-the-fix-it-app"></a><span data-ttu-id="ee5f2-344">Базы данных SQL и Entity Framework в приложении Fix ИТ</span><span class="sxs-lookup"><span data-stu-id="ee5f2-344">SQL databases and the Entity Framework in the Fix It app</span></span>

<span data-ttu-id="ee5f2-345">В приложении Fix It класс `FixItContext`, производный от класса Entity Framework `DbContext`, определяет базу данных и указывает таблицы в базе данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-345">In the Fix It app the `FixItContext` class, which derives from the Entity Framework `DbContext` class, identifies the database and specifies the tables in the database.</span></span> <span data-ttu-id="ee5f2-346">Контекст задает набор сущностей (таблицу) для задач, а код передается в контекст в качестве имени строки подключения.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-346">The context specifies an entity set (table) for tasks, and the code passes in to the context the connection string name.</span></span> <span data-ttu-id="ee5f2-347">Это имя ссылается на строку подключения, определенную в файле Web. config.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-347">That name refers to a connection string that is defined in the Web.config file.</span></span>

[!code-csharp[Main](data-storage-options/samples/sample1.cs?highlight=4,8)]

<span data-ttu-id="ee5f2-348">Строка подключения в файле *Web. config* называется аппдб (здесь указывает на локальную базу данных разработки):</span><span class="sxs-lookup"><span data-stu-id="ee5f2-348">The connection string in the *Web.config* file is named appdb (here pointing to the local development database):</span></span>

[!code-xml[Main](data-storage-options/samples/sample2.xml?highlight=3)]

<span data-ttu-id="ee5f2-349">Entity Framework создает таблицу *фикситтаскс* на основе свойств, включенных в `FixItTask` класс сущностей.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-349">The Entity Framework creates a *FixItTasks* table based on the properties included in the `FixItTask` entity class.</span></span> <span data-ttu-id="ee5f2-350">Это простой класс POCO (простой старый объект CLR), который означает, что он не наследует от Entity Framework и не имеет никаких зависимостей от него.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-350">This is a simple POCO (Plain Old CLR Object) class, which means it doesn't inherit from or have any dependencies on the Entity Framework.</span></span> <span data-ttu-id="ee5f2-351">Но Entity Framework известно, как создать таблицу на ее основе и выполнить операции CRUD (Create-Read-Update-Delete).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-351">But Entity Framework knows how to create a table based on it and execute CRUD (create-read-update-delete) operations with it.</span></span>

[!code-csharp[Main](data-storage-options/samples/sample3.cs)]

![Таблица Фикситтаскс](data-storage-options/_static/image15.png)

<span data-ttu-id="ee5f2-353">Приложение для устранения проблем включает в себя интерфейс репозитория, который используется для операций CRUD, работающих с хранилищем данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-353">The Fix It app includes a repository interface that it uses for CRUD operations working with the data store.</span></span>

[!code-csharp[Main](data-storage-options/samples/sample4.cs)]

<span data-ttu-id="ee5f2-354">Обратите внимание, что методы репозитория выполняются асинхронно, поэтому доступ к данным можно выполнять полностью асинхронно.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-354">Notice that the repository methods are all async, so all data access can be done in a completely asynchronous way.</span></span>

<span data-ttu-id="ee5f2-355">Реализация репозитория вызывает Entity Framework асинхронные методы для работы с данными, включая запросы LINQ, а также операции вставки, обновления и удаления.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-355">The repository implementation calls Entity Framework async methods to work with the data, including LINQ queries as well as for insert, update, and delete operations.</span></span> <span data-ttu-id="ee5f2-356">Ниже приведен пример кода для поиска решения задачи ИТ.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-356">Here's an example of the code for looking up a Fix It task.</span></span>

[!code-csharp[Main](data-storage-options/samples/sample5.cs)]

<span data-ttu-id="ee5f2-357">Вы заметите, что здесь также есть несколько времени и кода регистрации ошибок. мы рассмотрим это позже в [главе мониторинг и телеметрии](monitoring-and-telemetry.md).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-357">You'll notice there's also some timing and error logging code here, we'll look at that later in the [Monitoring and Telemetry chapter](monitoring-and-telemetry.md).</span></span>

<a id="sqliaas"></a>
## <a name="choosing-sql-database-paas-versus-sql-server-in-a-vm-iaas-in-azure"></a><span data-ttu-id="ee5f2-358">Выбор базы данных SQL (PaaS) и SQL Server в виртуальной машине (IaaS) в Azure</span><span class="sxs-lookup"><span data-stu-id="ee5f2-358">Choosing SQL Database (PaaS) versus SQL Server in a VM (IaaS) in Azure</span></span>

<span data-ttu-id="ee5f2-359">Хорошая вещь о SQL Server и базе данных SQL Azure заключается в том, что основная модель программирования для обоих из них идентична.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-359">A nice thing about SQL Server and Azure SQL Database is that the core programming model for both of them is identical.</span></span> <span data-ttu-id="ee5f2-360">Большинство этих навыков можно использовать в обеих средах.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-360">You can use most of the same skills in both environments.</span></span> <span data-ttu-id="ee5f2-361">Вы даже можете использовать базу данных SQL Server в разработке и экземпляр базы данных SQL в облаке, что является настройкой приложения для исправления ИТ.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-361">You can even use a SQL Server database in development and a SQL Database instance in the cloud, which is how the Fix It app is set up.</span></span>

<span data-ttu-id="ee5f2-362">В качестве альтернативы можно запустить ту же SQL Server в облаке, которое выполняется в локальной среде, установив его на виртуальных машинах IaaS.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-362">As an alternative, you can run the same SQL Server in the cloud that you run on-premises by installing it on IaaS VMs.</span></span> <span data-ttu-id="ee5f2-363">Для некоторых устаревших приложений запуск SQL Server в виртуальной машине может быть лучшим решением.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-363">For some legacy applications, running SQL Server in a VM might be a better solution.</span></span> <span data-ttu-id="ee5f2-364">Так как база данных SQL Server работает на выделенной виртуальной машине, ей предоставляется больше ресурсов, чем база данных SQL, которая работает на общем сервере.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-364">Because a SQL Server database runs on a dedicated VM, it has more resources available to it than a SQL Database database that runs on a shared server.</span></span> <span data-ttu-id="ee5f2-365">Это означает, что база данных SQL Server может быть больше и работать хорошо.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-365">That means a SQL Server database can be larger and still perform well.</span></span> <span data-ttu-id="ee5f2-366">Как правило, чем меньше размер базы данных, ни размер таблицы, тем лучше вариант использования базы данных SQL (PaaS).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-366">In general, the smaller the database size and table size, the better the use case works for SQL Database (PaaS).</span></span>

<span data-ttu-id="ee5f2-367">Ниже приведены некоторые рекомендации по выбору между двумя моделями.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-367">Here are some guidelines on how to choose between the two models.</span></span>

| <span data-ttu-id="ee5f2-368">База данных SQL Azure (PaaS)</span><span class="sxs-lookup"><span data-stu-id="ee5f2-368">Azure SQL Database (PaaS)</span></span> | <span data-ttu-id="ee5f2-369">SQL Server на виртуальной машине (IaaS)</span><span class="sxs-lookup"><span data-stu-id="ee5f2-369">SQL Server in a Virtual Machine (IaaS)</span></span> |
| --- | --- |
| <span data-ttu-id="ee5f2-370">**Профессионалы** — вам не нужно создавать виртуальные машины, обновлять или изменять операционные системы или SQL, а также управлять ими. Azure делает это самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-370">**Pros** - You don't have to create or manage VMs, update or patch OS or SQL; Azure does that for you.</span></span> <span data-ttu-id="ee5f2-371">— Встроенная Высокая доступность с соглашением об уровне обслуживания уровня базы данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-371">- Built-in High Availability, with a database-level SLA.</span></span> <span data-ttu-id="ee5f2-372">— Низкая совокупная стоимость владения (TCO), так как вы платите только за то, что используете (не требуется лицензия).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-372">- Low total cost of ownership (TCO) because you pay only for what you use (no license required).</span></span> <span data-ttu-id="ee5f2-373">— Подходит для обработки большого количества небольших баз данных (&lt;= 500 ГБ).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-373">- Good for handling large numbers of smaller databases (&lt;=500 GB each).</span></span> <span data-ttu-id="ee5f2-374">— Упрощается динамическое создание новых баз данных для обеспечения горизонтального масштабирования.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-374">- Easy to dynamically create new databases to enable scale-out.</span></span> | <span data-ttu-id="ee5f2-375">Возможности, совместимые с локальными SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-375">***Pros*** - Feature-compatible with on-premises SQL Server.</span></span> <span data-ttu-id="ee5f2-376">— Может реализовать SQL Server [высокий уровень доступности с помощью AlwaysOn](https://www.microsoft.com/sqlserver/solutions-technologies/mission-critical-operations/high-availability.aspx) в 2 и более виртуальных машинах с соглашением об уровне обслуживания на уровне виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-376">- Can implement SQL Server [High Availability via AlwaysOn](https://www.microsoft.com/sqlserver/solutions-technologies/mission-critical-operations/high-availability.aspx) in 2+ VMs, with VM-level SLA.</span></span> <span data-ttu-id="ee5f2-377">— Вы полностью контролируете управление SQL.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-377">- You have complete control over how SQL is managed.</span></span> <span data-ttu-id="ee5f2-378">— Может повторно использовать уже имеющиеся лицензии SQL или платить за один час.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-378">- Can re-use SQL licenses you already own, or pay by the hour for one.</span></span> <span data-ttu-id="ee5f2-379">— Подходит для обработки меньшего числа баз данных, но более крупных (1 ТБ +).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-379">- Good for handling fewer but larger (1 TB+) databases.</span></span> |
| <span data-ttu-id="ee5f2-380">**Недостатки** . Некоторые функции пропуска по сравнению с локальными SQL Server (отсутствие [интеграции со средой CLR](https://technet.microsoft.com/library/ms131102.aspx), [TDE](https://technet.microsoft.com/library/bb934049.aspx), [Поддержка сжатия](https://technet.microsoft.com/library/cc280449.aspx), [SQL Server Reporting Services](https://technet.microsoft.com/library/ms159106.aspx)и т. д.) — ограничение размера базы данных 500 ГБ.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-380">**Cons** - Some feature gaps compared to on-premises SQL Server (lack of [CLR integration](https://technet.microsoft.com/library/ms131102.aspx), [TDE](https://technet.microsoft.com/library/bb934049.aspx), [compression support](https://technet.microsoft.com/library/cc280449.aspx), [SQL Server Reporting Services](https://technet.microsoft.com/library/ms159106.aspx), etc.) - Database size limit of 500GB.</span></span> | <span data-ttu-id="ee5f2-381">***Недостатки*** — обновления и исправления (операционная система и SQL) — это ваша обязанность — создание и управление баз данных — это ваша ответственность за число операций ввода-вывода на диск (в секунду), ограниченный около 8000 (через 16 дисков данных).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-381">***Cons*** - Updates/patches (OS and SQL) are your responsibility - Creation and management of DBs are your responsibility - Disk IOPS (input/output operations per second) limited to about 8000 (via 16 data drives).</span></span> |

<span data-ttu-id="ee5f2-382">Если вы хотите использовать SQL Server на виртуальной машине, можно использовать собственную лицензию SQL Server или оплатить ее за час.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-382">If you want to use SQL Server in a VM, you can use your own SQL Server license, or you can pay for one by the hour.</span></span> <span data-ttu-id="ee5f2-383">Например, на портале или с помощью REST API можно создать новую виртуальную машину с помощью SQL Server образа.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-383">For example, in the portal or via the REST API you can create a new VM using a SQL Server image.</span></span>

![Создание виртуальной машины с SQL Server](data-storage-options/_static/image16.png)

![Список SQL Server образов виртуальных машин](data-storage-options/_static/image17.png)

<span data-ttu-id="ee5f2-386">При создании виртуальной машины с SQL Server образом мы будем оценивать стоимость SQL Server лицензий на час на основе использования виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-386">When you create a VM with a SQL Server image, we pro-rate the SQL Server license cost by the hour based on your usage of the VM.</span></span> <span data-ttu-id="ee5f2-387">Если у вас есть проект, который будет работать только в течение нескольких месяцев, это дешевле, чем платить за час.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-387">If you have a project that's only going to run for a couple of months, it's cheaper to pay by the hour.</span></span> <span data-ttu-id="ee5f2-388">Если вы считаете, что проект будет работать в течение нескольких лет, дешевле приобретать лицензию в обычном порядке.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-388">If you think your project is going to last for years, it's cheaper to buy the license the way you normally do.</span></span>

## <a name="summary"></a><span data-ttu-id="ee5f2-389">Сводка</span><span class="sxs-lookup"><span data-stu-id="ee5f2-389">Summary</span></span>

<span data-ttu-id="ee5f2-390">Облачные вычисления позволяют эффективно смешивать и сопоставлять подходы к хранению данных в соответствии с потребностями вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-390">Cloud computing makes it practical to mix and match data storage approaches to best fit the needs of your application.</span></span> <span data-ttu-id="ee5f2-391">Если вы создаете новое приложение, тщательно продумайте указанные здесь вопросы, чтобы выбрать подходы, которые будут продолжать работать при расширении приложения.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-391">If you're building a new application, think carefully about the questions listed here in order to pick approaches that will continue to work well when your application grows.</span></span> <span data-ttu-id="ee5f2-392">В [следующей главе](data-partitioning-strategies.md) рассматриваются некоторые стратегии секционирования, которые можно использовать для объединения нескольких подходов к хранению данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-392">The [next chapter](data-partitioning-strategies.md) will explain some partitioning strategies that you can use to combine multiple data storage approaches.</span></span>

## <a name="resources"></a><span data-ttu-id="ee5f2-393">Ресурсы</span><span class="sxs-lookup"><span data-stu-id="ee5f2-393">Resources</span></span>

<span data-ttu-id="ee5f2-394">Дополнительные сведения см. в следующих ресурсах.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-394">For more information, see the following resources.</span></span>

<span data-ttu-id="ee5f2-395">Выбор платформы базы данных:</span><span class="sxs-lookup"><span data-stu-id="ee5f2-395">Choosing a database platform:</span></span>

- <span data-ttu-id="ee5f2-396">[Доступ к данным для масштабируемых решений: с использованием SQL, NoSQL и сохраняемости Polyglot](https://aka.ms/dag-doc).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-396">[Data Access for Highly-Scalable Solutions: Using SQL, NoSQL, and Polyglot Persistence](https://aka.ms/dag-doc).</span></span> <span data-ttu-id="ee5f2-397">Электронные книги, посвященные шаблонам и методикам Майкрософт, которые подробно рассматриваются в различных видах хранилищ данных, доступных для облачных приложений.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-397">E-book by Microsoft Patterns and Practices that goes in depth into the different kinds of data stores available for cloud applications.</span></span>
- <span data-ttu-id="ee5f2-398">[Шаблоны и методики Майкрософт. Руководство по Azure](https://msdn.microsoft.com/library/ff898430.aspx).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-398">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/ff898430.aspx).</span></span> <span data-ttu-id="ee5f2-399">См. статью Руководство по согласованности данных, репликация данных и синхронизация, шаблон таблицы индексов, шаблон материализованных представлений.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-399">See Data Consistency Primer, Data Replication and Synchronization Guidance, Index Table pattern, Materialized View pattern.</span></span>
- <span data-ttu-id="ee5f2-400">[Base — это альтернатива ACID](http://queue.acm.org/detail.cfm?id=1394128).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-400">[BASE: An Acid Alternative](http://queue.acm.org/detail.cfm?id=1394128).</span></span> <span data-ttu-id="ee5f2-401">Статья о компромиссах между согласованностью данных и масштабируемостью.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-401">Article about tradeoffs between data consistency and scalability.</span></span>
- <span data-ttu-id="ee5f2-402">[Семь баз данных за семь недель: руководство по современным базам данных и NoSQL перемещению](https://www.amazon.com/Seven-Databases-Weeks-Modern-Movement/dp/1934356921).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-402">[Seven Databases in Seven Weeks: A Guide to Modern Databases and the NoSQL Movement](https://www.amazon.com/Seven-Databases-Weeks-Modern-Movement/dp/1934356921).</span></span> <span data-ttu-id="ee5f2-403">Книга — Редмонд Redmond и Джим R. Уилсон (.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-403">Book by Eric Redmond and Jim R. Wilson.</span></span> <span data-ttu-id="ee5f2-404">Настоятельно рекомендуется для введения в диапазон доступных на сегодняшний день платформ хранения данных.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-404">Highly recommended for introducing yourself to the range of data storage platforms available today.</span></span>

<span data-ttu-id="ee5f2-405">Выбор между SQL Server и базой данных SQL:</span><span class="sxs-lookup"><span data-stu-id="ee5f2-405">Choosing between SQL Server and SQL Database:</span></span>

- <span data-ttu-id="ee5f2-406">[Руководство по предварительной версии Premium для базы данных SQL](https://msdn.microsoft.com/library/windowsazure/dn369873.aspx).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-406">[Premium Preview for SQL Database Guidance](https://msdn.microsoft.com/library/windowsazure/dn369873.aspx).</span></span> <span data-ttu-id="ee5f2-407">Введение в База данных SQL Premium и рекомендации по их выбору в выпусках SQL Server Web и Business.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-407">An introduction to SQL Database Premium, and guidance on when to choose it over the SQL Database Web and Business editions.</span></span>
- <span data-ttu-id="ee5f2-408">[Рекомендации и ограничения (база данных SQL Azure)](https://msdn.microsoft.com/library/windowsazure/ff394102.aspx).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-408">[Guidelines and Limitations (Azure SQL Database)](https://msdn.microsoft.com/library/windowsazure/ff394102.aspx).</span></span> <span data-ttu-id="ee5f2-409">Страница портала со ссылками на документацию по ограничениям базы данных SQL, включая ту, которая посвящена SQL Server функциям, которые не поддерживаются базой данных SQL.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-409">Portal page that links to documentation about limitations of SQL Database, including one that focuses on SQL Server features that SQL Database doesn't support.</span></span>
- <span data-ttu-id="ee5f2-410">[SQL Server на виртуальных машинах Azure](https://msdn.microsoft.com/library/windowsazure/jj823132.aspx).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-410">[SQL Server in Azure Virtual Machines](https://msdn.microsoft.com/library/windowsazure/jj823132.aspx).</span></span> <span data-ttu-id="ee5f2-411">Страница портала со ссылками на документацию по выполнению SQL Server в Azure.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-411">Portal page that links to documentation about running SQL Server in Azure.</span></span>
- <span data-ttu-id="ee5f2-412">[Скотт Гатри (объясняет базы данных SQL в Azure](https://azure.microsoft.com/documentation/videos/sql-in-azure-scottgu/).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-412">[Scott Guthrie explains SQL Databases in Azure](https://azure.microsoft.com/documentation/videos/sql-in-azure-scottgu/).</span></span> <span data-ttu-id="ee5f2-413">6-минутное видео введение в базу данных SQL от Скотта Гатри (.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-413">6-minute video introduction to SQL Database by Scott Guthrie.</span></span>
- <span data-ttu-id="ee5f2-414">[Шаблоны приложений и стратегии разработки для SQL Server на виртуальных машинах Azure](https://msdn.microsoft.com/library/windowsazure/dn574746.aspx).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-414">[Application Patterns and Development Strategies for SQL Server in Azure Virtual Machines](https://msdn.microsoft.com/library/windowsazure/dn574746.aspx).</span></span>

<span data-ttu-id="ee5f2-415">Использование Entity Framework и базы данных SQL в веб-приложении ASP.NET</span><span class="sxs-lookup"><span data-stu-id="ee5f2-415">Using Entity Framework and SQL Database in an ASP.NET Web app</span></span>

- <span data-ttu-id="ee5f2-416">[Начало работы с EF 6 с использованием MVC 5](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-416">[Getting Started with EF 6 using MVC 5](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md).</span></span> <span data-ttu-id="ee5f2-417">Серия учебных руководств из девяти частей, которые посвящены созданию приложения MVC, использующего EF, и развертыванию базы данных в Azure и базе данных SQL.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-417">Nine-part tutorial series that walks you through building an MVC app that uses EF and deploys the database to Azure and SQL Database.</span></span>
- <span data-ttu-id="ee5f2-418">[ASP.NET веб-развертывание с помощью Visual Studio](../../../../web-forms/overview/deployment/visual-studio-web-deployment/introduction.md).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-418">[ASP.NET Web Deployment using Visual Studio](../../../../web-forms/overview/deployment/visual-studio-web-deployment/introduction.md).</span></span> <span data-ttu-id="ee5f2-419">Серия руководств, посвященных 12 компонентам, с более подробными сведениями о развертывании базы данных с помощью EF Code First.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-419">Twelve-part tutorial series that goes into more depth about how to deploy a database by using EF Code First.</span></span>
- <span data-ttu-id="ee5f2-420">[Развертывание безопасного приложения ASP.NET MVC 5 с членством, OAuth и базой данных SQL на веб-сайте Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-app-membership-oauth-sql-database/).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-420">[Deploy a Secure ASP.NET MVC 5 app with Membership, OAuth, and SQL Database to an Azure Web Site](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-app-membership-oauth-sql-database/).</span></span> <span data-ttu-id="ee5f2-421">Пошаговое руководство, в котором описывается создание веб-приложения, использующего проверку подлинности, сохранение таблиц приложений в базе данных членства, изменение схемы базы данных и развертывание приложения в Azure.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-421">Step-by-step tutorial that walks you through creating a web app that uses authentication, stores application tables in the membership database, modifies the database schema, and deploys the app to Azure.</span></span>
- <span data-ttu-id="ee5f2-422">[Схема содержимого ASP.NET доступа к данным](https://go.microsoft.com/fwlink/p/?LinkId=282414).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-422">[ASP.NET Data Access Content Map](https://go.microsoft.com/fwlink/p/?LinkId=282414).</span></span> <span data-ttu-id="ee5f2-423">Ссылки на ресурсы для работы с EF и базой данных SQL.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-423">Links to resources for working with EF and SQL Database.</span></span>

<span data-ttu-id="ee5f2-424">Использование MongoDB в Azure:</span><span class="sxs-lookup"><span data-stu-id="ee5f2-424">Using MongoDB on Azure:</span></span>

- <span data-ttu-id="ee5f2-425">[MongoLab — MongoDB в Azure](http://msopentech.com/opentech-projects/mongolab-mongodb-on-windows-azure/).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-425">[MongoLab - MongoDB on Azure](http://msopentech.com/opentech-projects/mongolab-mongodb-on-windows-azure/).</span></span> <span data-ttu-id="ee5f2-426">Страница портала для документации по запуску MongoDB в Azure.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-426">Portal page for documentation about running MongoDB on Azure.</span></span>
- <span data-ttu-id="ee5f2-427">[Создайте веб-сайт Azure, который подключается к MongoDB, работающему на виртуальной машине в Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-store-data-mongodb-vm/).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-427">[Create an Azure web site that connects to MongoDB running on a virtual machine in Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-store-data-mongodb-vm/).</span></span> <span data-ttu-id="ee5f2-428">Пошаговое руководство, в котором показано, как использовать базу данных MongoDB в веб-приложении ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-428">Step-by-step tutorial that shows how to use a MongoDB database in an ASP.NET web application.</span></span>

<span data-ttu-id="ee5f2-429">HDInsight (Hadoop в Azure):</span><span class="sxs-lookup"><span data-stu-id="ee5f2-429">HDInsight (Hadoop on Azure):</span></span>

- <span data-ttu-id="ee5f2-430">[HDInsight](https://azure.microsoft.com/documentation/services/hdinsight/).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-430">[HDInsight](https://azure.microsoft.com/documentation/services/hdinsight/).</span></span> <span data-ttu-id="ee5f2-431">Документация по порталу HDInsight на веб-сайте [Azure](https://azure.microsoft.com/) .</span><span class="sxs-lookup"><span data-stu-id="ee5f2-431">Portal to HDInsight documentation on the [Azure](https://azure.microsoft.com/) website.</span></span>
- <span data-ttu-id="ee5f2-432">[Hadoop и HDInsight: большие данные в Azure](https://msdn.microsoft.com/magazine/dn385705.aspx).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-432">[Hadoop and HDInsight: Big Data in Azure](https://msdn.microsoft.com/magazine/dn385705.aspx).</span></span> <span data-ttu-id="ee5f2-433">Статья журнала MSDN Magazine, Бруно Теркали и Рикардо Виллалобос, посвященная Hadoop в Azure.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-433">MSDN Magazine article by Bruno Terkaly and Ricardo Villalobos, introducing Hadoop on Azure.</span></span>
- <span data-ttu-id="ee5f2-434">[Шаблоны и методики Майкрософт. Руководство по Azure](https://msdn.microsoft.com/library/dn568099.aspx).</span><span class="sxs-lookup"><span data-stu-id="ee5f2-434">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="ee5f2-435">См. шаблон MapReduce.</span><span class="sxs-lookup"><span data-stu-id="ee5f2-435">See MapReduce pattern.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ee5f2-436">[Назад](single-sign-on.md)
> [Вперед](data-partitioning-strategies.md)</span><span class="sxs-lookup"><span data-stu-id="ee5f2-436">[Previous](single-sign-on.md)
[Next](data-partitioning-strategies.md)</span></span>
