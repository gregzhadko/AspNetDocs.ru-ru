---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/transient-fault-handling
title: Обработка временных сбоев (создание облачных приложений в реальном мире с помощью Azure) | Документация Майкрософт
author: MikeWasson
description: Создание реальных облачных приложений с помощью электронной книги Azure основано на презентации, разработанной Скотт Гатри (. В нем объясняются 13 шаблонов и методик, которые могут...
ms.author: riande
ms.date: 11/03/2015
ms.assetid: 7ead83bc-c08c-4b26-8617-00e07292e35c
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/transient-fault-handling
msc.type: authoredcontent
ms.openlocfilehash: e798cb83cfb97db63fef6dc38c8f62804461d01b
ms.sourcegitcommit: 7709c0a091b8d55b7b33bad8849f7b66b23c3d72
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/19/2020
ms.locfileid: "77456859"
---
# <a name="transient-fault-handling-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="8b17b-104">Обработка временных сбоев (создание облачных приложений в реальном мире с помощью Azure)</span><span class="sxs-lookup"><span data-stu-id="8b17b-104">Transient Fault Handling (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="8b17b-105">[Майк Уоссон](https://github.com/MikeWasson), [Рик Андерсон (](https://twitter.com/RickAndMSFT), том [Dykstra)](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="8b17b-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://twitter.com/RickAndMSFT), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="8b17b-106">[Скачивание решения ИТ-проекта](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) или [Загрузка электронной книги](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="8b17b-106">[Download Fix It Project](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="8b17b-107">**Создание реальных облачных приложений с помощью** электронной книги Azure основано на презентации, разработанной Скотт Гатри (.</span><span class="sxs-lookup"><span data-stu-id="8b17b-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="8b17b-108">В нем объясняются 13 шаблонов и методик, которые могут помочь в успешной разработке веб-приложений для облака.</span><span class="sxs-lookup"><span data-stu-id="8b17b-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="8b17b-109">Сведения о электронной книге см. [в первой главе](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="8b17b-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>

<span data-ttu-id="8b17b-110">При проектировании реальных облачных приложений необходимо подумать о том, как управлять временными перерывами в работе служб.</span><span class="sxs-lookup"><span data-stu-id="8b17b-110">When you're designing a real world cloud app, one of the things you have to think about is how to handle temporary service interruptions.</span></span> <span data-ttu-id="8b17b-111">Эта проблема уникально важна в облачных приложениях, так как вы все зависит от сетевых подключений и внешних служб.</span><span class="sxs-lookup"><span data-stu-id="8b17b-111">This issue is uniquely important in cloud apps because you're so dependent on network connections and external services.</span></span> <span data-ttu-id="8b17b-112">Часто можно столкнуться с небольшими сбоями, которые обычно являются самовосстанавливающимися, и если вы не готовы к их обработке, они приведут к плохой работе ваших клиентов.</span><span class="sxs-lookup"><span data-stu-id="8b17b-112">You can frequently get little glitches that are typically self-healing, and if you aren't prepared to handle them intelligently, they'll result in a bad experience for your customers.</span></span>

## <a name="causes-of-transient-failures"></a><span data-ttu-id="8b17b-113">Причины временных сбоев</span><span class="sxs-lookup"><span data-stu-id="8b17b-113">Causes of transient failures</span></span>

<span data-ttu-id="8b17b-114">В облачной среде вы обнаружите, что неудачные и удаленные подключения к базе данных происходят периодически.</span><span class="sxs-lookup"><span data-stu-id="8b17b-114">In the cloud environment you'll find that failed and dropped database connections happen periodically.</span></span> <span data-ttu-id="8b17b-115">Это частично обусловлено тем, что вы используете больше подсистем балансировки нагрузки по сравнению с локальной средой, в которой веб-сервер и сервер базы данных имеют прямое физическое подключение.</span><span class="sxs-lookup"><span data-stu-id="8b17b-115">That's partly because you're going through more load balancers compared to the on-premises environment where your web server and database server have a direct physical connection.</span></span> <span data-ttu-id="8b17b-116">Кроме того, иногда, когда вы зависели от службы с несколькими клиентами, вы увидите, что вызовы службы будут медленнее или истекает, так как кто-то другой, кто использует эту службу, получит ее слишком много времени.</span><span class="sxs-lookup"><span data-stu-id="8b17b-116">Also, sometimes when you're dependent on a multi-tenant service you'll see calls to the service get slower or time out because someone else who uses the service is hitting it heavily.</span></span> <span data-ttu-id="8b17b-117">В других случаях может быть пользователь, который слишком часто обращается к службе, а служба намеренно регулирует количество подключений, чтобы предотвратить неблагоприятное воздействие на других клиентов службы.</span><span class="sxs-lookup"><span data-stu-id="8b17b-117">In other cases you might be the user who is hitting the service too frequently, and the service deliberately throttles you – denies connections – in order to prevent you from adversely affecting other tenants of the service.</span></span>

## <a name="use-smart-retryback-off-logic-to-mitigate-the-effect-of-transient-failures"></a><span data-ttu-id="8b17b-118">Используйте интеллектуальную логику повтора или возврата, чтобы уменьшить влияние временных сбоев.</span><span class="sxs-lookup"><span data-stu-id="8b17b-118">Use smart retry/back-off logic to mitigate the effect of transient failures</span></span>

<span data-ttu-id="8b17b-119">Вместо того чтобы создавать исключение и выводить сообщение о недоступности или ошибке клиенту, можно распознавать ошибки, которые обычно являются временными, и автоматически повторять операцию, которая привела к ошибке, в надеется, до тех пор пока вы будете успешными.</span><span class="sxs-lookup"><span data-stu-id="8b17b-119">Instead of throwing an exception and displaying a not available or error page to your customer, you can recognize errors that are typically transient, and automatically retry the operation that resulted in the error, in hopes that before long you'll be successful.</span></span> <span data-ttu-id="8b17b-120">В большинстве случаев операция будет успешно выполнена во время второй попытки, и вы сможете восстановиться после ошибки, если клиент не знал о том, что возникла проблема.</span><span class="sxs-lookup"><span data-stu-id="8b17b-120">Most of the time the operation will succeed on the second try, and you'll recover from the error without the customer ever having been aware that there was a problem.</span></span>

<span data-ttu-id="8b17b-121">Реализовать интеллектуальную логику повторов можно несколькими способами.</span><span class="sxs-lookup"><span data-stu-id="8b17b-121">There are several ways you can implement smart retry logic.</span></span>

- <span data-ttu-id="8b17b-122">Группа "шаблоны Майкрософт &amp; рекомендации" имеет [блок приложения для обработки временной ошибки](https://msdn.microsoft.com/library/dn440719(v=pandp.60).aspx) , который выполняет все действия, если вы используете ADO.NET для доступа к базе данных SQL (не с помощью Entity Framework).</span><span class="sxs-lookup"><span data-stu-id="8b17b-122">The Microsoft Patterns &amp; Practices group has a [Transient Fault Handling Application Block](https://msdn.microsoft.com/library/dn440719(v=pandp.60).aspx) that does everything for you if you're using ADO.NET for SQL Database access (not through Entity Framework).</span></span> <span data-ttu-id="8b17b-123">Вы просто устанавливаете политику для повторных попыток, сколько раз следует повторить запрос или команду, а также время ожидания между попытками — и заключение кода SQL в блок *using* .</span><span class="sxs-lookup"><span data-stu-id="8b17b-123">You just set a policy for retries – how many times to retry a query or command and how long to wait between tries – and wrap your SQL code in a *using* block.</span></span>

    [!code-csharp[Main](transient-fault-handling/samples/sample1.cs)]

    <span data-ttu-id="8b17b-124">ТФХ также поддерживает [Azure кэш роли](https://msdn.microsoft.com/library/windowsazure/dn386103.aspx) и [служебную шину](https://azure.microsoft.com/services/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="8b17b-124">TFH also supports [Azure In-Role Cache](https://msdn.microsoft.com/library/windowsazure/dn386103.aspx) and [Service Bus](https://azure.microsoft.com/services/service-bus/).</span></span>
- <span data-ttu-id="8b17b-125">При использовании Entity Framework обычно вы не работаете напрямую с соединениями SQL, поэтому вы не можете использовать эти шаблоны и методики, но Entity Framework 6 создает этот тип логики повторных попыток непосредственно в платформе.</span><span class="sxs-lookup"><span data-stu-id="8b17b-125">When you use the Entity Framework you typically aren't working directly with SQL connections, so you can't use this Patterns and Practices package, but Entity Framework 6 builds this kind of retry logic right into the framework.</span></span> <span data-ttu-id="8b17b-126">Аналогичным образом указывается стратегия повтора, а затем EF использует эту стратегию при каждом обращении к базе данных.</span><span class="sxs-lookup"><span data-stu-id="8b17b-126">In a similar way you specify the retry strategy, and then EF uses that strategy whenever it accesses the database.</span></span>

    <span data-ttu-id="8b17b-127">Чтобы использовать эту функцию в приложении Fix it, необходимо добавить класс, производный от *DbConfiguration* , и включить логику повторных попыток.</span><span class="sxs-lookup"><span data-stu-id="8b17b-127">To use this feature in the Fix It app, all we have to do is add a class that derives from *DbConfiguration* and turn on the retry logic.</span></span>

    [!code-csharp[Main](transient-fault-handling/samples/sample2.cs)]

    <span data-ttu-id="8b17b-128">Для исключений базы данных SQL, которые платформа определяет как обычно временные ошибки, код, приведенный в этом примере, сообщает EF о необходимости повторить операцию до 3 раз с экспоненциальной задержкой между повторными попытками и максимальной задержкой в 5 секунд.</span><span class="sxs-lookup"><span data-stu-id="8b17b-128">For SQL Database exceptions that the framework identifies as typically transient errors, the code shown instructs EF to retry the operation up to 3 times, with an exponential back-off delay between retries, and a maximum delay of 5 seconds.</span></span> <span data-ttu-id="8b17b-129">Экспоненциальное обратное выключение означает, что после каждой неудачной попытки она будет ожидать более длительный период времени, прежде чем повторить попытку.</span><span class="sxs-lookup"><span data-stu-id="8b17b-129">Exponential back-off means that after each failed retry it will wait for a longer period of time before trying again.</span></span> <span data-ttu-id="8b17b-130">Если три попытки в строке завершатся ошибкой, возникает исключение.</span><span class="sxs-lookup"><span data-stu-id="8b17b-130">If three tries in a row fail, it will throw an exception.</span></span> <span data-ttu-id="8b17b-131">В следующем разделе о механизме выключения цепи объясняется, почему требуется экспоненциальная откладывание и ограниченное число повторных попыток.</span><span class="sxs-lookup"><span data-stu-id="8b17b-131">The following section about circuit breakers explains why you want exponential back-off and a limited number of retries.</span></span>

    <span data-ttu-id="8b17b-132">При использовании службы хранилища Azure могут возникать аналогичные проблемы, так как ИТ-приложение для ИТ-приложений работает с большими двоичными объектами, а API клиента хранилища .NET уже реализует ту же логику.</span><span class="sxs-lookup"><span data-stu-id="8b17b-132">You can have similar issues when you're using the Azure Storage service, as the Fix It app does for Blobs, and the .NET storage client API already implements the same kind of logic.</span></span> <span data-ttu-id="8b17b-133">Вы просто указываете политику повтора или вам даже не нужно делать это, если вы довольны параметрами по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="8b17b-133">You just specify the retry policy, or you don't even have to do that if you're happy with the default settings.</span></span>

<a id="circuitbreakers"></a>
## <a name="circuit-breakers"></a><span data-ttu-id="8b17b-134">Выключатели цепи</span><span class="sxs-lookup"><span data-stu-id="8b17b-134">Circuit breakers</span></span>

<span data-ttu-id="8b17b-135">Существует несколько причин, по которым вы не хотите повторять попытку слишком долгое время:</span><span class="sxs-lookup"><span data-stu-id="8b17b-135">There are several reasons why you don't want to retry too many times over too long a period:</span></span>

- <span data-ttu-id="8b17b-136">Слишком много пользователей, которые постоянно пытаются выполнить невыполненные запросы, могут понизить работу других пользователей.</span><span class="sxs-lookup"><span data-stu-id="8b17b-136">Too many users persistently retrying failed requests might degrade other users' experience.</span></span> <span data-ttu-id="8b17b-137">Если миллионы людей выполняют несколько повторных запросов, можно привязать очереди диспетчеризации IIS и предотвратить обслуживание приложением запросов, которые в противном случае могли бы обработать успешно.</span><span class="sxs-lookup"><span data-stu-id="8b17b-137">If millions of people are all making repeated retry requests you could be tying up IIS dispatch queues and preventing your app from servicing requests that it otherwise could handle successfully.</span></span>
- <span data-ttu-id="8b17b-138">Если все пытаются повторить операцию из-за сбоя службы, в очереди может быть так много запросов о том, что служба перестанет работать, когда начнется ее восстановление.</span><span class="sxs-lookup"><span data-stu-id="8b17b-138">If everyone is retrying due to a service failure, there could be so many requests queued up that the service gets flooded when it starts to recover.</span></span>
- <span data-ttu-id="8b17b-139">Если ошибка вызвана регулированием и имеется окно времени, которое служба использует для регулирования, то при повторении повторных попыток можно переместить это окно и приступить к продолжению регулирования.</span><span class="sxs-lookup"><span data-stu-id="8b17b-139">If the error is due to throttling and there's a window of time the service uses for throttling, continued retries could move that window out and cause the throttling to continue.</span></span>
- <span data-ttu-id="8b17b-140">Возможно, пользователь ожидает отображения веб-страницы.</span><span class="sxs-lookup"><span data-stu-id="8b17b-140">You might have a user waiting for a web page to render.</span></span> <span data-ttu-id="8b17b-141">Слишком долго пользователи могут столкнуться с большим количеством неприятных попыток.</span><span class="sxs-lookup"><span data-stu-id="8b17b-141">Making people wait too long might be more annoying that relatively quickly advising them to try again later.</span></span>

<span data-ttu-id="8b17b-142">Экспоненциальное обратное отключение устраняет некоторые из этих проблем, ограничивая частоту повторных попыток, которые служба может получить из приложения.</span><span class="sxs-lookup"><span data-stu-id="8b17b-142">Exponential back-off addresses some of these issue by limiting the frequency of retries a service can get from your application.</span></span> <span data-ttu-id="8b17b-143">Но также *необходимо иметь автоматическое*выключение: это означает, что при определенных пороговых значениях повторная попытка приложения прекращается и выполняется какое-либо другое действие, например одно из следующих:</span><span class="sxs-lookup"><span data-stu-id="8b17b-143">But you also need to have *circuit breakers*: this means that at a certain retry threshold your app stops retrying and takes some other action, such as one of the following:</span></span>

- <span data-ttu-id="8b17b-144">Пользовательская резервная стратегия.</span><span class="sxs-lookup"><span data-stu-id="8b17b-144">Custom fallback.</span></span> <span data-ttu-id="8b17b-145">Если вы не можете получить стоимость акций от Reuters, возможно, ее можно получить из Bloomberg; или, если вы не можете получить данные из базы данных, возможно, их можно получить из кэша.</span><span class="sxs-lookup"><span data-stu-id="8b17b-145">If you can't get a stock price from Reuters, maybe you can get it from Bloomberg; or if you can't get data from the database, maybe you can get it from cache.</span></span>
- <span data-ttu-id="8b17b-146">Без ошибок.</span><span class="sxs-lookup"><span data-stu-id="8b17b-146">Fail silent.</span></span> <span data-ttu-id="8b17b-147">Если вы не все, что нужно из службы, — не все или ничего для вашего приложения, просто возвратите значение null, если не удается получить данные.</span><span class="sxs-lookup"><span data-stu-id="8b17b-147">If what you need from a service isn't all-or-nothing for your app, just return null when you can't get the data.</span></span> <span data-ttu-id="8b17b-148">Если отображается задача Fix it, а служба BLOB-объектов не отвечает, можно отобразить сведения о задаче без изображения.</span><span class="sxs-lookup"><span data-stu-id="8b17b-148">If you're displaying a Fix It task and the Blob service isn't responding, you could display the task details without the image.</span></span>
- <span data-ttu-id="8b17b-149">Быстрое завершение.</span><span class="sxs-lookup"><span data-stu-id="8b17b-149">Fail fast.</span></span> <span data-ttu-id="8b17b-150">Ошибка пользователя во избежание переполнения службы с помощью запросов повторных попыток, которые могут привести к нарушению работы службы для других пользователей или расширению окна регулирования.</span><span class="sxs-lookup"><span data-stu-id="8b17b-150">Error out the user to avoid flooding the service with retry requests which could cause service disruption for other users or extend a throttling window.</span></span> <span data-ttu-id="8b17b-151">Можно отобразить понятное сообщение "повторить попытку позже".</span><span class="sxs-lookup"><span data-stu-id="8b17b-151">You can display a friendly "try again later" message.</span></span>

<span data-ttu-id="8b17b-152">Не существует универсальной политики повтора.</span><span class="sxs-lookup"><span data-stu-id="8b17b-152">There is no one-size-fits-all retry policy.</span></span> <span data-ttu-id="8b17b-153">Вы можете повторить попытку больше времени и подождать в асинхронном фоновом рабочем процессе, чем в синхронном веб-приложении, где пользователь ожидает ответа.</span><span class="sxs-lookup"><span data-stu-id="8b17b-153">You can retry more times and wait longer in an asynchronous background worker process than you would in a synchronous web app where a user is waiting for a response.</span></span> <span data-ttu-id="8b17b-154">Между повторными попытками для службы реляционной базы данных можно подождать больше времени, чем для службы кэша.</span><span class="sxs-lookup"><span data-stu-id="8b17b-154">You can wait longer between retries for a relational database service than you would for a cache service.</span></span> <span data-ttu-id="8b17b-155">Ниже приведен пример рекомендуемых политик повторных попыток, которые помогут понять, как могут различаться числа.</span><span class="sxs-lookup"><span data-stu-id="8b17b-155">Here are some sample recommended retry policies to give you an idea of how the numbers might vary.</span></span> <span data-ttu-id="8b17b-156">("Быстрая первая" означает отсутствие задержки перед первой попыткой.</span><span class="sxs-lookup"><span data-stu-id="8b17b-156">("Fast First" means no delay before the first retry.</span></span>

![Примеры политик повтора](transient-fault-handling/_static/image1.png)

<span data-ttu-id="8b17b-158">Инструкции по использованию политики повтора базы данных SQL см. [в статье Устранение временных сбоев и ошибок подключения к базе данных SQL](https://azure.microsoft.com/documentation/articles/sql-database-connectivity-issues/).</span><span class="sxs-lookup"><span data-stu-id="8b17b-158">For SQL Database retry policy guidance, see [Troubleshoot transient faults and connection errors to SQL Database](https://azure.microsoft.com/documentation/articles/sql-database-connectivity-issues/).</span></span>

## <a name="summary"></a><span data-ttu-id="8b17b-159">Сводка</span><span class="sxs-lookup"><span data-stu-id="8b17b-159">Summary</span></span>

<span data-ttu-id="8b17b-160">Стратегия повтора и отката позволяет сделать временные ошибки невидимыми для клиента в большинстве случаев, и корпорация Майкрософт предоставляет платформы, которые можно использовать для того, чтобы сократить объем работ по реализации стратегии независимо от того, используете ли вы ADO.NET, Entity Framework или службу хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="8b17b-160">A retry/back-off strategy can help make temporary errors invisible to the customer most of the time, and Microsoft provides frameworks that you can use to minimize your work implementing a strategy whether you're using ADO.NET, Entity Framework, or the Azure Storage service.</span></span>

<span data-ttu-id="8b17b-161">В [следующей главе](distributed-caching.md)мы рассмотрим, как повысить производительность и надежность с помощью распределенного кэширования.</span><span class="sxs-lookup"><span data-stu-id="8b17b-161">In the [next chapter](distributed-caching.md), we'll look at how to improve performance and reliability by using distributed caching.</span></span>

## <a name="resources"></a><span data-ttu-id="8b17b-162">Ресурсы</span><span class="sxs-lookup"><span data-stu-id="8b17b-162">Resources</span></span>

<span data-ttu-id="8b17b-163">Дополнительные сведения см. в следующих источниках.</span><span class="sxs-lookup"><span data-stu-id="8b17b-163">For more information, see the following resources:</span></span>

<span data-ttu-id="8b17b-164">Документация</span><span class="sxs-lookup"><span data-stu-id="8b17b-164">Documentation</span></span>

- <span data-ttu-id="8b17b-165">Рекомендации [по проектированию крупномасштабных служб в облачных службах Azure](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx).</span><span class="sxs-lookup"><span data-stu-id="8b17b-165">[Best Practices for the Design of Large-Scale Services on Azure Cloud Services](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx).</span></span> <span data-ttu-id="8b17b-166">Технический документ, пометив SIMM и Майкл Сомасси.</span><span class="sxs-lookup"><span data-stu-id="8b17b-166">White paper by Mark Simms and Michael Thomassy.</span></span> <span data-ttu-id="8b17b-167">Как и в случае с отказоустойчивостью, вы переходите к дополнительным сведениям.</span><span class="sxs-lookup"><span data-stu-id="8b17b-167">Similar to the Failsafe series but goes into more how-to details.</span></span> <span data-ttu-id="8b17b-168">См. раздел телеметрии и диагностики.</span><span class="sxs-lookup"><span data-stu-id="8b17b-168">See the Telemetry and Diagnostics section.</span></span>
- <span data-ttu-id="8b17b-169">[Отказоустойчивость: руководство по устойчивым облачным архитектурам](https://msdn.microsoft.com/library/windowsazure/jj853352.aspx).</span><span class="sxs-lookup"><span data-stu-id="8b17b-169">[Failsafe: Guidance for Resilient Cloud Architectures](https://msdn.microsoft.com/library/windowsazure/jj853352.aspx).</span></span> <span data-ttu-id="8b17b-170">Технический документ, (Marc Меркури, Ульрих Хоманн и Эндрю Товнхилл.</span><span class="sxs-lookup"><span data-stu-id="8b17b-170">White paper by Marc Mercuri, Ulrich Homann, and Andrew Townhill.</span></span> <span data-ttu-id="8b17b-171">Версия веб-страницы серии видеоматериалов по отказоустойчивости.</span><span class="sxs-lookup"><span data-stu-id="8b17b-171">Web page version of the FailSafe video series.</span></span>
- <span data-ttu-id="8b17b-172">[Шаблоны и методики Майкрософт. Руководство по Azure](https://msdn.microsoft.com/library/dn568099.aspx).</span><span class="sxs-lookup"><span data-stu-id="8b17b-172">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="8b17b-173">См. раздел шаблон повторной попытки, шаблон супервизора агента планировщика.</span><span class="sxs-lookup"><span data-stu-id="8b17b-173">See Retry pattern, Scheduler Agent Supervisor pattern.</span></span>
- <span data-ttu-id="8b17b-174">Отказоустойчивость [в базе данных SQL Azure](https://blogs.msdn.com/b/windowsazure/archive/2012/07/30/fault-tolerance-in-windows-azure-sql-database.aspx).</span><span class="sxs-lookup"><span data-stu-id="8b17b-174">[Fault-tolerance in Azure SQL Database](https://blogs.msdn.com/b/windowsazure/archive/2012/07/30/fault-tolerance-in-windows-azure-sql-database.aspx).</span></span> <span data-ttu-id="8b17b-175">Запись блога с помощью Тони Петросян.</span><span class="sxs-lookup"><span data-stu-id="8b17b-175">Blog post by Tony Petrossian.</span></span>
- <span data-ttu-id="8b17b-176">[Алгоритм устойчивости или повторной попытки подключения Entity Framework](https://msdn.microsoft.com/data/dn456835).</span><span class="sxs-lookup"><span data-stu-id="8b17b-176">[Entity Framework - Connection Resiliency / Retry Logic](https://msdn.microsoft.com/data/dn456835).</span></span> <span data-ttu-id="8b17b-177">Как использовать и настраивать функцию обработки временных сбоев Entity Framework 6.</span><span class="sxs-lookup"><span data-stu-id="8b17b-177">How to use and customize the transient fault handling feature of Entity Framework 6.</span></span>
- <span data-ttu-id="8b17b-178">[Устойчивость подключений и перехват команд с помощью Entity Framework в приложении ASP.NET MVC](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application.md).</span><span class="sxs-lookup"><span data-stu-id="8b17b-178">[Connection Resiliency and Command Interception with the Entity Framework in an ASP.NET MVC Application](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application.md).</span></span> <span data-ttu-id="8b17b-179">В четвертой серии руководств из девяти частей показано, как настроить функцию устойчивости подключения EF 6 для базы данных SQL.</span><span class="sxs-lookup"><span data-stu-id="8b17b-179">Fourth in a nine-part tutorial series, shows how to set up the EF 6 connection resilience feature for SQL Database.</span></span>

<span data-ttu-id="8b17b-180">Видео</span><span class="sxs-lookup"><span data-stu-id="8b17b-180">Videos</span></span>

- <span data-ttu-id="8b17b-181">[Отказоустойчивость: создание масштабируемых отказоустойчивых облачных служб](https://channel9.msdn.com/Series/FailSafe).</span><span class="sxs-lookup"><span data-stu-id="8b17b-181">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="8b17b-182">Серия из девяти частей, Ульрих Хоманн, (Marc Меркури и пометить SIMM.</span><span class="sxs-lookup"><span data-stu-id="8b17b-182">Nine-part series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="8b17b-183">Предоставляет основные понятия и архитектурные принципы в очень удобном и интересном смысле, а также истории, полученные от работы группы консультирования клиентов Майкрософт (CAT) с реальными клиентами.</span><span class="sxs-lookup"><span data-stu-id="8b17b-183">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="8b17b-184">См. обсуждение автоматических выключателей в серии 3, начиная с 40:55.</span><span class="sxs-lookup"><span data-stu-id="8b17b-184">See the discussion of circuit breakers in episode 3 starting at 40:55.</span></span>
- <span data-ttu-id="8b17b-185">[Создание больших: уроки, полученные от клиентов Azure, часть II](https://channel9.msdn.com/Events/Build/2012/3-030).</span><span class="sxs-lookup"><span data-stu-id="8b17b-185">[Building Big: Lessons learned from Azure customers - Part II](https://channel9.msdn.com/Events/Build/2012/3-030).</span></span> <span data-ttu-id="8b17b-186">Марк SIMM рассказывает о проектировании для сбоев, обработке временных сбоев и инструментировании всех.</span><span class="sxs-lookup"><span data-stu-id="8b17b-186">Mark Simms talks about designing for failure, transient fault handling, and instrumenting everything.</span></span>

<span data-ttu-id="8b17b-187">Образец кода</span><span class="sxs-lookup"><span data-stu-id="8b17b-187">Code sample</span></span>

- <span data-ttu-id="8b17b-188">[Основы облачной службы в Azure](https://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649).</span><span class="sxs-lookup"><span data-stu-id="8b17b-188">[Cloud Service Fundamentals in Azure](https://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649).</span></span> <span data-ttu-id="8b17b-189">Пример приложения, созданный группой консультирования клиентов Microsoft Azure, который демонстрирует использование [блока обработки временной ошибки Enterprise Library](http://nuget.org/packages/EnterpriseLibrary.TransientFaultHandling/) (тфх).</span><span class="sxs-lookup"><span data-stu-id="8b17b-189">Sample application created by the Microsoft Azure Customer Advisory Team that demonstrates how to use the [Enterprise Library Transient Fault Handling Block](http://nuget.org/packages/EnterpriseLibrary.TransientFaultHandling/) (TFH).</span></span> <span data-ttu-id="8b17b-190">Для получения дополнительных сведений обратитесь к разделу [Основы облачной службы. Уровень доступа к данным: обработка временных ошибок](https://social.technet.microsoft.com/wiki/contents/articles/18665.cloud-service-fundamentals-data-access-layer-transient-fault-handling.aspx).</span><span class="sxs-lookup"><span data-stu-id="8b17b-190">For more information, see [Cloud Service Fundamentals Data Access Layer – Transient Fault Handling](https://social.technet.microsoft.com/wiki/contents/articles/18665.cloud-service-fundamentals-data-access-layer-transient-fault-handling.aspx).</span></span> <span data-ttu-id="8b17b-191">ТФХ рекомендуется использовать для доступа к базе данных непосредственно с помощью ADO.NET (без использования Entity Framework).</span><span class="sxs-lookup"><span data-stu-id="8b17b-191">TFH is recommended for database access using ADO.NET directly (without using Entity Framework).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="8b17b-192">[Назад](monitoring-and-telemetry.md)
> [Вперед](distributed-caching.md)</span><span class="sxs-lookup"><span data-stu-id="8b17b-192">[Previous](monitoring-and-telemetry.md)
[Next](distributed-caching.md)</span></span>
