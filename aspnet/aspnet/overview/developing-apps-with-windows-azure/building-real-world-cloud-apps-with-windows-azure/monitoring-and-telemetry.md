---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/monitoring-and-telemetry
title: Мониторинг и Телеметрия (Создание реальных облачных приложений в Azure) | Документация Майкрософт
author: MikeWasson
description: Создание реальных облачных приложений в условиях электронная книга основана на презентацию, разработанная Скоттом Гатри. Здесь объясняется, 13 шаблонов и практических рекомендаций, которые он может...
ms.author: riande
ms.date: 07/09/2015
ms.assetid: 7e986ab5-6615-4638-add7-4614ce7b51db
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/monitoring-and-telemetry
msc.type: authoredcontent
ms.openlocfilehash: 2fc8f6cdefe1e940f3e3eafc2b9acc9144690284
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/06/2019
ms.locfileid: "65118734"
---
# <a name="monitoring-and-telemetry-building-real-world-cloud-apps-with-azure"></a>Мониторинг и Телеметрия (Создание реальных облачных приложений в Azure)

по [Майк Уоссон](https://github.com/MikeWasson), [Рик Андерсон]((https://twitter.com/RickAndMSFT)), [том Дайкстра](https://github.com/tdykstra)

[Загрузить решение проект](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) или [скачайте электронную книгу](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)

> **Создание реальных облачных приложений в условиях Azure** электронная книга основана на презентацию, разработанная Скоттом Гатри. Здесь объясняется 13 шаблоны и рекомендации, которые помогут вам быть в успешном развертывании веб-приложений для облака. Сведения о книге, см. в разделе [первой главы](introduction.md).

Многие используют клиентам сообщите им, при их приложение не работает. Это не рекомендуется в любом месте и в особенности не в облаке. Нет никакой гарантии быстрого уведомлений и когда вы получили уведомление, вы часто получение минимальным или вводит в заблуждение данные о что произошло. С хорошей системе телеметрии и журналирования вы всегда будете в курсе того, что происходит с вашим приложением и в случае, когда что-нибудь пойти не так, вы сразу узнаете и полезные сведения об устранении неполадок для работы с.

## <a name="buy-or-rent-a-telemetry-solution"></a>Приобрести или арендовать решение телеметрии

> [!NOTE]
> В этой статье написан до появления [Application Insights](/azure/application-insights/app-insights-overview) был выпущен. Application Insights подход является предпочтительным для телеметрии решений в Azure. См. в разделе [Настройка Application Insights для веб-сайта ASP.NET](/azure/application-insights/app-insights-asp-net) Дополнительные сведения.

Среди прочего, огромное преимущество в облачную среду — это очень просто купить или сдавать в аренду позволяет победе. Данные телеметрии приведен пример. Без особых усилий можно получить системы действительно хорошей системе телеметрии и работает, очень экономично. Существует также множество отличных партнеров, которые интегрируются с Azure, а некоторые из них имеют бесплатные уровни — Чтобы получить основные данные телеметрии для ничего. Ниже приведены лишь некоторые из тех, которые в настоящее время в Azure.

- [New Relic](http://newrelic.com/)
- [AppDynamics](http://www.appdynamics.com/)
- [DynaTrace](https://datamarket.azure.com/application/b4011de2-1212-4375-9211-e882766121ff)

[Microsoft System Center](http://www.petri.co.il/microsoft-system-center-introduction.htm#) также включает функции мониторинга.

Мы рассмотрим быстро Настройка New Relic, чтобы показать, как легко можно использовать систему телеметрии.

На портале управления Azure Зарегистрируйтесь для службы. Нажмите кнопку **New**, а затем нажмите кнопку **Store**. **Выберите надстройку** откроется диалоговое окно. Прокрутите вниз и выберите **New Relic**.

![Выберите надстройку](monitoring-and-telemetry/_static/image1.png)

Щелкните стрелку вправо и выберите нужный уровень служб. Для этого демонстрационного проекта мы будем использовать уровень "бесплатный".

![Настройка надстройки](monitoring-and-telemetry/_static/image2.png)

Щелкните стрелку вправо и подтвердите «приобрести» New Relic отображается как дополнительный компонент на портале.

![Просмотреть приобретение](monitoring-and-telemetry/_static/image3.png)

![Новый дополнительный компонент Relic на портале управления](monitoring-and-telemetry/_static/image4.png)

Нажмите кнопку **сведения о подключении**и скопируйте лицензионный ключ.

![Сведения о подключении](monitoring-and-telemetry/_static/image5.png)

Перейдите к **Настройка** вкладке для набора веб-приложения на портале **наблюдения за производительностью** для **надстройки**и задайте **выберите надстройку** Выберите в раскрывающемся списке, чтобы **New Relic**. Нажмите кнопку **Сохранить**.

![New Relic на вкладке "Настройка"](monitoring-and-telemetry/_static/image6.png)

В Visual Studio установите пакет New Relic NuGet в вашем приложении.

![Аналитические средства для разработчиков на вкладке "Настройка"](monitoring-and-telemetry/_static/image7.png)

Развертывание приложения в Azure и приступить к его использованию. Создайте несколько Fix It задачи предоставляют некоторые действия для New Relic для мониторинга.

Затем вернитесь к **New Relic** странице в **надстройки** вкладка на портале и щелкните **управление**. Портал отправляет на портале управления New Relic, использование единого входа для проверки подлинности, поэтому не нужно будет вводить свои учетные данные повторно. На странице обзора представляет различные статистики производительности. (Щелкните изображение, см. в разделе Обзор полный размер страницы).

[![Новая вкладка мониторинга Relic](monitoring-and-telemetry/_static/image9.png)](monitoring-and-telemetry/_static/image8.png)

Ниже приведены лишь некоторые из статистические данные, которые можно увидеть.

- Среднее время отклика в разное время суток.

    ![время ответа;](monitoring-and-telemetry/_static/image10.png)
- Пропускная способность (в запросов в минуту) в разное время суток.

    ![Пропускная способность](monitoring-and-telemetry/_static/image11.png)
- Сервер времени ЦП, затраченное на обработку различных HTTP-запросов.

    ![Время ожидания веб-транзакция](monitoring-and-telemetry/_static/image12.png)
- Время ЦП, затраченное в различных частях кода приложения:

    ![Сведения трассировки](monitoring-and-telemetry/_static/image13.png)
- Статистика историю изменений производительности.

    ![Историю изменений производительности](monitoring-and-telemetry/_static/image14.png)
- Вызовы к внешним службам, например службы BLOB-объектов и статистические данные о том, как надежные и быстрые служба получила.

    ![Внешние службы](monitoring-and-telemetry/_static/image15.png)

    ![Внешние службы](monitoring-and-telemetry/_static/image16.png)

    ![Внешние службы](monitoring-and-telemetry/_static/image17.png)
- Сведения о том, где в мире или в веб-приложении США трафик происхождения.

    ![Geography](monitoring-and-telemetry/_static/image18.png)

Можно также настроить отчеты и события. Например можно сказать, при каждом запуске отображаются ошибки, отправить сообщение электронной почты сотрудникам службы поддержки оповещения проблему.

![Отчеты](monitoring-and-telemetry/_static/image19.png)

New Relic — лишь один пример данных телеметрии системы; все это можно получить из других служб, а также. Преимуществом облака является то, что без необходимости написания кода, а также для минимальной или без затрат, внезапно можно получить гораздо больше информации об использовании приложения, и что заказчикам фактически возникли.

<a id="log"></a>
## <a name="log-for-insight"></a>Ведение журналов для анализа

Данные телеметрии пакета является первым шагом, но вам по-прежнему нужно инструментировать собственный код. Служба телеметрии покажет, когда возникла проблема и сообщает, что пользователи сталкиваются, но он может не позволяют гибко понимания происходящего в коде.

Вы не хотите требуется удаленное подключение рабочего сервера, чтобы увидеть, что делает ваше приложение. Если у вас есть один сервер, но что делать в том случае, если при масштабировании до нескольких сотен серверов, и вы не знаете, какие из них необходимо удаленное подключение, который может быть практические? Ведение журнала должны получить достаточно информации, который больше не придется удаленное подключение рабочих серверов для анализа и отладки проблем. Следует выполнять вход достаточно информации, чтобы можно было изолировать проблемы исключительно в журналах.

### <a name="log-in-production"></a>Войдите в рабочую среду

Многие включить трассировку в рабочей среде, только в том случае, когда возникла проблема, и ему нужны для отладки. Это может привести к значительной задержкой между временем, как вы о проблеме и время, вы получаете ценные диагностические данные о нем. И сведения, которые вы получаете не могут быть полезны для периодически возникающие ошибки.

Мы рекомендуем в облачной среде, где хранилища не требует больших затрат — всегда оставлять вход в рабочей среде. Таким образом, при возникновении ошибки, у вас уже есть их в журнал, и у вас есть исторические данные, которые могут помочь проанализировать проблемы, которые со временем разработки или происходит регулярно в разное время. Автоматизировать процесс очистки, который требуется удалить старые журналы можно, но может оказаться, что это дороже, для настройки таких процессов, а не для хранения журналов.

Дополнительную нагрузку ведения журнала является тривиальной задачей по сравнению с объемом устранения неполадок времени и денег, которую можно сохранить, если все сведения, необходимые уже доступен в случае возникновения проблем. Затем при кто-нибудь о том, у него есть произвольные ошибки приходится около 8:00 вечером, но они не помните ошибки, чтобы легко узнать чем заключалась проблема.

Для менее $4 месяца, в который можно хранить 50 ГБ журналов стороны и влияние на производительность ведения журнала является тривиальным до тех пор, пока хранить одну вещь — Чтобы избежать проблем с производительностью, убедитесь, что библиотека ведения журнала является асинхронным.

### <a name="differentiate-logs-that-inform-from-logs-that-require-action"></a>Различения журналы, которые сообщают журналы, которые требуют вмешательства

Журналы предназначены для СООБЩИТЬ (я бы хотел, чтобы знать, что-то) или ACT (я бы хотел, чтобы сделать что-нибудь). Следите за тем, только на запись журналов ACT, соответственно уменьшенным резервом, требующих человек или автоматизированный процесс, для выполнения действий. Слишком много журналов ACT создаст шума, требуя чрезмерных усилий в поисках все это для поиска genuine проблем. И если ACT журналов автоматически активировать определенное действие, например, отправку электронной почты для персонала службы поддержки, не позволяя тысяч подобные действия будет вызвано одной проблемой.

В .NET System.Diagnostics трассировки, журналы можно назначить уровень ошибки, предупреждения, информация и отладки/Verbose. ACT можно отличить от журналов СООБЩИТЬ резервирование уровень ошибки для журналов ACT и используя более низких уровнях для журналов СООБЩИТЬ.

![Уровни ведения журнала](monitoring-and-telemetry/_static/image20.png)

### <a name="configure-logging-levels-at-run-time"></a>Настройка уровней ведения журнала во время выполнения

Хотя стоит иметь вход всегда в рабочей среде, также рекомендуется реализовать платформу ведения журналов, можно настроить во время выполнения на уровне детализации, вы выполняете вход, без повторного развертывания или повторного запуска приложения. Например, при использовании средством трассировки в `System.Diagnostics` можно создать ошибку, предупреждение, сведения, а также журналы отладки/Verbose. Мы рекомендуем всегда входа ошибка, предупреждение, и сведения журналов в рабочей среде необходимо иметь возможность динамически добавлять ведение журнала отладки/Verbose для устранения неполадок на основе конкретного случая.

Веб-приложений в службе приложений Azure имеют встроенную поддержку написания `System.Diagnostics` журналы в файловую систему, хранилище таблиц или хранилище BLOB-объектов. Можно выбрать уровни ведения журнала для каждого назначения хранилища, и можно изменить уровень ведения журнала на лету без перезапуска приложения. Поддержка хранилища BLOB-объектов позволяет легко запускать [HDInsight](https://docs.microsoft.com/azure/hdinsight/) анализа работы с вашими журналами приложений, поскольку HDInsight умеет работать непосредственно с хранилище BLOB-объектов.

### <a name="log-exceptions"></a>Запись исключений в журнал

Не помещайте *исключение. ToString()* в код ведения журнала. Контекстные сведения, пропущен. В случае ошибки SQL он пропущен номер ошибки SQL. Для всех исключений включают сведения о контексте, исключений и чтобы убедиться в том, что вы предоставляете все внутренние исключения, которые потребуются для устранения неполадок. Например контекстные сведения могут содержать имя сервера, идентификатор транзакции и имя пользователя (но не пароль или все секреты!).

Если вы используете каждый разработчик должен идти в верном с исключением ведения журнала, некоторые из них не будет. Чтобы убедиться, что это будет сделано вправо так каждый раз, построения, обрабатывающего прямо в интерфейсе средства ведения журнала: передать объект исключения в класс logger и журнал данные исключения должным образом в классе logger.

### <a name="log-calls-to-services"></a>Журнал вызовов служб

Мы настоятельно рекомендуем, что при создании журнала каждый раз, чтобы приложение вызовет службу, будь то в базу данных или REST API или любой внешней службы. В журналах включают не только значение, указывающее успех или сбой, но сколько времени заняло каждого запроса. В облачной среде вы увидите часто проблемы, связанные с замедлений, а не полный простоев. То, что обычно занимает 10 миллисекунд может внезапно начинайте секунды. Когда кто-нибудь о том, что приложение работает медленно, вы хотите иметь возможность просматривать в New Relic или любой службе телеметрии, у вас и проверить их работу, а затем хотите иметь возможность просматривать являются собственные журналы углубиться в подробности того, почему это медленно.

### <a name="use-an-ilogger-interface"></a>Используйте интерфейс ILogger

Мы рекомендуем делать при создании рабочего приложения является создание простой *ILogger* интерфейс и придерживайтесь некоторые методы в нем. Это позволяет легко изменить реализацию ведения журналов в более поздней версии и не нужно проходить весь код, чтобы сделать это. Мы, возможно, использует `System.Diagnostics.Trace` класса в приложении Fix It, но вместо этого он используется на самом деле в классе ведения журнала, который реализует *ILogger*, а также предпринимаем *ILogger* вызывает метод на протяжении всего приложение.

Таким образом, чтобы сделать более мощных и ведение журнала можно заменить [ `System.Diagnostics.Trace` ](https://docs.microsoft.com/azure/app-service-web/web-sites-dotnet-troubleshoot-visual-studio#apptracelogs) необходимо независимо от механизма ведения журнала. Например, по мере роста приложения вы можете, вы хотите использовать более подробное ведение журнала пакета, например [NLog](http://nlog-project.org/) или [ведение журнала приложения Enterprise Library](https://msdn.microsoft.com/library/dn440731(v=pandp.60).aspx). ([Log4Net](http://logging.apache.org/log4net/) является другой платформы популярных ведения журнала, но он не выполняет асинхронные ведения журнала.)

Одна из возможных причин для использования платформы, например NLog — упростить разделение выходных данных журналов на отдельные большого объема и высокой ценности хранилища. Который поможет вам эффективно хранить большие объемы данных СООБЩИТЬ, что не нужно выполнять быстрый запросы, сохраняя быстрого доступа к данным ACT.

### <a name="semantic-logging"></a>Семантическое ведение журналов

Относительно новый способ выполнения задачи ведения журнала, который может создать более полезные диагностические данные, см. в разделе [Enterprise библиотеки Semantic Logging Application блока (SLAB)](http://convective.wordpress.com/2013/08/12/semantic-logging-application-block-slab/). Использует ПЕРЕКРЫТИЯ [трассировки событий для Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) и [EventSource](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.aspx) поддержки в .NET 4.5, чтобы можно было создавать дополнительные журналы структурированных и поддерживает запросы. Можно определить другой метод для каждого типа события, которую вы входите, что дает возможность настроить сведения, который вы пишете. Например, зарегистрировать ошибку базы данных SQL, можно назвать `LogSQLDatabaseError` метод. Для этого типа исключения известно, что ключевая информация является номер ошибки, поэтому можно включить параметр номер ошибки в сигнатуре метода и запишите номер ошибки как отдельное поле в записи журнала, который вы пишете. Потому что в отдельные поля можно более просто и надежно получить отчеты, основанные на номера ошибок SQL, чем можно получить, если просто сцепление номер ошибки в строку сообщения.

## <a name="logging-in-the-fix-it-app"></a>Ведение журнала исправление его приложения

### <a name="the-ilogger-interface"></a>Интерфейс ILogger

Вот *ILogger* интерфейса в приложении Fix It.

[!code-csharp[Main](monitoring-and-telemetry/samples/sample1.cs)]

Эти методы позволяют записывать журналы на уровнях же четыре поддерживаемых *System.Diagnostics*. Методы TraceApi предназначены для ведение журнала вызовов внешних служб, используя сведения о задержке. Можно также добавить набор методов для уровня отладки/Verbose.

### <a name="the-logger-implementation-of-the-ilogger-interface"></a>Реализация средства ведения журнала интерфейс ILogger

Реализация интерфейса выполняется очень просто. Она по существу просто вызывает в стандарт *System.Diagnostics* методы. В следующем фрагменте показано всех трех методов сведения и одному для каждого из них.

[!code-csharp[Main](monitoring-and-telemetry/samples/sample2.cs)]

### <a name="calling-the-ilogger-methods"></a>Вызов методов ILogger

Каждый раз, чтобы код в приложении Fix It перехватывает исключение, он вызывает *ILogger* метод для записи в сведениях об исключении. И каждый раз, он делает вызов к базе данных, служба BLOB-объектов или REST API, он запускает stopwatch перед вызовом, останавливает stopwatch при возврате службой и регистрирует затраченное время, а также сведения о об успехе или неудаче.

Обратите внимание на то, что сообщения журнала включает имя класса и имя метода. Рекомендуется убедиться, что сообщения журнала определяет, какая часть кода приложения написал их.

[!code-csharp[Main](monitoring-and-telemetry/samples/sample3.cs?highlight=6,14,20-21,25)]

Итак, теперь для каждый раз, когда приложение Fix It поступил вызов к базе данных SQL можно увидеть вызов, метод, который вызвал ее, и точно сколько времени оно заняло.

![Запрос к базе данных SQL в журналах](monitoring-and-telemetry/_static/image21.png)

![](monitoring-and-telemetry/_static/image22.png)

Go просмотре журналов, вы увидите, что вызовы базы данных могли занимает переменной. Сведения могут быть полезны: так как приложение регистрирует все это можно анализировать тенденции в службу базы данных о производительности со временем. К примеру служба может быть быстро большую часть времени, но запросы могут завершаться ошибкой или ответов может замедлить в определенное время суток.

Можно сделать то же самое для службы BLOB-объектов — каждом приложение отправляет новый файл, журнал, а также можно увидеть, сколько именно времени, затраченное на передачу каждого файла.

![Журнал загрузки BLOB-объектов](monitoring-and-telemetry/_static/image23.png)

Это всего лишь нескольких строк кода для записи каждый раз, когда вызов службы, и теперь всякий раз, когда кто-то говорит, что они столкнулись с проблемой, известно, что проблема конкретно, ли это ошибка, или даже если он просто работает слишком медленно. Можно выявить источник проблемы без необходимости удаленного на сервер или включение ведения журнала после происходит ошибка и надеемся, что для повторного создания.

## <a name="dependency-injection-in-the-fix-it-app"></a>Внедрение зависимостей в исправления его приложения

Может возникнуть вопрос, как конструктор репозитория в указанном выше примере Получает средство ведения журнала, реализация интерфейса:

[!code-csharp[Main](monitoring-and-telemetry/samples/sample4.cs?highlight=6)]

Для подключения интерфейса к реализации приложения использует [внедрения зависимостей](http://en.wikipedia.org/wiki/Dependency_injection)(DI) с [AutoFac](http://autofac.org/). Внедрение Зависимостей позволяет использовать объект, на основе интерфейса, во многих местах по всему коду и задается в одном месте реализации, который используется при создании экземпляра интерфейса. Это упрощает состоит в изменении реализации: например, может потребоваться заменить средство ведения журнала System.Diagnostics NLog средства ведения журнала. Или для выполнения автоматических тестов может потребоваться заменить имитационную версию средства ведения журнала.

Приложение Fix It с помощью внедрения Зависимостей во всех репозиториях и всех контроллеров. Конструкторы классов контроллера получить *ITaskRepository* интерфейс так же, как хранилище получает интерфейс средства ведения журнала:

[!code-csharp[Main](monitoring-and-telemetry/samples/sample5.cs?highlight=5)]

Приложение использует AutoFac DI библиотеки автоматически предоставлять *TaskRepository* и *средства ведения журнала* экземпляров для этих конструкторов.

[!code-csharp[Main](monitoring-and-telemetry/samples/sample6.cs?highlight=8,10)]

Этот код главным образом сообщает, что в любом месте, конструктор, должен *ILogger* интерфейса, передайте экземпляр *средства ведения журнала* класса, и каждый раз, когда ему *IFixItTaskRepository*интерфейса, передайте экземпляр *FixItTaskRepository* класса.

[AutoFac](http://autofac.org/) является одним из многих платформы внедрения зависимостей, которые можно использовать. Популярные другая функция – [Unity](https://blogs.msdn.com/b/agile/archive/2013/08/20/new-guide-dependency-injection-with-unity.aspx), который рекомендуется использовать и поддерживается Microsoft Patterns and Practices.

## <a name="built-in-logging-support-in-azure"></a>Поддержка встроенного ведения журнала в Azure

Azure поддерживает следующие типы из [ведение журнала для веб-приложений в службе приложений Azure](https://docs.microsoft.com/azure/app-service-web/web-sites-dotnet-troubleshoot-visual-studio):

- Трассировкой System.Diagnostics (можно включать и отключать и задать уровни в режиме реального времени без перезапуска узла).
- События Windows.
- Журналы IIS (HTTP/FREB).

Azure поддерживает следующие типы из [ведение журнала в облачных службах](https://docs.microsoft.com/azure/cloud-services/cloud-services-dotnet-diagnostics):

- Трассировкой System.Diagnostics.
- Счетчики производительности.
- События Windows.
- Журналы IIS (HTTP/FREB).
- Мониторинг пользовательского каталога.

Приложение Fix It использует трассировкой System.Diagnostics. Вам нужно выполнить, чтобы включить ведение журнала в веб-приложении System.Diagnostics всего лишь установить переключатель на портале или вызова REST API. На портале, щелкните **конфигурации** вкладку для сайта и прокрутите вниз, чтобы увидеть **Application Diagnostics** раздел. Можно выключать ведение журнала и выбрать нужный уровень ведения журнала. У вас могут записывать журналы в файловой системе или учетную запись хранения Azure.

![Средства диагностики приложения и службы сайта на вкладке "Настройка"](monitoring-and-telemetry/_static/image24.png)

После включения ведения журналов в Azure, журналы отобразятся в окне вывода Visual Studio при их создании.

![Потоковая передача журналов меню](http://wacomdpsstorage.blob.core.windows.net/articlesmedia/content-ppe.windowsazure.com/documentation/articles/web-sites-dotnet-troubleshoot-visual-studio/20140115062810/tws-viewlogsmenu.png)

![Потоковая передача журналов меню](http://wacomdpsstorage.blob.core.windows.net/articlesmedia/content-ppe.windowsazure.com/documentation/articles/web-sites-dotnet-troubleshoot-visual-studio/20140115062810/tws-nologsyet.png)

Вы также можете журналы, записываемые в вашей учетной записи хранения и просматривать их с помощью любых инструментов, может обращаться к службе таблиц хранилища Azure, такие как **обозревателя серверов** в Visual Studio или [обозреватель службы хранилища Azure](https://azure.microsoft.com/features/storage-explorer/).

![Журналы в обозревателе серверов](http://wacomdpsstorage.blob.core.windows.net/articlesmedia/content-ppe.windowsazure.com/documentation/articles/web-sites-dotnet-troubleshoot-visual-studio/20140115062810/tws-storagelogs.png)

## <a name="summary"></a>Сводка

Это очень просто реализовать систему телеметрии out of box, инструментирование, ведение журнала в собственном коде и настройка ведения журналов в Azure. И при наличии проблемы в рабочей среде, сочетание систему телеметрии и пользовательские журналы поможет быстро устранения проблем, прежде чем они станут основных проблем для ваших клиентов.

В [следующей главе](transient-fault-handling.md) мы рассмотрим способ обработки временных ошибок, чтобы они не были проблемы в рабочей среде, которые необходимо изучить.

## <a name="resources"></a>Ресурсы

Дополнительные сведения см. в следующих ресурсах.

Документация по главным образом о телеметрии:

- [Microsoft Patterns and Practices — руководство по Azure](https://msdn.microsoft.com/library/dn568099.aspx). См. руководство по инструментированию и телеметрии, руководстве по контролю потребления служб, шаблон мониторинга конечных точек работоспособности и шаблон перенастройки среды выполнения.
- [Максимально допустимое расхождение, как уменьшение в облаке: Включение мониторинга на веб-сайты Azure новый производительности Relic](http://www.hanselman.com/blog/PennyPinchingInTheCloudEnablingNewRelicPerformanceMonitoringOnWindowsAzureWebsites.aspx).
- [Советы и рекомендации по проектированию крупномасштабных служб в облачных службах Azure](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx). Технический документ по (Mark simms) и Майкл Томасси. В разделе Телеметрия и диагностика.
- [Разработки следующего поколения с помощью Application Insights](https://msdn.microsoft.com/magazine/dn683794.aspx). Статья журнала MSDN Magazine.

Документация по главным образом о ведении журнала:

- [Блок приложения семантического ведения журнала (SLAB)](http://convective.wordpress.com/2013/08/12/semantic-logging-application-block-slab/). Нил Маккензи представляется в случае с семантического ведения журнала с ПЕРЕКРЫТИЯ.
- [Создание структурированных и осмысленные журналы с помощью семантического ведения журнала](https://channel9.msdn.com/Events/Build/2013/3-336). (Видео) Dominguez юлианскому представляется в случае с семантического ведения журнала с ПЕРЕКРЫТИЯ.
- [EF6 Ведения журнала SQL — часть 1: Простые операции ведения журнала](http://blog.oneunicorn.com/2013/05/08/ef6-sql-logging-part-1-simple-logging/). Артур Vickers показано, как в журнал запросов, выполненных с Entity Framework в EF 6.
- [Устойчивость подключений и перехват команд с помощью Entity Framework в приложении ASP.NET MVC](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application.md). В-четвертых в серии руководств девяти частей, показано, как использовать функцию перехвата команды EF 6 для входа SQL команды, отправляемые в базу данных с Entity Framework.
- [Улучшения ведения журналов с помощью C# 5.0 информационные атрибуты вызывающего объекта](http://www.dotnetcurry.com/showarticle.aspx?ID=972). Как легко регистрировать имя вызывающего метода без жестко кодировать его в литералы или использования отражения для получения его вручную.

Документация по главным образом об устранении неполадок:

- [Устранение неполадок Azure &amp; отладки блог](https://blogs.msdn.com/b/kwill/).
- [AzureTools — диагностики служебной программы используется группой поддержки разработчиков Azure](https://blogs.msdn.com/b/kwill/archive/2013/08/26/azuretools-the-diagnostic-utility-used-by-the-windows-azure-developer-support-team.aspx?Redirected=true). А также ссылки для скачивания с это средство, которое может использоваться для загрузки и запуска разнообразные средства диагностики и мониторинга на виртуальной Машине Azure. Полезно, когда для диагностики проблемы на конкретной виртуальной Машины.
- [Устранение неполадок веб-приложения в службе приложений Azure с помощью Visual Studio](https://docs.microsoft.com/azure/app-service-web/web-sites-dotnet-troubleshoot-visual-studio). Пошаговое руководство по началу работы с трассировкой System.Diagnostics и удаленная отладка.

Видеоролики:

- [Отказоустойчивость. Построение масштабируемых, надежных облачных служб](https://channel9.msdn.com/Series/FailSafe). Девять веб-трансляций, Ульрих Хоманн, Марк Меркьюри и (Mark simms). Отображает высокоуровневых концепциях и архитектурные принципы очень доступен и интересным способом, истории, извлеченных из консультационной группой Microsoft клиентов (CAT) опыт работы с реальными клиентами. Эпизоды 4 и 9, о мониторинге и телеметрии. 9 здесь содержится обзор возможностей мониторинга служб MetricsHub, AppDynamics, New Relic и PagerDuty.
- [Создание больших: Уроки из клиентов Azure — часть II](https://channel9.msdn.com/Events/Build/2012/3-030). (Mark simms) рассказывает о разработке для сбоя и все, что инструментирование. Как и серия Failsafe, но переход в практические подробности.

Пример кода:

- [Основы облачных служб в Azure](https://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649). Образец приложения, созданные группы консультирования клиентов Microsoft Azure. Демонстрирует данные телеметрии и ведения журнала и рекомендации, как описано в следующих статьях. Этот пример реализует ведение журнала приложений с помощью [NLog](http://nlog-project.org/). Для связанной документации, см. в разделе [серии из четырех вики-статьи TechNet о телеметрии и ведения журнала](https://social.technet.microsoft.com/wiki/contents/articles/17987.cloud-service-fundamentals.aspx#Telemetry_coming_soon).

> [!div class="step-by-step"]
> [Назад](design-to-survive-failures.md)
> [Вперед](transient-fault-handling.md)
