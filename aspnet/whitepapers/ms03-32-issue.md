---
uid: whitepapers/ms03-32-issue
title: Исправление ошибки "приложение сервера недоступно" после применения обновления для системы безопасности IE | Документация Майкрософт
author: rick-anderson
description: В этом документе описывается исправление, устраняющее проблему с обновлением безопасности MS03-32 для Internet Explorer, которое влияет на приложения ASP.NET 1,0, выполняемые в Wi-in...
ms.author: riande
ms.date: 02/10/2010
ms.assetid: 1365eebb-bdf7-4a05-8d18-7f200531be55
msc.legacyurl: /whitepapers/ms03-32-issue
msc.type: content
ms.openlocfilehash: e0b6776cbfe22e341ac7105f03daac5074b480fc
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78463458"
---
# <a name="fix-for-server-application-unavailable-error-after-applying-security-update-for-ie"></a><span data-ttu-id="c6b01-103">Устранение ошибки "Приложение сервера недоступно" после применения обновления безопасности для IE</span><span class="sxs-lookup"><span data-stu-id="c6b01-103">Fix for 'Server Application Unavailable' Error after Applying Security Update for IE</span></span>

> <span data-ttu-id="c6b01-104">В этом документе описывается исправление, устраняющее проблему с обновлением безопасности MS03-32 для Internet Explorer, которое влияет на приложения ASP.NET 1,0, работающие под управлением Windows XP Professional.</span><span class="sxs-lookup"><span data-stu-id="c6b01-104">This paper describes the patch that fixes an issue with the MS03-32 Security Update for Internet Explorer that affects ASP.NET 1.0 applications running on Windows XP Professional.</span></span>
> 
> <span data-ttu-id="c6b01-105">Применимо к ASP.NET 1,0 и Windows XP Professional.</span><span class="sxs-lookup"><span data-stu-id="c6b01-105">Applies to ASP.NET 1.0 and Windows XP Professional.</span></span>

<span data-ttu-id="c6b01-106">Корпорация Майкрософт обнаружила проблемы с обновлением безопасности MS03-32 для исправления безопасности Internet Explorer и ASP.NET 1,0, работающего под управлением Windows XP.</span><span class="sxs-lookup"><span data-stu-id="c6b01-106">Microsoft identified an issue with the MS03-32 Security Update for Internet Explorer security patch and ASP.NET 1.0 running on Windows XP.</span></span> <span data-ttu-id="c6b01-107">Это исправление можно установить вручную или получить последние критические обновления с Центр обновления Windows сайта.</span><span class="sxs-lookup"><span data-stu-id="c6b01-107">This patch can be installed manually or by obtaining recent critical updates from the Windows Update site.</span></span>

<span data-ttu-id="c6b01-108">Симптомом этой проблемы является то, что после установки исправления на компьютере под управлением Windows XP все запросы к ASP.NET приложениям, запущенным на локальном веб-сервере IIS 5,1, выводят сообщение об ошибке "приложение сервера недоступно".</span><span class="sxs-lookup"><span data-stu-id="c6b01-108">The symptom of this issue is that after installing the patch on a Windows XP machine, all requests to ASP.NET applications running on the local IIS 5.1 web server result in an error message saying "Server Application Unavailable".</span></span> <span data-ttu-id="c6b01-109">Запросы к удаленным веб-серверам не затрагиваются.</span><span class="sxs-lookup"><span data-stu-id="c6b01-109">Requests to remote web servers are unaffected.</span></span>

<span data-ttu-id="c6b01-110">Эта проблема влияет только на установки с ASP.NET 1,0 в Windows XP.</span><span class="sxs-lookup"><span data-stu-id="c6b01-110">This issue only impacts installations running ASP.NET 1.0 on Windows XP.</span></span> <span data-ttu-id="c6b01-111">Он не влияет на компьютеры под Windows 2000 или Windows Server 2003.</span><span class="sxs-lookup"><span data-stu-id="c6b01-111">It does not impact machines running Windows 2000 or Windows Server 2003.</span></span> <span data-ttu-id="c6b01-112">Он также не влияет на компьютеры под управлением Windows XP с установленным ASP.NET 1,1.</span><span class="sxs-lookup"><span data-stu-id="c6b01-112">It also does not impact machines running Windows XP with ASP.NET 1.1 installed.</span></span>

<span data-ttu-id="c6b01-113">Обратите внимание, что эта проблема **не является** ошибкой безопасности с ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c6b01-113">Please note that this issue **is not** a security bug with ASP.NET.</span></span> <span data-ttu-id="c6b01-114">Он **не** открывает или не разрешает вредоносные атаки на приложение или сервер ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c6b01-114">It **does not** open up or allow any malicious attacks against an ASP.NET application or server.</span></span> <span data-ttu-id="c6b01-115">Вместо этого это исключительно функциональная ошибка, вызванная самим исправлением.</span><span class="sxs-lookup"><span data-stu-id="c6b01-115">Instead, it is purely a functional bug caused by the patch itself.</span></span>

<span data-ttu-id="c6b01-116">Мы работаем над постоянным решением этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="c6b01-116">We are working hard on a permanent solution for this issue.</span></span> <span data-ttu-id="c6b01-117">В то же время в качестве обходного пути для проблемы можно выполнить следующий пакетный файл.</span><span class="sxs-lookup"><span data-stu-id="c6b01-117">In the meantime, you can execute the following batch file as a workaround for the issue.</span></span> <span data-ttu-id="c6b01-118">Пакетный файл выполняет следующие действия:</span><span class="sxs-lookup"><span data-stu-id="c6b01-118">The batch file does the following:</span></span>

1. <span data-ttu-id="c6b01-119">Останавливает службы IIS и ASP.NET State Services</span><span class="sxs-lookup"><span data-stu-id="c6b01-119">Stops the IIS and ASP.NET state services</span></span>
2. <span data-ttu-id="c6b01-120">Удаляет и повторно создает учетную запись ASPNET с известным временным паролем.</span><span class="sxs-lookup"><span data-stu-id="c6b01-120">Deletes and recreates the ASPNET account with a known temporary password</span></span>
3. <span data-ttu-id="c6b01-121">Запускает исполняемый файл, который создает профиль пользователя ASPNET, с помощью команды Windows `runas`</span><span class="sxs-lookup"><span data-stu-id="c6b01-121">Uses the Windows `runas` command to launch an executable that creates an ASPNET user profile</span></span>
4. <span data-ttu-id="c6b01-122">Повторно регистрирует ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c6b01-122">Re-registers ASP.NET.</span></span> <span data-ttu-id="c6b01-123">При этом создается случайный пароль для учетной записи и применяются параметры управления доступом ASP.NET по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="c6b01-123">This creates a new random password for the account and applies default ASP.NET access control settings for it</span></span>
5. <span data-ttu-id="c6b01-124">Перезапускает службу IIS</span><span class="sxs-lookup"><span data-stu-id="c6b01-124">Restarts the IIS service</span></span>

<span data-ttu-id="c6b01-125">Пакетный файл содержит жестко зафиксированный временный пароль "<strong>1pass\@слово</strong>". при выполнении пакетного файла вам будет предложено ввести команду runas.</span><span class="sxs-lookup"><span data-stu-id="c6b01-125">The batch file contains a hardcoded temporary password of "<strong>1pass\@word</strong>" which you will be prompted to enter for the runas command when the batch file is run.</span></span> <span data-ttu-id="c6b01-126">После выполнения команды runas пароль учетной записи ASPNET создается повторно со строгим случайным значением.</span><span class="sxs-lookup"><span data-stu-id="c6b01-126">After the runas command completes, the ASPNET account password is recreated with a strong random value.</span></span> <span data-ttu-id="c6b01-127">Обратите внимание, что пакетный файл может завершиться ошибкой, если закодированный пароль не соответствует требованиям к сложности пароля в вашей среде.</span><span class="sxs-lookup"><span data-stu-id="c6b01-127">Note that the batch file may fail if the hardcoded password does not meet the password complexity requirements in your environment.</span></span> <span data-ttu-id="c6b01-128">Если это так, вы можете изменить его на другое значение, подходящее для вашей среды.</span><span class="sxs-lookup"><span data-stu-id="c6b01-128">If that's the case, you can change it to another value that is appropriate for your environment.</span></span>

<span data-ttu-id="c6b01-129">*> [!IMPORTANT]* Если вы добавили пользовательские параметры контроля доступа или разрешения учетной записи базы данных для учетной записи ASPNET, их необходимо будет создать заново после завершения этого пакетного файла.</span><span class="sxs-lookup"><span data-stu-id="c6b01-129">*> [!IMPORTANT]* If you have added custom access control settings or database account permissions for the ASPNET account, they will need to be recreated after this batch file completes.</span></span> <span data-ttu-id="c6b01-130">Это связано с тем, что при повторном создании учетной записи будет получен новый идентификатор безопасности (SID).</span><span class="sxs-lookup"><span data-stu-id="c6b01-130">This is because when the account is recreated, it will get a new security identifier (SID).</span></span>

<span data-ttu-id="c6b01-131">*> [!IMPORTANT]* Если вы используете рабочий процесс ASP.NET с пользовательской учетной записью, отличной от учетной записи ASPNET, то не следует запускать этот пакетный файл.</span><span class="sxs-lookup"><span data-stu-id="c6b01-131">*> [!IMPORTANT]* If you are running the ASP.NET worker process with a custom account other than the ASPNET account, then you should not run this batch file.</span></span> <span data-ttu-id="c6b01-132">Вместо этого следует войти в интерактивном режиме или использовать команду runas с этой учетной записью, которая создаст профиль пользователя для этой учетной записи.</span><span class="sxs-lookup"><span data-stu-id="c6b01-132">Instead, you should log in interactively or use the runas command with that account which will create a user profile for that account.</span></span>

<span data-ttu-id="c6b01-133">Пакетный файл включается в архив, приведенный ниже.</span><span class="sxs-lookup"><span data-stu-id="c6b01-133">The batch file is included in the self-extracting archive below.</span></span> <span data-ttu-id="c6b01-134">Чтобы ее использовать, сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="c6b01-134">To use it:</span></span>

1. <span data-ttu-id="c6b01-135">Необходимо запустить от имени учетной записи с правами администратора.</span><span class="sxs-lookup"><span data-stu-id="c6b01-135">You must be running as an account with Administrator privileges</span></span>
2. [<span data-ttu-id="c6b01-136">Скачайте и откройте самораспаковывающийся исполняемый файл</span><span class="sxs-lookup"><span data-stu-id="c6b01-136">Download and open the self-extracting executable file</span></span>](ms03-32-issue/_static/fixup1.exe)
3. <span data-ttu-id="c6b01-137">Извлечение содержимого в c:</span><span class="sxs-lookup"><span data-stu-id="c6b01-137">Extract the contents to c:</span></span>\
4. <span data-ttu-id="c6b01-138">Выберите выполнить... в меню "Пуск" и введите `cmd.exe`</span><span class="sxs-lookup"><span data-stu-id="c6b01-138">Select Run... from the start menu, and enter `cmd.exe`</span></span>
5. <span data-ttu-id="c6b01-139">В окнах открытия команд введите `c:\fixup.cmd`.</span><span class="sxs-lookup"><span data-stu-id="c6b01-139">In the open command windows, type `c:\fixup.cmd`.</span></span>
6. <span data-ttu-id="c6b01-140">При появлении запроса введите <strong>1pass\@Word</strong> в качестве пароля.</span><span class="sxs-lookup"><span data-stu-id="c6b01-140">When prompted, enter <strong>1pass\@word</strong> as the password.</span></span>
7. <span data-ttu-id="c6b01-141">Если у вас есть ранее настраиваемые параметры контроля доступа или разрешения учетной записи базы данных для учетной записи ASPNET, эти параметры потребуется применить повторно.</span><span class="sxs-lookup"><span data-stu-id="c6b01-141">If you have previously custom access control settings or database account permissions for the ASPNET account, you'll need to re-apply these settings now.</span></span>

<span data-ttu-id="c6b01-142">Многие извинения для неудобства, вызванных этим неудобством.</span><span class="sxs-lookup"><span data-stu-id="c6b01-142">Many apologies for the inconvenience that this has caused.</span></span> <span data-ttu-id="c6b01-143">Мы будем публиковать дополнительную информацию по мере ее появления.</span><span class="sxs-lookup"><span data-stu-id="c6b01-143">We'll post additional information as it becomes available.</span></span>

<span data-ttu-id="c6b01-144">В матрице ниже описываются платформы и версии, затрагиваемые этой проблемой.</span><span class="sxs-lookup"><span data-stu-id="c6b01-144">The matrix below details platforms and versions impacted by this issue.</span></span>

| <span data-ttu-id="c6b01-145">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="c6b01-145">.NET Framework</span></span> | <span data-ttu-id="c6b01-146">Платформа</span><span class="sxs-lookup"><span data-stu-id="c6b01-146">Platform</span></span> | <span data-ttu-id="c6b01-147">Affected</span><span class="sxs-lookup"><span data-stu-id="c6b01-147">Affected</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c6b01-148">Версия 1,0</span><span class="sxs-lookup"><span data-stu-id="c6b01-148">Version 1.0</span></span> | <span data-ttu-id="c6b01-149">Windows 2000 Professional</span><span class="sxs-lookup"><span data-stu-id="c6b01-149">Windows 2000 Professional</span></span> | <span data-ttu-id="c6b01-150">нет</span><span class="sxs-lookup"><span data-stu-id="c6b01-150">No</span></span> |
| <span data-ttu-id="c6b01-151">Версия 1,0</span><span class="sxs-lookup"><span data-stu-id="c6b01-151">Version 1.0</span></span> | <span data-ttu-id="c6b01-152">Windows 2000 Server</span><span class="sxs-lookup"><span data-stu-id="c6b01-152">Windows 2000 Server</span></span> | <span data-ttu-id="c6b01-153">нет</span><span class="sxs-lookup"><span data-stu-id="c6b01-153">No</span></span> |
| <span data-ttu-id="c6b01-154">Версия 1,0</span><span class="sxs-lookup"><span data-stu-id="c6b01-154">Version 1.0</span></span> | <span data-ttu-id="c6b01-155">Windows XP Professional</span><span class="sxs-lookup"><span data-stu-id="c6b01-155">Windows XP Professional</span></span> | <span data-ttu-id="c6b01-156">Да</span><span class="sxs-lookup"><span data-stu-id="c6b01-156">Yes</span></span> |
| <span data-ttu-id="c6b01-157">Версия 1,0</span><span class="sxs-lookup"><span data-stu-id="c6b01-157">Version 1.0</span></span> | <span data-ttu-id="c6b01-158">Windows Server 2003</span><span class="sxs-lookup"><span data-stu-id="c6b01-158">Windows Server 2003</span></span> | <span data-ttu-id="c6b01-159">нет</span><span class="sxs-lookup"><span data-stu-id="c6b01-159">No</span></span> |
| <span data-ttu-id="c6b01-160">Версия 1,0</span><span class="sxs-lookup"><span data-stu-id="c6b01-160">Version 1.0</span></span> | <span data-ttu-id="c6b01-161">Windows XP Home с Cassini</span><span class="sxs-lookup"><span data-stu-id="c6b01-161">Windows XP Home with Cassini</span></span> | <span data-ttu-id="c6b01-162">нет</span><span class="sxs-lookup"><span data-stu-id="c6b01-162">No</span></span> |
| <span data-ttu-id="c6b01-163">Версия 1.1</span><span class="sxs-lookup"><span data-stu-id="c6b01-163">Version 1.1</span></span> | <span data-ttu-id="c6b01-164">Windows 2000 Professional</span><span class="sxs-lookup"><span data-stu-id="c6b01-164">Windows 2000 Professional</span></span> | <span data-ttu-id="c6b01-165">нет</span><span class="sxs-lookup"><span data-stu-id="c6b01-165">No</span></span> |
| <span data-ttu-id="c6b01-166">Версия 1.1</span><span class="sxs-lookup"><span data-stu-id="c6b01-166">Version 1.1</span></span> | <span data-ttu-id="c6b01-167">Windows 2000 Server</span><span class="sxs-lookup"><span data-stu-id="c6b01-167">Windows 2000 Server</span></span> | <span data-ttu-id="c6b01-168">нет</span><span class="sxs-lookup"><span data-stu-id="c6b01-168">No</span></span> |
| <span data-ttu-id="c6b01-169">Версия 1.1</span><span class="sxs-lookup"><span data-stu-id="c6b01-169">Version 1.1</span></span> | <span data-ttu-id="c6b01-170">Windows XP Professional</span><span class="sxs-lookup"><span data-stu-id="c6b01-170">Windows XP Professional</span></span> | <span data-ttu-id="c6b01-171">нет</span><span class="sxs-lookup"><span data-stu-id="c6b01-171">No</span></span> |
| <span data-ttu-id="c6b01-172">Версия 1.1</span><span class="sxs-lookup"><span data-stu-id="c6b01-172">Version 1.1</span></span> | <span data-ttu-id="c6b01-173">Windows Server 2003</span><span class="sxs-lookup"><span data-stu-id="c6b01-173">Windows Server 2003</span></span> | <span data-ttu-id="c6b01-174">нет</span><span class="sxs-lookup"><span data-stu-id="c6b01-174">No</span></span> |
| <span data-ttu-id="c6b01-175">Версия 1.1</span><span class="sxs-lookup"><span data-stu-id="c6b01-175">Version 1.1</span></span> | <span data-ttu-id="c6b01-176">Windows XP Home с Cassini</span><span class="sxs-lookup"><span data-stu-id="c6b01-176">Windows XP Home with Cassini</span></span> | <span data-ttu-id="c6b01-177">нет</span><span class="sxs-lookup"><span data-stu-id="c6b01-177">No</span></span> |

<span data-ttu-id="c6b01-178">С уважением,</span><span class="sxs-lookup"><span data-stu-id="c6b01-178">Thanks,</span></span>   
 <span data-ttu-id="c6b01-179">Команда ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c6b01-179">The ASP.NET Team</span></span>
