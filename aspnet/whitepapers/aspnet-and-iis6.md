---
uid: whitepapers/aspnet-and-iis6
title: Запуск ASP.NET 1.1 со службами IIS 6.0 | Документация Майкрософт
author: rick-anderson
description: Хотя Windows Server 2003 включает в себя IIS 6.0 и ASP.NET 1.1, эти компоненты отключены по умолчанию. Этот технический документ описывает способ включения IIS 6.0...
ms.author: riande
ms.date: 02/10/2010
ms.assetid: 5a5537bf-2aaa-49e7-839f-9e6522b829d8
msc.legacyurl: /whitepapers/aspnet-and-iis6
msc.type: content
ms.openlocfilehash: dbdf6d2815a05465b0ffb7bb322c9f80af13a251
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59405161"
---
# <a name="running-aspnet-11-with-iis-60"></a>Запуск ASP.NET 1.1 со службами IIS 6.0

> Хотя Windows Server 2003 включает в себя IIS 6.0 и ASP.NET 1.1, эти компоненты отключены по умолчанию. Этот технический документ описывает способ включения IIS 6.0 и ASP.NET 1.1 и рекомендует несколько параметров конфигурации для обеспечения оптимальной производительности из IIS и ASP.NET.
> 
> Применяется к ASP.NET 1.1 и IIS 6.0.


В ASP.NET 1.1 поставляется с Windows Server 2003, который также включает последнюю версию из Internet Information Server (IIS) версии 6.0. IIS 6.0 и ASP.NET 1.1 предназначены для тесно интегрированы и ASP.NET теперь по умолчанию для новой модели рабочих процессов IIS 6.0.

## <a name="aspnet-11-is-not-installed-by-default"></a>В ASP.NET 1.1 не устанавливается по умолчанию

В отличие от предыдущих версий операционных систем сервера Microsoft Internet Information Server (IIS) не включена по умолчанию. ни ASP.NET 1.1. Существует два варианта включения IIS:

### <a name="enabling-iis-option-1---configure-your-server-wizard"></a>Включение мастера настройки сервера IIS, вариант 1 #.

Windows Server 2003 поставляется новый «мастер настройки сервера» помогут вам правильно настроить сервер в нужном режиме.

Чтобы запустить мастер - Обратите внимание, что для запуска мастера, вы должны войти качестве администратора - приведен по адресу Пуск | Программы | Администрирование и выберите «настройки сервера».

Один раз выбранного, вы должны увидеть экран «Мастер настройки сервера»:

![](aspnet-and-iis6/_static/image1.jpg)

Нажмите кнопку "Далее &gt;":

![](aspnet-and-iis6/_static/image2.jpg)

Нажмите кнопку "Далее &gt;"

![](aspnet-and-iis6/_static/image3.jpg)

На этом экране необходимо выбрать "сервер приложений (IIS, ASP.NET) как параметры настройки.

Нажмите кнопку "Далее &gt;".

![](aspnet-and-iis6/_static/image4.jpg)

После выбора, чтобы настроить сервер как сервер приложений, этот экран появится запрос, должен быть установлен какие дополнительные возможности. Ни один из параметров установлен по умолчанию. Чтобы включить ASP.NET автоматически, необходимо выбрать "Включить ASP. NET ".

Нажмите кнопку "Далее &gt;".

![](aspnet-and-iis6/_static/image5.jpg)

На этом экране отображается, что параметры должны быть установлены.

Нажмите кнопку "Далее &gt;".

![](aspnet-and-iis6/_static/image6.jpg)

Этот экран появляется выбранные параметры используемые во время установки. Это нормально для других внешний вид диалогового окна окна отображаются как установлены службы см. в разделе. Кроме того, вы может запрос местоположение установочного компакт-диска Windows 2003 Server.

Нажмите кнопку "Далее &gt;" по завершении процесса.

![](aspnet-and-iis6/_static/image7.jpg)

Нажмите кнопку «Готово» — Windows Server 2003 теперь настроен для поддержки IIS 6.0 и ASP.NET 1.1.

### <a name="enabling-iis-option-2---manually-configuring-iis-and-aspnet"></a>Включение служб IIS, параметр #2 — Настройка вручную, IIS и ASP.NET

Если вы не хотите использовать «мастер настройки сервера» можно также установить IIS 6.0 и ASP.NET 1.1, с помощью «Установка и удаление программ» панели управления.

Сначала откройте панель управления:

![](aspnet-and-iis6/_static/image8.jpg)

Нажмите кнопку «Добавить/удалить Windows компоненты» откроется «Мастер компонентов Windows»:

![](aspnet-and-iis6/_static/image9.jpg)

Выделите и проверьте» сервера приложений"и нажмите кнопку «Сведения»? Кнопка:

![](aspnet-and-iis6/_static/image10.jpg)

Чтобы установить ASP.NET, установите флажок "ASP. NET ".

Нажмите кнопку «ОК», чтобы вернуться в мастер компонентов Windows. Нажмите кнопку "Далее &gt;" с помощью мастера компонентов Windows для начала установки:

![](aspnet-and-iis6/_static/image11.jpg)

Это нормально для других внешний вид диалогового окна окна отображаются как установлены службы см. в разделе. Кроме того, вы может запрос местоположение установочного компакт-диска Windows 2003 Server.

После завершения установки вы увидите на последнем экране мастера компонентов Windows:

![](aspnet-and-iis6/_static/image12.jpg)

IIS 6.0 и ASP.NET 1.1 теперь настроены и доступны.

## <a name="recommended-settings"></a>Рекомендуемые параметры

При запуске ASP.NET 1.1 в IIS 6.0 существует несколько параметров конфигурации, которые рекомендуются для обеспечения оптимальной производительности из ASP.NET:

- Настройка ограничения памяти рабочего процесса
- Настройка перезапуск рабочего процесса

### <a name="configuring-worker-process-memory-limits"></a>Настройка ограничения памяти рабочего процесса

По умолчанию IIS 6.0 не устанавливаем ограничения на объем памяти, который разрешается использовать IIS. ASP. Функция кэша NET зависит ограничение памяти, поэтому кэш заранее можно удалять неиспользуемые сборки из памяти.

Рекомендуется настроить память, повторный запуск особенностью IIS 6.0. Для настройки этого откройте диспетчер служб IIS (Пуск | Программы | Администрирование | Internet Information Services). Когда открыт, разверните папку «Пулы приложений»:

Для каждого пула приложений:

![](aspnet-and-iis6/_static/image13.jpg)

1. Щелкните правой кнопкой мыши пул приложений, например «DefaultAppPool» и выберите «Свойства»:

![](aspnet-and-iis6/_static/image14.jpg)

2. Далее следует включить, нажав одну вторичное использование памяти "Максимальный размер используемой памяти (в мегабайтах):". Значение не должно быть больше, чем объем физической памяти (не виртуальном) на сервере, хорошее приближение 60% физической памяти, т. е. для сервера с объемом физической памяти выберите 310 512 МБ. Кроме того, рекомендуется, максимально превышало 800 МБ при использовании 2 ГБ адресного пространства. Если адресное пространство памяти сервера — 3 ГБ, ограничение максимального объема памяти для рабочего процесса может быть равна 1 800 МБ:

![](aspnet-and-iis6/_static/image15.jpg)

Нажмите кнопку «Применить» и «ОК», чтобы закрыть диалоговое окно свойств. Повторите эти действия для всех имеющихся пулов приложений.

### <a name="configuring-worker-recycling"></a>Настройка перезапуска

По умолчанию IIS 6.0 настраивается для перезапуска рабочего процесса каждые 29 часов. Это немного Агрессивный для приложения, работающего на ASP.NET, и рекомендуется отключить перезапуск автоматического рабочего процесса.

Чтобы отключить перезапуск автоматического рабочего процесса, сначала откройте диспетчер служб IIS (Пуск | Программы | Администрирование | Internet Information Services). Когда открыт, разверните папку «Пулы приложений»:

![](aspnet-and-iis6/_static/image16.jpg)

Для каждого пула приложений:

1. Щелкните правой кнопкой мыши пул приложений, например «DefaultAppPool» и выберите «Свойства»:

![](aspnet-and-iis6/_static/image17.jpg)

2. Снимите флажок "Очистка рабочих процессов (в минутах):":

![](aspnet-and-iis6/_static/image18.jpg)

Нажмите кнопку «Применить» и «ОК», чтобы закрыть диалоговое окно свойств. Повторите эти действия для всех имеющихся пулов приложений.

## <a name="granting-write-access-to-the-file-system"></a>Предоставляя доступ на запись в файловой системе

Если приложению требуется доступ на запись в файловой системе и использовании NTFS, вам потребуется изменить список (Доступом) в папку или файл для предоставления доступа ASP.NET к.

Например для предоставления ASP.NET доступ на запись к c:\inetpub\wwwroot сначала откройте проводник и перейдите в каталог:

![](aspnet-and-iis6/_static/image19.jpg)

После этого щелкните правой кнопкой мыши каталог, например «wwwroot» и выберите его свойства. Когда откроется диалоговое окно свойств, выберите вкладку «Безопасность»:

![](aspnet-and-iis6/_static/image20.jpg)

Каталог c:\inetpub\wwwroot\ является специальных тем, что специальной группы IIS 6.0 "IIS\_WPG" уже предоставлено чтения &amp; разрешения Execute, список содержимого папки и чтения. Тем не менее чтобы предоставить разрешение на запись, вам потребуется установите флажок Разрешить для записи.

![](aspnet-and-iis6/_static/image21.jpg)

IIS 6.0 теперь имеет разрешение на запись для этой папки. Чтобы предоставить разрешения на запись в другие папки, выполните приведенные ниже шаги - Обратите внимание на то, может потребоваться добавить IIS\_группы WPG, если он еще не существует.

> [!CAUTION]
> Предоставление разрешение на запись IIS\_WPG позволит любое приложение ASP.NET для записи в этот каталог.

## <a name="supporting-integrated-authentication-with-sql-server"></a>Поддержка встроенной проверки подлинности с помощью SQL Server

Встроенная проверка подлинности позволяет SQL Server, чтобы использовать проверку подлинности Windows NT для проверки учетных записей входа SQL Server. Это позволяет пользователю обойти стандартный процесс входа в систему SQL Server. При таком подходе сетевой доступ пользователь базы данных SQL Server без указания код отдельных пользователя или пароля, так как SQL Server получает пользователя и пароль из процесса обеспечения безопасности сети Windows NT.

Выбор встроенной проверки подлинности для приложений ASP.NET является хорошим выбором, так как когда-либо учетные данные не хранятся в строку подключения для вашего приложения. А строка подключения, используемая для подключения к SQL будет выглядеть следующим образом:

`"server=localhost; database=Northwind;Trusted_Connection=true"`

Эта строка подключения указывает SQL Server использовать учетные данные Windows, приложения, пытающихся получить доступ к SQL Server. В случае ASP.NET/IIS 6 это было бы учетной записи в службах IIS\_группы WPG.

Чтобы включить встроенную проверку подлинности SQL Server и ASP.NET, необходимо сначала убедитесь, что SQL Server настроен для встроенной проверки подлинности или проверки подлинности в смешанном режиме - обратитесь к Администратору, чтобы определить это. Если SQL Server находится в одном из этих двух режимов, можно использовать встроенную проверку подлинности.

Откройте SQL Server Enterprise Manager (Пуск | Программы | Microsoft SQL Server | Enterprise Manager), выберите подходящий сервер и разверните папку «безопасность»:

![](aspnet-and-iis6/_static/image22.jpg)

Если "BUILTINT\IIS\_WPG" группа не указана, щелкните правой кнопкой мыши на именах входа и выберите «Новое имя входа»:

![](aspnet-and-iis6/_static/image23.jpg)

В "имя:" текстовое поле, либо введите "[имя сервера или домена] \IIS\_WPG" или нажмите кнопку с многоточием для открытия диалогового окна Выбор пользователя или группы Windows NT:

![](aspnet-and-iis6/_static/image24.jpg)

Установите IIS на текущем компьютере\_WPG группы и нажмите кнопку «Добавить» и "ОК" Чтобы закрыть средство выбора.

Затем необходимо также задать базу данных по умолчанию и разрешения для доступа к базе данных. Чтобы настроить базу данных по умолчанию выберите из раскрывающегося списка, например ниже Northwind установлен:

![](aspnet-and-iis6/_static/image25.jpg)

Затем щелкните на вкладке "доступ к базе данных":

![](aspnet-and-iis6/_static/image26.jpg)

Установите флажок "Разрешить" для каждой базы данных, который вы хотите разрешить доступ к. Также необходимо будет выбрать роли базы данных, проверка db\_владельца обеспечит имя входа имеет все необходимые разрешения для управления и использования выбранной базы данных.

Нажмите кнопку ОК, чтобы закрыть диалоговое окно свойств. Приложения ASP.NET теперь настроен для поддержки проверки подлинности SQL Server.

## <a name="dont-run-aspnet-10-in-iis-60-native-mode"></a>Не запускайте ASP.NET 1.0 в собственном режиме IIS 6.0

ASP.NET 1.0 на сервере IIS 6.0 поддерживается только в режиме совместимости с IIS 5.

Для настройки ASP.NET 1.0 для работы в режиме совместимости с IIS 5.0, откройте диспетчер служб Интернета и веб-сайтов щелкните правой кнопкой мыши и выберите Свойства:

![](aspnet-and-iis6/_static/image27.jpg)

Перейдите на вкладку "службы" и проверьте? Запускать веб-службу в режиме изоляции IIS 5.0?:

![](aspnet-and-iis6/_static/image28.jpg)
