---
uid: whitepapers/mvc3-release-notes
title: ASP.NET MVC 3 | Документация Майкрософт
author: rick-anderson
description: ''
ms.author: riande
ms.date: 10/06/2010
ms.assetid: f44c166e-7e91-48a0-a6f8-d9285f3594e5
msc.legacyurl: /whitepapers/mvc3-release-notes
msc.type: content
ms.openlocfilehash: 36bc314c6709c34863d86158419257be99f4084f
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59407111"
---
# <a name="aspnet-mvc-3"></a><span data-ttu-id="78ba7-102">ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="78ba7-102">ASP.NET MVC 3</span></span>

- [<span data-ttu-id="78ba7-103">Обзор</span><span class="sxs-lookup"><span data-stu-id="78ba7-103">Overview</span></span>](#overview)
- [<span data-ttu-id="78ba7-104">Замечания по установке</span><span class="sxs-lookup"><span data-stu-id="78ba7-104">Installation Notes</span></span>](#installation-notes)
- [<span data-ttu-id="78ba7-105">Требования к программному обеспечению</span><span class="sxs-lookup"><span data-stu-id="78ba7-105">Software Requirements</span></span>](#software-requirements)
- [<span data-ttu-id="78ba7-106">Документация</span><span class="sxs-lookup"><span data-stu-id="78ba7-106">Documentation</span></span>](#documentation)
- [<span data-ttu-id="78ba7-107">Поддержка</span><span class="sxs-lookup"><span data-stu-id="78ba7-107">Support</span></span>](#support)
- [<span data-ttu-id="78ba7-108">Обновление проекта ASP.NET MVC 2 до ASP.NET MVC 3 средства обновления</span><span class="sxs-lookup"><span data-stu-id="78ba7-108">Upgrading an ASP.NET MVC 2 Project to ASP.NET MVC 3 Tools Update</span></span>](#upgrading)
- [<span data-ttu-id="78ba7-109">Обновление средств ASP.NET MVC 3 (12 апреля 2011 г.)</span><span class="sxs-lookup"><span data-stu-id="78ba7-109">ASP.NET MVC 3 Tools Update (April 12, 2011)</span></span>](#tu-changes)

    - [<span data-ttu-id="78ba7-110">Диалоговое окно «Добавление контроллера» теперь позволяет формировать контроллеры с представлениями и данных кодом доступа</span><span class="sxs-lookup"><span data-stu-id="78ba7-110">"Add Controller" dialog box can now scaffold controllers with views and data access code</span></span>](#tu-AddControllerDialog)
    - [<span data-ttu-id="78ba7-111">Усовершенствования «ASP.NET MVC 3 новый проект» диалоговое окно</span><span class="sxs-lookup"><span data-stu-id="78ba7-111">Improvements to the "ASP.NET MVC 3 New Project" Dialog Box</span></span>](#tu-ImprovementsNewDialogBox)
    - [<span data-ttu-id="78ba7-112">Шаблоны проектов добавлена добавлена библиотека Modernizr 1.7</span><span class="sxs-lookup"><span data-stu-id="78ba7-112">Project templates now include Modernizr 1.7</span></span>](#tu-Modernizr)
    - [<span data-ttu-id="78ba7-113">Шаблоны проектов включены обновленные версии jQuery, jQuery UI и jQuery проверки</span><span class="sxs-lookup"><span data-stu-id="78ba7-113">Project templates include updated versions of jQuery, jQuery UI, and jQuery Validation</span></span>](#tu-UpdatedJQuery)
    - [<span data-ttu-id="78ba7-114">Шаблоны проектов добавлена платформа ADO.NET Entity Framework 4.1 в виде предустановленного пакета NuGet</span><span class="sxs-lookup"><span data-stu-id="78ba7-114">Project templates now include ADO.NET Entity Framework 4.1 as a pre-installed NuGet package</span></span>](#tu-EF)
    - [<span data-ttu-id="78ba7-115">Шаблоны проектов включены библиотеки JavaScript в виде предустановленных пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="78ba7-115">Project templates include JavaScript libraries as pre-installed NuGet packages</span></span>](#tu-JavaScriptLibsNuget)
    - [<span data-ttu-id="78ba7-116">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="78ba7-116">Known Issues</span></span>](#tu-KI)
- [<span data-ttu-id="78ba7-117">ASP.NET MVC 3 RTM (13 января 2011 г.)</span><span class="sxs-lookup"><span data-stu-id="78ba7-117">ASP.NET MVC 3 RTM (January 13, 2011)</span></span>](#MVC3RTM)

    - [<span data-ttu-id="78ba7-118">Изменение: Обновленную версию пользовательский Интерфейс jQuery для 1.8.7</span><span class="sxs-lookup"><span data-stu-id="78ba7-118">Change: Updated the version of jQuery UI to 1.8.7</span></span>](#RTM-1)
    - [<span data-ttu-id="78ba7-119">Изменение: Изменили значение по умолчанию ModelMetadataProvider обратно в DataAnnotationsModelMetadataProvider</span><span class="sxs-lookup"><span data-stu-id="78ba7-119">Change: Changed the default ModelMetadataProvider back to DataAnnotationsModelMetadataProvider</span></span>](#RTM-2)
    - [<span data-ttu-id="78ba7-120">Исправлено. Вставка части выражения Razor, содержащий результаты пробелов в нем выполняется в обратном порядке</span><span class="sxs-lookup"><span data-stu-id="78ba7-120">Fixed: Pasting part of a Razor expression that contains whitespace results in it being reversed</span></span>](#RTM-3)
    - [<span data-ttu-id="78ba7-121">Исправлено. Переименование файла Razor, который открыт в редакторе отключает цветовое выделение синтаксиса и IntelliSense</span><span class="sxs-lookup"><span data-stu-id="78ba7-121">Fixed: Renaming a Razor file that is opened in the editor disables syntax colorization and IntelliSense</span></span>](#RTM-4)
    - [<span data-ttu-id="78ba7-122">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="78ba7-122">Known Issues</span></span>](#RTM-KI)
    - [<span data-ttu-id="78ba7-123">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="78ba7-123">Breaking Changes</span></span>](#RTM-BC)
- [<span data-ttu-id="78ba7-124">Версия-кандидат ASP.NET MVC 3 2 (10 декабря 2010 г.)</span><span class="sxs-lookup"><span data-stu-id="78ba7-124">ASP.NET MVC 3 Release Candidate 2 (December 10, 2010)</span></span>](#_Toc2)

    - [<span data-ttu-id="78ba7-125">Изменения шаблонов проекта для включения jQuery 1.4.4, jQuery 1.7 проверки и пользовательский Интерфейс 1.8.6y 1.8.6 пользовательского интерфейса jQuery</span><span class="sxs-lookup"><span data-stu-id="78ba7-125">Project Templates Changed to Include jQuery 1.4.4, jQuery Validation 1.7, and jQuery UI 1.8.6y UI 1.8.6</span></span>](#_Toc2_1)
    - [<span data-ttu-id="78ba7-126">Класс добавлена «AdditionalMetadataAttribute»</span><span class="sxs-lookup"><span data-stu-id="78ba7-126">Added "AdditionalMetadataAttribute" Class</span></span>](#_Toc2_2)
    - [<span data-ttu-id="78ba7-127">Улучшенное представление формирования шаблонов</span><span class="sxs-lookup"><span data-stu-id="78ba7-127">Improved View Scaffolding</span></span>](#_Toc2_3)
    - [<span data-ttu-id="78ba7-128">Добавленный метод Html.Raw</span><span class="sxs-lookup"><span data-stu-id="78ba7-128">Added Html.Raw Method</span></span>](#_Toc2_3)
    - [<span data-ttu-id="78ba7-129">Свойство переименованный «Controller.ViewModel» и «View» свойства «ViewBag»</span><span class="sxs-lookup"><span data-stu-id="78ba7-129">Renamed "Controller.ViewModel" Property and the "View" Property To "ViewBag"</span></span>](#_Toc2_4)
    - [<span data-ttu-id="78ba7-130">Переименованные «ControllerSessionStateAttribute» класс «SessionStateAttribute»</span><span class="sxs-lookup"><span data-stu-id="78ba7-130">Renamed "ControllerSessionStateAttribute" Class to "SessionStateAttribute"</span></span>](#_Toc2_5)
    - [<span data-ttu-id="78ba7-131">Переименованные RemoteAttribute «Поля» значение «AdditionalFields»</span><span class="sxs-lookup"><span data-stu-id="78ba7-131">Renamed RemoteAttribute "Fields" Property to "AdditionalFields"</span></span>](#_Toc2_6)
    - [<span data-ttu-id="78ba7-132">Переименовано «SkipRequestValidationAttribute» для «AllowHtmlAttribute»</span><span class="sxs-lookup"><span data-stu-id="78ba7-132">Renamed "SkipRequestValidationAttribute" to "AllowHtmlAttribute"</span></span>](#_Toc2_7)
    - [<span data-ttu-id="78ba7-133">Метод измененные «Html.ValidationMessage» для отображения первого поясняющих сообщений</span><span class="sxs-lookup"><span data-stu-id="78ba7-133">Changed "Html.ValidationMessage" Method to Display the First Useful Error Message</span></span>](#_Toc2_8)
    - [<span data-ttu-id="78ba7-134">Фиксированный @model объявление, чтобы не добавляют пробел в документ</span><span class="sxs-lookup"><span data-stu-id="78ba7-134">Fixed @model Declaration to not Add Whitespace to the Document</span></span>](#_Toc2_9)
    - [<span data-ttu-id="78ba7-135">Свойство добавлено «FileExtensions» для обработчиков представлений для поддержки имен файлов для конкретного механизма</span><span class="sxs-lookup"><span data-stu-id="78ba7-135">Added "FileExtensions" Property to View Engines to Support Engine-Specific File Names</span></span>](#_Toc2_10)
    - [<span data-ttu-id="78ba7-136">Вспомогательный метод предопределенной значение «LabelFor» для порождения правильное значение для атрибута «For»</span><span class="sxs-lookup"><span data-stu-id="78ba7-136">Fixed "LabelFor" Helper to Emit the Correct Value for the "For" Attribute</span></span>](#_Toc2_11)
    - [<span data-ttu-id="78ba7-137">Метод предопределенной «RenderAction», чтобы предоставить явные значения приоритета во время привязки модели</span><span class="sxs-lookup"><span data-stu-id="78ba7-137">Fixed "RenderAction" Method to Give Explicit Values Precedence During Model Binding</span></span>](#_Toc2_12)
    - [<span data-ttu-id="78ba7-138">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="78ba7-138">Breaking Changes</span></span>](#_Toc2_BC)
    - [<span data-ttu-id="78ba7-139">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="78ba7-139">Known Issues</span></span>](#_Toc2_KI)
- [<span data-ttu-id="78ba7-140">Версия-кандидат ASP.NET MVC 3 (9 ноября 2010 г.)</span><span class="sxs-lookup"><span data-stu-id="78ba7-140">ASP.NET MVC 3 Release Candidate (Nov 9, 2010)</span></span>](#TOC_ASP_NET_3_RC)

    - [<span data-ttu-id="78ba7-141">Новые возможности в версии-Кандидате ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="78ba7-141">New Features in ASP.NET MVC 3 RC</span></span>](#_Toc276711785)
    - [<span data-ttu-id="78ba7-142">Диспетчер пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="78ba7-142">NuGet Package Manager</span></span>](#_Toc276711786)
    - [<span data-ttu-id="78ba7-143">Улучшенная «Новый проект» диалоговое окно</span><span class="sxs-lookup"><span data-stu-id="78ba7-143">Improved "New Project" Dialog Box</span></span>](#_Toc276711787)
    - [<span data-ttu-id="78ba7-144">Контроллеры sessionless</span><span class="sxs-lookup"><span data-stu-id="78ba7-144">Sessionless Controllers</span></span>](#_Toc276711788)
    - [<span data-ttu-id="78ba7-145">Новые атрибуты проверки</span><span class="sxs-lookup"><span data-stu-id="78ba7-145">New Validation Attributes</span></span>](#_Toc276711789)
    - [<span data-ttu-id="78ba7-146">Новые перегрузки для «LabelFor» и «LabelForModel» методов</span><span class="sxs-lookup"><span data-stu-id="78ba7-146">New Overloads for "LabelFor" and "LabelForModel" Methods</span></span>](#_Toc276711790)
    - [<span data-ttu-id="78ba7-147">Дочернее действие кэширования выходных данных</span><span class="sxs-lookup"><span data-stu-id="78ba7-147">Child Action Output Caching</span></span>](#_Toc276711791)
    - [<span data-ttu-id="78ba7-148">«Добавление представления» улучшения диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="78ba7-148">"Add View" Dialog Box Improvements</span></span>](#_Toc276711792)
    - [<span data-ttu-id="78ba7-149">Гранулярная проверка запросов</span><span class="sxs-lookup"><span data-stu-id="78ba7-149">Granular Request Validation</span></span>](#_Toc276711793)
    - [<span data-ttu-id="78ba7-150">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="78ba7-150">Breaking Changes</span></span>](#_Toc276711794)
    - [<span data-ttu-id="78ba7-151">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="78ba7-151">Known Issues</span></span>](#_Toc276711795)
- [<span data-ttu-id="78ba7-152">ASP. Заметки о бета-версии MVC 3 (6 октября 2010 г.)</span><span class="sxs-lookup"><span data-stu-id="78ba7-152">ASP.MVC 3 Beta Notes (Oct 6, 2010)</span></span>](#TOC_ASP_NET_3_Beta)

    - [<span data-ttu-id="78ba7-153">Новые возможности в бета-версия ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="78ba7-153">New Features in ASP.NET MVC 3 Beta</span></span>](#0.1__Toc274034215)
    - [<span data-ttu-id="78ba7-154">Диспетчер пакетов NuPack</span><span class="sxs-lookup"><span data-stu-id="78ba7-154">NuPack Package Manager</span></span>](#0.1__Toc274034216)
    - [<span data-ttu-id="78ba7-155">Улучшенное диалоговое окно "новый проект"</span><span class="sxs-lookup"><span data-stu-id="78ba7-155">Improved New Project Dialog Box</span></span>](#0.1__Toc274034217)
    - [<span data-ttu-id="78ba7-156">Упрощенный способ указать строго типизированным моделям в представлениях Razor</span><span class="sxs-lookup"><span data-stu-id="78ba7-156">Simplified Way to Specify Strongly Typed Models in Razor Views</span></span>](#0.1__Toc274034218)
    - [<span data-ttu-id="78ba7-157">Поддержка новых веб-страниц ASP.NET, вспомогательные методы</span><span class="sxs-lookup"><span data-stu-id="78ba7-157">Support for New ASP.NET Web Pages Helper Methods</span></span>](#0.1__Toc274034219)
    - [<span data-ttu-id="78ba7-158">Поддержка внедрения дополнительных зависимостей</span><span class="sxs-lookup"><span data-stu-id="78ba7-158">Additional Dependency Injection Support</span></span>](#0.1__Toc274034220)
    - [<span data-ttu-id="78ba7-159">Новая поддержка ненавязчивого Ajax на основе jQuery</span><span class="sxs-lookup"><span data-stu-id="78ba7-159">New Support for Unobtrusive jQuery-Based Ajax</span></span>](#0.1__Toc274034221)
    - [<span data-ttu-id="78ba7-160">Новая поддержка ненавязчивой проверки jQuery.</span><span class="sxs-lookup"><span data-stu-id="78ba7-160">New Support for Unobtrusive jQuery Validation</span></span>](#0.1__Toc274034222)
    - [<span data-ttu-id="78ba7-161">Новые флаги уровня приложения для клиентской проверки и ненавязчивого JavaScript</span><span class="sxs-lookup"><span data-stu-id="78ba7-161">New Application-Wide Flags for Client Validation and Unobtrusive JavaScript</span></span>](#0.1__Toc274034223)
    - [<span data-ttu-id="78ba7-162">Новая поддержка код, выполняемый перед запуском представления</span><span class="sxs-lookup"><span data-stu-id="78ba7-162">New Support for Code that Runs Before Views Run</span></span>](#0.1__Toc274034224)
    - [<span data-ttu-id="78ba7-163">Новая поддержка синтаксиса Razor VBHTML</span><span class="sxs-lookup"><span data-stu-id="78ba7-163">New Support for the VBHTML Razor Syntax</span></span>](#0.1__Toc274034225)
    - [<span data-ttu-id="78ba7-164">Более точный контроль над ValidateInputAttribute</span><span class="sxs-lookup"><span data-stu-id="78ba7-164">More Granular Control over ValidateInputAttribute</span></span>](#0.1__Toc274034226)
    - [<span data-ttu-id="78ba7-165">Вспомогательные функции преобразовать символы подчеркивания в дефисы для имен атрибутов HTML, заданные с помощью анонимных объектов</span><span class="sxs-lookup"><span data-stu-id="78ba7-165">Helpers Convert Underscores to Hyphens for HTML Attribute Names Specified Using Anonymous Objects</span></span>](#0.1__Toc274034227)
    - [<span data-ttu-id="78ba7-166">Исправления ошибок</span><span class="sxs-lookup"><span data-stu-id="78ba7-166">Bug Fixes</span></span>](#0.1__Toc274034228)
    - [<span data-ttu-id="78ba7-167">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="78ba7-167">Breaking Changes</span></span>](#0.1__Toc274034229)
    - [<span data-ttu-id="78ba7-168">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="78ba7-168">Known Issues</span></span>](#0.1__Toc274034230)
- [<span data-ttu-id="78ba7-169">Отказ от ответственности</span><span class="sxs-lookup"><span data-stu-id="78ba7-169">Disclaimer</span></span>](#0.1__Toc274034231)

<a id="overview"></a>
## <a name="overview"></a><span data-ttu-id="78ba7-170">Обзор</span><span class="sxs-lookup"><span data-stu-id="78ba7-170">Overview</span></span>

<span data-ttu-id="78ba7-171">В этом документе описывается в выпуске ASP.NET MVC 3 RTM для Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="78ba7-171">This document describes the release of ASP.NET MVC 3 RTM for Visual Studio 2010.</span></span> <span data-ttu-id="78ba7-172">ASP.NET MVC — это платформа для разработки веб-приложений, который использует шаблон Model-View-Controller (MVC).</span><span class="sxs-lookup"><span data-stu-id="78ba7-172">ASP.NET MVC is a framework for developing Web applications that uses the Model-View-Controller (MVC) pattern.</span></span> <span data-ttu-id="78ba7-173">Установщик ASP.NET MVC 3 включает в себя следующие компоненты:</span><span class="sxs-lookup"><span data-stu-id="78ba7-173">The ASP.NET MVC 3 installer includes the following components:</span></span>

- <span data-ttu-id="78ba7-174">Компоненты среды выполнения ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="78ba7-174">ASP.NET MVC 3 runtime components</span></span>
- <span data-ttu-id="78ba7-175">Средства ASP.NET MVC 3 Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="78ba7-175">ASP.NET MVC 3 Visual Studio 2010 tools</span></span>
- <span data-ttu-id="78ba7-176">Компоненты среды выполнения веб-страниц ASP.NET</span><span class="sxs-lookup"><span data-stu-id="78ba7-176">ASP.NET Web Pages run-time components</span></span>
- <span data-ttu-id="78ba7-177">Средства Visual Studio 2010 веб-страниц ASP.NET</span><span class="sxs-lookup"><span data-stu-id="78ba7-177">ASP.NET Web Pages Visual Studio 2010 tools</span></span>
- <span data-ttu-id="78ba7-178">Диспетчер пакетов Майкрософт для .NET (NuGet)</span><span class="sxs-lookup"><span data-stu-id="78ba7-178">Microsoft Package Manager for .NET (NuGet)</span></span>
- <span data-ttu-id="78ba7-179">Обновление для Visual Studio 2010, которая обеспечивает поддержку синтаксиса Razor.</span><span class="sxs-lookup"><span data-stu-id="78ba7-179">An update for Visual Studio 2010 that enables support for Razor syntax.</span></span> <span data-ttu-id="78ba7-180">(Дополнительные сведения см. статью базы знаний 2483190).</span><span class="sxs-lookup"><span data-stu-id="78ba7-180">(For details, see KnowledgeBase article 2483190.)</span></span>

<span data-ttu-id="78ba7-181">Полный набор заметки о выпуске для каждой предварительной версии ASP.NET MVC 3 можно найти на веб-сайте ASP.NET по следующему АДРЕСУ:</span><span class="sxs-lookup"><span data-stu-id="78ba7-181">The full set of release notes for each pre-release version of ASP.NET MVC 3 can be found on the ASP.NET website at the following URL:</span></span>

https://www.asp.net/learn/whitepapers/mvc3-release-notes

<a id="installation-notes"></a>
## <a name="installation-notes"></a><span data-ttu-id="78ba7-182">Замечания по установке</span><span class="sxs-lookup"><span data-stu-id="78ba7-182">Installation Notes</span></span>

<span data-ttu-id="78ba7-183">Чтобы установить ASP.NET MVC 3 RTM с помощью установщика веб-платформы (Web PI), посетите следующую страницу:</span><span class="sxs-lookup"><span data-stu-id="78ba7-183">To install ASP.NET MVC 3 RTM using the Web Platform Installer (Web PI), visit the following page:</span></span>

[https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3](https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3)

<span data-ttu-id="78ba7-184">Кроме того можно загрузить установщик для ASP.NET MVC 3 RTM для Visual Studio 2010 со следующей страницы:</span><span class="sxs-lookup"><span data-stu-id="78ba7-184">Alternatively, you can download the installer for ASP.NET MVC 3 RTM for Visual Studio 2010 from the following page:</span></span>

https://go.microsoft.com/fwlink/?LinkID=208140

<span data-ttu-id="78ba7-185">ASP.NET MVC 3, можно установить и сможете side-by-side с ASP.NET MVC 2.</span><span class="sxs-lookup"><span data-stu-id="78ba7-185">ASP.NET MVC 3 can be installed and can run side-by-side with ASP.NET MVC 2.</span></span>

<a id="software-requirements"></a>
## <a name="software-requirements"></a><span data-ttu-id="78ba7-186">Требования к программному обеспечению</span><span class="sxs-lookup"><span data-stu-id="78ba7-186">Software Requirements</span></span>

<span data-ttu-id="78ba7-187">Компоненты среды выполнения ASP.NET MVC 3 требуется следующее программное обеспечение:</span><span class="sxs-lookup"><span data-stu-id="78ba7-187">The ASP.NET MVC 3 run-time components require the following software:</span></span>

- <span data-ttu-id="78ba7-188">.NET framework версии 4.</span><span class="sxs-lookup"><span data-stu-id="78ba7-188">.NET Framework version 4.</span></span> 

    <span data-ttu-id="78ba7-189">Средства ASP.NET MVC 3 Visual Studio 2010 требуется следующее программное обеспечение:</span><span class="sxs-lookup"><span data-stu-id="78ba7-189">ASP.NET MVC 3 Visual Studio 2010 tools require the following software:</span></span>
- <span data-ttu-id="78ba7-190">Visual Studio 2010 или Visual Web Developer 2010 Express.</span><span class="sxs-lookup"><span data-stu-id="78ba7-190">Visual Studio 2010 or Visual Web Developer 2010 Express.</span></span>

<a id="documentation"></a>
## <a name="documentation"></a><span data-ttu-id="78ba7-191">Документация</span><span class="sxs-lookup"><span data-stu-id="78ba7-191">Documentation</span></span>

<span data-ttu-id="78ba7-192">Документация по ASP.NET MVC доступна на веб-сайте MSDN по АДРЕСУ:</span><span class="sxs-lookup"><span data-stu-id="78ba7-192">Documentation for ASP.NET MVC is available on the MSDN Web site at the following URL:</span></span>

[https://go.microsoft.com/fwlink/?LinkId=205717](https://go.microsoft.com/fwlink/?LinkId=205717)

<span data-ttu-id="78ba7-193">Учебники и другие сведения о ASP.NET MVC доступны на странице MVC ASP.NET веб-сайта по следующему АДРЕСУ:</span><span class="sxs-lookup"><span data-stu-id="78ba7-193">Tutorials and other information about ASP.NET MVC are available on the MVC page of the ASP.NET Web site at the following URL:</span></span>

[https://www.asp.net/mvc/](../mvc/index.md)

<a id="support"></a>
## <a name="support"></a><span data-ttu-id="78ba7-194">Поддержка</span><span class="sxs-lookup"><span data-stu-id="78ba7-194">Support</span></span>

<span data-ttu-id="78ba7-195">Это выпуск полностью поддерживается.</span><span class="sxs-lookup"><span data-stu-id="78ba7-195">This is a fully supported release.</span></span> <span data-ttu-id="78ba7-196">Сведения о получении технической поддержки можно найти на [веб-сайта поддержки Microsoft](https://support.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="78ba7-196">Information about getting technical support can be found at the [Microsoft Support website](https://support.microsoft.com/).</span></span>

<span data-ttu-id="78ba7-197">Также вы можете задавайте вопросы об этом выпуске на форуме ASP.NET MVC, где участники сообщества ASP.NET помогают друг другу, предоставляя полезные сведения:</span><span class="sxs-lookup"><span data-stu-id="78ba7-197">Also feel free to post questions about this release to the ASP.NET MVC forum, where members of the ASP.NET community are frequently able to provide informal support:</span></span>

[https://forums.asp.net/1146.aspx](https://forums.asp.net/1146.aspx)

<a id="upgrading"></a>
## <a name="upgrading-an-aspnet-mvc-2-project-to-aspnet-mvc-3-tools-update"></a><span data-ttu-id="78ba7-198">Обновление проекта ASP.NET MVC 2 до ASP.NET MVC 3 средства обновления</span><span class="sxs-lookup"><span data-stu-id="78ba7-198">Upgrading an ASP.NET MVC 2 Project to ASP.NET MVC 3 Tools Update</span></span>

<span data-ttu-id="78ba7-199">ASP.NET MVC 3 может устанавливаться параллельно с ASP.NET MVC 2 на одном компьютере, который обеспечивает гибкость в выборе, когда следует обновить приложение ASP.NET MVC 2 до ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="78ba7-199">ASP.NET MVC 3 can be installed side by side with ASP.NET MVC 2 on the same computer, which gives you flexibility in choosing when to upgrade an ASP.NET MVC 2 application to ASP.NET MVC 3.</span></span>

<span data-ttu-id="78ba7-200">Чтобы вручную обновить существующее приложение ASP.NET MVC 2 до версии 3, сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="78ba7-200">To manually upgrade an existing ASP.NET MVC 2 application to version 3, do the following:</span></span>

1. <span data-ttu-id="78ba7-201">Создайте новый пустой проект ASP.NET MVC 3 на компьютере.</span><span class="sxs-lookup"><span data-stu-id="78ba7-201">Create a new empty ASP.NET MVC 3 project on your computer.</span></span> <span data-ttu-id="78ba7-202">Этот проект будет содержать некоторые файлы, необходимые для обновления.</span><span class="sxs-lookup"><span data-stu-id="78ba7-202">This project will contain some files that are required for the upgrade.</span></span>
2. <span data-ttu-id="78ba7-203">Скопируйте следующие файлы из проекта ASP.NET MVC 3 в папку проекта ASP.NET MVC 2.</span><span class="sxs-lookup"><span data-stu-id="78ba7-203">Copy the following files from the ASP.NET MVC 3 project into the corresponding location of your ASP.NET MVC 2 project.</span></span> <span data-ttu-id="78ba7-204">Необходимо обновить все ссылки на библиотеку jQuery, с учетом нового имени файла (jQuery-1.5.1.js):</span><span class="sxs-lookup"><span data-stu-id="78ba7-204">You'll need to update any references to the jQuery library to account for the new filename ( jQuery-1.5.1.js):</span></span> 

    - <span data-ttu-id="78ba7-205">/Views/Web.config</span><span class="sxs-lookup"><span data-stu-id="78ba7-205">/Views/Web.config</span></span>
    - <span data-ttu-id="78ba7-206">/packages.config</span><span class="sxs-lookup"><span data-stu-id="78ba7-206">/packages.config</span></span>
    - <span data-ttu-id="78ba7-207">/scripts/\*.js</span><span class="sxs-lookup"><span data-stu-id="78ba7-207">/scripts/\*.js</span></span>
    - <span data-ttu-id="78ba7-208">/Content/темы/\*.\*</span><span class="sxs-lookup"><span data-stu-id="78ba7-208">/Content/themes/\*.\*</span></span>
3. <span data-ttu-id="78ba7-209">Копировать *пакетов* папку в корневом каталоге пустое решение проект ASP.NET MVC 3 в корневой каталог вашего решения, который находится в каталоге, где размещен SLN-файл решения.</span><span class="sxs-lookup"><span data-stu-id="78ba7-209">Copy the *packages* folder in the root of the empty ASP.NET MVC 3 project solution into the root of your solution, which is in the directory where the solution's .sln file is located.</span></span>
4. <span data-ttu-id="78ba7-210">Если проект ASP.NET MVC 2 содержит все области, скопируйте файл /Views/Web.config в *представления* папку для каждой области.</span><span class="sxs-lookup"><span data-stu-id="78ba7-210">If your ASP.NET MVC 2 project contains any areas, copy the /Views/Web.config file to the *Views* folder of each area.</span></span>
5. <span data-ttu-id="78ba7-211">В обоих файлах Web.config в проекте ASP.NET MVC 2 глобальный поиск и замените версию ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="78ba7-211">In both Web.config files in the ASP.NET MVC 2 project, globally search and replace the ASP.NET MVC version.</span></span> <span data-ttu-id="78ba7-212">Найти следующее:</span><span class="sxs-lookup"><span data-stu-id="78ba7-212">Find the following:</span></span> 

    [!code-console[Main](mvc3-release-notes/samples/sample1.cmd)]

    <span data-ttu-id="78ba7-213">Замените его следующим:</span><span class="sxs-lookup"><span data-stu-id="78ba7-213">Replace it with the following:</span></span>

    [!code-console[Main](mvc3-release-notes/samples/sample2.cmd)]
6. <span data-ttu-id="78ba7-214">В обозревателе решений удалите ссылку на *System.Web.Mvc* (какие указывает на библиотеку DLL из версии 2), затем добавьте ссылку на *System.Web.Mvc* (v3.0.0.0).</span><span class="sxs-lookup"><span data-stu-id="78ba7-214">In Solution Explorer, delete the reference to *System.Web.Mvc* (which points to the DLL from version 2), then add a reference to *System.Web.Mvc* (v3.0.0.0).</span></span>
7. <span data-ttu-id="78ba7-215">Добавьте ссылку на System.Web.WebPages.dll и System.Web.Helpers.dll.</span><span class="sxs-lookup"><span data-stu-id="78ba7-215">Add a reference to System.Web.WebPages.dll and System.Web.Helpers.dll.</span></span> <span data-ttu-id="78ba7-216">Эти сборки расположены в следующих папках:</span><span class="sxs-lookup"><span data-stu-id="78ba7-216">These assemblies are located in the following folders:</span></span> 

    - <span data-ttu-id="78ba7-217">%ProgramFiles%\ Microsoft ASP.NET\ASP.NET 3\Assemblies MVC</span><span class="sxs-lookup"><span data-stu-id="78ba7-217">%ProgramFiles%\ Microsoft ASP.NET\ASP.NET MVC 3\Assemblies</span></span>
    - <span data-ttu-id="78ba7-218">%ProgramFiles%\ Pages\v1.0\Assemblies Microsoft ASP.NET\ASP.NET Web</span><span class="sxs-lookup"><span data-stu-id="78ba7-218">%ProgramFiles%\ Microsoft ASP.NET\ASP.NET Web Pages\v1.0\Assemblies</span></span>
8. <span data-ttu-id="78ba7-219">В обозревателе решений щелкните правой кнопкой мыши имя проекта и выберите команду Выгрузить проект.</span><span class="sxs-lookup"><span data-stu-id="78ba7-219">In Solution Explorer, right-click the project name and select Unload Project.</span></span> <span data-ttu-id="78ba7-220">Затем щелкните правой кнопкой мыши имя проекта и выберите "Правка" *имя_проекта*.csproj.</span><span class="sxs-lookup"><span data-stu-id="78ba7-220">Then right-click the project name again and select Edit *ProjectName*.csproj.</span></span>
9. <span data-ttu-id="78ba7-221">Найдите *ProjectTypeGuids* и замените {F85E285D-A4E0-4152-9332-AB1D724D3325} с {E53F8FEA-EAE0-44A6-8774-FFD645390401}.</span><span class="sxs-lookup"><span data-stu-id="78ba7-221">Locate the *ProjectTypeGuids* element and replace {F85E285D-A4E0-4152-9332-AB1D724D3325} with {E53F8FEA-EAE0-44A6-8774-FFD645390401}.</span></span>
10. <span data-ttu-id="78ba7-222">Сохраните изменения, щелкните правой кнопкой мыши проект и выберите команду перезагрузить проект.</span><span class="sxs-lookup"><span data-stu-id="78ba7-222">Save the changes, right-click the project, and then select Reload Project.</span></span>
11. <span data-ttu-id="78ba7-223">В корневом файле Web.config приложения, добавьте следующие параметры для *сборки* раздел.</span><span class="sxs-lookup"><span data-stu-id="78ba7-223">In the application's root Web.config file, add the following settings to the *assemblies* section.</span></span> 

    [!code-xml[Main](mvc3-release-notes/samples/sample3.xml)]
12. <span data-ttu-id="78ba7-224">Если проект ссылается на все библиотеки сторонних производителей скомпилированы с помощью ASP.NET MVC 2, добавьте выделенный ниже *bindingRedirect* элемент в файл Web.config в корне приложения  *Конфигурация* раздел:</span><span class="sxs-lookup"><span data-stu-id="78ba7-224">If the project references any third-party libraries that are compiled using ASP.NET MVC 2, add the following highlighted *bindingRedirect* element to the Web.config file in the application root under the *configuration* section:</span></span> 

    [!code-xml[Main](mvc3-release-notes/samples/sample4.xml)]

<a id="tu-changes"></a>
## <a name="changes-in-aspnet-mvc-3-tools-update"></a><span data-ttu-id="78ba7-225">Изменения в ASP.NET MVC 3 обновление средств</span><span class="sxs-lookup"><span data-stu-id="78ba7-225">Changes in ASP.NET MVC 3 Tools Update</span></span>

<span data-ttu-id="78ba7-226">В этом разделе описываются изменения в выпуске обновления средств ASP.NET MVC 3 с момента выпуска ASP.NET MVC 3 RTM.</span><span class="sxs-lookup"><span data-stu-id="78ba7-226">This section describes changes made in the ASP.NET MVC 3 Tools Update release since the ASP.NET MVC 3 RTM release.</span></span>

<a id="tu-AddControllerDialog"></a>
### <a name="add-controller-dialog-box-can-now-scaffold-controllers-with-views-and-data-access-code"></a><span data-ttu-id="78ba7-227">Диалоговое окно «Добавление контроллера» теперь позволяет формировать контроллеры с представлениями и данных кодом доступа</span><span class="sxs-lookup"><span data-stu-id="78ba7-227">"Add Controller" dialog box can now scaffold controllers with views and data access code</span></span>

<span data-ttu-id="78ba7-228">Формирование шаблонов — способ быстрого создания контроллера и представлений для приложения.</span><span class="sxs-lookup"><span data-stu-id="78ba7-228">Scaffolding is a way of quickly generating a controller and views for your application.</span></span> <span data-ttu-id="78ba7-229">После создания кода, можно изменить его в соответствии с требованиями проекта.</span><span class="sxs-lookup"><span data-stu-id="78ba7-229">After the code has been generated, you can edit it to meet your project's requirements.</span></span>

<span data-ttu-id="78ba7-230">Для запуска *Добавление контроллера* диалогового окна в ASP.NET MVC 3, щелкните правой кнопкой мыши *контроллеров* папку в *обозревателе решений*, нажмите кнопку *добавить*, а затем нажмите кнопку *контроллера*.</span><span class="sxs-lookup"><span data-stu-id="78ba7-230">To launch the *Add Controller* dialog box in ASP.NET MVC 3, right-click the *Controllers* folder in *Solution Explorer*, click *Add*, and then click *Controller*.</span></span> <span data-ttu-id="78ba7-231">Диалоговое окно было усовершенствовано предлагать дополнительные параметры формирования шаблонов.</span><span class="sxs-lookup"><span data-stu-id="78ba7-231">The dialog box has been enhanced to offer additional scaffolding options.</span></span>

![](mvc3-release-notes/_static/image1.png)

<span data-ttu-id="78ba7-232">Существует три шаблона по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="78ba7-232">There are three scaffolding templates available by default.</span></span>

#### <a name="empty-controller"></a><span data-ttu-id="78ba7-233">Пустой контроллер</span><span class="sxs-lookup"><span data-stu-id="78ba7-233">Empty Controller</span></span>

<span data-ttu-id="78ba7-234">Этот шаблон создает пустой файл контроллера.</span><span class="sxs-lookup"><span data-stu-id="78ba7-234">This template generates an empty controller file.</span></span> <span data-ttu-id="78ba7-235">Этот шаблон аналогичен снятому флажку *Добавление действий для создания, редактирования, подробности, удалите сценарии* в предыдущих версиях ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="78ba7-235">This template is equivalent to not checking *Add actions for create, edit, details, delete scenarios* in previous versions of ASP.NET MVC.</span></span> <span data-ttu-id="78ba7-236">При выборе данного шаблона другие параметры доступны.</span><span class="sxs-lookup"><span data-stu-id="78ba7-236">If you choose this, no further options are available.</span></span>

#### <a name="controller-with-empty-readwrite-actions"></a><span data-ttu-id="78ba7-237">Контроллер с действиями пустой чтения и записи</span><span class="sxs-lookup"><span data-stu-id="78ba7-237">Controller with empty read/write actions</span></span>

<span data-ttu-id="78ba7-238">Этот шаблон создает файл контроллера, который содержит все методы требуемое действие, но без реализации их кода в методах.</span><span class="sxs-lookup"><span data-stu-id="78ba7-238">This template generates a controller file that has all the required action methods but no implementation code in the methods.</span></span> <span data-ttu-id="78ba7-239">Этот шаблон аналогичен установленному флажку *Добавление действий для создания, редактирования, подробности, удалите сценарии* в предыдущих версиях ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="78ba7-239">This template is equivalent to checking *Add actions for create, edit, details, delete scenarios* in previous versions of ASP.NET MVC.</span></span> <span data-ttu-id="78ba7-240">При выборе данного шаблона другие параметры доступны.</span><span class="sxs-lookup"><span data-stu-id="78ba7-240">If you choose this, no further options are available.</span></span>

#### <a name="controller-with-readwrite-actions-and-views-using-entity-framework"></a><span data-ttu-id="78ba7-241">Контроллер с действиями чтения и записи и представлениями, использующий Entity Framework</span><span class="sxs-lookup"><span data-stu-id="78ba7-241">Controller with read/write actions and views, using Entity Framework</span></span>

<span data-ttu-id="78ba7-242">Этот шаблон позволяет быстро создавать пользовательский интерфейс рабочего ввода данных.</span><span class="sxs-lookup"><span data-stu-id="78ba7-242">This template enables you to quickly create a working data-entry user interface.</span></span> <span data-ttu-id="78ba7-243">Он создает код, обрабатывающий ряд общих требований и сценариев, таких как следующие:</span><span class="sxs-lookup"><span data-stu-id="78ba7-243">It generates code that handles a range of common requirements and scenarios, such as the following:</span></span>

- <span data-ttu-id="78ba7-244">*Доступ к данным*.</span><span class="sxs-lookup"><span data-stu-id="78ba7-244">*Data access*.</span></span> <span data-ttu-id="78ba7-245">Созданный код считывает и записывает сущностей в базе данных.</span><span class="sxs-lookup"><span data-stu-id="78ba7-245">The generated code reads and writes entities in a database.</span></span> <span data-ttu-id="78ba7-246">Он работает с помощью подхода Entity Framework Code First, если выбрать существующий класс контекста данных или позволить шаблону создать новый *DbContext* класса.</span><span class="sxs-lookup"><span data-stu-id="78ba7-246">It works with the Entity Framework Code First approach if you choose an existing data context class or if you let the template generate a new *DbContext* class.</span></span> <span data-ttu-id="78ba7-247">Она также работает с использованием подхода Entity Framework Database First или Model First, при выборе существующей *ObjectContext* класса.</span><span class="sxs-lookup"><span data-stu-id="78ba7-247">It also works with the Entity Framework Database First or Model First approach if you choose an existing *ObjectContext* class.</span></span>
- <span data-ttu-id="78ba7-248">*Проверка*.</span><span class="sxs-lookup"><span data-stu-id="78ba7-248">*Validation*.</span></span> <span data-ttu-id="78ba7-249">Созданный код использует привязки модели ASP.NET MVC и метаданные, чтобы проверки передачи форм в соответствии с правилами, объявленных в классе модели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-249">The generated code uses ASP.NET MVC model binding and metadata features so that form submissions are validated according to rules declared on your model class.</span></span> <span data-ttu-id="78ba7-250">Сюда входят встроенные правила проверки, такие как *требуется* и *StringLength* атрибуты и пользовательские правила проверки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-250">This includes built-in validation rules, such as the *Required* and *StringLength* attributes, and custom validation rules.</span></span>
- <span data-ttu-id="78ba7-251">*Отношения один ко многим*.</span><span class="sxs-lookup"><span data-stu-id="78ba7-251">*One-to-many relationships*.</span></span> <span data-ttu-id="78ba7-252">Если вы определяете один ко многим связей по внешнему ключу между классами модели, созданный код сформирует раскрывающиеся списки для выбора связанных сущностей.</span><span class="sxs-lookup"><span data-stu-id="78ba7-252">If you define one-to-many foreign-key relationships between your model classes, the generated code will produce drop-down lists for selecting related entities.</span></span> <span data-ttu-id="78ba7-253">Например можно определить следующие классы модели Entity Framework Code First соглашениям:</span><span class="sxs-lookup"><span data-stu-id="78ba7-253">For example, you might define the following model classes following Entity Framework Code First conventions:</span></span> 

    [!code-csharp[Main](mvc3-release-notes/samples/sample5.cs)]

    <span data-ttu-id="78ba7-254">При формировании шаблона контроллера для *продукта* класса, его представления позволяют пользователям выбирать *категории* для каждой *продукта* экземпляра.</span><span class="sxs-lookup"><span data-stu-id="78ba7-254">When you then scaffold a controller for the *Product* class, its views will allow users to choose a *Category* object for each *Product* instance.</span></span>

    <span data-ttu-id="78ba7-255">Этот шаблон предоставляет дополнительные параметры в *Добавление контроллера* диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="78ba7-255">This template enables additional options in the *Add Controller* dialog box.</span></span> <span data-ttu-id="78ba7-256">Для *класс модели*, можно выбрать любой класс модели в решении, который определяет тип данных, которые пользователи смогут создавать или изменять:</span><span class="sxs-lookup"><span data-stu-id="78ba7-256">For *Model class*, you can choose any model class in your solution, which determines the type of data that users will be able to create or edit:</span></span>
- <span data-ttu-id="78ba7-257">Если вы хотите использовать Entity Framework Code First, можно выбрать любой класс модели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-257">If you want to use Entity Framework Code First, you can choose any model class.</span></span>
- <span data-ttu-id="78ba7-258">Если вы используете Entity Framework Database First или Entity Framework Model First, не забудьте выбрать класс сущности, определенного в концептуальной модели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-258">If you are using Entity Framework Database First or Entity Framework Model First, be sure to choose an entity class defined in your conceptual model.</span></span>

<span data-ttu-id="78ba7-259">Для *класс контекста данных*, чтобы эти параметры необходимо настроить:</span><span class="sxs-lookup"><span data-stu-id="78ba7-259">For *Data Context class*, you can make these choices:</span></span>

- <span data-ttu-id="78ba7-260">Если вы хотите использовать Code First и нет существующего класса контекста данных, выберите \*\* новый контекст данных \*\*.</span><span class="sxs-lookup"><span data-stu-id="78ba7-260">If you want to use Code First and have no existing data context class, choose \*\*New data context \*\*.</span></span> <span data-ttu-id="78ba7-261">Затем класс контекста данных создается автоматически.</span><span class="sxs-lookup"><span data-stu-id="78ba7-261">A data context class will then be generated for you.</span></span>
- <span data-ttu-id="78ba7-262">Если вы хотите использовать Code First и иметь существующий класс контекста данных, выберите его.</span><span class="sxs-lookup"><span data-stu-id="78ba7-262">If you want to use Code First and have an existing data context class, choose it here.</span></span> <span data-ttu-id="78ba7-263">Он будет обновляться для сохранения выбранного класса модели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-263">It will be updated to persist the model class you have selected.</span></span>
- <span data-ttu-id="78ba7-264">Если вы используете Database First или Model First, выберите класс контекста объекта.</span><span class="sxs-lookup"><span data-stu-id="78ba7-264">If you are using Database First or Model First, choose your object context class here.</span></span>

<span data-ttu-id="78ba7-265">Для представлений выберите модуль просмотра, который вы хотите использовать, или выберите None, если не требуется формировать представления.</span><span class="sxs-lookup"><span data-stu-id="78ba7-265">For Views, choose the view engine you want to use, or choose None if you don't want to scaffold any views.</span></span>

<span data-ttu-id="78ba7-266">Можно выбрать дополнительные параметры для указания дополнительных параметров сформированных представлений.</span><span class="sxs-lookup"><span data-stu-id="78ba7-266">You can select Advanced Optionsto specify further options for the generated views.</span></span> <span data-ttu-id="78ba7-267">Например можно выбрать макет или главную страницу.</span><span class="sxs-lookup"><span data-stu-id="78ba7-267">For example, you can choose the layout or master page to use.</span></span>

<a id="tu-ImprovementsNewDialogBox"></a>
### <a name="improvements-to-the-aspnet-mvc-3-new-project-dialog-box"></a><span data-ttu-id="78ba7-268">Усовершенствования «ASP.NET MVC 3 новый проект» диалоговое окно</span><span class="sxs-lookup"><span data-stu-id="78ba7-268">Improvements to the "ASP.NET MVC 3 New Project" Dialog Box</span></span>

<span data-ttu-id="78ba7-269">Диалоговое окно, используемого для создания новых проектов ASP.NET MVC 3 содержит множество улучшений, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="78ba7-269">The dialog box you use to create new ASP.NET MVC 3 projects includes multiple improvements, as listed below.</span></span>

![](mvc3-release-notes/_static/image2.png)

#### <a name="new-intranet-project-template"></a><span data-ttu-id="78ba7-270">Новый шаблон «Проект интрасети»</span><span class="sxs-lookup"><span data-stu-id="78ba7-270">New "Intranet Project" Template</span></span>

<span data-ttu-id="78ba7-271">В списке шаблон проекта включает в себя новый шаблон приложение интрасети.</span><span class="sxs-lookup"><span data-stu-id="78ba7-271">The Project Template list includes a new Intranet Application template.</span></span> <span data-ttu-id="78ba7-272">Этот шаблон содержит параметры для веб-приложений с помощью проверки подлинности Windows вместо проверки подлинности форм.</span><span class="sxs-lookup"><span data-stu-id="78ba7-272">This template contains settings for building a web application using Windows authentication instead of forms authentication.</span></span> <span data-ttu-id="78ba7-273">Так как приложения интрасети требуются некоторые параметры IIS, не может быть инкапсулирована в шаблон проекта, шаблон включает файл readme с инструкциями по шаблон проекта, который работал в IIS.</span><span class="sxs-lookup"><span data-stu-id="78ba7-273">Because an intranet application requires some IIS settings that can't be encapsulated in a project template, the template includes a readme file with instructions for how to make the project template work in IIS.</span></span> <span data-ttu-id="78ba7-274">Документация по новому шаблону приложение интрасети доступно на веб-сайте MSDN по АДРЕСУ:</span><span class="sxs-lookup"><span data-stu-id="78ba7-274">Documentation for the a new Intranet Application template is available on the MSDN website at the following URL:</span></span>

[https://msdn.microsoft.com/library/gg703322(VS.98).aspx](https://msdn.microsoft.com/library/gg703322(VS.98).aspx)

#### <a name="project-templates-are-now-html5-enabled"></a><span data-ttu-id="78ba7-275">Шаблоны проектов, теперь поддерживают HTML5</span><span class="sxs-lookup"><span data-stu-id="78ba7-275">Project templates are now HTML5 enabled</span></span>

<span data-ttu-id="78ba7-276">Диалоговое окно создания проекта теперь содержит параметр для добавления функций HTML5 в шаблоны проектов.</span><span class="sxs-lookup"><span data-stu-id="78ba7-276">The new-project dialog box now contains an option to add HTML5-specific features to the project templates.</span></span> <span data-ttu-id="78ba7-277">Выбрав параметр вызывает будут созданы представления, содержащие новые HTML5 `<header>`, `<footer>`, и `<navigation>` элементов.</span><span class="sxs-lookup"><span data-stu-id="78ba7-277">Selecting the option causes views to be generated that contain the new HTML5 `<header>`, `<footer>`, and `<navigation>` elements.</span></span>

<span data-ttu-id="78ba7-278">Обратите внимание на то, что более ранние версии браузеров не поддерживают теги HTML5.</span><span class="sxs-lookup"><span data-stu-id="78ba7-278">Note that earlier versions of browsers do not support HTML5-specific tags.</span></span> <span data-ttu-id="78ba7-279">Чтобы устранить это ограничение, шаблоны проектов HTML5 содержат ссылку на библиотеку Modernizr.</span><span class="sxs-lookup"><span data-stu-id="78ba7-279">To address this limitation, the HTML5 project templates include a reference to the Modernizr library.</span></span> <span data-ttu-id="78ba7-280">(См. следующий раздел).</span><span class="sxs-lookup"><span data-stu-id="78ba7-280">(See the next section.)</span></span>

<a id="tu-Modernizr"></a>
### <a name="project-templates-now-include-modernizr-17"></a><span data-ttu-id="78ba7-281">Шаблоны проектов добавлена добавлена библиотека Modernizr 1.7</span><span class="sxs-lookup"><span data-stu-id="78ba7-281">Project templates now include Modernizr 1.7</span></span>

<span data-ttu-id="78ba7-282">Modernizr — это библиотека JavaScript, которая обеспечивает поддержку CSS 3 и HTML5 в браузерах, которые еще не поддерживают эти функции.</span><span class="sxs-lookup"><span data-stu-id="78ba7-282">Modernizr is a JavaScript library that enables support for CSS 3 and HTML5 in browsers that do not yet support these features.</span></span> <span data-ttu-id="78ba7-283">Эта библиотека включена как предварительно установленный пакет NuGet в шаблонах для проектов ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="78ba7-283">This library is included as a pre-installed NuGet package in templates for ASP.NET MVC 3 projects.</span></span> <span data-ttu-id="78ba7-284">Дополнительные сведения о Modernizr см. в разделе [ http://www.modernizr.com/ ](http://www.modernizr.com/).</span><span class="sxs-lookup"><span data-stu-id="78ba7-284">For more information about Modernizr, see [http://www.modernizr.com/](http://www.modernizr.com/).</span></span>

<a id="tu-UpdatedJQuery"></a>
### <a name="project-templates-include-updated-versions-of-jquery-jquery-ui-and-jquery-validation"></a><span data-ttu-id="78ba7-285">Шаблоны проектов включены обновленные версии jQuery, jQuery UI и jQuery проверки</span><span class="sxs-lookup"><span data-stu-id="78ba7-285">Project templates include updated versions of jQuery, jQuery UI, and jQuery Validation</span></span>

<span data-ttu-id="78ba7-286">Шаблоны проектов теперь содержат следующие версии скриптов jQuery:</span><span class="sxs-lookup"><span data-stu-id="78ba7-286">The project templates now include the following versions of the jQuery scripts:</span></span>

- <span data-ttu-id="78ba7-287">jQuery 1.5.1</span><span class="sxs-lookup"><span data-stu-id="78ba7-287">jQuery 1.5.1</span></span>
- <span data-ttu-id="78ba7-288">jQuery Validation 1.8</span><span class="sxs-lookup"><span data-stu-id="78ba7-288">jQuery Validation 1.8</span></span>
- <span data-ttu-id="78ba7-289">jQuery UI 1.8.11</span><span class="sxs-lookup"><span data-stu-id="78ba7-289">jQuery UI 1.8.11</span></span>

<span data-ttu-id="78ba7-290">Эти библиотеки включены в виде предустановленных пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="78ba7-290">These libraries are included as pre-installed NuGet packages.</span></span>

<a id="tu-EF"></a>
### <a name="project-templates-now-include-adonet-entity-framework-41-as-a-pre-installed-nuget-package"></a><span data-ttu-id="78ba7-291">Шаблоны проектов добавлена платформа ADO.NET Entity Framework 4.1 в виде предустановленного пакета NuGet</span><span class="sxs-lookup"><span data-stu-id="78ba7-291">Project templates now include ADO.NET Entity Framework 4.1 as a pre-installed NuGet package</span></span>

<span data-ttu-id="78ba7-292">Платформа ADO.NET Entity Framework 4.1 включает в себя средство Code First.</span><span class="sxs-lookup"><span data-stu-id="78ba7-292">The ADO.NET Entity Framework 4.1 includes the Code First feature.</span></span> <span data-ttu-id="78ba7-293">Код сначала-это новый шаблон разработки для платформы ADO.NET Entity Framework, который представляет собой альтернативу существующие шаблоны Database First и Model First.</span><span class="sxs-lookup"><span data-stu-id="78ba7-293">Code First is a new development pattern for the ADO.NET Entity Framework that provides an alternative to the existing Database First and Model First patterns.</span></span>

<span data-ttu-id="78ba7-294">Code First предназначен определения модели с помощью классов POCO («обычные старые объекты CLR»), написанных на Visual Basic или C#.</span><span class="sxs-lookup"><span data-stu-id="78ba7-294">Code First is focused around defining your model using POCO classes ("plain old CLR objects") written in Visual Basic or C#.</span></span> <span data-ttu-id="78ba7-295">Эти классы затем можно сопоставить с существующей базы данных или использоваться для создания схемы базы данных.</span><span class="sxs-lookup"><span data-stu-id="78ba7-295">These classes can then be mapped to an existing database or be used to generate a database schema.</span></span> <span data-ttu-id="78ba7-296">Дополнительные настройки можно указать с помощью *DataAnnotations* атрибуты или интерфейсов API.</span><span class="sxs-lookup"><span data-stu-id="78ba7-296">Additional configuration can be supplied using *DataAnnotations* attributes or using fluent APIs.</span></span>

<span data-ttu-id="78ba7-297">Документацию по использованию кода Firstwith ASP.NET MVC доступна на веб-сайте ASP.NET по следующим URL-адресам:</span><span class="sxs-lookup"><span data-stu-id="78ba7-297">Documentation for using Code Firstwith ASP.NET MVC is available on the ASP.NET website at the following URLs:</span></span>

<span data-ttu-id="78ba7-298">[https://www.asp.net/mvc/tutorials/getting-started-with-mvc3-part1-cs](../mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) [https://www.asp.net/entity-framework/tutorials/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application](../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)</span><span class="sxs-lookup"><span data-stu-id="78ba7-298">[https://www.asp.net/mvc/tutorials/getting-started-with-mvc3-part1-cs](../mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) [https://www.asp.net/entity-framework/tutorials/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application](../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)</span></span>

<a id="tu-JavaScriptLibsNuget"></a>
### <a name="project-templates-include-javascript-libraries-as-pre-installed-nuget-packages"></a><span data-ttu-id="78ba7-299">Шаблоны проектов включены библиотеки JavaScript в виде предустановленных пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="78ba7-299">Project templates include JavaScript libraries as pre-installed NuGet packages</span></span>

<span data-ttu-id="78ba7-300">При создании нового проекта ASP.NET MVC 3, проект включает файлы JavaScript, указанные ранее (например, библиотеку Modernizr) путем установки их с помощью NuGet вместо непосредственного добавления скриптов в папку Scripts шаблона проекта содержимое.</span><span class="sxs-lookup"><span data-stu-id="78ba7-300">When you create a new ASP.NET MVC 3 project, the project includes the JavaScript files mentioned previously (for example, the Modernizr library) by installing them using NuGet instead of directly adding the scripts to the Scripts folder in the project template contents.</span></span> <span data-ttu-id="78ba7-301">Это позволяет использовать NuGet для обновления скриптов до последней версии при выходе новых версий скриптов.</span><span class="sxs-lookup"><span data-stu-id="78ba7-301">This enables you to use NuGet to update the scripts to the latest version when new versions of the scripts are released.</span></span>

<span data-ttu-id="78ba7-302">Например, учитывая частоту новых выпусков jQuery, версии jQuery, включенная в шаблон проекта в определенный момент будет устарели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-302">For example, given the frequency of new jQuery releases, the version of jQuery included in the project template will at some point be out of date.</span></span> <span data-ttu-id="78ba7-303">Тем не менее так как jQuery включен как устанавливаемый пакет NuGet, вы получите уведомление в диалоговом окне NuGet в случае доступности новых версий jQuery.</span><span class="sxs-lookup"><span data-stu-id="78ba7-303">However, because jQuery is included as an installed NuGet package, you will be notified in the NuGet dialog box when newer versions of jQuery are available.</span></span>

<span data-ttu-id="78ba7-304">Так как номер версии jQuery содержится в имени файла, при обновлении jQuery до последней версии также требуется обновить `<script>` тег, который ссылается на файл jQuery для использования нового имени файла.</span><span class="sxs-lookup"><span data-stu-id="78ba7-304">Because jQuery includes the version number in the file name, updating jQuery to the latest version also requires updating the `<script>` tag that references the jQuery file to use the new file name.</span></span> <span data-ttu-id="78ba7-305">Другие включенные библиотеки скриптов не содержат номер версии в имени скрипта, поэтому их можно легко обновить до последних версий.</span><span class="sxs-lookup"><span data-stu-id="78ba7-305">Other included script libraries do not include the version number in the script name, so they can be more easily updated to their latest versions.</span></span>

<a id="tu-KI"></a>
## <a name="known-issues"></a><span data-ttu-id="78ba7-306">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="78ba7-306">Known Issues</span></span>

- <span data-ttu-id="78ba7-307">В некоторых случаях установка может завершиться сбоем с ошибка сообщение «сбой установки с кодом ошибки (0x80070643)».</span><span class="sxs-lookup"><span data-stu-id="78ba7-307">In some cases, installation may fail with the error message "Installation failed with error code (0x80070643)".</span></span> <span data-ttu-id="78ba7-308">Сведения о том, как обойти эту проблему, см. в разделе [статье базы знаний 2531566](https://support.microsoft.com/kb/2531566).</span><span class="sxs-lookup"><span data-stu-id="78ba7-308">For information about how to work around this issue, see [KnowledgeBase article 2531566](https://support.microsoft.com/kb/2531566).</span></span>
- <span data-ttu-id="78ba7-309">Формирование шаблонов для добавления контроллера не формируются сущности, которые используют преимущества поддержки наследования сущностей в Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="78ba7-309">The scaffolding for adding a controller does not scaffold entities that take advantage of entity inheritance support within Entity Framework.</span></span> <span data-ttu-id="78ba7-310">Например, если базовый *Person* класс, от которого наследуют *учащихся* класса, формирование шаблонов *учащихся* класс приведет к созданный код, который не будет компилироваться.</span><span class="sxs-lookup"><span data-stu-id="78ba7-310">For example, given a base *Person* class that's inherited by a *Student* class, scaffolding the *Student* class will result in generated code that does not compile.</span></span>
- <span data-ttu-id="78ba7-311">Создание нового проекта ASP.NET MVC 3 в папке решения причины *NullReferenceException* ошибки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-311">Creating a new ASP.NET MVC 3 project within a solution folder causes a *NullReferenceException* error.</span></span> <span data-ttu-id="78ba7-312">Обходной путь — Создание проекта ASP.NET MVC 3 в корневой папке решения и переместив его в папке решения.</span><span class="sxs-lookup"><span data-stu-id="78ba7-312">The workaround is to create the ASP.NET MVC 3 project in the root of the solution and then move it into the solution folder.</span></span>
- <span data-ttu-id="78ba7-313">IntelliSense для синтаксиса Razor не работает, если установлен ReSharper.</span><span class="sxs-lookup"><span data-stu-id="78ba7-313">IntelliSense for Razor syntax does not work when ReSharper is installed.</span></span> <span data-ttu-id="78ba7-314">Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3, см. в записи [Razor Intellisense и ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хади Харири, в котором описываются способы хэйди.</span><span class="sxs-lookup"><span data-stu-id="78ba7-314">If you have ReSharper installed and want to take advantage of the Razor IntelliSense support in ASP.NET MVC 3, see the entry [Razor Intellisense and ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) on Hadi Hariri's blog, which discusses ways to use them together today.</span></span>
- <span data-ttu-id="78ba7-315">Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, размер которого меньше, чем планировалось.</span><span class="sxs-lookup"><span data-stu-id="78ba7-315">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="78ba7-316">При редактировании представления Razor (.cshtml или. *vbhtml* файл), представления.</span><span class="sxs-lookup"><span data-stu-id="78ba7-316">When you are editing a Razor view (.cshtml or .*vbhtml* file), views.</span></span> <span data-ttu-id="78ba7-317">ASP.NET MVC 3 не включает фрагменты для представлений Razor... aspxselecting фрагмент кода для ASP.NET MVC отображаются</span><span class="sxs-lookup"><span data-stu-id="78ba7-317">ASP.NET MVC 3 does not include any snippets for Razor views..aspxselecting a code snippet for ASP.NET MVC will show snippets for</span></span>
- <span data-ttu-id="78ba7-318">Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютере, где не установлена среда Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="78ba7-318">If you install ASP.NET MVC 3 for Visual Web Developer Express on a computer where Visual Studio is not installed, and then later install Visual Studio, you must reinstall ASP.NET MVC 3.</span></span> <span data-ttu-id="78ba7-319">Visual Studio и Visual Web Developer Express совместно использовать компоненты, которые обновляются установщиком ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="78ba7-319">Visual Studio and Visual Web Developer Express share components that are upgraded by the ASP.NET MVC 3 installer.</span></span> <span data-ttu-id="78ba7-320">То же самое касается при установке ASP.NET MVC 3 для Visual Studio на компьютере, который не имеет Visual Web Developer Express и последующей установке Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="78ba7-320">The same issue applies if you install ASP.NET MVC 3 for Visual Studio on a computer that does not have Visual Web Developer Express and then later install Visual Web Developer Express.</span></span>

<a id="MVC3RTM"></a>
## <a name="changes-in-aspnet-mvc-3-rtm"></a><span data-ttu-id="78ba7-321">Изменения в ASP.NET MVC 3 RTM</span><span class="sxs-lookup"><span data-stu-id="78ba7-321">Changes in ASP.NET MVC 3 RTM</span></span>

<span data-ttu-id="78ba7-322">В этом разделе описаны изменения и исправления, внесенные в выпуске ASP.NET MVC 3 RTM с момента выпуска RC2.</span><span class="sxs-lookup"><span data-stu-id="78ba7-322">This section describes changes and bug fixes made in the ASP.NET MVC 3 RTM release since the RC2 release.</span></span>

<a id="RTM-1"></a>
### <a name="change-updated-the-version-of-jquery-ui-to-187"></a><span data-ttu-id="78ba7-323">Изменение: Обновленную версию пользовательский Интерфейс jQuery для 1.8.7</span><span class="sxs-lookup"><span data-stu-id="78ba7-323">Change: Updated the version of jQuery UI to 1.8.7</span></span>

<span data-ttu-id="78ba7-324">Шаблоны проектов ASP.NET MVC для Visual Studio были обновлены, чтобы включить последнюю версию библиотеки jQuery UI.</span><span class="sxs-lookup"><span data-stu-id="78ba7-324">The ASP.NET MVC project templates for Visual Studio were updated to include the latest version of the jQuery UI library.</span></span> <span data-ttu-id="78ba7-325">Шаблоны также содержат минимальный набор файлов ресурсов, необходимых для jQuery пользовательского интерфейса, такие как связанный CSS и файлы изображений.</span><span class="sxs-lookup"><span data-stu-id="78ba7-325">The templates also include the minimal set of resource files required by jQuery UI, such as the associated CSS and image files.</span></span>

<a id="RTM-2"></a>
### <a name="change-changed-the-default-modelmetadataprovider-back-to-dataannotationsmodelmetadataprovider"></a><span data-ttu-id="78ba7-326">Изменение: Изменили значение по умолчанию ModelMetadataProvider обратно в DataAnnotationsModelMetadataProvider</span><span class="sxs-lookup"><span data-stu-id="78ba7-326">Change: Changed the default ModelMetadataProvider back to DataAnnotationsModelMetadataProvider</span></span>

<span data-ttu-id="78ba7-327">Выпуск RC2, появившиеся в ASP.NET MVC 3 *CachedDataAnnotationsMetadataProvider* класс, который предоставлен кэширования на базе существующей *DataAnnotationsModelMetadataProvider* классов как Повышение производительности.</span><span class="sxs-lookup"><span data-stu-id="78ba7-327">The RC2 release of ASP.NET MVC 3 introduced a *CachedDataAnnotationsMetadataProvider* class that provided caching on top of the existing *DataAnnotationsModelMetadataProvider* class as a performance improvement.</span></span> <span data-ttu-id="78ba7-328">Тем не менее, некоторые ошибки были выведены в этой реализации, чтобы отменить изменение и переместить в проект MVC Futures, доступный в [Интернет-стек любви ASP.NET](https://github.com/aspnet/AspNetWebStack).</span><span class="sxs-lookup"><span data-stu-id="78ba7-328">However, some bugs were reported with this implementation, so the change has been reverted and moved into the MVC Futures project, which is available at [ASP.NET WebStack](https://github.com/aspnet/AspNetWebStack).</span></span>

<a id="RTM-3"></a>
### <a name="fixed-pasting-part-of-a-razor-expression-that-contains-whitespace-results-in-it-being-reversed"></a><span data-ttu-id="78ba7-329">Исправлено. Вставка части выражения Razor, содержащий результаты пробелов в нем выполняется в обратном порядке</span><span class="sxs-lookup"><span data-stu-id="78ba7-329">Fixed: Pasting part of a Razor expression that contains whitespace results in it being reversed</span></span>

<span data-ttu-id="78ba7-330">В предварительных версиях ASP.NET MVC 3 при вставке часть выражения Razor, содержащее пробелы, в файле Razor, зеркально результирующее выражение.</span><span class="sxs-lookup"><span data-stu-id="78ba7-330">In pre-release versions of ASP.NET MVC 3, when you paste a part of a Razor expression that contains whitespace into a Razor file, the resulting expression is reversed.</span></span> <span data-ttu-id="78ba7-331">Например рассмотрим следующий блок кода Razor:</span><span class="sxs-lookup"><span data-stu-id="78ba7-331">For example, consider the following Razor code block:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample6.cshtml)]

<span data-ttu-id="78ba7-332">Если вы выберите текст «первый param» в первый метод и вставьте его в качестве аргумента в второй метод, результат будет следующим:</span><span class="sxs-lookup"><span data-stu-id="78ba7-332">If you select the text "first param" in the first method and paste it as an argument into the second method, the result is as follows:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample7.cshtml)]

<span data-ttu-id="78ba7-333">Правильное поведение — в том, что операции вставки следует привести следующие:</span><span class="sxs-lookup"><span data-stu-id="78ba7-333">The correct behavior is that the paste operation should result in the following:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample8.cshtml)]

<span data-ttu-id="78ba7-334">Эта проблема была устранена в выпуске RTM, чтобы выражение правильно сохранить во время операции вставки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-334">This issue has been fixed in the RTM release so that the expression is correctly preserved during the paste operation.</span></span>

<a id="RTM-4"></a>
### <a name="fixed-renaming-a-razor-file-that-is-opened-in-the-editor-disables-syntax-colorization-and-intellisense"></a><span data-ttu-id="78ba7-335">Исправлено. Переименование файла Razor, который открыт в редакторе отключает цветовое выделение синтаксиса и IntelliSense</span><span class="sxs-lookup"><span data-stu-id="78ba7-335">Fixed: Renaming a Razor file that is opened in the editor disables syntax colorization and IntelliSense</span></span>

<span data-ttu-id="78ba7-336">Переименование файла Razor с помощью обозревателя решений, пока файл открыт в окне редактора вызывает выделение синтаксических конструкций и IntelliSense работают для этого файла.</span><span class="sxs-lookup"><span data-stu-id="78ba7-336">Renaming a Razor file using Solution Explorer while the file is opened in the editor window causes syntax highlighting and IntelliSense to stop working for that file.</span></span> <span data-ttu-id="78ba7-337">Эта проблема была исправлена, чтобы выделение и IntelliSense, сохраняются после переименования.</span><span class="sxs-lookup"><span data-stu-id="78ba7-337">This has been fixed so that highlighting and IntelliSense are maintained after a rename.</span></span>

<a id="RTM-KI"></a>
## <a name="known-issues"></a><span data-ttu-id="78ba7-338">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="78ba7-338">Known Issues</span></span>

- <span data-ttu-id="78ba7-339">Если вы закроете Visual Studio 2010 SP1 Beta, пока открыта консоль диспетчера пакетов NuGet, Visual Studio аварийно завершает работу и выполняется попытка перезапуска.</span><span class="sxs-lookup"><span data-stu-id="78ba7-339">If you close Visual Studio 2010 SP1 Beta while the NuGet Package Manager Console is open, Visual Studio crashes and attempts to restart.</span></span> <span data-ttu-id="78ba7-340">Это будет исправлено в выпуске RTM с пакетом обновления 1 для Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="78ba7-340">This will be fixed in the RTM release of Visual Studio 2010 SP1.</span></span>
- <span data-ttu-id="78ba7-341">Установщик ASP.NET MVC 3 только возможность установить исходную версию диспетчера пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="78ba7-341">The ASP.NET MVC 3 installer is only able to install an initial version of the NuGet package manager.</span></span> <span data-ttu-id="78ba7-342">После установки начальной версии NuGet можно установить и обновить с помощью диспетчера расширений Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="78ba7-342">After you have installed the initial version, NuGet can be installed and updated using Visual Studio Extension Manager.</span></span> <span data-ttu-id="78ba7-343">Если вы уже установили NuGet, перейдите к коллекции расширений Visual Studio для обновления до последней версии NuGet.</span><span class="sxs-lookup"><span data-stu-id="78ba7-343">If you already have NuGet installed, go to the Visual Studio Extension Gallery to update to the latest version of NuGet.</span></span>
- <span data-ttu-id="78ba7-344">Создание нового проекта ASP.NET MVC 3 в папке решения причины *NullReferenceException* ошибки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-344">Creating a new ASP.NET MVC 3 project within a solution folder causes a *NullReferenceException* error.</span></span> <span data-ttu-id="78ba7-345">Обходной путь — Создание проекта ASP.NET MVC 3 в корневой папке решения и переместив его в папке решения.</span><span class="sxs-lookup"><span data-stu-id="78ba7-345">The workaround is to create the ASP.NET MVC 3 project in the root of the solution and then move it into the solution folder.</span></span>
- <span data-ttu-id="78ba7-346">Установщик может потребоваться гораздо больше, чем предыдущие версии ASP.NET MVC для выполнения.</span><span class="sxs-lookup"><span data-stu-id="78ba7-346">The installer might take much longer than previous versions of ASP.NET MVC to complete.</span></span> <span data-ttu-id="78ba7-347">Это, поскольку он обновляет компоненты Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="78ba7-347">This is because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="78ba7-348">IntelliSense для синтаксиса Razor не работает, если установлен ReSharper.</span><span class="sxs-lookup"><span data-stu-id="78ba7-348">IntelliSense for Razor syntax does not work when ReSharper is installed.</span></span> <span data-ttu-id="78ba7-349">Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3, см. в записи [Razor Intellisense и ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хади Харири, в котором описываются способы хэйди.</span><span class="sxs-lookup"><span data-stu-id="78ba7-349">If you have ReSharper installed and want to take advantage of the Razor IntelliSense support in ASP.NET MVC 3, see the entry [Razor Intellisense and ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) on Hadi Hariri's blog, which discusses ways to use them together today.</span></span>
- <span data-ttu-id="78ba7-350">CCSHTML и VBHTML представления, созданные с помощью бета-версия ASP.NET MVC 3 них действие сборки, соответствующим образом настроены, то в результате просмотра этих типов пропускаются при публикации проекта.</span><span class="sxs-lookup"><span data-stu-id="78ba7-350">CCSHTML and VBHTML views created with the Beta version of ASP.NET MVC 3 do not have their build action set correctly, with the result that these view types are omitted when the project is published.</span></span> <span data-ttu-id="78ba7-351">Действие при построении для этих файлов должно иметь значение «Содержимое».</span><span class="sxs-lookup"><span data-stu-id="78ba7-351">The Build Action value for these files should be set to "Content".</span></span> <span data-ttu-id="78ba7-352">ASP.NET MVC 3 RTM эта проблема устранена для новых файлов, но не правильные значения для существующих файлов проекта, созданного с помощью предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="78ba7-352">ASP.NET MVC 3 RTM fixes this issue for new files, but doesn't correct the setting for existing files for a project created with prerelease versions.</span></span>
- ![](mvc3-release-notes/_static/image3.png)
- <span data-ttu-id="78ba7-353">Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, размер которого меньше, чем планировалось.</span><span class="sxs-lookup"><span data-stu-id="78ba7-353">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="78ba7-354">При изменении представления Razor (файл cshtml), пункта меню перейдите к контроллеру, в Visual Studio не будут доступны, и существуют не фрагменты кода.</span><span class="sxs-lookup"><span data-stu-id="78ba7-354">When you are editing a Razor view (.cshtml file), the Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>
- <span data-ttu-id="78ba7-355">Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютере, где не установлена среда Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="78ba7-355">If you install ASP.NET MVC 3 for Visual Web Developer Express on a computer where Visual Studio is not installed, and then later install Visual Studio, you must reinstall ASP.NET MVC 3.</span></span> <span data-ttu-id="78ba7-356">Visual Studio и Visual Web Developer Express совместно использовать компоненты, которые обновляются установщиком ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="78ba7-356">Visual Studio and Visual Web Developer Express share components that are upgraded by the ASP.NET MVC 3 installer.</span></span> <span data-ttu-id="78ba7-357">То же самое касается при установке ASP.NET MVC 3 для Visual Studio на компьютере, который не имеет Visual Web Developer Express и последующей установке Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="78ba7-357">The same issue applies if you install ASP.NET MVC 3 for Visual Studio on a computer that does not have Visual Web Developer Express and then later install Visual Web Developer Express.</span></span>

<a id="RTM-BC"></a>
## <a name="breaking-changes"></a><span data-ttu-id="78ba7-358">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="78ba7-358">Breaking Changes</span></span>

- <span data-ttu-id="78ba7-359">В предыдущих версиях ASP.NET MVC действие-фильтры создание каждого запроса, за исключением случаев, в некоторых случаях.</span><span class="sxs-lookup"><span data-stu-id="78ba7-359">In previous versions of ASP.NET MVC, action filters are create per request except in a few cases.</span></span> <span data-ttu-id="78ba7-360">Это поведение не гарантируется поведение, но просто деталь реализации и контракт для фильтров было рассматривать их без отслеживания состояния.</span><span class="sxs-lookup"><span data-stu-id="78ba7-360">This behavior was never a guaranteed behavior but merely an implementation detail and the contract for filters was to consider them stateless.</span></span> <span data-ttu-id="78ba7-361">В ASP.NET MVC 3 фильтры, кэшируются более агрессивно.</span><span class="sxs-lookup"><span data-stu-id="78ba7-361">In ASP.NET MVC 3, filters are cached more aggressively.</span></span> <span data-ttu-id="78ba7-362">Таким образом все фильтры настраиваемого действия, которые неправильно хранить состояние экземпляра может быть нарушена.</span><span class="sxs-lookup"><span data-stu-id="78ba7-362">Therefore, any custom action filters which improperly store instance state might be broken.</span></span>
- <span data-ttu-id="78ba7-363">Фильтры исключений, которые имеют одинаковые изменился порядок выполнения фильтров исключений *порядок* значение.</span><span class="sxs-lookup"><span data-stu-id="78ba7-363">The order of execution for exception filters has changed for exception filters that have the same *Order* value.</span></span> <span data-ttu-id="78ba7-364">В ASP.NET MVC 2 и более ранних версиях исключение фильтрует на контроллере, имеют одинаковые *порядок* значение как на метод действия выполняются перед фильтрами исключений в методе действия.</span><span class="sxs-lookup"><span data-stu-id="78ba7-364">In ASP.NET MVC 2 and earlier, exception filters on the controller that have the same *Order* value as those on an action method are executed before the exception filters on the action method.</span></span> <span data-ttu-id="78ba7-365">Это обычно можно добиться, если фильтры исключений применяются без заданного *порядок* значение.</span><span class="sxs-lookup"><span data-stu-id="78ba7-365">This would typically be the case when exception filters are applied without a specified *Order* value.</span></span> <span data-ttu-id="78ba7-366">В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым.</span><span class="sxs-lookup"><span data-stu-id="78ba7-366">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="78ba7-367">Как и в более ранних версий Если *порядок* явным образом указано свойство, фильтры выполняются в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="78ba7-367">As in earlier versions, if the *Order* property is explicitly specified, the filters are run in the specified order.</span></span>
- <span data-ttu-id="78ba7-368">Новое свойство с именем *FileExtensions* был добавлен *VirtualPathProviderViewEngine* базового класса.</span><span class="sxs-lookup"><span data-stu-id="78ba7-368">A new property named *FileExtensions* was added to the *VirtualPathProviderViewEngine* base class.</span></span> <span data-ttu-id="78ba7-369">Когда ASP.NET ищет представление по пути (не по имени), считаются только представлений с расширением файла, содержащихся в списке определяется посредством него новое свойство.</span><span class="sxs-lookup"><span data-stu-id="78ba7-369">When ASP.NET looks up a view by path (not by name), only views with a file extension contained in the list specified by this new property are considered.</span></span> <span data-ttu-id="78ba7-370">Это критическое изменение в приложениях, где поставщик настраиваемой сборки регистрируется для включения пользовательских расширений файлов для представления веб-формы и поставщик ссылается на эти представления, используя полный путь, а не имя.</span><span class="sxs-lookup"><span data-stu-id="78ba7-370">This is a breaking change in applications where a custom build provider is registered in order to enable a custom file extension for Web Form views and where the provider references those views by using a full path rather than a name.</span></span> <span data-ttu-id="78ba7-371">Обойти это можно изменить значение *FileExtensions* свойство, чтобы включить расширение пользовательского файла.</span><span class="sxs-lookup"><span data-stu-id="78ba7-371">The workaround is to modify the value of the *FileExtensions* property to include the custom file extension.</span></span>
- <span data-ttu-id="78ba7-372">Реализации фабрики пользовательского устройства, которые непосредственно реализуют *IControllerFactory* интерфейса необходимо обеспечить реализацию нового *GetControllerSessionBehavior* метод, который был добавить интерфейс в этом выпуске.</span><span class="sxs-lookup"><span data-stu-id="78ba7-372">Custom controller factory implementations that directly implement the *IControllerFactory* interface must provide an implementation of the new *GetControllerSessionBehavior* method that was added to the interface in this release.</span></span> <span data-ttu-id="78ba7-373">Как правило, рекомендуется не реализовывайте этот интерфейс напрямую и вместо этого являются производными от класса *DefaultControllerFactory*.</span><span class="sxs-lookup"><span data-stu-id="78ba7-373">In general, it is recommended that you do not implement this interface directly and instead derive your class from *DefaultControllerFactory*.</span></span>

<a id="_Toc2"></a>
## <a name="changes-in-aspnet-mvc-3-rc2"></a><span data-ttu-id="78ba7-374">Изменения в версии-кандидата 2 ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="78ba7-374">Changes in ASP.NET MVC 3 RC2</span></span>

<span data-ttu-id="78ba7-375">В этом разделе описываются изменения (новые функции и исправления ошибок) в выпуске ASP.NET MVC 3 RC2 с момента выпуска версии-КАНДИДАТА.</span><span class="sxs-lookup"><span data-stu-id="78ba7-375">This section describes changes (new features and bug fixes) made in the ASP.NET MVC 3 RC2 release since the RC release.</span></span>

<a id="_Toc2_1"></a>
### <a name="project-templates-changed-to-include-jquery-144-jquery-validation-17-and-jquery-ui-186"></a><span data-ttu-id="78ba7-376">Изменения шаблонов проекта для включения jQuery 1.4.4, jQuery 1.7 проверки и пользовательский Интерфейс jQuery 1.8.6</span><span class="sxs-lookup"><span data-stu-id="78ba7-376">Project Templates Changed to Include jQuery 1.4.4, jQuery Validation 1.7, and jQuery UI 1.8.6</span></span>

<span data-ttu-id="78ba7-377">Шаблоны проектов для ASP.NET MVC 3 теперь включают последние версии jQuery, jQuery Validation и jQuery пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="78ba7-377">The project templates for ASP.NET MVC 3 now include the latest versions of jQuery, jQuery Validation, and jQuery UI.</span></span> <span data-ttu-id="78ba7-378">пользовательский Интерфейс jQuery — это новое дополнение для шаблонов проектов и предоставляет мини-приложения пользовательский интерфейс.</span><span class="sxs-lookup"><span data-stu-id="78ba7-378">jQuery UI is a new addition to the project templates and provides useful user interface widgets.</span></span> <span data-ttu-id="78ba7-379">Дополнительные сведения о пользовательский Интерфейс jQuery, см. в статье их Домашняя страница: [ http://jqueryui.com/ ](http://jqueryui.com/).</span><span class="sxs-lookup"><span data-stu-id="78ba7-379">For more information about jQuery UI, visit their homepage: [http://jqueryui.com/](http://jqueryui.com/).</span></span>

<a id="_Toc2_2"></a>
### <a name="added-additionalmetadataattribute-class"></a><span data-ttu-id="78ba7-380">Класс добавлена «AdditionalMetadataAttribute»</span><span class="sxs-lookup"><span data-stu-id="78ba7-380">Added "AdditionalMetadataAttribute" Class</span></span>

<span data-ttu-id="78ba7-381">Можно использовать *AdditionalMetadataAttribute* класс для заполнения *ModelMetadata.AdditionalValues* словарь для свойства модели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-381">You can use the *AdditionalMetadataAttribute* class to populate the *ModelMetadata.AdditionalValues* dictionary for a model property.</span></span>

<span data-ttu-id="78ba7-382">Например предположим, что модель представления имеет свойства, которые должны отображаться только для администратора.</span><span class="sxs-lookup"><span data-stu-id="78ba7-382">For example, suppose a view model has properties that should be displayed only to an administrator.</span></span> <span data-ttu-id="78ba7-383">Эту модель можно обозначать новый атрибут, с помощью AdminOnly как ключ и значение true, как значение, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="78ba7-383">That model can be annotated with the new attribute using AdminOnly as the key and true as the value, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample9.cs)]

<span data-ttu-id="78ba7-384">Эти метаданные доступны в любой шаблон отображения или редактора при подготовке к просмотру представление модели продукта.</span><span class="sxs-lookup"><span data-stu-id="78ba7-384">This metadata is made available to any display or editor template when a product view model is rendered.</span></span> <span data-ttu-id="78ba7-385">Это вы как разработчик приложения следует интерпретировать сведения метаданных.</span><span class="sxs-lookup"><span data-stu-id="78ba7-385">It is up to you as application developer to interpret the metadata information.</span></span>

<a id="_Toc2_3"></a>
### <a name="improved-view-scaffolding"></a><span data-ttu-id="78ba7-386">Улучшенное представление формирования шаблонов</span><span class="sxs-lookup"><span data-stu-id="78ba7-386">Improved View Scaffolding</span></span>

<span data-ttu-id="78ba7-387">Шаблоны T4, используемые для формирования шаблонов представлений, теперь создают вызовы шаблона вспомогательные методы, например *EditorFor* вместо вспомогательные функции, такие как *TextBoxFor*.</span><span class="sxs-lookup"><span data-stu-id="78ba7-387">The T4 templates used for scaffolding views now generate calls to template helper methods such as *EditorFor* instead of helpers such as *TextBoxFor*.</span></span> <span data-ttu-id="78ba7-388">Это изменение улучшает поддержку метаданные о модели в виде атрибуты заметок к данным, когда в диалоговом окне Добавление представления создается представление.</span><span class="sxs-lookup"><span data-stu-id="78ba7-388">This change improves support for metadata on the model in the form of data annotation attributes when the Add View dialog box generates a view.</span></span>

<span data-ttu-id="78ba7-389">Добавить представление формирования шаблонов также включает использование сведения о первичном ключе на модели, в зависимости от соглашения и усовершенствованная функция обнаружения.</span><span class="sxs-lookup"><span data-stu-id="78ba7-389">The Add View scaffolding also includes improved detection and usage of primary key information on the model, based on convention.</span></span> <span data-ttu-id="78ba7-390">Например диалоговое окно «Добавление представления» использует эти сведения для убедитесь, что значения первичного ключа не по шаблону как поля редактируемую форму.</span><span class="sxs-lookup"><span data-stu-id="78ba7-390">For example, the Add View dialog box uses this information to ensure that the primary key value is not scaffolded as an editable form field.</span></span>

<span data-ttu-id="78ba7-391">По умолчанию изменение и создание шаблонов включать ссылки на сценарии jQuery, необходимые для клиентской проверки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-391">The default Edit and Create templates include references to the jQuery scripts needed for client validation.</span></span>

<a id="_Toc2_4"></a>
### <a name="added-htmlraw-method"></a><span data-ttu-id="78ba7-392">Добавленный метод Html.Raw</span><span class="sxs-lookup"><span data-stu-id="78ba7-392">Added Html.Raw Method</span></span>

<span data-ttu-id="78ba7-393">По умолчанию Razor системы представлений HTML кодирует все значения.</span><span class="sxs-lookup"><span data-stu-id="78ba7-393">By default, the Razor view engine HTML-encodes all values.</span></span> <span data-ttu-id="78ba7-394">Например, следующий фрагмент кода кодирует HTML внутри переменная приветствия, так что он отображается в страницу в качестве `<strong>Hello World!</strong>`.</span><span class="sxs-lookup"><span data-stu-id="78ba7-394">For example, the following code snippet encodes the HTML inside the greeting variable so that it is displayed in the page as `<strong>Hello World!</strong>`.</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample10.cshtml)]

<span data-ttu-id="78ba7-395">Новый *Html.Raw* метод предоставляет простой способ отображения HTML без кодировки, если известно содержимое, чтобы обезопасить себя.</span><span class="sxs-lookup"><span data-stu-id="78ba7-395">The new *Html.Raw* method provides a simple way of displaying unencoded HTML when the content is known to be safe.</span></span> <span data-ttu-id="78ba7-396">В следующем примере отображается та же строка, но строка отображается в виде разметки:</span><span class="sxs-lookup"><span data-stu-id="78ba7-396">The following example displays the same string, but the string is rendered as markup:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample11.cshtml)]

<a id="_Toc2_5"></a>
### <a name="renamed-controllerviewmodel-property-and-the-view-property-to-viewbag"></a><span data-ttu-id="78ba7-397">Свойство переименованный «Controller.ViewModel» и «View» свойства «ViewBag»</span><span class="sxs-lookup"><span data-stu-id="78ba7-397">Renamed "Controller.ViewModel" Property and the "View" Property To "ViewBag"</span></span>

<span data-ttu-id="78ba7-398">Ранее *ViewModel* свойство *контроллера* корреспондируемых для *представление* свойство представления.</span><span class="sxs-lookup"><span data-stu-id="78ba7-398">Previously, the *ViewModel* property of *Controller* corresponded to the *View* property of a view.</span></span> <span data-ttu-id="78ba7-399">Оба эти свойства предоставляют способ доступа значения *ViewDataDictionary* с помощью синтаксиса, динамического метода доступа свойства.</span><span class="sxs-lookup"><span data-stu-id="78ba7-399">Both of these properties provide a way to access values of the *ViewDataDictionary* object using dynamic property-accessor syntax.</span></span> <span data-ttu-id="78ba7-400">Оба свойства должны совпадать, чтобы избежать путаницы и были более согласованными были переименованы.</span><span class="sxs-lookup"><span data-stu-id="78ba7-400">Both properties have been renamed to be the same in order to avoid confusion and to be more consistent.</span></span>

<a id="_Toc2_6"></a>
### <a name="renamed-controllersessionstateattribute-class-to-sessionstateattribute"></a><span data-ttu-id="78ba7-401">Переименованные «ControllerSessionStateAttribute» класс «SessionStateAttribute»</span><span class="sxs-lookup"><span data-stu-id="78ba7-401">Renamed "ControllerSessionStateAttribute" Class to "SessionStateAttribute"</span></span>

<span data-ttu-id="78ba7-402">*ControllerSessionStateAttribute* класс впервые появился в выпуске RC ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="78ba7-402">The *ControllerSessionStateAttribute* class was introduced in the RC release of ASP.NET MVC 3.</span></span> <span data-ttu-id="78ba7-403">Свойство был переименован в лаконичнее.</span><span class="sxs-lookup"><span data-stu-id="78ba7-403">The property was renamed to be more succinct.</span></span>

<a id="_Toc2_7"></a>
### <a name="renamed-remoteattribute-fields-property-to-additionalfields"></a><span data-ttu-id="78ba7-404">Переименованные RemoteAttribute «Поля» значение «AdditionalFields»</span><span class="sxs-lookup"><span data-stu-id="78ba7-404">Renamed RemoteAttribute "Fields" Property to "AdditionalFields"</span></span>

<span data-ttu-id="78ba7-405">*RemoteAttribute* класса *поля* свойство несколько запутало между пользователями.</span><span class="sxs-lookup"><span data-stu-id="78ba7-405">The *RemoteAttribute* class's *Fields* property caused some confusion among users.</span></span> <span data-ttu-id="78ba7-406">Переименование этого свойства *AdditionalFields* поясняет ее цель.</span><span class="sxs-lookup"><span data-stu-id="78ba7-406">Renaming this property to *AdditionalFields* clarifies its intent.</span></span>

<a id="_Toc2_8"></a>
### <a name="renamed-skiprequestvalidationattribute-to-allowhtmlattribute"></a><span data-ttu-id="78ba7-407">Переименовано «SkipRequestValidationAttribute» для «AllowHtmlAttribute»</span><span class="sxs-lookup"><span data-stu-id="78ba7-407">Renamed "SkipRequestValidationAttribute" to "AllowHtmlAttribute"</span></span>

<span data-ttu-id="78ba7-408">*SkipRequestValidationAttribute* атрибут был переименован в *AllowHtmlAttribute* чтобы лучше представить его использования.</span><span class="sxs-lookup"><span data-stu-id="78ba7-408">The *SkipRequestValidationAttribute* attribute was renamed to *AllowHtmlAttribute* to better represent its intended usage.</span></span>

<a id="_Toc2_9"></a>
### <a name="changed-htmlvalidationmessage-method-to-display-the-first-useful-error-message"></a><span data-ttu-id="78ba7-409">Метод измененные «Html.ValidationMessage» для отображения первого поясняющих сообщений</span><span class="sxs-lookup"><span data-stu-id="78ba7-409">Changed "Html.ValidationMessage" Method to Display the First Useful Error Message</span></span>

<span data-ttu-id="78ba7-410">*Html.ValidationMessage* метод была исправлена, чтобы показать первое сообщение поясняющих вместо просто отображения первой ошибки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-410">The *Html.ValidationMessage* method was fixed to show the first useful error message instead of simply displaying the first error.</span></span>

<span data-ttu-id="78ba7-411">Во время привязки модели, *ModelState* словарь могут заполняться из нескольких источников с сообщениями об ошибках о свойстве, в том числе из самой модели (если он реализует *IValidatableObject* ), из атрибутов проверки, применяемый к свойству, а также из исключения, возникшие при доступе к этому свойству.</span><span class="sxs-lookup"><span data-stu-id="78ba7-411">During model binding, the *ModelState* dictionary can be populated from multiple sources with error messages about the property, including from the model itself (if it implements *IValidatableObject*), from validation attributes applied to the property, and from exceptions thrown while the property is being accessed.</span></span>

<span data-ttu-id="78ba7-412">Когда *Html.ValidationMessage* метод отображает сообщение проверки, он пропускает записи состояния модели, которые содержат исключение, так как они обычно не предназначены для конечного пользователя.</span><span class="sxs-lookup"><span data-stu-id="78ba7-412">When the *Html.ValidationMessage* method displays a validation message, it skips model-state entries that include an exception, because these are generally not intended for the end user.</span></span> <span data-ttu-id="78ba7-413">Вместо этого метод ищет первое сообщение проверки, не связанный с исключением и выводит это сообщение.</span><span class="sxs-lookup"><span data-stu-id="78ba7-413">Instead, the method looks for the first validation message that is not associated with an exception and displays that message.</span></span> <span data-ttu-id="78ba7-414">Если сообщение не найдено, то по умолчанию сообщения об ошибке, которая связана с первое исключение.</span><span class="sxs-lookup"><span data-stu-id="78ba7-414">If no such message is found, it defaults to a generic error message that is associated with the first exception.</span></span>

<a id="_Toc2_10"></a>
### <a name="fixed-model-declaration-to-not-add-whitespace-to-the-document"></a><span data-ttu-id="78ba7-415">Фиксированный @model объявление, чтобы не добавляют пробел в документ</span><span class="sxs-lookup"><span data-stu-id="78ba7-415">Fixed @model Declaration to not Add Whitespace to the Document</span></span>

<span data-ttu-id="78ba7-416">В более ранних выпусках *@model* объявление в верхней части представления добавить пустую строку в готовом для просмотра выходных данных HTML.</span><span class="sxs-lookup"><span data-stu-id="78ba7-416">In earlier releases, the *@model* declaration at the top of a view added a blank line to the rendered HTML output.</span></span> <span data-ttu-id="78ba7-417">Эта проблема была исправлена, чтобы объявление не содержит пробелов.</span><span class="sxs-lookup"><span data-stu-id="78ba7-417">This has been fixed so that the declaration does not introduce whitespace.</span></span>

<a id="_Toc2_11"></a>
### <a name="added-fileextensions-property-to-view-engines-to-support-engine-specific-file-names"></a><span data-ttu-id="78ba7-418">Свойство добавлено «FileExtensions» для обработчиков представлений для поддержки имен файлов для конкретного механизма</span><span class="sxs-lookup"><span data-stu-id="78ba7-418">Added "FileExtensions" Property to View Engines to Support Engine-Specific File Names</span></span>

<span data-ttu-id="78ba7-419">Обработчик представлений я могу вернуть представление, используя путь явное представление как в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="78ba7-419">A view engine can return a view using an explicit view path as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample12.cs)]

<span data-ttu-id="78ba7-420">Первый обработчик представлений всегда пытается визуализации представления.</span><span class="sxs-lookup"><span data-stu-id="78ba7-420">The first view engine always attempts to render the view.</span></span> <span data-ttu-id="78ba7-421">По умолчанию подсистема просмотра веб-форм, — это первый обработчик представлений; Поскольку обработчик веб-форм не удается отобразить представление Razor, возникает ошибка.</span><span class="sxs-lookup"><span data-stu-id="78ba7-421">By default, the Web Forms view engine is the first view engine; because the Web Forms engine cannot render a Razor view, an error occurs.</span></span> <span data-ttu-id="78ba7-422">Теперь у обработчиков представлений *FileExtensions* свойство, которое позволяет указать, какие расширения файлов, они поддерживают.</span><span class="sxs-lookup"><span data-stu-id="78ba7-422">View engines now have a *FileExtensions* property that is used to specify which file extensions they support.</span></span> <span data-ttu-id="78ba7-423">Это свойство проверяется в том случае, когда ASP.NET определяет, может ли обработчик представлений отображения файла.</span><span class="sxs-lookup"><span data-stu-id="78ba7-423">This property is checked when ASP.NET determines whether a view engine can render a file.</span></span> <span data-ttu-id="78ba7-424">Это критическое изменение, и дополнительные подробные сведения можно найти в [критические изменения](#_Toc2_BC) настоящего документа.</span><span class="sxs-lookup"><span data-stu-id="78ba7-424">This is a breaking change and more details are included in the [Breaking Changes](#_Toc2_BC) section of this document.</span></span>

<a id="_Toc2_12"></a>
### <a name="fixed-labelfor-helper-to-emit-the-correct-value-for-the-for-attribute"></a><span data-ttu-id="78ba7-425">Вспомогательный метод предопределенной значение «LabelFor» для порождения правильное значение для атрибута «For»</span><span class="sxs-lookup"><span data-stu-id="78ba7-425">Fixed "LabelFor" Helper to Emit the Correct Value for the "For" Attribute</span></span>

<span data-ttu-id="78ba7-426">Where была исправлена ошибка *LabelFor* к просмотру метод *для* атрибут, который соответствует *входной* элемента *имя* атрибутом его идентификатора.</span><span class="sxs-lookup"><span data-stu-id="78ba7-426">A bug was fixed where the *LabelFor* method rendered a *for* attribute that matches the *input* element's *name* attribute instead of its ID.</span></span> <span data-ttu-id="78ba7-427">В соответствии с W3C *для* атрибут должен соответствовать *входной* идентификатор элемента.</span><span class="sxs-lookup"><span data-stu-id="78ba7-427">According to the W3C, the *for* attribute should match the *input* element's ID.</span></span>

<a id="_Toc2_13"></a>
### <a name="fixed-renderaction-method-to-give-explicit-values-precedence-during-model-binding"></a><span data-ttu-id="78ba7-428">Метод предопределенной «RenderAction», чтобы предоставить явные значения приоритета во время привязки модели</span><span class="sxs-lookup"><span data-stu-id="78ba7-428">Fixed "RenderAction" Method to Give Explicit Values Precedence During Model Binding</span></span>

<span data-ttu-id="78ba7-429">В более ранних версиях, явно заданные значения, которые были переданы *RenderAction* метод были к пропуску пользу текущих значений формы во время привязки модели внутри дочернего действия.</span><span class="sxs-lookup"><span data-stu-id="78ba7-429">In earlier versions, explicit values that were passed to the *RenderAction* method were being ignored in favor of the current form values during model binding inside a child action.</span></span> <span data-ttu-id="78ba7-430">Исправление гарантирует, что явные значения приоритет во время привязки модели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-430">The fix ensures that explicit values take precedence during model binding.</span></span>

<a id="_Toc2_BC"></a>
## <a name="breaking-changes"></a><span data-ttu-id="78ba7-431">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="78ba7-431">Breaking Changes</span></span>

- <span data-ttu-id="78ba7-432">В предыдущих версиях ASP.NET MVC фильтры операций были созданы по запросу, за исключением случаев, в некоторых случаях.</span><span class="sxs-lookup"><span data-stu-id="78ba7-432">In previous versions of ASP.NET MVC, action filters were created per request except in a few cases.</span></span> <span data-ttu-id="78ba7-433">Это поведение не гарантируется поведение, но просто деталь реализации и контракт для фильтров было рассматривать их без отслеживания состояния.</span><span class="sxs-lookup"><span data-stu-id="78ba7-433">This behavior was never a guaranteed behavior but merely an implementation detail and the contract for filters was to consider them stateless.</span></span> <span data-ttu-id="78ba7-434">В ASP.NET MVC 3 фильтры, кэшируются более агрессивно.</span><span class="sxs-lookup"><span data-stu-id="78ba7-434">In ASP.NET MVC 3, filters are cached more aggressively.</span></span> <span data-ttu-id="78ba7-435">Таким образом все фильтры настраиваемого действия, которые неправильно хранить состояние экземпляра может быть нарушена.</span><span class="sxs-lookup"><span data-stu-id="78ba7-435">Therefore, any custom action filters which improperly store instance state might be broken.</span></span>
- <span data-ttu-id="78ba7-436">Фильтры исключений, которые имеют одинаковые изменился порядок выполнения фильтров исключений *порядок* значение.</span><span class="sxs-lookup"><span data-stu-id="78ba7-436">The order of execution for exception filters has changed for exception filters that have the same *Order* value.</span></span> <span data-ttu-id="78ba7-437">В ASP.NET MVC 2 и более ранних версиях исключение фильтрует на контроллере, который обнаружил ту же *порядок* значение как те, в методе действия выполнялись перед фильтрами исключений в методе действия.</span><span class="sxs-lookup"><span data-stu-id="78ba7-437">In ASP.NET MVC 2 and earlier, exception filters on the controller that had the same *Order* value as those on an action method were executed before the exception filters on the action method.</span></span> <span data-ttu-id="78ba7-438">Это обычно можно добиться, когда были применены фильтры исключений без указанного *порядок* значение.</span><span class="sxs-lookup"><span data-stu-id="78ba7-438">This would typically be the case when exception filters were applied without a specified *Order* value.</span></span> <span data-ttu-id="78ba7-439">В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым.</span><span class="sxs-lookup"><span data-stu-id="78ba7-439">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="78ba7-440">Как и в более ранних версий Если *порядок* явным образом указано свойство, фильтры выполняются в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="78ba7-440">As in earlier versions, if the *Order* property is explicitly specified, the filters are run in the specified order.</span></span>
- <span data-ttu-id="78ba7-441">Новое свойство с именем *FileExtensions* был добавлен *VirtualPathProviderViewEngine* базового класса.</span><span class="sxs-lookup"><span data-stu-id="78ba7-441">A new property named *FileExtensions* was added to the *VirtualPathProviderViewEngine* base class.</span></span> <span data-ttu-id="78ba7-442">Когда ASP.NET ищет представление по пути (не по имени), считаются только представлений с расширением файла, содержащихся в списке определяется посредством него новое свойство.</span><span class="sxs-lookup"><span data-stu-id="78ba7-442">When ASP.NET looks up a view by path (not by name), only views with a file extension contained in the list specified by this new property are considered.</span></span> <span data-ttu-id="78ba7-443">Это критическое изменение в приложениях, где поставщик настраиваемой сборки регистрируется для включения пользовательских расширений файлов для представления веб-формы и поставщик ссылается на эти представления, используя полный путь, а не имя.</span><span class="sxs-lookup"><span data-stu-id="78ba7-443">This is a breaking change in applications where a custom build provider is registered in order to enable a custom file extension for Web Form views and where the provider references those views by using a full path rather than a name.</span></span> <span data-ttu-id="78ba7-444">Обойти это можно изменить значение *FileExtensions* свойство, чтобы включить расширение пользовательского файла.</span><span class="sxs-lookup"><span data-stu-id="78ba7-444">The workaround is to modify the value of the *FileExtensions* property to include the custom file extension.</span></span>
- <span data-ttu-id="78ba7-445">Реализации фабрики пользовательского устройства, которые непосредственно реализуют *IControllerFactory* интерфейса необходимо обеспечить реализацию нового *GetControllerSessionBehavior* метод, который был добавить интерфейс в этом выпуске.</span><span class="sxs-lookup"><span data-stu-id="78ba7-445">Custom controller factory implementations that directly implement the *IControllerFactory* interface must provide an implementation of the new *GetControllerSessionBehavior* method that was added to the interface in this release.</span></span> <span data-ttu-id="78ba7-446">Как правило, рекомендуется не реализовывайте этот интерфейс напрямую и вместо этого являются производными от класса *DefaultControllerFactory*.</span><span class="sxs-lookup"><span data-stu-id="78ba7-446">In general, it is recommended that you do not implement this interface directly and instead derive your class from *DefaultControllerFactory*.</span></span>

<a id="_Toc2_KI"></a>
## <a name="known-issues"></a><span data-ttu-id="78ba7-447">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="78ba7-447">Known Issues</span></span>

- <span data-ttu-id="78ba7-448">Установщик ASP.NET MVC 3 только возможность установить исходную версию диспетчера пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="78ba7-448">The ASP.NET MVC 3 installer is only able to install an initial version of the NuGet package manager.</span></span> <span data-ttu-id="78ba7-449">После установки начальной версии NuGet можно установить и обновить с помощью диспетчера расширений Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="78ba7-449">After you have installed the initial version, NuGet can be installed and updated using Visual Studio Extension Manager.</span></span> <span data-ttu-id="78ba7-450">Если вы уже установили NuGet, перейдите к коллекции расширений Visual Studio для обновления до последней версии NuGet.</span><span class="sxs-lookup"><span data-stu-id="78ba7-450">If you already have NuGet installed, go to the Visual Studio Extension Gallery to update to the latest version of NuGet.</span></span>
- <span data-ttu-id="78ba7-451">Создание нового проекта ASP.NET MVC 3 в папке решения причины *NullReferenceException* ошибки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-451">Creating a new ASP.NET MVC 3 project within a solution folder causes a *NullReferenceException* error.</span></span> <span data-ttu-id="78ba7-452">Обходной путь — Создание проекта ASP.NET MVC 3 в корневой папке решения и переместив его в папке решения.</span><span class="sxs-lookup"><span data-stu-id="78ba7-452">The workaround is to create the ASP.NET MVC 3 project in the root of the solution and then move it into the solution folder.</span></span>
- <span data-ttu-id="78ba7-453">Установщик может потребоваться гораздо больше, чем предыдущие версии ASP.NET MVC для выполнения.</span><span class="sxs-lookup"><span data-stu-id="78ba7-453">The installer might take much longer than previous versions of ASP.NET MVC to complete.</span></span> <span data-ttu-id="78ba7-454">Это, поскольку он обновляет компоненты Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="78ba7-454">This is because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="78ba7-455">IntelliSense для синтаксиса Razor не работает, если установлен ReSharper.</span><span class="sxs-lookup"><span data-stu-id="78ba7-455">IntelliSense for Razor syntax does not work when ReSharper is installed.</span></span> <span data-ttu-id="78ba7-456">Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3, версия-кандидат 2, см. в записи [Razor Intellisense и ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хади Харири, в котором описываются способы хэйди.</span><span class="sxs-lookup"><span data-stu-id="78ba7-456">If you have ReSharper installed and want to take advantage of the Razor IntelliSense support in ASP.NET MVC 3 RC2, see the entry [Razor Intellisense and ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) on Hadi Hariri's blog, which discusses ways to use them together today.</span></span>
- <span data-ttu-id="78ba7-457">CSHTML и VBHTML представления, созданные с помощью бета-версия ASP.NET MVC 3 них действие сборки, соответствующим образом настроены, то в результате просмотра этих типов пропускаются при публикации проекта.</span><span class="sxs-lookup"><span data-stu-id="78ba7-457">CSHTML and VBHTML views created with the Beta version of ASP.NET MVC 3 do not have their build action set correctly, with the result that these view types are omitted when the project is published.</span></span> <span data-ttu-id="78ba7-458">*Действие при построении* значение для этих файлов должно быть присвоено содержимое».</span><span class="sxs-lookup"><span data-stu-id="78ba7-458">The *Build Action* value for these files should be set to Content".</span></span> <span data-ttu-id="78ba7-459">ASP.NET MVC 3 RC2 эта проблема устранена для новых файлов, но не правильные значения для существующих файлов проекта, созданного с помощью бета-версии.</span><span class="sxs-lookup"><span data-stu-id="78ba7-459">ASP.NET MVC 3 RC2 fixes this issue for new files, but doesn't correct the setting for existing files for a project created with the Beta version.</span></span>![](mvc3-release-notes/_static/image4.png)
- <span data-ttu-id="78ba7-460">Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, размер которого меньше, чем планировалось.</span><span class="sxs-lookup"><span data-stu-id="78ba7-460">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="78ba7-461">При изменении представления Razor (файл cshtml), пункта меню перейдите к контроллеру, в Visual Studio не будут доступны, и существуют не фрагменты кода.</span><span class="sxs-lookup"><span data-stu-id="78ba7-461">When you are editing a Razor view (.cshtml file), the Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>
- <span data-ttu-id="78ba7-462">Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютере, где не установлена среда Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="78ba7-462">If you install ASP.NET MVC 3 for Visual Web Developer Express on a computer where Visual Studio is not installed, and then later install Visual Studio, you must reinstall ASP.NET MVC 3.</span></span> <span data-ttu-id="78ba7-463">Visual Studio и Visual Web Developer Express совместно использовать компоненты, которые обновляются установщиком ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="78ba7-463">Visual Studio and Visual Web Developer Express share components that are upgraded by the ASP.NET MVC 3 installer.</span></span> <span data-ttu-id="78ba7-464">То же самое касается при установке ASP.NET MVC 3 для Visual Studio на компьютере, который не имеет Visual Web Developer Express и последующей установке Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="78ba7-464">The same issue applies if you install ASP.NET MVC 3 for Visual Studio on a computer that does not have Visual Web Developer Express and then later install Visual Web Developer Express.</span></span>
- <span data-ttu-id="78ba7-465">Установка ASP.NET MVC 3 версии-Кандидата 2 не обновляет NuGet, если вы уже установили его.</span><span class="sxs-lookup"><span data-stu-id="78ba7-465">Installing ASP.NET MVC 3 RC 2 does not update NuGet if you already have it installed.</span></span> <span data-ttu-id="78ba7-466">Выполнить обновление NuGet, перейдите в диспетчер расширений Visual Studio и он должен отображаться как доступное обновление.</span><span class="sxs-lookup"><span data-stu-id="78ba7-466">To upgrade NuGet, go to the Visual Studio Extension manager and it should show up as an available update.</span></span> <span data-ttu-id="78ba7-467">Вы можете обновить NuGet до последней версии из него.</span><span class="sxs-lookup"><span data-stu-id="78ba7-467">You can upgrade NuGet to the latest release from there.</span></span>

<a id="TOC_ASP_NET_3_RC"></a>
## <a name="aspnet-mvc-3-release-candidate"></a><span data-ttu-id="78ba7-468">Версия-кандидат ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="78ba7-468">ASP.NET MVC 3 Release Candidate</span></span>

<span data-ttu-id="78ba7-469">Версия-кандидат ASP.NET MVC было выпущено 9 ноября 2010 г.</span><span class="sxs-lookup"><span data-stu-id="78ba7-469">ASP.NET MVC Release Candidate was released on November 9, 2010.</span></span>

<a id="_Toc276711785"></a>
## <a name="new-features-in-aspnet-mvc-3-rc"></a><span data-ttu-id="78ba7-470">Новые возможности в версии-Кандидате ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="78ba7-470">New Features in ASP.NET MVC 3 RC</span></span>

<span data-ttu-id="78ba7-471">В этом разделе описаны возможности, которые были введены в версии ASP.NET MVC 3, версия-Кандидат с момента выпуска бета-версии.</span><span class="sxs-lookup"><span data-stu-id="78ba7-471">This section describes features that have been introduced in the ASP.NET MVC 3 RC release since the Beta release.</span></span>

<a id="_Toc276711786"></a>
### <a name="nuget-package-manager"></a><span data-ttu-id="78ba7-472">Диспетчер пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="78ba7-472">NuGet Package Manager</span></span>

<span data-ttu-id="78ba7-473">ASP.NET MVC 3 содержит диспетчер пакетов NuGet (ранее известная как NuPack), который представляет собой средство интегрированный пакет управления для добавления библиотеки и средства для проектов Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="78ba7-473">ASP.NET MVC 3 includes the NuGet Package Manager (formerly known as NuPack), which is an integrated package management tool for adding libraries and tools to Visual Studio projects.</span></span> <span data-ttu-id="78ba7-474">Это средство автоматизирует действия, которые разработчики Начните уже сегодня, чтобы получить библиотеку в их исходном дереве.</span><span class="sxs-lookup"><span data-stu-id="78ba7-474">This tool automates the steps that developers take today to get a library into their source tree.</span></span>

<span data-ttu-id="78ba7-475">Вы можете работать с NuGet как средство командной строки, как встроенное окно консоли внутри Visual Studio 2010, в контекстном меню Visual Studio и как набор командлетов PowerShell.</span><span class="sxs-lookup"><span data-stu-id="78ba7-475">You can work with NuGet as a command-line tool, as an integrated console window inside Visual Studio 2010, from the Visual Studio context menu, and as a set of PowerShell cmdlets.</span></span>

<span data-ttu-id="78ba7-476">Дополнительные сведения о NuGet см [документации по Nuget](https://docs.microsoft.com/nuget/).</span><span class="sxs-lookup"><span data-stu-id="78ba7-476">For more information about NuGet, read the [Nuget Documentation](https://docs.microsoft.com/nuget/).</span></span>

<a id="_Toc276711787"></a>
### <a name="improved-new-project-dialog-box"></a><span data-ttu-id="78ba7-477">Улучшенная «Новый проект» диалоговое окно</span><span class="sxs-lookup"><span data-stu-id="78ba7-477">Improved "New Project" Dialog Box</span></span>

<span data-ttu-id="78ba7-478">При создании нового проекта в диалоговом окне нового проекта теперь позволяет указать обработчик представлений, а также тип проекта ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="78ba7-478">When you create a new project, the New Project dialog box now lets you specify the view engine as well as an ASP.NET MVC project type.</span></span>

![](mvc3-release-notes/_static/image5.png)

<span data-ttu-id="78ba7-479">Поддержка для изменения списка шаблонов и представления, модули, перечисленные в диалоговом окне включена в этом выпуске.</span><span class="sxs-lookup"><span data-stu-id="78ba7-479">Support for modifying the list of templates and view engines listed in the dialog box is included in this release.</span></span>

<span data-ttu-id="78ba7-480">Ниже перечислены шаблоны по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="78ba7-480">The default templates are the following:</span></span>

<span data-ttu-id="78ba7-481">Пустой.</span><span class="sxs-lookup"><span data-stu-id="78ba7-481">Empty.</span></span> <span data-ttu-id="78ba7-482">Содержит минимальный набор файлов для проекта ASP.NET MVC, включая структурой каталогов по умолчанию для проектов ASP.NET MVC, файл Site.css, содержащий стили ASP.NET MVC по умолчанию, а также сценарии каталог, содержащий файлы JavaScript по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="78ba7-482">Contains a minimal set of files for an ASP.NET MVC project, including the default directory structure for ASP.NET MVC projects, a Site.css file that contains the default ASP.NET MVC styles, and a Scripts directory that contains the default JavaScript files.</span></span>

<span data-ttu-id="78ba7-483">Веб-приложение.</span><span class="sxs-lookup"><span data-stu-id="78ba7-483">Internet Application.</span></span> <span data-ttu-id="78ba7-484">Содержит пример функции, демонстрируется использование поставщика членства в ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="78ba7-484">Contains sample functionality that demonstrates how to use the membership provider with ASP.NET MVC.</span></span>

<span data-ttu-id="78ba7-485">Список шаблонов проектов, который отображается в диалоговом окне указывается в реестре Windows.</span><span class="sxs-lookup"><span data-stu-id="78ba7-485">The list of project templates that is displayed in the dialog box is specified in the Windows registry.</span></span>

<a id="_Toc276711788"></a>
### <a name="sessionless-controllers"></a><span data-ttu-id="78ba7-486">Контроллеры sessionless</span><span class="sxs-lookup"><span data-stu-id="78ba7-486">Sessionless Controllers</span></span>

<span data-ttu-id="78ba7-487">Новый *ControllerSessionStateAttribute* дает больший контроль над поведением состояния сеанса для контроллеров, указав [System.Web.SessionState.SessionStateBehavior](https://msdn.microsoft.com/library/system.web.sessionstate.sessionstatebehavior.aspx) значение перечисления.</span><span class="sxs-lookup"><span data-stu-id="78ba7-487">The new *ControllerSessionStateAttribute* gives you more control over session-state behavior for controllers by specifying a [System.Web.SessionState.SessionStateBehavior](https://msdn.microsoft.com/library/system.web.sessionstate.sessionstatebehavior.aspx) enumeration value.</span></span>

<span data-ttu-id="78ba7-488">В следующем примере показано, как отключить состояние сеанса для всех запросов к контроллеру.</span><span class="sxs-lookup"><span data-stu-id="78ba7-488">The following example shows how to turn off session state for all requests to a controller.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample13.cs)]

<span data-ttu-id="78ba7-489">В следующем примере показано, как установка состояния сеанса только для чтения для всех запросов к контроллеру.</span><span class="sxs-lookup"><span data-stu-id="78ba7-489">The following example shows how to set read-only session state for all requests to a controller.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample14.cs)]

<a id="_Toc276711789"></a>
### <a name="new-validation-attributes"></a><span data-ttu-id="78ba7-490">Новые атрибуты проверки</span><span class="sxs-lookup"><span data-stu-id="78ba7-490">New Validation Attributes</span></span>

#### <a name="compareattribute"></a><span data-ttu-id="78ba7-491">CompareAttribute</span><span class="sxs-lookup"><span data-stu-id="78ba7-491">CompareAttribute</span></span>

<span data-ttu-id="78ba7-492">Новый *CompareAttribute* атрибут проверки позволяет сравнить значения двух различных свойств модели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-492">The new *CompareAttribute* validation attribute lets you compare the values of two different properties of a model.</span></span> <span data-ttu-id="78ba7-493">В следующем примере *ComparePassword* свойство должно соответствовать *пароль* поля, чтобы быть допустимыми.</span><span class="sxs-lookup"><span data-stu-id="78ba7-493">In the following example, the *ComparePassword* property must match the *Password* field in order to be valid.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample15.cs)]

#### <a name="remoteattribute"></a><span data-ttu-id="78ba7-494">RemoteAttribute</span><span class="sxs-lookup"><span data-stu-id="78ba7-494">RemoteAttribute</span></span>

<span data-ttu-id="78ba7-495">Новый *RemoteAttribute* атрибут проверки использует преимущества jQuery проверки plug в удаленный проверяющий элемент управления, позволяющий проверки на стороне клиента для вызова метода на сервере, который выполняет логики проверки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-495">The new *RemoteAttribute* validation attribute takes advantage of the jQuery Validation plug-in's remote validator, which enables client-side validation to call a method on the server that performs the actual validation logic.</span></span>

<span data-ttu-id="78ba7-496">В следующем примере *UserName* свойство имеет *RemoteAttribute* применения.</span><span class="sxs-lookup"><span data-stu-id="78ba7-496">In the following example, the *UserName* property has the *RemoteAttribute* applied.</span></span> <span data-ttu-id="78ba7-497">При изменении этого свойства в представление для редактирования, клиентская проверка будет вызывать действие с именем *UserNameAvailable* на *UsersController* класса, чтобы проверить это поле.</span><span class="sxs-lookup"><span data-stu-id="78ba7-497">When editing this property in an Edit view, client validation will call an action named *UserNameAvailable* on the *UsersController* class in order to validate this field.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample16.cs)]

<span data-ttu-id="78ba7-498">В следующем примере соответствующим контроллером.</span><span class="sxs-lookup"><span data-stu-id="78ba7-498">The following example shows the corresponding controller.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample17.cs)]

<span data-ttu-id="78ba7-499">По умолчанию имя свойства, которое атрибут применяется к методу действия отправляется как параметр строки запроса.</span><span class="sxs-lookup"><span data-stu-id="78ba7-499">By default, the property name that the attribute is applied to is sent to the action method as a query-string parameter.</span></span>

<a id="_Toc276711790"></a>
### <a name="new-overloads-for-labelfor-and-labelformodel-methods"></a><span data-ttu-id="78ba7-500">Новые перегрузки для «LabelFor» и «LabelForModel» методов</span><span class="sxs-lookup"><span data-stu-id="78ba7-500">New Overloads for "LabelFor" and "LabelForModel" Methods</span></span>

<span data-ttu-id="78ba7-501">Были добавлены новые перегрузки для *LabelFor* и *LabelForModel* методов, которые позволяют указать текст метки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-501">New overloads have been added for the *LabelFor* and *LabelForModel* methods that let you specify the label text.</span></span> <span data-ttu-id="78ba7-502">В следующем примере показано, как для использования этих перегрузок.</span><span class="sxs-lookup"><span data-stu-id="78ba7-502">The following example shows how to use these overloads.</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample18.cshtml)]

<a id="_Toc276711791"></a>
### <a name="child-action-output-caching"></a><span data-ttu-id="78ba7-503">Дочернее действие кэширования выходных данных</span><span class="sxs-lookup"><span data-stu-id="78ba7-503">Child Action Output Caching</span></span>

<span data-ttu-id="78ba7-504">*OutputCacheAttribute* поддерживает кэширование выходных данных дочерних действий, которые вызываются с помощью *Html.RenderAction* или *Html.Action* вспомогательные методы.</span><span class="sxs-lookup"><span data-stu-id="78ba7-504">The *OutputCacheAttribute* supports output caching of child actions that are called by using the *Html.RenderAction* or *Html.Action* helper methods.</span></span> <span data-ttu-id="78ba7-505">Следующий пример показывает представление, которое вызывает еще одно действие.</span><span class="sxs-lookup"><span data-stu-id="78ba7-505">The following example shows a view that calls another action.</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample19.cshtml)]

<span data-ttu-id="78ba7-506">*GetDate* действия помечается с помощью *OutputCacheAttribute*:</span><span class="sxs-lookup"><span data-stu-id="78ba7-506">The *GetDate* action is annotated with the *OutputCacheAttribute*:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample20.cs)]

<span data-ttu-id="78ba7-507">При выполнении этот код, результат вызова метода Html.Action("GetDate") кэшируется для 100 секунд.</span><span class="sxs-lookup"><span data-stu-id="78ba7-507">When this code runs, the result of the call to Html.Action("GetDate") is cached for 100 seconds.</span></span>

<a id="_Toc276711792"></a>
### <a name="add-view-dialog-box-improvements"></a><span data-ttu-id="78ba7-508">«Добавление представления» улучшения диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="78ba7-508">"Add View" Dialog Box Improvements</span></span>

<span data-ttu-id="78ba7-509">При добавлении строго типизированного представления, в диалоговом окне Add View теперь отфильтровывает больше неподходящих типов, чем в предыдущих версиях, таких как множество типов .NET Framework core.</span><span class="sxs-lookup"><span data-stu-id="78ba7-509">When you add a strongly typed view, the Add View dialog box now filters out more non-applicable types than in previous releases, such as many core .NET Framework types.</span></span> <span data-ttu-id="78ba7-510">Кроме того список теперь сортируется по имени класса, а не полное имя типа, что упрощает поиск типов.</span><span class="sxs-lookup"><span data-stu-id="78ba7-510">Also, the list is now sorted by the class name and not by the fully qualified type name, which makes it easier to find types.</span></span> <span data-ttu-id="78ba7-511">Например имя типа теперь отображается как в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="78ba7-511">For example, the type name is now displayed as in the following example:</span></span>

<span data-ttu-id="78ba7-512">ClassName (пространство имен)</span><span class="sxs-lookup"><span data-stu-id="78ba7-512">ClassName (namespace)</span></span>

<span data-ttu-id="78ba7-513">В более ранних выпусках это был отображались бы следующим образом:</span><span class="sxs-lookup"><span data-stu-id="78ba7-513">In earlier releases, this would have been displayed as the following:</span></span>

<span data-ttu-id="78ba7-514">ПространствоИмен.ИмяКласса</span><span class="sxs-lookup"><span data-stu-id="78ba7-514">Namespace.ClassName</span></span>

<a id="_Toc276711793"></a>
### <a name="granular-request-validation"></a><span data-ttu-id="78ba7-515">Гранулярная проверка запросов</span><span class="sxs-lookup"><span data-stu-id="78ba7-515">Granular Request Validation</span></span>

<span data-ttu-id="78ba7-516">*Исключить* свойство *ValidateInputAttribute* больше не существует.</span><span class="sxs-lookup"><span data-stu-id="78ba7-516">The *Exclude* property of *ValidateInputAttribute* no longer exists.</span></span> <span data-ttu-id="78ba7-517">Чтобы проверка запросов для конкретных свойств модели, пропущено во время привязки модели, используйте новый *SkipRequestValidationAttribute*.</span><span class="sxs-lookup"><span data-stu-id="78ba7-517">Instead, to have request validation skipped for specific properties of a model during model binding, use the new *SkipRequestValidationAttribute*.</span></span>

<span data-ttu-id="78ba7-518">Например предположим, что метод действия используется для изменения записи блога:</span><span class="sxs-lookup"><span data-stu-id="78ba7-518">For example, suppose an action method is used to edit a blog post:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample21.cs)]

<span data-ttu-id="78ba7-519">Пример модели представления для записи блога.</span><span class="sxs-lookup"><span data-stu-id="78ba7-519">The following example shows the view model for a blog post.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample22.cs)]

<span data-ttu-id="78ba7-520">Когда пользователь отправляет некоторые разметки для описания свойства, привязка модели завершится ошибкой из-за проверки запроса.</span><span class="sxs-lookup"><span data-stu-id="78ba7-520">When a user submits some markup for the Description property, model binding will fail due to request validation.</span></span> <span data-ttu-id="78ba7-521">Чтобы отключить проверку запросов во время привязки модели для блога описание, применить *SkipRequpestValidationAttribute* для свойства, как показано в следующем примере:.</span><span class="sxs-lookup"><span data-stu-id="78ba7-521">To disable request validation during model binding for the blog post Description, apply the *SkipRequpestValidationAttribute* to the property, as shown in this example:.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample23.cs)]

<span data-ttu-id="78ba7-522">Кроме того, чтобы отключить проверку запроса для каждого свойства модели, примените *ValidateInputAttribute* со значением *false* на метод действия:</span><span class="sxs-lookup"><span data-stu-id="78ba7-522">Alternatively, to turn off request validation for every property of the model, apply *ValidateInputAttribute* with a value of *false* to the action method:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample24.cs)]

<a id="_Toc276711794"></a>
## <a name="breaking-changes"></a><span data-ttu-id="78ba7-523">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="78ba7-523">Breaking Changes</span></span>

- <span data-ttu-id="78ba7-524">Фильтры исключений, которые имеют одинаковые изменился порядок выполнения фильтров исключений *порядок* значение.</span><span class="sxs-lookup"><span data-stu-id="78ba7-524">The order of execution for exception filters has changed for exception filters that have the same *Order* value.</span></span> <span data-ttu-id="78ba7-525">В ASP.NET MVC 2 и более ранних версиях исключение фильтрует на контроллере, который обнаружил ту же *порядок* как те, в методе действия выполнялись перед фильтрами исключений в методе действия.</span><span class="sxs-lookup"><span data-stu-id="78ba7-525">In ASP.NET MVC 2 and earlier, exception filters on the controller that had the same *Order* as those on an action method were executed before the exception filters on the action method.</span></span> <span data-ttu-id="78ba7-526">Это обычно можно добиться, когда были применены фильтры исключений без указанного *порядок* значение.</span><span class="sxs-lookup"><span data-stu-id="78ba7-526">This would typically be the case when exception filters were applied without a specified *Order* value.</span></span> <span data-ttu-id="78ba7-527">В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым.</span><span class="sxs-lookup"><span data-stu-id="78ba7-527">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="78ba7-528">Как и в более ранних версий Если *порядок* явным образом указано свойство, фильтры выполняются в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="78ba7-528">As in earlier versions, if the *Order* property is explicitly specified, the filters are run in the specified order.</span></span>
- <span data-ttu-id="78ba7-529">Добавлено новое свойство с именем *FileExtensions* для *VirtualPathProviderViewEngine* базового класса.</span><span class="sxs-lookup"><span data-stu-id="78ba7-529">Added a new property named *FileExtensions* to the *VirtualPathProviderViewEngine* base class.</span></span> <span data-ttu-id="78ba7-530">При поиске представления по пути (а не по имени), только представления, с расширением файла, содержащихся в списке определяется посредством него новое свойство считается.</span><span class="sxs-lookup"><span data-stu-id="78ba7-530">When looking up a view by path (and not by name), only views with a file extension contained in the list specified by this new property is considered.</span></span> <span data-ttu-id="78ba7-531">Это критическое изменение для тех, кто регистрации поставщика настраиваемого построения для включения пользовательских расширений файлов для веб-формы представления и ссылающихся на эти представления, используя полный путь, а не имя.</span><span class="sxs-lookup"><span data-stu-id="78ba7-531">This is a breaking change for those who register a custom build provider to enable a custom file extension for web form views and are referencing those views by using a full path rather than a name.</span></span> <span data-ttu-id="78ba7-532">Обойти это можно изменить значение *FileExtensions* свойство, чтобы включить расширение пользовательского файла.</span><span class="sxs-lookup"><span data-stu-id="78ba7-532">The workaround is to modify the value of the *FileExtensions* property to include the custom file extension.</span></span>

<a id="_Toc276711795"></a>
## <a name="known-issues"></a><span data-ttu-id="78ba7-533">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="78ba7-533">Known Issues</span></span>

- <span data-ttu-id="78ba7-534">Установщик может занимать значительно больше, чем предыдущие версии ASP.NET MVC, так как он обновляет компоненты Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="78ba7-534">The installer may take much longer than previous versions of ASP.NET MVC to complete because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="78ba7-535">Добавить представление формирования шаблонов при выборе astrongly типизированные свойства только для записи элементов скаффолдинга представления.</span><span class="sxs-lookup"><span data-stu-id="78ba7-535">The Add View scaffolding when selecting astrongly typed view scaffolds write-only properties.</span></span> <span data-ttu-id="78ba7-536">Они всегда должны быть проигнорированы путем формирования шаблонов.</span><span class="sxs-lookup"><span data-stu-id="78ba7-536">These should always be ignored by scaffolding.</span></span> <span data-ttu-id="78ba7-537">Добавление представления диалогового окна также формирует шаблоны свойства только для чтения, при создании в представлении «Изменить» или «Создать».</span><span class="sxs-lookup"><span data-stu-id="78ba7-537">The Add View dialog also scaffolds read-only properties when generating an "Edit" or "Create" view.</span></span> <span data-ttu-id="78ba7-538">Свойства только для чтения должны быть сформированные только для отображения и список представлений.</span><span class="sxs-lookup"><span data-stu-id="78ba7-538">Read-only properties should only be scaffolded for the Display and List views.</span></span>
- <span data-ttu-id="78ba7-539">Отладка не работает при установке ASP.NET MVC 3 наряду с Async CTP.</span><span class="sxs-lookup"><span data-stu-id="78ba7-539">Debugging doesn't work when ASP.NET MVC 3 is installed alongside the Async CTP.</span></span> <span data-ttu-id="78ba7-540">ASP.NET MVC 3 не может быть установленных side-by-side с Async CTP.</span><span class="sxs-lookup"><span data-stu-id="78ba7-540">ASP.NET MVC 3 cannot be installed side-by-side with the Async CTP.</span></span> <span data-ttu-id="78ba7-541">Удалите Async CTP для восстановления отладки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-541">Uninstall the Async CTP to repair debugging.</span></span> <span data-ttu-id="78ba7-542">Дополнительные сведения см. в статье [этой записи блога](http://drew-prog.blogspot.com/2010/11/how-to-uninstall-microsoft-aspnet-mvc-3.html) об удалении все части ASP.NET MVC 3, версия-Кандидат.</span><span class="sxs-lookup"><span data-stu-id="78ba7-542">For more details, read [this blog post](http://drew-prog.blogspot.com/2010/11/how-to-uninstall-microsoft-aspnet-mvc-3.html) about uninstalling all the pieces of ASP.NET MVC 3 RC.</span></span>
- <span data-ttu-id="78ba7-543">Razor Intellisense работает не в том случае, если установлен Resharper.</span><span class="sxs-lookup"><span data-stu-id="78ba7-543">Razor Intellisense does not work when Resharper is installed.</span></span> <span data-ttu-id="78ba7-544">Если у вас установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки intellisense Razor в ASP.NET MVC 3 версии-Кандидате, см. в статье [этой записи блога](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) от компании JetBrains, в котором описывается, как использовать их вместе в настоящее время.</span><span class="sxs-lookup"><span data-stu-id="78ba7-544">If you have ReSharper installed and want to take advantage of the Razor intellisense support in ASP.NET MVC 3 RC, please read [this blog post](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) from JetBrains which discusses ways to use them together today.</span></span>
- <span data-ttu-id="78ba7-545">CSHTML и VBHTML представления, созданные с помощью бета-версии из ASP.NET MVC 3 не у них действие сборки правильно которых исключает их из публикации.</span><span class="sxs-lookup"><span data-stu-id="78ba7-545">CSHTML and VBHTML views created with Beta of ASP.NET MVC 3 do not have their build action correctly which omits them from publishing.</span></span> <span data-ttu-id="78ba7-546">*Действие при построении* эти файлы должны иметь значение «Content».</span><span class="sxs-lookup"><span data-stu-id="78ba7-546">The *Build Action* for these files should be set to "Content".</span></span> <span data-ttu-id="78ba7-547">Версия-Кандидат ASP.NET MVC 3, эта проблема устранена для новых файлов, но не правильные значения для существующих файлов проекта, созданного с помощью бета-версии.</span><span class="sxs-lookup"><span data-stu-id="78ba7-547">ASP.NET MVC 3 RC fixes this issue for new files, but doesn't correct the setting for existing files for a project created with the Beta.</span></span>
- <span data-ttu-id="78ba7-548">Установщик может занимать значительно больше, чем предыдущие версии ASP.NET MVC, так как он обновляет компоненты Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="78ba7-548">The installer may take much longer than previous versions of ASP.NET MVC to complete because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="78ba7-549">Добавить представление формирования шаблонов, выбрав «Изменить» строго типизированы формирует шаблон представления считывать только свойства.</span><span class="sxs-lookup"><span data-stu-id="78ba7-549">The Add View scaffolding when selecting an "Edit" strongly typed view scaffolds read only properties.</span></span> <span data-ttu-id="78ba7-550">Аналогично свойства только для записи сформированные для представления «Display».</span><span class="sxs-lookup"><span data-stu-id="78ba7-550">Likewise, write-only properties are scaffolded for "Display" views.</span></span>
- <span data-ttu-id="78ba7-551">Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, размер которого меньше, чем планировалось.</span><span class="sxs-lookup"><span data-stu-id="78ba7-551">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="78ba7-552">Установка Visual Studio Async CTP приводит к конфликту с выпуском Razor, который входит в состав ASP.NET MVC 3, установка средств.</span><span class="sxs-lookup"><span data-stu-id="78ba7-552">Installing the Visual Studio Async CTP causes a conflict with the Razor release that is included as part of the ASP.NET MVC 3 tooling installation.</span></span> <span data-ttu-id="78ba7-553">Убедитесь, что вы не пытайтесь установить Visual Studio Async CTP и выпуском Razor на том же компьютере.</span><span class="sxs-lookup"><span data-stu-id="78ba7-553">Make sure that you do not try to install both the Visual Studio Async CTP and the Razor release on the same machine.</span></span>
- <span data-ttu-id="78ba7-554">При изменении представления Razor (файл cshtml), пункта меню перейдите к контроллеру, в Visual Studio не будут доступны, и существуют не фрагменты кода.</span><span class="sxs-lookup"><span data-stu-id="78ba7-554">When you are editing a Razor view (.cshtml file), the Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>

<a id="TOC_ASP_NET_3_Beta"></a>
## <a name="aspnet-mvc-3-beta"></a><span data-ttu-id="78ba7-555">Бета-версия ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="78ba7-555">ASP.NET MVC 3 Beta</span></span>

<span data-ttu-id="78ba7-556">6 октября 2010 г. была выпущена бета-версия ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="78ba7-556">ASP.NET MVC 3 Beta was released on October 6, 2010.</span></span> <span data-ttu-id="78ba7-557">Следующие примечания относятся к бета-версии и могут быть любые обновления или изменения в ASP.NET MVC 3, версии-кандидата разделе выше.</span><span class="sxs-lookup"><span data-stu-id="78ba7-557">The following notes are specific to the Beta release, and are subject to any updates or changes referenced in the ASP.NET MVC 3 Release Candidate section above.</span></span>

## <a id="0.1__Toc274034215"></a>  <span data-ttu-id="78ba7-558">Новая бета-версия ASP.NET MVC 3 Featuresin</span><span class="sxs-lookup"><span data-stu-id="78ba7-558">New Featuresin ASP.NET MVC 3 Beta</span></span>

<a id="0.1__Default_validation_system"></a><span data-ttu-id="78ba7-559">В этом разделе описаны возможности, которые были введены в версии бета-версия ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="78ba7-559">This section describes features that have been introduced in the ASP.NET MVC 3 Beta release.</span></span>

### <a id="0.1__Toc274034216"></a>  <span data-ttu-id="78ba7-560">Диспетчер пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="78ba7-560">NuGet Package Manager</span></span>

<span data-ttu-id="78ba7-561">ASP.NET MVC 3 содержит диспетчер пакетов NuGet, который является средством интегрированный пакет управления для добавления библиотек и средств для проектов Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="78ba7-561">ASP.NET MVC 3 includes NuGet Package Manager, which is an integrated package management tool for adding libraries and tools to Visual Studio projects.</span></span> <span data-ttu-id="78ba7-562">По большей части она автоматизирует действия, которые разработчики Начните уже сегодня, чтобы получить библиотеку в их исходном дереве.</span><span class="sxs-lookup"><span data-stu-id="78ba7-562">For the most part, it automates the steps that developers take today to get a library into their source tree.</span></span>

<span data-ttu-id="78ba7-563">Вы можете работать с NuGet как средство командной строки, как встроенное окно консоли внутри Visual Studio 2010, в контекстном меню Visual Studio и как набор командлетов PowerShell.</span><span class="sxs-lookup"><span data-stu-id="78ba7-563">You can work with NuGet as a command line tool, as an integrated console window inside Visual Studio 2010, from the Visual Studio context menu, and as set of PowerShell cmdlets.</span></span>

<span data-ttu-id="78ba7-564">Дополнительные сведения о NuGet см [документации по NuGet](https://docs.microsoft.com/nuget/).</span><span class="sxs-lookup"><span data-stu-id="78ba7-564">For more information about NuGet, read the [NuGet Documentation](https://docs.microsoft.com/nuget/).</span></span>

### <a id="0.1__Toc274034217"></a>  <span data-ttu-id="78ba7-565">Улучшенное диалоговое окно "новый проект"</span><span class="sxs-lookup"><span data-stu-id="78ba7-565">Improved New Project Dialog Box</span></span>

<span data-ttu-id="78ba7-566">При создании нового проекта в диалоговом окне нового проекта теперь позволяет указать обработчик представлений, а также тип проекта ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="78ba7-566">When you create a new project, the New Project dialog box now lets you specify the view engine as well as an ASP.NET MVC project type.</span></span>

![](mvc3-release-notes/_static/image6.png)

<span data-ttu-id="78ba7-567">В этом выпуске не включена поддержка изменения списка шаблонов и представления, модули, перечисленные в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="78ba7-567">Support for modifying the list of templates and view engines listed in the dialog box is not included in this release.</span></span>

<span data-ttu-id="78ba7-568">Ниже перечислены шаблоны по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="78ba7-568">The default templates are the following:</span></span>

<span data-ttu-id="78ba7-569">Пустой.</span><span class="sxs-lookup"><span data-stu-id="78ba7-569">Empty.</span></span> <span data-ttu-id="78ba7-570">Содержит минимальный набор файлов для проекта ASP.NET MVC, включая структурой каталогов по умолчанию для проектов ASP.NET MVC, небольшой файл Site.css, содержащий стили ASP.NET MVC по умолчанию и каталог Scripts, содержащий файлы JavaScript по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="78ba7-570">Contains a minimal set of files for an ASP.NET MVC project, including the default directory structure for ASP.NET MVC projects, a small Site.css file that contains the default ASP.NET MVC styles, and a Scripts directory that contains the default JavaScript files.</span></span>

<span data-ttu-id="78ba7-571">Веб-приложение.</span><span class="sxs-lookup"><span data-stu-id="78ba7-571">Internet Application.</span></span> <span data-ttu-id="78ba7-572">Предоставляет пример, демонстрирующий использование поставщика членства в ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="78ba7-572">Contains sample functionality that demonstrates how to use the membership provider within ASP.NET MVC.</span></span>

### <a id="0.1__Toc274034218"></a>  <span data-ttu-id="78ba7-573">Упрощенный способ указать строго типизированным моделям в представлениях Razor</span><span class="sxs-lookup"><span data-stu-id="78ba7-573">Simplified Way to Specify Strongly Typed Models in Razor Views</span></span>

<span data-ttu-id="78ba7-574">Способ указания типа модели для строго типизированные представления Razor упрощен с новым @model директив для представлений CSHTML и @ModelType директив для представлений VBHTML.</span><span class="sxs-lookup"><span data-stu-id="78ba7-574">The way to specify the model type for strongly typed Razor views has been simplified by using the new @model directive for CSHTML views and @ModelType directive for VBHTML views.</span></span> <span data-ttu-id="78ba7-575">В более ранних версиях ASP.NET MVC следовало бы указать, что строго типизированную модель для Razor представления таким образом:</span><span class="sxs-lookup"><span data-stu-id="78ba7-575">In earlier versions of ASP.NET MVC, you would specify a strongly typed model for Razor views this way:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample25.cshtml)]

<span data-ttu-id="78ba7-576">В этом выпуске можно использовать следующий синтаксис:</span><span class="sxs-lookup"><span data-stu-id="78ba7-576">In this release, you can use the following syntax:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample26.cshtml)]

### <a id="0.1__Toc274034219"></a>  <span data-ttu-id="78ba7-577">Поддержка новых веб-страниц ASP.NET, вспомогательные методы</span><span class="sxs-lookup"><span data-stu-id="78ba7-577">Support for New ASP.NET Web Pages Helper Methods</span></span>

<span data-ttu-id="78ba7-578">Новая технология ASP.NET Web Pages включает набор вспомогательных методов, которые полезны для добавления функций часто используемых в представлениях и контроллерах.</span><span class="sxs-lookup"><span data-stu-id="78ba7-578">The new ASP.NET Web Pages technology includes a set of helper methods that are useful for adding commonly used functionality to views and controllers.</span></span> <span data-ttu-id="78ba7-579">ASP.NET MVC 3 поддерживает эти вспомогательные методы в контроллеры и представления (по необходимости).</span><span class="sxs-lookup"><span data-stu-id="78ba7-579">ASP.NET MVC 3 supports using these helper methods within controllers and views (where appropriate).</span></span> <span data-ttu-id="78ba7-580">Эти методы содержатся в сборке System.Web.Helpers.</span><span class="sxs-lookup"><span data-stu-id="78ba7-580">These methods are contained in the System.Web.Helpers assembly.</span></span> <span data-ttu-id="78ba7-581">В следующей таблице перечислены некоторые из вспомогательных методов ASP.NET Web Pages.</span><span class="sxs-lookup"><span data-stu-id="78ba7-581">The following table lists a few of the ASP.NET Web Pages helper methods.</span></span>

| **<span data-ttu-id="78ba7-582">Вспомогательный</span><span class="sxs-lookup"><span data-stu-id="78ba7-582">Helper</span></span>** | **<span data-ttu-id="78ba7-583">Описание</span><span class="sxs-lookup"><span data-stu-id="78ba7-583">Description</span></span>** |
| --- | --- |
| <span data-ttu-id="78ba7-584">Диаграмма</span><span class="sxs-lookup"><span data-stu-id="78ba7-584">Chart</span></span> | <span data-ttu-id="78ba7-585">Выполняет визуализацию диаграммы в представлении.</span><span class="sxs-lookup"><span data-stu-id="78ba7-585">Renders a chart within a view.</span></span> <span data-ttu-id="78ba7-586">Содержит методы, такие как Chart.ToWebImage, Chart.Save и Chart.Write.</span><span class="sxs-lookup"><span data-stu-id="78ba7-586">Contains methods such as Chart.ToWebImage, Chart.Save, and Chart.Write.</span></span> |
| <span data-ttu-id="78ba7-587">Crypto</span><span class="sxs-lookup"><span data-stu-id="78ba7-587">Crypto</span></span> | <span data-ttu-id="78ba7-588">Используется хэширование алгоритмов для создания правильно дополнительные salt-значения и хэшированные пароли.</span><span class="sxs-lookup"><span data-stu-id="78ba7-588">Uses hashing algorithms to create properly salted and hashed passwords.</span></span> |
| <span data-ttu-id="78ba7-589">WebGrid</span><span class="sxs-lookup"><span data-stu-id="78ba7-589">WebGrid</span></span> | <span data-ttu-id="78ba7-590">Отображает коллекцию объектов (как правило, данные из базы данных) в виде сетки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-590">Renders a collection of objects (typically, data from a database) as a grid.</span></span> <span data-ttu-id="78ba7-591">Поддерживает разбиение по страницам и сортировка.</span><span class="sxs-lookup"><span data-stu-id="78ba7-591">Supports paging and sorting.</span></span> |
| <span data-ttu-id="78ba7-592">WebImage</span><span class="sxs-lookup"><span data-stu-id="78ba7-592">WebImage</span></span> | <span data-ttu-id="78ba7-593">Выводит изображение на экран.</span><span class="sxs-lookup"><span data-stu-id="78ba7-593">Renders an image.</span></span> |
| <span data-ttu-id="78ba7-594">Веб-почты</span><span class="sxs-lookup"><span data-stu-id="78ba7-594">WebMail</span></span> | <span data-ttu-id="78ba7-595">Отправляет сообщение электронной почты.</span><span class="sxs-lookup"><span data-stu-id="78ba7-595">Sends an email message.</span></span> |

<span data-ttu-id="78ba7-596">В этом разделе Краткий справочник перечисляет вспомогательные функции и базовый синтаксис доступен как часть документации синтаксис ASP.NET Razor по следующему АДРЕСУ:</span><span class="sxs-lookup"><span data-stu-id="78ba7-596">A quick reference topic that lists the helpers and basic syntax is available as part of the ASP.NET Razor syntax documentation at the following URL:</span></span>

[https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-api-reference](../web-pages/overview/api-reference/asp-net-web-pages-api-reference.md)

### <a id="0.1__Toc274034220"></a>  <span data-ttu-id="78ba7-597">Поддержка внедрения дополнительных зависимостей</span><span class="sxs-lookup"><span data-stu-id="78ba7-597">Additional Dependency Injection Support</span></span>

<span data-ttu-id="78ba7-598">Основываясь на выпуск ASP.NET MVC 3 Preview 1, текущий выпуск включает в себя добавлена поддержка две новые службы и четыре существующие службы и улучшенная поддержка разрешение зависимостей и локатора общей службы.</span><span class="sxs-lookup"><span data-stu-id="78ba7-598">Building on the ASP.NET MVC 3 Preview 1 release, the current release includes added support for two new services and four existing services, and improved support for dependency resolution and the Common Service Locator.</span></span>

#### <a name="new-icontrolleractivator-interface-for-fine-grained-controller-instantiation"></a><span data-ttu-id="78ba7-599">Новый интерфейс IControllerActivator для точного контроллера при создании экземпляра</span><span class="sxs-lookup"><span data-stu-id="78ba7-599">New IControllerActivator Interface for Fine-Grained Controller Instantiation</span></span>

<span data-ttu-id="78ba7-600">Новый интерфейс IControllerActivator обеспечивает более точный контроль над как контроллеры создаются посредством внедрения зависимостей.</span><span class="sxs-lookup"><span data-stu-id="78ba7-600">The new IControllerActivator interface provides more fine-grained control over how controllers are instantiated via dependency injection.</span></span> <span data-ttu-id="78ba7-601">В следующем примере показано интерфейс:</span><span class="sxs-lookup"><span data-stu-id="78ba7-601">The following example shows the interface:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample27.cs)]

<span data-ttu-id="78ba7-602">Сравните это с ролью фабрики контроллеров.</span><span class="sxs-lookup"><span data-stu-id="78ba7-602">Contrast this to the role of the controller factory.</span></span> <span data-ttu-id="78ba7-603">Фабрика контроллеров — это реализация интерфейса IControllerFactory, который обеспечивает для нахождения тип контроллера, а также для создания экземпляра этого типа контроллера.</span><span class="sxs-lookup"><span data-stu-id="78ba7-603">A controller factory is an implementation of the IControllerFactory interface, which is responsible both for locating a controller type and for instantiating an instance of that controller type.</span></span>

<span data-ttu-id="78ba7-604">Активаторы отвечают только для создания экземпляра типа контроллера.</span><span class="sxs-lookup"><span data-stu-id="78ba7-604">Controller activators are responsible only for instantiating an instance of a controller type.</span></span> <span data-ttu-id="78ba7-605">Они не выполняют поиск типа контроллера.</span><span class="sxs-lookup"><span data-stu-id="78ba7-605">They do not perform the controller type lookup.</span></span> <span data-ttu-id="78ba7-606">После нахождения контроллера правильный тип, фабрики контроллеров должны делегировать в экземпляр IControllerActivator для обработки фактических экземпляра контроллера.</span><span class="sxs-lookup"><span data-stu-id="78ba7-606">After locating a proper controller type, controller factories should delegate to an instance of IControllerActivator to handle the actual instantiation of the controller.</span></span>

<span data-ttu-id="78ba7-607">Класс DefaultControllerFactory имеет новый конструктор, который принимает экземпляр IControllerFactory.</span><span class="sxs-lookup"><span data-stu-id="78ba7-607">The DefaultControllerFactory class has a new constructor that accepts an IControllerFactory instance.</span></span> <span data-ttu-id="78ba7-608">Это позволяет использовать внедрение зависимостей для управления этот аспект создания контроллера не нужно переопределить поведение по умолчанию для подстановки тип контроллера.</span><span class="sxs-lookup"><span data-stu-id="78ba7-608">This lets you apply Dependency Injection to manage this aspect of controller creation without having to override the default controller-type lookup behavior.</span></span>

#### <a name="iservicelocator-interface-replaced-with-idependencyresolver"></a><span data-ttu-id="78ba7-609">Интерфейс IServiceLocator заменены IDependencyResolver</span><span class="sxs-lookup"><span data-stu-id="78ba7-609">IServiceLocator Interface Replaced with IDependencyResolver</span></span>

<span data-ttu-id="78ba7-610">На основе отзывов сообщества ASP.NET MVC 3, бета-версии заменяет использование интерфейса IServiceLocator интерфейс IDependencyResolver облегченных соответствующий потребностям ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="78ba7-610">Based on community feedback, the ASP.NET MVC 3 Beta release has replaced the use of the IServiceLocator interface with a slimmed-down IDependencyResolver interface specific to the needs of ASP.NET MVC.</span></span> <span data-ttu-id="78ba7-611">В следующем примере показано нового интерфейса:</span><span class="sxs-lookup"><span data-stu-id="78ba7-611">The following example shows the new interface:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample28.cs)]

<span data-ttu-id="78ba7-612">В рамках этого изменения настройки ServiceLocator класса также было заменено значением класс DependencyResolver.</span><span class="sxs-lookup"><span data-stu-id="78ba7-612">As part of this change, the ServiceLocator class was also replaced with the DependencyResolver class.</span></span> <span data-ttu-id="78ba7-613">Регистрации сопоставителя зависимостей будет более ранних версиях ASP.NET MVC:</span><span class="sxs-lookup"><span data-stu-id="78ba7-613">Registration of a dependency resolver is similar to earlier versions of ASP.NET MVC:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample29.cs)]

<span data-ttu-id="78ba7-614">Реализации этого интерфейса должны просто делегировать базовый контейнер внедрения зависимостей, чтобы предоставить зарегистрированную службу для запрошенного типа.</span><span class="sxs-lookup"><span data-stu-id="78ba7-614">Implementations of this interface should simply delegate to the underlying dependency injection container to provide the registered service for the requested type.</span></span>

<span data-ttu-id="78ba7-615">Если нет зарегистрированных служб запрошенного типа, ASP.NET MVC ожидает реализации этого интерфейса для возврата значения null из GetService и возвращать пустую коллекцию из GetServices.</span><span class="sxs-lookup"><span data-stu-id="78ba7-615">When there are no registered services of the requested type, ASP.NET MVC expects implementations of this interface to return null from GetService and to return an empty collection from GetServices.</span></span>

<span data-ttu-id="78ba7-616">Новый класс DependencyResolver позволяет зарегистрировать классы, реализующие интерфейс локатора общей службы (IServiceLocator) либо новый интерфейс IDependencyResolver.</span><span class="sxs-lookup"><span data-stu-id="78ba7-616">The new DependencyResolver class lets you register classes that implement either the new IDependencyResolver interface or the Common Service Locator interface (IServiceLocator).</span></span> <span data-ttu-id="78ba7-617">Дополнительные сведения о локаторе общей службы см. в разделе [CommonServiceLocator на сайте GitHub](https://github.com/unitycontainer/commonservicelocator).</span><span class="sxs-lookup"><span data-stu-id="78ba7-617">For more information about Common Service Locator, see [CommonServiceLocator on GitHub](https://github.com/unitycontainer/commonservicelocator).</span></span>

<a id="0.1__Breaking_Changes"></a>

#### <a name="new-iviewactivator-interface-for-fine-grained-view-page-instantiation"></a><span data-ttu-id="78ba7-618">Новый интерфейс IViewActivator для создания экземпляра точное представление страницы</span><span class="sxs-lookup"><span data-stu-id="78ba7-618">New IViewActivator Interface for Fine-Grained View Page Instantiation</span></span>

<span data-ttu-id="78ba7-619">Новый интерфейс IViewPageActivator обеспечивает более точный контроль над как просмотреть страницы создаются посредством внедрения зависимостей.</span><span class="sxs-lookup"><span data-stu-id="78ba7-619">The new IViewPageActivator interface provides more fine-grained control over how view pages are instantiated via dependency injection.</span></span> <span data-ttu-id="78ba7-620">Это относится к WebFormView экземпляры и экземпляры RazorView.</span><span class="sxs-lookup"><span data-stu-id="78ba7-620">This applies to both WebFormView instances and RazorView instances.</span></span> <span data-ttu-id="78ba7-621">В следующем примере показано нового интерфейса:</span><span class="sxs-lookup"><span data-stu-id="78ba7-621">The following example shows the new interface:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample30.cs)]

<span data-ttu-id="78ba7-622">Эти классы теперь принимают аргумент конструктора IViewPageActivator, который позволяет внедрения зависимостей используется для управления, как создаются типы ViewPage, ViewUserControl и WebViewPage.</span><span class="sxs-lookup"><span data-stu-id="78ba7-622">These classes now accept an IViewPageActivator constructor argument, which lets you use dependency injection to control how the ViewPage, ViewUserControl, and WebViewPage types are instantiated.</span></span>

#### <a name="new-dependency-resolver-support-for-existing-services"></a><span data-ttu-id="78ba7-623">Новый поддержка Сопоставитель зависимостей для существующих служб</span><span class="sxs-lookup"><span data-stu-id="78ba7-623">New Dependency Resolver Support for Existing Services</span></span>

<span data-ttu-id="78ba7-624">Новый выпуск включает поддержку разрешения зависимостей для следующих служб:</span><span class="sxs-lookup"><span data-stu-id="78ba7-624">The new release includes dependency resolution support for the following services:</span></span>

- <span data-ttu-id="78ba7-625">Поставщиков проверки модели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-625">Model validation providers.</span></span> <span data-ttu-id="78ba7-626">Классы, реализующие ModelValidatorProvider могут быть зарегистрированы в сопоставителе зависимостей, а система будет использовать их для поддержки проверки на стороне клиента и сервера.</span><span class="sxs-lookup"><span data-stu-id="78ba7-626">Classes that implement ModelValidatorProvider can be registered in the dependency resolver, and the system will use them to support client- and server-side validation.</span></span>
- <span data-ttu-id="78ba7-627">Поставщик метаданных модели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-627">Model metadata provider.</span></span> <span data-ttu-id="78ba7-628">Один класс, реализующий ModelMetadataProvider могут быть зарегистрированы в сопоставителе зависимостей, а система будет использовать его для предоставления метаданных для систем шаблонов и проверки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-628">A single class that implements ModelMetadataProvider can be registered in the dependency resolver, and the system will use it to provide metadata for the templating and validation systems.</span></span>
- <span data-ttu-id="78ba7-629">Поставщики значений.</span><span class="sxs-lookup"><span data-stu-id="78ba7-629">Value providers.</span></span> <span data-ttu-id="78ba7-630">Классы, реализующие ValueProviderFactory могут быть зарегистрированы в сопоставителе зависимостей, а система будет использовать их для создания поставщиков значений, которые используются контроллер и во время привязки модели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-630">Classes that implement ValueProviderFactory can be registered in the dependency resolver, and the system will use them to create value providers that are consumed by the controller and during model binding.</span></span>
- <span data-ttu-id="78ba7-631">Связыватели моделей.</span><span class="sxs-lookup"><span data-stu-id="78ba7-631">Model binders.</span></span> <span data-ttu-id="78ba7-632">Классы, реализующие IModelBinderProvider могут быть зарегистрированы в сопоставителе зависимостей, а система будет использовать их для создания связыватели моделей, которые потребляются система привязки модели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-632">Classes that implement IModelBinderProvider can be registered in the dependency resolver, and the system will use them to create model binders that are consumed by the model binding system.</span></span>

### <a id="0.1__Toc274034221"></a>  <span data-ttu-id="78ba7-633">Новая поддержка ненавязчивого Ajax на основе jQuery</span><span class="sxs-lookup"><span data-stu-id="78ba7-633">New Support for Unobtrusive jQuery-Based Ajax</span></span>

<span data-ttu-id="78ba7-634">ASP.NET MVC включает вспомогательные методы Ajax, такие как следующие:</span><span class="sxs-lookup"><span data-stu-id="78ba7-634">ASP.NET MVC includes Ajax helper methods such as the following:</span></span>

- <span data-ttu-id="78ba7-635">Ajax.ActionLink</span><span class="sxs-lookup"><span data-stu-id="78ba7-635">Ajax.ActionLink</span></span>
- <span data-ttu-id="78ba7-636">Ajax.RouteLink</span><span class="sxs-lookup"><span data-stu-id="78ba7-636">Ajax.RouteLink</span></span>
- <span data-ttu-id="78ba7-637">Ajax.BeginForm</span><span class="sxs-lookup"><span data-stu-id="78ba7-637">Ajax.BeginForm</span></span>
- <span data-ttu-id="78ba7-638">Ajax.BeginRouteForm</span><span class="sxs-lookup"><span data-stu-id="78ba7-638">Ajax.BeginRouteForm</span></span>

<span data-ttu-id="78ba7-639">Эти методы используют JavaScript для вызова метода действия на сервере, а не с помощью полной обратной передачи.</span><span class="sxs-lookup"><span data-stu-id="78ba7-639">These methods use JavaScript to invoke an action method on the server rather than using a full postback.</span></span> <span data-ttu-id="78ba7-640">Эта функциональность была обновлена чтобы воспользоваться преимуществами jQuery ненавязчивого образом.</span><span class="sxs-lookup"><span data-stu-id="78ba7-640">This functionality has been updated to take advantage of jQuery in an unobtrusive manner.</span></span> <span data-ttu-id="78ba7-641">Вместо того чтобы мешая основной работе, создающие встроенный клиентских скриптов, эти вспомогательные методы разделения поведение из разметки, порождая атрибутов HTML5 с помощью *данных ajax* префикс.</span><span class="sxs-lookup"><span data-stu-id="78ba7-641">Rather than intrusively emitting inline client scripts, these helper methods separate the behavior from the markup by emitting HTML5 attributes using the *data-ajax* prefix.</span></span> <span data-ttu-id="78ba7-642">Поведение применяется к разметке путем ссылки на соответствующие файлы JavaScript.</span><span class="sxs-lookup"><span data-stu-id="78ba7-642">Behavior is then applied to the markup by referencing the appropriate JavaScript files.</span></span> <span data-ttu-id="78ba7-643">Убедитесь, что указываются следующие файлы JavaScript:</span><span class="sxs-lookup"><span data-stu-id="78ba7-643">Make sure that the following JavaScript files are referenced:</span></span>

- <span data-ttu-id="78ba7-644">jquery-1.4.1.js</span><span class="sxs-lookup"><span data-stu-id="78ba7-644">jquery-1.4.1.js</span></span>
- <span data-ttu-id="78ba7-645">jquery.unobtrusive.ajax.js</span><span class="sxs-lookup"><span data-stu-id="78ba7-645">jquery.unobtrusive.ajax.js</span></span>

<span data-ttu-id="78ba7-646">Эта функция включена по умолчанию в файле Web.config в новые шаблоны проектов ASP.NET MVC 3, но отключена по умолчанию для существующих проектов.</span><span class="sxs-lookup"><span data-stu-id="78ba7-646">This feature is enabled by default in the Web.config file in the ASP.NET MVC 3 new project templates, but is disabled by default for existing projects.</span></span> <span data-ttu-id="78ba7-647">Дополнительные сведения см. в разделе [добавлены флаги уровня приложения для клиентская проверка и ненавязчивый JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) далее в этом документе.</span><span class="sxs-lookup"><span data-stu-id="78ba7-647">For more information, see [Added application-wide flags for client validation and unobtrusive JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) later in this document.</span></span>

### <a id="0.1__Toc274034222"></a>  <span data-ttu-id="78ba7-648">Новая поддержка ненавязчивой проверки jQuery.</span><span class="sxs-lookup"><span data-stu-id="78ba7-648">New Support for Unobtrusive jQuery Validation</span></span>

<span data-ttu-id="78ba7-649">По умолчанию бета-версия ASP.NET MVC 3 использует проверки jQuery ненавязчивого образом для выполнения проверки на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="78ba7-649">By default, ASP.NET MVC 3 Beta uses jQuery validation in an unobtrusive manner in order to perform client-side validation.</span></span> <span data-ttu-id="78ba7-650">Чтобы включить ненавязчивой клиентской проверки, звонки примерно следующее из в представлении:</span><span class="sxs-lookup"><span data-stu-id="78ba7-650">To enable unobtrusive client validation, make a call like the following from within a view:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample31.cs)]

<span data-ttu-id="78ba7-651">Для этого требуется, что свойство ViewContext.UnobtrusiveJavaScriptEnabled имеет значение true, что можно сделать, выполнив следующий вызов:</span><span class="sxs-lookup"><span data-stu-id="78ba7-651">This requires that ViewContext.UnobtrusiveJavaScriptEnabled property is set to true, which you can do by making the following call:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample32.cs)]

<span data-ttu-id="78ba7-652">Также убедитесь, что указываются следующие файлы JavaScript.</span><span class="sxs-lookup"><span data-stu-id="78ba7-652">Also make sure the following JavaScript files are referenced.</span></span>

- <span data-ttu-id="78ba7-653">jquery-1.4.1.js</span><span class="sxs-lookup"><span data-stu-id="78ba7-653">jquery-1.4.1.js</span></span>
- <span data-ttu-id="78ba7-654">jquery.validate.js</span><span class="sxs-lookup"><span data-stu-id="78ba7-654">jquery.validate.js</span></span>
- <span data-ttu-id="78ba7-655">jquery.validate.unobtrusive.js</span><span class="sxs-lookup"><span data-stu-id="78ba7-655">jquery.validate.unobtrusive.js</span></span>

<span data-ttu-id="78ba7-656">Эта функция включена по умолчанию в файле Web.config в новые шаблоны проектов ASP.NET MVC 3, но отключена по умолчанию для существующих проектов.</span><span class="sxs-lookup"><span data-stu-id="78ba7-656">This feature is enabled on by default in the Web.config file in the ASP.NET MVC 3 new project templates, but is disabled by default for existing projects.</span></span> <span data-ttu-id="78ba7-657">Дополнительные сведения см. в разделе [новые флаги уровня приложения для клиентская проверка и ненавязчивый JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) далее в этом документе.</span><span class="sxs-lookup"><span data-stu-id="78ba7-657">For more information, see [New application-wide flags for client validation and unobtrusive JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) later in this document.</span></span>

<a id="0.1__Toc274034223"></a>

### <a id="0.1_AddedApplicationWideFlagsForClientValida"></a>  <span data-ttu-id="78ba7-658">Новые флаги уровня приложения для клиентской проверки и ненавязчивого JavaScript</span><span class="sxs-lookup"><span data-stu-id="78ba7-658">New Application-Wide Flags for Client Validation and Unobtrusive JavaScript</span></span>

<span data-ttu-id="78ba7-659">Можно включить или отключить клиентская проверка и ненавязчивый JavaScript, глобально с помощью статических членов класса HtmlHelper, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="78ba7-659">You can enable or disable client validation and unobtrusive JavaScript globally using static members of the HtmlHelper class, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample33.cs)]

<span data-ttu-id="78ba7-660">В стандартных шаблонах проектов включения ненавязчивого JavaScript по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="78ba7-660">The default project templates enable unobtrusive JavaScript by default.</span></span> <span data-ttu-id="78ba7-661">Кроме того, можно также включить или отключить эти функции в файле Web.config вашего приложения, используя следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="78ba7-661">You can also enable or disable these features in the root Web.config file of your application using the following settings:</span></span>

[!code-xml[Main](mvc3-release-notes/samples/sample34.xml)]

<span data-ttu-id="78ba7-662">Так как эти функции можно включить по умолчанию, в класс HtmlHelper, которые позволяют переопределить параметры по умолчанию, как показано в следующих примерах были введены новые перегрузки:</span><span class="sxs-lookup"><span data-stu-id="78ba7-662">Because you can enable these features by default, new overloads were introduced to the HtmlHelper class that let you override the default settings, as shown in the following examples:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample35.cs)]

<span data-ttu-id="78ba7-663">Для обеспечения обратной совместимости обе эти функции отключены по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="78ba7-663">For backward compatibility, both of these features are disabled by default.</span></span>

### <a id="0.1__Toc274034224"></a>  <span data-ttu-id="78ba7-664">Новая поддержка код, выполняемый перед запуском представления</span><span class="sxs-lookup"><span data-stu-id="78ba7-664">New Support for Code that Runs Before Views Run</span></span>

<span data-ttu-id="78ba7-665">Теперь можно поместить файл с именем \_viewstart.cshtml (или \_viewstart.vbhtml) в каталоге Views и добавьте код к нему, будут совместно использовать несколько представлений в этом каталоге и его подкаталогах.</span><span class="sxs-lookup"><span data-stu-id="78ba7-665">You can now put a file named \_viewstart.cshtml (or \_viewstart.vbhtml) in the Views directory and add code to it that will be shared among multiple views in that directory and its subdirectories.</span></span> <span data-ttu-id="78ba7-666">Например, вы можете поместить следующий код в \_viewstart.cshtml страницы в папке ~/Views:</span><span class="sxs-lookup"><span data-stu-id="78ba7-666">For example, you might put the following code into the \_viewstart.cshtml page in the ~/Views folder:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample36.cshtml)]

<span data-ttu-id="78ba7-667">Задает страницу макета для каждого представления в папке Views и всем вложенным папкам рекурсивно.</span><span class="sxs-lookup"><span data-stu-id="78ba7-667">This sets the layout page for every view within the Views folder and all its subfolders recursively.</span></span> <span data-ttu-id="78ba7-668">Когда представление отображается код в \_viewstart.cshtml файл выполняется перед выполнением код представления.</span><span class="sxs-lookup"><span data-stu-id="78ba7-668">When a view is being rendered, the code in the \_viewstart.cshtml file runs before the view code runs.</span></span> <span data-ttu-id="78ba7-669">\_Viewstart.cshtml код применяется к каждому представлению в этой папке.</span><span class="sxs-lookup"><span data-stu-id="78ba7-669">The \_viewstart.cshtml code applies to every view in that folder.</span></span>

<span data-ttu-id="78ba7-670">По умолчанию, код в \_viewstart.cshtml файл также применяется к представлениям в любую вложенную папку.</span><span class="sxs-lookup"><span data-stu-id="78ba7-670">By default, the code in the \_viewstart.cshtml file also applies to views in any subfolder.</span></span> <span data-ttu-id="78ba7-671">Однако отдельные вложенные папки могут иметь собственную версию \_viewstart.cshtml файл; в случае локальной версии имеет более высокий приоритет.</span><span class="sxs-lookup"><span data-stu-id="78ba7-671">However, individual subfolders can have their own version of the \_viewstart.cshtml file; in that case, the local version takes precedence.</span></span> <span data-ttu-id="78ba7-672">Например, чтобы запустить код, который является общим для всех представлений для HomeController, поместите \_viewstart.cshtml файл в папке ~/Views/Home.</span><span class="sxs-lookup"><span data-stu-id="78ba7-672">For example, to run code that is common to all views for the HomeController, put a \_viewstart.cshtml file in the ~/Views/Home folder.</span></span>

### <a id="0.1__Toc274034225"></a>  <span data-ttu-id="78ba7-673">Новая поддержка синтаксиса Razor VBHTML</span><span class="sxs-lookup"><span data-stu-id="78ba7-673">New Support for the VBHTML Razor Syntax</span></span>

<span data-ttu-id="78ba7-674">Предыдущей предварительной версии ASP.NET MVC входит поддержка представлениями, использующий синтаксис Razor, в зависимости от C#.</span><span class="sxs-lookup"><span data-stu-id="78ba7-674">The previous ASP.NET MVC preview included support for views using Razor syntax based on C#.</span></span> <span data-ttu-id="78ba7-675">Эти представления используется расширение файла .cshtml.</span><span class="sxs-lookup"><span data-stu-id="78ba7-675">These views use the .cshtml file extension.</span></span> <span data-ttu-id="78ba7-676">В рамках текущей работы для поддержки Razor бета-версия ASP.NET MVC 3 добавлена поддержка синтаксиса Razor в Visual Basic, который использует расширение файла .vbhtml.</span><span class="sxs-lookup"><span data-stu-id="78ba7-676">As part of ongoing work to support Razor, the ASP.NET MVC 3 Beta introduces support for the Razor syntax in Visual Basic, which uses the .vbhtml file extension.</span></span>

<span data-ttu-id="78ba7-677">Введение в синтаксис Visual Basic в VBHTML страниц см. в руководстве по следующему АДРЕСУ:</span><span class="sxs-lookup"><span data-stu-id="78ba7-677">For an introduction to using Visual Basic syntax in VBHTML pages, see the tutorial at the following URL:</span></span>

[https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-visual-basic](../web-pages/overview/getting-started/introducing-razor-syntax-vb.md)

### <a id="0.1__Toc274034226"></a>  <span data-ttu-id="78ba7-678">Более точный контроль над ValidateInputAttribute</span><span class="sxs-lookup"><span data-stu-id="78ba7-678">More Granular Control over ValidateInputAttribute</span></span>

<span data-ttu-id="78ba7-679">ASP.NET MVC был всегда включен класс ValidateInputAttribute, который вызывает инфраструктура проверки запроса ASP.NET core чтобы убедиться в том, что входящий запрос не содержит потенциально вредоносный ввод.</span><span class="sxs-lookup"><span data-stu-id="78ba7-679">ASP.NET MVC has always included the ValidateInputAttribute class, which invokes the core ASP.NET request validation infrastructure to make sure that the incoming request does not contain potentially malicious input.</span></span> <span data-ttu-id="78ba7-680">По умолчанию включена проверка входных данных.</span><span class="sxs-lookup"><span data-stu-id="78ba7-680">By default, input validation is enabled.</span></span> <span data-ttu-id="78ba7-681">Это можно отключить проверку запросов с помощью атрибута ValidateInputAttribute, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="78ba7-681">It is possible to disable request validation by using the ValidateInputAttribute attribute, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample37.cs)]

<span data-ttu-id="78ba7-682">Тем не менее многие веб-приложения имеют отдельные поля форм, которые необходимо разрешить HTML, а остальные поля не должны.</span><span class="sxs-lookup"><span data-stu-id="78ba7-682">However, many web applications have individual form fields that need to allow HTML, while the remaining fields should not.</span></span> <span data-ttu-id="78ba7-683">Класс ValidateInputAttribute теперь позволяет указать список полей, которые не должны быть включены в проверку запроса.</span><span class="sxs-lookup"><span data-stu-id="78ba7-683">The ValidateInputAttribute class now lets you specify a list of fields that should not be included in request validation.</span></span>

<span data-ttu-id="78ba7-684">Например если вы разрабатываете подсистему ведения блогов, может потребоваться разрешить разметку в полях тела и Сводка.</span><span class="sxs-lookup"><span data-stu-id="78ba7-684">For example, if you are developing a blog engine, you might want to allow markup in the Body and Summary fields.</span></span> <span data-ttu-id="78ba7-685">Эти поля могут быть представлены два элемент input, каждый с атрибутом name, соответствующее имени свойства («Текст» и «Сводка»).</span><span class="sxs-lookup"><span data-stu-id="78ba7-685">These fields might be represented by two input element, each with a name attribute corresponding to the property name ("Body" and "Summary").</span></span> <span data-ttu-id="78ba7-686">Чтобы отключить запрос проверки для этих полей, укажите имена (разделенных запятыми) в свойстве исключения класса ValidateInput, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="78ba7-686">To disable request validation for these fields only, specify the names (comma-separated) in the Exclude property of the ValidateInput class, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample38.cs)]

### <a id="0.1__Toc274034227"></a>  <span data-ttu-id="78ba7-687">Вспомогательные функции преобразовать символы подчеркивания в дефисы для имен атрибутов HTML, заданные с помощью анонимных объектов</span><span class="sxs-lookup"><span data-stu-id="78ba7-687">Helpers Convert Underscores to Hyphens for HTML Attribute Names Specified Using Anonymous Objects</span></span>

<span data-ttu-id="78ba7-688">Вспомогательные методы позволяют задавать пары имя/значение атрибута, используя анонимный объект, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="78ba7-688">Helper methods let you specify attribute name/value pairs using an anonymous object, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample39.cs)]

<span data-ttu-id="78ba7-689">Этот подход не позволяет использовать дефисы в имени атрибута, так как дефис не может использоваться для имени свойства в ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="78ba7-689">This approach doesn't let you use hyphens in the attribute name, because a hyphen cannot be used for a property name in ASP.NET.</span></span> <span data-ttu-id="78ba7-690">Тем не менее дефисы, очень важны для настраиваемых атрибутов HTML5; Например HTML5 используется префикс «data-».</span><span class="sxs-lookup"><span data-stu-id="78ba7-690">However, hyphens are important for custom HTML5 attributes; for example, HTML5 uses the "data-" prefix.</span></span>

<span data-ttu-id="78ba7-691">В то же время символы подчеркивания, не может использоваться для имен атрибутов в формате HTML, но при этом допустимы в пределах имена свойств.</span><span class="sxs-lookup"><span data-stu-id="78ba7-691">At the same time, underscores cannot be used for attribute names in HTML, but are valid within property names.</span></span> <span data-ttu-id="78ba7-692">Таким образом при указании атрибутов, используя анонимный объект, а имена атрибутов содержит символ подчеркивания,, вспомогательные методы Преобразует знаки подчеркивания дефисы.</span><span class="sxs-lookup"><span data-stu-id="78ba7-692">Therefore, if you specify attributes using an anonymous object, and if the attribute names include an underscore,, helper methods will convert the underscores to hyphens.</span></span> <span data-ttu-id="78ba7-693">Например следующий синтаксис вспомогательный использует символ подчеркивания:</span><span class="sxs-lookup"><span data-stu-id="78ba7-693">For example, the following helper syntax uses an underscore:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample40.cs)]

<span data-ttu-id="78ba7-694">Предыдущий пример следующую разметку при выполнении модуля поддержки:</span><span class="sxs-lookup"><span data-stu-id="78ba7-694">The previous example renders the following markup when the helper runs:</span></span>

[!code-html[Main](mvc3-release-notes/samples/sample41.html)]

## <a id="0.1__Toc274034228"></a>  <span data-ttu-id="78ba7-695">Исправления ошибок</span><span class="sxs-lookup"><span data-stu-id="78ba7-695">Bug Fixes</span></span>

<span data-ttu-id="78ba7-696">Шаблон объекта по умолчанию для шаблона помощников EditorFor и DisplayFor теперь поддерживает порядок, указанный в свойстве DisplayAttribute.Order.</span><span class="sxs-lookup"><span data-stu-id="78ba7-696">The default object template for the EditorFor and DisplayFor template helpers now supports the ordering specified in the DisplayAttribute.Order property.</span></span> <span data-ttu-id="78ba7-697">(В предыдущих версиях параметр Order не использовался.)</span><span class="sxs-lookup"><span data-stu-id="78ba7-697">(In previous versions, the Order setting was not used.)</span></span>

<span data-ttu-id="78ba7-698">Проверка клиента теперь поддерживает проверку переопределенные свойства, имеющие применены атрибуты проверки.</span><span class="sxs-lookup"><span data-stu-id="78ba7-698">Client validation now supports validation of overridden properties that have validation attributes applied.</span></span>

<span data-ttu-id="78ba7-699">JsonValueProviderFactory зарегистрирован по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="78ba7-699">JsonValueProviderFactory is now registered by default.</span></span>

## <a id="0.1__Toc274034229"></a>  <span data-ttu-id="78ba7-700">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="78ba7-700">Breaking Changes</span></span>

<span data-ttu-id="78ba7-701">Фильтры исключений, которые имеют одинаковое значение порядок изменился порядок выполнения фильтров исключений.</span><span class="sxs-lookup"><span data-stu-id="78ba7-701">The order of execution for exception filters has changed for exception filters that have the same Order value.</span></span> <span data-ttu-id="78ba7-702">В ASP.NET MVC 2 и более ранних версиях исключение фильтрует на контроллере, в том же порядке, как те, в методе действия выполнялись перед фильтрами исключений в методе действия.</span><span class="sxs-lookup"><span data-stu-id="78ba7-702">In ASP.NET MVC 2 and earlier, exception filters on the controller with the same Order as those on an action method were executed before the exception filters on the action method.</span></span> <span data-ttu-id="78ba7-703">Обычно это должно быть так, при были применены фильтры исключений без значение указанного порядка.</span><span class="sxs-lookup"><span data-stu-id="78ba7-703">This would typically be the case when exception filters were applied without a specified Order value.</span></span> <span data-ttu-id="78ba7-704">В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым.</span><span class="sxs-lookup"><span data-stu-id="78ba7-704">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="78ba7-705">Как и в более ранних версий Если свойство Order задана явно, фильтры выполняются в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="78ba7-705">As in earlier versions, if the Order property is explicitly specified, the filters are run in the specified order.</span></span>

## <a id="0.1__Toc274034230"></a>  <span data-ttu-id="78ba7-706">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="78ba7-706">Known Issues</span></span>

<span data-ttu-id="78ba7-707">Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, размер которого меньше, чем планировалось.</span><span class="sxs-lookup"><span data-stu-id="78ba7-707">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>

<span data-ttu-id="78ba7-708">Представления Razor не имеют поддержку IntelliSense и выделение синтаксиса.</span><span class="sxs-lookup"><span data-stu-id="78ba7-708">Razor views do not have IntelliSense support nor syntax highlighting.</span></span> <span data-ttu-id="78ba7-709">Предполагается, что поддержка синтаксиса Razor в Visual Studio, будут включены в более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="78ba7-709">It is anticipated that support for Razor syntax in Visual Studio will be included as part of a later release.</span></span>

<span data-ttu-id="78ba7-710">При редактировании представления Razor (CSHTML-файл), <a id="0.1__Toc224729061"> </a> <a id="0.1__Toc238051347"> </a> перейдите к контроллеру пункта меню в Visual Studio не будут доступны, и существуют не фрагменты кода.</span><span class="sxs-lookup"><span data-stu-id="78ba7-710">When you are editing a Razor view (CSHTML file), the <a id="0.1__Toc224729061"></a><a id="0.1__Toc238051347"></a> Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>

<span data-ttu-id="78ba7-711">При использовании @model Просмотр синтаксиса для указания строго типизированного CSHTML, ярлыки конкретного языка для типов не распознаются.</span><span class="sxs-lookup"><span data-stu-id="78ba7-711">When using the @model syntax to specify a strongly typed CSHTML view, language-specific shortcuts for types are not recognized.</span></span> <span data-ttu-id="78ba7-712">Например @model int не будет работать, но @model Int32 будет работать.</span><span class="sxs-lookup"><span data-stu-id="78ba7-712">For example, @model int will not work, but @model Int32 will work.</span></span> <span data-ttu-id="78ba7-713">Обходной путь для этой ошибки является использование текущее имя типа, при указании типа модели.</span><span class="sxs-lookup"><span data-stu-id="78ba7-713">The workaround for this bug is to use the actual type name when you specify the model type.</span></span>

<span data-ttu-id="78ba7-714">При использовании @model синтаксис для указания строго типизированного представления CSHTML (или @ModelType для указания строго типизированного представления VBHTML), обнуляемые типы и объявления массивов не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="78ba7-714">When using the @model syntax to specify a strongly typed CSHTML view (or @ModelType to specify a strongly typed VBHTML view), nullable types and array declarations are not supported.</span></span> <span data-ttu-id="78ba7-715">Например @model int? не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="78ba7-715">For example, @model int? is not supported.</span></span> <span data-ttu-id="78ba7-716">Вместо этого используйте `@model Nullable<Int32>`.</span><span class="sxs-lookup"><span data-stu-id="78ba7-716">Instead, use `@model Nullable<Int32>`.</span></span> <span data-ttu-id="78ba7-717">Синтаксис @model string [] не поддерживается; вместо этого используйте `@model IList<string>`.</span><span class="sxs-lookup"><span data-stu-id="78ba7-717">The syntax @model string[] is also not supported; instead, use `@model IList<string>`.</span></span>

<span data-ttu-id="78ba7-718">При обновлении проекта ASP.NET MVC 2 до ASP.NET MVC 3, обязательно добавьте следующий раздел appSettings файла Web.config:</span><span class="sxs-lookup"><span data-stu-id="78ba7-718">When you upgrade an ASP.NET MVC 2 project to ASP.NET MVC 3, make sure to add the following to the appSettings section of the Web.config file:</span></span>

[!code-xml[Main](mvc3-release-notes/samples/sample42.xml)]

<span data-ttu-id="78ba7-719">Имеется известная проблема, которая вызывает проверку подлинности форм всегда перенаправлять не прошедшие проверку подлинности пользователей в ~/Account или имя пользователя, без учета параметра проверки подлинности форм, используется в файле Web.config. Обойти это можно добавить следующий параметр приложения.</span><span class="sxs-lookup"><span data-stu-id="78ba7-719">There's a known issue that causes Forms Authentication to always redirect unauthenticated users to ~/Account/Login, ignoring the forms authentication setting used in Web.config. The workaround is to add the following app setting.</span></span>

[!code-xml[Main](mvc3-release-notes/samples/sample43.xml)]

## <a id="0.1__Toc274034231"></a>  <span data-ttu-id="78ba7-720">Заявление об отказе</span><span class="sxs-lookup"><span data-stu-id="78ba7-720">Disclaimer</span></span>

<span data-ttu-id="78ba7-721">© 2011 Корпорация Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="78ba7-721">© 2011 Microsoft Corporation.</span></span> <span data-ttu-id="78ba7-722">Все права защищены.</span><span class="sxs-lookup"><span data-stu-id="78ba7-722">All rights reserved.</span></span> <span data-ttu-id="78ba7-723">Данный документ предоставляется «как-является.»</span><span class="sxs-lookup"><span data-stu-id="78ba7-723">This document is provided "as-is."</span></span> <span data-ttu-id="78ba7-724">Сведения и мнения, выраженные в данном документе, включая URL-адреса и ссылки на другие веб-сайта, могут быть изменены без предварительного уведомления.</span><span class="sxs-lookup"><span data-stu-id="78ba7-724">Information and views expressed in this document, including URL and other Internet Web site references, may change without notice.</span></span> <span data-ttu-id="78ba7-725">Вы принимаете на себя весь риск, связанный с его использованием.</span><span class="sxs-lookup"><span data-stu-id="78ba7-725">You bear the risk of using it.</span></span>

<span data-ttu-id="78ba7-726">Этот документ не предоставляет вам каких-либо юридических прав интеллектуальной собственности на какие-либо продукты Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="78ba7-726">This document does not provide you with any legal rights to any intellectual property in any Microsoft product.</span></span> <span data-ttu-id="78ba7-727">Вы можете копировать и использовать этот документ для внутренних справочных целей.</span><span class="sxs-lookup"><span data-stu-id="78ba7-727">You may copy and use this document for your internal, reference purposes.</span></span>
