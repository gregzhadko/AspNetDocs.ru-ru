---
uid: whitepapers/mvc3-release-notes
title: ASP.NET MVC 3 | Документация Майкрософт
author: rick-anderson
description: ''
ms.author: riande
ms.date: 10/06/2010
ms.assetid: f44c166e-7e91-48a0-a6f8-d9285f3594e5
msc.legacyurl: /whitepapers/mvc3-release-notes
msc.type: content
ms.openlocfilehash: 504202068f5db4f8614bba02e8066ffecfd15b48
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/28/2019
ms.locfileid: "74619242"
---
# <a name="aspnet-mvc-3"></a><span data-ttu-id="5cb21-102">ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="5cb21-102">ASP.NET MVC 3</span></span>

- [<span data-ttu-id="5cb21-103">Обзор</span><span class="sxs-lookup"><span data-stu-id="5cb21-103">Overview</span></span>](#overview)
- [<span data-ttu-id="5cb21-104">Заметки об установке</span><span class="sxs-lookup"><span data-stu-id="5cb21-104">Installation Notes</span></span>](#installation-notes)
- [<span data-ttu-id="5cb21-105">Требования к программному обеспечению</span><span class="sxs-lookup"><span data-stu-id="5cb21-105">Software Requirements</span></span>](#software-requirements)
- [<span data-ttu-id="5cb21-106">Документация</span><span class="sxs-lookup"><span data-stu-id="5cb21-106">Documentation</span></span>](#documentation)
- [<span data-ttu-id="5cb21-107">Поддержка</span><span class="sxs-lookup"><span data-stu-id="5cb21-107">Support</span></span>](#support)
- [<span data-ttu-id="5cb21-108">Обновление проекта ASP.NET MVC 2 до ASP.NET инструментов MVC 3</span><span class="sxs-lookup"><span data-stu-id="5cb21-108">Upgrading an ASP.NET MVC 2 Project to ASP.NET MVC 3 Tools Update</span></span>](#upgrading)
- [<span data-ttu-id="5cb21-109">Обновление инструментов ASP.NET MVC 3 (12 апреля, 2011)</span><span class="sxs-lookup"><span data-stu-id="5cb21-109">ASP.NET MVC 3 Tools Update (April 12, 2011)</span></span>](#tu-changes)

    - [<span data-ttu-id="5cb21-110">Диалоговое окно "Добавление контроллера" теперь может формировать контроллеры с представлениями и кодом доступа к данным.</span><span class="sxs-lookup"><span data-stu-id="5cb21-110">"Add Controller" dialog box can now scaffold controllers with views and data access code</span></span>](#tu-AddControllerDialog)
    - [<span data-ttu-id="5cb21-111">Улучшения в диалоговом окне "Создание проекта ASP.NET MVC 3"</span><span class="sxs-lookup"><span data-stu-id="5cb21-111">Improvements to the "ASP.NET MVC 3 New Project" Dialog Box</span></span>](#tu-ImprovementsNewDialogBox)
    - [<span data-ttu-id="5cb21-112">Шаблоны проектов теперь включают Modernizr 1,7</span><span class="sxs-lookup"><span data-stu-id="5cb21-112">Project templates now include Modernizr 1.7</span></span>](#tu-Modernizr)
    - [<span data-ttu-id="5cb21-113">Шаблоны проектов включают обновленные версии jQuery, пользовательского интерфейса jQuery и проверки jQuery.</span><span class="sxs-lookup"><span data-stu-id="5cb21-113">Project templates include updated versions of jQuery, jQuery UI, and jQuery Validation</span></span>](#tu-UpdatedJQuery)
    - [<span data-ttu-id="5cb21-114">Шаблоны проектов теперь включают ADO.NET Entity Framework 4,1 в качестве предварительно установленного пакета NuGet.</span><span class="sxs-lookup"><span data-stu-id="5cb21-114">Project templates now include ADO.NET Entity Framework 4.1 as a pre-installed NuGet package</span></span>](#tu-EF)
    - [<span data-ttu-id="5cb21-115">Шаблоны проектов включают библиотеки JavaScript в виде предварительно установленных пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="5cb21-115">Project templates include JavaScript libraries as pre-installed NuGet packages</span></span>](#tu-JavaScriptLibsNuget)
    - [<span data-ttu-id="5cb21-116">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="5cb21-116">Known Issues</span></span>](#tu-KI)
- [<span data-ttu-id="5cb21-117">ASP.NET MVC 3 RTM (13 января, 2011)</span><span class="sxs-lookup"><span data-stu-id="5cb21-117">ASP.NET MVC 3 RTM (January 13, 2011)</span></span>](#MVC3RTM)

    - [<span data-ttu-id="5cb21-118">Изменение: обновлена версия пользовательского интерфейса jQuery до 1.8.7</span><span class="sxs-lookup"><span data-stu-id="5cb21-118">Change: Updated the version of jQuery UI to 1.8.7</span></span>](#RTM-1)
    - [<span data-ttu-id="5cb21-119">Изменение: изменено значение по умолчанию Моделметадатапровидер обратно на Датааннотатионсмоделметадатапровидер</span><span class="sxs-lookup"><span data-stu-id="5cb21-119">Change: Changed the default ModelMetadataProvider back to DataAnnotationsModelMetadataProvider</span></span>](#RTM-2)
    - [<span data-ttu-id="5cb21-120">Исправлено: вставленная часть выражения Razor, содержащая пробелы, приводит к его отмене.</span><span class="sxs-lookup"><span data-stu-id="5cb21-120">Fixed: Pasting part of a Razor expression that contains whitespace results in it being reversed</span></span>](#RTM-3)
    - [<span data-ttu-id="5cb21-121">Исправлено. Переименование файла Razor, открытого в редакторе, отключает раскраску синтаксиса и IntelliSense</span><span class="sxs-lookup"><span data-stu-id="5cb21-121">Fixed: Renaming a Razor file that is opened in the editor disables syntax colorization and IntelliSense</span></span>](#RTM-4)
    - [<span data-ttu-id="5cb21-122">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="5cb21-122">Known Issues</span></span>](#RTM-KI)
    - [<span data-ttu-id="5cb21-123">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="5cb21-123">Breaking Changes</span></span>](#RTM-BC)
- [<span data-ttu-id="5cb21-124">ASP.NET MVC 3, версия-кандидат 2 (10 декабря 2010 г.)</span><span class="sxs-lookup"><span data-stu-id="5cb21-124">ASP.NET MVC 3 Release Candidate 2 (December 10, 2010)</span></span>](#_Toc2)

    - [<span data-ttu-id="5cb21-125">Шаблоны проектов изменились для включения jQuery 1.4.4, jQuery Validation 1,7 и jQuery UI 1.8.6 y UI 1.8.6</span><span class="sxs-lookup"><span data-stu-id="5cb21-125">Project Templates Changed to Include jQuery 1.4.4, jQuery Validation 1.7, and jQuery UI 1.8.6y UI 1.8.6</span></span>](#_Toc2_1)
    - [<span data-ttu-id="5cb21-126">Добавлен класс "Аддитионалметадатааттрибуте"</span><span class="sxs-lookup"><span data-stu-id="5cb21-126">Added "AdditionalMetadataAttribute" Class</span></span>](#_Toc2_2)
    - [<span data-ttu-id="5cb21-127">Улучшенное формирование шаблонов представлений</span><span class="sxs-lookup"><span data-stu-id="5cb21-127">Improved View Scaffolding</span></span>](#_Toc2_3)
    - [<span data-ttu-id="5cb21-128">Добавлен метод HTML. RAW</span><span class="sxs-lookup"><span data-stu-id="5cb21-128">Added Html.Raw Method</span></span>](#_Toc2_3)
    - [<span data-ttu-id="5cb21-129">Переименование свойства Controller. ViewModel и свойства "View" в "ViewBag"</span><span class="sxs-lookup"><span data-stu-id="5cb21-129">Renamed "Controller.ViewModel" Property and the "View" Property To "ViewBag"</span></span>](#_Toc2_4)
    - [<span data-ttu-id="5cb21-130">Переименование класса "Контроллерсессионстатеаттрибуте" в "Сессионстатеаттрибуте"</span><span class="sxs-lookup"><span data-stu-id="5cb21-130">Renamed "ControllerSessionStateAttribute" Class to "SessionStateAttribute"</span></span>](#_Toc2_5)
    - [<span data-ttu-id="5cb21-131">Переименование свойства "Fields" Ремотеаттрибуте в "Аддитионалфиелдс"</span><span class="sxs-lookup"><span data-stu-id="5cb21-131">Renamed RemoteAttribute "Fields" Property to "AdditionalFields"</span></span>](#_Toc2_6)
    - [<span data-ttu-id="5cb21-132">Переименование "Скипрекуествалидатионаттрибуте" в "Алловхтмлаттрибуте"</span><span class="sxs-lookup"><span data-stu-id="5cb21-132">Renamed "SkipRequestValidationAttribute" to "AllowHtmlAttribute"</span></span>](#_Toc2_7)
    - [<span data-ttu-id="5cb21-133">Изменен метод "HTML. Валидатионмессаже" для вывода первого полезного сообщения об ошибке</span><span class="sxs-lookup"><span data-stu-id="5cb21-133">Changed "Html.ValidationMessage" Method to Display the First Useful Error Message</span></span>](#_Toc2_8)
    - [<span data-ttu-id="5cb21-134">Исправлено @model объявление, чтобы не добавлять пробелы в документ</span><span class="sxs-lookup"><span data-stu-id="5cb21-134">Fixed @model Declaration to not Add Whitespace to the Document</span></span>](#_Toc2_9)
    - [<span data-ttu-id="5cb21-135">Добавлено свойство "FileExtensions" для просмотра модулей, поддерживающих имена файлов, относящиеся к подсистеме</span><span class="sxs-lookup"><span data-stu-id="5cb21-135">Added "FileExtensions" Property to View Engines to Support Engine-Specific File Names</span></span>](#_Toc2_10)
    - [<span data-ttu-id="5cb21-136">Исправлена вспомогательный метод "Лабелфор" для выдачи правильного значения для атрибута "for"</span><span class="sxs-lookup"><span data-stu-id="5cb21-136">Fixed "LabelFor" Helper to Emit the Correct Value for the "For" Attribute</span></span>](#_Toc2_11)
    - [<span data-ttu-id="5cb21-137">Исправлен метод "RenderAction", чтобы явно задать приоритет значений во время привязки модели</span><span class="sxs-lookup"><span data-stu-id="5cb21-137">Fixed "RenderAction" Method to Give Explicit Values Precedence During Model Binding</span></span>](#_Toc2_12)
    - [<span data-ttu-id="5cb21-138">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="5cb21-138">Breaking Changes</span></span>](#_Toc2_BC)
    - [<span data-ttu-id="5cb21-139">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="5cb21-139">Known Issues</span></span>](#_Toc2_KI)
- [<span data-ttu-id="5cb21-140">Версия-кандидат ASP.NET MVC 3 (Ноя 9, 2010)</span><span class="sxs-lookup"><span data-stu-id="5cb21-140">ASP.NET MVC 3 Release Candidate (Nov 9, 2010)</span></span>](#TOC_ASP_NET_3_RC)

    - [<span data-ttu-id="5cb21-141">Новые возможности в версии-КАНДИДАТе ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="5cb21-141">New Features in ASP.NET MVC 3 RC</span></span>](#_Toc276711785)
    - [<span data-ttu-id="5cb21-142">Диспетчер пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="5cb21-142">NuGet Package Manager</span></span>](#_Toc276711786)
    - [<span data-ttu-id="5cb21-143">Улучшено диалоговое окно "Создание проекта"</span><span class="sxs-lookup"><span data-stu-id="5cb21-143">Improved "New Project" Dialog Box</span></span>](#_Toc276711787)
    - [<span data-ttu-id="5cb21-144">Контроллеры, не имеющие сеансов</span><span class="sxs-lookup"><span data-stu-id="5cb21-144">Sessionless Controllers</span></span>](#_Toc276711788)
    - [<span data-ttu-id="5cb21-145">Новые атрибуты проверки</span><span class="sxs-lookup"><span data-stu-id="5cb21-145">New Validation Attributes</span></span>](#_Toc276711789)
    - [<span data-ttu-id="5cb21-146">Новые перегрузки для методов "Лабелфор" и "Лабелформодел"</span><span class="sxs-lookup"><span data-stu-id="5cb21-146">New Overloads for "LabelFor" and "LabelForModel" Methods</span></span>](#_Toc276711790)
    - [<span data-ttu-id="5cb21-147">Кэширование вывода дочерних действий</span><span class="sxs-lookup"><span data-stu-id="5cb21-147">Child Action Output Caching</span></span>](#_Toc276711791)
    - [<span data-ttu-id="5cb21-148">Улучшения диалогового окна "Добавление представления"</span><span class="sxs-lookup"><span data-stu-id="5cb21-148">"Add View" Dialog Box Improvements</span></span>](#_Toc276711792)
    - [<span data-ttu-id="5cb21-149">Детализированная проверка запросов</span><span class="sxs-lookup"><span data-stu-id="5cb21-149">Granular Request Validation</span></span>](#_Toc276711793)
    - [<span data-ttu-id="5cb21-150">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="5cb21-150">Breaking Changes</span></span>](#_Toc276711794)
    - [<span data-ttu-id="5cb21-151">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="5cb21-151">Known Issues</span></span>](#_Toc276711795)
- [<span data-ttu-id="5cb21-152">Сценарии. Заметки о бета-версии MVC 3 (Oct 6, 2010)</span><span class="sxs-lookup"><span data-stu-id="5cb21-152">ASP.MVC 3 Beta Notes (Oct 6, 2010)</span></span>](#TOC_ASP_NET_3_Beta)

    - [<span data-ttu-id="5cb21-153">Новые возможности в ASP.NET MVC 3 Beta</span><span class="sxs-lookup"><span data-stu-id="5cb21-153">New Features in ASP.NET MVC 3 Beta</span></span>](#0.1__Toc274034215)
    - [<span data-ttu-id="5cb21-154">Диспетчер пакетов Нупакк</span><span class="sxs-lookup"><span data-stu-id="5cb21-154">NuPack Package Manager</span></span>](#0.1__Toc274034216)
    - [<span data-ttu-id="5cb21-155">Диалоговое окно "Улучшенный новый проект"</span><span class="sxs-lookup"><span data-stu-id="5cb21-155">Improved New Project Dialog Box</span></span>](#0.1__Toc274034217)
    - [<span data-ttu-id="5cb21-156">Упрощенный способ указания строго типизированных моделей в представлениях Razor</span><span class="sxs-lookup"><span data-stu-id="5cb21-156">Simplified Way to Specify Strongly Typed Models in Razor Views</span></span>](#0.1__Toc274034218)
    - [<span data-ttu-id="5cb21-157">Поддержка новых вспомогательных методов веб-страницы ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5cb21-157">Support for New ASP.NET Web Pages Helper Methods</span></span>](#0.1__Toc274034219)
    - [<span data-ttu-id="5cb21-158">Дополнительная поддержка введения зависимостей</span><span class="sxs-lookup"><span data-stu-id="5cb21-158">Additional Dependency Injection Support</span></span>](#0.1__Toc274034220)
    - [<span data-ttu-id="5cb21-159">Новая поддержка для ненавязчивой технологии AJAX на основе jQuery</span><span class="sxs-lookup"><span data-stu-id="5cb21-159">New Support for Unobtrusive jQuery-Based Ajax</span></span>](#0.1__Toc274034221)
    - [<span data-ttu-id="5cb21-160">Новая поддержка ненавязчивой проверки jQuery</span><span class="sxs-lookup"><span data-stu-id="5cb21-160">New Support for Unobtrusive jQuery Validation</span></span>](#0.1__Toc274034222)
    - [<span data-ttu-id="5cb21-161">Новые флаги на уровне приложения для проверки клиента и ненавязчивого JavaScript</span><span class="sxs-lookup"><span data-stu-id="5cb21-161">New Application-Wide Flags for Client Validation and Unobtrusive JavaScript</span></span>](#0.1__Toc274034223)
    - [<span data-ttu-id="5cb21-162">Новая поддержка кода, выполняемого перед выполнением представлений</span><span class="sxs-lookup"><span data-stu-id="5cb21-162">New Support for Code that Runs Before Views Run</span></span>](#0.1__Toc274034224)
    - [<span data-ttu-id="5cb21-163">Новая поддержка синтаксиса для VBHTML Razor</span><span class="sxs-lookup"><span data-stu-id="5cb21-163">New Support for the VBHTML Razor Syntax</span></span>](#0.1__Toc274034225)
    - [<span data-ttu-id="5cb21-164">Более детализированный контроль над Валидатеинпутаттрибуте</span><span class="sxs-lookup"><span data-stu-id="5cb21-164">More Granular Control over ValidateInputAttribute</span></span>](#0.1__Toc274034226)
    - [<span data-ttu-id="5cb21-165">Вспомогательные индексы преобразуют знаки подчеркивания в дефисы для имен атрибутов HTML, заданных с помощью анонимных объектов</span><span class="sxs-lookup"><span data-stu-id="5cb21-165">Helpers Convert Underscores to Hyphens for HTML Attribute Names Specified Using Anonymous Objects</span></span>](#0.1__Toc274034227)
    - [<span data-ttu-id="5cb21-166">Исправления ошибок</span><span class="sxs-lookup"><span data-stu-id="5cb21-166">Bug Fixes</span></span>](#0.1__Toc274034228)
    - [<span data-ttu-id="5cb21-167">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="5cb21-167">Breaking Changes</span></span>](#0.1__Toc274034229)
    - [<span data-ttu-id="5cb21-168">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="5cb21-168">Known Issues</span></span>](#0.1__Toc274034230)
- [<span data-ttu-id="5cb21-169">Заявление об отказе</span><span class="sxs-lookup"><span data-stu-id="5cb21-169">Disclaimer</span></span>](#0.1__Toc274034231)

<a id="overview"></a>
## <a name="overview"></a><span data-ttu-id="5cb21-170">Обзор</span><span class="sxs-lookup"><span data-stu-id="5cb21-170">Overview</span></span>

<span data-ttu-id="5cb21-171">В этом документе описывается выпуск ASP.NET MVC 3 RTM для Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="5cb21-171">This document describes the release of ASP.NET MVC 3 RTM for Visual Studio 2010.</span></span> <span data-ttu-id="5cb21-172">ASP.NET MVC — это платформа для разработки веб-приложений, использующая шаблон Model-View-Controller (MVC).</span><span class="sxs-lookup"><span data-stu-id="5cb21-172">ASP.NET MVC is a framework for developing Web applications that uses the Model-View-Controller (MVC) pattern.</span></span> <span data-ttu-id="5cb21-173">Установщик ASP.NET MVC 3 содержит следующие компоненты:</span><span class="sxs-lookup"><span data-stu-id="5cb21-173">The ASP.NET MVC 3 installer includes the following components:</span></span>

- <span data-ttu-id="5cb21-174">Компоненты среды выполнения MVC 3 ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5cb21-174">ASP.NET MVC 3 runtime components</span></span>
- <span data-ttu-id="5cb21-175">ASP.NET MVC 3 средства Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="5cb21-175">ASP.NET MVC 3 Visual Studio 2010 tools</span></span>
- <span data-ttu-id="5cb21-176">Веб-страницы ASP.NET компонентов времени выполнения</span><span class="sxs-lookup"><span data-stu-id="5cb21-176">ASP.NET Web Pages run-time components</span></span>
- <span data-ttu-id="5cb21-177">Веб-страницы ASP.NET средств Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="5cb21-177">ASP.NET Web Pages Visual Studio 2010 tools</span></span>
- <span data-ttu-id="5cb21-178">Диспетчер пакетов Microsoft для .NET (NuGet)</span><span class="sxs-lookup"><span data-stu-id="5cb21-178">Microsoft Package Manager for .NET (NuGet)</span></span>
- <span data-ttu-id="5cb21-179">Обновление для Visual Studio 2010, которое обеспечивает поддержку синтаксис Razor.</span><span class="sxs-lookup"><span data-stu-id="5cb21-179">An update for Visual Studio 2010 that enables support for Razor syntax.</span></span> <span data-ttu-id="5cb21-180">(Дополнительные сведения см. в статье базы знаний 2483190.)</span><span class="sxs-lookup"><span data-stu-id="5cb21-180">(For details, see KnowledgeBase article 2483190.)</span></span>

<span data-ttu-id="5cb21-181">Полный набор заметок о выпуске для каждой предварительной версии ASP.NET MVC 3 см. на веб-сайте ASP.NET по URL-адресу:</span><span class="sxs-lookup"><span data-stu-id="5cb21-181">The full set of release notes for each pre-release version of ASP.NET MVC 3 can be found on the ASP.NET website at the following URL:</span></span>

https://www.asp.net/learn/whitepapers/mvc3-release-notes

<a id="installation-notes"></a>
## <a name="installation-notes"></a><span data-ttu-id="5cb21-182">Замечания по установке</span><span class="sxs-lookup"><span data-stu-id="5cb21-182">Installation Notes</span></span>

<span data-ttu-id="5cb21-183">Чтобы установить ASP.NET MVC 3 RTM с помощью установщика веб-платформы (Web PI), посетите следующую страницу:</span><span class="sxs-lookup"><span data-stu-id="5cb21-183">To install ASP.NET MVC 3 RTM using the Web Platform Installer (Web PI), visit the following page:</span></span>

[https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3](https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3)

<span data-ttu-id="5cb21-184">Кроме того, можно скачать установщик для ASP.NET MVC 3 RTM для Visual Studio 2010 со следующей страницы:</span><span class="sxs-lookup"><span data-stu-id="5cb21-184">Alternatively, you can download the installer for ASP.NET MVC 3 RTM for Visual Studio 2010 from the following page:</span></span>

https://go.microsoft.com/fwlink/?LinkID=208140

<span data-ttu-id="5cb21-185">ASP.NET MVC 3 можно установить и выполнять параллельно с ASP.NET MVC 2.</span><span class="sxs-lookup"><span data-stu-id="5cb21-185">ASP.NET MVC 3 can be installed and can run side-by-side with ASP.NET MVC 2.</span></span>

<a id="software-requirements"></a>
## <a name="software-requirements"></a><span data-ttu-id="5cb21-186">Требования к программному обеспечению</span><span class="sxs-lookup"><span data-stu-id="5cb21-186">Software Requirements</span></span>

<span data-ttu-id="5cb21-187">Для компонентов времени выполнения ASP.NET MVC 3 требуется следующее программное обеспечение:</span><span class="sxs-lookup"><span data-stu-id="5cb21-187">The ASP.NET MVC 3 run-time components require the following software:</span></span>

- <span data-ttu-id="5cb21-188">.NET Framework версии 4.</span><span class="sxs-lookup"><span data-stu-id="5cb21-188">.NET Framework version 4.</span></span> 

    <span data-ttu-id="5cb21-189">Для ASP.NET MVC 3 Tools Visual Studio 2010 требуется следующее программное обеспечение:</span><span class="sxs-lookup"><span data-stu-id="5cb21-189">ASP.NET MVC 3 Visual Studio 2010 tools require the following software:</span></span>
- <span data-ttu-id="5cb21-190">Visual Studio 2010 или Visual Web Developer 2010 Express.</span><span class="sxs-lookup"><span data-stu-id="5cb21-190">Visual Studio 2010 or Visual Web Developer 2010 Express.</span></span>

<a id="documentation"></a>
## <a name="documentation"></a><span data-ttu-id="5cb21-191">Документация</span><span class="sxs-lookup"><span data-stu-id="5cb21-191">Documentation</span></span>

<span data-ttu-id="5cb21-192">Документация по ASP.NET MVC доступна на веб-сайте MSDN по следующему URL-адресу:</span><span class="sxs-lookup"><span data-stu-id="5cb21-192">Documentation for ASP.NET MVC is available on the MSDN Web site at the following URL:</span></span>

[https://go.microsoft.com/fwlink/?LinkId=205717](https://go.microsoft.com/fwlink/?LinkId=205717)

<span data-ttu-id="5cb21-193">Руководства и другие сведения о ASP.NET MVC доступны на странице MVC веб-сайта ASP.NET по следующему URL-адресу:</span><span class="sxs-lookup"><span data-stu-id="5cb21-193">Tutorials and other information about ASP.NET MVC are available on the MVC page of the ASP.NET Web site at the following URL:</span></span>

[https://www.asp.net/mvc/](../mvc/index.md)

<a id="support"></a>
## <a name="support"></a><span data-ttu-id="5cb21-194">Поддержка</span><span class="sxs-lookup"><span data-stu-id="5cb21-194">Support</span></span>

<span data-ttu-id="5cb21-195">Этот выпуск полностью поддерживается.</span><span class="sxs-lookup"><span data-stu-id="5cb21-195">This is a fully supported release.</span></span> <span data-ttu-id="5cb21-196">Сведения о получении технической поддержки можно найти на [веб-сайте Служба поддержки Майкрософт](https://support.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="5cb21-196">Information about getting technical support can be found at the [Microsoft Support website](https://support.microsoft.com/).</span></span>

<span data-ttu-id="5cb21-197">Задавайте вопросы об этом выпуске на форуме ASP.NET MVC, где участники сообщества ASP.NET помогают друг другу, предоставляя полезные сведения:</span><span class="sxs-lookup"><span data-stu-id="5cb21-197">Also feel free to post questions about this release to the ASP.NET MVC forum, where members of the ASP.NET community are frequently able to provide informal support:</span></span>

[https://forums.asp.net/1146.aspx](https://forums.asp.net/1146.aspx)

<a id="upgrading"></a>
## <a name="upgrading-an-aspnet-mvc-2-project-to-aspnet-mvc-3-tools-update"></a><span data-ttu-id="5cb21-198">Обновление проекта ASP.NET MVC 2 до ASP.NET инструментов MVC 3</span><span class="sxs-lookup"><span data-stu-id="5cb21-198">Upgrading an ASP.NET MVC 2 Project to ASP.NET MVC 3 Tools Update</span></span>

<span data-ttu-id="5cb21-199">ASP.NET MVC 3 можно установить параллельно с ASP.NET MVC 2 на том же компьютере, что дает гибкость в выборе времени обновления приложения ASP.NET MVC 2 до ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-199">ASP.NET MVC 3 can be installed side by side with ASP.NET MVC 2 on the same computer, which gives you flexibility in choosing when to upgrade an ASP.NET MVC 2 application to ASP.NET MVC 3.</span></span>

<span data-ttu-id="5cb21-200">Чтобы вручную обновить существующее приложение ASP.NET MVC 2 до версии 3, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="5cb21-200">To manually upgrade an existing ASP.NET MVC 2 application to version 3, do the following:</span></span>

1. <span data-ttu-id="5cb21-201">Создайте на компьютере пустой проект ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-201">Create a new empty ASP.NET MVC 3 project on your computer.</span></span> <span data-ttu-id="5cb21-202">Этот проект будет содержать некоторые файлы, необходимые для обновления.</span><span class="sxs-lookup"><span data-stu-id="5cb21-202">This project will contain some files that are required for the upgrade.</span></span>
2. <span data-ttu-id="5cb21-203">Скопируйте следующие файлы из проекта ASP.NET MVC 3 в папку проекта ASP.NET MVC 2.</span><span class="sxs-lookup"><span data-stu-id="5cb21-203">Copy the following files from the ASP.NET MVC 3 project into the corresponding location of your ASP.NET MVC 2 project.</span></span> <span data-ttu-id="5cb21-204">Необходимо обновить все ссылки на библиотеку jQuery с указанием нового имени файла ( jQuery-1.5.1.js):</span><span class="sxs-lookup"><span data-stu-id="5cb21-204">You'll need to update any references to the jQuery library to account for the new filename ( jQuery-1.5.1.js):</span></span> 

    - <span data-ttu-id="5cb21-205">/Views/Web.config</span><span class="sxs-lookup"><span data-stu-id="5cb21-205">/Views/Web.config</span></span>
    - <span data-ttu-id="5cb21-206">/packages.config</span><span class="sxs-lookup"><span data-stu-id="5cb21-206">/packages.config</span></span>
    - <span data-ttu-id="5cb21-207">/скриптс/\*. js</span><span class="sxs-lookup"><span data-stu-id="5cb21-207">/scripts/\*.js</span></span>
    - <span data-ttu-id="5cb21-208">\*/контент/семес/.\*</span><span class="sxs-lookup"><span data-stu-id="5cb21-208">/Content/themes/\*.\*</span></span>
3. <span data-ttu-id="5cb21-209">Скопируйте папку *packages* из корневого решения проекта ASP.NET MVC 3 в корень решения, расположенного в каталоге, где находится SLN-файл решения.</span><span class="sxs-lookup"><span data-stu-id="5cb21-209">Copy the *packages* folder in the root of the empty ASP.NET MVC 3 project solution into the root of your solution, which is in the directory where the solution's .sln file is located.</span></span>
4. <span data-ttu-id="5cb21-210">Если проект ASP.NET MVC 2 содержит какие бы то ни было области, скопируйте файл/Виевс/веб.конфиг в папку *views* каждой области.</span><span class="sxs-lookup"><span data-stu-id="5cb21-210">If your ASP.NET MVC 2 project contains any areas, copy the /Views/Web.config file to the *Views* folder of each area.</span></span>
5. <span data-ttu-id="5cb21-211">В файлах Web. config в проекте ASP.NET MVC 2 Глобальный поиск и замена версии ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5cb21-211">In both Web.config files in the ASP.NET MVC 2 project, globally search and replace the ASP.NET MVC version.</span></span> <span data-ttu-id="5cb21-212">Выполните поиск следующих данных:</span><span class="sxs-lookup"><span data-stu-id="5cb21-212">Find the following:</span></span> 

    [!code-console[Main](mvc3-release-notes/samples/sample1.cmd)]

    <span data-ttu-id="5cb21-213">Замените их на следующие данные:</span><span class="sxs-lookup"><span data-stu-id="5cb21-213">Replace it with the following:</span></span>

    [!code-console[Main](mvc3-release-notes/samples/sample2.cmd)]
6. <span data-ttu-id="5cb21-214">В обозреватель решений удалите ссылку на *System. Web. MVC* (которая указывает на библиотеку DLL из версии 2), а затем добавьте ссылку на *System. Web. MVC* (v 3.0.0.0).</span><span class="sxs-lookup"><span data-stu-id="5cb21-214">In Solution Explorer, delete the reference to *System.Web.Mvc* (which points to the DLL from version 2), then add a reference to *System.Web.Mvc* (v3.0.0.0).</span></span>
7. <span data-ttu-id="5cb21-215">Добавьте ссылку на System. Web. веб-страницы. dll и System. Web. Вспомогательныеs. dll.</span><span class="sxs-lookup"><span data-stu-id="5cb21-215">Add a reference to System.Web.WebPages.dll and System.Web.Helpers.dll.</span></span> <span data-ttu-id="5cb21-216">Эти сборки расположены в следующих папках:</span><span class="sxs-lookup"><span data-stu-id="5cb21-216">These assemblies are located in the following folders:</span></span> 

    - <span data-ttu-id="5cb21-217">%ProgramFiles%\ Microsoft ASP.NET\ASP.NET MVC 3\Assemblies</span><span class="sxs-lookup"><span data-stu-id="5cb21-217">%ProgramFiles%\ Microsoft ASP.NET\ASP.NET MVC 3\Assemblies</span></span>
    - <span data-ttu-id="5cb21-218">%ProgramFiles%\ Microsoft ASP.NET\ASP.NET Web Pages\v1.0\Assemblies</span><span class="sxs-lookup"><span data-stu-id="5cb21-218">%ProgramFiles%\ Microsoft ASP.NET\ASP.NET Web Pages\v1.0\Assemblies</span></span>
8. <span data-ttu-id="5cb21-219">В Обозревателе решений щелкните правой кнопкой имя проекта и выберите команду  Выгрузить проект.</span><span class="sxs-lookup"><span data-stu-id="5cb21-219">In Solution Explorer, right-click the project name and select Unload Project.</span></span> <span data-ttu-id="5cb21-220">Затем еще раз щелкните имя проекта правой кнопкой мыши и выберите пункт изменить *имя_проекта*. csproj.</span><span class="sxs-lookup"><span data-stu-id="5cb21-220">Then right-click the project name again and select Edit *ProjectName*.csproj.</span></span>
9. <span data-ttu-id="5cb21-221">Укажите элемент *ProjectTypeGuids* и замените {F85E285D-A4E0-4152-9332-AB1D724D3325} на {E53F8FEA-EAE0-44A6-8774-FFD645390401}.</span><span class="sxs-lookup"><span data-stu-id="5cb21-221">Locate the *ProjectTypeGuids* element and replace {F85E285D-A4E0-4152-9332-AB1D724D3325} with {E53F8FEA-EAE0-44A6-8774-FFD645390401}.</span></span>
10. <span data-ttu-id="5cb21-222">Сохраните изменения, щелкните правой кнопкой проект и выберите команду Перезагрузить проект.</span><span class="sxs-lookup"><span data-stu-id="5cb21-222">Save the changes, right-click the project, and then select Reload Project.</span></span>
11. <span data-ttu-id="5cb21-223">В корневом файле Web. config приложения добавьте следующие параметры в раздел *сборки* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-223">In the application's root Web.config file, add the following settings to the *assemblies* section.</span></span> 

    [!code-xml[Main](mvc3-release-notes/samples/sample3.xml)]
12. <span data-ttu-id="5cb21-224">Если проект ссылается на сторонние библиотеки, скомпилированные с помощью ASP.NET MVC 2, добавьте следующий выделенный элемент *bindingRedirect* в файл Web. config в корне приложения в разделе *конфигурации* :</span><span class="sxs-lookup"><span data-stu-id="5cb21-224">If the project references any third-party libraries that are compiled using ASP.NET MVC 2, add the following highlighted *bindingRedirect* element to the Web.config file in the application root under the *configuration* section:</span></span> 

    [!code-xml[Main](mvc3-release-notes/samples/sample4.xml)]

<a id="tu-changes"></a>
## <a name="changes-in-aspnet-mvc-3-tools-update"></a><span data-ttu-id="5cb21-225">Изменения в ASP.NET MVC 3 Tools Update</span><span class="sxs-lookup"><span data-stu-id="5cb21-225">Changes in ASP.NET MVC 3 Tools Update</span></span>

<span data-ttu-id="5cb21-226">В этом разделе описаны изменения, внесенные в выпуск обновления средств ASP.NET MVC 3 с момента выпуска ASP.NET MVC 3 RTM.</span><span class="sxs-lookup"><span data-stu-id="5cb21-226">This section describes changes made in the ASP.NET MVC 3 Tools Update release since the ASP.NET MVC 3 RTM release.</span></span>

<a id="tu-AddControllerDialog"></a>
### <a name="add-controller-dialog-box-can-now-scaffold-controllers-with-views-and-data-access-code"></a><span data-ttu-id="5cb21-227">Диалоговое окно "Добавление контроллера" теперь позволяет формировать контроллеры с представлениями и кодом доступа к данным.</span><span class="sxs-lookup"><span data-stu-id="5cb21-227">"Add Controller" dialog box can now scaffold controllers with views and data access code</span></span>

<span data-ttu-id="5cb21-228">Формирование шаблонов — это быстрый способ формирования контроллеров и представления для приложения.</span><span class="sxs-lookup"><span data-stu-id="5cb21-228">Scaffolding is a way of quickly generating a controller and views for your application.</span></span> <span data-ttu-id="5cb21-229">После создания кода его можно изменить в соответствии с требованиями проекта.</span><span class="sxs-lookup"><span data-stu-id="5cb21-229">After the code has been generated, you can edit it to meet your project's requirements.</span></span>

<span data-ttu-id="5cb21-230">Чтобы открыть диалоговое окно *Добавление контроллера* в ASP.NET MVC 3, щелкните правой кнопкой мыши папку *controllers* в *Обозреватель решений*, нажмите кнопку *Добавить*, а затем выберите пункт *контроллер*.</span><span class="sxs-lookup"><span data-stu-id="5cb21-230">To launch the *Add Controller* dialog box in ASP.NET MVC 3, right-click the *Controllers* folder in *Solution Explorer*, click *Add*, and then click *Controller*.</span></span> <span data-ttu-id="5cb21-231">Это диалоговое окно улучшено и теперь предоставляет дополнительные параметры формирования шаблонов.</span><span class="sxs-lookup"><span data-stu-id="5cb21-231">The dialog box has been enhanced to offer additional scaffolding options.</span></span>

![](mvc3-release-notes/_static/image1.png)

<span data-ttu-id="5cb21-232">По умолчанию доступно три шаблона.</span><span class="sxs-lookup"><span data-stu-id="5cb21-232">There are three scaffolding templates available by default.</span></span>

#### <a name="empty-controller"></a><span data-ttu-id="5cb21-233">Пустой контроллер</span><span class="sxs-lookup"><span data-stu-id="5cb21-233">Empty Controller</span></span>

<span data-ttu-id="5cb21-234">Этот шаблон создает пустой файл контроллера.</span><span class="sxs-lookup"><span data-stu-id="5cb21-234">This template generates an empty controller file.</span></span> <span data-ttu-id="5cb21-235">Этот шаблон эквивалентен не проверке *добавления действий для сценариев создания, редактирования, сведений и удаления* в предыдущих версиях ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5cb21-235">This template is equivalent to not checking *Add actions for create, edit, details, delete scenarios* in previous versions of ASP.NET MVC.</span></span> <span data-ttu-id="5cb21-236">При выборе данного шаблона другие параметры недоступны.</span><span class="sxs-lookup"><span data-stu-id="5cb21-236">If you choose this, no further options are available.</span></span>

#### <a name="controller-with-empty-readwrite-actions"></a><span data-ttu-id="5cb21-237">Контроллер с пустыми действиями чтения и записи</span><span class="sxs-lookup"><span data-stu-id="5cb21-237">Controller with empty read/write actions</span></span>

<span data-ttu-id="5cb21-238">Этот шаблон создает файл контроллера со всеми необходимыми методами, но без реализации их кода.</span><span class="sxs-lookup"><span data-stu-id="5cb21-238">This template generates a controller file that has all the required action methods but no implementation code in the methods.</span></span> <span data-ttu-id="5cb21-239">Этот шаблон эквивалентен проверке *добавления действий для создания, изменения, сведения и удаления сценариев* в предыдущих версиях ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5cb21-239">This template is equivalent to checking *Add actions for create, edit, details, delete scenarios* in previous versions of ASP.NET MVC.</span></span> <span data-ttu-id="5cb21-240">При выборе данного шаблона другие параметры недоступны.</span><span class="sxs-lookup"><span data-stu-id="5cb21-240">If you choose this, no further options are available.</span></span>

#### <a name="controller-with-readwrite-actions-and-views-using-entity-framework"></a><span data-ttu-id="5cb21-241">Контроллер с действиями чтения и записи и представлениями с использованием платформы Entity Framework</span><span class="sxs-lookup"><span data-stu-id="5cb21-241">Controller with read/write actions and views, using Entity Framework</span></span>

<span data-ttu-id="5cb21-242">Этот шаблон позволяет быстро создавать интерфейс пользователя для ввода данных.</span><span class="sxs-lookup"><span data-stu-id="5cb21-242">This template enables you to quickly create a working data-entry user interface.</span></span> <span data-ttu-id="5cb21-243">Он создает код, обрабатывающий ряд общих требований и сценариев, таких как следующие:</span><span class="sxs-lookup"><span data-stu-id="5cb21-243">It generates code that handles a range of common requirements and scenarios, such as the following:</span></span>

- <span data-ttu-id="5cb21-244">*Доступ к данным*.</span><span class="sxs-lookup"><span data-stu-id="5cb21-244">*Data access*.</span></span> <span data-ttu-id="5cb21-245">Созданный код читает сущности из базы данных и записывает их.</span><span class="sxs-lookup"><span data-stu-id="5cb21-245">The generated code reads and writes entities in a database.</span></span> <span data-ttu-id="5cb21-246">Он работает с Entity Framework Code First подходом, если выбрать существующий класс контекста данных или если вы разрешите шаблону создать новый класс *DbContext* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-246">It works with the Entity Framework Code First approach if you choose an existing data context class or if you let the template generate a new *DbContext* class.</span></span> <span data-ttu-id="5cb21-247">Он также работает с Entity Framework Database First или Model First подходом, если выбрать существующий класс *ObjectContext* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-247">It also works with the Entity Framework Database First or Model First approach if you choose an existing *ObjectContext* class.</span></span>
- <span data-ttu-id="5cb21-248">*Проверка*.</span><span class="sxs-lookup"><span data-stu-id="5cb21-248">*Validation*.</span></span> <span data-ttu-id="5cb21-249">Созданный код использует привязку к модели ASP.NET MVC и метаданные для проверки передачи форм в соответствии с правилами, объявленными в классе модели.</span><span class="sxs-lookup"><span data-stu-id="5cb21-249">The generated code uses ASP.NET MVC model binding and metadata features so that form submissions are validated according to rules declared on your model class.</span></span> <span data-ttu-id="5cb21-250">Сюда входят встроенные правила проверки, такие как *обязательные* и *StringLength* атрибуты, а также пользовательские правила проверки.</span><span class="sxs-lookup"><span data-stu-id="5cb21-250">This includes built-in validation rules, such as the *Required* and *StringLength* attributes, and custom validation rules.</span></span>
- <span data-ttu-id="5cb21-251">*Связи «один ко многим*».</span><span class="sxs-lookup"><span data-stu-id="5cb21-251">*One-to-many relationships*.</span></span> <span data-ttu-id="5cb21-252">Если определить связи "один ко многим" внешнего ключа между классами модели, созданный код сформирует раскрывающиеся списки для выбора связанных сущностей.</span><span class="sxs-lookup"><span data-stu-id="5cb21-252">If you define one-to-many foreign-key relationships between your model classes, the generated code will produce drop-down lists for selecting related entities.</span></span> <span data-ttu-id="5cb21-253">Например, можно определить следующие классы модели в соответствии с соглашениями Entity Framework Code First:</span><span class="sxs-lookup"><span data-stu-id="5cb21-253">For example, you might define the following model classes following Entity Framework Code First conventions:</span></span> 

    [!code-csharp[Main](mvc3-release-notes/samples/sample5.cs)]

    <span data-ttu-id="5cb21-254">После формирования шаблона контроллера для класса *Product* его представления позволят пользователям выбрать объект *категории* для каждого экземпляра *продукта* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-254">When you then scaffold a controller for the *Product* class, its views will allow users to choose a *Category* object for each *Product* instance.</span></span>

    <span data-ttu-id="5cb21-255">Этот шаблон включает дополнительные параметры в диалоговом окне *Добавление контроллера* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-255">This template enables additional options in the *Add Controller* dialog box.</span></span> <span data-ttu-id="5cb21-256">Для *класса Model*можно выбрать любой класс модели в решении, определяющий тип данных, которые пользователи могут создавать или изменять.</span><span class="sxs-lookup"><span data-stu-id="5cb21-256">For *Model class*, you can choose any model class in your solution, which determines the type of data that users will be able to create or edit:</span></span>
- <span data-ttu-id="5cb21-257">Если используется Entity Framework Code First, можно выбрать любой класс модели.</span><span class="sxs-lookup"><span data-stu-id="5cb21-257">If you want to use Entity Framework Code First, you can choose any model class.</span></span>
- <span data-ttu-id="5cb21-258">При использовании подхода Entity Framework Database First или Entity Framework Model First следует выбрать класс сущности, определенный в концептуальной модели.</span><span class="sxs-lookup"><span data-stu-id="5cb21-258">If you are using Entity Framework Database First or Entity Framework Model First, be sure to choose an entity class defined in your conceptual model.</span></span>

<span data-ttu-id="5cb21-259">Для *класса контекста данных*можно выбрать следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="5cb21-259">For *Data Context class*, you can make these choices:</span></span>

- <span data-ttu-id="5cb21-260">Если вы хотите использовать Code First и не имеете существующего класса контекста данных, выберите \* \* новый контекст данных \* \*.</span><span class="sxs-lookup"><span data-stu-id="5cb21-260">If you want to use Code First and have no existing data context class, choose \*\*New data context \*\*.</span></span> <span data-ttu-id="5cb21-261">После этого будет создан контекста класса данных.</span><span class="sxs-lookup"><span data-stu-id="5cb21-261">A data context class will then be generated for you.</span></span>
- <span data-ttu-id="5cb21-262">Если применяется подход Code First и существует класс контекста данных, выберите его.</span><span class="sxs-lookup"><span data-stu-id="5cb21-262">If you want to use Code First and have an existing data context class, choose it here.</span></span> <span data-ttu-id="5cb21-263">Он будет загружен для использования выбранного класса модели.</span><span class="sxs-lookup"><span data-stu-id="5cb21-263">It will be updated to persist the model class you have selected.</span></span>
- <span data-ttu-id="5cb21-264">При использовании подхода Database First или Model First выберите класс контекста объекта.</span><span class="sxs-lookup"><span data-stu-id="5cb21-264">If you are using Database First or Model First, choose your object context class here.</span></span>

<span data-ttu-id="5cb21-265">Для представлений выберите модуль просмотра, который будет использоваться, или параметр Нет, если не требуется формировать представления.</span><span class="sxs-lookup"><span data-stu-id="5cb21-265">For Views, choose the view engine you want to use, or choose None if you don't want to scaffold any views.</span></span>

<span data-ttu-id="5cb21-266">Можно выбрать дополнительно найдете указать дополнительные параметры для создаваемых представлений.</span><span class="sxs-lookup"><span data-stu-id="5cb21-266">You can select Advanced Optionsto specify further options for the generated views.</span></span> <span data-ttu-id="5cb21-267">Например, можно выбрать макет или главную страницу.</span><span class="sxs-lookup"><span data-stu-id="5cb21-267">For example, you can choose the layout or master page to use.</span></span>

<a id="tu-ImprovementsNewDialogBox"></a>
### <a name="improvements-to-the-aspnet-mvc-3-new-project-dialog-box"></a><span data-ttu-id="5cb21-268">Усовершенствования диалогового окна "Создание проекта ASP.NET MVC 3"</span><span class="sxs-lookup"><span data-stu-id="5cb21-268">Improvements to the "ASP.NET MVC 3 New Project" Dialog Box</span></span>

<span data-ttu-id="5cb21-269">Диалоговое окно, используемое для создания новых проектов ASP.NET MVC 3, включает несколько усовершенствований, как указано ниже.</span><span class="sxs-lookup"><span data-stu-id="5cb21-269">The dialog box you use to create new ASP.NET MVC 3 projects includes multiple improvements, as listed below.</span></span>

![](mvc3-release-notes/_static/image2.png)

#### <a name="new-intranet-project-template"></a><span data-ttu-id="5cb21-270">Новый шаблон "Проект интрасети"</span><span class="sxs-lookup"><span data-stu-id="5cb21-270">New "Intranet Project" Template</span></span>

<span data-ttu-id="5cb21-271">В списке Шаблон проекта содержится новый шаблон Приложение интрасети.</span><span class="sxs-lookup"><span data-stu-id="5cb21-271">The Project Template list includes a new Intranet Application template.</span></span> <span data-ttu-id="5cb21-272">Он содержит параметры для создания веб-приложения с использованием проверки подлинности Windows вместо проверки подлинности на основе форм.</span><span class="sxs-lookup"><span data-stu-id="5cb21-272">This template contains settings for building a web application using Windows authentication instead of forms authentication.</span></span> <span data-ttu-id="5cb21-273">Поскольку приложению интрасети требуются некоторые параметры IIS, которые не могут быть инкапсулированы в шаблоне проекта, шаблон содержит файл readme с инструкциями о том, как сделать шаблон проекта работоспособным в службах IIS.</span><span class="sxs-lookup"><span data-stu-id="5cb21-273">Because an intranet application requires some IIS settings that can't be encapsulated in a project template, the template includes a readme file with instructions for how to make the project template work in IIS.</span></span> <span data-ttu-id="5cb21-274">Документация для нового шаблона приложения в интрасети доступна на веб-сайте MSDN по следующему URL-адресу:</span><span class="sxs-lookup"><span data-stu-id="5cb21-274">Documentation for the a new Intranet Application template is available on the MSDN website at the following URL:</span></span>

[https://msdn.microsoft.com/library/gg703322(VS.98).aspx](https://msdn.microsoft.com/library/gg703322(VS.98).aspx)

#### <a name="project-templates-are-now-html5-enabled"></a><span data-ttu-id="5cb21-275">Шаблоны проектов теперь поддерживают HTML5</span><span class="sxs-lookup"><span data-stu-id="5cb21-275">Project templates are now HTML5 enabled</span></span>

<span data-ttu-id="5cb21-276">Диалоговое окно создания проекта теперь содержит параметр добавления функций HTML5 в шаблоны проектов.</span><span class="sxs-lookup"><span data-stu-id="5cb21-276">The new-project dialog box now contains an option to add HTML5-specific features to the project templates.</span></span> <span data-ttu-id="5cb21-277">Выбор параметра приводит к созданию представлений, содержащих новые элементы `<header>`, `<footer>`и `<navigation>` HTML5.</span><span class="sxs-lookup"><span data-stu-id="5cb21-277">Selecting the option causes views to be generated that contain the new HTML5 `<header>`, `<footer>`, and `<navigation>` elements.</span></span>

<span data-ttu-id="5cb21-278">Учтите, более ранние версии браузеров не поддерживают теги HTML5.</span><span class="sxs-lookup"><span data-stu-id="5cb21-278">Note that earlier versions of browsers do not support HTML5-specific tags.</span></span> <span data-ttu-id="5cb21-279">Для устранения этой проблемы шаблоны проектов HTML5 содержат ссылку на библиотеку Modernizr.</span><span class="sxs-lookup"><span data-stu-id="5cb21-279">To address this limitation, the HTML5 project templates include a reference to the Modernizr library.</span></span> <span data-ttu-id="5cb21-280">(См. следующий раздел).</span><span class="sxs-lookup"><span data-stu-id="5cb21-280">(See the next section.)</span></span>

<a id="tu-Modernizr"></a>
### <a name="project-templates-now-include-modernizr-17"></a><span data-ttu-id="5cb21-281">В шаблоны проектов добавлена библиотека Modernizr 1.7</span><span class="sxs-lookup"><span data-stu-id="5cb21-281">Project templates now include Modernizr 1.7</span></span>

<span data-ttu-id="5cb21-282">Modernizr — это библиотека JavaScript, которая обеспечивает поддержку CSS 3 и HTML5 в браузерах, которые пока не поддерживают эти функции.</span><span class="sxs-lookup"><span data-stu-id="5cb21-282">Modernizr is a JavaScript library that enables support for CSS 3 and HTML5 in browsers that do not yet support these features.</span></span> <span data-ttu-id="5cb21-283">Эта библиотека включена в качестве предварительно установленного пакета NuGet в шаблоны для проектов ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-283">This library is included as a pre-installed NuGet package in templates for ASP.NET MVC 3 projects.</span></span> <span data-ttu-id="5cb21-284">Дополнительные сведения о Modernizr см. в разделе [http://www.modernizr.com/](http://www.modernizr.com/).</span><span class="sxs-lookup"><span data-stu-id="5cb21-284">For more information about Modernizr, see [http://www.modernizr.com/](http://www.modernizr.com/).</span></span>

<a id="tu-UpdatedJQuery"></a>
### <a name="project-templates-include-updated-versions-of-jquery-jquery-ui-and-jquery-validation"></a><span data-ttu-id="5cb21-285">В шаблоны проектов включены обновленные версии jQuery, jQuery UI и jQuery Validation</span><span class="sxs-lookup"><span data-stu-id="5cb21-285">Project templates include updated versions of jQuery, jQuery UI, and jQuery Validation</span></span>

<span data-ttu-id="5cb21-286">Шаблоны проектов теперь содержат следующие версии скриптов jQuery:</span><span class="sxs-lookup"><span data-stu-id="5cb21-286">The project templates now include the following versions of the jQuery scripts:</span></span>

- <span data-ttu-id="5cb21-287">jQuery 1.5.1;</span><span class="sxs-lookup"><span data-stu-id="5cb21-287">jQuery 1.5.1</span></span>
- <span data-ttu-id="5cb21-288">jQuery Validation 1.8;</span><span class="sxs-lookup"><span data-stu-id="5cb21-288">jQuery Validation 1.8</span></span>
- <span data-ttu-id="5cb21-289">jQuery UI 1.8.11.</span><span class="sxs-lookup"><span data-stu-id="5cb21-289">jQuery UI 1.8.11</span></span>

<span data-ttu-id="5cb21-290">Эти библиотеки включены в виде предустановленных пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="5cb21-290">These libraries are included as pre-installed NuGet packages.</span></span>

<a id="tu-EF"></a>
### <a name="project-templates-now-include-adonet-entity-framework-41-as-a-pre-installed-nuget-package"></a><span data-ttu-id="5cb21-291">В шаблоны проектов добавлена платформа ADO.NET Entity Framework 4.1 в виде предустановленного пакета NuGet</span><span class="sxs-lookup"><span data-stu-id="5cb21-291">Project templates now include ADO.NET Entity Framework 4.1 as a pre-installed NuGet package</span></span>

<span data-ttu-id="5cb21-292">ADO.NET Entity Framework 4,1 включает функцию Code First.</span><span class="sxs-lookup"><span data-stu-id="5cb21-292">The ADO.NET Entity Framework 4.1 includes the Code First feature.</span></span> <span data-ttu-id="5cb21-293">Code First — это новый шаблон разработки для платформы ADO.NET Entity Framework, предоставляющий альтернативу существующим шаблонам Database First и Model First.</span><span class="sxs-lookup"><span data-stu-id="5cb21-293">Code First is a new development pattern for the ADO.NET Entity Framework that provides an alternative to the existing Database First and Model First patterns.</span></span>

<span data-ttu-id="5cb21-294">Шаблон Code First предназначен для определения модели с помощью классов POCO ("старые объекты CLR"), написанных на Visual Basic или C#.</span><span class="sxs-lookup"><span data-stu-id="5cb21-294">Code First is focused around defining your model using POCO classes ("plain old CLR objects") written in Visual Basic or C#.</span></span> <span data-ttu-id="5cb21-295">Эти классы затем можно сопоставить с существующей базой данных или использовать для создании схемы базы данных.</span><span class="sxs-lookup"><span data-stu-id="5cb21-295">These classes can then be mapped to an existing database or be used to generate a database schema.</span></span> <span data-ttu-id="5cb21-296">Дополнительную конфигурацию можно указать с помощью атрибутов *заметок* к данным или с помощью интерфейсов API Fluent.</span><span class="sxs-lookup"><span data-stu-id="5cb21-296">Additional configuration can be supplied using *DataAnnotations* attributes or using fluent APIs.</span></span>

<span data-ttu-id="5cb21-297">Документация по использованию кода Фирствис ASP.NET MVC доступна на веб-сайте ASP.NET по следующим URL-адресам:</span><span class="sxs-lookup"><span data-stu-id="5cb21-297">Documentation for using Code Firstwith ASP.NET MVC is available on the ASP.NET website at the following URLs:</span></span>

<span data-ttu-id="5cb21-298">[https://www.asp.net/mvc/tutorials/getting-started-with-mvc3-part1-cs](../mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) [https://www.asp.net/entity-framework/tutorials/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application](../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)</span><span class="sxs-lookup"><span data-stu-id="5cb21-298">[https://www.asp.net/mvc/tutorials/getting-started-with-mvc3-part1-cs](../mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) [https://www.asp.net/entity-framework/tutorials/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application](../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)</span></span>

<a id="tu-JavaScriptLibsNuget"></a>
### <a name="project-templates-include-javascript-libraries-as-pre-installed-nuget-packages"></a><span data-ttu-id="5cb21-299">В шаблоны проектов включены библиотеки JavaScript в виде предустановленных пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="5cb21-299">Project templates include JavaScript libraries as pre-installed NuGet packages</span></span>

<span data-ttu-id="5cb21-300">При создании нового проекта ASP.NET MVC 3 проект включает файлы JavaScript, упомянутые ранее (например, библиотеку Modernizr), устанавливая их с помощью NuGet вместо непосредственного добавления скриптов в папку Scripts в шаблоне проекта. содержимое.</span><span class="sxs-lookup"><span data-stu-id="5cb21-300">When you create a new ASP.NET MVC 3 project, the project includes the JavaScript files mentioned previously (for example, the Modernizr library) by installing them using NuGet instead of directly adding the scripts to the Scripts folder in the project template contents.</span></span> <span data-ttu-id="5cb21-301">Это позволяет использовать NuGet для обновления скриптов до последних версий при их выходе.</span><span class="sxs-lookup"><span data-stu-id="5cb21-301">This enables you to use NuGet to update the scripts to the latest version when new versions of the scripts are released.</span></span>

<span data-ttu-id="5cb21-302">Например, с учетом частоты выхода новых выпусков jQuery версия jQuery, включенная в шаблон проекта, через какое-то время устареет.</span><span class="sxs-lookup"><span data-stu-id="5cb21-302">For example, given the frequency of new jQuery releases, the version of jQuery included in the project template will at some point be out of date.</span></span> <span data-ttu-id="5cb21-303">Но так как компонент jQuery включен как устанавливаемый пакет NuGet, пользователь будет уведомлен в диалоговом окне NuGet о доступности новых версий jQuery.</span><span class="sxs-lookup"><span data-stu-id="5cb21-303">However, because jQuery is included as an installed NuGet package, you will be notified in the NuGet dialog box when newer versions of jQuery are available.</span></span>

<span data-ttu-id="5cb21-304">Так как jQuery включает номер версии в имя файла, обновление jQuery до последней версии также требует обновления тега `<script>`, который ссылается на файл jQuery, для использования нового имени файла.</span><span class="sxs-lookup"><span data-stu-id="5cb21-304">Because jQuery includes the version number in the file name, updating jQuery to the latest version also requires updating the `<script>` tag that references the jQuery file to use the new file name.</span></span> <span data-ttu-id="5cb21-305">Другие включенные библиотеки скриптов не содержат номер версии в имени скрипта, поэтому их можно легко обновить до последних версий.</span><span class="sxs-lookup"><span data-stu-id="5cb21-305">Other included script libraries do not include the version number in the script name, so they can be more easily updated to their latest versions.</span></span>

<a id="tu-KI"></a>
## <a name="known-issues"></a><span data-ttu-id="5cb21-306">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="5cb21-306">Known Issues</span></span>

- <span data-ttu-id="5cb21-307">В некоторых случаях установка может завершиться ошибкой с сообщением об ошибке "сбой установки с кодом ошибки (0x80070643)".</span><span class="sxs-lookup"><span data-stu-id="5cb21-307">In some cases, installation may fail with the error message "Installation failed with error code (0x80070643)".</span></span> <span data-ttu-id="5cb21-308">Сведения о том, как обойти эту ошибку, см. в [статье базы знаний 2531566](https://support.microsoft.com/kb/2531566).</span><span class="sxs-lookup"><span data-stu-id="5cb21-308">For information about how to work around this issue, see [KnowledgeBase article 2531566](https://support.microsoft.com/kb/2531566).</span></span>
- <span data-ttu-id="5cb21-309">При формировании шаблонов для добавления контроллера не формируются сущности, использующие преимущества поддержки наследования сущностей в платформе Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="5cb21-309">The scaffolding for adding a controller does not scaffold entities that take advantage of entity inheritance support within Entity Framework.</span></span> <span data-ttu-id="5cb21-310">Например, при наличии базового класса *Person* , наследуемого классом *Student* , формирование шаблонов для класса *Student* приведет к созданию кода, который не будет компилироваться.</span><span class="sxs-lookup"><span data-stu-id="5cb21-310">For example, given a base *Person* class that's inherited by a *Student* class, scaffolding the *Student* class will result in generated code that does not compile.</span></span>
- <span data-ttu-id="5cb21-311">Создание нового проекта ASP.NET MVC 3 в папке решения вызывает ошибку *NullReferenceException* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-311">Creating a new ASP.NET MVC 3 project within a solution folder causes a *NullReferenceException* error.</span></span> <span data-ttu-id="5cb21-312">Обходной путь состоит в том, чтобы создать проект ASP.NET MVC 3 в корне решения, а затем переместить его в папку решения.</span><span class="sxs-lookup"><span data-stu-id="5cb21-312">The workaround is to create the ASP.NET MVC 3 project in the root of the solution and then move it into the solution folder.</span></span>
- <span data-ttu-id="5cb21-313">Синтаксис IntelliSense и Razor не работает, если установлен ReSharper.</span><span class="sxs-lookup"><span data-stu-id="5cb21-313">IntelliSense for Razor syntax does not work when ReSharper is installed.</span></span> <span data-ttu-id="5cb21-314">Если вы уже установили и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3, ознакомьтесь с записью [Razor IntelliSense и четче](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хади Харири, где обсуждаются способы их совместного использования.</span><span class="sxs-lookup"><span data-stu-id="5cb21-314">If you have ReSharper installed and want to take advantage of the Razor IntelliSense support in ASP.NET MVC 3, see the entry [Razor Intellisense and ReSharper](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) on Hadi Hariri's blog, which discusses ways to use them together today.</span></span>
- <span data-ttu-id="5cb21-315">Во время установки условия лицензионного соглашения отображаются в меньшем окне, чем это требуется.</span><span class="sxs-lookup"><span data-stu-id="5cb21-315">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="5cb21-316">При редактировании представления Razor (. cshtml или. *VBHTML* -файл), представления.</span><span class="sxs-lookup"><span data-stu-id="5cb21-316">When you are editing a Razor view (.cshtml or .*vbhtml* file), views.</span></span> <span data-ttu-id="5cb21-317">ASP.NET MVC 3 не включает фрагменты для представлений Razor. аспксселектинг фрагмент кода для ASP.NET MVC покажет фрагменты для</span><span class="sxs-lookup"><span data-stu-id="5cb21-317">ASP.NET MVC 3 does not include any snippets for Razor views..aspxselecting a code snippet for ASP.NET MVC will show snippets for</span></span>
- <span data-ttu-id="5cb21-318">Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютер, на котором не установлен Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-318">If you install ASP.NET MVC 3 for Visual Web Developer Express on a computer where Visual Studio is not installed, and then later install Visual Studio, you must reinstall ASP.NET MVC 3.</span></span> <span data-ttu-id="5cb21-319">Компоненты Visual Studio и Visual Web Developer Express для совместного использования, обновленные установщиком ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-319">Visual Studio and Visual Web Developer Express share components that are upgraded by the ASP.NET MVC 3 installer.</span></span> <span data-ttu-id="5cb21-320">Эта же ситуация возникает при установке ASP.NET MVC 3 для Visual Studio на компьютере, на котором не установлен Visual Web Developer Express, и последующей установке Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="5cb21-320">The same issue applies if you install ASP.NET MVC 3 for Visual Studio on a computer that does not have Visual Web Developer Express and then later install Visual Web Developer Express.</span></span>

<a id="MVC3RTM"></a>
## <a name="changes-in-aspnet-mvc-3-rtm"></a><span data-ttu-id="5cb21-321">Изменения в ASP.NET MVC 3 RTM</span><span class="sxs-lookup"><span data-stu-id="5cb21-321">Changes in ASP.NET MVC 3 RTM</span></span>

<span data-ttu-id="5cb21-322">В этом разделе описаны изменения и исправления ошибок, внесенные в выпуске ASP.NET MVC 3 RTM с момента выпуска RC2.</span><span class="sxs-lookup"><span data-stu-id="5cb21-322">This section describes changes and bug fixes made in the ASP.NET MVC 3 RTM release since the RC2 release.</span></span>

<a id="RTM-1"></a>
### <a name="change-updated-the-version-of-jquery-ui-to-187"></a><span data-ttu-id="5cb21-323">Изменение: обновлена версия пользовательского интерфейса jQuery до 1.8.7</span><span class="sxs-lookup"><span data-stu-id="5cb21-323">Change: Updated the version of jQuery UI to 1.8.7</span></span>

<span data-ttu-id="5cb21-324">Шаблоны проектов ASP.NET MVC для Visual Studio были обновлены для включения последней версии библиотеки пользовательского интерфейса jQuery.</span><span class="sxs-lookup"><span data-stu-id="5cb21-324">The ASP.NET MVC project templates for Visual Studio were updated to include the latest version of the jQuery UI library.</span></span> <span data-ttu-id="5cb21-325">Шаблоны также включают минимальный набор файлов ресурсов, необходимый для работы пользовательского интерфейса jQuery, например связанные файлы CSS и изображения.</span><span class="sxs-lookup"><span data-stu-id="5cb21-325">The templates also include the minimal set of resource files required by jQuery UI, such as the associated CSS and image files.</span></span>

<a id="RTM-2"></a>
### <a name="change-changed-the-default-modelmetadataprovider-back-to-dataannotationsmodelmetadataprovider"></a><span data-ttu-id="5cb21-326">Изменение: изменено значение по умолчанию Моделметадатапровидер обратно на Датааннотатионсмоделметадатапровидер</span><span class="sxs-lookup"><span data-stu-id="5cb21-326">Change: Changed the default ModelMetadataProvider back to DataAnnotationsModelMetadataProvider</span></span>

<span data-ttu-id="5cb21-327">В выпуске RC2 ASP.NET MVC 3 появился класс *качеддатааннотатионсметадатапровидер* , который предоставил кэширование поверх существующего класса *датааннотатионсмоделметадатапровидер* в качестве улучшения производительности.</span><span class="sxs-lookup"><span data-stu-id="5cb21-327">The RC2 release of ASP.NET MVC 3 introduced a *CachedDataAnnotationsMetadataProvider* class that provided caching on top of the existing *DataAnnotationsModelMetadataProvider* class as a performance improvement.</span></span> <span data-ttu-id="5cb21-328">Однако в этой реализации были обнаружены некоторые ошибки, поэтому изменение было отменено и перемещено в проект будущих проектов MVC, который доступен в [ASP.NET](https://github.com/aspnet/AspNetWebStack).</span><span class="sxs-lookup"><span data-stu-id="5cb21-328">However, some bugs were reported with this implementation, so the change has been reverted and moved into the MVC Futures project, which is available at [ASP.NET WebStack](https://github.com/aspnet/AspNetWebStack).</span></span>

<a id="RTM-3"></a>
### <a name="fixed-pasting-part-of-a-razor-expression-that-contains-whitespace-results-in-it-being-reversed"></a><span data-ttu-id="5cb21-329">Исправлено: вставленная часть выражения Razor, содержащая пробелы, приводит к его отмене.</span><span class="sxs-lookup"><span data-stu-id="5cb21-329">Fixed: Pasting part of a Razor expression that contains whitespace results in it being reversed</span></span>

<span data-ttu-id="5cb21-330">В предварительных версиях ASP.NET MVC 3 при вставке части выражения Razor, содержащего пробелы, в файл Razor результирующее выражение будет отменено.</span><span class="sxs-lookup"><span data-stu-id="5cb21-330">In pre-release versions of ASP.NET MVC 3, when you paste a part of a Razor expression that contains whitespace into a Razor file, the resulting expression is reversed.</span></span> <span data-ttu-id="5cb21-331">Например, рассмотрим следующий блок кода Razor:</span><span class="sxs-lookup"><span data-stu-id="5cb21-331">For example, consider the following Razor code block:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample6.cshtml)]

<span data-ttu-id="5cb21-332">Если выбрать текст "First param" в первом методе и вставить его в качестве аргумента во второй метод, результат будет следующим:</span><span class="sxs-lookup"><span data-stu-id="5cb21-332">If you select the text "first param" in the first method and paste it as an argument into the second method, the result is as follows:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample7.cshtml)]

<span data-ttu-id="5cb21-333">Правильное поведение заключается в том, что операция вставки должна привести к следующим результатам:</span><span class="sxs-lookup"><span data-stu-id="5cb21-333">The correct behavior is that the paste operation should result in the following:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample8.cshtml)]

<span data-ttu-id="5cb21-334">Эта проблема была исправлена в выпуске RTM, чтобы правильно сохранить выражение во время операции вставки.</span><span class="sxs-lookup"><span data-stu-id="5cb21-334">This issue has been fixed in the RTM release so that the expression is correctly preserved during the paste operation.</span></span>

<a id="RTM-4"></a>
### <a name="fixed-renaming-a-razor-file-that-is-opened-in-the-editor-disables-syntax-colorization-and-intellisense"></a><span data-ttu-id="5cb21-335">Исправлено. Переименование файла Razor, открытого в редакторе, отключает раскраску синтаксиса и IntelliSense</span><span class="sxs-lookup"><span data-stu-id="5cb21-335">Fixed: Renaming a Razor file that is opened in the editor disables syntax colorization and IntelliSense</span></span>

<span data-ttu-id="5cb21-336">Переименование файла Razor с помощью обозреватель решений во время открытия файла в окне редактора приводит к тому, что выделение синтаксиса и IntelliSense перестают работать с этим файлом.</span><span class="sxs-lookup"><span data-stu-id="5cb21-336">Renaming a Razor file using Solution Explorer while the file is opened in the editor window causes syntax highlighting and IntelliSense to stop working for that file.</span></span> <span data-ttu-id="5cb21-337">Это было исправлено, поэтому выделение и технология IntelliSense сохраняются после переименования.</span><span class="sxs-lookup"><span data-stu-id="5cb21-337">This has been fixed so that highlighting and IntelliSense are maintained after a rename.</span></span>

<a id="RTM-KI"></a>
## <a name="known-issues"></a><span data-ttu-id="5cb21-338">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="5cb21-338">Known Issues</span></span>

- <span data-ttu-id="5cb21-339">Если закрыть бета-версию Visual Studio 2010 с пакетом обновления 1 (SP1), пока открыта консоль диспетчера пакетов NuGet, Visual Studio выполнит сбой и попытается перезапуститься.</span><span class="sxs-lookup"><span data-stu-id="5cb21-339">If you close Visual Studio 2010 SP1 Beta while the NuGet Package Manager Console is open, Visual Studio crashes and attempts to restart.</span></span> <span data-ttu-id="5cb21-340">Это будет исправлено в выпуске RTM Visual Studio 2010 с пакетом обновления 1 (SP1).</span><span class="sxs-lookup"><span data-stu-id="5cb21-340">This will be fixed in the RTM release of Visual Studio 2010 SP1.</span></span>
- <span data-ttu-id="5cb21-341">Установщик ASP.NET MVC 3 может установить только начальную версию диспетчера пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="5cb21-341">The ASP.NET MVC 3 installer is only able to install an initial version of the NuGet package manager.</span></span> <span data-ttu-id="5cb21-342">После установки начальной версии NuGet можно установить и обновить с помощью диспетчера расширений Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5cb21-342">After you have installed the initial version, NuGet can be installed and updated using Visual Studio Extension Manager.</span></span> <span data-ttu-id="5cb21-343">Если у вас уже установлен NuGet, перейдите в коллекцию расширений Visual Studio, чтобы обновить ее до последней версии NuGet.</span><span class="sxs-lookup"><span data-stu-id="5cb21-343">If you already have NuGet installed, go to the Visual Studio Extension Gallery to update to the latest version of NuGet.</span></span>
- <span data-ttu-id="5cb21-344">Создание нового проекта ASP.NET MVC 3 в папке решения вызывает ошибку *NullReferenceException* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-344">Creating a new ASP.NET MVC 3 project within a solution folder causes a *NullReferenceException* error.</span></span> <span data-ttu-id="5cb21-345">Обходной путь состоит в том, чтобы создать проект ASP.NET MVC 3 в корне решения, а затем переместить его в папку решения.</span><span class="sxs-lookup"><span data-stu-id="5cb21-345">The workaround is to create the ASP.NET MVC 3 project in the root of the solution and then move it into the solution folder.</span></span>
- <span data-ttu-id="5cb21-346">Выполнение установщика может занять намного больше времени, чем предыдущие версии ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5cb21-346">The installer might take much longer than previous versions of ASP.NET MVC to complete.</span></span> <span data-ttu-id="5cb21-347">Это связано с тем, что обновляет компоненты Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="5cb21-347">This is because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="5cb21-348">Синтаксис IntelliSense и Razor не работает, если установлен ReSharper.</span><span class="sxs-lookup"><span data-stu-id="5cb21-348">IntelliSense for Razor syntax does not work when ReSharper is installed.</span></span> <span data-ttu-id="5cb21-349">Если вы уже установили и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3, ознакомьтесь с записью [Razor IntelliSense и четче](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хади Харири, где обсуждаются способы их совместного использования.</span><span class="sxs-lookup"><span data-stu-id="5cb21-349">If you have ReSharper installed and want to take advantage of the Razor IntelliSense support in ASP.NET MVC 3, see the entry [Razor Intellisense and ReSharper](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) on Hadi Hariri's blog, which discusses ways to use them together today.</span></span>
- <span data-ttu-id="5cb21-350">В представлениях ККШТМЛ и VBHTML, созданных с помощью бета-версии ASP.NET MVC 3, действия сборки не заданы правильно, в результате чего эти типы представлений будут пропущены при публикации проекта.</span><span class="sxs-lookup"><span data-stu-id="5cb21-350">CCSHTML and VBHTML views created with the Beta version of ASP.NET MVC 3 do not have their build action set correctly, with the result that these view types are omitted when the project is published.</span></span> <span data-ttu-id="5cb21-351">Значение действия сборки для этих файлов должно быть равно "Content".</span><span class="sxs-lookup"><span data-stu-id="5cb21-351">The Build Action value for these files should be set to "Content".</span></span> <span data-ttu-id="5cb21-352">ASP.NET MVC 3 RTM устраняет эту проблему для новых файлов, но не корректирует параметр для существующих файлов проекта, созданного с предварительными версиями.</span><span class="sxs-lookup"><span data-stu-id="5cb21-352">ASP.NET MVC 3 RTM fixes this issue for new files, but doesn't correct the setting for existing files for a project created with prerelease versions.</span></span>
- ![](mvc3-release-notes/_static/image3.png)
- <span data-ttu-id="5cb21-353">Во время установки условия лицензионного соглашения отображаются в меньшем окне, чем это требуется.</span><span class="sxs-lookup"><span data-stu-id="5cb21-353">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="5cb21-354">При редактировании представления Razor (файл. cshtml) пункт меню Перейти к контроллеру в Visual Studio будет недоступен, а фрагменты кода не будут отображаться.</span><span class="sxs-lookup"><span data-stu-id="5cb21-354">When you are editing a Razor view (.cshtml file), the Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>
- <span data-ttu-id="5cb21-355">Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютер, на котором не установлен Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-355">If you install ASP.NET MVC 3 for Visual Web Developer Express on a computer where Visual Studio is not installed, and then later install Visual Studio, you must reinstall ASP.NET MVC 3.</span></span> <span data-ttu-id="5cb21-356">Компоненты Visual Studio и Visual Web Developer Express для совместного использования, обновленные установщиком ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-356">Visual Studio and Visual Web Developer Express share components that are upgraded by the ASP.NET MVC 3 installer.</span></span> <span data-ttu-id="5cb21-357">Эта же ситуация возникает при установке ASP.NET MVC 3 для Visual Studio на компьютере, на котором не установлен Visual Web Developer Express, и последующей установке Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="5cb21-357">The same issue applies if you install ASP.NET MVC 3 for Visual Studio on a computer that does not have Visual Web Developer Express and then later install Visual Web Developer Express.</span></span>

<a id="RTM-BC"></a>
## <a name="breaking-changes"></a><span data-ttu-id="5cb21-358">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="5cb21-358">Breaking Changes</span></span>

- <span data-ttu-id="5cb21-359">В предыдущих версиях ASP.NET MVC фильтры действий создаются для каждого запроса, за исключением нескольких случаев.</span><span class="sxs-lookup"><span data-stu-id="5cb21-359">In previous versions of ASP.NET MVC, action filters are create per request except in a few cases.</span></span> <span data-ttu-id="5cb21-360">Такое поведение никогда не было гарантированно, но только сведения о реализации и контракт для фильтров были рассматривать их без отслеживания состояния.</span><span class="sxs-lookup"><span data-stu-id="5cb21-360">This behavior was never a guaranteed behavior but merely an implementation detail and the contract for filters was to consider them stateless.</span></span> <span data-ttu-id="5cb21-361">В ASP.NET MVC 3 фильтры кэшируются более агрессивно.</span><span class="sxs-lookup"><span data-stu-id="5cb21-361">In ASP.NET MVC 3, filters are cached more aggressively.</span></span> <span data-ttu-id="5cb21-362">Таким образом, любые фильтры настраиваемых действий, которые неправильно хранят состояние экземпляра, могут быть разорваны.</span><span class="sxs-lookup"><span data-stu-id="5cb21-362">Therefore, any custom action filters which improperly store instance state might be broken.</span></span>
- <span data-ttu-id="5cb21-363">Порядок выполнения фильтров исключений изменился для фильтров исключений с одинаковым значением *порядка* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-363">The order of execution for exception filters has changed for exception filters that have the same *Order* value.</span></span> <span data-ttu-id="5cb21-364">В ASP.NET MVC 2 и более ранних версиях фильтры исключений на контроллере, имеющие то же значение *порядка* , что и в методе действия, выполняются перед фильтрами исключений в методе действия.</span><span class="sxs-lookup"><span data-stu-id="5cb21-364">In ASP.NET MVC 2 and earlier, exception filters on the controller that have the same *Order* value as those on an action method are executed before the exception filters on the action method.</span></span> <span data-ttu-id="5cb21-365">Обычно это происходит, когда фильтры исключений применяются без заданного значения *порядка* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-365">This would typically be the case when exception filters are applied without a specified *Order* value.</span></span> <span data-ttu-id="5cb21-366">В ASP.NET MVC 3 этот порядок был отменен, чтобы сначала выполнялся наиболее конкретный обработчик исключений.</span><span class="sxs-lookup"><span data-stu-id="5cb21-366">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="5cb21-367">Как и в предыдущих версиях, если свойство *Order* задано явно, фильтры выполняются в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="5cb21-367">As in earlier versions, if the *Order* property is explicitly specified, the filters are run in the specified order.</span></span>
- <span data-ttu-id="5cb21-368">В базовый класс *виртуалпаспровидервиевенгине* было добавлено новое свойство с именем *FileExtensions* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-368">A new property named *FileExtensions* was added to the *VirtualPathProviderViewEngine* base class.</span></span> <span data-ttu-id="5cb21-369">Когда ASP.NET ищет представление по пути (не по имени), учитываются только представления с расширением файла, содержащиеся в списке, указанном этим новым свойством.</span><span class="sxs-lookup"><span data-stu-id="5cb21-369">When ASP.NET looks up a view by path (not by name), only views with a file extension contained in the list specified by this new property are considered.</span></span> <span data-ttu-id="5cb21-370">Это критическое изменение в приложениях, где зарегистрирован пользовательский поставщик сборки, чтобы включить пользовательское расширение файла для представлений веб-форм и где поставщик ссылается на эти представления, используя полный путь, а не имя.</span><span class="sxs-lookup"><span data-stu-id="5cb21-370">This is a breaking change in applications where a custom build provider is registered in order to enable a custom file extension for Web Form views and where the provider references those views by using a full path rather than a name.</span></span> <span data-ttu-id="5cb21-371">Чтобы решить эту проблему, измените значение свойства *FileExtensions* , включив в него расширение пользовательского файла.</span><span class="sxs-lookup"><span data-stu-id="5cb21-371">The workaround is to modify the value of the *FileExtensions* property to include the custom file extension.</span></span>
- <span data-ttu-id="5cb21-372">Пользовательские реализации фабрики контроллеров, которые напрямую реализуют интерфейс *иконтроллерфактори* , должны предоставить реализацию нового метода *жетконтроллерсессионбехавиор* , который был добавлен в интерфейс в этом выпуске.</span><span class="sxs-lookup"><span data-stu-id="5cb21-372">Custom controller factory implementations that directly implement the *IControllerFactory* interface must provide an implementation of the new *GetControllerSessionBehavior* method that was added to the interface in this release.</span></span> <span data-ttu-id="5cb21-373">Как правило, рекомендуется не реализовывать этот интерфейс напрямую, а создавать производный класс от *дефаултконтроллерфактори*.</span><span class="sxs-lookup"><span data-stu-id="5cb21-373">In general, it is recommended that you do not implement this interface directly and instead derive your class from *DefaultControllerFactory*.</span></span>

<a id="_Toc2"></a>
## <a name="changes-in-aspnet-mvc-3-rc2"></a><span data-ttu-id="5cb21-374">Изменения в ASP.NET MVC 3 RC2</span><span class="sxs-lookup"><span data-stu-id="5cb21-374">Changes in ASP.NET MVC 3 RC2</span></span>

<span data-ttu-id="5cb21-375">В этом разделе описываются изменения (новые функции и исправления ошибок), внесенные в выпуске ASP.NET MVC 3 RC2 с момента выпуска версии-КАНДИДАТа.</span><span class="sxs-lookup"><span data-stu-id="5cb21-375">This section describes changes (new features and bug fixes) made in the ASP.NET MVC 3 RC2 release since the RC release.</span></span>

<a id="_Toc2_1"></a>
### <a name="project-templates-changed-to-include-jquery-144-jquery-validation-17-and-jquery-ui-186"></a><span data-ttu-id="5cb21-376">Шаблоны проектов изменены для включения jQuery 1.4.4, jQuery Validation 1,7 и 1.8.6 пользовательского интерфейса jQuery.</span><span class="sxs-lookup"><span data-stu-id="5cb21-376">Project Templates Changed to Include jQuery 1.4.4, jQuery Validation 1.7, and jQuery UI 1.8.6</span></span>

<span data-ttu-id="5cb21-377">Шаблоны проектов для ASP.NET MVC 3 теперь включают последние версии jQuery, jQuery Validation и UI jQuery.</span><span class="sxs-lookup"><span data-stu-id="5cb21-377">The project templates for ASP.NET MVC 3 now include the latest versions of jQuery, jQuery Validation, and jQuery UI.</span></span> <span data-ttu-id="5cb21-378">Пользовательский интерфейс jQuery — это новое дополнение к шаблонам проекта, которое предоставляет полезные мини-приложения пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="5cb21-378">jQuery UI is a new addition to the project templates and provides useful user interface widgets.</span></span> <span data-ttu-id="5cb21-379">Дополнительные сведения о пользовательском интерфейсе jQuery см. на странице домашней страницы: [http://jqueryui.com/](http://jqueryui.com/).</span><span class="sxs-lookup"><span data-stu-id="5cb21-379">For more information about jQuery UI, visit their homepage: [http://jqueryui.com/](http://jqueryui.com/).</span></span>

<a id="_Toc2_2"></a>
### <a name="added-additionalmetadataattribute-class"></a><span data-ttu-id="5cb21-380">Добавлен класс "Аддитионалметадатааттрибуте"</span><span class="sxs-lookup"><span data-stu-id="5cb21-380">Added "AdditionalMetadataAttribute" Class</span></span>

<span data-ttu-id="5cb21-381">Для заполнения словаря *ModelMetadata. аддитионалвалуес* для свойства модели можно использовать класс *аддитионалметадатааттрибуте* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-381">You can use the *AdditionalMetadataAttribute* class to populate the *ModelMetadata.AdditionalValues* dictionary for a model property.</span></span>

<span data-ttu-id="5cb21-382">Например, предположим, что модель представления имеет свойства, которые должны отображаться только для администратора.</span><span class="sxs-lookup"><span data-stu-id="5cb21-382">For example, suppose a view model has properties that should be displayed only to an administrator.</span></span> <span data-ttu-id="5cb21-383">Эту модель можно снабдить новым атрибутом, используя Админонли в качестве ключа и значением true в качестве значения, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="5cb21-383">That model can be annotated with the new attribute using AdminOnly as the key and true as the value, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample9.cs)]

<span data-ttu-id="5cb21-384">Эти метаданные доступны любому шаблону отображения или редактора при отрисовке модели представления продукта.</span><span class="sxs-lookup"><span data-stu-id="5cb21-384">This metadata is made available to any display or editor template when a product view model is rendered.</span></span> <span data-ttu-id="5cb21-385">Разработчик приложения может интерпретировать сведения о метаданных.</span><span class="sxs-lookup"><span data-stu-id="5cb21-385">It is up to you as application developer to interpret the metadata information.</span></span>

<a id="_Toc2_3"></a>
### <a name="improved-view-scaffolding"></a><span data-ttu-id="5cb21-386">Улучшенное формирование шаблонов представлений</span><span class="sxs-lookup"><span data-stu-id="5cb21-386">Improved View Scaffolding</span></span>

<span data-ttu-id="5cb21-387">Шаблоны T4, используемые для представлений формирования шаблонов, теперь создают вызовы вспомогательных методов шаблона, таких как *едиторфор* , а не вспомогательные методы, такие как *текстбоксфор*.</span><span class="sxs-lookup"><span data-stu-id="5cb21-387">The T4 templates used for scaffolding views now generate calls to template helper methods such as *EditorFor* instead of helpers such as *TextBoxFor*.</span></span> <span data-ttu-id="5cb21-388">Это изменение улучшает поддержку метаданных модели в форме атрибутов заметки к данным, когда диалоговое окно Добавление представления создает представление.</span><span class="sxs-lookup"><span data-stu-id="5cb21-388">This change improves support for metadata on the model in the form of data annotation attributes when the Add View dialog box generates a view.</span></span>

<span data-ttu-id="5cb21-389">Формирование шаблонов добавления представления также включает улучшенное обнаружение и использование сведений о первичном ключе модели на основе соглашения.</span><span class="sxs-lookup"><span data-stu-id="5cb21-389">The Add View scaffolding also includes improved detection and usage of primary key information on the model, based on convention.</span></span> <span data-ttu-id="5cb21-390">Например, диалоговое окно Добавление представления использует эти сведения, чтобы гарантировать, что значение первичного ключа не будет сформировано как редактируемое поле формы.</span><span class="sxs-lookup"><span data-stu-id="5cb21-390">For example, the Add View dialog box uses this information to ensure that the primary key value is not scaffolded as an editable form field.</span></span>

<span data-ttu-id="5cb21-391">Шаблоны редактирования и создания по умолчанию включают ссылки на скрипты jQuery, необходимые для проверки клиента.</span><span class="sxs-lookup"><span data-stu-id="5cb21-391">The default Edit and Create templates include references to the jQuery scripts needed for client validation.</span></span>

<a id="_Toc2_4"></a>
### <a name="added-htmlraw-method"></a><span data-ttu-id="5cb21-392">Добавлен метод HTML. RAW</span><span class="sxs-lookup"><span data-stu-id="5cb21-392">Added Html.Raw Method</span></span>

<span data-ttu-id="5cb21-393">По умолчанию модуль представления Razor HTML кодирует все значения.</span><span class="sxs-lookup"><span data-stu-id="5cb21-393">By default, the Razor view engine HTML-encodes all values.</span></span> <span data-ttu-id="5cb21-394">Например, следующий фрагмент кода кодирует HTML внутри переменной приветствия, чтобы он отображался на странице как `<strong>Hello World!</strong>`.</span><span class="sxs-lookup"><span data-stu-id="5cb21-394">For example, the following code snippet encodes the HTML inside the greeting variable so that it is displayed in the page as `<strong>Hello World!</strong>`.</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample10.cshtml)]

<span data-ttu-id="5cb21-395">Новый метод *HTML. RAW* предоставляет простой способ отображения незакодированного HTML, когда содержимое известно как надежное.</span><span class="sxs-lookup"><span data-stu-id="5cb21-395">The new *Html.Raw* method provides a simple way of displaying unencoded HTML when the content is known to be safe.</span></span> <span data-ttu-id="5cb21-396">В следующем примере отображается та же строка, но строка отображается как разметка:</span><span class="sxs-lookup"><span data-stu-id="5cb21-396">The following example displays the same string, but the string is rendered as markup:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample11.cshtml)]

<a id="_Toc2_5"></a>
### <a name="renamed-controllerviewmodel-property-and-the-view-property-to-viewbag"></a><span data-ttu-id="5cb21-397">Переименование свойства Controller. ViewModel и свойства "View" в "ViewBag"</span><span class="sxs-lookup"><span data-stu-id="5cb21-397">Renamed "Controller.ViewModel" Property and the "View" Property To "ViewBag"</span></span>

<span data-ttu-id="5cb21-398">Ранее свойство *ViewModel* *контроллера* соответствует свойству *View* представления.</span><span class="sxs-lookup"><span data-stu-id="5cb21-398">Previously, the *ViewModel* property of *Controller* corresponded to the *View* property of a view.</span></span> <span data-ttu-id="5cb21-399">Оба эти свойства предоставляют способ доступа к значениям объекта *ViewDataDictionary* с помощью динамического синтаксиса доступа к свойствам.</span><span class="sxs-lookup"><span data-stu-id="5cb21-399">Both of these properties provide a way to access values of the *ViewDataDictionary* object using dynamic property-accessor syntax.</span></span> <span data-ttu-id="5cb21-400">Оба свойства были переименованы для того, чтобы избежать путаницы и быть более согласованными.</span><span class="sxs-lookup"><span data-stu-id="5cb21-400">Both properties have been renamed to be the same in order to avoid confusion and to be more consistent.</span></span>

<a id="_Toc2_6"></a>
### <a name="renamed-controllersessionstateattribute-class-to-sessionstateattribute"></a><span data-ttu-id="5cb21-401">Переименование класса "Контроллерсессионстатеаттрибуте" в "Сессионстатеаттрибуте"</span><span class="sxs-lookup"><span data-stu-id="5cb21-401">Renamed "ControllerSessionStateAttribute" Class to "SessionStateAttribute"</span></span>

<span data-ttu-id="5cb21-402">Класс *контроллерсессионстатеаттрибуте* появился в версии-кандидате ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-402">The *ControllerSessionStateAttribute* class was introduced in the RC release of ASP.NET MVC 3.</span></span> <span data-ttu-id="5cb21-403">Свойство было переименовано для более краткого приведения.</span><span class="sxs-lookup"><span data-stu-id="5cb21-403">The property was renamed to be more succinct.</span></span>

<a id="_Toc2_7"></a>
### <a name="renamed-remoteattribute-fields-property-to-additionalfields"></a><span data-ttu-id="5cb21-404">Переименование свойства "Fields" Ремотеаттрибуте в "Аддитионалфиелдс"</span><span class="sxs-lookup"><span data-stu-id="5cb21-404">Renamed RemoteAttribute "Fields" Property to "AdditionalFields"</span></span>

<span data-ttu-id="5cb21-405">Свойство *Fields* класса *ремотеаттрибуте* привело к путанице между пользователями.</span><span class="sxs-lookup"><span data-stu-id="5cb21-405">The *RemoteAttribute* class's *Fields* property caused some confusion among users.</span></span> <span data-ttu-id="5cb21-406">Переименование этого свойства в *аддитионалфиелдс* объясняет его намерение.</span><span class="sxs-lookup"><span data-stu-id="5cb21-406">Renaming this property to *AdditionalFields* clarifies its intent.</span></span>

<a id="_Toc2_8"></a>
### <a name="renamed-skiprequestvalidationattribute-to-allowhtmlattribute"></a><span data-ttu-id="5cb21-407">Переименование "Скипрекуествалидатионаттрибуте" в "Алловхтмлаттрибуте"</span><span class="sxs-lookup"><span data-stu-id="5cb21-407">Renamed "SkipRequestValidationAttribute" to "AllowHtmlAttribute"</span></span>

<span data-ttu-id="5cb21-408">Атрибут *скипрекуествалидатионаттрибуте* был переименован в *алловхтмлаттрибуте* , чтобы лучше представить предполагаемое использование.</span><span class="sxs-lookup"><span data-stu-id="5cb21-408">The *SkipRequestValidationAttribute* attribute was renamed to *AllowHtmlAttribute* to better represent its intended usage.</span></span>

<a id="_Toc2_9"></a>
### <a name="changed-htmlvalidationmessage-method-to-display-the-first-useful-error-message"></a><span data-ttu-id="5cb21-409">Изменен метод "HTML. Валидатионмессаже" для вывода первого полезного сообщения об ошибке</span><span class="sxs-lookup"><span data-stu-id="5cb21-409">Changed "Html.ValidationMessage" Method to Display the First Useful Error Message</span></span>

<span data-ttu-id="5cb21-410">Метод *HTML. валидатионмессаже* был исправлен для отображения первого полезного сообщения об ошибке вместо простого отображения первой ошибки.</span><span class="sxs-lookup"><span data-stu-id="5cb21-410">The *Html.ValidationMessage* method was fixed to show the first useful error message instead of simply displaying the first error.</span></span>

<span data-ttu-id="5cb21-411">Во время привязки модели словарь *ModelState* может быть заполнен из нескольких источников с сообщениями об ошибках для свойства, включая из самой модели (если она реализует *ивалидатаблеобжект*), от атрибутов проверки, примененных к свойству, и от исключений, создаваемых при доступе к свойству.</span><span class="sxs-lookup"><span data-stu-id="5cb21-411">During model binding, the *ModelState* dictionary can be populated from multiple sources with error messages about the property, including from the model itself (if it implements *IValidatableObject*), from validation attributes applied to the property, and from exceptions thrown while the property is being accessed.</span></span>

<span data-ttu-id="5cb21-412">Когда метод *HTML. валидатионмессаже* отображает сообщение проверки, он пропускает записи состояния модели, содержащие исключение, так как они обычно не предназначены для конечного пользователя.</span><span class="sxs-lookup"><span data-stu-id="5cb21-412">When the *Html.ValidationMessage* method displays a validation message, it skips model-state entries that include an exception, because these are generally not intended for the end user.</span></span> <span data-ttu-id="5cb21-413">Вместо этого метод ищет первое сообщение проверки, не связанное с исключением, и отображает это сообщение.</span><span class="sxs-lookup"><span data-stu-id="5cb21-413">Instead, the method looks for the first validation message that is not associated with an exception and displays that message.</span></span> <span data-ttu-id="5cb21-414">Если такое сообщение не найдено, по умолчанию используется общее сообщение об ошибке, связанное с первым исключением.</span><span class="sxs-lookup"><span data-stu-id="5cb21-414">If no such message is found, it defaults to a generic error message that is associated with the first exception.</span></span>

<a id="_Toc2_10"></a>
### <a name="fixed-model-declaration-to-not-add-whitespace-to-the-document"></a><span data-ttu-id="5cb21-415">Исправлено @model объявление, чтобы не добавлять пробелы в документ</span><span class="sxs-lookup"><span data-stu-id="5cb21-415">Fixed @model Declaration to not Add Whitespace to the Document</span></span>

<span data-ttu-id="5cb21-416">В более ранних выпусках объявление `@model` в верхней части представления добавило пустую строку в отображаемые выходные данные HTML.</span><span class="sxs-lookup"><span data-stu-id="5cb21-416">In earlier releases, the `@model` declaration at the top of a view added a blank line to the rendered HTML output.</span></span> <span data-ttu-id="5cb21-417">Это было исправлено, поэтому объявление не вводит пробел.</span><span class="sxs-lookup"><span data-stu-id="5cb21-417">This has been fixed so that the declaration does not introduce whitespace.</span></span>

<a id="_Toc2_11"></a>
### <a name="added-fileextensions-property-to-view-engines-to-support-engine-specific-file-names"></a><span data-ttu-id="5cb21-418">Добавлено свойство "FileExtensions" для просмотра модулей, поддерживающих имена файлов, относящиеся к подсистеме</span><span class="sxs-lookup"><span data-stu-id="5cb21-418">Added "FileExtensions" Property to View Engines to Support Engine-Specific File Names</span></span>

<span data-ttu-id="5cb21-419">Обработчик представлений может возвращать представление, используя явный путь к представлению, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="5cb21-419">A view engine can return a view using an explicit view path as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample12.cs)]

<span data-ttu-id="5cb21-420">Первый обработчик представлений всегда пытается отобразить представление.</span><span class="sxs-lookup"><span data-stu-id="5cb21-420">The first view engine always attempts to render the view.</span></span> <span data-ttu-id="5cb21-421">По умолчанию обработчик представлений веб-форм является первым обработчиком представлений. так как обработчик веб-форм не может визуализировать представление Razor, возникает ошибка.</span><span class="sxs-lookup"><span data-stu-id="5cb21-421">By default, the Web Forms view engine is the first view engine; because the Web Forms engine cannot render a Razor view, an error occurs.</span></span> <span data-ttu-id="5cb21-422">Обработчики представлений теперь имеют свойство *FileExtensions* , которое используется для указания расширений файлов, которые они поддерживают.</span><span class="sxs-lookup"><span data-stu-id="5cb21-422">View engines now have a *FileExtensions* property that is used to specify which file extensions they support.</span></span> <span data-ttu-id="5cb21-423">Это свойство проверяется, когда ASP.NET определяет, может ли обработчик представлений визуализировать файл.</span><span class="sxs-lookup"><span data-stu-id="5cb21-423">This property is checked when ASP.NET determines whether a view engine can render a file.</span></span> <span data-ttu-id="5cb21-424">Это критическое изменение, и дополнительные сведения содержатся в разделе [критические изменения](#_Toc2_BC) этого документа.</span><span class="sxs-lookup"><span data-stu-id="5cb21-424">This is a breaking change and more details are included in the [Breaking Changes](#_Toc2_BC) section of this document.</span></span>

<a id="_Toc2_12"></a>
### <a name="fixed-labelfor-helper-to-emit-the-correct-value-for-the-for-attribute"></a><span data-ttu-id="5cb21-425">Исправлена вспомогательный метод "Лабелфор" для выдачи правильного значения для атрибута "for"</span><span class="sxs-lookup"><span data-stu-id="5cb21-425">Fixed "LabelFor" Helper to Emit the Correct Value for the "For" Attribute</span></span>

<span data-ttu-id="5cb21-426">Ошибка исправлена в том месте, когда метод *лабелфор* подготовит атрибут *для* атрибута, который соответствует атрибуту *имени* элемента *ввода* , а не его идентификатору.</span><span class="sxs-lookup"><span data-stu-id="5cb21-426">A bug was fixed where the *LabelFor* method rendered a *for* attribute that matches the *input* element's *name* attribute instead of its ID.</span></span> <span data-ttu-id="5cb21-427">В соответствии с W3C атрибут *for* должен соответствовать идентификатору *входного* элемента.</span><span class="sxs-lookup"><span data-stu-id="5cb21-427">According to the W3C, the *for* attribute should match the *input* element's ID.</span></span>

<a id="_Toc2_13"></a>
### <a name="fixed-renderaction-method-to-give-explicit-values-precedence-during-model-binding"></a><span data-ttu-id="5cb21-428">Исправлен метод "RenderAction", чтобы явно задать приоритет значений во время привязки модели</span><span class="sxs-lookup"><span data-stu-id="5cb21-428">Fixed "RenderAction" Method to Give Explicit Values Precedence During Model Binding</span></span>

<span data-ttu-id="5cb21-429">В более ранних версиях явное значение, переданное в метод *RenderAction* , было пропущено в пользу значений текущих форм во время привязки модели в дочернем действии.</span><span class="sxs-lookup"><span data-stu-id="5cb21-429">In earlier versions, explicit values that were passed to the *RenderAction* method were being ignored in favor of the current form values during model binding inside a child action.</span></span> <span data-ttu-id="5cb21-430">Это исправление гарантирует, что явные значения имеют приоритет во время привязки модели.</span><span class="sxs-lookup"><span data-stu-id="5cb21-430">The fix ensures that explicit values take precedence during model binding.</span></span>

<a id="_Toc2_BC"></a>
## <a name="breaking-changes"></a><span data-ttu-id="5cb21-431">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="5cb21-431">Breaking Changes</span></span>

- <span data-ttu-id="5cb21-432">В предыдущих версиях ASP.NET MVC фильтры действий были созданы для каждого запроса, за исключением нескольких случаев.</span><span class="sxs-lookup"><span data-stu-id="5cb21-432">In previous versions of ASP.NET MVC, action filters were created per request except in a few cases.</span></span> <span data-ttu-id="5cb21-433">Такое поведение никогда не было гарантированно, но только сведения о реализации и контракт для фильтров были рассматривать их без отслеживания состояния.</span><span class="sxs-lookup"><span data-stu-id="5cb21-433">This behavior was never a guaranteed behavior but merely an implementation detail and the contract for filters was to consider them stateless.</span></span> <span data-ttu-id="5cb21-434">В ASP.NET MVC 3 фильтры кэшируются более агрессивно.</span><span class="sxs-lookup"><span data-stu-id="5cb21-434">In ASP.NET MVC 3, filters are cached more aggressively.</span></span> <span data-ttu-id="5cb21-435">Таким образом, любые фильтры настраиваемых действий, которые неправильно хранят состояние экземпляра, могут быть разорваны.</span><span class="sxs-lookup"><span data-stu-id="5cb21-435">Therefore, any custom action filters which improperly store instance state might be broken.</span></span>
- <span data-ttu-id="5cb21-436">Порядок выполнения фильтров исключений изменился для фильтров исключений с одинаковым значением *порядка* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-436">The order of execution for exception filters has changed for exception filters that have the same *Order* value.</span></span> <span data-ttu-id="5cb21-437">В ASP.NET MVC 2 и более ранних версиях фильтры исключений на контроллере, имеющие то же значение *порядка* , что и в методе действия, были выполнены до фильтров исключений для метода действия.</span><span class="sxs-lookup"><span data-stu-id="5cb21-437">In ASP.NET MVC 2 and earlier, exception filters on the controller that had the same *Order* value as those on an action method were executed before the exception filters on the action method.</span></span> <span data-ttu-id="5cb21-438">Обычно это происходит, когда фильтры исключений были применены без заданного значения *порядка* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-438">This would typically be the case when exception filters were applied without a specified *Order* value.</span></span> <span data-ttu-id="5cb21-439">В ASP.NET MVC 3 этот порядок был отменен, чтобы сначала выполнялся наиболее конкретный обработчик исключений.</span><span class="sxs-lookup"><span data-stu-id="5cb21-439">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="5cb21-440">Как и в предыдущих версиях, если свойство *Order* задано явно, фильтры выполняются в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="5cb21-440">As in earlier versions, if the *Order* property is explicitly specified, the filters are run in the specified order.</span></span>
- <span data-ttu-id="5cb21-441">В базовый класс *виртуалпаспровидервиевенгине* было добавлено новое свойство с именем *FileExtensions* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-441">A new property named *FileExtensions* was added to the *VirtualPathProviderViewEngine* base class.</span></span> <span data-ttu-id="5cb21-442">Когда ASP.NET ищет представление по пути (не по имени), учитываются только представления с расширением файла, содержащиеся в списке, указанном этим новым свойством.</span><span class="sxs-lookup"><span data-stu-id="5cb21-442">When ASP.NET looks up a view by path (not by name), only views with a file extension contained in the list specified by this new property are considered.</span></span> <span data-ttu-id="5cb21-443">Это критическое изменение в приложениях, где зарегистрирован пользовательский поставщик сборки, чтобы включить пользовательское расширение файла для представлений веб-форм и где поставщик ссылается на эти представления, используя полный путь, а не имя.</span><span class="sxs-lookup"><span data-stu-id="5cb21-443">This is a breaking change in applications where a custom build provider is registered in order to enable a custom file extension for Web Form views and where the provider references those views by using a full path rather than a name.</span></span> <span data-ttu-id="5cb21-444">Чтобы решить эту проблему, измените значение свойства *FileExtensions* , включив в него расширение пользовательского файла.</span><span class="sxs-lookup"><span data-stu-id="5cb21-444">The workaround is to modify the value of the *FileExtensions* property to include the custom file extension.</span></span>
- <span data-ttu-id="5cb21-445">Пользовательские реализации фабрики контроллеров, которые напрямую реализуют интерфейс *иконтроллерфактори* , должны предоставить реализацию нового метода *жетконтроллерсессионбехавиор* , который был добавлен в интерфейс в этом выпуске.</span><span class="sxs-lookup"><span data-stu-id="5cb21-445">Custom controller factory implementations that directly implement the *IControllerFactory* interface must provide an implementation of the new *GetControllerSessionBehavior* method that was added to the interface in this release.</span></span> <span data-ttu-id="5cb21-446">Как правило, рекомендуется не реализовывать этот интерфейс напрямую, а создавать производный класс от *дефаултконтроллерфактори*.</span><span class="sxs-lookup"><span data-stu-id="5cb21-446">In general, it is recommended that you do not implement this interface directly and instead derive your class from *DefaultControllerFactory*.</span></span>

<a id="_Toc2_KI"></a>
## <a name="known-issues"></a><span data-ttu-id="5cb21-447">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="5cb21-447">Known Issues</span></span>

- <span data-ttu-id="5cb21-448">Установщик ASP.NET MVC 3 может установить только начальную версию диспетчера пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="5cb21-448">The ASP.NET MVC 3 installer is only able to install an initial version of the NuGet package manager.</span></span> <span data-ttu-id="5cb21-449">После установки начальной версии NuGet можно установить и обновить с помощью диспетчера расширений Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5cb21-449">After you have installed the initial version, NuGet can be installed and updated using Visual Studio Extension Manager.</span></span> <span data-ttu-id="5cb21-450">Если у вас уже установлен NuGet, перейдите в коллекцию расширений Visual Studio, чтобы обновить ее до последней версии NuGet.</span><span class="sxs-lookup"><span data-stu-id="5cb21-450">If you already have NuGet installed, go to the Visual Studio Extension Gallery to update to the latest version of NuGet.</span></span>
- <span data-ttu-id="5cb21-451">Создание нового проекта ASP.NET MVC 3 в папке решения вызывает ошибку *NullReferenceException* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-451">Creating a new ASP.NET MVC 3 project within a solution folder causes a *NullReferenceException* error.</span></span> <span data-ttu-id="5cb21-452">Обходной путь состоит в том, чтобы создать проект ASP.NET MVC 3 в корне решения, а затем переместить его в папку решения.</span><span class="sxs-lookup"><span data-stu-id="5cb21-452">The workaround is to create the ASP.NET MVC 3 project in the root of the solution and then move it into the solution folder.</span></span>
- <span data-ttu-id="5cb21-453">Выполнение установщика может занять намного больше времени, чем предыдущие версии ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5cb21-453">The installer might take much longer than previous versions of ASP.NET MVC to complete.</span></span> <span data-ttu-id="5cb21-454">Это связано с тем, что обновляет компоненты Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="5cb21-454">This is because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="5cb21-455">Синтаксис IntelliSense и Razor не работает, если установлен ReSharper.</span><span class="sxs-lookup"><span data-stu-id="5cb21-455">IntelliSense for Razor syntax does not work when ReSharper is installed.</span></span> <span data-ttu-id="5cb21-456">Если вы уже установили и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3 RC2, ознакомьтесь с записью [Razor IntelliSense и четче](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хади Харири, где обсуждаются способы их совместного использования.</span><span class="sxs-lookup"><span data-stu-id="5cb21-456">If you have ReSharper installed and want to take advantage of the Razor IntelliSense support in ASP.NET MVC 3 RC2, see the entry [Razor Intellisense and ReSharper](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) on Hadi Hariri's blog, which discusses ways to use them together today.</span></span>
- <span data-ttu-id="5cb21-457">В представлениях CSHTML и VBHTML, созданных с помощью бета-версии ASP.NET MVC 3, действия сборки не заданы правильно, в результате чего эти типы представлений будут пропущены при публикации проекта.</span><span class="sxs-lookup"><span data-stu-id="5cb21-457">CSHTML and VBHTML views created with the Beta version of ASP.NET MVC 3 do not have their build action set correctly, with the result that these view types are omitted when the project is published.</span></span> <span data-ttu-id="5cb21-458">Значение *действия сборки* для этих файлов должно быть равно Content.</span><span class="sxs-lookup"><span data-stu-id="5cb21-458">The *Build Action* value for these files should be set to Content".</span></span> <span data-ttu-id="5cb21-459">ASP.NET MVC 3 RC2 устраняет эту проблему для новых файлов, но не корректирует параметр для существующих файлов проекта, созданного с помощью бета-версии.![](mvc3-release-notes/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="5cb21-459">ASP.NET MVC 3 RC2 fixes this issue for new files, but doesn't correct the setting for existing files for a project created with the Beta version.![](mvc3-release-notes/_static/image4.png)</span></span>
- <span data-ttu-id="5cb21-460">Во время установки условия лицензионного соглашения отображаются в меньшем окне, чем это требуется.</span><span class="sxs-lookup"><span data-stu-id="5cb21-460">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="5cb21-461">При редактировании представления Razor (файл. cshtml) пункт меню Перейти к контроллеру в Visual Studio будет недоступен, а фрагменты кода не будут отображаться.</span><span class="sxs-lookup"><span data-stu-id="5cb21-461">When you are editing a Razor view (.cshtml file), the Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>
- <span data-ttu-id="5cb21-462">Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютер, на котором не установлен Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-462">If you install ASP.NET MVC 3 for Visual Web Developer Express on a computer where Visual Studio is not installed, and then later install Visual Studio, you must reinstall ASP.NET MVC 3.</span></span> <span data-ttu-id="5cb21-463">Компоненты Visual Studio и Visual Web Developer Express для совместного использования, обновленные установщиком ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-463">Visual Studio and Visual Web Developer Express share components that are upgraded by the ASP.NET MVC 3 installer.</span></span> <span data-ttu-id="5cb21-464">Эта же ситуация возникает при установке ASP.NET MVC 3 для Visual Studio на компьютере, на котором не установлен Visual Web Developer Express, и последующей установке Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="5cb21-464">The same issue applies if you install ASP.NET MVC 3 for Visual Studio on a computer that does not have Visual Web Developer Express and then later install Visual Web Developer Express.</span></span>
- <span data-ttu-id="5cb21-465">При установке ASP.NET MVC 3 RC 2 не обновляется NuGet, если он уже установлен.</span><span class="sxs-lookup"><span data-stu-id="5cb21-465">Installing ASP.NET MVC 3 RC 2 does not update NuGet if you already have it installed.</span></span> <span data-ttu-id="5cb21-466">Чтобы обновить NuGet, перейдите в Диспетчер расширений Visual Studio, и он должен отобразиться как доступное обновление.</span><span class="sxs-lookup"><span data-stu-id="5cb21-466">To upgrade NuGet, go to the Visual Studio Extension manager and it should show up as an available update.</span></span> <span data-ttu-id="5cb21-467">Вы можете обновить NuGet до последнего выпуска.</span><span class="sxs-lookup"><span data-stu-id="5cb21-467">You can upgrade NuGet to the latest release from there.</span></span>

<a id="TOC_ASP_NET_3_RC"></a>
## <a name="aspnet-mvc-3-release-candidate"></a><span data-ttu-id="5cb21-468">Версия-кандидат ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="5cb21-468">ASP.NET MVC 3 Release Candidate</span></span>

<span data-ttu-id="5cb21-469">Версия-кандидат ASP.NET MVC выпущена 9 ноября 2010.</span><span class="sxs-lookup"><span data-stu-id="5cb21-469">ASP.NET MVC Release Candidate was released on November 9, 2010.</span></span>

<a id="_Toc276711785"></a>
## <a name="new-features-in-aspnet-mvc-3-rc"></a><span data-ttu-id="5cb21-470">Новые возможности в версии-КАНДИДАТе ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="5cb21-470">New Features in ASP.NET MVC 3 RC</span></span>

<span data-ttu-id="5cb21-471">В этом разделе описаны функции, которые появились в выпуске ASP.NET MVC 3 с момента выпуска бета-версии.</span><span class="sxs-lookup"><span data-stu-id="5cb21-471">This section describes features that have been introduced in the ASP.NET MVC 3 RC release since the Beta release.</span></span>

<a id="_Toc276711786"></a>
### <a name="nuget-package-manager"></a><span data-ttu-id="5cb21-472">Диспетчер пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="5cb21-472">NuGet Package Manager</span></span>

<span data-ttu-id="5cb21-473">ASP.NET MVC 3 включает диспетчер пакетов NuGet (прежнее название — Нупакк), который представляет собой интегрированное средство управления пакетами для добавления библиотек и средств в проекты Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5cb21-473">ASP.NET MVC 3 includes the NuGet Package Manager (formerly known as NuPack), which is an integrated package management tool for adding libraries and tools to Visual Studio projects.</span></span> <span data-ttu-id="5cb21-474">Это средство автоматизирует действия, выполняемые разработчиками сегодня для получения библиотеки в исходное дерево.</span><span class="sxs-lookup"><span data-stu-id="5cb21-474">This tool automates the steps that developers take today to get a library into their source tree.</span></span>

<span data-ttu-id="5cb21-475">Вы можете работать с NuGet в качестве программы командной строки, как интегрированное окно консоли в Visual Studio 2010, из контекстного меню Visual Studio и как набор командлетов PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5cb21-475">You can work with NuGet as a command-line tool, as an integrated console window inside Visual Studio 2010, from the Visual Studio context menu, and as a set of PowerShell cmdlets.</span></span>

<span data-ttu-id="5cb21-476">Дополнительные сведения о NuGet см. в [документации по NuGet](https://docs.microsoft.com/nuget/).</span><span class="sxs-lookup"><span data-stu-id="5cb21-476">For more information about NuGet, read the [Nuget Documentation](https://docs.microsoft.com/nuget/).</span></span>

<a id="_Toc276711787"></a>
### <a name="improved-new-project-dialog-box"></a><span data-ttu-id="5cb21-477">Улучшено диалоговое окно "Создание проекта"</span><span class="sxs-lookup"><span data-stu-id="5cb21-477">Improved "New Project" Dialog Box</span></span>

<span data-ttu-id="5cb21-478">При создании нового проекта диалоговое окно Новый проект теперь позволяет указать обработчик представлений, а также тип проекта ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5cb21-478">When you create a new project, the New Project dialog box now lets you specify the view engine as well as an ASP.NET MVC project type.</span></span>

![](mvc3-release-notes/_static/image5.png)

<span data-ttu-id="5cb21-479">В этом выпуске включена поддержка изменения списка шаблонов и обработчиков представлений, перечисленных в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="5cb21-479">Support for modifying the list of templates and view engines listed in the dialog box is included in this release.</span></span>

<span data-ttu-id="5cb21-480">По умолчанию используются следующие шаблоны:</span><span class="sxs-lookup"><span data-stu-id="5cb21-480">The default templates are the following:</span></span>

<span data-ttu-id="5cb21-481">Пусто.</span><span class="sxs-lookup"><span data-stu-id="5cb21-481">Empty.</span></span> <span data-ttu-id="5cb21-482">Содержит минимальный набор файлов для проекта MVC ASP.NET, включая структуру каталогов по умолчанию для проектов ASP.NET MVC, файл Site. CSS, содержащий стили по умолчанию ASP.NET MVC и каталог Scripts, который содержит файлы JavaScript по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="5cb21-482">Contains a minimal set of files for an ASP.NET MVC project, including the default directory structure for ASP.NET MVC projects, a Site.css file that contains the default ASP.NET MVC styles, and a Scripts directory that contains the default JavaScript files.</span></span>

<span data-ttu-id="5cb21-483">Интернет – приложение.</span><span class="sxs-lookup"><span data-stu-id="5cb21-483">Internet Application.</span></span> <span data-ttu-id="5cb21-484">Содержит образец функциональности, демонстрирующий использование поставщика членства с ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5cb21-484">Contains sample functionality that demonstrates how to use the membership provider with ASP.NET MVC.</span></span>

<span data-ttu-id="5cb21-485">Список шаблонов проектов, отображаемых в диалоговом окне, указывается в реестре Windows.</span><span class="sxs-lookup"><span data-stu-id="5cb21-485">The list of project templates that is displayed in the dialog box is specified in the Windows registry.</span></span>

<a id="_Toc276711788"></a>
### <a name="sessionless-controllers"></a><span data-ttu-id="5cb21-486">Контроллеры, не имеющие сеансов</span><span class="sxs-lookup"><span data-stu-id="5cb21-486">Sessionless Controllers</span></span>

<span data-ttu-id="5cb21-487">Новый *контроллерсессионстатеаттрибуте* предоставляет больший контроль над поведением состояния сеанса для контроллеров, указывая значение перечисления [System. Web. sessionState. сессионстатебехавиор](https://msdn.microsoft.com/library/system.web.sessionstate.sessionstatebehavior.aspx) .</span><span class="sxs-lookup"><span data-stu-id="5cb21-487">The new *ControllerSessionStateAttribute* gives you more control over session-state behavior for controllers by specifying a [System.Web.SessionState.SessionStateBehavior](https://msdn.microsoft.com/library/system.web.sessionstate.sessionstatebehavior.aspx) enumeration value.</span></span>

<span data-ttu-id="5cb21-488">В следующем примере показано, как отключить состояние сеанса для всех запросов к контроллеру.</span><span class="sxs-lookup"><span data-stu-id="5cb21-488">The following example shows how to turn off session state for all requests to a controller.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample13.cs)]

<span data-ttu-id="5cb21-489">В следующем примере показано, как задать состояние сеанса только для чтения для всех запросов к контроллеру.</span><span class="sxs-lookup"><span data-stu-id="5cb21-489">The following example shows how to set read-only session state for all requests to a controller.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample14.cs)]

<a id="_Toc276711789"></a>
### <a name="new-validation-attributes"></a><span data-ttu-id="5cb21-490">Новые атрибуты проверки</span><span class="sxs-lookup"><span data-stu-id="5cb21-490">New Validation Attributes</span></span>

#### <a name="compareattribute"></a><span data-ttu-id="5cb21-491">компареаттрибуте</span><span class="sxs-lookup"><span data-stu-id="5cb21-491">CompareAttribute</span></span>

<span data-ttu-id="5cb21-492">Новый атрибут проверки *компареаттрибуте* позволяет сравнивать значения двух различных свойств модели.</span><span class="sxs-lookup"><span data-stu-id="5cb21-492">The new *CompareAttribute* validation attribute lets you compare the values of two different properties of a model.</span></span> <span data-ttu-id="5cb21-493">В следующем примере свойство *компарепассворд* должно соответствовать полю *пароля* , чтобы быть допустимым.</span><span class="sxs-lookup"><span data-stu-id="5cb21-493">In the following example, the *ComparePassword* property must match the *Password* field in order to be valid.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample15.cs)]

#### <a name="remoteattribute"></a><span data-ttu-id="5cb21-494">ремотеаттрибуте</span><span class="sxs-lookup"><span data-stu-id="5cb21-494">RemoteAttribute</span></span>

<span data-ttu-id="5cb21-495">Новый атрибут проверки *ремотеаттрибуте* использует функцию удаленного проверяющего модуля проверки JQuery, которая позволяет выполнять проверку на стороне клиента для вызова метода на сервере, который выполняет реальную логику проверки.</span><span class="sxs-lookup"><span data-stu-id="5cb21-495">The new *RemoteAttribute* validation attribute takes advantage of the jQuery Validation plug-in's remote validator, which enables client-side validation to call a method on the server that performs the actual validation logic.</span></span>

<span data-ttu-id="5cb21-496">В следующем примере к свойству *username* применяется *ремотеаттрибуте* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-496">In the following example, the *UserName* property has the *RemoteAttribute* applied.</span></span> <span data-ttu-id="5cb21-497">При изменении этого свойства в представлении редактирования клиентская проверка вызывает действие с именем *усернамеаваилабле* для класса *усерсконтроллер* , чтобы проверить это поле.</span><span class="sxs-lookup"><span data-stu-id="5cb21-497">When editing this property in an Edit view, client validation will call an action named *UserNameAvailable* on the *UsersController* class in order to validate this field.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample16.cs)]

<span data-ttu-id="5cb21-498">В следующем примере показан соответствующий контроллер.</span><span class="sxs-lookup"><span data-stu-id="5cb21-498">The following example shows the corresponding controller.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample17.cs)]

<span data-ttu-id="5cb21-499">По умолчанию имя свойства, к которому применяется атрибут, отправляется в метод действия в виде параметра строки запроса.</span><span class="sxs-lookup"><span data-stu-id="5cb21-499">By default, the property name that the attribute is applied to is sent to the action method as a query-string parameter.</span></span>

<a id="_Toc276711790"></a>
### <a name="new-overloads-for-labelfor-and-labelformodel-methods"></a><span data-ttu-id="5cb21-500">Новые перегрузки для методов "Лабелфор" и "Лабелформодел"</span><span class="sxs-lookup"><span data-stu-id="5cb21-500">New Overloads for "LabelFor" and "LabelForModel" Methods</span></span>

<span data-ttu-id="5cb21-501">Для методов *лабелфор* и *лабелформодел* были добавлены новые перегрузки, позволяющие указать текст метки.</span><span class="sxs-lookup"><span data-stu-id="5cb21-501">New overloads have been added for the *LabelFor* and *LabelForModel* methods that let you specify the label text.</span></span> <span data-ttu-id="5cb21-502">В следующем примере показано, как использовать эти перегрузки.</span><span class="sxs-lookup"><span data-stu-id="5cb21-502">The following example shows how to use these overloads.</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample18.cshtml)]

<a id="_Toc276711791"></a>
### <a name="child-action-output-caching"></a><span data-ttu-id="5cb21-503">Кэширование вывода дочерних действий</span><span class="sxs-lookup"><span data-stu-id="5cb21-503">Child Action Output Caching</span></span>

<span data-ttu-id="5cb21-504">*Аутпуткачеаттрибуте* поддерживает кэширование вывода дочерних действий, которые вызываются с помощью вспомогательных методов *HTML. RenderAction* или *HTML. Action* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-504">The *OutputCacheAttribute* supports output caching of child actions that are called by using the *Html.RenderAction* or *Html.Action* helper methods.</span></span> <span data-ttu-id="5cb21-505">В следующем примере показано представление, вызывающее другое действие.</span><span class="sxs-lookup"><span data-stu-id="5cb21-505">The following example shows a view that calls another action.</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample19.cshtml)]

<span data-ttu-id="5cb21-506">Действие *GETDATE* помечается с помощью *аутпуткачеаттрибуте*:</span><span class="sxs-lookup"><span data-stu-id="5cb21-506">The *GetDate* action is annotated with the *OutputCacheAttribute*:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample20.cs)]

<span data-ttu-id="5cb21-507">При выполнении этого кода результат вызова HTML. Action ("GETDATE") кэшируется в течение 100 секунд.</span><span class="sxs-lookup"><span data-stu-id="5cb21-507">When this code runs, the result of the call to Html.Action("GetDate") is cached for 100 seconds.</span></span>

<a id="_Toc276711792"></a>
### <a name="add-view-dialog-box-improvements"></a><span data-ttu-id="5cb21-508">Улучшения диалогового окна "Добавление представления"</span><span class="sxs-lookup"><span data-stu-id="5cb21-508">"Add View" Dialog Box Improvements</span></span>

<span data-ttu-id="5cb21-509">При добавлении строго типизированного представления диалоговое окно Добавление представления фильтрует больше неприменимых типов, чем в предыдущих выпусках, таких как количество основных типов .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="5cb21-509">When you add a strongly typed view, the Add View dialog box now filters out more non-applicable types than in previous releases, such as many core .NET Framework types.</span></span> <span data-ttu-id="5cb21-510">Кроме того, список теперь сортируется по имени класса, а не по полному имени типа, что упрощает поиск типов.</span><span class="sxs-lookup"><span data-stu-id="5cb21-510">Also, the list is now sorted by the class name and not by the fully qualified type name, which makes it easier to find types.</span></span> <span data-ttu-id="5cb21-511">Например, имя типа теперь отображается, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="5cb21-511">For example, the type name is now displayed as in the following example:</span></span>

<span data-ttu-id="5cb21-512">ClassName (пространство имен)</span><span class="sxs-lookup"><span data-stu-id="5cb21-512">ClassName (namespace)</span></span>

<span data-ttu-id="5cb21-513">В более ранних выпусках это было бы показано следующим образом:</span><span class="sxs-lookup"><span data-stu-id="5cb21-513">In earlier releases, this would have been displayed as the following:</span></span>

<span data-ttu-id="5cb21-514">Namespace. ClassName</span><span class="sxs-lookup"><span data-stu-id="5cb21-514">Namespace.ClassName</span></span>

<a id="_Toc276711793"></a>
### <a name="granular-request-validation"></a><span data-ttu-id="5cb21-515">Детализированная проверка запросов</span><span class="sxs-lookup"><span data-stu-id="5cb21-515">Granular Request Validation</span></span>

<span data-ttu-id="5cb21-516">Свойство *Exclude* объекта *валидатеинпутаттрибуте* больше не существует.</span><span class="sxs-lookup"><span data-stu-id="5cb21-516">The *Exclude* property of *ValidateInputAttribute* no longer exists.</span></span> <span data-ttu-id="5cb21-517">Вместо этого, чтобы проверка запроса пропускалась для определенных свойств модели во время привязки модели, используйте новый *скипрекуествалидатионаттрибуте*.</span><span class="sxs-lookup"><span data-stu-id="5cb21-517">Instead, to have request validation skipped for specific properties of a model during model binding, use the new *SkipRequestValidationAttribute*.</span></span>

<span data-ttu-id="5cb21-518">Например, предположим, что для изменения записи блога используется метод действия:</span><span class="sxs-lookup"><span data-stu-id="5cb21-518">For example, suppose an action method is used to edit a blog post:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample21.cs)]

<span data-ttu-id="5cb21-519">В следующем примере показана модель представления для записи блога.</span><span class="sxs-lookup"><span data-stu-id="5cb21-519">The following example shows the view model for a blog post.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample22.cs)]

<span data-ttu-id="5cb21-520">Когда пользователь отправляет некоторую разметку для свойства Description, привязка модели не будет выполнена из-за проверки запроса.</span><span class="sxs-lookup"><span data-stu-id="5cb21-520">When a user submits some markup for the Description property, model binding will fail due to request validation.</span></span> <span data-ttu-id="5cb21-521">Чтобы отключить проверку запроса во время привязки модели для описания записи блога, примените *скипрекупествалидатионаттрибуте* к свойству, как показано в следующем примере:.</span><span class="sxs-lookup"><span data-stu-id="5cb21-521">To disable request validation during model binding for the blog post Description, apply the *SkipRequpestValidationAttribute* to the property, as shown in this example:.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample23.cs)]

<span data-ttu-id="5cb21-522">Кроме того, чтобы отключить проверку запросов для каждого свойства модели, примените *валидатеинпутаттрибуте* со значением *false* к методу Action:</span><span class="sxs-lookup"><span data-stu-id="5cb21-522">Alternatively, to turn off request validation for every property of the model, apply *ValidateInputAttribute* with a value of *false* to the action method:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample24.cs)]

<a id="_Toc276711794"></a>
## <a name="breaking-changes"></a><span data-ttu-id="5cb21-523">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="5cb21-523">Breaking Changes</span></span>

- <span data-ttu-id="5cb21-524">Порядок выполнения фильтров исключений изменился для фильтров исключений с одинаковым значением *порядка* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-524">The order of execution for exception filters has changed for exception filters that have the same *Order* value.</span></span> <span data-ttu-id="5cb21-525">В ASP.NET MVC 2 и более ранних версиях фильтры исключений на контроллере с таким же *порядком* , как и в методе действия, были выполнены до фильтров исключений для метода действия.</span><span class="sxs-lookup"><span data-stu-id="5cb21-525">In ASP.NET MVC 2 and earlier, exception filters on the controller that had the same *Order* as those on an action method were executed before the exception filters on the action method.</span></span> <span data-ttu-id="5cb21-526">Обычно это происходит, когда фильтры исключений были применены без заданного значения *порядка* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-526">This would typically be the case when exception filters were applied without a specified *Order* value.</span></span> <span data-ttu-id="5cb21-527">В ASP.NET MVC 3 этот порядок был отменен, чтобы сначала выполнялся наиболее конкретный обработчик исключений.</span><span class="sxs-lookup"><span data-stu-id="5cb21-527">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="5cb21-528">Как и в предыдущих версиях, если свойство *Order* задано явно, фильтры выполняются в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="5cb21-528">As in earlier versions, if the *Order* property is explicitly specified, the filters are run in the specified order.</span></span>
- <span data-ttu-id="5cb21-529">Добавлено новое свойство с именем *FileExtensions* в базовый класс *виртуалпаспровидервиевенгине* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-529">Added a new property named *FileExtensions* to the *VirtualPathProviderViewEngine* base class.</span></span> <span data-ttu-id="5cb21-530">При поиске представления по пути (а не по имени) учитывается только представление с расширением файла, содержащееся в списке, указанном этим новым свойством.</span><span class="sxs-lookup"><span data-stu-id="5cb21-530">When looking up a view by path (and not by name), only views with a file extension contained in the list specified by this new property is considered.</span></span> <span data-ttu-id="5cb21-531">Это критическое изменение для тех, кто регистрирует пользовательский поставщик сборки для включения пользовательского расширения файла для представлений веб-форм и ссылающихся на эти представления, используя полный путь, а не имя.</span><span class="sxs-lookup"><span data-stu-id="5cb21-531">This is a breaking change for those who register a custom build provider to enable a custom file extension for web form views and are referencing those views by using a full path rather than a name.</span></span> <span data-ttu-id="5cb21-532">Чтобы решить эту проблему, измените значение свойства *FileExtensions* , включив в него расширение пользовательского файла.</span><span class="sxs-lookup"><span data-stu-id="5cb21-532">The workaround is to modify the value of the *FileExtensions* property to include the custom file extension.</span></span>

<a id="_Toc276711795"></a>
## <a name="known-issues"></a><span data-ttu-id="5cb21-533">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="5cb21-533">Known Issues</span></span>

- <span data-ttu-id="5cb21-534">Выполнение установщика может занять намного больше времени, чем предыдущие версии ASP.NET MVC, поскольку оно обновляет компоненты Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="5cb21-534">The installer may take much longer than previous versions of ASP.NET MVC to complete because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="5cb21-535">Формирование шаблонов представления при выборе астронгли представлений шаблонов с типом "только запись".</span><span class="sxs-lookup"><span data-stu-id="5cb21-535">The Add View scaffolding when selecting astrongly typed view scaffolds write-only properties.</span></span> <span data-ttu-id="5cb21-536">Они всегда должны игнорироваться формированием шаблонов.</span><span class="sxs-lookup"><span data-stu-id="5cb21-536">These should always be ignored by scaffolding.</span></span> <span data-ttu-id="5cb21-537">При создании представления "Изменить" или "создать" диалоговое окно Добавить представление также формирует шаблоны только для чтения.</span><span class="sxs-lookup"><span data-stu-id="5cb21-537">The Add View dialog also scaffolds read-only properties when generating an "Edit" or "Create" view.</span></span> <span data-ttu-id="5cb21-538">Свойства только для чтения должны формироваться только для представлений отображения и списков.</span><span class="sxs-lookup"><span data-stu-id="5cb21-538">Read-only properties should only be scaffolded for the Display and List views.</span></span>
- <span data-ttu-id="5cb21-539">Отладка не работает при установке ASP.NET MVC 3 вместе с асинхронной CTP-версией.</span><span class="sxs-lookup"><span data-stu-id="5cb21-539">Debugging doesn't work when ASP.NET MVC 3 is installed alongside the Async CTP.</span></span> <span data-ttu-id="5cb21-540">ASP.NET MVC 3 нельзя установить параллельно с асинхронной CTP-версией.</span><span class="sxs-lookup"><span data-stu-id="5cb21-540">ASP.NET MVC 3 cannot be installed side-by-side with the Async CTP.</span></span> <span data-ttu-id="5cb21-541">Удалите асинхронную CTP-версию, чтобы исправить отладку.</span><span class="sxs-lookup"><span data-stu-id="5cb21-541">Uninstall the Async CTP to repair debugging.</span></span> <span data-ttu-id="5cb21-542">Дополнительные сведения см. в [этой записи блога](http://drew-prog.blogspot.com/2010/11/how-to-uninstall-microsoft-aspnet-mvc-3.html) об удалении всех частей версии-кандидата ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-542">For more details, read [this blog post](http://drew-prog.blogspot.com/2010/11/how-to-uninstall-microsoft-aspnet-mvc-3.html) about uninstalling all the pieces of ASP.NET MVC 3 RC.</span></span>
- <span data-ttu-id="5cb21-543">Функция Razor IntelliSense не работает при установке более резки.</span><span class="sxs-lookup"><span data-stu-id="5cb21-543">Razor Intellisense does not work when Resharper is installed.</span></span> <span data-ttu-id="5cb21-544">Если вы уже установили и хотите воспользоваться преимуществами поддержки Razor IntelliSense в версии-КАНДИДАТе ASP.NET MVC 3, ознакомьтесь с [этой записью блога](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) из JetBrains, в которой обсуждаются способы их совместного использования в настоящее время.</span><span class="sxs-lookup"><span data-stu-id="5cb21-544">If you have ReSharper installed and want to take advantage of the Razor intellisense support in ASP.NET MVC 3 RC, please read [this blog post](https://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) from JetBrains which discusses ways to use them together today.</span></span>
- <span data-ttu-id="5cb21-545">В представлениях CSHTML и VBHTML, созданных с помощью бета-версии ASP.NET MVC 3, нет корректного действия сборки, что не позволяет исключить их из публикации.</span><span class="sxs-lookup"><span data-stu-id="5cb21-545">CSHTML and VBHTML views created with Beta of ASP.NET MVC 3 do not have their build action correctly which omits them from publishing.</span></span> <span data-ttu-id="5cb21-546">*Действие сборки* для этих файлов должно иметь значение "Content".</span><span class="sxs-lookup"><span data-stu-id="5cb21-546">The *Build Action* for these files should be set to "Content".</span></span> <span data-ttu-id="5cb21-547">ASP.NET MVC 3 RC решает эту проблему для новых файлов, но не корректирует параметр для существующих файлов проекта, созданного с помощью бета-версии.</span><span class="sxs-lookup"><span data-stu-id="5cb21-547">ASP.NET MVC 3 RC fixes this issue for new files, but doesn't correct the setting for existing files for a project created with the Beta.</span></span>
- <span data-ttu-id="5cb21-548">Выполнение установщика может занять намного больше времени, чем предыдущие версии ASP.NET MVC, поскольку оно обновляет компоненты Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="5cb21-548">The installer may take much longer than previous versions of ASP.NET MVC to complete because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="5cb21-549">Формирование шаблонов представления при выборе шаблонов представлений со строгой типизацией "Изменить" только для чтения.</span><span class="sxs-lookup"><span data-stu-id="5cb21-549">The Add View scaffolding when selecting an "Edit" strongly typed view scaffolds read only properties.</span></span> <span data-ttu-id="5cb21-550">Аналогично, свойства только для записи обрабатываются для представлений "Отображение".</span><span class="sxs-lookup"><span data-stu-id="5cb21-550">Likewise, write-only properties are scaffolded for "Display" views.</span></span>
- <span data-ttu-id="5cb21-551">Во время установки условия лицензионного соглашения отображаются в меньшем окне, чем это требуется.</span><span class="sxs-lookup"><span data-stu-id="5cb21-551">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="5cb21-552">Установка Visual Studio Async CTP вызывает конфликт с выпуском Razor, который входит в состав установки средств ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-552">Installing the Visual Studio Async CTP causes a conflict with the Razor release that is included as part of the ASP.NET MVC 3 tooling installation.</span></span> <span data-ttu-id="5cb21-553">Убедитесь, что вы не пытаетесь установить Visual Studio Async CTP и выпуски Razor на одном компьютере.</span><span class="sxs-lookup"><span data-stu-id="5cb21-553">Make sure that you do not try to install both the Visual Studio Async CTP and the Razor release on the same machine.</span></span>
- <span data-ttu-id="5cb21-554">При редактировании представления Razor (файл. cshtml) пункт меню Перейти к контроллеру в Visual Studio будет недоступен, а фрагменты кода не будут отображаться.</span><span class="sxs-lookup"><span data-stu-id="5cb21-554">When you are editing a Razor view (.cshtml file), the Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>

<a id="TOC_ASP_NET_3_Beta"></a>
## <a name="aspnet-mvc-3-beta"></a><span data-ttu-id="5cb21-555">Бета-версия ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="5cb21-555">ASP.NET MVC 3 Beta</span></span>

<span data-ttu-id="5cb21-556">Бета-версия ASP.NET MVC 3 была выпущена 6 октября 2010 г.</span><span class="sxs-lookup"><span data-stu-id="5cb21-556">ASP.NET MVC 3 Beta was released on October 6, 2010.</span></span> <span data-ttu-id="5cb21-557">Следующие примечания относятся только к бета-версии и распространяются на любые обновления или изменения, упоминаемые в разделе ASP.NET MVC 3 Release Candidate выше.</span><span class="sxs-lookup"><span data-stu-id="5cb21-557">The following notes are specific to the Beta release, and are subject to any updates or changes referenced in the ASP.NET MVC 3 Release Candidate section above.</span></span>

## <a id="0.1__Toc274034215"></a><span data-ttu-id="5cb21-558">Новые возможности ASP.NET MVC 3 Beta</span><span class="sxs-lookup"><span data-stu-id="5cb21-558">New Featuresin ASP.NET MVC 3 Beta</span></span>

<a id="0.1__Default_validation_system"></a><span data-ttu-id="5cb21-559">В этом разделе описаны функции, которые появились в бета-версии ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="5cb21-559">This section describes features that have been introduced in the ASP.NET MVC 3 Beta release.</span></span>

### <a id="0.1__Toc274034216"></a><span data-ttu-id="5cb21-560">Диспетчер пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="5cb21-560">NuGet Package Manager</span></span>

<span data-ttu-id="5cb21-561">ASP.NET MVC 3 включает диспетчер пакетов NuGet, который представляет собой интегрированное средство управления пакетами для добавления библиотек и средств в проекты Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5cb21-561">ASP.NET MVC 3 includes NuGet Package Manager, which is an integrated package management tool for adding libraries and tools to Visual Studio projects.</span></span> <span data-ttu-id="5cb21-562">В большинстве случаев он автоматизирует действия, выполняемые разработчиками сегодня для получения библиотеки в исходное дерево.</span><span class="sxs-lookup"><span data-stu-id="5cb21-562">For the most part, it automates the steps that developers take today to get a library into their source tree.</span></span>

<span data-ttu-id="5cb21-563">Вы можете работать с NuGet в качестве средства командной строки, как интегрированное окно консоли в Visual Studio 2010, из контекстного меню Visual Studio и как набор командлетов PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5cb21-563">You can work with NuGet as a command line tool, as an integrated console window inside Visual Studio 2010, from the Visual Studio context menu, and as set of PowerShell cmdlets.</span></span>

<span data-ttu-id="5cb21-564">Дополнительные сведения о NuGet см. в [документации по NuGet](https://docs.microsoft.com/nuget/).</span><span class="sxs-lookup"><span data-stu-id="5cb21-564">For more information about NuGet, read the [NuGet Documentation](https://docs.microsoft.com/nuget/).</span></span>

### <a id="0.1__Toc274034217"></a><span data-ttu-id="5cb21-565">Диалоговое окно "Улучшенный новый проект"</span><span class="sxs-lookup"><span data-stu-id="5cb21-565">Improved New Project Dialog Box</span></span>

<span data-ttu-id="5cb21-566">При создании нового проекта диалоговое окно Новый проект теперь позволяет указать обработчик представлений, а также тип проекта ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5cb21-566">When you create a new project, the New Project dialog box now lets you specify the view engine as well as an ASP.NET MVC project type.</span></span>

![](mvc3-release-notes/_static/image6.png)

<span data-ttu-id="5cb21-567">Поддержка изменения списка шаблонов и обработчиков представлений, перечисленных в диалоговом окне, не включена в этот выпуск.</span><span class="sxs-lookup"><span data-stu-id="5cb21-567">Support for modifying the list of templates and view engines listed in the dialog box is not included in this release.</span></span>

<span data-ttu-id="5cb21-568">По умолчанию используются следующие шаблоны:</span><span class="sxs-lookup"><span data-stu-id="5cb21-568">The default templates are the following:</span></span>

<span data-ttu-id="5cb21-569">Пусто.</span><span class="sxs-lookup"><span data-stu-id="5cb21-569">Empty.</span></span> <span data-ttu-id="5cb21-570">Содержит минимальный набор файлов для проекта MVC ASP.NET, включая структуру каталогов по умолчанию для проектов ASP.NET MVC, небольшой файл Site. CSS, содержащий стили по умолчанию ASP.NET MVC и каталог Scripts, который содержит файлы JavaScript по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="5cb21-570">Contains a minimal set of files for an ASP.NET MVC project, including the default directory structure for ASP.NET MVC projects, a small Site.css file that contains the default ASP.NET MVC styles, and a Scripts directory that contains the default JavaScript files.</span></span>

<span data-ttu-id="5cb21-571">Интернет – приложение.</span><span class="sxs-lookup"><span data-stu-id="5cb21-571">Internet Application.</span></span> <span data-ttu-id="5cb21-572">Содержит образец функциональности, демонстрирующий использование поставщика членства в ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5cb21-572">Contains sample functionality that demonstrates how to use the membership provider within ASP.NET MVC.</span></span>

### <a id="0.1__Toc274034218"></a><span data-ttu-id="5cb21-573">Упрощенный способ указания строго типизированных моделей в представлениях Razor</span><span class="sxs-lookup"><span data-stu-id="5cb21-573">Simplified Way to Specify Strongly Typed Models in Razor Views</span></span>

<span data-ttu-id="5cb21-574">Способ указания типа модели для строго типизированных представлений Razor упрощен с помощью новой директивы @model для представлений CSHTML и @ModelType директивы для представлений VBHTML.</span><span class="sxs-lookup"><span data-stu-id="5cb21-574">The way to specify the model type for strongly typed Razor views has been simplified by using the new @model directive for CSHTML views and @ModelType directive for VBHTML views.</span></span> <span data-ttu-id="5cb21-575">В более ранних версиях ASP.NET MVC для представлений Razor следовало бы указать строго типизированную модель следующим образом:</span><span class="sxs-lookup"><span data-stu-id="5cb21-575">In earlier versions of ASP.NET MVC, you would specify a strongly typed model for Razor views this way:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample25.cshtml)]

<span data-ttu-id="5cb21-576">В этом выпуске можно использовать следующий синтаксис:</span><span class="sxs-lookup"><span data-stu-id="5cb21-576">In this release, you can use the following syntax:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample26.cshtml)]

### <a id="0.1__Toc274034219"></a><span data-ttu-id="5cb21-577">Поддержка новых вспомогательных методов веб-страницы ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5cb21-577">Support for New ASP.NET Web Pages Helper Methods</span></span>

<span data-ttu-id="5cb21-578">Новая технология веб-страницы ASP.NET включает набор вспомогательных методов, которые полезны для добавления часто используемых функциональных возможностей к представлениям и контроллерам.</span><span class="sxs-lookup"><span data-stu-id="5cb21-578">The new ASP.NET Web Pages technology includes a set of helper methods that are useful for adding commonly used functionality to views and controllers.</span></span> <span data-ttu-id="5cb21-579">ASP.NET MVC 3 поддерживает использование этих вспомогательных методов в контроллерах и представлениях (при необходимости).</span><span class="sxs-lookup"><span data-stu-id="5cb21-579">ASP.NET MVC 3 supports using these helper methods within controllers and views (where appropriate).</span></span> <span data-ttu-id="5cb21-580">Эти методы содержатся в сборке System. Web. Вспомогательныеs.</span><span class="sxs-lookup"><span data-stu-id="5cb21-580">These methods are contained in the System.Web.Helpers assembly.</span></span> <span data-ttu-id="5cb21-581">В следующей таблице перечислены некоторые из вспомогательных методов веб-страницы ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5cb21-581">The following table lists a few of the ASP.NET Web Pages helper methods.</span></span>

| <span data-ttu-id="5cb21-582">**Модуля**</span><span class="sxs-lookup"><span data-stu-id="5cb21-582">**Helper**</span></span> | <span data-ttu-id="5cb21-583">**Описание**</span><span class="sxs-lookup"><span data-stu-id="5cb21-583">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="5cb21-584">Диаграмма</span><span class="sxs-lookup"><span data-stu-id="5cb21-584">Chart</span></span> | <span data-ttu-id="5cb21-585">Визуализирует диаграмму в представлении.</span><span class="sxs-lookup"><span data-stu-id="5cb21-585">Renders a chart within a view.</span></span> <span data-ttu-id="5cb21-586">Содержит такие методы, как Chart. Товебимаже, Chart. Save и Chart. Write.</span><span class="sxs-lookup"><span data-stu-id="5cb21-586">Contains methods such as Chart.ToWebImage, Chart.Save, and Chart.Write.</span></span> |
| <span data-ttu-id="5cb21-587">Nудаленный</span><span class="sxs-lookup"><span data-stu-id="5cb21-587">Crypto</span></span> | <span data-ttu-id="5cb21-588">Использует алгоритмы хэширования для создания правильных и хэшированных паролей.</span><span class="sxs-lookup"><span data-stu-id="5cb21-588">Uses hashing algorithms to create properly salted and hashed passwords.</span></span> |
| <span data-ttu-id="5cb21-589">WebGrid</span><span class="sxs-lookup"><span data-stu-id="5cb21-589">WebGrid</span></span> | <span data-ttu-id="5cb21-590">Подготавливает к просмотру коллекцию объектов (обычно данных из базы данных) в виде сетки.</span><span class="sxs-lookup"><span data-stu-id="5cb21-590">Renders a collection of objects (typically, data from a database) as a grid.</span></span> <span data-ttu-id="5cb21-591">Поддерживает разбиение по страницам и сортировку.</span><span class="sxs-lookup"><span data-stu-id="5cb21-591">Supports paging and sorting.</span></span> |
| <span data-ttu-id="5cb21-592">Изображение</span><span class="sxs-lookup"><span data-stu-id="5cb21-592">WebImage</span></span> | <span data-ttu-id="5cb21-593">Визуализирует изображение.</span><span class="sxs-lookup"><span data-stu-id="5cb21-593">Renders an image.</span></span> |
| <span data-ttu-id="5cb21-594">WebMail</span><span class="sxs-lookup"><span data-stu-id="5cb21-594">WebMail</span></span> | <span data-ttu-id="5cb21-595">Отправляет сообщение электронной почты.</span><span class="sxs-lookup"><span data-stu-id="5cb21-595">Sends an email message.</span></span> |

<span data-ttu-id="5cb21-596">Краткий справочник, в котором перечислены вспомогательные методы и базовый синтаксис, доступны в составе ASP.NET синтаксис Razor документации по следующему URL-адресу:</span><span class="sxs-lookup"><span data-stu-id="5cb21-596">A quick reference topic that lists the helpers and basic syntax is available as part of the ASP.NET Razor syntax documentation at the following URL:</span></span>

[https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-api-reference](../web-pages/overview/api-reference/asp-net-web-pages-api-reference.md)

### <a id="0.1__Toc274034220"></a><span data-ttu-id="5cb21-597">Дополнительная поддержка введения зависимостей</span><span class="sxs-lookup"><span data-stu-id="5cb21-597">Additional Dependency Injection Support</span></span>

<span data-ttu-id="5cb21-598">Основываясь на выпуске ASP.NET MVC 3 Preview 1, в текущем выпуске добавлена поддержка двух новых служб и четырех существующих служб, а также улучшена поддержка разрешения зависимостей и общего указателя службы.</span><span class="sxs-lookup"><span data-stu-id="5cb21-598">Building on the ASP.NET MVC 3 Preview 1 release, the current release includes added support for two new services and four existing services, and improved support for dependency resolution and the Common Service Locator.</span></span>

#### <a name="new-icontrolleractivator-interface-for-fine-grained-controller-instantiation"></a><span data-ttu-id="5cb21-599">Новый интерфейс Иконтроллерактиватор для точного создания экземпляра контроллера</span><span class="sxs-lookup"><span data-stu-id="5cb21-599">New IControllerActivator Interface for Fine-Grained Controller Instantiation</span></span>

<span data-ttu-id="5cb21-600">Новый интерфейс Иконтроллерактиватор обеспечивает более детализированный контроль над созданием экземпляров контроллеров с помощью внедрения зависимостей.</span><span class="sxs-lookup"><span data-stu-id="5cb21-600">The new IControllerActivator interface provides more fine-grained control over how controllers are instantiated via dependency injection.</span></span> <span data-ttu-id="5cb21-601">В следующем примере показан интерфейс:</span><span class="sxs-lookup"><span data-stu-id="5cb21-601">The following example shows the interface:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample27.cs)]

<span data-ttu-id="5cb21-602">Сравните это с ролью фабрики контроллеров.</span><span class="sxs-lookup"><span data-stu-id="5cb21-602">Contrast this to the role of the controller factory.</span></span> <span data-ttu-id="5cb21-603">Фабрика контроллеров — это реализация интерфейса Иконтроллерфактори, который отвечает как за обнаружение типа контроллера, так и на экземпляре экземпляра этого типа.</span><span class="sxs-lookup"><span data-stu-id="5cb21-603">A controller factory is an implementation of the IControllerFactory interface, which is responsible both for locating a controller type and for instantiating an instance of that controller type.</span></span>

<span data-ttu-id="5cb21-604">Активаторы контроллера отвечают только за создание экземпляра типа контроллера.</span><span class="sxs-lookup"><span data-stu-id="5cb21-604">Controller activators are responsible only for instantiating an instance of a controller type.</span></span> <span data-ttu-id="5cb21-605">Они не выполняют поиск типа контроллера.</span><span class="sxs-lookup"><span data-stu-id="5cb21-605">They do not perform the controller type lookup.</span></span> <span data-ttu-id="5cb21-606">После обнаружения соответствующего типа контроллера фабрики контроллеров должны делегировать экземпляру Иконтроллерактиватор для управления фактическим созданием экземпляра контроллера.</span><span class="sxs-lookup"><span data-stu-id="5cb21-606">After locating a proper controller type, controller factories should delegate to an instance of IControllerActivator to handle the actual instantiation of the controller.</span></span>

<span data-ttu-id="5cb21-607">Класс Дефаултконтроллерфактори содержит новый конструктор, принимающий экземпляр Иконтроллерфактори.</span><span class="sxs-lookup"><span data-stu-id="5cb21-607">The DefaultControllerFactory class has a new constructor that accepts an IControllerFactory instance.</span></span> <span data-ttu-id="5cb21-608">Это позволяет применять внедрение зависимостей для управления этим аспектом создания контроллера без переопределения поведения поиска по умолчанию для типа контроллера.</span><span class="sxs-lookup"><span data-stu-id="5cb21-608">This lets you apply Dependency Injection to manage this aspect of controller creation without having to override the default controller-type lookup behavior.</span></span>

#### <a name="iservicelocator-interface-replaced-with-idependencyresolver"></a><span data-ttu-id="5cb21-609">Интерфейс Исервицелокатор заменен на IDependencyResolver</span><span class="sxs-lookup"><span data-stu-id="5cb21-609">IServiceLocator Interface Replaced with IDependencyResolver</span></span>

<span data-ttu-id="5cb21-610">Основываясь на отзывах сообщества, бета-версия ASP.NET MVC 3 заменяет использование интерфейса Исервицелокатор облегченных интерфейсом IDependencyResolver, относящимся к потребностям ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5cb21-610">Based on community feedback, the ASP.NET MVC 3 Beta release has replaced the use of the IServiceLocator interface with a slimmed-down IDependencyResolver interface specific to the needs of ASP.NET MVC.</span></span> <span data-ttu-id="5cb21-611">В следующем примере показан новый интерфейс:</span><span class="sxs-lookup"><span data-stu-id="5cb21-611">The following example shows the new interface:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample28.cs)]

<span data-ttu-id="5cb21-612">В рамках этого изменения класс Сервицелокатор был также заменен классом Депенденциресолвер.</span><span class="sxs-lookup"><span data-stu-id="5cb21-612">As part of this change, the ServiceLocator class was also replaced with the DependencyResolver class.</span></span> <span data-ttu-id="5cb21-613">Регистрация сопоставителя зависимостей аналогична более ранним версиям ASP.NET MVC:</span><span class="sxs-lookup"><span data-stu-id="5cb21-613">Registration of a dependency resolver is similar to earlier versions of ASP.NET MVC:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample29.cs)]

<span data-ttu-id="5cb21-614">Реализации этого интерфейса должны просто делегироваться базовому контейнеру внедрения зависимостей, чтобы предоставить зарегистрированную службу для запрошенного типа.</span><span class="sxs-lookup"><span data-stu-id="5cb21-614">Implementations of this interface should simply delegate to the underlying dependency injection container to provide the registered service for the requested type.</span></span>

<span data-ttu-id="5cb21-615">Если нет зарегистрированных служб запрошенного типа, ASP.NET MVC предписывает реализации этого интерфейса, возвращающие NULL из службы и возвращающие пустую коллекцию из служб.</span><span class="sxs-lookup"><span data-stu-id="5cb21-615">When there are no registered services of the requested type, ASP.NET MVC expects implementations of this interface to return null from GetService and to return an empty collection from GetServices.</span></span>

<span data-ttu-id="5cb21-616">Новый класс Депенденциресолвер позволяет регистрировать классы, реализующие новый интерфейс IDependencyResolver или общий интерфейс локатора службы (Исервицелокатор).</span><span class="sxs-lookup"><span data-stu-id="5cb21-616">The new DependencyResolver class lets you register classes that implement either the new IDependencyResolver interface or the Common Service Locator interface (IServiceLocator).</span></span> <span data-ttu-id="5cb21-617">Дополнительные сведения об Локаторе общих служб см. [в разделе коммонсервицелокатор на GitHub](https://github.com/unitycontainer/commonservicelocator).</span><span class="sxs-lookup"><span data-stu-id="5cb21-617">For more information about Common Service Locator, see [CommonServiceLocator on GitHub](https://github.com/unitycontainer/commonservicelocator).</span></span>

<a id="0.1__Breaking_Changes"></a>

#### <a name="new-iviewactivator-interface-for-fine-grained-view-page-instantiation"></a><span data-ttu-id="5cb21-618">Новый интерфейс Ивиевактиватор для точного создания экземпляра страницы представления</span><span class="sxs-lookup"><span data-stu-id="5cb21-618">New IViewActivator Interface for Fine-Grained View Page Instantiation</span></span>

<span data-ttu-id="5cb21-619">Новый интерфейс Ивиевпажеактиватор обеспечивает более детализированный контроль над созданием экземпляров страниц представления с помощью внедрения зависимостей.</span><span class="sxs-lookup"><span data-stu-id="5cb21-619">The new IViewPageActivator interface provides more fine-grained control over how view pages are instantiated via dependency injection.</span></span> <span data-ttu-id="5cb21-620">Это относится к экземплярам Разорвиев и экземплярам объектов FormView.</span><span class="sxs-lookup"><span data-stu-id="5cb21-620">This applies to both WebFormView instances and RazorView instances.</span></span> <span data-ttu-id="5cb21-621">В следующем примере показан новый интерфейс:</span><span class="sxs-lookup"><span data-stu-id="5cb21-621">The following example shows the new interface:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample30.cs)]

<span data-ttu-id="5cb21-622">Теперь эти классы принимают аргумент конструктора Ивиевпажеактиватор, который позволяет использовать внедрение зависимостей для управления созданием экземпляров типов СтраницаПредставления, Виевусерконтрол и Вебвиевпаже.</span><span class="sxs-lookup"><span data-stu-id="5cb21-622">These classes now accept an IViewPageActivator constructor argument, which lets you use dependency injection to control how the ViewPage, ViewUserControl, and WebViewPage types are instantiated.</span></span>

#### <a name="new-dependency-resolver-support-for-existing-services"></a><span data-ttu-id="5cb21-623">Поддержка нового сопоставителя зависимостей для существующих служб</span><span class="sxs-lookup"><span data-stu-id="5cb21-623">New Dependency Resolver Support for Existing Services</span></span>

<span data-ttu-id="5cb21-624">Новый выпуск включает в себя поддержку разрешения зависимостей для следующих служб:</span><span class="sxs-lookup"><span data-stu-id="5cb21-624">The new release includes dependency resolution support for the following services:</span></span>

- <span data-ttu-id="5cb21-625">Поставщики проверки модели.</span><span class="sxs-lookup"><span data-stu-id="5cb21-625">Model validation providers.</span></span> <span data-ttu-id="5cb21-626">Классы, реализующие Моделвалидаторпровидер, можно зарегистрировать в сопоставителе зависимостей, и система будет использовать их для поддержки проверки на стороне клиента и сервера.</span><span class="sxs-lookup"><span data-stu-id="5cb21-626">Classes that implement ModelValidatorProvider can be registered in the dependency resolver, and the system will use them to support client- and server-side validation.</span></span>
- <span data-ttu-id="5cb21-627">Поставщик метаданных модели.</span><span class="sxs-lookup"><span data-stu-id="5cb21-627">Model metadata provider.</span></span> <span data-ttu-id="5cb21-628">Один класс, реализующий Моделметадатапровидер, можно зарегистрировать в сопоставителе зависимостей, и система будет использовать ее для предоставления метаданных для систем шаблонов и проверки.</span><span class="sxs-lookup"><span data-stu-id="5cb21-628">A single class that implements ModelMetadataProvider can be registered in the dependency resolver, and the system will use it to provide metadata for the templating and validation systems.</span></span>
- <span data-ttu-id="5cb21-629">Поставщики значений.</span><span class="sxs-lookup"><span data-stu-id="5cb21-629">Value providers.</span></span> <span data-ttu-id="5cb21-630">Классы, реализующие Валуепровидерфактори, могут быть зарегистрированы в сопоставителе зависимостей, и система будет использовать их для создания поставщиков значений, используемых контроллером и при привязке модели.</span><span class="sxs-lookup"><span data-stu-id="5cb21-630">Classes that implement ValueProviderFactory can be registered in the dependency resolver, and the system will use them to create value providers that are consumed by the controller and during model binding.</span></span>
- <span data-ttu-id="5cb21-631">Связыватели моделей.</span><span class="sxs-lookup"><span data-stu-id="5cb21-631">Model binders.</span></span> <span data-ttu-id="5cb21-632">Классы, реализующие Имоделбиндерпровидер, могут быть зарегистрированы в сопоставителе зависимостей, и система будет использовать их для создания привязок моделей, используемых системой привязки модели.</span><span class="sxs-lookup"><span data-stu-id="5cb21-632">Classes that implement IModelBinderProvider can be registered in the dependency resolver, and the system will use them to create model binders that are consumed by the model binding system.</span></span>

### <a id="0.1__Toc274034221"></a><span data-ttu-id="5cb21-633">Новая поддержка для ненавязчивой технологии AJAX на основе jQuery</span><span class="sxs-lookup"><span data-stu-id="5cb21-633">New Support for Unobtrusive jQuery-Based Ajax</span></span>

<span data-ttu-id="5cb21-634">ASP.NET MVC включает вспомогательные методы AJAX, например следующие:</span><span class="sxs-lookup"><span data-stu-id="5cb21-634">ASP.NET MVC includes Ajax helper methods such as the following:</span></span>

- <span data-ttu-id="5cb21-635">AJAX. ActionLink</span><span class="sxs-lookup"><span data-stu-id="5cb21-635">Ajax.ActionLink</span></span>
- <span data-ttu-id="5cb21-636">AJAX. Раутелинк</span><span class="sxs-lookup"><span data-stu-id="5cb21-636">Ajax.RouteLink</span></span>
- <span data-ttu-id="5cb21-637">AJAX. Бегинформ</span><span class="sxs-lookup"><span data-stu-id="5cb21-637">Ajax.BeginForm</span></span>
- <span data-ttu-id="5cb21-638">AJAX. Бегинраутеформ</span><span class="sxs-lookup"><span data-stu-id="5cb21-638">Ajax.BeginRouteForm</span></span>

<span data-ttu-id="5cb21-639">Эти методы используют JavaScript для вызова метода действия на сервере, а не для использования полной обратной передачи.</span><span class="sxs-lookup"><span data-stu-id="5cb21-639">These methods use JavaScript to invoke an action method on the server rather than using a full postback.</span></span> <span data-ttu-id="5cb21-640">Эта функция была обновлена для ненавязчивого использования jQuery.</span><span class="sxs-lookup"><span data-stu-id="5cb21-640">This functionality has been updated to take advantage of jQuery in an unobtrusive manner.</span></span> <span data-ttu-id="5cb21-641">Вместо того, чтобы создавать встроенные клиентские скрипты, эти вспомогательные методы разделяют поведение разметки путем передачи атрибутов HTML5 с помощью префикса *AJAX для данных* .</span><span class="sxs-lookup"><span data-stu-id="5cb21-641">Rather than intrusively emitting inline client scripts, these helper methods separate the behavior from the markup by emitting HTML5 attributes using the *data-ajax* prefix.</span></span> <span data-ttu-id="5cb21-642">Затем поведение применяется к разметке путем ссылки на соответствующие файлы JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5cb21-642">Behavior is then applied to the markup by referencing the appropriate JavaScript files.</span></span> <span data-ttu-id="5cb21-643">Убедитесь, что имеются ссылки на следующие файлы JavaScript:</span><span class="sxs-lookup"><span data-stu-id="5cb21-643">Make sure that the following JavaScript files are referenced:</span></span>

- <span data-ttu-id="5cb21-644">жкуери-1.4.1. js</span><span class="sxs-lookup"><span data-stu-id="5cb21-644">jquery-1.4.1.js</span></span>
- <span data-ttu-id="5cb21-645">jQuery. ненавязчивое. AJAX. js</span><span class="sxs-lookup"><span data-stu-id="5cb21-645">jquery.unobtrusive.ajax.js</span></span>

<span data-ttu-id="5cb21-646">Эта функция включена по умолчанию в файле Web. config в шаблонах новых проектов ASP.NET MVC 3, но по умолчанию отключена для существующих проектов.</span><span class="sxs-lookup"><span data-stu-id="5cb21-646">This feature is enabled by default in the Web.config file in the ASP.NET MVC 3 new project templates, but is disabled by default for existing projects.</span></span> <span data-ttu-id="5cb21-647">Дополнительные сведения см. в разделе [добавлены флаги уровня приложения для проверки клиента и ненавязчивый JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) далее в этом документе.</span><span class="sxs-lookup"><span data-stu-id="5cb21-647">For more information, see [Added application-wide flags for client validation and unobtrusive JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) later in this document.</span></span>

### <a id="0.1__Toc274034222"></a><span data-ttu-id="5cb21-648">Новая поддержка ненавязчивой проверки jQuery</span><span class="sxs-lookup"><span data-stu-id="5cb21-648">New Support for Unobtrusive jQuery Validation</span></span>

<span data-ttu-id="5cb21-649">По умолчанию ASP.NET MVC 3 Beta использует проверку jQuery ненавязчивым образом для выполнения проверки на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="5cb21-649">By default, ASP.NET MVC 3 Beta uses jQuery validation in an unobtrusive manner in order to perform client-side validation.</span></span> <span data-ttu-id="5cb21-650">Чтобы включить ненавязчивую проверку клиента, выполните в представлении вызов, подобный следующему:</span><span class="sxs-lookup"><span data-stu-id="5cb21-650">To enable unobtrusive client validation, make a call like the following from within a view:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample31.cs)]

<span data-ttu-id="5cb21-651">Для этого необходимо, чтобы свойство Виевконтекст. Унобтрусивежаваскриптенаблед было установлено в значение true, что можно сделать, выполнив следующий вызов:</span><span class="sxs-lookup"><span data-stu-id="5cb21-651">This requires that ViewContext.UnobtrusiveJavaScriptEnabled property is set to true, which you can do by making the following call:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample32.cs)]

<span data-ttu-id="5cb21-652">Также убедитесь, что имеются ссылки на следующие файлы JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5cb21-652">Also make sure the following JavaScript files are referenced.</span></span>

- <span data-ttu-id="5cb21-653">жкуери-1.4.1. js</span><span class="sxs-lookup"><span data-stu-id="5cb21-653">jquery-1.4.1.js</span></span>
- <span data-ttu-id="5cb21-654">jQuery. Validate. js</span><span class="sxs-lookup"><span data-stu-id="5cb21-654">jquery.validate.js</span></span>
- <span data-ttu-id="5cb21-655">jQuery. Validate. ненавязчивое. js</span><span class="sxs-lookup"><span data-stu-id="5cb21-655">jquery.validate.unobtrusive.js</span></span>

<span data-ttu-id="5cb21-656">Эта функция включена по умолчанию в файле Web. config в шаблонах новых проектов ASP.NET MVC 3, но по умолчанию для существующих проектов отключено.</span><span class="sxs-lookup"><span data-stu-id="5cb21-656">This feature is enabled on by default in the Web.config file in the ASP.NET MVC 3 new project templates, but is disabled by default for existing projects.</span></span> <span data-ttu-id="5cb21-657">Дополнительные сведения см. в разделе [новые флаги уровня приложения для проверки клиента и ненавязчивый JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) далее в этом документе.</span><span class="sxs-lookup"><span data-stu-id="5cb21-657">For more information, see [New application-wide flags for client validation and unobtrusive JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) later in this document.</span></span>

<a id="0.1__Toc274034223"></a>

### <a id="0.1_AddedApplicationWideFlagsForClientValida"></a><span data-ttu-id="5cb21-658">Новые флаги на уровне приложения для проверки клиента и ненавязчивого JavaScript</span><span class="sxs-lookup"><span data-stu-id="5cb21-658">New Application-Wide Flags for Client Validation and Unobtrusive JavaScript</span></span>

<span data-ttu-id="5cb21-659">Вы можете включить или отключить проверку клиента и ненавязчивый JavaScript глобально, используя статические члены класса HtmlHelper, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="5cb21-659">You can enable or disable client validation and unobtrusive JavaScript globally using static members of the HtmlHelper class, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample33.cs)]

<span data-ttu-id="5cb21-660">Шаблоны проектов по умолчанию по умолчанию позволяют использовать ненавязчивый JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5cb21-660">The default project templates enable unobtrusive JavaScript by default.</span></span> <span data-ttu-id="5cb21-661">Вы также можете включить или отключить эти функции в корневом файле Web. config приложения, используя следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="5cb21-661">You can also enable or disable these features in the root Web.config file of your application using the following settings:</span></span>

[!code-xml[Main](mvc3-release-notes/samples/sample34.xml)]

<span data-ttu-id="5cb21-662">Поскольку эти функции можно включить по умолчанию, в класс HtmlHelper появились новые перегрузки, позволяющие переопределить параметры по умолчанию, как показано в следующих примерах.</span><span class="sxs-lookup"><span data-stu-id="5cb21-662">Because you can enable these features by default, new overloads were introduced to the HtmlHelper class that let you override the default settings, as shown in the following examples:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample35.cs)]

<span data-ttu-id="5cb21-663">Для обеспечения обратной совместимости обе эти функции по умолчанию отключены.</span><span class="sxs-lookup"><span data-stu-id="5cb21-663">For backward compatibility, both of these features are disabled by default.</span></span>

### <a id="0.1__Toc274034224"></a><span data-ttu-id="5cb21-664">Новая поддержка кода, выполняемого перед выполнением представлений</span><span class="sxs-lookup"><span data-stu-id="5cb21-664">New Support for Code that Runs Before Views Run</span></span>

<span data-ttu-id="5cb21-665">Теперь можно поместить файл с именем \_виевстарт. cshtml (или \_виевстарт. vbhtml) в каталог views и добавить в него код, который будет совместно использоваться несколькими представлениями в этом каталоге и его подкаталогах.</span><span class="sxs-lookup"><span data-stu-id="5cb21-665">You can now put a file named \_viewstart.cshtml (or \_viewstart.vbhtml) in the Views directory and add code to it that will be shared among multiple views in that directory and its subdirectories.</span></span> <span data-ttu-id="5cb21-666">Например, следующий код можно разместить на странице \_виевстарт. cshtml в папке ~/views:</span><span class="sxs-lookup"><span data-stu-id="5cb21-666">For example, you might put the following code into the \_viewstart.cshtml page in the ~/Views folder:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample36.cshtml)]

<span data-ttu-id="5cb21-667">Таким путем рекурсивно устанавливается страница макета для каждого представления в папке Views и всех вложенных в нее папок.</span><span class="sxs-lookup"><span data-stu-id="5cb21-667">This sets the layout page for every view within the Views folder and all its subfolders recursively.</span></span> <span data-ttu-id="5cb21-668">Когда представление готовится к просмотру, код в файле \_виевстарт. cshtml выполняется перед выполнением кода представления.</span><span class="sxs-lookup"><span data-stu-id="5cb21-668">When a view is being rendered, the code in the \_viewstart.cshtml file runs before the view code runs.</span></span> <span data-ttu-id="5cb21-669">Код \_виевстарт. cshtml применяется ко всем представлениям в этой папке.</span><span class="sxs-lookup"><span data-stu-id="5cb21-669">The \_viewstart.cshtml code applies to every view in that folder.</span></span>

<span data-ttu-id="5cb21-670">По умолчанию код в файле \_виевстарт. cshtml также применяется к представлениям во всех вложенных папках.</span><span class="sxs-lookup"><span data-stu-id="5cb21-670">By default, the code in the \_viewstart.cshtml file also applies to views in any subfolder.</span></span> <span data-ttu-id="5cb21-671">Однако отдельные вложенные папки могут иметь собственную версию файла \_виевстарт. cshtml; в этом случае приоритет имеет локальную версию.</span><span class="sxs-lookup"><span data-stu-id="5cb21-671">However, individual subfolders can have their own version of the \_viewstart.cshtml file; in that case, the local version takes precedence.</span></span> <span data-ttu-id="5cb21-672">Например, чтобы выполнить код, который является общим для всех представлений HomeController, вставьте файл \_виевстарт. cshtml в папку ~/Виевс/Хоме.</span><span class="sxs-lookup"><span data-stu-id="5cb21-672">For example, to run code that is common to all views for the HomeController, put a \_viewstart.cshtml file in the ~/Views/Home folder.</span></span>

### <a id="0.1__Toc274034225"></a><span data-ttu-id="5cb21-673">Новая поддержка синтаксиса для VBHTML Razor</span><span class="sxs-lookup"><span data-stu-id="5cb21-673">New Support for the VBHTML Razor Syntax</span></span>

<span data-ttu-id="5cb21-674">Предыдущая Предварительная версия ASP.NET MVC включала поддержку представлений C#, использующих синтаксис Razor на основе.</span><span class="sxs-lookup"><span data-stu-id="5cb21-674">The previous ASP.NET MVC preview included support for views using Razor syntax based on C#.</span></span> <span data-ttu-id="5cb21-675">В этих представлениях используется расширение файла. cshtml.</span><span class="sxs-lookup"><span data-stu-id="5cb21-675">These views use the .cshtml file extension.</span></span> <span data-ttu-id="5cb21-676">В рамках текущей работы для поддержки Razor бета-версия ASP.NET MVC 3 предоставляет поддержку синтаксис Razor в Visual Basic, которая использует файл с расширением. VBHTML.</span><span class="sxs-lookup"><span data-stu-id="5cb21-676">As part of ongoing work to support Razor, the ASP.NET MVC 3 Beta introduces support for the Razor syntax in Visual Basic, which uses the .vbhtml file extension.</span></span>

<span data-ttu-id="5cb21-677">Общие сведения об использовании синтаксиса Visual Basic на страницах VBHTML см. в руководстве по следующему URL-адресу:</span><span class="sxs-lookup"><span data-stu-id="5cb21-677">For an introduction to using Visual Basic syntax in VBHTML pages, see the tutorial at the following URL:</span></span>

[https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-visual-basic](../web-pages/overview/getting-started/introducing-razor-syntax-vb.md)

### <a id="0.1__Toc274034226"></a><span data-ttu-id="5cb21-678">Более детализированный контроль над Валидатеинпутаттрибуте</span><span class="sxs-lookup"><span data-stu-id="5cb21-678">More Granular Control over ValidateInputAttribute</span></span>

<span data-ttu-id="5cb21-679">В ASP.NET MVC всегда включен класс Валидатеинпутаттрибуте, который вызывает базовую инфраструктуру проверки запросов ASP.NET, чтобы убедиться, что входящий запрос не содержит потенциально вредоносных входных данных.</span><span class="sxs-lookup"><span data-stu-id="5cb21-679">ASP.NET MVC has always included the ValidateInputAttribute class, which invokes the core ASP.NET request validation infrastructure to make sure that the incoming request does not contain potentially malicious input.</span></span> <span data-ttu-id="5cb21-680">По умолчанию проверка входных данных включена.</span><span class="sxs-lookup"><span data-stu-id="5cb21-680">By default, input validation is enabled.</span></span> <span data-ttu-id="5cb21-681">Проверку запросов можно отключить с помощью атрибута Валидатеинпутаттрибуте, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="5cb21-681">It is possible to disable request validation by using the ValidateInputAttribute attribute, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample37.cs)]

<span data-ttu-id="5cb21-682">Однако многие веб-приложения имеют отдельные поля формы, которые должны разрешать HTML, а оставшиеся поля — нет.</span><span class="sxs-lookup"><span data-stu-id="5cb21-682">However, many web applications have individual form fields that need to allow HTML, while the remaining fields should not.</span></span> <span data-ttu-id="5cb21-683">Класс Валидатеинпутаттрибуте теперь позволяет указать список полей, которые не должны включаться в проверку запроса.</span><span class="sxs-lookup"><span data-stu-id="5cb21-683">The ValidateInputAttribute class now lets you specify a list of fields that should not be included in request validation.</span></span>

<span data-ttu-id="5cb21-684">Например, при разработке подсистемы блогов может потребоваться разрешить разметку в полях Body и Summary.</span><span class="sxs-lookup"><span data-stu-id="5cb21-684">For example, if you are developing a blog engine, you might want to allow markup in the Body and Summary fields.</span></span> <span data-ttu-id="5cb21-685">Эти поля могут быть представлены двумя элементами ввода, каждый из которых имеет атрибут Name, соответствующий имени свойства ("Body" и "Summary").</span><span class="sxs-lookup"><span data-stu-id="5cb21-685">These fields might be represented by two input element, each with a name attribute corresponding to the property name ("Body" and "Summary").</span></span> <span data-ttu-id="5cb21-686">Чтобы отключить проверку запросов для этих полей, укажите имена (разделенные запятыми) в свойстве Exclude класса ValidateInput, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="5cb21-686">To disable request validation for these fields only, specify the names (comma-separated) in the Exclude property of the ValidateInput class, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample38.cs)]

### <a id="0.1__Toc274034227"></a><span data-ttu-id="5cb21-687">Вспомогательные индексы преобразуют знаки подчеркивания в дефисы для имен атрибутов HTML, заданных с помощью анонимных объектов</span><span class="sxs-lookup"><span data-stu-id="5cb21-687">Helpers Convert Underscores to Hyphens for HTML Attribute Names Specified Using Anonymous Objects</span></span>

<span data-ttu-id="5cb21-688">Вспомогательные методы позволяют указать пары "имя-значение" атрибута с помощью анонимного объекта, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="5cb21-688">Helper methods let you specify attribute name/value pairs using an anonymous object, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample39.cs)]

<span data-ttu-id="5cb21-689">Такой подход не позволяет использовать дефисы в имени атрибута, так как дефис не может использоваться для имени свойства в ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5cb21-689">This approach doesn't let you use hyphens in the attribute name, because a hyphen cannot be used for a property name in ASP.NET.</span></span> <span data-ttu-id="5cb21-690">Однако для пользовательских атрибутов HTML5 важны дефисы. Например, в HTML5 используется префикс "Data-".</span><span class="sxs-lookup"><span data-stu-id="5cb21-690">However, hyphens are important for custom HTML5 attributes; for example, HTML5 uses the "data-" prefix.</span></span>

<span data-ttu-id="5cb21-691">В то же время символы подчеркивания нельзя использовать для имен атрибутов в HTML, но являются допустимыми в именах свойств.</span><span class="sxs-lookup"><span data-stu-id="5cb21-691">At the same time, underscores cannot be used for attribute names in HTML, but are valid within property names.</span></span> <span data-ttu-id="5cb21-692">Поэтому при указании атрибутов с помощью анонимного объекта, а также если имена атрибутов содержат символ подчеркивания, вспомогательные методы преобразуют символы подчеркивания в дефисы.</span><span class="sxs-lookup"><span data-stu-id="5cb21-692">Therefore, if you specify attributes using an anonymous object, and if the attribute names include an underscore,, helper methods will convert the underscores to hyphens.</span></span> <span data-ttu-id="5cb21-693">Например, следующий вспомогательный синтаксис использует символ подчеркивания:</span><span class="sxs-lookup"><span data-stu-id="5cb21-693">For example, the following helper syntax uses an underscore:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample40.cs)]

<span data-ttu-id="5cb21-694">В предыдущем примере отображается следующая разметка при запуске вспомогательного метода:</span><span class="sxs-lookup"><span data-stu-id="5cb21-694">The previous example renders the following markup when the helper runs:</span></span>

[!code-html[Main](mvc3-release-notes/samples/sample41.html)]

## <a id="0.1__Toc274034228"></a><span data-ttu-id="5cb21-695">Исправления ошибок</span><span class="sxs-lookup"><span data-stu-id="5cb21-695">Bug Fixes</span></span>

<span data-ttu-id="5cb21-696">Шаблон объекта по умолчанию для вспомогательных функций шаблонов Едиторфор и DisplayFor теперь поддерживает порядок, указанный в свойстве Дисплайаттрибуте. Order.</span><span class="sxs-lookup"><span data-stu-id="5cb21-696">The default object template for the EditorFor and DisplayFor template helpers now supports the ordering specified in the DisplayAttribute.Order property.</span></span> <span data-ttu-id="5cb21-697">(В предыдущих версиях Настройка порядка не использовалась.)</span><span class="sxs-lookup"><span data-stu-id="5cb21-697">(In previous versions, the Order setting was not used.)</span></span>

<span data-ttu-id="5cb21-698">Проверка клиента теперь поддерживает проверку переопределенных свойств, к которым применены атрибуты проверки.</span><span class="sxs-lookup"><span data-stu-id="5cb21-698">Client validation now supports validation of overridden properties that have validation attributes applied.</span></span>

<span data-ttu-id="5cb21-699">Жсонвалуепровидерфактори теперь зарегистрирован по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="5cb21-699">JsonValueProviderFactory is now registered by default.</span></span>

## <a id="0.1__Toc274034229"></a><span data-ttu-id="5cb21-700">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="5cb21-700">Breaking Changes</span></span>

<span data-ttu-id="5cb21-701">Порядок выполнения фильтров исключений изменился для фильтров исключений с одинаковым значением порядка.</span><span class="sxs-lookup"><span data-stu-id="5cb21-701">The order of execution for exception filters has changed for exception filters that have the same Order value.</span></span> <span data-ttu-id="5cb21-702">В ASP.NET MVC 2 и более ранних версиях фильтры исключений на контроллере с тем же порядком, что и в методе действия, были выполнены до фильтров исключений для метода действия.</span><span class="sxs-lookup"><span data-stu-id="5cb21-702">In ASP.NET MVC 2 and earlier, exception filters on the controller with the same Order as those on an action method were executed before the exception filters on the action method.</span></span> <span data-ttu-id="5cb21-703">Обычно это происходит, когда фильтры исключений были применены без заданного значения порядка.</span><span class="sxs-lookup"><span data-stu-id="5cb21-703">This would typically be the case when exception filters were applied without a specified Order value.</span></span> <span data-ttu-id="5cb21-704">В ASP.NET MVC 3 этот порядок был отменен, чтобы сначала выполнялся наиболее конкретный обработчик исключений.</span><span class="sxs-lookup"><span data-stu-id="5cb21-704">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="5cb21-705">Как и в предыдущих версиях, если свойство Order задано явно, фильтры выполняются в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="5cb21-705">As in earlier versions, if the Order property is explicitly specified, the filters are run in the specified order.</span></span>

## <a id="0.1__Toc274034230"></a><span data-ttu-id="5cb21-706">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="5cb21-706">Known Issues</span></span>

<span data-ttu-id="5cb21-707">Во время установки условия лицензионного соглашения отображаются в меньшем окне, чем это требуется.</span><span class="sxs-lookup"><span data-stu-id="5cb21-707">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>

<span data-ttu-id="5cb21-708">В представлениях Razor не поддерживается поддержка IntelliSense и выделение синтаксиса.</span><span class="sxs-lookup"><span data-stu-id="5cb21-708">Razor views do not have IntelliSense support nor syntax highlighting.</span></span> <span data-ttu-id="5cb21-709">Предполагается, что поддержка синтаксис Razor в Visual Studio будет включена в состав более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="5cb21-709">It is anticipated that support for Razor syntax in Visual Studio will be included as part of a later release.</span></span>

<span data-ttu-id="5cb21-710">При редактировании представления Razor (файл CSHTML) <a id="0.1__Toc224729061"></a> <a id="0.1__Toc238051347"></a> пункт меню Перейти к контроллеру в Visual Studio будет недоступен, а фрагменты кода не будут отображаться.</span><span class="sxs-lookup"><span data-stu-id="5cb21-710">When you are editing a Razor view (CSHTML file), the <a id="0.1__Toc224729061"></a><a id="0.1__Toc238051347"></a> Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>

<span data-ttu-id="5cb21-711">При использовании синтаксиса @model для указания строго типизированного представления CSHTML, сочетания, зависящие от языка, для типов не распознаются.</span><span class="sxs-lookup"><span data-stu-id="5cb21-711">When using the @model syntax to specify a strongly typed CSHTML view, language-specific shortcuts for types are not recognized.</span></span> <span data-ttu-id="5cb21-712">Например, @model int не будет работать, но @model Int32 будет работать.</span><span class="sxs-lookup"><span data-stu-id="5cb21-712">For example, @model int will not work, but @model Int32 will work.</span></span> <span data-ttu-id="5cb21-713">Обходной путь для этой ошибки заключается в использовании фактического имени типа при указании типа модели.</span><span class="sxs-lookup"><span data-stu-id="5cb21-713">The workaround for this bug is to use the actual type name when you specify the model type.</span></span>

<span data-ttu-id="5cb21-714">При использовании синтаксиса @model для указания строго типизированного представления CSHTML (или @ModelType для указания строго типизированного представления в формате VBHTML) типы, допускающие значение null, и объявления массивов не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="5cb21-714">When using the @model syntax to specify a strongly typed CSHTML view (or @ModelType to specify a strongly typed VBHTML view), nullable types and array declarations are not supported.</span></span> <span data-ttu-id="5cb21-715">Например, @model int? не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="5cb21-715">For example, @model int? is not supported.</span></span> <span data-ttu-id="5cb21-716">Вместо этого используйте `@model Nullable<Int32>`.</span><span class="sxs-lookup"><span data-stu-id="5cb21-716">Instead, use `@model Nullable<Int32>`.</span></span> <span data-ttu-id="5cb21-717">Синтаксис @model String [] также не поддерживается; Вместо этого используйте `@model IList<string>`.</span><span class="sxs-lookup"><span data-stu-id="5cb21-717">The syntax @model string[] is also not supported; instead, use `@model IList<string>`.</span></span>

<span data-ttu-id="5cb21-718">При обновлении проекта ASP.NET MVC 2 до ASP.NET MVC 3 Убедитесь, что в раздел appSettings файла Web. config добавлены следующие файлы:</span><span class="sxs-lookup"><span data-stu-id="5cb21-718">When you upgrade an ASP.NET MVC 2 project to ASP.NET MVC 3, make sure to add the following to the appSettings section of the Web.config file:</span></span>

[!code-xml[Main](mvc3-release-notes/samples/sample42.xml)]

<span data-ttu-id="5cb21-719">Существует известная ситуация, из-за которой проверка подлинности с помощью форм всегда перенаправляет пользователей без проверки подлинности в ~/аккаунт/логин, игнорируя параметр проверки подлинности с помощью форм, используемый в файле Web. config Чтобы устранить эту проблему, добавьте следующий параметр приложения.</span><span class="sxs-lookup"><span data-stu-id="5cb21-719">There's a known issue that causes Forms Authentication to always redirect unauthenticated users to ~/Account/Login, ignoring the forms authentication setting used in Web.config. The workaround is to add the following app setting.</span></span>

[!code-xml[Main](mvc3-release-notes/samples/sample43.xml)]

## <a id="0.1__Toc274034231"></a><span data-ttu-id="5cb21-720">Заявление об отказе</span><span class="sxs-lookup"><span data-stu-id="5cb21-720">Disclaimer</span></span>

<span data-ttu-id="5cb21-721">© Корпорация Майкрософт (Microsoft Corporation), 2011</span><span class="sxs-lookup"><span data-stu-id="5cb21-721">© 2011 Microsoft Corporation.</span></span> <span data-ttu-id="5cb21-722">Все права защищены.</span><span class="sxs-lookup"><span data-stu-id="5cb21-722">All rights reserved.</span></span> <span data-ttu-id="5cb21-723">Данный документ представлен "как есть".</span><span class="sxs-lookup"><span data-stu-id="5cb21-723">This document is provided "as-is."</span></span> <span data-ttu-id="5cb21-724">Сведения и идеи, изложенные в этом документе, включая URL-адреса и прочие ссылки на веб-сайты в Интернете, могут быть изменены без предварительного уведомления.</span><span class="sxs-lookup"><span data-stu-id="5cb21-724">Information and views expressed in this document, including URL and other Internet Web site references, may change without notice.</span></span> <span data-ttu-id="5cb21-725">Вы принимаете на себя ответственность за риски, связанные с использованием этого документа.</span><span class="sxs-lookup"><span data-stu-id="5cb21-725">You bear the risk of using it.</span></span>

<span data-ttu-id="5cb21-726">Этот документ не предоставляет вам каких-либо юридических прав интеллектуальной собственности на какие-либо продукты Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="5cb21-726">This document does not provide you with any legal rights to any intellectual property in any Microsoft product.</span></span> <span data-ttu-id="5cb21-727">Вы можете копировать и использовать этот документ для внутренних справочных целей.</span><span class="sxs-lookup"><span data-stu-id="5cb21-727">You may copy and use this document for your internal, reference purposes.</span></span>
