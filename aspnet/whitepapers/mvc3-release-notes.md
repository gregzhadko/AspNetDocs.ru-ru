---
uid: whitepapers/mvc3-release-notes
title: ASP.NET MVC 3 | Документация Майкрософт
author: rick-anderson
description: ''
ms.author: riande
ms.date: 10/06/2010
ms.assetid: f44c166e-7e91-48a0-a6f8-d9285f3594e5
msc.legacyurl: /whitepapers/mvc3-release-notes
msc.type: content
ms.openlocfilehash: 36bc314c6709c34863d86158419257be99f4084f
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59407111"
---
# <a name="aspnet-mvc-3"></a>ASP.NET MVC 3

- [Обзор](#overview)
- [Замечания по установке](#installation-notes)
- [Требования к программному обеспечению](#software-requirements)
- [Документация](#documentation)
- [Поддержка](#support)
- [Обновление проекта ASP.NET MVC 2 до ASP.NET MVC 3 средства обновления](#upgrading)
- [Обновление средств ASP.NET MVC 3 (12 апреля 2011 г.)](#tu-changes)

    - [Диалоговое окно «Добавление контроллера» теперь позволяет формировать контроллеры с представлениями и данных кодом доступа](#tu-AddControllerDialog)
    - [Усовершенствования «ASP.NET MVC 3 новый проект» диалоговое окно](#tu-ImprovementsNewDialogBox)
    - [Шаблоны проектов добавлена добавлена библиотека Modernizr 1.7](#tu-Modernizr)
    - [Шаблоны проектов включены обновленные версии jQuery, jQuery UI и jQuery проверки](#tu-UpdatedJQuery)
    - [Шаблоны проектов добавлена платформа ADO.NET Entity Framework 4.1 в виде предустановленного пакета NuGet](#tu-EF)
    - [Шаблоны проектов включены библиотеки JavaScript в виде предустановленных пакетов NuGet](#tu-JavaScriptLibsNuget)
    - [Известные проблемы](#tu-KI)
- [ASP.NET MVC 3 RTM (13 января 2011 г.)](#MVC3RTM)

    - [Изменение: Обновленную версию пользовательский Интерфейс jQuery для 1.8.7](#RTM-1)
    - [Изменение: Изменили значение по умолчанию ModelMetadataProvider обратно в DataAnnotationsModelMetadataProvider](#RTM-2)
    - [Исправлено. Вставка части выражения Razor, содержащий результаты пробелов в нем выполняется в обратном порядке](#RTM-3)
    - [Исправлено. Переименование файла Razor, который открыт в редакторе отключает цветовое выделение синтаксиса и IntelliSense](#RTM-4)
    - [Известные проблемы](#RTM-KI)
    - [Критические изменения](#RTM-BC)
- [Версия-кандидат ASP.NET MVC 3 2 (10 декабря 2010 г.)](#_Toc2)

    - [Изменения шаблонов проекта для включения jQuery 1.4.4, jQuery 1.7 проверки и пользовательский Интерфейс 1.8.6y 1.8.6 пользовательского интерфейса jQuery](#_Toc2_1)
    - [Класс добавлена «AdditionalMetadataAttribute»](#_Toc2_2)
    - [Улучшенное представление формирования шаблонов](#_Toc2_3)
    - [Добавленный метод Html.Raw](#_Toc2_3)
    - [Свойство переименованный «Controller.ViewModel» и «View» свойства «ViewBag»](#_Toc2_4)
    - [Переименованные «ControllerSessionStateAttribute» класс «SessionStateAttribute»](#_Toc2_5)
    - [Переименованные RemoteAttribute «Поля» значение «AdditionalFields»](#_Toc2_6)
    - [Переименовано «SkipRequestValidationAttribute» для «AllowHtmlAttribute»](#_Toc2_7)
    - [Метод измененные «Html.ValidationMessage» для отображения первого поясняющих сообщений](#_Toc2_8)
    - [Фиксированный @model объявление, чтобы не добавляют пробел в документ](#_Toc2_9)
    - [Свойство добавлено «FileExtensions» для обработчиков представлений для поддержки имен файлов для конкретного механизма](#_Toc2_10)
    - [Вспомогательный метод предопределенной значение «LabelFor» для порождения правильное значение для атрибута «For»](#_Toc2_11)
    - [Метод предопределенной «RenderAction», чтобы предоставить явные значения приоритета во время привязки модели](#_Toc2_12)
    - [Критические изменения](#_Toc2_BC)
    - [Известные проблемы](#_Toc2_KI)
- [Версия-кандидат ASP.NET MVC 3 (9 ноября 2010 г.)](#TOC_ASP_NET_3_RC)

    - [Новые возможности в версии-Кандидате ASP.NET MVC 3](#_Toc276711785)
    - [Диспетчер пакетов NuGet](#_Toc276711786)
    - [Улучшенная «Новый проект» диалоговое окно](#_Toc276711787)
    - [Контроллеры sessionless](#_Toc276711788)
    - [Новые атрибуты проверки](#_Toc276711789)
    - [Новые перегрузки для «LabelFor» и «LabelForModel» методов](#_Toc276711790)
    - [Дочернее действие кэширования выходных данных](#_Toc276711791)
    - [«Добавление представления» улучшения диалоговых окон](#_Toc276711792)
    - [Гранулярная проверка запросов](#_Toc276711793)
    - [Критические изменения](#_Toc276711794)
    - [Известные проблемы](#_Toc276711795)
- [ASP. Заметки о бета-версии MVC 3 (6 октября 2010 г.)](#TOC_ASP_NET_3_Beta)

    - [Новые возможности в бета-версия ASP.NET MVC 3](#0.1__Toc274034215)
    - [Диспетчер пакетов NuPack](#0.1__Toc274034216)
    - [Улучшенное диалоговое окно "новый проект"](#0.1__Toc274034217)
    - [Упрощенный способ указать строго типизированным моделям в представлениях Razor](#0.1__Toc274034218)
    - [Поддержка новых веб-страниц ASP.NET, вспомогательные методы](#0.1__Toc274034219)
    - [Поддержка внедрения дополнительных зависимостей](#0.1__Toc274034220)
    - [Новая поддержка ненавязчивого Ajax на основе jQuery](#0.1__Toc274034221)
    - [Новая поддержка ненавязчивой проверки jQuery.](#0.1__Toc274034222)
    - [Новые флаги уровня приложения для клиентской проверки и ненавязчивого JavaScript](#0.1__Toc274034223)
    - [Новая поддержка код, выполняемый перед запуском представления](#0.1__Toc274034224)
    - [Новая поддержка синтаксиса Razor VBHTML](#0.1__Toc274034225)
    - [Более точный контроль над ValidateInputAttribute](#0.1__Toc274034226)
    - [Вспомогательные функции преобразовать символы подчеркивания в дефисы для имен атрибутов HTML, заданные с помощью анонимных объектов](#0.1__Toc274034227)
    - [Исправления ошибок](#0.1__Toc274034228)
    - [Критические изменения](#0.1__Toc274034229)
    - [Известные проблемы](#0.1__Toc274034230)
- [Отказ от ответственности](#0.1__Toc274034231)

<a id="overview"></a>
## <a name="overview"></a>Обзор

В этом документе описывается в выпуске ASP.NET MVC 3 RTM для Visual Studio 2010. ASP.NET MVC — это платформа для разработки веб-приложений, который использует шаблон Model-View-Controller (MVC). Установщик ASP.NET MVC 3 включает в себя следующие компоненты:

- Компоненты среды выполнения ASP.NET MVC 3
- Средства ASP.NET MVC 3 Visual Studio 2010
- Компоненты среды выполнения веб-страниц ASP.NET
- Средства Visual Studio 2010 веб-страниц ASP.NET
- Диспетчер пакетов Майкрософт для .NET (NuGet)
- Обновление для Visual Studio 2010, которая обеспечивает поддержку синтаксиса Razor. (Дополнительные сведения см. статью базы знаний 2483190).

Полный набор заметки о выпуске для каждой предварительной версии ASP.NET MVC 3 можно найти на веб-сайте ASP.NET по следующему АДРЕСУ:

https://www.asp.net/learn/whitepapers/mvc3-release-notes

<a id="installation-notes"></a>
## <a name="installation-notes"></a>Замечания по установке

Чтобы установить ASP.NET MVC 3 RTM с помощью установщика веб-платформы (Web PI), посетите следующую страницу:

[https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3](https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3)

Кроме того можно загрузить установщик для ASP.NET MVC 3 RTM для Visual Studio 2010 со следующей страницы:

https://go.microsoft.com/fwlink/?LinkID=208140

ASP.NET MVC 3, можно установить и сможете side-by-side с ASP.NET MVC 2.

<a id="software-requirements"></a>
## <a name="software-requirements"></a>Требования к программному обеспечению

Компоненты среды выполнения ASP.NET MVC 3 требуется следующее программное обеспечение:

- .NET framework версии 4. 

    Средства ASP.NET MVC 3 Visual Studio 2010 требуется следующее программное обеспечение:
- Visual Studio 2010 или Visual Web Developer 2010 Express.

<a id="documentation"></a>
## <a name="documentation"></a>Документация

Документация по ASP.NET MVC доступна на веб-сайте MSDN по АДРЕСУ:

[https://go.microsoft.com/fwlink/?LinkId=205717](https://go.microsoft.com/fwlink/?LinkId=205717)

Учебники и другие сведения о ASP.NET MVC доступны на странице MVC ASP.NET веб-сайта по следующему АДРЕСУ:

[https://www.asp.net/mvc/](../mvc/index.md)

<a id="support"></a>
## <a name="support"></a>Поддержка

Это выпуск полностью поддерживается. Сведения о получении технической поддержки можно найти на [веб-сайта поддержки Microsoft](https://support.microsoft.com/).

Также вы можете задавайте вопросы об этом выпуске на форуме ASP.NET MVC, где участники сообщества ASP.NET помогают друг другу, предоставляя полезные сведения:

[https://forums.asp.net/1146.aspx](https://forums.asp.net/1146.aspx)

<a id="upgrading"></a>
## <a name="upgrading-an-aspnet-mvc-2-project-to-aspnet-mvc-3-tools-update"></a>Обновление проекта ASP.NET MVC 2 до ASP.NET MVC 3 средства обновления

ASP.NET MVC 3 может устанавливаться параллельно с ASP.NET MVC 2 на одном компьютере, который обеспечивает гибкость в выборе, когда следует обновить приложение ASP.NET MVC 2 до ASP.NET MVC 3.

Чтобы вручную обновить существующее приложение ASP.NET MVC 2 до версии 3, сделайте следующее:

1. Создайте новый пустой проект ASP.NET MVC 3 на компьютере. Этот проект будет содержать некоторые файлы, необходимые для обновления.
2. Скопируйте следующие файлы из проекта ASP.NET MVC 3 в папку проекта ASP.NET MVC 2. Необходимо обновить все ссылки на библиотеку jQuery, с учетом нового имени файла (jQuery-1.5.1.js): 

    - /Views/Web.config
    - /packages.config
    - /scripts/\*.js
    - /Content/темы/\*.\*
3. Копировать *пакетов* папку в корневом каталоге пустое решение проект ASP.NET MVC 3 в корневой каталог вашего решения, который находится в каталоге, где размещен SLN-файл решения.
4. Если проект ASP.NET MVC 2 содержит все области, скопируйте файл /Views/Web.config в *представления* папку для каждой области.
5. В обоих файлах Web.config в проекте ASP.NET MVC 2 глобальный поиск и замените версию ASP.NET MVC. Найти следующее: 

    [!code-console[Main](mvc3-release-notes/samples/sample1.cmd)]

    Замените его следующим:

    [!code-console[Main](mvc3-release-notes/samples/sample2.cmd)]
6. В обозревателе решений удалите ссылку на *System.Web.Mvc* (какие указывает на библиотеку DLL из версии 2), затем добавьте ссылку на *System.Web.Mvc* (v3.0.0.0).
7. Добавьте ссылку на System.Web.WebPages.dll и System.Web.Helpers.dll. Эти сборки расположены в следующих папках: 

    - %ProgramFiles%\ Microsoft ASP.NET\ASP.NET 3\Assemblies MVC
    - %ProgramFiles%\ Pages\v1.0\Assemblies Microsoft ASP.NET\ASP.NET Web
8. В обозревателе решений щелкните правой кнопкой мыши имя проекта и выберите команду Выгрузить проект. Затем щелкните правой кнопкой мыши имя проекта и выберите "Правка" *имя_проекта*.csproj.
9. Найдите *ProjectTypeGuids* и замените {F85E285D-A4E0-4152-9332-AB1D724D3325} с {E53F8FEA-EAE0-44A6-8774-FFD645390401}.
10. Сохраните изменения, щелкните правой кнопкой мыши проект и выберите команду перезагрузить проект.
11. В корневом файле Web.config приложения, добавьте следующие параметры для *сборки* раздел. 

    [!code-xml[Main](mvc3-release-notes/samples/sample3.xml)]
12. Если проект ссылается на все библиотеки сторонних производителей скомпилированы с помощью ASP.NET MVC 2, добавьте выделенный ниже *bindingRedirect* элемент в файл Web.config в корне приложения  *Конфигурация* раздел: 

    [!code-xml[Main](mvc3-release-notes/samples/sample4.xml)]

<a id="tu-changes"></a>
## <a name="changes-in-aspnet-mvc-3-tools-update"></a>Изменения в ASP.NET MVC 3 обновление средств

В этом разделе описываются изменения в выпуске обновления средств ASP.NET MVC 3 с момента выпуска ASP.NET MVC 3 RTM.

<a id="tu-AddControllerDialog"></a>
### <a name="add-controller-dialog-box-can-now-scaffold-controllers-with-views-and-data-access-code"></a>Диалоговое окно «Добавление контроллера» теперь позволяет формировать контроллеры с представлениями и данных кодом доступа

Формирование шаблонов — способ быстрого создания контроллера и представлений для приложения. После создания кода, можно изменить его в соответствии с требованиями проекта.

Для запуска *Добавление контроллера* диалогового окна в ASP.NET MVC 3, щелкните правой кнопкой мыши *контроллеров* папку в *обозревателе решений*, нажмите кнопку *добавить*, а затем нажмите кнопку *контроллера*. Диалоговое окно было усовершенствовано предлагать дополнительные параметры формирования шаблонов.

![](mvc3-release-notes/_static/image1.png)

Существует три шаблона по умолчанию.

#### <a name="empty-controller"></a>Пустой контроллер

Этот шаблон создает пустой файл контроллера. Этот шаблон аналогичен снятому флажку *Добавление действий для создания, редактирования, подробности, удалите сценарии* в предыдущих версиях ASP.NET MVC. При выборе данного шаблона другие параметры доступны.

#### <a name="controller-with-empty-readwrite-actions"></a>Контроллер с действиями пустой чтения и записи

Этот шаблон создает файл контроллера, который содержит все методы требуемое действие, но без реализации их кода в методах. Этот шаблон аналогичен установленному флажку *Добавление действий для создания, редактирования, подробности, удалите сценарии* в предыдущих версиях ASP.NET MVC. При выборе данного шаблона другие параметры доступны.

#### <a name="controller-with-readwrite-actions-and-views-using-entity-framework"></a>Контроллер с действиями чтения и записи и представлениями, использующий Entity Framework

Этот шаблон позволяет быстро создавать пользовательский интерфейс рабочего ввода данных. Он создает код, обрабатывающий ряд общих требований и сценариев, таких как следующие:

- *Доступ к данным*. Созданный код считывает и записывает сущностей в базе данных. Он работает с помощью подхода Entity Framework Code First, если выбрать существующий класс контекста данных или позволить шаблону создать новый *DbContext* класса. Она также работает с использованием подхода Entity Framework Database First или Model First, при выборе существующей *ObjectContext* класса.
- *Проверка*. Созданный код использует привязки модели ASP.NET MVC и метаданные, чтобы проверки передачи форм в соответствии с правилами, объявленных в классе модели. Сюда входят встроенные правила проверки, такие как *требуется* и *StringLength* атрибуты и пользовательские правила проверки.
- *Отношения один ко многим*. Если вы определяете один ко многим связей по внешнему ключу между классами модели, созданный код сформирует раскрывающиеся списки для выбора связанных сущностей. Например можно определить следующие классы модели Entity Framework Code First соглашениям: 

    [!code-csharp[Main](mvc3-release-notes/samples/sample5.cs)]

    При формировании шаблона контроллера для *продукта* класса, его представления позволяют пользователям выбирать *категории* для каждой *продукта* экземпляра.

    Этот шаблон предоставляет дополнительные параметры в *Добавление контроллера* диалоговое окно. Для *класс модели*, можно выбрать любой класс модели в решении, который определяет тип данных, которые пользователи смогут создавать или изменять:
- Если вы хотите использовать Entity Framework Code First, можно выбрать любой класс модели.
- Если вы используете Entity Framework Database First или Entity Framework Model First, не забудьте выбрать класс сущности, определенного в концептуальной модели.

Для *класс контекста данных*, чтобы эти параметры необходимо настроить:

- Если вы хотите использовать Code First и нет существующего класса контекста данных, выберите ** новый контекст данных **. Затем класс контекста данных создается автоматически.
- Если вы хотите использовать Code First и иметь существующий класс контекста данных, выберите его. Он будет обновляться для сохранения выбранного класса модели.
- Если вы используете Database First или Model First, выберите класс контекста объекта.

Для представлений выберите модуль просмотра, который вы хотите использовать, или выберите None, если не требуется формировать представления.

Можно выбрать дополнительные параметры для указания дополнительных параметров сформированных представлений. Например можно выбрать макет или главную страницу.

<a id="tu-ImprovementsNewDialogBox"></a>
### <a name="improvements-to-the-aspnet-mvc-3-new-project-dialog-box"></a>Усовершенствования «ASP.NET MVC 3 новый проект» диалоговое окно

Диалоговое окно, используемого для создания новых проектов ASP.NET MVC 3 содержит множество улучшений, как показано ниже.

![](mvc3-release-notes/_static/image2.png)

#### <a name="new-intranet-project-template"></a>Новый шаблон «Проект интрасети»

В списке шаблон проекта включает в себя новый шаблон приложение интрасети. Этот шаблон содержит параметры для веб-приложений с помощью проверки подлинности Windows вместо проверки подлинности форм. Так как приложения интрасети требуются некоторые параметры IIS, не может быть инкапсулирована в шаблон проекта, шаблон включает файл readme с инструкциями по шаблон проекта, который работал в IIS. Документация по новому шаблону приложение интрасети доступно на веб-сайте MSDN по АДРЕСУ:

[https://msdn.microsoft.com/library/gg703322(VS.98).aspx](https://msdn.microsoft.com/library/gg703322(VS.98).aspx)

#### <a name="project-templates-are-now-html5-enabled"></a>Шаблоны проектов, теперь поддерживают HTML5

Диалоговое окно создания проекта теперь содержит параметр для добавления функций HTML5 в шаблоны проектов. Выбрав параметр вызывает будут созданы представления, содержащие новые HTML5 `<header>`, `<footer>`, и `<navigation>` элементов.

Обратите внимание на то, что более ранние версии браузеров не поддерживают теги HTML5. Чтобы устранить это ограничение, шаблоны проектов HTML5 содержат ссылку на библиотеку Modernizr. (См. следующий раздел).

<a id="tu-Modernizr"></a>
### <a name="project-templates-now-include-modernizr-17"></a>Шаблоны проектов добавлена добавлена библиотека Modernizr 1.7

Modernizr — это библиотека JavaScript, которая обеспечивает поддержку CSS 3 и HTML5 в браузерах, которые еще не поддерживают эти функции. Эта библиотека включена как предварительно установленный пакет NuGet в шаблонах для проектов ASP.NET MVC 3. Дополнительные сведения о Modernizr см. в разделе [ http://www.modernizr.com/ ](http://www.modernizr.com/).

<a id="tu-UpdatedJQuery"></a>
### <a name="project-templates-include-updated-versions-of-jquery-jquery-ui-and-jquery-validation"></a>Шаблоны проектов включены обновленные версии jQuery, jQuery UI и jQuery проверки

Шаблоны проектов теперь содержат следующие версии скриптов jQuery:

- jQuery 1.5.1
- jQuery Validation 1.8
- jQuery UI 1.8.11

Эти библиотеки включены в виде предустановленных пакетов NuGet.

<a id="tu-EF"></a>
### <a name="project-templates-now-include-adonet-entity-framework-41-as-a-pre-installed-nuget-package"></a>Шаблоны проектов добавлена платформа ADO.NET Entity Framework 4.1 в виде предустановленного пакета NuGet

Платформа ADO.NET Entity Framework 4.1 включает в себя средство Code First. Код сначала-это новый шаблон разработки для платформы ADO.NET Entity Framework, который представляет собой альтернативу существующие шаблоны Database First и Model First.

Code First предназначен определения модели с помощью классов POCO («обычные старые объекты CLR»), написанных на Visual Basic или C#. Эти классы затем можно сопоставить с существующей базы данных или использоваться для создания схемы базы данных. Дополнительные настройки можно указать с помощью *DataAnnotations* атрибуты или интерфейсов API.

Документацию по использованию кода Firstwith ASP.NET MVC доступна на веб-сайте ASP.NET по следующим URL-адресам:

[https://www.asp.net/mvc/tutorials/getting-started-with-mvc3-part1-cs](../mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) [https://www.asp.net/entity-framework/tutorials/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application](../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)

<a id="tu-JavaScriptLibsNuget"></a>
### <a name="project-templates-include-javascript-libraries-as-pre-installed-nuget-packages"></a>Шаблоны проектов включены библиотеки JavaScript в виде предустановленных пакетов NuGet

При создании нового проекта ASP.NET MVC 3, проект включает файлы JavaScript, указанные ранее (например, библиотеку Modernizr) путем установки их с помощью NuGet вместо непосредственного добавления скриптов в папку Scripts шаблона проекта содержимое. Это позволяет использовать NuGet для обновления скриптов до последней версии при выходе новых версий скриптов.

Например, учитывая частоту новых выпусков jQuery, версии jQuery, включенная в шаблон проекта в определенный момент будет устарели. Тем не менее так как jQuery включен как устанавливаемый пакет NuGet, вы получите уведомление в диалоговом окне NuGet в случае доступности новых версий jQuery.

Так как номер версии jQuery содержится в имени файла, при обновлении jQuery до последней версии также требуется обновить `<script>` тег, который ссылается на файл jQuery для использования нового имени файла. Другие включенные библиотеки скриптов не содержат номер версии в имени скрипта, поэтому их можно легко обновить до последних версий.

<a id="tu-KI"></a>
## <a name="known-issues"></a>Известные проблемы

- В некоторых случаях установка может завершиться сбоем с ошибка сообщение «сбой установки с кодом ошибки (0x80070643)». Сведения о том, как обойти эту проблему, см. в разделе [статье базы знаний 2531566](https://support.microsoft.com/kb/2531566).
- Формирование шаблонов для добавления контроллера не формируются сущности, которые используют преимущества поддержки наследования сущностей в Entity Framework. Например, если базовый *Person* класс, от которого наследуют *учащихся* класса, формирование шаблонов *учащихся* класс приведет к созданный код, который не будет компилироваться.
- Создание нового проекта ASP.NET MVC 3 в папке решения причины *NullReferenceException* ошибки. Обходной путь — Создание проекта ASP.NET MVC 3 в корневой папке решения и переместив его в папке решения.
- IntelliSense для синтаксиса Razor не работает, если установлен ReSharper. Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3, см. в записи [Razor Intellisense и ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хади Харири, в котором описываются способы хэйди.
- Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, размер которого меньше, чем планировалось.
- При редактировании представления Razor (.cshtml или. *vbhtml* файл), представления. ASP.NET MVC 3 не включает фрагменты для представлений Razor... aspxselecting фрагмент кода для ASP.NET MVC отображаются
- Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютере, где не установлена среда Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3. Visual Studio и Visual Web Developer Express совместно использовать компоненты, которые обновляются установщиком ASP.NET MVC 3. То же самое касается при установке ASP.NET MVC 3 для Visual Studio на компьютере, который не имеет Visual Web Developer Express и последующей установке Visual Web Developer Express.

<a id="MVC3RTM"></a>
## <a name="changes-in-aspnet-mvc-3-rtm"></a>Изменения в ASP.NET MVC 3 RTM

В этом разделе описаны изменения и исправления, внесенные в выпуске ASP.NET MVC 3 RTM с момента выпуска RC2.

<a id="RTM-1"></a>
### <a name="change-updated-the-version-of-jquery-ui-to-187"></a>Изменение: Обновленную версию пользовательский Интерфейс jQuery для 1.8.7

Шаблоны проектов ASP.NET MVC для Visual Studio были обновлены, чтобы включить последнюю версию библиотеки jQuery UI. Шаблоны также содержат минимальный набор файлов ресурсов, необходимых для jQuery пользовательского интерфейса, такие как связанный CSS и файлы изображений.

<a id="RTM-2"></a>
### <a name="change-changed-the-default-modelmetadataprovider-back-to-dataannotationsmodelmetadataprovider"></a>Изменение: Изменили значение по умолчанию ModelMetadataProvider обратно в DataAnnotationsModelMetadataProvider

Выпуск RC2, появившиеся в ASP.NET MVC 3 *CachedDataAnnotationsMetadataProvider* класс, который предоставлен кэширования на базе существующей *DataAnnotationsModelMetadataProvider* классов как Повышение производительности. Тем не менее, некоторые ошибки были выведены в этой реализации, чтобы отменить изменение и переместить в проект MVC Futures, доступный в [Интернет-стек любви ASP.NET](https://github.com/aspnet/AspNetWebStack).

<a id="RTM-3"></a>
### <a name="fixed-pasting-part-of-a-razor-expression-that-contains-whitespace-results-in-it-being-reversed"></a>Исправлено. Вставка части выражения Razor, содержащий результаты пробелов в нем выполняется в обратном порядке

В предварительных версиях ASP.NET MVC 3 при вставке часть выражения Razor, содержащее пробелы, в файле Razor, зеркально результирующее выражение. Например рассмотрим следующий блок кода Razor:

[!code-cshtml[Main](mvc3-release-notes/samples/sample6.cshtml)]

Если вы выберите текст «первый param» в первый метод и вставьте его в качестве аргумента в второй метод, результат будет следующим:

[!code-cshtml[Main](mvc3-release-notes/samples/sample7.cshtml)]

Правильное поведение — в том, что операции вставки следует привести следующие:

[!code-cshtml[Main](mvc3-release-notes/samples/sample8.cshtml)]

Эта проблема была устранена в выпуске RTM, чтобы выражение правильно сохранить во время операции вставки.

<a id="RTM-4"></a>
### <a name="fixed-renaming-a-razor-file-that-is-opened-in-the-editor-disables-syntax-colorization-and-intellisense"></a>Исправлено. Переименование файла Razor, который открыт в редакторе отключает цветовое выделение синтаксиса и IntelliSense

Переименование файла Razor с помощью обозревателя решений, пока файл открыт в окне редактора вызывает выделение синтаксических конструкций и IntelliSense работают для этого файла. Эта проблема была исправлена, чтобы выделение и IntelliSense, сохраняются после переименования.

<a id="RTM-KI"></a>
## <a name="known-issues"></a>Известные проблемы

- Если вы закроете Visual Studio 2010 SP1 Beta, пока открыта консоль диспетчера пакетов NuGet, Visual Studio аварийно завершает работу и выполняется попытка перезапуска. Это будет исправлено в выпуске RTM с пакетом обновления 1 для Visual Studio 2010.
- Установщик ASP.NET MVC 3 только возможность установить исходную версию диспетчера пакетов NuGet. После установки начальной версии NuGet можно установить и обновить с помощью диспетчера расширений Visual Studio. Если вы уже установили NuGet, перейдите к коллекции расширений Visual Studio для обновления до последней версии NuGet.
- Создание нового проекта ASP.NET MVC 3 в папке решения причины *NullReferenceException* ошибки. Обходной путь — Создание проекта ASP.NET MVC 3 в корневой папке решения и переместив его в папке решения.
- Установщик может потребоваться гораздо больше, чем предыдущие версии ASP.NET MVC для выполнения. Это, поскольку он обновляет компоненты Visual Studio 2010.
- IntelliSense для синтаксиса Razor не работает, если установлен ReSharper. Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3, см. в записи [Razor Intellisense и ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хади Харири, в котором описываются способы хэйди.
- CCSHTML и VBHTML представления, созданные с помощью бета-версия ASP.NET MVC 3 них действие сборки, соответствующим образом настроены, то в результате просмотра этих типов пропускаются при публикации проекта. Действие при построении для этих файлов должно иметь значение «Содержимое». ASP.NET MVC 3 RTM эта проблема устранена для новых файлов, но не правильные значения для существующих файлов проекта, созданного с помощью предварительной версии.
- ![](mvc3-release-notes/_static/image3.png)
- Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, размер которого меньше, чем планировалось.
- При изменении представления Razor (файл cshtml), пункта меню перейдите к контроллеру, в Visual Studio не будут доступны, и существуют не фрагменты кода.
- Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютере, где не установлена среда Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3. Visual Studio и Visual Web Developer Express совместно использовать компоненты, которые обновляются установщиком ASP.NET MVC 3. То же самое касается при установке ASP.NET MVC 3 для Visual Studio на компьютере, который не имеет Visual Web Developer Express и последующей установке Visual Web Developer Express.

<a id="RTM-BC"></a>
## <a name="breaking-changes"></a>Критические изменения

- В предыдущих версиях ASP.NET MVC действие-фильтры создание каждого запроса, за исключением случаев, в некоторых случаях. Это поведение не гарантируется поведение, но просто деталь реализации и контракт для фильтров было рассматривать их без отслеживания состояния. В ASP.NET MVC 3 фильтры, кэшируются более агрессивно. Таким образом все фильтры настраиваемого действия, которые неправильно хранить состояние экземпляра может быть нарушена.
- Фильтры исключений, которые имеют одинаковые изменился порядок выполнения фильтров исключений *порядок* значение. В ASP.NET MVC 2 и более ранних версиях исключение фильтрует на контроллере, имеют одинаковые *порядок* значение как на метод действия выполняются перед фильтрами исключений в методе действия. Это обычно можно добиться, если фильтры исключений применяются без заданного *порядок* значение. В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым. Как и в более ранних версий Если *порядок* явным образом указано свойство, фильтры выполняются в указанном порядке.
- Новое свойство с именем *FileExtensions* был добавлен *VirtualPathProviderViewEngine* базового класса. Когда ASP.NET ищет представление по пути (не по имени), считаются только представлений с расширением файла, содержащихся в списке определяется посредством него новое свойство. Это критическое изменение в приложениях, где поставщик настраиваемой сборки регистрируется для включения пользовательских расширений файлов для представления веб-формы и поставщик ссылается на эти представления, используя полный путь, а не имя. Обойти это можно изменить значение *FileExtensions* свойство, чтобы включить расширение пользовательского файла.
- Реализации фабрики пользовательского устройства, которые непосредственно реализуют *IControllerFactory* интерфейса необходимо обеспечить реализацию нового *GetControllerSessionBehavior* метод, который был добавить интерфейс в этом выпуске. Как правило, рекомендуется не реализовывайте этот интерфейс напрямую и вместо этого являются производными от класса *DefaultControllerFactory*.

<a id="_Toc2"></a>
## <a name="changes-in-aspnet-mvc-3-rc2"></a>Изменения в версии-кандидата 2 ASP.NET MVC 3

В этом разделе описываются изменения (новые функции и исправления ошибок) в выпуске ASP.NET MVC 3 RC2 с момента выпуска версии-КАНДИДАТА.

<a id="_Toc2_1"></a>
### <a name="project-templates-changed-to-include-jquery-144-jquery-validation-17-and-jquery-ui-186"></a>Изменения шаблонов проекта для включения jQuery 1.4.4, jQuery 1.7 проверки и пользовательский Интерфейс jQuery 1.8.6

Шаблоны проектов для ASP.NET MVC 3 теперь включают последние версии jQuery, jQuery Validation и jQuery пользовательского интерфейса. пользовательский Интерфейс jQuery — это новое дополнение для шаблонов проектов и предоставляет мини-приложения пользовательский интерфейс. Дополнительные сведения о пользовательский Интерфейс jQuery, см. в статье их Домашняя страница: [ http://jqueryui.com/ ](http://jqueryui.com/).

<a id="_Toc2_2"></a>
### <a name="added-additionalmetadataattribute-class"></a>Класс добавлена «AdditionalMetadataAttribute»

Можно использовать *AdditionalMetadataAttribute* класс для заполнения *ModelMetadata.AdditionalValues* словарь для свойства модели.

Например предположим, что модель представления имеет свойства, которые должны отображаться только для администратора. Эту модель можно обозначать новый атрибут, с помощью AdminOnly как ключ и значение true, как значение, как показано в следующем примере:

[!code-csharp[Main](mvc3-release-notes/samples/sample9.cs)]

Эти метаданные доступны в любой шаблон отображения или редактора при подготовке к просмотру представление модели продукта. Это вы как разработчик приложения следует интерпретировать сведения метаданных.

<a id="_Toc2_3"></a>
### <a name="improved-view-scaffolding"></a>Улучшенное представление формирования шаблонов

Шаблоны T4, используемые для формирования шаблонов представлений, теперь создают вызовы шаблона вспомогательные методы, например *EditorFor* вместо вспомогательные функции, такие как *TextBoxFor*. Это изменение улучшает поддержку метаданные о модели в виде атрибуты заметок к данным, когда в диалоговом окне Добавление представления создается представление.

Добавить представление формирования шаблонов также включает использование сведения о первичном ключе на модели, в зависимости от соглашения и усовершенствованная функция обнаружения. Например диалоговое окно «Добавление представления» использует эти сведения для убедитесь, что значения первичного ключа не по шаблону как поля редактируемую форму.

По умолчанию изменение и создание шаблонов включать ссылки на сценарии jQuery, необходимые для клиентской проверки.

<a id="_Toc2_4"></a>
### <a name="added-htmlraw-method"></a>Добавленный метод Html.Raw

По умолчанию Razor системы представлений HTML кодирует все значения. Например, следующий фрагмент кода кодирует HTML внутри переменная приветствия, так что он отображается в страницу в качестве `<strong>Hello World!</strong>`.

[!code-cshtml[Main](mvc3-release-notes/samples/sample10.cshtml)]

Новый *Html.Raw* метод предоставляет простой способ отображения HTML без кодировки, если известно содержимое, чтобы обезопасить себя. В следующем примере отображается та же строка, но строка отображается в виде разметки:

[!code-cshtml[Main](mvc3-release-notes/samples/sample11.cshtml)]

<a id="_Toc2_5"></a>
### <a name="renamed-controllerviewmodel-property-and-the-view-property-to-viewbag"></a>Свойство переименованный «Controller.ViewModel» и «View» свойства «ViewBag»

Ранее *ViewModel* свойство *контроллера* корреспондируемых для *представление* свойство представления. Оба эти свойства предоставляют способ доступа значения *ViewDataDictionary* с помощью синтаксиса, динамического метода доступа свойства. Оба свойства должны совпадать, чтобы избежать путаницы и были более согласованными были переименованы.

<a id="_Toc2_6"></a>
### <a name="renamed-controllersessionstateattribute-class-to-sessionstateattribute"></a>Переименованные «ControllerSessionStateAttribute» класс «SessionStateAttribute»

*ControllerSessionStateAttribute* класс впервые появился в выпуске RC ASP.NET MVC 3. Свойство был переименован в лаконичнее.

<a id="_Toc2_7"></a>
### <a name="renamed-remoteattribute-fields-property-to-additionalfields"></a>Переименованные RemoteAttribute «Поля» значение «AdditionalFields»

*RemoteAttribute* класса *поля* свойство несколько запутало между пользователями. Переименование этого свойства *AdditionalFields* поясняет ее цель.

<a id="_Toc2_8"></a>
### <a name="renamed-skiprequestvalidationattribute-to-allowhtmlattribute"></a>Переименовано «SkipRequestValidationAttribute» для «AllowHtmlAttribute»

*SkipRequestValidationAttribute* атрибут был переименован в *AllowHtmlAttribute* чтобы лучше представить его использования.

<a id="_Toc2_9"></a>
### <a name="changed-htmlvalidationmessage-method-to-display-the-first-useful-error-message"></a>Метод измененные «Html.ValidationMessage» для отображения первого поясняющих сообщений

*Html.ValidationMessage* метод была исправлена, чтобы показать первое сообщение поясняющих вместо просто отображения первой ошибки.

Во время привязки модели, *ModelState* словарь могут заполняться из нескольких источников с сообщениями об ошибках о свойстве, в том числе из самой модели (если он реализует *IValidatableObject* ), из атрибутов проверки, применяемый к свойству, а также из исключения, возникшие при доступе к этому свойству.

Когда *Html.ValidationMessage* метод отображает сообщение проверки, он пропускает записи состояния модели, которые содержат исключение, так как они обычно не предназначены для конечного пользователя. Вместо этого метод ищет первое сообщение проверки, не связанный с исключением и выводит это сообщение. Если сообщение не найдено, то по умолчанию сообщения об ошибке, которая связана с первое исключение.

<a id="_Toc2_10"></a>
### <a name="fixed-model-declaration-to-not-add-whitespace-to-the-document"></a>Фиксированный @model объявление, чтобы не добавляют пробел в документ

В более ранних выпусках *@model* объявление в верхней части представления добавить пустую строку в готовом для просмотра выходных данных HTML. Эта проблема была исправлена, чтобы объявление не содержит пробелов.

<a id="_Toc2_11"></a>
### <a name="added-fileextensions-property-to-view-engines-to-support-engine-specific-file-names"></a>Свойство добавлено «FileExtensions» для обработчиков представлений для поддержки имен файлов для конкретного механизма

Обработчик представлений я могу вернуть представление, используя путь явное представление как в следующем примере:

[!code-csharp[Main](mvc3-release-notes/samples/sample12.cs)]

Первый обработчик представлений всегда пытается визуализации представления. По умолчанию подсистема просмотра веб-форм, — это первый обработчик представлений; Поскольку обработчик веб-форм не удается отобразить представление Razor, возникает ошибка. Теперь у обработчиков представлений *FileExtensions* свойство, которое позволяет указать, какие расширения файлов, они поддерживают. Это свойство проверяется в том случае, когда ASP.NET определяет, может ли обработчик представлений отображения файла. Это критическое изменение, и дополнительные подробные сведения можно найти в [критические изменения](#_Toc2_BC) настоящего документа.

<a id="_Toc2_12"></a>
### <a name="fixed-labelfor-helper-to-emit-the-correct-value-for-the-for-attribute"></a>Вспомогательный метод предопределенной значение «LabelFor» для порождения правильное значение для атрибута «For»

Where была исправлена ошибка *LabelFor* к просмотру метод *для* атрибут, который соответствует *входной* элемента *имя* атрибутом его идентификатора. В соответствии с W3C *для* атрибут должен соответствовать *входной* идентификатор элемента.

<a id="_Toc2_13"></a>
### <a name="fixed-renderaction-method-to-give-explicit-values-precedence-during-model-binding"></a>Метод предопределенной «RenderAction», чтобы предоставить явные значения приоритета во время привязки модели

В более ранних версиях, явно заданные значения, которые были переданы *RenderAction* метод были к пропуску пользу текущих значений формы во время привязки модели внутри дочернего действия. Исправление гарантирует, что явные значения приоритет во время привязки модели.

<a id="_Toc2_BC"></a>
## <a name="breaking-changes"></a>Критические изменения

- В предыдущих версиях ASP.NET MVC фильтры операций были созданы по запросу, за исключением случаев, в некоторых случаях. Это поведение не гарантируется поведение, но просто деталь реализации и контракт для фильтров было рассматривать их без отслеживания состояния. В ASP.NET MVC 3 фильтры, кэшируются более агрессивно. Таким образом все фильтры настраиваемого действия, которые неправильно хранить состояние экземпляра может быть нарушена.
- Фильтры исключений, которые имеют одинаковые изменился порядок выполнения фильтров исключений *порядок* значение. В ASP.NET MVC 2 и более ранних версиях исключение фильтрует на контроллере, который обнаружил ту же *порядок* значение как те, в методе действия выполнялись перед фильтрами исключений в методе действия. Это обычно можно добиться, когда были применены фильтры исключений без указанного *порядок* значение. В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым. Как и в более ранних версий Если *порядок* явным образом указано свойство, фильтры выполняются в указанном порядке.
- Новое свойство с именем *FileExtensions* был добавлен *VirtualPathProviderViewEngine* базового класса. Когда ASP.NET ищет представление по пути (не по имени), считаются только представлений с расширением файла, содержащихся в списке определяется посредством него новое свойство. Это критическое изменение в приложениях, где поставщик настраиваемой сборки регистрируется для включения пользовательских расширений файлов для представления веб-формы и поставщик ссылается на эти представления, используя полный путь, а не имя. Обойти это можно изменить значение *FileExtensions* свойство, чтобы включить расширение пользовательского файла.
- Реализации фабрики пользовательского устройства, которые непосредственно реализуют *IControllerFactory* интерфейса необходимо обеспечить реализацию нового *GetControllerSessionBehavior* метод, который был добавить интерфейс в этом выпуске. Как правило, рекомендуется не реализовывайте этот интерфейс напрямую и вместо этого являются производными от класса *DefaultControllerFactory*.

<a id="_Toc2_KI"></a>
## <a name="known-issues"></a>Известные проблемы

- Установщик ASP.NET MVC 3 только возможность установить исходную версию диспетчера пакетов NuGet. После установки начальной версии NuGet можно установить и обновить с помощью диспетчера расширений Visual Studio. Если вы уже установили NuGet, перейдите к коллекции расширений Visual Studio для обновления до последней версии NuGet.
- Создание нового проекта ASP.NET MVC 3 в папке решения причины *NullReferenceException* ошибки. Обходной путь — Создание проекта ASP.NET MVC 3 в корневой папке решения и переместив его в папке решения.
- Установщик может потребоваться гораздо больше, чем предыдущие версии ASP.NET MVC для выполнения. Это, поскольку он обновляет компоненты Visual Studio 2010.
- IntelliSense для синтаксиса Razor не работает, если установлен ReSharper. Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3, версия-кандидат 2, см. в записи [Razor Intellisense и ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хади Харири, в котором описываются способы хэйди.
- CSHTML и VBHTML представления, созданные с помощью бета-версия ASP.NET MVC 3 них действие сборки, соответствующим образом настроены, то в результате просмотра этих типов пропускаются при публикации проекта. *Действие при построении* значение для этих файлов должно быть присвоено содержимое». ASP.NET MVC 3 RC2 эта проблема устранена для новых файлов, но не правильные значения для существующих файлов проекта, созданного с помощью бета-версии.![](mvc3-release-notes/_static/image4.png)
- Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, размер которого меньше, чем планировалось.
- При изменении представления Razor (файл cshtml), пункта меню перейдите к контроллеру, в Visual Studio не будут доступны, и существуют не фрагменты кода.
- Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютере, где не установлена среда Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3. Visual Studio и Visual Web Developer Express совместно использовать компоненты, которые обновляются установщиком ASP.NET MVC 3. То же самое касается при установке ASP.NET MVC 3 для Visual Studio на компьютере, который не имеет Visual Web Developer Express и последующей установке Visual Web Developer Express.
- Установка ASP.NET MVC 3 версии-Кандидата 2 не обновляет NuGet, если вы уже установили его. Выполнить обновление NuGet, перейдите в диспетчер расширений Visual Studio и он должен отображаться как доступное обновление. Вы можете обновить NuGet до последней версии из него.

<a id="TOC_ASP_NET_3_RC"></a>
## <a name="aspnet-mvc-3-release-candidate"></a>Версия-кандидат ASP.NET MVC 3

Версия-кандидат ASP.NET MVC было выпущено 9 ноября 2010 г.

<a id="_Toc276711785"></a>
## <a name="new-features-in-aspnet-mvc-3-rc"></a>Новые возможности в версии-Кандидате ASP.NET MVC 3

В этом разделе описаны возможности, которые были введены в версии ASP.NET MVC 3, версия-Кандидат с момента выпуска бета-версии.

<a id="_Toc276711786"></a>
### <a name="nuget-package-manager"></a>Диспетчер пакетов NuGet

ASP.NET MVC 3 содержит диспетчер пакетов NuGet (ранее известная как NuPack), который представляет собой средство интегрированный пакет управления для добавления библиотеки и средства для проектов Visual Studio. Это средство автоматизирует действия, которые разработчики Начните уже сегодня, чтобы получить библиотеку в их исходном дереве.

Вы можете работать с NuGet как средство командной строки, как встроенное окно консоли внутри Visual Studio 2010, в контекстном меню Visual Studio и как набор командлетов PowerShell.

Дополнительные сведения о NuGet см [документации по Nuget](https://docs.microsoft.com/nuget/).

<a id="_Toc276711787"></a>
### <a name="improved-new-project-dialog-box"></a>Улучшенная «Новый проект» диалоговое окно

При создании нового проекта в диалоговом окне нового проекта теперь позволяет указать обработчик представлений, а также тип проекта ASP.NET MVC.

![](mvc3-release-notes/_static/image5.png)

Поддержка для изменения списка шаблонов и представления, модули, перечисленные в диалоговом окне включена в этом выпуске.

Ниже перечислены шаблоны по умолчанию.

Пустой. Содержит минимальный набор файлов для проекта ASP.NET MVC, включая структурой каталогов по умолчанию для проектов ASP.NET MVC, файл Site.css, содержащий стили ASP.NET MVC по умолчанию, а также сценарии каталог, содержащий файлы JavaScript по умолчанию.

Веб-приложение. Содержит пример функции, демонстрируется использование поставщика членства в ASP.NET MVC.

Список шаблонов проектов, который отображается в диалоговом окне указывается в реестре Windows.

<a id="_Toc276711788"></a>
### <a name="sessionless-controllers"></a>Контроллеры sessionless

Новый *ControllerSessionStateAttribute* дает больший контроль над поведением состояния сеанса для контроллеров, указав [System.Web.SessionState.SessionStateBehavior](https://msdn.microsoft.com/library/system.web.sessionstate.sessionstatebehavior.aspx) значение перечисления.

В следующем примере показано, как отключить состояние сеанса для всех запросов к контроллеру.

[!code-csharp[Main](mvc3-release-notes/samples/sample13.cs)]

В следующем примере показано, как установка состояния сеанса только для чтения для всех запросов к контроллеру.

[!code-csharp[Main](mvc3-release-notes/samples/sample14.cs)]

<a id="_Toc276711789"></a>
### <a name="new-validation-attributes"></a>Новые атрибуты проверки

#### <a name="compareattribute"></a>CompareAttribute

Новый *CompareAttribute* атрибут проверки позволяет сравнить значения двух различных свойств модели. В следующем примере *ComparePassword* свойство должно соответствовать *пароль* поля, чтобы быть допустимыми.

[!code-csharp[Main](mvc3-release-notes/samples/sample15.cs)]

#### <a name="remoteattribute"></a>RemoteAttribute

Новый *RemoteAttribute* атрибут проверки использует преимущества jQuery проверки plug в удаленный проверяющий элемент управления, позволяющий проверки на стороне клиента для вызова метода на сервере, который выполняет логики проверки.

В следующем примере *UserName* свойство имеет *RemoteAttribute* применения. При изменении этого свойства в представление для редактирования, клиентская проверка будет вызывать действие с именем *UserNameAvailable* на *UsersController* класса, чтобы проверить это поле.

[!code-csharp[Main](mvc3-release-notes/samples/sample16.cs)]

В следующем примере соответствующим контроллером.

[!code-csharp[Main](mvc3-release-notes/samples/sample17.cs)]

По умолчанию имя свойства, которое атрибут применяется к методу действия отправляется как параметр строки запроса.

<a id="_Toc276711790"></a>
### <a name="new-overloads-for-labelfor-and-labelformodel-methods"></a>Новые перегрузки для «LabelFor» и «LabelForModel» методов

Были добавлены новые перегрузки для *LabelFor* и *LabelForModel* методов, которые позволяют указать текст метки. В следующем примере показано, как для использования этих перегрузок.

[!code-cshtml[Main](mvc3-release-notes/samples/sample18.cshtml)]

<a id="_Toc276711791"></a>
### <a name="child-action-output-caching"></a>Дочернее действие кэширования выходных данных

*OutputCacheAttribute* поддерживает кэширование выходных данных дочерних действий, которые вызываются с помощью *Html.RenderAction* или *Html.Action* вспомогательные методы. Следующий пример показывает представление, которое вызывает еще одно действие.

[!code-cshtml[Main](mvc3-release-notes/samples/sample19.cshtml)]

*GetDate* действия помечается с помощью *OutputCacheAttribute*:

[!code-csharp[Main](mvc3-release-notes/samples/sample20.cs)]

При выполнении этот код, результат вызова метода Html.Action("GetDate") кэшируется для 100 секунд.

<a id="_Toc276711792"></a>
### <a name="add-view-dialog-box-improvements"></a>«Добавление представления» улучшения диалоговых окон

При добавлении строго типизированного представления, в диалоговом окне Add View теперь отфильтровывает больше неподходящих типов, чем в предыдущих версиях, таких как множество типов .NET Framework core. Кроме того список теперь сортируется по имени класса, а не полное имя типа, что упрощает поиск типов. Например имя типа теперь отображается как в следующем примере:

ClassName (пространство имен)

В более ранних выпусках это был отображались бы следующим образом:

ПространствоИмен.ИмяКласса

<a id="_Toc276711793"></a>
### <a name="granular-request-validation"></a>Гранулярная проверка запросов

*Исключить* свойство *ValidateInputAttribute* больше не существует. Чтобы проверка запросов для конкретных свойств модели, пропущено во время привязки модели, используйте новый *SkipRequestValidationAttribute*.

Например предположим, что метод действия используется для изменения записи блога:

[!code-csharp[Main](mvc3-release-notes/samples/sample21.cs)]

Пример модели представления для записи блога.

[!code-csharp[Main](mvc3-release-notes/samples/sample22.cs)]

Когда пользователь отправляет некоторые разметки для описания свойства, привязка модели завершится ошибкой из-за проверки запроса. Чтобы отключить проверку запросов во время привязки модели для блога описание, применить *SkipRequpestValidationAttribute* для свойства, как показано в следующем примере:.

[!code-csharp[Main](mvc3-release-notes/samples/sample23.cs)]

Кроме того, чтобы отключить проверку запроса для каждого свойства модели, примените *ValidateInputAttribute* со значением *false* на метод действия:

[!code-csharp[Main](mvc3-release-notes/samples/sample24.cs)]

<a id="_Toc276711794"></a>
## <a name="breaking-changes"></a>Критические изменения

- Фильтры исключений, которые имеют одинаковые изменился порядок выполнения фильтров исключений *порядок* значение. В ASP.NET MVC 2 и более ранних версиях исключение фильтрует на контроллере, который обнаружил ту же *порядок* как те, в методе действия выполнялись перед фильтрами исключений в методе действия. Это обычно можно добиться, когда были применены фильтры исключений без указанного *порядок* значение. В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым. Как и в более ранних версий Если *порядок* явным образом указано свойство, фильтры выполняются в указанном порядке.
- Добавлено новое свойство с именем *FileExtensions* для *VirtualPathProviderViewEngine* базового класса. При поиске представления по пути (а не по имени), только представления, с расширением файла, содержащихся в списке определяется посредством него новое свойство считается. Это критическое изменение для тех, кто регистрации поставщика настраиваемого построения для включения пользовательских расширений файлов для веб-формы представления и ссылающихся на эти представления, используя полный путь, а не имя. Обойти это можно изменить значение *FileExtensions* свойство, чтобы включить расширение пользовательского файла.

<a id="_Toc276711795"></a>
## <a name="known-issues"></a>Известные проблемы

- Установщик может занимать значительно больше, чем предыдущие версии ASP.NET MVC, так как он обновляет компоненты Visual Studio 2010.
- Добавить представление формирования шаблонов при выборе astrongly типизированные свойства только для записи элементов скаффолдинга представления. Они всегда должны быть проигнорированы путем формирования шаблонов. Добавление представления диалогового окна также формирует шаблоны свойства только для чтения, при создании в представлении «Изменить» или «Создать». Свойства только для чтения должны быть сформированные только для отображения и список представлений.
- Отладка не работает при установке ASP.NET MVC 3 наряду с Async CTP. ASP.NET MVC 3 не может быть установленных side-by-side с Async CTP. Удалите Async CTP для восстановления отладки. Дополнительные сведения см. в статье [этой записи блога](http://drew-prog.blogspot.com/2010/11/how-to-uninstall-microsoft-aspnet-mvc-3.html) об удалении все части ASP.NET MVC 3, версия-Кандидат.
- Razor Intellisense работает не в том случае, если установлен Resharper. Если у вас установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки intellisense Razor в ASP.NET MVC 3 версии-Кандидате, см. в статье [этой записи блога](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) от компании JetBrains, в котором описывается, как использовать их вместе в настоящее время.
- CSHTML и VBHTML представления, созданные с помощью бета-версии из ASP.NET MVC 3 не у них действие сборки правильно которых исключает их из публикации. *Действие при построении* эти файлы должны иметь значение «Content». Версия-Кандидат ASP.NET MVC 3, эта проблема устранена для новых файлов, но не правильные значения для существующих файлов проекта, созданного с помощью бета-версии.
- Установщик может занимать значительно больше, чем предыдущие версии ASP.NET MVC, так как он обновляет компоненты Visual Studio 2010.
- Добавить представление формирования шаблонов, выбрав «Изменить» строго типизированы формирует шаблон представления считывать только свойства. Аналогично свойства только для записи сформированные для представления «Display».
- Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, размер которого меньше, чем планировалось.
- Установка Visual Studio Async CTP приводит к конфликту с выпуском Razor, который входит в состав ASP.NET MVC 3, установка средств. Убедитесь, что вы не пытайтесь установить Visual Studio Async CTP и выпуском Razor на том же компьютере.
- При изменении представления Razor (файл cshtml), пункта меню перейдите к контроллеру, в Visual Studio не будут доступны, и существуют не фрагменты кода.

<a id="TOC_ASP_NET_3_Beta"></a>
## <a name="aspnet-mvc-3-beta"></a>Бета-версия ASP.NET MVC 3

6 октября 2010 г. была выпущена бета-версия ASP.NET MVC 3. Следующие примечания относятся к бета-версии и могут быть любые обновления или изменения в ASP.NET MVC 3, версии-кандидата разделе выше.

## <a id="0.1__Toc274034215"></a>  Новая бета-версия ASP.NET MVC 3 Featuresin

<a id="0.1__Default_validation_system"></a>В этом разделе описаны возможности, которые были введены в версии бета-версия ASP.NET MVC 3.

### <a id="0.1__Toc274034216"></a>  Диспетчер пакетов NuGet

ASP.NET MVC 3 содержит диспетчер пакетов NuGet, который является средством интегрированный пакет управления для добавления библиотек и средств для проектов Visual Studio. По большей части она автоматизирует действия, которые разработчики Начните уже сегодня, чтобы получить библиотеку в их исходном дереве.

Вы можете работать с NuGet как средство командной строки, как встроенное окно консоли внутри Visual Studio 2010, в контекстном меню Visual Studio и как набор командлетов PowerShell.

Дополнительные сведения о NuGet см [документации по NuGet](https://docs.microsoft.com/nuget/).

### <a id="0.1__Toc274034217"></a>  Улучшенное диалоговое окно "новый проект"

При создании нового проекта в диалоговом окне нового проекта теперь позволяет указать обработчик представлений, а также тип проекта ASP.NET MVC.

![](mvc3-release-notes/_static/image6.png)

В этом выпуске не включена поддержка изменения списка шаблонов и представления, модули, перечисленные в диалоговом окне.

Ниже перечислены шаблоны по умолчанию.

Пустой. Содержит минимальный набор файлов для проекта ASP.NET MVC, включая структурой каталогов по умолчанию для проектов ASP.NET MVC, небольшой файл Site.css, содержащий стили ASP.NET MVC по умолчанию и каталог Scripts, содержащий файлы JavaScript по умолчанию.

Веб-приложение. Предоставляет пример, демонстрирующий использование поставщика членства в ASP.NET MVC.

### <a id="0.1__Toc274034218"></a>  Упрощенный способ указать строго типизированным моделям в представлениях Razor

Способ указания типа модели для строго типизированные представления Razor упрощен с новым @model директив для представлений CSHTML и @ModelType директив для представлений VBHTML. В более ранних версиях ASP.NET MVC следовало бы указать, что строго типизированную модель для Razor представления таким образом:

[!code-cshtml[Main](mvc3-release-notes/samples/sample25.cshtml)]

В этом выпуске можно использовать следующий синтаксис:

[!code-cshtml[Main](mvc3-release-notes/samples/sample26.cshtml)]

### <a id="0.1__Toc274034219"></a>  Поддержка новых веб-страниц ASP.NET, вспомогательные методы

Новая технология ASP.NET Web Pages включает набор вспомогательных методов, которые полезны для добавления функций часто используемых в представлениях и контроллерах. ASP.NET MVC 3 поддерживает эти вспомогательные методы в контроллеры и представления (по необходимости). Эти методы содержатся в сборке System.Web.Helpers. В следующей таблице перечислены некоторые из вспомогательных методов ASP.NET Web Pages.

| **Вспомогательный** | **Описание** |
| --- | --- |
| Диаграмма | Выполняет визуализацию диаграммы в представлении. Содержит методы, такие как Chart.ToWebImage, Chart.Save и Chart.Write. |
| Crypto | Используется хэширование алгоритмов для создания правильно дополнительные salt-значения и хэшированные пароли. |
| WebGrid | Отображает коллекцию объектов (как правило, данные из базы данных) в виде сетки. Поддерживает разбиение по страницам и сортировка. |
| WebImage | Выводит изображение на экран. |
| Веб-почты | Отправляет сообщение электронной почты. |

В этом разделе Краткий справочник перечисляет вспомогательные функции и базовый синтаксис доступен как часть документации синтаксис ASP.NET Razor по следующему АДРЕСУ:

[https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-api-reference](../web-pages/overview/api-reference/asp-net-web-pages-api-reference.md)

### <a id="0.1__Toc274034220"></a>  Поддержка внедрения дополнительных зависимостей

Основываясь на выпуск ASP.NET MVC 3 Preview 1, текущий выпуск включает в себя добавлена поддержка две новые службы и четыре существующие службы и улучшенная поддержка разрешение зависимостей и локатора общей службы.

#### <a name="new-icontrolleractivator-interface-for-fine-grained-controller-instantiation"></a>Новый интерфейс IControllerActivator для точного контроллера при создании экземпляра

Новый интерфейс IControllerActivator обеспечивает более точный контроль над как контроллеры создаются посредством внедрения зависимостей. В следующем примере показано интерфейс:

[!code-csharp[Main](mvc3-release-notes/samples/sample27.cs)]

Сравните это с ролью фабрики контроллеров. Фабрика контроллеров — это реализация интерфейса IControllerFactory, который обеспечивает для нахождения тип контроллера, а также для создания экземпляра этого типа контроллера.

Активаторы отвечают только для создания экземпляра типа контроллера. Они не выполняют поиск типа контроллера. После нахождения контроллера правильный тип, фабрики контроллеров должны делегировать в экземпляр IControllerActivator для обработки фактических экземпляра контроллера.

Класс DefaultControllerFactory имеет новый конструктор, который принимает экземпляр IControllerFactory. Это позволяет использовать внедрение зависимостей для управления этот аспект создания контроллера не нужно переопределить поведение по умолчанию для подстановки тип контроллера.

#### <a name="iservicelocator-interface-replaced-with-idependencyresolver"></a>Интерфейс IServiceLocator заменены IDependencyResolver

На основе отзывов сообщества ASP.NET MVC 3, бета-версии заменяет использование интерфейса IServiceLocator интерфейс IDependencyResolver облегченных соответствующий потребностям ASP.NET MVC. В следующем примере показано нового интерфейса:

[!code-csharp[Main](mvc3-release-notes/samples/sample28.cs)]

В рамках этого изменения настройки ServiceLocator класса также было заменено значением класс DependencyResolver. Регистрации сопоставителя зависимостей будет более ранних версиях ASP.NET MVC:

[!code-csharp[Main](mvc3-release-notes/samples/sample29.cs)]

Реализации этого интерфейса должны просто делегировать базовый контейнер внедрения зависимостей, чтобы предоставить зарегистрированную службу для запрошенного типа.

Если нет зарегистрированных служб запрошенного типа, ASP.NET MVC ожидает реализации этого интерфейса для возврата значения null из GetService и возвращать пустую коллекцию из GetServices.

Новый класс DependencyResolver позволяет зарегистрировать классы, реализующие интерфейс локатора общей службы (IServiceLocator) либо новый интерфейс IDependencyResolver. Дополнительные сведения о локаторе общей службы см. в разделе [CommonServiceLocator на сайте GitHub](https://github.com/unitycontainer/commonservicelocator).

<a id="0.1__Breaking_Changes"></a>

#### <a name="new-iviewactivator-interface-for-fine-grained-view-page-instantiation"></a>Новый интерфейс IViewActivator для создания экземпляра точное представление страницы

Новый интерфейс IViewPageActivator обеспечивает более точный контроль над как просмотреть страницы создаются посредством внедрения зависимостей. Это относится к WebFormView экземпляры и экземпляры RazorView. В следующем примере показано нового интерфейса:

[!code-csharp[Main](mvc3-release-notes/samples/sample30.cs)]

Эти классы теперь принимают аргумент конструктора IViewPageActivator, который позволяет внедрения зависимостей используется для управления, как создаются типы ViewPage, ViewUserControl и WebViewPage.

#### <a name="new-dependency-resolver-support-for-existing-services"></a>Новый поддержка Сопоставитель зависимостей для существующих служб

Новый выпуск включает поддержку разрешения зависимостей для следующих служб:

- Поставщиков проверки модели. Классы, реализующие ModelValidatorProvider могут быть зарегистрированы в сопоставителе зависимостей, а система будет использовать их для поддержки проверки на стороне клиента и сервера.
- Поставщик метаданных модели. Один класс, реализующий ModelMetadataProvider могут быть зарегистрированы в сопоставителе зависимостей, а система будет использовать его для предоставления метаданных для систем шаблонов и проверки.
- Поставщики значений. Классы, реализующие ValueProviderFactory могут быть зарегистрированы в сопоставителе зависимостей, а система будет использовать их для создания поставщиков значений, которые используются контроллер и во время привязки модели.
- Связыватели моделей. Классы, реализующие IModelBinderProvider могут быть зарегистрированы в сопоставителе зависимостей, а система будет использовать их для создания связыватели моделей, которые потребляются система привязки модели.

### <a id="0.1__Toc274034221"></a>  Новая поддержка ненавязчивого Ajax на основе jQuery

ASP.NET MVC включает вспомогательные методы Ajax, такие как следующие:

- Ajax.ActionLink
- Ajax.RouteLink
- Ajax.BeginForm
- Ajax.BeginRouteForm

Эти методы используют JavaScript для вызова метода действия на сервере, а не с помощью полной обратной передачи. Эта функциональность была обновлена чтобы воспользоваться преимуществами jQuery ненавязчивого образом. Вместо того чтобы мешая основной работе, создающие встроенный клиентских скриптов, эти вспомогательные методы разделения поведение из разметки, порождая атрибутов HTML5 с помощью *данных ajax* префикс. Поведение применяется к разметке путем ссылки на соответствующие файлы JavaScript. Убедитесь, что указываются следующие файлы JavaScript:

- jquery-1.4.1.js
- jquery.unobtrusive.ajax.js

Эта функция включена по умолчанию в файле Web.config в новые шаблоны проектов ASP.NET MVC 3, но отключена по умолчанию для существующих проектов. Дополнительные сведения см. в разделе [добавлены флаги уровня приложения для клиентская проверка и ненавязчивый JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) далее в этом документе.

### <a id="0.1__Toc274034222"></a>  Новая поддержка ненавязчивой проверки jQuery.

По умолчанию бета-версия ASP.NET MVC 3 использует проверки jQuery ненавязчивого образом для выполнения проверки на стороне клиента. Чтобы включить ненавязчивой клиентской проверки, звонки примерно следующее из в представлении:

[!code-csharp[Main](mvc3-release-notes/samples/sample31.cs)]

Для этого требуется, что свойство ViewContext.UnobtrusiveJavaScriptEnabled имеет значение true, что можно сделать, выполнив следующий вызов:

[!code-csharp[Main](mvc3-release-notes/samples/sample32.cs)]

Также убедитесь, что указываются следующие файлы JavaScript.

- jquery-1.4.1.js
- jquery.validate.js
- jquery.validate.unobtrusive.js

Эта функция включена по умолчанию в файле Web.config в новые шаблоны проектов ASP.NET MVC 3, но отключена по умолчанию для существующих проектов. Дополнительные сведения см. в разделе [новые флаги уровня приложения для клиентская проверка и ненавязчивый JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) далее в этом документе.

<a id="0.1__Toc274034223"></a>

### <a id="0.1_AddedApplicationWideFlagsForClientValida"></a>  Новые флаги уровня приложения для клиентской проверки и ненавязчивого JavaScript

Можно включить или отключить клиентская проверка и ненавязчивый JavaScript, глобально с помощью статических членов класса HtmlHelper, как показано в следующем примере:

[!code-csharp[Main](mvc3-release-notes/samples/sample33.cs)]

В стандартных шаблонах проектов включения ненавязчивого JavaScript по умолчанию. Кроме того, можно также включить или отключить эти функции в файле Web.config вашего приложения, используя следующие параметры:

[!code-xml[Main](mvc3-release-notes/samples/sample34.xml)]

Так как эти функции можно включить по умолчанию, в класс HtmlHelper, которые позволяют переопределить параметры по умолчанию, как показано в следующих примерах были введены новые перегрузки:

[!code-csharp[Main](mvc3-release-notes/samples/sample35.cs)]

Для обеспечения обратной совместимости обе эти функции отключены по умолчанию.

### <a id="0.1__Toc274034224"></a>  Новая поддержка код, выполняемый перед запуском представления

Теперь можно поместить файл с именем \_viewstart.cshtml (или \_viewstart.vbhtml) в каталоге Views и добавьте код к нему, будут совместно использовать несколько представлений в этом каталоге и его подкаталогах. Например, вы можете поместить следующий код в \_viewstart.cshtml страницы в папке ~/Views:

[!code-cshtml[Main](mvc3-release-notes/samples/sample36.cshtml)]

Задает страницу макета для каждого представления в папке Views и всем вложенным папкам рекурсивно. Когда представление отображается код в \_viewstart.cshtml файл выполняется перед выполнением код представления. \_Viewstart.cshtml код применяется к каждому представлению в этой папке.

По умолчанию, код в \_viewstart.cshtml файл также применяется к представлениям в любую вложенную папку. Однако отдельные вложенные папки могут иметь собственную версию \_viewstart.cshtml файл; в случае локальной версии имеет более высокий приоритет. Например, чтобы запустить код, который является общим для всех представлений для HomeController, поместите \_viewstart.cshtml файл в папке ~/Views/Home.

### <a id="0.1__Toc274034225"></a>  Новая поддержка синтаксиса Razor VBHTML

Предыдущей предварительной версии ASP.NET MVC входит поддержка представлениями, использующий синтаксис Razor, в зависимости от C#. Эти представления используется расширение файла .cshtml. В рамках текущей работы для поддержки Razor бета-версия ASP.NET MVC 3 добавлена поддержка синтаксиса Razor в Visual Basic, который использует расширение файла .vbhtml.

Введение в синтаксис Visual Basic в VBHTML страниц см. в руководстве по следующему АДРЕСУ:

[https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-visual-basic](../web-pages/overview/getting-started/introducing-razor-syntax-vb.md)

### <a id="0.1__Toc274034226"></a>  Более точный контроль над ValidateInputAttribute

ASP.NET MVC был всегда включен класс ValidateInputAttribute, который вызывает инфраструктура проверки запроса ASP.NET core чтобы убедиться в том, что входящий запрос не содержит потенциально вредоносный ввод. По умолчанию включена проверка входных данных. Это можно отключить проверку запросов с помощью атрибута ValidateInputAttribute, как показано в следующем примере:

[!code-csharp[Main](mvc3-release-notes/samples/sample37.cs)]

Тем не менее многие веб-приложения имеют отдельные поля форм, которые необходимо разрешить HTML, а остальные поля не должны. Класс ValidateInputAttribute теперь позволяет указать список полей, которые не должны быть включены в проверку запроса.

Например если вы разрабатываете подсистему ведения блогов, может потребоваться разрешить разметку в полях тела и Сводка. Эти поля могут быть представлены два элемент input, каждый с атрибутом name, соответствующее имени свойства («Текст» и «Сводка»). Чтобы отключить запрос проверки для этих полей, укажите имена (разделенных запятыми) в свойстве исключения класса ValidateInput, как показано в следующем примере:

[!code-csharp[Main](mvc3-release-notes/samples/sample38.cs)]

### <a id="0.1__Toc274034227"></a>  Вспомогательные функции преобразовать символы подчеркивания в дефисы для имен атрибутов HTML, заданные с помощью анонимных объектов

Вспомогательные методы позволяют задавать пары имя/значение атрибута, используя анонимный объект, как показано в следующем примере:

[!code-csharp[Main](mvc3-release-notes/samples/sample39.cs)]

Этот подход не позволяет использовать дефисы в имени атрибута, так как дефис не может использоваться для имени свойства в ASP.NET. Тем не менее дефисы, очень важны для настраиваемых атрибутов HTML5; Например HTML5 используется префикс «data-».

В то же время символы подчеркивания, не может использоваться для имен атрибутов в формате HTML, но при этом допустимы в пределах имена свойств. Таким образом при указании атрибутов, используя анонимный объект, а имена атрибутов содержит символ подчеркивания,, вспомогательные методы Преобразует знаки подчеркивания дефисы. Например следующий синтаксис вспомогательный использует символ подчеркивания:

[!code-csharp[Main](mvc3-release-notes/samples/sample40.cs)]

Предыдущий пример следующую разметку при выполнении модуля поддержки:

[!code-html[Main](mvc3-release-notes/samples/sample41.html)]

## <a id="0.1__Toc274034228"></a>  Исправления ошибок

Шаблон объекта по умолчанию для шаблона помощников EditorFor и DisplayFor теперь поддерживает порядок, указанный в свойстве DisplayAttribute.Order. (В предыдущих версиях параметр Order не использовался.)

Проверка клиента теперь поддерживает проверку переопределенные свойства, имеющие применены атрибуты проверки.

JsonValueProviderFactory зарегистрирован по умолчанию.

## <a id="0.1__Toc274034229"></a>  Критические изменения

Фильтры исключений, которые имеют одинаковое значение порядок изменился порядок выполнения фильтров исключений. В ASP.NET MVC 2 и более ранних версиях исключение фильтрует на контроллере, в том же порядке, как те, в методе действия выполнялись перед фильтрами исключений в методе действия. Обычно это должно быть так, при были применены фильтры исключений без значение указанного порядка. В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым. Как и в более ранних версий Если свойство Order задана явно, фильтры выполняются в указанном порядке.

## <a id="0.1__Toc274034230"></a>  Известные проблемы

Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, размер которого меньше, чем планировалось.

Представления Razor не имеют поддержку IntelliSense и выделение синтаксиса. Предполагается, что поддержка синтаксиса Razor в Visual Studio, будут включены в более поздней версии.

При редактировании представления Razor (CSHTML-файл), <a id="0.1__Toc224729061"> </a> <a id="0.1__Toc238051347"> </a> перейдите к контроллеру пункта меню в Visual Studio не будут доступны, и существуют не фрагменты кода.

При использовании @model Просмотр синтаксиса для указания строго типизированного CSHTML, ярлыки конкретного языка для типов не распознаются. Например @model int не будет работать, но @model Int32 будет работать. Обходной путь для этой ошибки является использование текущее имя типа, при указании типа модели.

При использовании @model синтаксис для указания строго типизированного представления CSHTML (или @ModelType для указания строго типизированного представления VBHTML), обнуляемые типы и объявления массивов не поддерживаются. Например @model int? не поддерживается. Вместо этого используйте `@model Nullable<Int32>`. Синтаксис @model string [] не поддерживается; вместо этого используйте `@model IList<string>`.

При обновлении проекта ASP.NET MVC 2 до ASP.NET MVC 3, обязательно добавьте следующий раздел appSettings файла Web.config:

[!code-xml[Main](mvc3-release-notes/samples/sample42.xml)]

Имеется известная проблема, которая вызывает проверку подлинности форм всегда перенаправлять не прошедшие проверку подлинности пользователей в ~/Account или имя пользователя, без учета параметра проверки подлинности форм, используется в файле Web.config. Обойти это можно добавить следующий параметр приложения.

[!code-xml[Main](mvc3-release-notes/samples/sample43.xml)]

## <a id="0.1__Toc274034231"></a>  Заявление об отказе

© 2011 Корпорация Майкрософт. Все права защищены. Данный документ предоставляется «как-является.» Сведения и мнения, выраженные в данном документе, включая URL-адреса и ссылки на другие веб-сайта, могут быть изменены без предварительного уведомления. Вы принимаете на себя весь риск, связанный с его использованием.

Этот документ не предоставляет вам каких-либо юридических прав интеллектуальной собственности на какие-либо продукты Майкрософт. Вы можете копировать и использовать этот документ для внутренних справочных целей.
