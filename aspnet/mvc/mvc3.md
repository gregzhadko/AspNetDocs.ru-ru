---
uid: mvc/mvc3
title: ASP.NET MVC 3
author: rick-anderson
description: (включает обновление средств 2011 апреля) ASP.NET MVC 3 — это платформа для создания масштабируемых веб-приложений на основе стандартов, использующих хорошо установленный шаблон разработки...
ms.author: riande
ms.date: 10/05/2010
ms.assetid: dddc8812-a0bc-49f9-aafb-caf2064c2b8c
msc.legacyurl: /mvc/mvc3
msc.type: content
ms.openlocfilehash: 421a06c89d4dbcb05d4080033813cc6558b7c698
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78499650"
---
# <a name="aspnet-mvc-3"></a>ASP.NET MVC 3

> *(включает обновление средств 2011 апреля)*
> 
> ASP.NET MVC 3 — это платформа для создания масштабируемых веб-приложений на основе стандартов, использующих хорошо установленные шаблоны разработки, а также возможности ASP.NET и .NET Framework.
> 
> Он устанавливается параллельно с ASP.NET MVC 2, поэтому начните использовать его уже сегодня!
> 
> Загрузите [установщик](https://go.microsoft.com/fwlink/?LinkID=208140)

## <a name="top-features"></a>Основные возможности

- Интегрированная система формирования шаблонов, расширяемая через NuGet
- Шаблоны проектов с поддержкой HTML 5
- Выразительные представления, включая новую подсистему представлений Razor
- Мощные обработчики с внедрением зависимостей и фильтрами глобальных действий
- Расширенная поддержка JavaScript с ненавязчивой проверкой JavaScript, jQuery и привязкой JSON
- *Ознакомьтесь со списком всех функций [ниже](#overview) .*

## <a name="top-links"></a>Основные ссылки

Новые возможности в ASP.NET MVC 3

- Фил Хаак: [выпущен ASP.NET MVC 3](http://haacked.com/archive/2011/01/13/aspnetmvc3-released.aspx)
- Скотт Hanselman: [ASP.NET MvC3, WebMatrix, NuGet, IIS Express и Orchard. веб-выпуск Microsoft Январь в контексте](http://www.hanselman.com/blog/ASPNETMVC3WebMatrixNuGetIISExpressAndOrchardReleasedTheMicrosoftJanuaryWebReleaseInContext.aspx)
- Скотт Гатри (: [объявление о выпуске ASP.NET MVC 3, IIS Express, SQL CE 4, платформы веб-фермы, Orchard, WebMatrix](https://weblogs.asp.net/scottgu/archive/2011/01/13/announcing-release-of-asp-net-mvc-3-iis-express-sql-ce-4-web-farm-framework-orchard-webmatrix.aspx)
- [Заметки о выпуске для ASP.NET MVC 3](../whitepapers/mvc3-release-notes.md)

Установка и Справка

- Установка ASP.NET MVC 3 с помощью [установщика веб-платформы (рекомендуется)](https://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&appid=MVC3)
- Установка ASP.NET MVC 3 с помощью [исполняемого файла установщика](https://go.microsoft.com/fwlink/?LinkID=208140)
- Установка [ASP.NET MVC 3 для предварительной версии Visual Studio 11 Developer](https://go.microsoft.com/fwlink/?LinkID=208140)
- Ознакомьтесь с [учебником введение в ASP.NET MVC 3](overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md)
- Получение справки и обсуждение ASP.NET MVC 3 на [форумах](https://forums.asp.net/1146.aspx)

<a id="overview"></a>
## <a name="aspnet-mvc-3-overview"></a>ASP.NET MVC 3 Overview

ASP.NET MVC 3 строится на ASP.NET MVC 1 и 2, добавляя отличные функции, которые упрощают код и обеспечивают более глубокую расширяемость. В этом разделе представлены общие сведения о многих новых функциях, которые включены в этот выпуск, организованные в следующие разделы:

- [Расширяемое формирование шаблонов с помощью интеграции Мвкскаффолд](#BM_MvcScaffolding)
- [Шаблоны проектов с поддержкой HTML 5](#BM_HTML5)
- [Подсистема представлений Razor](#BM_TheRazorViewEngine)
- [Поддержка нескольких ядер представлений](#BM_Support_for_Multiple_View_Engines)
- [Усовершенствования контроллера](#BM_Controller_Improvements)
- [JavaScript и AJAX](#BM_JavaScript_and_Ajax_Improvements)
- [Улучшения проверки модели](#BM_Model_Validation_Improvements)
- [Улучшения внедрения зависимостей](#BM_Dependency_Injection_Improvements)
- [Другие новые возможности](#BM_Other_New_Features)

<a id="BM_MvcScaffolding"></a>

## <a name="extensible-scaffolding-with-mvcscaffold-integration"></a>Расширяемое формирование шаблонов с помощью интеграции Мвкскаффолд

Новая система формирования шаблонов упрощает выбор и приступить к использованию продукции, если вы совершенно не знакомы с платформой, а также Автоматизируйте распространенные задачи разработки, если у вас есть опыт и уже знаете, что вы делаете.

Это поддерживается новым пакетом *формирования шаблонов* NuGet с именем **MvcScaffolding**. Термин «формирование шаблонов» используется многими программными технологиями, что означает «быстрое создание базовой структуры программного обеспечения, которую можно изменить и настроить». Пакет формирования шаблонов, который мы создаем для ASP.NET MVC, очень полезен в нескольких сценариях:

- **Если вы впервые изучаете ASP.NET MVC**, это позволяет быстро получить некоторый полезный, работающий код, который можно изменить и адаптировать в соответствии с вашими потребностями. Он позволяет сэкономить вас от Траума на пустой странице и не имеет идеи, с чего начать!
- **Если вы хорошо знакомы с ASP.NET MVC и просматриваете некоторые новые технологии** , такие как объектно-реляционное средство сопоставления, обработчик представлений, Библиотека тестирования и т. д., так как создатель этой технологии может также создать для него пакет формирования шаблонов.
- **Если ваша работа предполагает многократное создание похожих классов или файлов**, так как вы можете создавать пользовательские шаблоны, которые выводят тестовые основы, сценарии развертывания или другие необходимые данные. Все участники вашей команды также могут использовать пользовательские шаблоны шаблонов.

К другим функциям в MvcScaffolding относятся:

- Поддержка проектов C# и VB
- Поддержка обработчиков представлений Razor и ASPX
- Поддерживает формирование шаблонов в областях ASP.NET MVC и использование настраиваемых макетов и шаблонов представлений
- Вы можете легко настроить выходные данные, изменив шаблоны T4.
- Вы можете добавлять совершенно новые средства формирования шаблонов с помощью настраиваемой логики PowerShell и пользовательских шаблонов T4. Эти данные (и любые настраиваемые параметры) автоматически отображаются в списке завершения на вкладке консоли.
- Вы можете получить пакеты NuGet, содержащие дополнительные средства формирования шаблонов для различных технологий (например, для LINQ to SQL сейчас существует эксперимент), а также сочетать и сопоставлять их вместе.

Обновление инструментов ASP.NET MVC 3 включает в себя отличную поддержку Visual Studio для этой системы формирования шаблонов, например:

- Диалоговое окно добавления контроллера теперь поддерживает автоматическое создание шаблонов для действий по созданию, чтению, обновлению и удалению контроллера и соответствующим представлениям. По умолчанию это код доступа к данным, использующий EF Code First.
- Диалоговое окно добавления контроллера поддерживает *расширяемые шаблоны* с помощью пакетов NuGet, таких как *MvcScaffolding*. Это позволяет подключать пользовательские шаблоны в диалоговом окне, что позволит создавать шаблоны для других технологий доступа к данным, таких как NHibernate или даже JET с Одбкдирект, если это так.

Дополнительные сведения о формировании шаблонов в ASP.NET MVC 3 см. в следующих ресурсах:

- Сандерсон Стива, включая: 

    1. [Введение. формирование шаблона проекта ASP.NET MVC 3 с помощью пакета MvcScaffolding](http://blog.stevensanderson.com/2011/01/13/scaffold-your-aspnet-mvc-3-project-with-the-mvcscaffolding-package/)
    2. [Стандартное использование: типичные варианты использования и параметры](http://blog.stevensanderson.com/2011/01/13/mvcscaffolding-standard-usage/)
    3. [Связи «один ко многим»](http://blog.stevensanderson.com/2011/01/28/mvcscaffolding-one-to-many-relationships/)
    4. [Действия формирования шаблонов и модульные тесты](http://blog.stevensanderson.com/2011/03/28/scaffolding-actions-and-unit-tests-with-mvcscaffolding/)
    5. [Переопределение шаблонов T4](http://blog.stevensanderson.com/2011/04/06/mvcscaffolding-overriding-the-t4-templates/)
    6. [Эта запись: создание пользовательских шаблонов](http://blog.stevensanderson.com/2011/04/07/mvcscaffolding-creating-custom-scaffolders/)
- Публикация Скотта Hanselman в сеансе основного контроллера домена 2010 [Создание блога с Microsoft "неименованный пакет Web любовь"](http://www.hanselman.com/blog/PDC10BuildingABlogWithMicrosoftUnnamedPackageOfWebLove.aspx)
- [Заметки о выпуске MVC 3](../whitepapers/mvc3-release-notes.md)

<a id="BM_HTML5"></a>

## <a name="html-5-project-templates"></a>Шаблоны проектов HTML 5

Диалоговое окно Новый проект содержит флажок Включить версии шаблонов проектов для HTML 5. Эти шаблоны используют Modernizr 1,7 для обеспечения поддержки совместимости для HTML 5 и CSS 3 в браузерах нижнего уровня.

<a id="BM_TheRazorViewEngine"></a>

## <a name="the-razor-view-engine"></a>Подсистема представлений Razor

ASP.NET MVC 3 поставляется с новым обработчиком представлений с именем Razor, который предоставляет следующие преимущества:

- Синтаксис Razor является чистым и лаконичным, требует минимального числа нажатий клавиш.
- Razor легко освоить, частично потому что он основан на существующих языках, таких как C# и Visual Basic.
- Visual Studio включает IntelliSense и цветовую раскраску кода для синтаксис Razor.
- Представления Razor могут быть модульными тестами без необходимости запуска приложения или запуска веб-сервера.

Ниже перечислены некоторые новые возможности Razor.

- `@model` синтаксис для указания типа, передаваемого в представление.
- синтаксис комментария `@* *@`.
- Возможность указывать значения по умолчанию (например, `layoutpage`) один раз для всего сайта.
- Метод `Html.Raw` для отображения текста без HTML-кодирования.
- Поддержка совместного использования кода несколькими представлениями ( *\_виевстарт. cshtml* или *\_виевстарт. vbhtml* Files).

Razor также включает новые вспомогательные методы HTML, например следующие:

- `Chart`. Визуализирует диаграмму, предлагая те же функции, что и элемент управления диаграммы в ASP.NET 4.
- `WebGrid`. Визуализирует сетку данных, используя функции разбиения по страницам и сортировки.
- `Crypto`. Использует алгоритмы хэширования для создания правильных и хэшированных паролей.
- `WebImage`. Визуализирует изображение.
- `WebMail`. Отправляет электронное сообщение.

Дополнительные сведения о Razor см. в следующих ресурсах:

- [Запись блога Скотта Гатри (, посвященная Razor](https://weblogs.asp.net/scottgu/archive/2010/07/02/introducing-razor.aspx)
- [Запись блога Скотта Гатри (, посвященная ключевому слову @model](https://weblogs.asp.net/scottgu/archive/2010/10/19/asp-net-mvc-3-new-model-directive-support-in-razor.aspx)
- [Запись блога Скотта Гатри (, посвященная макетам Razor](https://weblogs.asp.net/scottgu/archive/2010/10/22/asp-net-mvc-3-layouts.aspx)
- [Краткий справочник по API Razor](../web-pages/overview/api-reference/asp-net-web-pages-api-reference.md)
- [Заметки о выпуске MVC 3](../whitepapers/mvc3-release-notes.md)

<a id="BM_Support_for_Multiple_View_Engines"></a>

## <a name="support-for-multiple-view-engines"></a>Поддержка нескольких ядер представлений

Диалоговое окно **Добавление представления** в ASP.NET MVC 3 позволяет выбрать подсистему представлений, с которой вы хотите работать, а диалоговое окно **Новый проект** позволяет указать подсистему представления по умолчанию для проекта. Можно выбрать подсистему просмотра веб-форм (ASPX), Razor или обработчик представлений с открытым кодом, например [Spark](http://sparkviewengine.com/), [нхамл](https://code.google.com/p/nhaml/)или [Нджанго](http://ndjango.org/).

<a id="BM_Controller_Improvements"></a>

## <a name="controller-improvements"></a>Усовершенствования контроллера

### <a name="global-action-filters"></a>Глобальные фильтры действий

Иногда требуется выполнить логику перед выполнением метода действия или после выполнения метода действия. Для этого ASP.NET MVC 2 предоставил фильтры действий. Фильтры действий — это настраиваемые атрибуты, которые предоставляют декларативные средства для добавления поведения действий, выполняемых перед действием и после действия, к конкретным методам действия контроллера. Однако в некоторых случаях может потребоваться поведение, выполняемое до или после действия, которое применяется ко всем методам действий. MVC 3 позволяет указывать глобальные фильтры, добавляя их в коллекцию `GlobalFilters`. Дополнительные сведения о глобальных фильтрах действий см. в следующих ресурсах:

- [Блог Скотта Гатри (в предварительной версии MVC 3](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx)
- [Фильтрация в ASP.NET MVC](https://msdn.microsoft.com/library/gg416513(VS.98).aspx)

### <a name="new-viewbag-property"></a>Новое свойство "ViewBag"

Контроллеры MVC 2 поддерживают свойство `ViewData`, которое позволяет передавать данные в шаблон представления с помощью API словаря с поздним связыванием. В MVC 3 можно также использовать несколько более простой синтаксис со свойством `ViewBag` для выполнения той же цели. Например, вместо записи `ViewData["Message"]="text"`можно написать `ViewBag.Message="text"`. Для использования свойства `ViewBag` не нужно определять строго типизированные классы. Поскольку это динамическое свойство, вместо этого можно получить или задать свойства, и оно будет разрешать их динамически во время выполнения. На внутреннем уровне `ViewBag` свойства хранятся в виде пар "имя-значение" в словаре `ViewData`. (Примечание. в большинстве предварительных версий MVC 3 свойство `ViewBag` было называться свойством `ViewModel`.)

### <a name="new-actionresult-types"></a>Новые типы "ActionResult"

Следующие типы `ActionResult` и соответствующие вспомогательные методы являются новыми или расширенными в MVC 3:

- [Хттпнотфаундресулт](https://msdn.microsoft.com/library/system.web.mvc.httpnotfoundresult(v=vs.98).aspx). Возвращает клиенту код состояния HTTP 404.
- [Редиректресулт](https://msdn.microsoft.com/library/system.web.mvc.redirectresult(v=VS.98).aspx). Возвращает временное перенаправление (код состояния HTTP 302) или постоянное перенаправление (код состояния HTTP 301) в зависимости от логического параметра. В сочетании с этим изменением класс [контроллера](https://msdn.microsoft.com/library/system.web.mvc.controller(v=VS.98).aspx) теперь имеет три метода для выполнения постоянных перенаправлений: `RedirectPermanent`, `RedirectToRoutePermanent`и `RedirectToActionPermanent`. Эти методы возвращают экземпляр `RedirectResult` со свойством `Permanent`, для которого задано значение `true`.
- [Хттпстатускодересулт](https://msdn.microsoft.com/library/system.web.mvc.httpstatuscoderesult(v=VS.98).aspx). Возвращает указанный пользователем код состояния HTTP.

<a id="BM_JavaScript_and_Ajax_Improvements"></a>

## <a name="javascript-and-ajax-improvements"></a>Усовершенствования JavaScript и AJAX

По умолчанию вспомогательные методы AJAX и проверки в MVC 3 используют ненавязчивый подход JavaScript. Ненавязчивый JavaScript позволяет избежать встраивания встроенного кода JavaScript в HTML. Это делает код HTML меньше и быстрее, а также упрощает выгрузку или настройку библиотек JavaScript. Вспомогательные методы проверки в MVC 3 также используют подключаемый модуль `jQueryValidate` по умолчанию. Если требуется поведение MVC 2, можно отключить ненавязчивый JavaScript с помощью параметра файла *Web. config* . Дополнительные сведения об улучшениях JavaScript и AJAX см. в следующих ресурсах:

- [Основные сведения о ненавязчивом JavaScript на сайте Википедии](http://en.wikipedia.org/wiki/Unobtrusive_JavaScript)
- [Ненавязчивая запись JavaScript Михаил Уилсон (](http://bradwilson.typepad.com/blog/2010/10/mvc3-unobtrusive-ajax.html)
- [Сообщение о ненавязчивой проверке JavaScript Михаил Уилсон (](http://bradwilson.typepad.com/blog/2010/10/mvc3-unobtrusive-validation.html)
- [Создание приложения MVC 3 с помощью Razor и ненавязчивого JavaScript](overview/older-versions/creating-a-mvc-3-application-with-razor-and-unobtrusive-javascript.md) (учебник на сайте ASP.NET)
- [Заметки о выпуске MVC 3](../whitepapers/mvc3-release-notes.md)

### <a name="client-side-validation-enabled-by-default"></a>Проверка на стороне клиента включена по умолчанию

В более ранних версиях MVC необходимо явно вызвать метод `Html.EnableClientValidation` из представления, чтобы обеспечить проверку на стороне клиента. В MVC 3 это больше не требуется, так как проверка на стороне клиента включена по умолчанию. (Его можно отключить с помощью параметра в файле *Web. config* .)

Чтобы проверка на стороне клиента работала, по-прежнему необходимо ссылаться на соответствующие библиотеки проверки jQuery и jQuery на сайте. Эти библиотеки можно размещать на собственном сервере или ссылаться на них из сети доставки содержимого (CDN), например CDN от Майкрософт или Google.

### <a name="remote-validator"></a>Удаленный проверяющий элемент управления

ASP.NET MVC 3 поддерживает новый класс [ремотеаттрибуте](https://msdn.microsoft.com/library/system.web.mvc.remoteattribute(v=VS.98).aspx) , который позволяет воспользоваться преимуществами поддержки удаленного проверяющего модуля проверки JQuery. Это позволяет библиотеке проверки на стороне клиента автоматически вызывать пользовательский метод, определяемый на сервере, для выполнения логики проверки, которая может быть выполнена только на стороне сервера.

В следующем примере атрибут `Remote` указывает, что при проверке клиента будет вызвано действие с именем `UserNameAvailable` в классе `UsersController`, чтобы проверить поле `UserName`.

[!code-csharp[Main](mvc3/samples/sample1.cs)]

В следующем примере показан соответствующий контроллер.

[!code-csharp[Main](mvc3/samples/sample2.cs)]

Дополнительные сведения об использовании атрибута `Remote` см. в разделе [инструкции. Реализация удаленной проверки в ASP.NET MVC](https://msdn.microsoft.com/library/gg508808(VS.98).aspx) в библиотеке MSDN.

### <a name="json-binding-support"></a>Поддержка привязки JSON

ASP.NET MVC 3 включает встроенную поддержку привязки JSON, которая позволяет методам действий принимать данные в кодировке JSON и привязывать их к параметрам метода действия. Эта возможность полезна в сценариях с использованием клиентских шаблонов и привязки данных. (Клиентские шаблоны позволяют форматировать и отображать один элемент данных или набор элементов данных с помощью шаблонов, которые выполняются на клиенте.) MVC 3 позволяет легко подключать шаблоны клиентов с помощью методов действий на сервере, который отправляет и получает данные JSON. Дополнительные сведения о поддержке привязки JSON см. в разделе **улучшения JavaScript и AJAX** статьи [блог СКОТТА ГАТРИ (по технологии MVC 3 Preview](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx).

<a id="BM_Model_Validation_Improvements"></a>

## <a name="model-validation-improvements"></a>Улучшения проверки модели

### <a name="dataannotations-metadata-attributes"></a>Атрибуты метаданных для примечаний

ASP.NET MVC 3 поддерживает `DataAnnotations` атрибуты метаданных, такие как `DisplayAttribute`.

### <a name="validationattribute-class"></a>Класс "ValidationAttribute"

Класс `ValidationAttribute` был улучшен в .NET Framework 4 для поддержки новой перегрузки `IsValid`, которая предоставляет дополнительные сведения о текущем контексте проверки, например о том, какой объект проверяется. Это позволяет более широкие сценарии, в которых можно проверить текущее значение на основе другого свойства модели. Например, новый атрибут `CompareAttribute` позволяет сравнивать значения двух свойств модели. В следующем примере свойство `ComparePassword` должно соответствовать полю `Password`, чтобы быть допустимым.

[!code-csharp[Main](mvc3/samples/sample3.cs)]

### <a name="validation-interfaces"></a>Интерфейсы проверки

Интерфейс [ивалидатаблеобжект](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.ivalidatableobject.aspx) позволяет выполнять проверку на уровне модели и позволяет предоставлять сообщения об ошибках проверки, относящиеся к состоянию общей модели, или между двумя свойствами в модели. MVC 3 теперь получает ошибки от интерфейса `IValidatableObject` при привязке модели и автоматически помечает или выделяет затронутые поля в представлении с помощью встроенных вспомогательных функций HTML-форм.

Интерфейс [иклиентвалидатабле](https://msdn.microsoft.com/library/system.web.mvc.iclientvalidatable(v=VS.98).aspx) позволяет ASP.NET MVC обнаруживать во время выполнения, есть ли у проверяющего элемента поддержка проверки клиента. Этот интерфейс разработан таким образом, чтобы его можно было интегрировать с различными платформами проверки.

Дополнительные сведения об интерфейсах проверки см. в разделе **улучшения модели проверки** в [записи блога по MVC 3 Гатри (Preview](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx). (Однако обратите внимание, что ссылка на "Ивалидатеобжект" в блоге должна быть "Ивалидатаблеобжект".)

<a id="BM_Dependency_Injection_Improvements"></a>

## <a name="dependency-injection-improvements"></a>Улучшения внедрения зависимостей

ASP.NET MVC 3 обеспечивает лучшую поддержку применения внедрения зависимостей (DI), а также для интеграции с контейнерами внедрения зависимостей или инверсией управления (IOC). Поддержка DI была добавлена в следующие области:

- Контроллеры (регистрация и внедрение фабрик контроллеров, внедрение контроллеров).
- Представления (регистрация и внедрение обработчиков представлений, внедрение зависимостей на страницы представления).
- Фильтры действий (Поиск и внедрение фильтров).
- Связыватели моделей (регистрация и внедрение).
- Поставщики проверки модели (регистрация и внедрение).
- Поставщики метаданных модели (регистрация и внедрение).
- Поставщики значений (регистрация и внедрение).

MVC 3 поддерживает [общую библиотеку локаторов служб](https://github.com/unitycontainer/commonservicelocator) и любой контейнер di, который поддерживает интерфейс `IServiceLocator` этой библиотеки. Он также поддерживает новый интерфейс `IDependencyResolver`, который упрощает интеграцию сред внедрения.

Дополнительные сведения о DI в MVC 3 см. в следующих ресурсах:

- [Серия записей блога Михаил Уилсон (по размещению службы](http://bradwilson.typepad.com/blog/2010/07/service-location-pt1-introduction.html)
- [Заметки о выпуске MVC 3](../whitepapers/mvc3-release-notes.md)

<a id="BM_Other_New_Features"></a>

## <a name="other-new-features"></a>Другие новые функции

### <a name="nuget-integration"></a>Интеграция NuGet

ASP.NET MVC 3 автоматически устанавливает и включает NuGet в процессе установки. NuGet — это бесплатный диспетчер пакетов с открытым исходным кодом, который упрощает поиск, установку и использование библиотек и средств .NET в проектах. Он работает со всеми типами проектов Visual Studio (включая веб-формы ASP.NET и ASP.NET MVC).

NuGet позволяет разработчикам, которые поддерживают проекты с открытым кодом (например, такие проекты, как MOQ, NHibernate, Нинжект, StructureMap, NUnit, Windsor, Рхиномоккс и ELMAH), упаковывать свои библиотеки и регистрировать их в интерактивной коллекции. Затем разработчики .NET хотят использовать одну из этих библиотек, чтобы найти пакет и установить его в проектах, над которыми они работают.

При обновлении инструментов ASP.NET 3 шаблоны проектов включают в себя библиотеки JavaScript предварительно установленные пакеты NuGet, поэтому они могут обновляться через NuGet. Entity Framework Code First также предустановлен в виде пакета NuGet.

Дополнительные сведения о NuGet см. в [документации по NuGet](https://docs.microsoft.com/nuget/).

### <a name="partial-page-output-caching"></a>Частичное кэширование вывода страниц

ASP.NET MVC поддерживал кэширование вывода полных ответов страниц с момента выпуска версии 1. MVC 3 также поддерживает частичное кэширование вывода страниц, что позволяет легко кэшировать регионы или фрагменты ответа. Дополнительные сведения о кэшировании см. в разделе **частичное кэширование вывода страницы** [в записи блога Скотта Гатри (, посвященной версии-кандидату MVC 3](https://weblogs.asp.net/scottgu/archive/2010/11/09/announcing-the-asp-net-mvc-3-release-candidate.aspx) , а также в разделе **кэширование выходных данных дочернего действия** в [заметках о выпуске MVC 3](../whitepapers/mvc3-release-notes.md).

### <a name="granular-control-over-request-validation"></a>Детализированный контроль над проверкой запросов

ASP.NET MVC имеет встроенную проверку запросов, которая автоматически помогает защититься от атак путем внедрения XSS и HTML. Однако иногда требуется явно отключить проверку запросов, например, если вы хотите разрешить пользователям публиковать HTML-содержимое (например, в записях блога или содержимом CMS). Теперь можно добавить атрибут [алловхтмл](https://msdn.microsoft.com/library/system.web.mvc.allowhtmlattribute(v=VS.98).aspx) к моделям или представлениям, чтобы отключить проверку запросов для каждого свойства во время привязки модели. Дополнительные сведения о проверке запросов см. в следующих ресурсах:

- Раздел " **ненавязчивый JavaScript и проверка** " в записи [блога Скотта Гатри (, посвященной версии-кандидату MVC 3](https://weblogs.asp.net/scottgu/archive/2010/11/09/announcing-the-asp-net-mvc-3-release-candidate.aspx).
- [Заметки о выпуске MVC 3](../whitepapers/mvc3-release-notes.md)

### <a name="extensible-new-project-dialog-box"></a>Расширяемое диалоговое окно "Создание проекта"

В ASP.NET MVC 3 можно добавлять шаблоны проектов, обработчики представлений и платформы проектов модульных тестов в диалоговое окно **Новый проект** .

### <a name="template-scaffolding-improvements"></a>Усовершенствования формирования шаблонов шаблонов

Шаблоны формирования шаблонов MVC 3 ASP.NET более эффективно, чем определять свойства первичного ключа в моделях и обрабатывать их соответствующим образом, чем в более ранних версиях MVC. (Например, шаблоны формирования шаблонов теперь позволяют убедиться, что первичный ключ не сформирован как редактируемое поле формы.)

По умолчанию в шаблонах Create и Edit теперь используется вспомогательный модуль `Html.EditorFor`, а не вспомогательный метод `Html.TextBoxFor`. Это улучшает поддержку метаданных модели в форме атрибутов заметки к данным, когда диалоговое окно **Добавление представления** создает представление.

### <a name="new-overloads-for-htmllabelfor-and-htmllabelformodel"></a>Новые перегрузки для "HTML. Лабелфор" и "HTML. Лабелформодел"

Для вспомогательных методов `LabelFor` и `LabelForModel` были добавлены новые перегрузки методов. Новые перегрузки позволяют указать или переопределить текст метки.

### <a name="sessionless-controller-support"></a>Поддержка бессеансового контроллера

В ASP.NET MVC 3 можно указать, должен ли класс контроллера использовать состояние сеанса, и если да, то должно ли состояние сеанса доступно для чтения, записи или только для чтения. Дополнительные сведения о поддержке контроллеров, поддерживающих сеансы, см. в разделе [заметки о выпуске MVC 3](../whitepapers/mvc3-release-notes.md).

### <a name="new-additionalmetadataattribute-class"></a>Новый класс "Аддитионалметадатааттрибуте"

Атрибут [аддитионалметадата](https://msdn.microsoft.com/library/system.web.mvc.additionalmetadataattribute(v=VS.98).aspx) можно использовать для заполнения словаря `ModelMetadata.AdditionalValues` для свойства модели. Например, если модель представления имеет свойство, которое должно отображаться только для администратора, можно добавить к нему заметки, как показано в следующем примере:

[!code-csharp[Main](mvc3/samples/sample4.cs)]

Эти метаданные доступны любому шаблону отображения или редактора при отрисовке модели представления продукта. Вы должны интерпретировать сведения о метаданных.

### <a name="accountcontroller-improvements"></a>Усовершенствования AccountController

AccountController в шаблоне Интернет – проекта значительно улучшился.

### <a name="new-intranet-project-template"></a>Новый шаблон проекта интрасети

Включается новый шаблон проекта интрасети, который включает проверку подлинности Windows и удаляет AccountController.
