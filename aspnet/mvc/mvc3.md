---
uid: mvc/mvc3
title: ASP.NET MVC 3 | Документация Майкрософт
author: rick-anderson
description: (включает в себя апреля 2011 г. средства обновления) ASP.NET MVC 3 — это платформа для создания масштабируемых, основанные на стандартах веб-приложений, с использованием шаблона проектирования, широко известных...
ms.author: riande
ms.date: 10/05/2010
ms.assetid: dddc8812-a0bc-49f9-aafb-caf2064c2b8c
msc.legacyurl: /mvc/mvc3
msc.type: content
ms.openlocfilehash: 82d18865815568c5df9768fd9dd403f11ebd1714
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57045431"
---
<a name="aspnet-mvc-3"></a><span data-ttu-id="d0a05-103">ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="d0a05-103">ASP.NET MVC 3</span></span>
====================
> <span data-ttu-id="d0a05-104">*(включает в себя апреля 2011 г. средства обновления)*</span><span class="sxs-lookup"><span data-stu-id="d0a05-104">*(includes April 2011 Tools Update)*</span></span>
> 
> <span data-ttu-id="d0a05-105">ASP.NET MVC 3 — это платформа для создания масштабируемых, основанные на стандартах веб-приложений, с помощью хорошо проверенных шаблонах проектирования и возможности ASP.NET и .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="d0a05-105">ASP.NET MVC 3 is a framework for building scalable, standards-based web applications using well-established design patterns and the power of ASP.NET and the .NET Framework.</span></span>
> 
> <span data-ttu-id="d0a05-106">Он устанавливает side-by-side с ASP.NET MVC 2, чтобы начать использовать ее уже сегодня!</span><span class="sxs-lookup"><span data-stu-id="d0a05-106">It installs side-by-side with ASP.NET MVC 2, so get started using it today!</span></span>
> 
> <span data-ttu-id="d0a05-107">Скачайте [установщик здесь](https://go.microsoft.com/fwlink/?LinkID=208140)</span><span class="sxs-lookup"><span data-stu-id="d0a05-107">Download the [installer here](https://go.microsoft.com/fwlink/?LinkID=208140)</span></span>


## <a name="top-features"></a><span data-ttu-id="d0a05-108">Лучшие компоненты</span><span class="sxs-lookup"><span data-stu-id="d0a05-108">Top Features</span></span>

- <span data-ttu-id="d0a05-109">Интегрированная система формирования шаблонов, расширяемой с помощью NuGet</span><span class="sxs-lookup"><span data-stu-id="d0a05-109">Integrated Scaffolding system extensible via NuGet</span></span>
- <span data-ttu-id="d0a05-110">Шаблоны HTML 5 поддержкой проектов</span><span class="sxs-lookup"><span data-stu-id="d0a05-110">HTML 5 enabled project templates</span></span>
- <span data-ttu-id="d0a05-111">Выразительный представления, включая новый обработчик представлений Razor</span><span class="sxs-lookup"><span data-stu-id="d0a05-111">Expressive Views including the new Razor View Engine</span></span>
- <span data-ttu-id="d0a05-112">Мощные обработчиков с помощью внедрения зависимостей и глобальные фильтры действий</span><span class="sxs-lookup"><span data-stu-id="d0a05-112">Powerful hooks with Dependency Injection and Global Action Filters</span></span>
- <span data-ttu-id="d0a05-113">Поддержка Rich JavaScript ненавязчивый JavaScript, проверки jQuery и привязки JSON</span><span class="sxs-lookup"><span data-stu-id="d0a05-113">Rich JavaScript support with unobtrusive JavaScript, jQuery Validation, and JSON binding</span></span>
- <span data-ttu-id="d0a05-114">*Чтение списка все функции [ниже](#overview)*</span><span class="sxs-lookup"><span data-stu-id="d0a05-114">*Read the full feature list [below](#overview)*</span></span>

## <a name="top-links"></a><span data-ttu-id="d0a05-115">Ссылок на ведущие</span><span class="sxs-lookup"><span data-stu-id="d0a05-115">Top Links</span></span>

<span data-ttu-id="d0a05-116">Новые возможности в ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="d0a05-116">What's New in ASP.NET MVC 3</span></span>

- <span data-ttu-id="d0a05-117">Фил Хаак: [ASP.NET MVC 3 выпуска](http://haacked.com/archive/2011/01/13/aspnetmvc3-released.aspx)</span><span class="sxs-lookup"><span data-stu-id="d0a05-117">Phil Haack: [ASP.NET MVC 3 Released](http://haacked.com/archive/2011/01/13/aspnetmvc3-released.aspx)</span></span>
- <span data-ttu-id="d0a05-118">Скотт Хансельман: [ASP.NET MVC3 WebMatrix, NuGet, IIS Express и Orchard выпущены - выпуска Web января корпорации Майкрософт в контексте](http://www.hanselman.com/blog/ASPNETMVC3WebMatrixNuGetIISExpressAndOrchardReleasedTheMicrosoftJanuaryWebReleaseInContext.aspx)</span><span class="sxs-lookup"><span data-stu-id="d0a05-118">Scott Hanselman: [ASP.NET MVC3, WebMatrix, NuGet, IIS Express and Orchard released - The Microsoft January Web Release in Context](http://www.hanselman.com/blog/ASPNETMVC3WebMatrixNuGetIISExpressAndOrchardReleasedTheMicrosoftJanuaryWebReleaseInContext.aspx)</span></span>
- <span data-ttu-id="d0a05-119">Скотт Гатри: [Объявление о выпуске ASP.NET MVC 3, IIS Express, SQL CE 4, Web Farm Framework, Orchard, WebMatrix](https://weblogs.asp.net/scottgu/archive/2011/01/13/announcing-release-of-asp-net-mvc-3-iis-express-sql-ce-4-web-farm-framework-orchard-webmatrix.aspx)</span><span class="sxs-lookup"><span data-stu-id="d0a05-119">Scott Guthrie: [Announcing release of ASP.NET MVC 3, IIS Express, SQL CE 4, Web Farm Framework, Orchard, WebMatrix](https://weblogs.asp.net/scottgu/archive/2011/01/13/announcing-release-of-asp-net-mvc-3-iis-express-sql-ce-4-web-farm-framework-orchard-webmatrix.aspx)</span></span>
- [<span data-ttu-id="d0a05-120">Заметки о выпуске для ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="d0a05-120">Release Notes for ASP.NET MVC 3</span></span>](../whitepapers/mvc3-release-notes.md)

<span data-ttu-id="d0a05-121">Установка и справки</span><span class="sxs-lookup"><span data-stu-id="d0a05-121">Installation and Help</span></span>

- <span data-ttu-id="d0a05-122">Установка с помощью ASP.NET MVC 3 [установщика веб-платформы (рекомендуется)](https://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&appid=MVC3)</span><span class="sxs-lookup"><span data-stu-id="d0a05-122">Install ASP.NET MVC 3 using the [Web Platform Installer (recommended)](https://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&appid=MVC3)</span></span>
- <span data-ttu-id="d0a05-123">Установка с помощью ASP.NET MVC 3 [исполняемого файла установщика](https://go.microsoft.com/fwlink/?LinkID=208140)</span><span class="sxs-lookup"><span data-stu-id="d0a05-123">Install ASP.NET MVC 3 using the [installer executable](https://go.microsoft.com/fwlink/?LinkID=208140)</span></span>
- <span data-ttu-id="d0a05-124">Установка [ASP.NET MVC 3 для Visual Studio 11 Developer Preview](https://go.microsoft.com/fwlink/?LinkID=208140)</span><span class="sxs-lookup"><span data-stu-id="d0a05-124">Install [ASP.NET MVC 3 for Visual Studio 11 Developer Preview](https://go.microsoft.com/fwlink/?LinkID=208140)</span></span>
- <span data-ttu-id="d0a05-125">Чтение [введение к руководству по ASP.NET MVC 3](overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md)</span><span class="sxs-lookup"><span data-stu-id="d0a05-125">Read the [Intro to ASP.NET MVC 3 tutorial](overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md)</span></span>
- <span data-ttu-id="d0a05-126">Получение справки и обсудить ASP.NET MVC 3 в [форумы](https://forums.asp.net/1146.aspx)</span><span class="sxs-lookup"><span data-stu-id="d0a05-126">Get help and discuss ASP.NET MVC 3 in the [forums](https://forums.asp.net/1146.aspx)</span></span>

<a id="overview"></a>
## <a name="aspnet-mvc-3-overview"></a><span data-ttu-id="d0a05-127">Общие сведения о ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="d0a05-127">ASP.NET MVC 3 Overview</span></span>

<span data-ttu-id="d0a05-128">ASP.NET MVC 3 лежит ASP.NET MVC 1 и 2, добавление полезных функций, как упростить код и разрешить глубже расширяемости.</span><span class="sxs-lookup"><span data-stu-id="d0a05-128">ASP.NET MVC 3 builds on ASP.NET MVC 1 and 2, adding great features that both simplify your code and allow deeper extensibility.</span></span> <span data-ttu-id="d0a05-129">В этом разделе представлен обзор многих новых функций, включенных в этот выпуск, включает следующие разделы:</span><span class="sxs-lookup"><span data-stu-id="d0a05-129">This topic provides an overview of many of the new features that are included in this release, organized into the following sections:</span></span>

- [<span data-ttu-id="d0a05-130">Расширяемая формирования шаблонов с интеграцией MvcScaffold</span><span class="sxs-lookup"><span data-stu-id="d0a05-130">Extensible Scaffolding with MvcScaffold integration</span></span>](#BM_MvcScaffolding)
- [<span data-ttu-id="d0a05-131">Шаблоны HTML 5 поддержкой проектов</span><span class="sxs-lookup"><span data-stu-id="d0a05-131">HTML 5 enabled project templates</span></span>](#BM_HTML5)
- [<span data-ttu-id="d0a05-132">Подсистема просмотра Razor</span><span class="sxs-lookup"><span data-stu-id="d0a05-132">The Razor View Engine</span></span>](#BM_TheRazorViewEngine)
- [<span data-ttu-id="d0a05-133">Поддержка нескольких обработчиков представлений</span><span class="sxs-lookup"><span data-stu-id="d0a05-133">Support for Multiple View Engines</span></span>](#BM_Support_for_Multiple_View_Engines)
- [<span data-ttu-id="d0a05-134">Усовершенствования контроллера</span><span class="sxs-lookup"><span data-stu-id="d0a05-134">Controller Improvements</span></span>](#BM_Controller_Improvements)
- [<span data-ttu-id="d0a05-135">JavaScript и Ajax</span><span class="sxs-lookup"><span data-stu-id="d0a05-135">JavaScript and Ajax</span></span>](#BM_JavaScript_and_Ajax_Improvements)
- [<span data-ttu-id="d0a05-136">Усовершенствования проверки модели</span><span class="sxs-lookup"><span data-stu-id="d0a05-136">Model Validation Improvements</span></span>](#BM_Model_Validation_Improvements)
- [<span data-ttu-id="d0a05-137">Улучшения внедрения зависимостей</span><span class="sxs-lookup"><span data-stu-id="d0a05-137">Dependency Injection Improvements</span></span>](#BM_Dependency_Injection_Improvements)
- [<span data-ttu-id="d0a05-138">Другие новые функции</span><span class="sxs-lookup"><span data-stu-id="d0a05-138">Other New Features</span></span>](#BM_Other_New_Features)

<a id="BM_MvcScaffolding"></a>

## <a name="extensible-scaffolding-with-mvcscaffold-integration"></a><span data-ttu-id="d0a05-139">Расширяемая формирования шаблонов с интеграцией MvcScaffold</span><span class="sxs-lookup"><span data-stu-id="d0a05-139">Extensible Scaffolding with MvcScaffold integration</span></span>

<span data-ttu-id="d0a05-140">Новая система формирования шаблонов упрощает взять и приступить к использованию продуктивно, если вы полностью знакомы с платформой, а также автоматизации основных задач разработки, если вы являетесь опытным и уже знаете, что он делает.</span><span class="sxs-lookup"><span data-stu-id="d0a05-140">The new Scaffolding system makes it easier to pick up and start using productively if you're entirely new to the framework, and to automate common development tasks if you're experienced and already know what you're doing.</span></span>

<span data-ttu-id="d0a05-141">Это поддерживается новый NuGet *формирования шаблонов* пакета, который называется **MvcScaffolding**.</span><span class="sxs-lookup"><span data-stu-id="d0a05-141">This is supported by new NuGet *scaffolding* package called **MvcScaffolding**.</span></span> <span data-ttu-id="d0a05-142">Термин «Формирование шаблонов» используется много технологий программного обеспечения для обозначения «быстрого создания базовая схема программного обеспечения, вы можете отредактировать и настроить».</span><span class="sxs-lookup"><span data-stu-id="d0a05-142">The term "Scaffolding" is used by many software technologies to mean "quickly generating a basic outline of your software that you can then edit and customize".</span></span> <span data-ttu-id="d0a05-143">Формирование шаблонов пакета, который мы создаем для ASP.NET MVC значительно целесообразно использовать в различных сценариях:</span><span class="sxs-lookup"><span data-stu-id="d0a05-143">The scaffolding package we're creating for ASP.NET MVC is greatly beneficial in several scenarios:</span></span>

- <span data-ttu-id="d0a05-144">**Если при изучении ASP.NET MVC в первый раз**, так как он предоставляет быстрый способ получить некоторые полезные, рабочего кода, который можно редактировать и адаптировать в соответствии с потребностями.</span><span class="sxs-lookup"><span data-stu-id="d0a05-144">**If you're learning ASP.NET MVC for the first time**, because it gives you a fast way to get some useful, working code, that you can then edit and adapt according to your needs.</span></span> <span data-ttu-id="d0a05-145">Избавляет вас от trauma просмотрев пустая страница и необходимости не знает, с которого следует начать!</span><span class="sxs-lookup"><span data-stu-id="d0a05-145">It saves you from the trauma of looking at a blank page and having no idea where to start!</span></span>
- <span data-ttu-id="d0a05-146">**Если сообщайте ASP.NET MVC и теперь исследования новые технологии надстройка** например объектно реляционного сопоставления, обработчик представлений, библиотеку тестирования, и так далее, так как создатель этой технологии может также создать пакет формирования шаблонов для него.</span><span class="sxs-lookup"><span data-stu-id="d0a05-146">**If you know ASP.NET MVC well and are now exploring some new add-on technology** such as an object-relational mapper, a view engine, a testing library, etc., because the creator of that technology may have also created a scaffolding package for it.</span></span>
- <span data-ttu-id="d0a05-147">**Если результаты работы включает в себя несколько раз Создание схожие классов или файлы какого-либо рода**, так как можно создать настраиваемых средств формирования шаблонов, которые выводят средства тестирования, сценарии развертывания, или что-нибудь еще необходимо.</span><span class="sxs-lookup"><span data-stu-id="d0a05-147">**If your work involves repeatedly creating similar classes or files of some sort**, because you can create custom scaffolders that output test fixtures, deployment scripts, or whatever else you need.</span></span> <span data-ttu-id="d0a05-148">Всем участникам рабочей группы можно также использовать настраиваемых средств формирования шаблонов.</span><span class="sxs-lookup"><span data-stu-id="d0a05-148">Everyone on your team can use your custom scaffolders, too.</span></span>

<span data-ttu-id="d0a05-149">Другие функции в MvcScaffolding:</span><span class="sxs-lookup"><span data-stu-id="d0a05-149">Other features in MvcScaffolding include:</span></span>

- <span data-ttu-id="d0a05-150">Поддержка для проектов C# и VB</span><span class="sxs-lookup"><span data-stu-id="d0a05-150">Support for C# and VB projects</span></span>
- <span data-ttu-id="d0a05-151">Поддержка Razor и ASPX просмотреть ядер</span><span class="sxs-lookup"><span data-stu-id="d0a05-151">Support for the Razor and ASPX view engines</span></span>
- <span data-ttu-id="d0a05-152">Поддерживает формирование шаблонов в области ASP.NET MVC и использованию представления макеты и мастеров</span><span class="sxs-lookup"><span data-stu-id="d0a05-152">Supports scaffolding into ASP.NET MVC areas and using custom view layouts/masters</span></span>
- <span data-ttu-id="d0a05-153">Вы можете легко настроить выходные данные, изменив шаблоны T4</span><span class="sxs-lookup"><span data-stu-id="d0a05-153">You can easily customize the output by editing T4 templates</span></span>
- <span data-ttu-id="d0a05-154">Вы можете добавить совершенно новых средств формирования шаблонов, с помощью пользовательской логики PowerShell и настраиваемых шаблонов T4.</span><span class="sxs-lookup"><span data-stu-id="d0a05-154">You can add entirely new scaffolders using custom PowerShell logic and custom T4 templates.</span></span> <span data-ttu-id="d0a05-155">Эти (и любые настраиваемые параметры, которые вы предоставили их) автоматически отображается в списке завершения консоли.</span><span class="sxs-lookup"><span data-stu-id="d0a05-155">These (and any custom parameters you've given them) automatically appear in the console tab-completion list.</span></span>
- <span data-ttu-id="d0a05-156">Вы можете получить пакеты NuGet, содержащие дополнительных средств формирования шаблонов для различных технологий (например,--экспериментальную один для LINQ to SQL теперь есть) и смешивать мороженое их друг с другом</span><span class="sxs-lookup"><span data-stu-id="d0a05-156">You can get NuGet packages containing additional scaffolders for different technologies (e.g., there's a proof-of-concept one for LINQ to SQL now) and mix and match them together</span></span>

<span data-ttu-id="d0a05-157">Обновления средств ASP.NET MVC 3 включает в себя отличную поддержку Visual Studio для этого система формирования шаблонов, таких как:</span><span class="sxs-lookup"><span data-stu-id="d0a05-157">The ASP.NET MVC 3 Tools Update includes great Visual Studio support for this scaffolding system, such as:</span></span>

- <span data-ttu-id="d0a05-158">Добавление контроллера диалоговое окно теперь поддерживает полное автоматическое формирование шаблонов контроллера действия Create, Read, Update и Delete и представлениями.</span><span class="sxs-lookup"><span data-stu-id="d0a05-158">Add Controller Dialog now supports full automatic scaffolding of Create, Read, Update, and Delete controller actions and corresponding views.</span></span> <span data-ttu-id="d0a05-159">По умолчанию это формирует шаблоны кода доступа к данным с помощью EF Code First.</span><span class="sxs-lookup"><span data-stu-id="d0a05-159">By default, this scaffolds data access code using EF Code First.</span></span>
- <span data-ttu-id="d0a05-160">Добавление контроллера диалоговое окно поддерживает *расширяемый элементов скаффолдинга* с помощью NuGet пакеты, такие как *MvcScaffolding*.</span><span class="sxs-lookup"><span data-stu-id="d0a05-160">Add Controller Dialog supports *extensible scaffolds* via NuGet packages such as *MvcScaffolding*.</span></span> <span data-ttu-id="d0a05-161">Это дает возможность подключать формирует пользовательский шаблон в диалоговое окно, что позволит вам создать формирует шаблон для других технологий доступа к данным, например NHibernate или даже JET с технология ODBCDirect, если при желании!</span><span class="sxs-lookup"><span data-stu-id="d0a05-161">This allows plugging in custom scaffolds into the dialog which would allow you to create scaffolds for other data access technologies such as NHibernate or even JET with ODBCDirect if you're so inclined!</span></span>

<span data-ttu-id="d0a05-162">Дополнительные сведения о формирования шаблонов в ASP.NET MVC 3 см. следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="d0a05-162">For more information about Scaffolding in ASP.NET MVC 3, see the following resources:</span></span>

- <span data-ttu-id="d0a05-163">Стив Сандерсон post серии, включает в себя:</span><span class="sxs-lookup"><span data-stu-id="d0a05-163">Steve Sanderson's post series, including:</span></span> 

    1. [<span data-ttu-id="d0a05-164">Общие сведения о: Сформировать шаблон проекта ASP.NET MVC 3 с пакетом mvcscaffolding</span><span class="sxs-lookup"><span data-stu-id="d0a05-164">Introduction: Scaffold your ASP.NET MVC 3 project with the MvcScaffolding package</span></span>](http://blog.stevensanderson.com/2011/01/13/scaffold-your-aspnet-mvc-3-project-with-the-mvcscaffolding-package/)
    2. [<span data-ttu-id="d0a05-165">Стандартное использование: Типичными примерами использования и параметры</span><span class="sxs-lookup"><span data-stu-id="d0a05-165">Standard usage: Typical use cases and options</span></span>](http://blog.stevensanderson.com/2011/01/13/mvcscaffolding-standard-usage/)
    3. [<span data-ttu-id="d0a05-166">Один ко многим связей</span><span class="sxs-lookup"><span data-stu-id="d0a05-166">One-to-Many Relationships</span></span>](http://blog.stevensanderson.com/2011/01/28/mvcscaffolding-one-to-many-relationships/)
    4. [<span data-ttu-id="d0a05-167">Действия формирования шаблонов и модульные тесты</span><span class="sxs-lookup"><span data-stu-id="d0a05-167">Scaffolding Actions and Unit Tests</span></span>](http://blog.stevensanderson.com/2011/03/28/scaffolding-actions-and-unit-tests-with-mvcscaffolding/)
    5. [<span data-ttu-id="d0a05-168">Переопределение шаблоны T4</span><span class="sxs-lookup"><span data-stu-id="d0a05-168">Overriding the T4 templates</span></span>](http://blog.stevensanderson.com/2011/04/06/mvcscaffolding-overriding-the-t4-templates/)
    6. [<span data-ttu-id="d0a05-169">Это сообщение: Создание настраиваемых средств формирования шаблонов</span><span class="sxs-lookup"><span data-stu-id="d0a05-169">This post: Creating custom scaffolders</span></span>](http://blog.stevensanderson.com/2011/04/07/mvcscaffolding-creating-custom-scaffolders/)
- <span data-ttu-id="d0a05-170">Блога Скотта Хансельмана от свой сеанс конференции PDC 2010 [построение блог с Microsoft «Без имени пакета из Web Love»](http://www.hanselman.com/blog/PDC10BuildingABlogWithMicrosoftUnnamedPackageOfWebLove.aspx)</span><span class="sxs-lookup"><span data-stu-id="d0a05-170">Scott Hanselman's post from his PDC 2010 session [Building a Blog with Microsoft "Unnamed Package of Web Love"](http://www.hanselman.com/blog/PDC10BuildingABlogWithMicrosoftUnnamedPackageOfWebLove.aspx)</span></span>
- [<span data-ttu-id="d0a05-171">Заметки о выпуске MVC 3</span><span class="sxs-lookup"><span data-stu-id="d0a05-171">MVC 3 Release Notes</span></span>](../whitepapers/mvc3-release-notes.md)

<a id="BM_HTML5"></a>

## <a name="html-5-project-templates"></a><span data-ttu-id="d0a05-172">Шаблоны HTML 5 проектов</span><span class="sxs-lookup"><span data-stu-id="d0a05-172">HTML 5 Project Templates</span></span>

<span data-ttu-id="d0a05-173">Диалоговое окно Новый проект включает в себя версии флажок enable HTML 5 шаблонов проектов.</span><span class="sxs-lookup"><span data-stu-id="d0a05-173">The New Project dialog includes a checkbox enable HTML 5 versions of project templates.</span></span> <span data-ttu-id="d0a05-174">Эти шаблоны использовать добавлена библиотека Modernizr 1.7 для предоставления поддержки совместимости для HTML 5 и CSS 3 в старых браузерах.</span><span class="sxs-lookup"><span data-stu-id="d0a05-174">These templates leverage Modernizr 1.7 to provide compatibility support for HTML 5 and CSS 3 in down-level browsers.</span></span>

<a id="BM_TheRazorViewEngine"></a>

## <a name="the-razor-view-engine"></a><span data-ttu-id="d0a05-175">Подсистема просмотра Razor</span><span class="sxs-lookup"><span data-stu-id="d0a05-175">The Razor View Engine</span></span>

<span data-ttu-id="d0a05-176">ASP.NET MVC 3 поставляется с новый обработчик представлений с именем Razor, которая обеспечивает следующие преимущества:</span><span class="sxs-lookup"><span data-stu-id="d0a05-176">ASP.NET MVC 3 comes with a new view engine named Razor that offers the following benefits:</span></span>

- <span data-ttu-id="d0a05-177">Синтаксис Razor — план в четком и краткими, требуя минимальное количество нажатий клавиш.</span><span class="sxs-lookup"><span data-stu-id="d0a05-177">Razor syntax is clean and concise, requiring a minimum number of keystrokes.</span></span>
- <span data-ttu-id="d0a05-178">Razor — прост в изучении, отчасти потому, что он основан на существующих языков, таких как C# и Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="d0a05-178">Razor is easy to learn, in part because it's based on existing languages like C# and Visual Basic.</span></span>
- <span data-ttu-id="d0a05-179">Visual Studio включает выделение цветом IntelliSense и кода для синтаксиса Razor.</span><span class="sxs-lookup"><span data-stu-id="d0a05-179">Visual Studio includes IntelliSense and code colorization for Razor syntax.</span></span>
- <span data-ttu-id="d0a05-180">Представления Razor можно подвергать модульному тестированию без запуска приложения и запустить веб-сервер.</span><span class="sxs-lookup"><span data-stu-id="d0a05-180">Razor views can be unit tested without requiring that you run the application or launch a web server.</span></span>

<span data-ttu-id="d0a05-181">Ниже приведены некоторые новые возможности Razor:</span><span class="sxs-lookup"><span data-stu-id="d0a05-181">Some new Razor features include the following:</span></span>

- <span data-ttu-id="d0a05-182">`@model` синтаксис для указания типа, передаваемого в представление.</span><span class="sxs-lookup"><span data-stu-id="d0a05-182">`@model` syntax for specifying the type being passed to the view.</span></span>
- <span data-ttu-id="d0a05-183">`@* *@` синтаксис комментария.</span><span class="sxs-lookup"><span data-stu-id="d0a05-183">`@* *@` comment syntax.</span></span>
- <span data-ttu-id="d0a05-184">Возможность задавать значения по умолчанию (такие как `layoutpage`) один раз для всего узла.</span><span class="sxs-lookup"><span data-stu-id="d0a05-184">The ability to specify defaults (such as `layoutpage`) once for an entire site.</span></span>
- <span data-ttu-id="d0a05-185">`Html.Raw` Метод для отображения текста без HTML-кодирование его.</span><span class="sxs-lookup"><span data-stu-id="d0a05-185">The `Html.Raw` method for displaying text without HTML-encoding it.</span></span>
- <span data-ttu-id="d0a05-186">Поддержка совместного использования кода между несколькими представлениями (*\_viewstart.cshtml* или  *\_viewstart.vbhtml* файлов).</span><span class="sxs-lookup"><span data-stu-id="d0a05-186">Support for sharing code among multiple views (*\_viewstart.cshtml* or *\_viewstart.vbhtml* files).</span></span>

<span data-ttu-id="d0a05-187">Razor также включает новые вспомогательные методы HTML, например следующие:</span><span class="sxs-lookup"><span data-stu-id="d0a05-187">Razor also includes  new HTML helpers, such as the following:</span></span>

- <span data-ttu-id="d0a05-188">`Chart`.</span><span class="sxs-lookup"><span data-stu-id="d0a05-188">`Chart`.</span></span> <span data-ttu-id="d0a05-189">Отображает диаграмму, предлагает те же функции, что элемент управления диаграммы в ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="d0a05-189">Renders a chart, offering the same features as the chart control in ASP.NET 4.</span></span>
- <span data-ttu-id="d0a05-190">`WebGrid`.</span><span class="sxs-lookup"><span data-stu-id="d0a05-190">`WebGrid`.</span></span> <span data-ttu-id="d0a05-191">Отображает сетку данных, дополненный функциональные возможности разбиения по страницам и сортировки.</span><span class="sxs-lookup"><span data-stu-id="d0a05-191">Renders a data grid, complete with paging and sorting functionality.</span></span>
- <span data-ttu-id="d0a05-192">`Crypto`.</span><span class="sxs-lookup"><span data-stu-id="d0a05-192">`Crypto`.</span></span> <span data-ttu-id="d0a05-193">Используется хэширование алгоритмов для создания правильно дополнительные salt-значения и хэшированные пароли.</span><span class="sxs-lookup"><span data-stu-id="d0a05-193">Uses hashing algorithms to create properly salted and hashed passwords.</span></span>
- <span data-ttu-id="d0a05-194">`WebImage`.</span><span class="sxs-lookup"><span data-stu-id="d0a05-194">`WebImage`.</span></span> <span data-ttu-id="d0a05-195">Выводит изображение на экран.</span><span class="sxs-lookup"><span data-stu-id="d0a05-195">Renders an image.</span></span>
- <span data-ttu-id="d0a05-196">`WebMail`.</span><span class="sxs-lookup"><span data-stu-id="d0a05-196">`WebMail`.</span></span> <span data-ttu-id="d0a05-197">Отправляет сообщение электронной почты.</span><span class="sxs-lookup"><span data-stu-id="d0a05-197">Sends an email message.</span></span>

<span data-ttu-id="d0a05-198">Дополнительные сведения о Razor см. следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="d0a05-198">For more information about Razor, see the following resources:</span></span>

- [<span data-ttu-id="d0a05-199">Введение в Razor блога Скотта Гатри</span><span class="sxs-lookup"><span data-stu-id="d0a05-199">Scott Guthrie's blog post introducing Razor</span></span>](https://weblogs.asp.net/scottgu/archive/2010/07/02/introducing-razor.aspx)
- [<span data-ttu-id="d0a05-200">Знакомство с post блог Скотта Гатри @model ключевое слово</span><span class="sxs-lookup"><span data-stu-id="d0a05-200">Scott Guthrie's blog post introducing the @model keyword</span></span>](https://weblogs.asp.net/scottgu/archive/2010/10/19/asp-net-mvc-3-new-model-directive-support-in-razor.aspx)
- [<span data-ttu-id="d0a05-201">Знакомство с макеты Razor блога Скотта Гатри</span><span class="sxs-lookup"><span data-stu-id="d0a05-201">Scott Guthrie's blog post introducing Razor layouts</span></span>](https://weblogs.asp.net/scottgu/archive/2010/10/22/asp-net-mvc-3-layouts.aspx)
- [<span data-ttu-id="d0a05-202">Razor краткий справочник по API</span><span class="sxs-lookup"><span data-stu-id="d0a05-202">Razor API Quick Reference</span></span>](../web-pages/overview/api-reference/asp-net-web-pages-api-reference.md)
- [<span data-ttu-id="d0a05-203">Заметки о выпуске MVC 3</span><span class="sxs-lookup"><span data-stu-id="d0a05-203">MVC 3 Release Notes</span></span>](../whitepapers/mvc3-release-notes.md)

<a id="BM_Support_for_Multiple_View_Engines"></a>

## <a name="support-for-multiple-view-engines"></a><span data-ttu-id="d0a05-204">Поддержка нескольких обработчиков представлений</span><span class="sxs-lookup"><span data-stu-id="d0a05-204">Support for Multiple View Engines</span></span>

<span data-ttu-id="d0a05-205">**Добавление представления** диалогового окна в ASP.NET MVC 3 позволяет выбрать обработчик представлений, которые вы собираетесь работать, и **новый проект** диалоговое окно позволяет указать обработчик представлений по умолчанию для проекта.</span><span class="sxs-lookup"><span data-stu-id="d0a05-205">The **Add View** dialog box in ASP.NET MVC 3 lets you choose the view engine you want to work with, and the **New Project** dialog box lets you specify the default view engine for a project.</span></span> <span data-ttu-id="d0a05-206">Вы можете подсистема просмотра веб-форм (ASPX), Razor или обработчик представлений с открытым исходным кодом например [Spark](http://sparkviewengine.com/), [NHaml](https://code.google.com/p/nhaml/), или [NDjango](http://ndjango.org/).</span><span class="sxs-lookup"><span data-stu-id="d0a05-206">You can choose the Web Forms view engine (ASPX), Razor, or an open-source view engine such as [Spark](http://sparkviewengine.com/), [NHaml](https://code.google.com/p/nhaml/), or [NDjango](http://ndjango.org/).</span></span>

<a id="BM_Controller_Improvements"></a>

## <a name="controller-improvements"></a><span data-ttu-id="d0a05-207">Усовершенствования контроллера</span><span class="sxs-lookup"><span data-stu-id="d0a05-207">Controller Improvements</span></span>

### <a name="global-action-filters"></a><span data-ttu-id="d0a05-208">Глобальные фильтры действий</span><span class="sxs-lookup"><span data-stu-id="d0a05-208">Global Action Filters</span></span>

<span data-ttu-id="d0a05-209">Иногда требуется выполнить логику до запуска метода действия или после запуска метода действия.</span><span class="sxs-lookup"><span data-stu-id="d0a05-209">Sometimes you want to perform logic either before an action method runs or after an action method runs.</span></span> <span data-ttu-id="d0a05-210">Для этого в ASP.NET MVC 2 предоставляются фильтры действий.</span><span class="sxs-lookup"><span data-stu-id="d0a05-210">To support this, ASP.NET MVC 2 provided action filters.</span></span> <span data-ttu-id="d0a05-211">Фильтры действий представляют собой настраиваемые атрибуты, предоставляющие декларативные средства для добавления поведения перед действием и после действия к конкретному контроллеру методам действий.</span><span class="sxs-lookup"><span data-stu-id="d0a05-211">Action filters are custom attributes that provide a declarative means to add pre-action and post-action behavior to specific controller action methods.</span></span> <span data-ttu-id="d0a05-212">Однако в некоторых случаях может потребоваться указать поведение предварительного действия или после действия, которое применяется ко всем методам действий.</span><span class="sxs-lookup"><span data-stu-id="d0a05-212">However, in some cases you might want to specify pre-action or post-action behavior that applies to all action methods.</span></span> <span data-ttu-id="d0a05-213">MVC 3 позволяет указать глобальные фильтры, добавив их в `GlobalFilters` коллекции.</span><span class="sxs-lookup"><span data-stu-id="d0a05-213">MVC 3 lets you specify global filters by adding them to the `GlobalFilters` collection.</span></span> <span data-ttu-id="d0a05-214">Дополнительные сведения о глобальные фильтры действий см. следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="d0a05-214">For more information about global action filters, see the following resources:</span></span>

- [<span data-ttu-id="d0a05-215">Блог Скотта Гатри о предварительной версии MVC 3</span><span class="sxs-lookup"><span data-stu-id="d0a05-215">Scott Guthrie's blog on the MVC 3 Preview</span></span>](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx)
- <span data-ttu-id="d0a05-216">[Фильтрация в ASP.NET MVC](https://msdn.microsoft.com/library/gg416513(VS.98).aspx)</span><span class="sxs-lookup"><span data-stu-id="d0a05-216">[Filtering in ASP.NET MVC](https://msdn.microsoft.com/library/gg416513(VS.98).aspx)</span></span>

### <a name="new-viewbag-property"></a><span data-ttu-id="d0a05-217">Новое свойство «ViewBag»</span><span class="sxs-lookup"><span data-stu-id="d0a05-217">New "ViewBag" Property</span></span>

<span data-ttu-id="d0a05-218">Поддержка контроллеров MVC 2 `ViewData` свойство, которое дает возможность передачи данных в шаблон представления, с помощью API словаря с поздним связыванием.</span><span class="sxs-lookup"><span data-stu-id="d0a05-218">MVC 2 controllers support a `ViewData` property that enables you to pass data to a view template using a late-bound dictionary API.</span></span> <span data-ttu-id="d0a05-219">В MVC 3, можно также использовать довольно простой синтаксис с `ViewBag` свойство для выполнения той же цели.</span><span class="sxs-lookup"><span data-stu-id="d0a05-219">In MVC 3, you can also use somewhat simpler syntax with the `ViewBag` property to accomplish the same purpose.</span></span> <span data-ttu-id="d0a05-220">Например, вместо написания `ViewData["Message"]="text"`, можно написать `ViewBag.Message="text"`.</span><span class="sxs-lookup"><span data-stu-id="d0a05-220">For example, instead of writing `ViewData["Message"]="text"`, you can write `ViewBag.Message="text"`.</span></span> <span data-ttu-id="d0a05-221">Необходимо определить все строго типизированные классы для использования `ViewBag` свойство.</span><span class="sxs-lookup"><span data-stu-id="d0a05-221">You do not need to define any strongly-typed classes to use the `ViewBag` property.</span></span> <span data-ttu-id="d0a05-222">Так как это динамическое свойство, можно вместо этого просто получить или набор свойств, а разрешит их динамически во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="d0a05-222">Because it is a dynamic property, you can instead just get or set properties and it will resolve them dynamically at run time.</span></span> <span data-ttu-id="d0a05-223">На внутреннем уровне `ViewBag` свойства хранятся в виде пары имя/значение в `ViewData` словаря.</span><span class="sxs-lookup"><span data-stu-id="d0a05-223">Internally, `ViewBag` properties are stored as name/value pairs in the `ViewData` dictionary.</span></span> <span data-ttu-id="d0a05-224">(Примечание: в большинстве предварительных версий MVC 3, `ViewBag` свойство называлось `ViewModel` свойство.)</span><span class="sxs-lookup"><span data-stu-id="d0a05-224">(Note: in most pre-release versions of MVC 3, the `ViewBag` property was named the `ViewModel` property.)</span></span>

### <a name="new-actionresult-types"></a><span data-ttu-id="d0a05-225">Новые типы «ActionResult»</span><span class="sxs-lookup"><span data-stu-id="d0a05-225">New "ActionResult" Types</span></span>

<span data-ttu-id="d0a05-226">Следующие `ActionResult` типы и соответствующие вспомогательные методы являются новые или улучшенные в MVC 3:</span><span class="sxs-lookup"><span data-stu-id="d0a05-226">The following `ActionResult` types and corresponding helper methods are new or enhanced in MVC 3:</span></span>

- <span data-ttu-id="d0a05-227">[HttpNotFoundResult](https://msdn.microsoft.com/library/system.web.mvc.httpnotfoundresult(v=vs.98).aspx).</span><span class="sxs-lookup"><span data-stu-id="d0a05-227">[HttpNotFoundResult](https://msdn.microsoft.com/library/system.web.mvc.httpnotfoundresult(v=vs.98).aspx).</span></span> <span data-ttu-id="d0a05-228">Возвращает код состояния HTTP 404 клиенту.</span><span class="sxs-lookup"><span data-stu-id="d0a05-228">Returns a 404 HTTP status code to the client.</span></span>
- <span data-ttu-id="d0a05-229">[RedirectResult](https://msdn.microsoft.com/library/system.web.mvc.redirectresult(v=VS.98).aspx).</span><span class="sxs-lookup"><span data-stu-id="d0a05-229">[RedirectResult](https://msdn.microsoft.com/library/system.web.mvc.redirectresult(v=VS.98).aspx).</span></span> <span data-ttu-id="d0a05-230">Возвращает Временное перенаправление (код состояния HTTP 302) или постоянное перенаправление (код состояния HTTP 301), в зависимости от логического параметра.</span><span class="sxs-lookup"><span data-stu-id="d0a05-230">Returns a temporary redirect (HTTP 302 status code) or a permanent redirect (HTTP 301 status code), depending on a Boolean parameter.</span></span> <span data-ttu-id="d0a05-231">В сочетании с этим изменением [контроллера](https://msdn.microsoft.com/library/system.web.mvc.controller(v=VS.98).aspx) класс теперь имеет три метода для выполнения постоянной переадресации: `RedirectPermanent`, `RedirectToRoutePermanent`, и `RedirectToActionPermanent`.</span><span class="sxs-lookup"><span data-stu-id="d0a05-231">In conjunction with this change, the [Controller](https://msdn.microsoft.com/library/system.web.mvc.controller(v=VS.98).aspx) class now has three methods for performing permanent redirects: `RedirectPermanent`, `RedirectToRoutePermanent`, and `RedirectToActionPermanent`.</span></span> <span data-ttu-id="d0a05-232">Эти методы возвращают экземпляр `RedirectResult` с `Permanent` свойство значение `true`.</span><span class="sxs-lookup"><span data-stu-id="d0a05-232">These methods return an instance of `RedirectResult` with the `Permanent` property set to `true`.</span></span>
- <span data-ttu-id="d0a05-233">[HttpStatusCodeResult](https://msdn.microsoft.com/library/system.web.mvc.httpstatuscoderesult(v=VS.98).aspx).</span><span class="sxs-lookup"><span data-stu-id="d0a05-233">[HttpStatusCodeResult](https://msdn.microsoft.com/library/system.web.mvc.httpstatuscoderesult(v=VS.98).aspx).</span></span> <span data-ttu-id="d0a05-234">Возвращает определяемый пользователем код состояния HTTP.</span><span class="sxs-lookup"><span data-stu-id="d0a05-234">Returns a user-specified HTTP status code.</span></span>

<a id="BM_JavaScript_and_Ajax_Improvements"></a>

## <a name="javascript-and-ajax-improvements"></a><span data-ttu-id="d0a05-235">JavaScript и Ajax улучшения</span><span class="sxs-lookup"><span data-stu-id="d0a05-235">JavaScript and Ajax Improvements</span></span>

<span data-ttu-id="d0a05-236">По умолчанию вспомогательные функции Ajax и проверки в MVC 3 использовать подход, ненавязчивый JavaScript.</span><span class="sxs-lookup"><span data-stu-id="d0a05-236">By default, Ajax and validation helpers in MVC 3 use an unobtrusive JavaScript approach.</span></span> <span data-ttu-id="d0a05-237">Ненавязчивый JavaScript позволяет избежать внесения подставляемый код JavaScript в HTML.</span><span class="sxs-lookup"><span data-stu-id="d0a05-237">Unobtrusive JavaScript avoids injecting inline JavaScript into HTML.</span></span> <span data-ttu-id="d0a05-238">Это делает HTML меньшего размера и менее загроможденной и облегчает выгрузить или Настройка библиотеки JavaScript.</span><span class="sxs-lookup"><span data-stu-id="d0a05-238">This makes your HTML smaller and less cluttered, and makes it easier to swap out or customize JavaScript libraries.</span></span> <span data-ttu-id="d0a05-239">Вспомогательные методы проверки в MVC 3 также используют `jQueryValidate` подключаемого модуля по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="d0a05-239">Validation helpers in MVC 3 also use the `jQueryValidate` plugin by default.</span></span> <span data-ttu-id="d0a05-240">Если требуется поведение MVC 2, вы можете отключить ненавязчивый JavaScript с использованием *web.config* файл параметров.</span><span class="sxs-lookup"><span data-stu-id="d0a05-240">If you want MVC 2 behavior, you can disable unobtrusive JavaScript using a *web.config* file setting.</span></span> <span data-ttu-id="d0a05-241">Дополнительные сведения об улучшениях JavaScript и Ajax см. следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="d0a05-241">For more information about JavaScript and Ajax improvements, see the following resources:</span></span>

- [<span data-ttu-id="d0a05-242">Основные сведения о ненавязчивый JavaScript на сайте Википедии</span><span class="sxs-lookup"><span data-stu-id="d0a05-242">Basic introduction to unobtrusive JavaScript on the Wikipedia site</span></span>](http://en.wikipedia.org/wiki/Unobtrusive_JavaScript)
- [<span data-ttu-id="d0a05-243">Брэд Вилсон Ненавязчивый JavaScript Post</span><span class="sxs-lookup"><span data-stu-id="d0a05-243">Brad Wilson's Unobtrusive JavaScript Post</span></span>](http://bradwilson.typepad.com/blog/2010/10/mvc3-unobtrusive-ajax.html)
- [<span data-ttu-id="d0a05-244">Post проверки ненавязчивого JavaScript Брэда уилсона:</span><span class="sxs-lookup"><span data-stu-id="d0a05-244">Brad Wilson's Unobtrusive JavaScript Validation Post</span></span>](http://bradwilson.typepad.com/blog/2010/10/mvc3-unobtrusive-validation.html)
- <span data-ttu-id="d0a05-245">[Создание приложения MVC 3 с помощью Razor и ненавязчивого JavaScript](overview/older-versions/creating-a-mvc-3-application-with-razor-and-unobtrusive-javascript.md) (учебник на веб-сайте ASP.NET)</span><span class="sxs-lookup"><span data-stu-id="d0a05-245">[Creating a MVC 3 Application with Razor and Unobtrusive JavaScript](overview/older-versions/creating-a-mvc-3-application-with-razor-and-unobtrusive-javascript.md) (tutorial on the ASP.NET site)</span></span>
- [<span data-ttu-id="d0a05-246">Заметки о выпуске MVC 3</span><span class="sxs-lookup"><span data-stu-id="d0a05-246">MVC 3 Release Notes</span></span>](../whitepapers/mvc3-release-notes.md)

### <a name="client-side-validation-enabled-by-default"></a><span data-ttu-id="d0a05-247">Проверка на стороне клиента включено по умолчанию</span><span class="sxs-lookup"><span data-stu-id="d0a05-247">Client-Side Validation Enabled by Default</span></span>

<span data-ttu-id="d0a05-248">В более ранних версиях MVC, необходимо явно вызвать `Html.EnableClientValidation` метода из представления, чтобы включить проверку на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="d0a05-248">In earlier versions of MVC, you need to explicitly call the `Html.EnableClientValidation` method from a view in order to enable client-side validation.</span></span> <span data-ttu-id="d0a05-249">В MVC 3 это больше не требуется, так как проверка на стороне клиента включено по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="d0a05-249">In MVC 3 this is no longer required because client-side validation is enabled by default.</span></span> <span data-ttu-id="d0a05-250">(Эту функцию можно отключить с помощью параметра в *web.config* файл.)</span><span class="sxs-lookup"><span data-stu-id="d0a05-250">(You can disable this using a setting in the *web.config* file.)</span></span>

<span data-ttu-id="d0a05-251">Для проверки на стороне клиента для работы, вы по-прежнему должны для ссылки на соответствующие jQuery и библиотеки jQuery проверки узла.</span><span class="sxs-lookup"><span data-stu-id="d0a05-251">In order for client-side validation to work, you still need to reference the appropriate jQuery and jQuery Validation libraries in your site.</span></span> <span data-ttu-id="d0a05-252">Можно размещать их на собственном сервере или ссылаться на них из сети доставки содержимого (CDN), как CDN корпорации Microsoft или Google.</span><span class="sxs-lookup"><span data-stu-id="d0a05-252">You can host those libraries on your own server or reference them from a content delivery network (CDN) like the CDNs from Microsoft or Google.</span></span>

### <a name="remote-validator"></a><span data-ttu-id="d0a05-253">Удаленный проверяющий элемент управления</span><span class="sxs-lookup"><span data-stu-id="d0a05-253">Remote Validator</span></span>

<span data-ttu-id="d0a05-254">ASP.NET MVC 3 поддерживает новую [RemoteAttribute](https://msdn.microsoft.com/library/system.web.mvc.remoteattribute(v=VS.98).aspx) класс, который позволяет воспользоваться преимуществами проверки jQuery подключаемых в поддержку удаленный проверяющий элемент управления.</span><span class="sxs-lookup"><span data-stu-id="d0a05-254">ASP.NET MVC 3 supports the new [RemoteAttribute](https://msdn.microsoft.com/library/system.web.mvc.remoteattribute(v=VS.98).aspx) class that enables you to take advantage of the jQuery Validation plug-in's remote validator support.</span></span> <span data-ttu-id="d0a05-255">Это позволяет библиотеке клиентской проверки для автоматически вызывает пользовательский метод, который определяется на сервере, чтобы выполнить логику проверки, которая может выполняться только на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="d0a05-255">This enables the client-side validation library to automatically call a custom method that you define on the server in order to perform validation logic that can only be done server-side.</span></span>

<span data-ttu-id="d0a05-256">В следующем примере `Remote` атрибут указывает, что проверка клиента вызовет действие с именем `UserNameAvailable` на `UsersController` класса, чтобы проверить `UserName` поля.</span><span class="sxs-lookup"><span data-stu-id="d0a05-256">In the following example, the `Remote` attribute specifies that client validation will call an action named `UserNameAvailable` on the `UsersController` class in order to validate the `UserName` field.</span></span>

[!code-csharp[Main](mvc3/samples/sample1.cs)]

<span data-ttu-id="d0a05-257">В следующем примере соответствующим контроллером.</span><span class="sxs-lookup"><span data-stu-id="d0a05-257">The following example shows the corresponding controller.</span></span>

[!code-csharp[Main](mvc3/samples/sample2.cs)]

<span data-ttu-id="d0a05-258">Дополнительные сведения об использовании `Remote` атрибут, см. в разделе [как: Реализация удаленной проверки в ASP.NET MVC](https://msdn.microsoft.com/library/gg508808(VS.98).aspx) в библиотеке MSDN.</span><span class="sxs-lookup"><span data-stu-id="d0a05-258">For more information about how to use the `Remote` attribute, see [How to: Implement Remote Validation in ASP.NET MVC](https://msdn.microsoft.com/library/gg508808(VS.98).aspx) in the MSDN library.</span></span>

### <a name="json-binding-support"></a><span data-ttu-id="d0a05-259">Поддержка привязки JSON</span><span class="sxs-lookup"><span data-stu-id="d0a05-259">JSON Binding Support</span></span>

<span data-ttu-id="d0a05-260">ASP.NET MVC 3 предусмотрена встроенная поддержка JSON привязки, которая позволяет методам действия для получения данных из JSON и привязку модели его с параметрами метода действия.</span><span class="sxs-lookup"><span data-stu-id="d0a05-260">ASP.NET MVC 3 includes built-in JSON binding support that enables action methods to receive JSON-encoded data and model-bind it to action-method parameters.</span></span> <span data-ttu-id="d0a05-261">Эта возможность полезна в сценариях, включающих клиентских шаблонов и привязки данных.</span><span class="sxs-lookup"><span data-stu-id="d0a05-261">This capability is useful in scenarios involving client templates and data binding.</span></span> <span data-ttu-id="d0a05-262">(Клиент шаблоны позволяют форматирования и отображения отдельные элементы данных или набор элементов данных с помощью шаблонов, которые выполняются на клиентском компьютере.) MVC 3 позволяет легко подключать клиентских шаблонов с методами действий на сервере, отправки и получения данных JSON.</span><span class="sxs-lookup"><span data-stu-id="d0a05-262">(Client templates enable you to format and display a single data item or set of data items by using templates that execute on the client.) MVC 3 enables you to easily connect client templates with action methods on the server that send and receive JSON data.</span></span> <span data-ttu-id="d0a05-263">Дополнительные сведения о поддержке привязки JSON см. в разделе **JavaScript и AJAX улучшения** раздел [записи блога Скотта Гатри MVC 3 Preview](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="d0a05-263">For more information about JSON binding support, see the **JavaScript and AJAX Improvements** section of [Scott Guthrie's MVC 3 Preview blog post](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx).</span></span>

<a id="BM_Model_Validation_Improvements"></a>

## <a name="model-validation-improvements"></a><span data-ttu-id="d0a05-264">Усовершенствования проверки модели</span><span class="sxs-lookup"><span data-stu-id="d0a05-264">Model Validation Improvements</span></span>

### <a name="dataannotations-metadata-attributes"></a><span data-ttu-id="d0a05-265">Атрибуты метаданных «DataAnnotations»</span><span class="sxs-lookup"><span data-stu-id="d0a05-265">"DataAnnotations" Metadata Attributes</span></span>

<span data-ttu-id="d0a05-266">ASP.NET MVC 3 поддерживает `DataAnnotations` метаданных атрибуты, такие как `DisplayAttribute`.</span><span class="sxs-lookup"><span data-stu-id="d0a05-266">ASP.NET MVC 3 supports `DataAnnotations` metadata attributes such as `DisplayAttribute`.</span></span>

### <a name="validationattribute-class"></a><span data-ttu-id="d0a05-267">Класс «ValidationAttribute»</span><span class="sxs-lookup"><span data-stu-id="d0a05-267">"ValidationAttribute" Class</span></span>

<span data-ttu-id="d0a05-268">`ValidationAttribute` Класса были внесены усовершенствования в .NET Framework 4 для поддержки нового `IsValid` перегрузку, которая предоставляет дополнительные сведения о текущем контексте проверки, например, какой объект проверяется в данный момент.</span><span class="sxs-lookup"><span data-stu-id="d0a05-268">The `ValidationAttribute` class was improved in the .NET Framework 4 to support a new `IsValid` overload that provides more information about the current validation context, such as what object is being validated.</span></span> <span data-ttu-id="d0a05-269">Это обеспечивает более широкие сценарии, где можно проверить текущее значение на основе другого свойства модели.</span><span class="sxs-lookup"><span data-stu-id="d0a05-269">This enables richer scenarios where you can validate the current value based on another property of the model.</span></span> <span data-ttu-id="d0a05-270">Например, новый `CompareAttribute` атрибут позволяет сравнить значения двух свойств модели.</span><span class="sxs-lookup"><span data-stu-id="d0a05-270">For example, the new `CompareAttribute` attribute lets you compare the values of two properties of a model.</span></span> <span data-ttu-id="d0a05-271">В следующем примере `ComparePassword` свойство должно соответствовать `Password` поля, чтобы быть допустимыми.</span><span class="sxs-lookup"><span data-stu-id="d0a05-271">In the following example, the `ComparePassword` property must match the `Password` field in order to be valid.</span></span>

[!code-csharp[Main](mvc3/samples/sample3.cs)]

### <a name="validation-interfaces"></a><span data-ttu-id="d0a05-272">Интерфейсы проверки</span><span class="sxs-lookup"><span data-stu-id="d0a05-272">Validation Interfaces</span></span>

<span data-ttu-id="d0a05-273">[IValidatableObject](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.ivalidatableobject.aspx) интерфейс позволяет выполнять проверку на уровне модели, и это дает возможность предоставления проверки сообщения об ошибках, относящихся к состоянию общей модели, или между двумя свойствами внутри модели .</span><span class="sxs-lookup"><span data-stu-id="d0a05-273">The [IValidatableObject](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.ivalidatableobject.aspx) interface enables you to perform model-level validation, and it enables you to provide validation error messages that are specific to the state of the overall model, or between two properties within the model.</span></span> <span data-ttu-id="d0a05-274">MVC 3 теперь получает ошибки из `IValidatableObject` интерфейс привязки модели и автоматически флаги и основные особенности затронутых полей в представлении, с использованием встроенных вспомогательных методов формы HTML.</span><span class="sxs-lookup"><span data-stu-id="d0a05-274">MVC 3 now retrieves errors from the `IValidatableObject` interface when model binding, and automatically flags or highlights affected fields within a view using the built-in HTML form helpers.</span></span>

<span data-ttu-id="d0a05-275">[IClientValidatable](https://msdn.microsoft.com/library/system.web.mvc.iclientvalidatable(v=VS.98).aspx) интерфейс позволяет ASP.NET MVC для обнаружения во время выполнения ли проверяющий элемент управления имеет поддержку для клиентской проверки.</span><span class="sxs-lookup"><span data-stu-id="d0a05-275">The [IClientValidatable](https://msdn.microsoft.com/library/system.web.mvc.iclientvalidatable(v=VS.98).aspx) interface enables ASP.NET MVC to discover at run time whether a validator has support for client validation.</span></span> <span data-ttu-id="d0a05-276">Этот интерфейс была разработана таким образом, чтобы его можно интегрировать с различными платформами проверки.</span><span class="sxs-lookup"><span data-stu-id="d0a05-276">This interface has been designed so that it can be integrated with a variety of validation frameworks.</span></span>

<span data-ttu-id="d0a05-277">Дополнительные сведения об интерфейсах проверки, см. в разделе **усовершенствования проверки модели** раздел [записи блога Скотта Гатри MVC 3 Preview](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="d0a05-277">For more information about validation interfaces, see the **Model Validation Improvements** section of [Scott Guthrie's MVC 3 Preview blog post](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx).</span></span> <span data-ttu-id="d0a05-278">(Тем не менее, обратите внимание, что ссылка на «IValidateObject» в блоге должно быть «IValidatableObject».)</span><span class="sxs-lookup"><span data-stu-id="d0a05-278">(However, note that the reference to "IValidateObject" in the blog should be "IValidatableObject".)</span></span>

<a id="BM_Dependency_Injection_Improvements"></a>

## <a name="dependency-injection-improvements"></a><span data-ttu-id="d0a05-279">Улучшения внедрения зависимостей</span><span class="sxs-lookup"><span data-stu-id="d0a05-279">Dependency Injection Improvements</span></span>

<span data-ttu-id="d0a05-280">ASP.NET MVC 3 реализована Улучшенная поддержка для применения внедрение зависимостей (DI), а также для интеграции с контейнерами внедрения зависимостей и инверсии управления (IOC).</span><span class="sxs-lookup"><span data-stu-id="d0a05-280">ASP.NET MVC 3 provides better support for applying Dependency Injection (DI) and for integrating with Dependency Injection or Inversion of Control (IOC) containers.</span></span> <span data-ttu-id="d0a05-281">Добавлена поддержка внедрения Зависимостей в следующих областях:</span><span class="sxs-lookup"><span data-stu-id="d0a05-281">Support for DI has been added in the following areas:</span></span>

- <span data-ttu-id="d0a05-282">Контроллеры (Регистрация и включение фабрики контроллеров, добавления контроллеров).</span><span class="sxs-lookup"><span data-stu-id="d0a05-282">Controllers (registering and injecting controller factories, injecting controllers).</span></span>
- <span data-ttu-id="d0a05-283">Представления (Регистрация и включение обработчиков представлений, внедрение зависимостей в представления страницы).</span><span class="sxs-lookup"><span data-stu-id="d0a05-283">Views (registering and injecting view engines, injecting dependencies into view pages).</span></span>
- <span data-ttu-id="d0a05-284">Фильтры действий (поиск и добавление фильтров).</span><span class="sxs-lookup"><span data-stu-id="d0a05-284">Action filters (locating and injecting filters).</span></span>
- <span data-ttu-id="d0a05-285">Связыватели моделей ("Регистрация" и "Вставка").</span><span class="sxs-lookup"><span data-stu-id="d0a05-285">Model binders (registering and injecting).</span></span>
- <span data-ttu-id="d0a05-286">Поставщиков проверки модели ("Регистрация" и "Вставка").</span><span class="sxs-lookup"><span data-stu-id="d0a05-286">Model validation providers (registering and injecting).</span></span>
- <span data-ttu-id="d0a05-287">Поставщики метаданных модели ("Регистрация" и "Вставка").</span><span class="sxs-lookup"><span data-stu-id="d0a05-287">Model metadata providers (registering and injecting).</span></span>
- <span data-ttu-id="d0a05-288">Поставщики значений ("Регистрация" и "Вставка").</span><span class="sxs-lookup"><span data-stu-id="d0a05-288">Value providers (registering and injecting).</span></span>

<span data-ttu-id="d0a05-289">MVC 3 поддерживает [локатор общей службы](https://github.com/unitycontainer/commonservicelocator) библиотеки и любой контейнер внедрения Зависимостей, поддерживающий эту библиотеку `IServiceLocator` интерфейс.</span><span class="sxs-lookup"><span data-stu-id="d0a05-289">MVC 3 supports the [Common Service Locator](https://github.com/unitycontainer/commonservicelocator) library and any DI container that supports that library's `IServiceLocator` interface.</span></span> <span data-ttu-id="d0a05-290">Она также поддерживает новый `IDependencyResolver` интерфейс, который позволяет проще интегрировать DI-инфраструктур.</span><span class="sxs-lookup"><span data-stu-id="d0a05-290">It also supports a new `IDependencyResolver` interface that makes it easier to integrate DI frameworks.</span></span>

<span data-ttu-id="d0a05-291">Дополнительные сведения о внедрении Зависимостей в MVC 3 см. следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="d0a05-291">For more information about DI in MVC 3, see the following resources:</span></span>

- [<span data-ttu-id="d0a05-292">Брэд Вилсон ряд записей блога на размещение службы</span><span class="sxs-lookup"><span data-stu-id="d0a05-292">Brad Wilson's series of blog posts on Service Location</span></span>](http://bradwilson.typepad.com/blog/2010/07/service-location-pt1-introduction.html)
- [<span data-ttu-id="d0a05-293">Заметки о выпуске MVC 3</span><span class="sxs-lookup"><span data-stu-id="d0a05-293">MVC 3 Release Notes</span></span>](../whitepapers/mvc3-release-notes.md)

<a id="BM_Other_New_Features"></a>

## <a name="other-new-features"></a><span data-ttu-id="d0a05-294">Другие новые функции</span><span class="sxs-lookup"><span data-stu-id="d0a05-294">Other New Features</span></span>

### <a name="nuget-integration"></a><span data-ttu-id="d0a05-295">Интеграция NuGet</span><span class="sxs-lookup"><span data-stu-id="d0a05-295">NuGet Integration</span></span>

<span data-ttu-id="d0a05-296">ASP.NET MVC 3 автоматически устанавливает и включает NuGet в процессе его установки.</span><span class="sxs-lookup"><span data-stu-id="d0a05-296">ASP.NET MVC 3 automatically installs and enables NuGet as part of its setup.</span></span> <span data-ttu-id="d0a05-297">NuGet — это диспетчер бесплатный пакет с открытым кодом, который позволяет легко найти, установить и использовать в проектах библиотек .NET и инструменты.</span><span class="sxs-lookup"><span data-stu-id="d0a05-297">NuGet is a free open-source package manager that makes it easy to find, install, and use .NET libraries and tools in your projects.</span></span> <span data-ttu-id="d0a05-298">Он работает со всеми типами проектов Visual Studio (включая веб-форм ASP.NET и ASP.NET MVC).</span><span class="sxs-lookup"><span data-stu-id="d0a05-298">It works with all Visual Studio project types (including ASP.NET Web Forms and ASP.NET MVC).</span></span>

<span data-ttu-id="d0a05-299">NuGet позволяет разработчикам, занимающихся поддержкой проектов с открытым кодом (например, проекты как Moq, NHibernate, Ninject, StructureMap, NUnit, Windsor, RhinoMocks и Elmah) для упаковки их библиотеки и зарегистрировать их в веб-коллекции.</span><span class="sxs-lookup"><span data-stu-id="d0a05-299">NuGet enables developers who maintain open source projects (for example, projects like Moq, NHibernate, Ninject, StructureMap, NUnit, Windsor, RhinoMocks, and Elmah) to package their libraries and register them in an online gallery.</span></span> <span data-ttu-id="d0a05-300">Затем удобно для разработчиков .NET, которые хотят использовать одну из этих библиотек для поиска пакета и установите его в проектах, над которыми они работают.</span><span class="sxs-lookup"><span data-stu-id="d0a05-300">It is then easy for .NET developers who want to use one of these libraries to find the package and install it in projects they are working on.</span></span>

<span data-ttu-id="d0a05-301">С помощью обновления средств ASP.NET 3 шаблоны проектов включены JavaScript библиотеки предустановленных пакетов NuGet, так, чтобы они обновляемые с помощью NuGet.</span><span class="sxs-lookup"><span data-stu-id="d0a05-301">With the ASP.NET 3 Tools Update, project templates include JavaScript libraries pre-installed NuGet packages, so they are updatable via NuGet.</span></span> <span data-ttu-id="d0a05-302">Entity Framework Code First также предварительно устанавливается как пакет NuGet.</span><span class="sxs-lookup"><span data-stu-id="d0a05-302">Entity Framework Code First is also pre-installed as a NuGet package.</span></span>

<span data-ttu-id="d0a05-303">Дополнительные сведения о NuGet см. в [документации по NuGet](https://docs.microsoft.com/nuget/).</span><span class="sxs-lookup"><span data-stu-id="d0a05-303">For more information about NuGet, see the [NuGet documentation](https://docs.microsoft.com/nuget/).</span></span>

### <a name="partial-page-output-caching"></a><span data-ttu-id="d0a05-304">Частичные кэширования выводимых данных</span><span class="sxs-lookup"><span data-stu-id="d0a05-304">Partial-Page Output Caching</span></span>

<span data-ttu-id="d0a05-305">ASP.NET MVC поддерживается кэширования ответов полностраничном начиная с версии 1.</span><span class="sxs-lookup"><span data-stu-id="d0a05-305">ASP.NET MVC has supported output caching of full page responses since version 1.</span></span> <span data-ttu-id="d0a05-306">MVC 3 также поддерживает частичную визуализацию страницы кэширование выходных данных, позволяющий легко области кэша или фрагменты ответа.</span><span class="sxs-lookup"><span data-stu-id="d0a05-306">MVC 3 also supports partial-page output caching, which allows you to easily cache regions or fragments of a response.</span></span> <span data-ttu-id="d0a05-307">Дополнительные сведения о кэшировании см. в разделе **частичное кэширование вывода страниц** раздел [записи блога Скотта Гатри MVC 3 версии-кандидата](https://weblogs.asp.net/scottgu/archive/2010/11/09/announcing-the-asp-net-mvc-3-release-candidate.aspx) и **дочерние действия кэширования вывода** раздел [заметки о выпуске MVC 3](../whitepapers/mvc3-release-notes.md).</span><span class="sxs-lookup"><span data-stu-id="d0a05-307">For more information about caching, see the **Partial Page Output Caching** section of [Scott Guthrie's blog post on the MVC 3 release candidate](https://weblogs.asp.net/scottgu/archive/2010/11/09/announcing-the-asp-net-mvc-3-release-candidate.aspx) and the **Child Action Output Caching** section of the [MVC 3 Release Notes](../whitepapers/mvc3-release-notes.md).</span></span>

### <a name="granular-control-over-request-validation"></a><span data-ttu-id="d0a05-308">Детальный контроль над проверка запросов</span><span class="sxs-lookup"><span data-stu-id="d0a05-308">Granular Control over Request Validation</span></span>

<span data-ttu-id="d0a05-309">ASP.NET MVC имеет проверка встроенных запросов, который автоматически обеспечивает защиту от атак путем внедрения кода XSS и HTML.</span><span class="sxs-lookup"><span data-stu-id="d0a05-309">ASP.NET MVC has built-in request validation that automatically helps protect against XSS and HTML injection attacks.</span></span> <span data-ttu-id="d0a05-310">Тем не менее иногда требуется явно отключить проверку запроса, например, если нужно сообщить пользователи блога HTML содержимого (например, в записи блога и содержимого CMS).</span><span class="sxs-lookup"><span data-stu-id="d0a05-310">However, sometimes you want to explicitly disable request validation, such as if you want to let users post HTML content (for example, in blog entries or CMS content).</span></span> <span data-ttu-id="d0a05-311">Теперь вы можете добавить [AllowHtml](https://msdn.microsoft.com/library/system.web.mvc.allowhtmlattribute(v=VS.98).aspx) атрибут модели или просмотра моделей, чтобы отключить проверку запроса на основе каждого свойства во время привязки модели.</span><span class="sxs-lookup"><span data-stu-id="d0a05-311">You can now add an [AllowHtml](https://msdn.microsoft.com/library/system.web.mvc.allowhtmlattribute(v=VS.98).aspx) attribute to models or view models to disable request validation on a per-property basis during model binding.</span></span> <span data-ttu-id="d0a05-312">Дополнительные сведения о проверке запроса см. следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="d0a05-312">For more information about request validation, see the following resources:</span></span>

- <span data-ttu-id="d0a05-313">**Ненавязчивый JavaScript и проверки** статьи [записи блога Скотта Гатри MVC 3 версии-кандидата](https://weblogs.asp.net/scottgu/archive/2010/11/09/announcing-the-asp-net-mvc-3-release-candidate.aspx).</span><span class="sxs-lookup"><span data-stu-id="d0a05-313">The **Unobtrusive JavaScript and Validation** section in [Scott Guthrie's blog post on the MVC 3 release candidate](https://weblogs.asp.net/scottgu/archive/2010/11/09/announcing-the-asp-net-mvc-3-release-candidate.aspx).</span></span>
- [<span data-ttu-id="d0a05-314">Заметки о выпуске MVC 3</span><span class="sxs-lookup"><span data-stu-id="d0a05-314">MVC 3 Release Notes</span></span>](../whitepapers/mvc3-release-notes.md)

### <a name="extensible-new-project-dialog-box"></a><span data-ttu-id="d0a05-315">Расширяемая «новый проект» диалоговое окно</span><span class="sxs-lookup"><span data-stu-id="d0a05-315">Extensible "New Project" Dialog Box</span></span>

<span data-ttu-id="d0a05-316">В ASP.NET MVC 3 вы можете добавить шаблоны проектов, обработчиков представлений и платформ проекта для модульных тестов **новый проект** диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="d0a05-316">In ASP.NET MVC 3 you can add project templates, view engines, and unit test project frameworks to the **New Project** dialog box.</span></span>

### <a name="template-scaffolding-improvements"></a><span data-ttu-id="d0a05-317">Усовершенствования шаблона формирования шаблонов</span><span class="sxs-lookup"><span data-stu-id="d0a05-317">Template Scaffolding Improvements</span></span>

<span data-ttu-id="d0a05-318">Определение свойств первичного ключа на моделях и обработка их соответствующим образом, чем в более ранних версиях MVC улучшенным формирования шаблонов ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="d0a05-318">ASP.NET MVC 3 scaffolding templates do a better job of identifying primary-key properties on models and handling them appropriately than in earlier versions of MVC.</span></span> <span data-ttu-id="d0a05-319">(Например, формирования шаблонов теперь убедитесь, что первичный ключ не по шаблону редактируемую форму поля.)</span><span class="sxs-lookup"><span data-stu-id="d0a05-319">(For example, the scaffolding templates now make sure that the primary key is not scaffolded as an editable form field.)</span></span>

<span data-ttu-id="d0a05-320">По умолчанию формирует шаблон Create и Edit используют `Html.EditorFor` вспомогательный вместо `Html.TextBoxFor` вспомогательный.</span><span class="sxs-lookup"><span data-stu-id="d0a05-320">By default, the Create and Edit scaffolds now use the `Html.EditorFor` helper instead of the `Html.TextBoxFor` helper.</span></span> <span data-ttu-id="d0a05-321">Это улучшает поддержку метаданные о модели в виде данных заметки атрибуты при **Добавление представления** диалоговом окне создается представление.</span><span class="sxs-lookup"><span data-stu-id="d0a05-321">This improves support for metadata on the model in the form of data annotation attributes when the **Add View** dialog box generates a view.</span></span>

### <a name="new-overloads-for-htmllabelfor-and-htmllabelformodel"></a><span data-ttu-id="d0a05-322">Новые перегрузки для «Html.LabelFor» и «Html.LabelForModel»</span><span class="sxs-lookup"><span data-stu-id="d0a05-322">New Overloads for "Html.LabelFor" and "Html.LabelForModel"</span></span>

<span data-ttu-id="d0a05-323">Были добавлены новые перегрузки метода `LabelFor` и `LabelForModel` вспомогательные методы.</span><span class="sxs-lookup"><span data-stu-id="d0a05-323">New method overloads have been added for the `LabelFor` and `LabelForModel` helper methods.</span></span> <span data-ttu-id="d0a05-324">Новые перегрузки позволяют указать или переопределить текст метки.</span><span class="sxs-lookup"><span data-stu-id="d0a05-324">The new overloads enable you to specify or override the label text.</span></span>

### <a name="sessionless-controller-support"></a><span data-ttu-id="d0a05-325">Поддержка sessionless контроллера</span><span class="sxs-lookup"><span data-stu-id="d0a05-325">Sessionless Controller Support</span></span>

<span data-ttu-id="d0a05-326">В ASP.NET MVC 3, можно указать, какому параметру требуется класс контроллера, использовании состояния сеанса и если да, ли состояние сеанса должно быть чтения и записи или только для чтения.</span><span class="sxs-lookup"><span data-stu-id="d0a05-326">In ASP.NET MVC 3 you can indicate whether you want a controller class to use session state, and if so, whether session state should be read/write or read-only.</span></span> <span data-ttu-id="d0a05-327">Дополнительные сведения о поддержке sessionless контроллера см. в разделе [заметки о выпуске MVC 3](../whitepapers/mvc3-release-notes.md).</span><span class="sxs-lookup"><span data-stu-id="d0a05-327">For more information about sessionless controller support, see [MVC 3 Release Notes](../whitepapers/mvc3-release-notes.md).</span></span>

### <a name="new-additionalmetadataattribute-class"></a><span data-ttu-id="d0a05-328">Новый класс «AdditionalMetadataAttribute»</span><span class="sxs-lookup"><span data-stu-id="d0a05-328">New "AdditionalMetadataAttribute" Class</span></span>

<span data-ttu-id="d0a05-329">Можно использовать [AdditionalMetadata](https://msdn.microsoft.com/library/system.web.mvc.additionalmetadataattribute(v=VS.98).aspx) атрибут для заполнения `ModelMetadata.AdditionalValues` словарь для свойства модели.</span><span class="sxs-lookup"><span data-stu-id="d0a05-329">You can use the [AdditionalMetadata](https://msdn.microsoft.com/library/system.web.mvc.additionalmetadataattribute(v=VS.98).aspx) attribute to populate the `ModelMetadata.AdditionalValues` dictionary for a model property.</span></span> <span data-ttu-id="d0a05-330">Например если модель представления имеет свойство, которое следует отображать только для администратора, можно снабдить это свойство, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="d0a05-330">For example, if a view model has a property that should be displayed only to an administrator, you can annotate that property as shown in the following example:</span></span>

[!code-csharp[Main](mvc3/samples/sample4.cs)]

<span data-ttu-id="d0a05-331">Эти метаданные доступны в любой шаблон отображения или редактора при подготовке к просмотру представление модели продукта.</span><span class="sxs-lookup"><span data-stu-id="d0a05-331">This metadata is made available to any display or editor template when a product view model is rendered.</span></span> <span data-ttu-id="d0a05-332">Это можно интерпретировать сведения о метаданных.</span><span class="sxs-lookup"><span data-stu-id="d0a05-332">It is up to you to interpret the metadata information.</span></span>

### <a name="accountcontroller-improvements"></a><span data-ttu-id="d0a05-333">Усовершенствования AccountController</span><span class="sxs-lookup"><span data-stu-id="d0a05-333">AccountController improvements</span></span>

<span data-ttu-id="d0a05-334">AccountController в шаблоне проекта по Интернету были значительно улучшены.</span><span class="sxs-lookup"><span data-stu-id="d0a05-334">The AccountController in the Internet project template has been greatly improved.</span></span>

### <a name="new-intranet-project-template"></a><span data-ttu-id="d0a05-335">Новый шаблон проекта интрасети</span><span class="sxs-lookup"><span data-stu-id="d0a05-335">New Intranet Project Template</span></span>

<span data-ttu-id="d0a05-336">Шаблон нового проекта интрасеть включено которого включает проверку подлинности Windows и удаляет AccountController.</span><span class="sxs-lookup"><span data-stu-id="d0a05-336">A new Intranet Project Template is included which enables Windows Authentication and removes the AccountController.</span></span>
