---
uid: mvc/mvc3
title: ASP.NET MVC 3
author: rick-anderson
description: (включает обновление инструментов апреля 2011 г.) ASP.NET MVC 3 является основой для создания масштабируемых, основанных на стандартах веб-приложений с использованием устоявшихся шаблонов проектирования...
ms.author: riande
ms.date: 10/05/2010
ms.assetid: dddc8812-a0bc-49f9-aafb-caf2064c2b8c
msc.legacyurl: /mvc/mvc3
msc.type: content
ms.openlocfilehash: 6fe734dc0d0106bb346df154e1e03f97b307567a
ms.sourcegitcommit: ce28244209db8615bc9bdd576a2e2c88174d318d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80675137"
---
# <a name="aspnet-mvc-3"></a>ASP.NET MVC 3

> *(включает обновление инструментов апреля 2011 г.)*
> 
> ASP.NET MVC 3 является основой для создания масштабируемых, основанных на стандартах веб-приложений с использованием устоявшихся шаблонов проектирования и возможностей ASP.NET и рамочной системы .NET.
> 
> Он устанавливает бок о бок с ASP.NET MVC 2, так что начать использовать его сегодня!
> 
> Скачать [установщик здесь](https://microsoft.com/download/details.aspx?id=4211)

## <a name="top-features"></a>Лучшие функции

- Интегрированная система scaffolding, расширяемая через NuGet
- Шаблоны проектов с включенными HTML 5
- Выразительные представления, включая новый двигатель Razor View
- Мощные крючки с инъекцией зависимости и глобальными фильтрами действий
- Богатая поддержка JavaScript с ненавязчивым JavaScript, j's Валидированием, и связыванием JSON
- *Читайте полный список функций [ниже](#overview)*

## <a name="top-links"></a>Лучшие ссылки

Что нового в ASP.NET MVC 3

- Фил Хаак: [ASP.NET MVC 3 выпущен](http://haacked.com/archive/2011/01/13/aspnetmvc3-released.aspx)
- Скотт Хэнсельман: [ASP.NET MVC3, WebMatrix, NuGet, IIS Express и Orchard выпущен - Microsoft Январь Веб-релиз в контексте](http://www.hanselman.com/blog/ASPNETMVC3WebMatrixNuGetIISExpressAndOrchardReleasedTheMicrosoftJanuaryWebReleaseInContext.aspx)
- Скотт Гатри: [Объявление о выпуске ASP.NET MVC 3, IIS Express, S'L CE 4, Web Farm Framework, Orchard, WebMatrix](https://weblogs.asp.net/scottgu/archive/2011/01/13/announcing-release-of-asp-net-mvc-3-iis-express-sql-ce-4-web-farm-framework-orchard-webmatrix.aspx)
- [Примечания к выпуску для ASP.NET MVC 3](../whitepapers/mvc3-release-notes.md)

Установка и справка

- Установка ASP.NET MVC 3 с помощью [веб-платформы Installer (рекомендуется)](https://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&appid=MVC3)
- Установка ASP.NET MVC 3 с использованием [исполнителя установки](https://go.microsoft.com/fwlink/?LinkID=208140)
- Установка [ASP.NET MVC 3 для визуальной студии 11 Разработчик Предварительный](https://go.microsoft.com/fwlink/?LinkID=208140)
- Читайте [Введение ASP.NET MVC 3 учебник](overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md)
- Получить помощь и обсудить ASP.NET MVC 3 на [форумах](https://forums.asp.net/1146.aspx)

<a id="overview"></a>
## <a name="aspnet-mvc-3-overview"></a>ASP.NET MVC 3 Overview

ASP.NET MVC 3 построен на ASP.NET MVC 1 и 2, добавляя отличные функции, которые упрощают код и позволяют более глубокое расширяемость. Эта тема содержит обзор многих новых функций, которые включены в этот выпуск, организованный в следующие разделы:

- [Расширяемые леса с интеграцией MvcScaffold](#BM_MvcScaffolding)
- [Шаблоны проектов с включенными HTML 5](#BM_HTML5)
- [Двигатель бритвы Представления](#BM_TheRazorViewEngine)
- [Поддержка нескольких двигателей view](#BM_Support_for_Multiple_View_Engines)
- [Улучшения контроллера](#BM_Controller_Improvements)
- [JavaScript и Ajax](#BM_JavaScript_and_Ajax_Improvements)
- [Улучшения проверки модели](#BM_Model_Validation_Improvements)
- [Улучшение инъекций зависимости](#BM_Dependency_Injection_Improvements)
- [Другие новые функции](#BM_Other_New_Features)

<a id="BM_MvcScaffolding"></a>

## <a name="extensible-scaffolding-with-mvcscaffold-integration"></a>Расширяемые леса с интеграцией MvcScaffold

Новая система Scaffolding упрощает поиск и продуктивное использование, если вы совершенно новичок в инфраструктуре, и автоматизировать общие задачи разработки, если вы опытны и уже знаете, что делаете.

Это поддерживается новым NuGet *леса* пакет под названием **MvcScaffolding**. Термин "Scaffolding" используется многими программными технологиями для обозначения "быстро генерации основных набросков вашего программного обеспечения, которые вы можете затем отойти и настроить". Пакет строительных лесов, который мы создаем для ASP.NET MVC, очень выгоден в нескольких сценариях:

- **Если вы учитесь ASP.NET MVC в первый раз,** потому что это дает вам быстрый способ получить полезный, рабочий код, который вы можете затем отобразить и адаптировать в соответствии с вашими потребностями. Это спасает вас от травмы, глядя на пустую страницу и не имея ни малейшего представления, с чего начать!
- **Если вы хорошо знаете ASP.NET MVC и сейчас изучаете некоторые новые дополнительные технологии,** такие как объектно-реляционный картограф, движок представления, библиотека тестирования и т.д., потому что создатель этой технологии, возможно, также создал пакет строительных лесов для него.
- **Если ваша работа включает в себя неоднократно создавать аналогичные классы или файлы какой-то,** потому что вы можете создать пользовательские леса, что выход тест светильники, сценарии развертывания, или что-нибудь еще вам нужно. Каждый в вашей команде может использовать пользовательские леса, тоже.

Другие функции в MvcScaffolding включают в себя:

- Поддержка проектов СЗ и ВБ
- Поддержка двигателей обзора Razor и ASPX
- Поддерживает строительные леса в ASP.NET областях MVC и с использованием пользовательских макетов представления / мастеров
- Вы можете легко настроить выход, редактируя шаблоны T4
- Вы можете добавить совершенно новые леса, используя пользовательские логики PowerShell и пользовательские шаблоны T4. Эти (и любые пользовательские параметры, которые вы им дали) автоматически отображаются в списке завершения вкладок консоли.
- Вы можете получить пакеты NuGet, содержащие дополнительные строительные леса для различных технологий (например, есть доказательство концепции один для LIN' в S S'L сейчас) и смешивать и сопоставлять их вместе

Обновление инструментов ASP.NET MVC 3 включает в себя большую поддержку Visual Studio для этой системы строительных лесов, таких как:

- Добавить контроллер Dialog теперь поддерживает полный автоматический строительные леса Создать, Читать, Обновлять и удалять действия контроллера и соответствующие представления. По умолчанию этот эшафот код доступа к данным используется EF Code First.
- Добавить контроллер Dialog поддерживает *расширяемые леса* через пакеты NuGet, такие как *MvcScaffolding.* Это позволяет подключить пользовательские леса в диалог, который позволит вам создавать леса для других технологий доступа к данным, таких как NHibernate или даже JET с ODBCDirect, если вы так склонны!

Для получения дополнительной информации о Scaffolding в ASP.NET MVC 3, см.

- Стив Сандерсон пост серии, в том числе: 

    1. [Введение: Scaffold ваш проект ASP.NET MVC 3 с пакетом MvcScaffolding](http://blog.stevensanderson.com/2011/01/13/scaffold-your-aspnet-mvc-3-project-with-the-mvcscaffolding-package/)
    2. [Стандартное использование: Типичные случаи использования и опции](http://blog.stevensanderson.com/2011/01/13/mvcscaffolding-standard-usage/)
    3. [Отношения «один к много»](http://blog.stevensanderson.com/2011/01/28/mvcscaffolding-one-to-many-relationships/)
    4. [Действия по растокам и модульные тесты](http://blog.stevensanderson.com/2011/03/28/scaffolding-actions-and-unit-tests-with-mvcscaffolding/)
    5. [Преодоление шаблонов T4](http://blog.stevensanderson.com/2011/04/06/mvcscaffolding-overriding-the-t4-templates/)
    6. [Этот пост: Создание пользовательских леса](http://blog.stevensanderson.com/2011/04/07/mvcscaffolding-creating-custom-scaffolders/)
- Скотт Hanselman должность из его PDC 2010 сессии [Строительство блога с Microsoft "Безымянный пакет веб-любовь"](http://www.hanselman.com/blog/PDC10BuildingABlogWithMicrosoftUnnamedPackageOfWebLove.aspx)
- [MVC 3 Примечания к выпуску](../whitepapers/mvc3-release-notes.md)

<a id="BM_HTML5"></a>

## <a name="html-5-project-templates"></a>Шаблоны html 5 проекта

Диалог нового проекта включает в себя флажок, включающий HTML 5 версии шаблонов проектов. Эти шаблоны используют Modernizr 1.7 для обеспечения поддержки совместимости HTML 5 и CSS 3 в браузерах нистого уровня.

<a id="BM_TheRazorViewEngine"></a>

## <a name="the-razor-view-engine"></a>Двигатель бритвы Представления

ASP.NET MVC 3 поставляется с новым двигателем представления под названием Razor, который предлагает следующие преимущества:

- Razor синтаксис является чистым и кратким, требующих минимального количества нажатий клавиш.
- Razor легко узнать, отчасти потому, что она основана на существующих языках, таких как C и Visual Basic.
- Visual Studio включает intelliSense и код окраски для синтаксиса Razor.
- Представления razor могут быть модульным тестом, не требуя запуска приложения или запуска веб-сервера.

Некоторые новые функции Razor включают в себя следующее:

- `@model`синтаксис для определения типа, передаваемого в представление.
- `@* *@`комментарий синтаксиса.
- Возможность указать по умолчанию `layoutpage`(например), один раз для всего сайта.
- Метод `Html.Raw` отображения текста без HTML-кодирования.
- Поддержка совместного использования кода между несколькими представлениями (файлы*\_viewstart.cshtml* или * \_viewstart.vbhtml).*

Razor также включает в себя новых помощников HTML, таких как:

- `Chart`. Рендерс диаграммы, предлагая те же функции, что и управление диаграммой в ASP.NET 4.
- `WebGrid`. Рендеринг сетки данных, в комплекте с paging и сортировки функциональности.
- `Crypto`. Использует алгоритмы хэширования для создания правильно соленых и хэшированных паролей.
- `WebImage`. Рендерс изображение.
- `WebMail`. Отправляет электронное сообщение.

Для получения дополнительной информации о Razor, см.

- [Скотт Гатри в блоге введения Razor](https://weblogs.asp.net/scottgu/archive/2010/07/02/introducing-razor.aspx)
- [Скотт Гатри в блоге введения @model ключевое слово](https://weblogs.asp.net/scottgu/archive/2010/10/19/asp-net-mvc-3-new-model-directive-support-in-razor.aspx)
- [Скотт Гатри в блоге представляя Razor макеты](https://weblogs.asp.net/scottgu/archive/2010/10/22/asp-net-mvc-3-layouts.aspx)
- [Быстрый справочник Razor API](../web-pages/overview/api-reference/asp-net-web-pages-api-reference.md)
- [MVC 3 Примечания к выпуску](../whitepapers/mvc3-release-notes.md)

<a id="BM_Support_for_Multiple_View_Engines"></a>

## <a name="support-for-multiple-view-engines"></a>Поддержка нескольких двигателей view

Диалог-поле **Add View** в ASP.NET MVC 3 позволяет выбрать движок представления, с ним нужно работать, а диалоговая коробка **New Project** позволяет указать движок представления по умолчанию для проекта. Вы можете выбрать движок просмотра web Forms (ASPX), Razor или движок с открытым исходным кодом, например [Spark,](http://sparkviewengine.com/) [NHaml](https://code.google.com/p/nhaml/)или [NDjango.](http://ndjango.org/)

<a id="BM_Controller_Improvements"></a>

## <a name="controller-improvements"></a>Улучшения контроллера

### <a name="global-action-filters"></a>Глобальные фильтры действий

Иногда требуется выполнить логику либо до запуска метода действия, либо после запуска метода действия. Для поддержки этого ASP.NET MVC 2 предоставили фильтры действий. Фильтры действий — это пользовательские атрибуты, которые предоставляют декларативные средства для добавления преддействий и пост-действия в конкретные методы действия контроллера. Однако в некоторых случаях может потребоваться указать преддействие или поведение после действия, которое применяется ко всем методам действия. MVC 3 позволяет указывать глобальные фильтры, добавляя их в коллекцию. `GlobalFilters` Для получения дополнительной информации о глобальных фильтрах действий см.

- [Скотт Гатри блог на MVC 3 Предварительный](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx)
- [Фильтрация в ASP.NET MVC](https://msdn.microsoft.com/library/gg416513(VS.98).aspx)

### <a name="new-viewbag-property"></a>Новое свойство "ViewBag"

Контроллеры MVC 2 `ViewData` поддерживают свойство, позволяющее передавать данные в шаблон представления с помощью API словаря с поздним доступом. В MVC 3 можно также использовать несколько `ViewBag` более простой синтаксис с свойством для достижения той же цели. Например, вместо `ViewData["Message"]="text"`того, чтобы `ViewBag.Message="text"`писать, можно написать. Вам не нужно определять какие-либо сильно набранные классы для использования `ViewBag` свойства. Поскольку это динамическое свойство, вместо этого можно просто получить или установить свойства, и это позволит решить их динамически во время выполнения. Внутренне `ViewBag` свойства хранятся в словаре в `ViewData` виде пар имен/значений. (Примечание: в большинстве предварительных версий `ViewBag` MVC 3, свойство было названо свойством.) `ViewModel`

### <a name="new-actionresult-types"></a>Новые типы "ActionResult"

Следующие `ActionResult` типы и соответствующие методы помощи являются новыми или усовершенствованными в MVC 3:

- [HttpNotFoundResult](https://msdn.microsoft.com/library/system.web.mvc.httpnotfoundresult(v=vs.98).aspx). Возвращает клиенту код состояния 404 HTTP.
- [ПеренаправитьРезультат](https://msdn.microsoft.com/library/system.web.mvc.redirectresult(v=VS.98).aspx). Возвращает временное перенаправление (код статуса HTTP 302) или постоянное перенаправление (код статуса HTTP 301) в зависимости от параметра Boolean. В сочетании с этим изменением, класс [контроллера](https://msdn.microsoft.com/library/system.web.mvc.controller(v=VS.98).aspx) теперь `RedirectPermanent`имеет `RedirectToRoutePermanent`три `RedirectToActionPermanent`метода для выполнения постоянных перенаправлений: , и . Эти методы возвращают `RedirectResult` экземпляр `Permanent` с набором `true`свойства.
- [HttpstatusCodeResult](https://msdn.microsoft.com/library/system.web.mvc.httpstatuscoderesult(v=VS.98).aspx). Возвращает код статуса HTTP, указанный пользователем.

<a id="BM_JavaScript_and_Ajax_Improvements"></a>

## <a name="javascript-and-ajax-improvements"></a>Улучшения JavaScript и Ajax

По умолчанию Ajax и валидаторы в MVC 3 используют ненавязчивый подход JavaScript. Ненавязчивый JavaScript позволяет избежать впрыскивания внеочередных JavaScript в HTML. Это делает HTML меньше и менее суматоху, и делает его легче обмениваться или настроить библиотеки JavaScript. Помощники по проверке в MVC 3 также используют `jQueryValidate` плагин по умолчанию. Если вы хотите поведение MVC 2, вы можете отключить ненавязчивый JavaScript с помощью настройки файла *web.config.* Для получения дополнительной информации об улучшениях JavaScript и Ajax см.

- [Базовое введение в ненавязчивый JavaScript на сайте Википедии](http://en.wikipedia.org/wiki/Unobtrusive_JavaScript)
- [Ненавязчивый пост Брэда Уилсона JavaScript](http://bradwilson.typepad.com/blog/2010/10/mvc3-unobtrusive-ajax.html)
- [Ненавязчивый пост проверки JavaScript Брэда Уилсона](http://bradwilson.typepad.com/blog/2010/10/mvc3-unobtrusive-validation.html)
- [Создание приложения MVC 3 с помощью Razor и ненавязчивого JavaScript](overview/older-versions/creating-a-mvc-3-application-with-razor-and-unobtrusive-javascript.md) (учебник на сайте ASP.NET)
- [MVC 3 Примечания к выпуску](../whitepapers/mvc3-release-notes.md)

### <a name="client-side-validation-enabled-by-default"></a>Проверка на стороне клиента включена по умолчанию

В более ранних версиях MVC необходимо `Html.EnableClientValidation` явно вызвать метод из представления, чтобы включить проверку на стороне клиента. В MVC 3 это больше не требуется, поскольку проверка на стороне клиента включена по умолчанию. (Вы можете отключить это с помощью параметра в файле *web.config.)*

Для того, чтобы проверка на стороне клиента работала, вам все равно необходимо ссылаться на соответствующие библиотеки проверки j'ery и j'ery на вашем сайте. Вы можете разместить эти библиотеки на своем сервере или ссылаться на них из сети доставки контента (CDN), как CDNs от Microsoft или Google.

### <a name="remote-validator"></a>Удаленный валидатор

ASP.NET MVC 3 поддерживает новый класс [RemoteAttribute,](https://msdn.microsoft.com/library/system.web.mvc.remoteattribute(v=VS.98).aspx) который позволяет воспользоваться преимуществами поддержки удаленного валидатора j's Validation. Это позволяет библиотеке проверки на стороне клиента автоматически вызывать пользовательский метод, который вы определяете на сервере, чтобы выполнить логику проверки, которая может быть сделана только на стороне сервера.

В следующем примере `Remote` атрибут указывает, что проверка клиента вызовет `UserNameAvailable` действие, `UsersController` названное в `UserName` классе, чтобы проверить поле.

[!code-csharp[Main](mvc3/samples/sample1.cs)]

В следующем примере показан соответствующий контроллер.

[!code-csharp[Main](mvc3/samples/sample2.cs)]

Для получения дополнительной информации `Remote` о том, как использовать атрибут, см. [Как: Реализация удаленной проверки в ASP.NET MVC](https://msdn.microsoft.com/library/gg508808(VS.98).aspx) в библиотеке MSDN.

### <a name="json-binding-support"></a>Поддержка связывания JSON

ASP.NET MVC 3 включает в себя встроенную привязку JSON, которая позволяет методам действий получать закодированные данные JSON и связывать их с параметрами экшн-метода. Эта возможность полезна в сценариях, связанных с шаблонами клиентов и привязкой данных. (Клиентские шаблоны позволяют форматировать и отображать один элемент данных или набор элементов данных с помощью шаблонов, выполняемых на клиенте.) MVC 3 позволяет легко соединять клиентские шаблоны с методами действий на сервере, которые отправляют и получают данные JSON. Для получения дополнительной информации о JSON обязательной поддержки, см **JavaScript и AJAX Улучшения** разделе [MVC 3 Скотт Гатри в блоге](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx).

<a id="BM_Model_Validation_Improvements"></a>

## <a name="model-validation-improvements"></a>Улучшения проверки модели

### <a name="dataannotations-metadata-attributes"></a>Атрибуты метаданных "DataAnnotations"

ASP.NET MVC `DataAnnotations` 3 поддерживает атрибуты `DisplayAttribute`метаданных, такие как .

### <a name="validationattribute-class"></a>Класс "ВалидацияАтрибут"

Класс `ValidationAttribute` был улучшен в системе 4 .NET `IsValid` для поддержки новой перегрузки, которая предоставляет больше информации о текущем контексте проверки, например, о том, какой объект проверяется. Это позволяет более богатым сценариям, где можно проверить текущее значение на основе другого свойства модели. Например, новый `CompareAttribute` атрибут позволяет сравнить значения двух свойств модели. В следующем примере `ComparePassword` свойство `Password` должно соответствовать полю, чтобы быть действительным.

[!code-csharp[Main](mvc3/samples/sample3.cs)]

### <a name="validation-interfaces"></a>Интерфейсы проверки

Интерфейс [IValidatableObject](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.ivalidatableobject.aspx) позволяет выполнять проверку на уровне модели, а также предоставлять сообщения об ошибках проверки, характерные для состояния общей модели, или между двумя свойствами в модели. MVC 3 теперь извлекает ошибки из `IValidatableObject` интерфейса при присваивании модели, и автоматически флаги или подчеркивает пострадавших полей в представлении с помощью встроенных помощников HTML форме.

[Интерфейс IClientValidatable](https://msdn.microsoft.com/library/system.web.mvc.iclientvalidatable(v=VS.98).aspx) позволяет ASP.NET MVC обнаружить во время выполнения, имеет ли валидатор поддержку для проверки клиента. Этот интерфейс был разработан таким образом, чтобы его можно было интегрировать с различными рамками проверки.

Для получения дополнительной информации о интерфейсах проверки, [Scott Guthrie's MVC 3 Preview blog post](https://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx) **см.** (Однако, обратите внимание, что ссылка на "IValidateObject" в блоге должна быть "IValidatableObject".)

<a id="BM_Dependency_Injection_Improvements"></a>

## <a name="dependency-injection-improvements"></a>Улучшение инъекций зависимости

ASP.NET MVC 3 обеспечивает лучшую поддержку для применения инъекций зависимостей (DI) и для интеграции с контейнерами для инъекций зависимостей или инверсии контроля (IOC). Поддержка DI была добавлена в следующих областях:

- Контроллеры (регистрация и инъекционные контроллеры заводов, инъекционные контроллеры).
- Представления (регистрация и впрыскивание двигателей представления, впрыскивание зависимостей в страницы представления).
- Фильтры действия (поиск и инъекционные фильтры).
- Модельные связующие (регистрация и инъекция).
- Поставщики типовых валидации (регистрация и инъекция).
- Поставщики метаданных модели (регистрация и инъекция).
- Поставщики ценностей (регистрация и инъекция).

MVC 3 поддерживает библиотеку [Common Service Locator](https://github.com/unitycontainer/commonservicelocator) и любой контейнер DI, поддерживающий `IServiceLocator` интерфейс этой библиотеки. Он также поддерживает `IDependencyResolver` новый интерфейс, который упрощает интеграцию платформ DI.

Для получения дополнительной информации о DI в MVC 3, см.

- [Брэд Уилсон серии блогах на сервис местоположение](http://bradwilson.typepad.com/blog/2010/07/service-location-pt1-introduction.html)
- [MVC 3 Примечания к выпуску](../whitepapers/mvc3-release-notes.md)

<a id="BM_Other_New_Features"></a>

## <a name="other-new-features"></a>Другие новые функции

### <a name="nuget-integration"></a>Интеграция NuGet

ASP.NET MVC 3 автоматически устанавливается и позволяет NuGet как часть своей установки. NuGet — это бесплатный набор с открытым исходным кодом, который упрощает поиск, установку и использование библиотек и инструментов .NET в ваших проектах. Он работает со всеми типами проектов Visual Studio (включая ASP.NET веб-формы и ASP.NET MVC).

NuGet позволяет разработчикам, которые поддерживают проекты с открытым исходным кодом (например, такие проекты, как Moq, NHibernate, Ninject, StructureMap, NUnit, Windsor, RhinoMocks и Elmah) упаковывать свои библиотеки и регистрировать их в онлайн-галерее. Затем разработчикам .NET, которые хотят использовать одну из этих библиотек, легко найти пакет и установить его в проекты, над которыми они работают.

С обновлением ASP.NET 3 Tools, шаблоны проектов включают в себя библиотеки JavaScript, предварительно установленные пакеты NuGet, поэтому они обновляются через NuGet. Система Entity Framework Code First также предварительно устанавливается в виде пакета NuGet.

Дополнительные сведения о NuGet см. в [документации по NuGet](https://docs.microsoft.com/nuget/).

### <a name="partial-page-output-caching"></a>Кэшинг вывода частичной страницы

ASP.NET MVC поддерживает кэширование полных страниц с версии 1. MVC 3 также поддерживает частичное кэширование вывода страниц, что позволяет легко кэшировать области или фрагменты ответа. Для получения дополнительной информации о кэширования, см **Частичное страницы Выход Кэшинг** раздел [Скотт Гатри в блоге на MVC 3 релиз кандидата](https://weblogs.asp.net/scottgu/archive/2010/11/09/announcing-the-asp-net-mvc-3-release-candidate.aspx) и **ребенка действий выход кэширования** разделе [MVC 3 Релиз Примечания](../whitepapers/mvc3-release-notes.md).

### <a name="granular-control-over-request-validation"></a>Детальный контроль за проверкой запроса

ASP.NET MVC имеет встроенную проверку запроса, которая автоматически помогает защититься от атак XSS и HTML-инъекций. Однако иногда требуется явно отключить проверку запроса, например, если вы хотите, чтобы пользователи размещали HTML-контент (например, в записях в блоге или содержимом CMS). Теперь можно добавить атрибут [AllowHtml](https://msdn.microsoft.com/library/system.web.mvc.allowhtmlattribute(v=VS.98).aspx) к моделям или моделям представления, чтобы отключить проверку запроса на основе свойств во время связывания модели. Для получения дополнительной информации о проверке запроса см.

- **Ненавязчивый JavaScript и валидации** раздел в [блоге Скотт Гатри на MVC 3 релиз кандидата](https://weblogs.asp.net/scottgu/archive/2010/11/09/announcing-the-asp-net-mvc-3-release-candidate.aspx).
- [MVC 3 Примечания к выпуску](../whitepapers/mvc3-release-notes.md)

### <a name="extensible-new-project-dialog-box"></a>Расширяемый "Новый проект" Диалог Box

В ASP.NET MVC 3 вы можете добавить шаблоны проектов, двигатели представления и модульные тестовые платформы проекта в диалоговую коробку **New Project.**

### <a name="template-scaffolding-improvements"></a>Улучшения в лесах шаблонов

ASP.NET mVC 3 шаблоны строительных лесов лучше определяют свойства первичного ключа на моделях и правильно ею, чем в предыдущих версиях MVC. (Например, шаблоны строительных лесов теперь убедитесь, что основной ключ не является эшафот, как editable поле формы.)

По умолчанию, Создать и edit леса `Html.EditorFor` теперь использовать `Html.TextBoxFor` помощника вместо помощника. Это улучшает поддержку метаданных по модели в виде атрибутов аннотации данных при создании представления диалогового окна **Add View.**

### <a name="new-overloads-for-htmllabelfor-and-htmllabelformodel"></a>Новые перегрузки для "Html.LabelFor" и "Html.LabelForModel"

Для методов `LabelFor` `LabelForModel` и помощников были добавлены новые перегрузки метода. Новые перегрузки позволяют указать или переопределить текст метки.

### <a name="sessionless-controller-support"></a>Поддержка контроллера без сеансов

В ASP.NET MVC 3 вы можете указать, хотите ли вы использовать состояние сеанса в классе контроллера, и если да, то следует ли читать/писать или читать только состояние сеанса. Для получения дополнительной информации о поддержке контроллера [без](../whitepapers/mvc3-release-notes.md)сеансов см.

### <a name="new-additionalmetadataattribute-class"></a>Новый класс "ДополнительныеметаданныеАтрибут"

Для заполнения `ModelMetadata.AdditionalValues` словаря для свойства модели можно использовать атрибут [AdditionalMetadata.](https://msdn.microsoft.com/library/system.web.mvc.additionalmetadataattribute(v=VS.98).aspx) Например, если модель представления имеет свойство, которое должно отображаться только администратору, можно аннотировать это свойство, как показано в следующем примере:

[!code-csharp[Main](mvc3/samples/sample4.cs)]

Эти метаданные становятся доступными для любого шаблона отображения или редактора при визуализации модели представления продукта. Это до вас, чтобы интерпретировать информацию о метаданных.

### <a name="accountcontroller-improvements"></a>Улучшения AccountController

Учетный контроллер в шаблоне проекта Интернет был значительно улучшен.

### <a name="new-intranet-project-template"></a>Новый шаблон проекта интрасети

В комплект входит новый шаблон проекта Intranet, который позволяет аутентификации Windows и удаляет учетную записьController.
