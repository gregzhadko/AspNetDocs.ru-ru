---
uid: mvc/overview/older-versions-1/views/creating-page-layouts-with-view-master-pages-vb
title: Создание макетов страниц с помощью страниц-мастеров просмотра (VB) Документы Майкрософт
author: rick-anderson
description: В этом учебнике вы узнаете, как создать общий макет страницы для нескольких страниц в приложении, воспользовавшись преимуществами просмотра мастер-страниц. Вы можете использовать a. .
ms.author: riande
ms.date: 10/16/2008
ms.assetid: d34f90a1-6de3-482a-a326-f87fdcbaaaff
msc.legacyurl: /mvc/overview/older-versions-1/views/creating-page-layouts-with-view-master-pages-vb
msc.type: authoredcontent
ms.openlocfilehash: 37b8d858c72357ebbe51458f76511a9672b01b4d
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2020
ms.locfileid: "81542499"
---
# <a name="creating-page-layouts-with-view-master-pages-vb"></a>Создание макетов страниц с эталонными страницами представлений (VB)

[корпорацией Майкрософт](https://github.com/microsoft)

[Скачать PDF](https://download.microsoft.com/download/e/f/3/ef3f2ff6-7424-48f7-bdaa-180ef64c3490/ASPNET_MVC_Tutorial_12_VB.pdf)

> В этом учебнике вы узнаете, как создать общий макет страницы для нескольких страниц в приложении, воспользовавшись преимуществами просмотра мастер-страниц. Например, можно использовать страницу master view для определения макета страницы из двух столбцов и использования макета двух столбцов для всех страниц веб-приложения.

## <a name="creating-page-layouts-with-view-master-pages"></a>Создание макетов страниц с помощью страниц -мастер-страниц представления

В этом учебнике вы узнаете, как создать общий макет страницы для нескольких страниц в приложении, воспользовавшись преимуществами просмотра мастер-страниц. Например, можно использовать страницу master view для определения макета страницы из двух столбцов и использования макета двух столбцов для всех страниц веб-приложения.

Вы также можете воспользоваться преимуществами госстраниц представления для обмена общим контентом на нескольких страницах приложения. Например, вы можете разместить логотип веб-сайта, навигационные ссылки и баннерную рекламу на главной странице просмотра. Таким образом, каждая страница в вашем приложении будет отображать это содержимое автоматически.

В этом уроке вы узнаете, как создать новую страницу госполя представления и создать новую страницу содержимого представления на основе главной страницы.

### <a name="creating-a-view-master-page"></a>Создание страницы мастера просмотра

Начнем с создания страницы master view, определяющей двухстолбную планировку. Вы добавляете новую страницу master view в проект MVC, нажав правой нажатием папки Views,Shared, выбрав опцию меню **Добавить, новый элемент**и выбрав шаблон MVC View Master Page (см. рисунок 1).

[![Добавление главной страницы представления](creating-page-layouts-with-view-master-pages-vb/_static/image2.png)](creating-page-layouts-with-view-master-pages-vb/_static/image1.png)

**Рисунок 01**: Добавление главной страницы представления[(Нажмите, чтобы просмотреть полноразмерное изображение)](creating-page-layouts-with-view-master-pages-vb/_static/image3.png)

В приложении можно создать несколько страниц на главной странице представления. Каждая страница master view может определить другой макет страницы. Например, можно захотеть, чтобы на некоторых страницах была макет из двух столбцов, а на других — макет из трех столбцов.

Страница master view очень похожа на стандартную ASP.NET представление MVC. Однако, в отличие от обычного представления, `<asp:ContentPlaceHolder>` страница гособзора представления содержит один или несколько тегов. Теги `<contentplaceholder>` используются для обозначения областей главной страницы, которые могут быть переопределены на отдельной странице содержимого.

Например, главная страница представления в листинге 1 определяет двухстолбную планировку. Он содержит `<contentplaceholder>` два тега. По `<ContentPlaceHolder>` одному для каждой колонки.

**Список 1 -`Views\Shared\Site.master`**

[!code-aspx[Main](creating-page-layouts-with-view-master-pages-vb/samples/sample1.aspx)]

Тело главной страницы представления в листинге 1 содержит два `<div>` тега, которые соответствуют двум столбцам. Класс столбца Каскадного стиля применяется `<div>` к обоим тегам. Этот класс определяется в листе стиля, объявленном в верхней части главной страницы. Вы можете просмотреть, как будет отображаться страница master view, переключившись на представление Design. Нажмите на вкладку Design в левом нижнем углу редактора исходного кода (см. рисунок 2).

[![Предварительный просмотр главной страницы в дизайнере](creating-page-layouts-with-view-master-pages-vb/_static/image5.png)](creating-page-layouts-with-view-master-pages-vb/_static/image4.png)

**Рисунок 02**: Предварительный просмотр главной страницы в дизайнере[(Нажмите, чтобы просмотреть полноразмерное изображение](creating-page-layouts-with-view-master-pages-vb/_static/image6.png))

### <a name="creating-a-view-content-page"></a>Создание страницы содержимого представления

После создания главной страницы представления можно создать одну или несколько страниц содержимого представления на основе страницы master view. Например, можно создать страницу содержимого представления индекса для домашнего контроллера, нажав правой нажатием папки Views-Home, выбрав **Добавить, новый элемент,** выбрав шаблон **Страницы содержимого MVC View,** введя имя Index.aspx и нажав кнопку Add (см. рисунок 3).

[![Добавление страницы содержимого представления](creating-page-layouts-with-view-master-pages-vb/_static/image8.png)](creating-page-layouts-with-view-master-pages-vb/_static/image7.png)

**Рисунок 03**: Добавление страницы содержимого представления[(Нажмите, чтобы просмотреть полноразмерное изображение)](creating-page-layouts-with-view-master-pages-vb/_static/image9.png)

После нажатия кнопки Добавить появляется новый диалог, позволяющий выбрать страницу master view для ассоциированной со страницей содержимого представления (см. рисунок 4). Вы можете перейти на главную страницу просмотра Site.master, созданную в предыдущем разделе.

[![Выбор главной страницы](creating-page-layouts-with-view-master-pages-vb/_static/image11.png)](creating-page-layouts-with-view-master-pages-vb/_static/image10.png)

**Рисунок 04**: Выбор главной страницы[(Нажмите, чтобы просмотреть полноразмерное изображение)](creating-page-layouts-with-view-master-pages-vb/_static/image12.png)

После создания новой страницы содержимого представления на основе главной страницы Site.master вы получите файл в листинге 2.

**Список 2 -`Views\Home\Index.aspx`**

[!code-aspx[Main](creating-page-layouts-with-view-master-pages-vb/samples/sample2.aspx)]

Обратите внимание, что `<asp:Content>` это представление содержит тег, который соответствует каждому из `<asp:ContentPlaceHolder>` тегов на странице просмотра. Каждый `<asp:Content>` тег содержит атрибут ContentPlaceHolderID, `<asp:ContentPlaceHolder>` который указывает на конкретный, который он переопределяет.

Кроме того, обратите внимание, что страница просмотра содержимого в листинге 2 не содержит ни одного из обычных тегов HTML., открывающихся и закрывающихся HTML.. Например, он не содержит открытия `<html>` `<head>` и закрытия или теги. Все обычные теги открытия и закрытия содержатся на главной странице представления.

Любое содержимое, которое вы хотите отобразить на странице содержимого представления, должно быть помещено в `<asp:Content>` тег. Если вы разместите какой-либо HTML или другой контент за пределами этих тегов, то вы получите ошибку при попытке просмотреть страницу.

Вам не нужно переопределять `<asp:ContentPlaceHolder>` каждый тег с главной страницы на странице просмотра содержимого. Вам нужно переопределить `<asp:ContentPlaceHolder>` тег только, когда вы хотите заменить тег с конкретным содержанием.

Например, измененное представление индекса в `<asp:Content>` листинге 3 содержит только два тега. Каждый `<asp:Content>` из тегов содержит некоторый текст.

**Список 3 -`Views\Home\Index.aspx (modified)`**

[!code-aspx[Main](creating-page-layouts-with-view-master-pages-vb/samples/sample3.aspx)]

При запросе представления в листинге 3 отображается страница на рисунке 5. Обратите внимание, что представление отображает страницу с двумя столбцов. Кроме того, обратите внимание, что содержимое страницы содержимого представления сливается с содержанием главной страницы представления.

[![Страница содержимого представления индекса](creating-page-layouts-with-view-master-pages-vb/_static/image14.png)](creating-page-layouts-with-view-master-pages-vb/_static/image13.png)

**Рисунок 05**: Страница содержимого представления индекса ([Нажмите, чтобы просмотреть полноразмерное изображение)](creating-page-layouts-with-view-master-pages-vb/_static/image15.png)

### <a name="modifying-view-master-page-content"></a>Изменение содержимого страницы учителя представления

Одной из проблем, с которой вы сталкиваетесь почти сразу при работе с большими страницами представления, является проблема изменения содержимого страницы госстраницы представления при запросе различных страниц содержимого представления. Например, каждая страница в вашем веб-приложении имеет уникальное название. Однако название объявляется на главной странице представления, а не на странице содержимого представления. Итак, как настроить название страницы для каждой страницы содержимого просмотра?

Существует два способа изменить название, отображаемые на странице содержимого представления. Во-первых, можно присвоить заголовок страницы атрибуту заголовка `<%@ page %>` директивы, объявленной в верхней части страницы содержимого представления. Например, если вы хотите присвоить представление индекса заголовку страницы «Супер Великий веб-сайт», то в верхней части представления Индекса можно включить следующую директиву:

[!code-aspx[Main](creating-page-layouts-with-view-master-pages-vb/samples/sample4.aspx)]

Когда представление индекса отображается в браузере, желаемое название отображается в строке заголовка браузера:

[![Заголовок браузера бар](creating-page-layouts-with-view-master-pages-vb/_static/image17.png)](creating-page-layouts-with-view-master-pages-vb/_static/image16.png)

Существует одно важное требование, которое должна удовлетворять страница просмотра master view для того, чтобы атрибут заголовка работал. Страница master View должна `<head runat="server">` содержать тег `<head>` вместо обычного тега для заголовка. Если `<head>` тег не включает атрибут runat'"server", то заголовок не отображается. Главная страница представления по `<head runat="server">` умолчанию содержит необходимый тег.

Альтернативный подход к изменению содержимого главной страницы с отдельной страницы содержимого представления заключается в том, чтобы обернуть область, которую `<asp:ContentPlaceHolder>` вы хотите изменить в тег. Например, представьте, что вы хотите изменить не только название, но и мета-теги, отображаемые на странице просмотра master. Страница "Мастер-вид" в `<asp:ContentPlaceHolder>` листинге `<head>` 4 содержит тег в своем теге.

**Список 4 -`Views\Shared\Site2.master`**

[!code-aspx[Main](creating-page-layouts-with-view-master-pages-vb/samples/sample5.aspx)]

Обратите внимание, что тег в листинге `<asp:ContentPlaceHolder>` 4 содержит содержимое по умолчанию: название по умолчанию и мета-теги по умолчанию. Если вы не отмените этот `<asp:ContentPlaceHolder>` тег на странице содержимого отдельных представлений, то содержимое по умолчанию будет отображаться.

Страница просмотра содержимого в листинге 5 переопределяет `<asp:ContentPlaceHolder>` тег для отображения пользовательского заголовка и пользовательских мета-тегов.

**Список 5 -`Views\Home\Index2.aspx`**

[!code-aspx[Main](creating-page-layouts-with-view-master-pages-vb/samples/sample6.aspx)]

### <a name="summary"></a>Сводка

Этот учебник предоставил вам базовое введение для просмотра основных страниц и просмотра страниц контента. Вы узнали, как создавать новые страницы мастер-страниц представления и создавать на их основе страницы содержимого представления. Мы также изучили, как можно изменять содержимое главной страницы представления с определенной страницы содержимого представления.

> [!div class="step-by-step"]
> [Назад](using-the-tagbuilder-class-to-build-html-helpers-vb.md)
> [Вперед](passing-data-to-view-master-pages-vb.md)
