---
uid: mvc/overview/older-versions-1/controllers-and-routing/aspnet-mvc-controllers-overview-cs
title: Общие сведения о контроллерах ASP.NET MVC (C#) | Документация Майкрософт
author: StephenWalther
description: В этом руководстве Стивен Вальтер вы познакомитесь с контроллеров ASP.NET MVC. Вы узнаете, как создать новые контроллеры и вернуть различные виды res действие...
ms.author: riande
ms.date: 02/16/2008
ms.assetid: b985c49a-3668-455c-a366-f85f6bc64b12
msc.legacyurl: /mvc/overview/older-versions-1/controllers-and-routing/aspnet-mvc-controllers-overview-cs
msc.type: authoredcontent
ms.openlocfilehash: 21891a022885f7a4fae6d7fe3276587abf59986d
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59414300"
---
# <a name="aspnet-mvc-controller-overview-c"></a>Общие сведения о контроллерах в ASP.NET MVC (C#)

по [Стивен Вальтер](https://github.com/StephenWalther)

> В этом руководстве Стивен Вальтер вы познакомитесь с контроллеров ASP.NET MVC. Вы узнаете, как создать новые контроллеры и вернуть различные типы результатов действий.


В этом руководстве рассматриваются в разделе ASP.NET MVC контроллеров, действий контроллера, и результаты действий. После завершения этого учебника вы узнаете, как контроллеры используются для управления способом посетитель взаимодействует с веб-сайта ASP.NET MVC.

## <a name="understanding-controllers"></a>Общее представление о контроллерах

Контроллеры MVC отвечают за реагирование на запросы к веб-сайта ASP.NET MVC. Каждый запрос браузера сопоставляется с определенным контроллером. Например представьте, что введите следующий URL-адрес в адресную строку браузера:

`http://localhost/Product/Index/3`

В этом случае вызывается контроллер с именем ProductController. ProductController отвечает за создание ответ на запрос браузера. Например контроллер может вернуть это конкретное представление браузера или контроллер может перенаправить пользователя к другому контроллеру.

В листинге 1 содержит простой контроллер с именем ProductController.

**Listing1 - Controllers\ProductController.cs**

[!code-csharp[Main](aspnet-mvc-controllers-overview-cs/samples/sample1.cs)]

Как показано в листинге 1, контроллер — это класс (класс Visual Basic .NET или C#). Контроллер, является класс, производный от базового класса класса System.Web.Mvc.Controller. Поскольку контроллер наследует от этого базового класса, контроллер наследует несколько полезных методов бесплатно (мы обсудим эти методы чуть позже).

## <a name="understanding-controller-actions"></a>Основные сведения о действиях контроллера

Контроллер обеспечивает доступ к действиям контроллера. Действие — это метод на контроллере, который вызывается при вводе определенного URL-адреса в адресной строке браузера. Например представьте, что можно сделать запрос следующий URL-адрес:

`http://localhost/Product/Index/3`

В этом случае метод Index() вызывается в классе ProductController. Метод Index() — пример действия контроллера.

Действие контроллера должен быть открытый метод класса контроллера. Методы C#, по умолчанию представляют собой частные методы. Учтите, что любой открытый метод, который можно добавить в класс контроллера указывается в виде действие контроллера автоматически (Будьте внимательны, чтобы об этом, так как действия контроллера могут быть вызваны любой пользователь во вселенной просто введя правой URL-адрес в адресную строку браузера).

Существуют некоторые дополнительные требования, которые должны быть удовлетворены с помощью действия контроллера. Метод, используемый как действие контроллера, не могут быть перегружены. Кроме того действие контроллера не может быть статический метод. За исключением этого можно использовать практически любой метод, как действие контроллера.

## <a name="understanding-action-results"></a>Основные сведения о результатах действий

Возвращает действие контроллера, так называемую *результат действия*. Результат действия является действие контроллера возвращает в ответ на запрос браузера.

Платформа ASP.NET MVC поддерживает несколько типов результатов действий, в том числе:

1. ViewResult - HTML представляет и разметки.
2. EmptyResult - представляет результат отсутствует.
3. RedirectResult - представляет перенаправление на новый URL-адрес.
4. JsonResult - представляет нотация объектов JavaScript результат, который может использоваться в приложении AJAX.
5. JavaScriptResult - представляет скрипт JavaScript.
6. ContentResult - представляет текстовый результат.
7. FileContentResult - представляет загружаемый файл (с двоичное содержимое).
8. FilePathResult - представляет загружаемый файл (с путем).
9. FileStreamResult - представляет загружаемый файл (с файловым потоком).

Все эти результаты действия наследуют от базового класса ActionResult.

В большинстве случаев действие контроллера возвращает ViewResult. Например действие контроллера индекса в листинге 2 Возвращает ViewResult.

**В листинге 2 - Controllers\BookController.cs**

[!code-csharp[Main](aspnet-mvc-controllers-overview-cs/samples/sample2.cs)]

Когда действие возвращает ViewResult, HTML, возвращается в браузер. Метод Index() в листинге 2 Возвращает представление с именем Index в браузер.

Обратите внимание на то, что действие Index() в листинге 2 не возвращает ViewResult(). Вместо этого вызывается метод View() базового класса контроллера. Как правило вы не возвращают результат действия напрямую. Вместо этого вызовите один из следующих методов базового класса контроллера.

1. Просмотр - возвращает результат действия ViewResult.
2. Перенаправление — возвращает результат действия RedirectResult.
3. RedirectToAction - возвращает результат действия RedirectToRouteResult.
4. RedirectToRoute - возвращает результат действия RedirectToRouteResult.
5. JSON — возвращает результат действия JsonResult.
6. JavaScriptResult - возвращает JavaScriptResult.
7. Содержания - возвращает результат действия ContentResult.
8. Файл — возвращает FileContentResult, FilePathResult или FileStreamResult в зависимости от параметров, передается в метод.

Таким образом Если вы хотите вернуть представление в браузере, можно вызвать метод View(). Если вы хотите перенаправить пользователя из действия один контроллер в другой, можно вызвать метод RedirectToAction(). Например действие Details() в листинге 3 отображается представление либо перенаправляет пользователя на действие Index() в зависимости от того, является ли параметр Id имеет значение.

**Листинг 3 - CustomerController.cs**

[!code-csharp[Main](aspnet-mvc-controllers-overview-cs/samples/sample3.cs)]

Результат действия ContentResult специальные. Результат действия ContentResult можно использовать для возвращения результата действия в виде обычного текста. Например метод Index() в листинге 4 возвращает сообщение, как обычный текст, а не как HTML.

**Листинг 4 - Controllers\StatusController.cs**

[!code-csharp[Main](aspnet-mvc-controllers-overview-cs/samples/sample4.cs)]

При вызове действия StatusController.Index(), представление не возвращается. Вместо этого необработанный текст «Hello World!» возвращается в браузер.

Если действие контроллера возвращает результат, не результат действия — например, даты или целое число — затем результат заключается в ContentResult автоматически. Например при вызове действия Index() WorkController в листинге 5 даты возвращается в виде ContentResult автоматически.

**В листинге 5 - WorkController.cs**

[!code-csharp[Main](aspnet-mvc-controllers-overview-cs/samples/sample5.cs)]

Это действие Index() в листинге 5 возвращает объект DateTime. Платформа ASP.NET MVC преобразует объект DateTime в строку и создает оболочку значения даты и времени в ContentResult автоматически. Обозреватель получает дату и время в виде обычного текста.

## <a name="summary"></a>Сводка

Цель этого руководства мы хотели вам познакомиться с основными понятиями, контроллеры ASP.NET MVC, контроллер действий и результатов действий контроллера. В первом разделе вы узнали, как добавить новых контроллеров в проекте ASP.NET MVC. Далее вы узнали, как открытые методы контроллера предоставляются вселенной виде действий контроллера. Наконец мы рассмотрели различные типы результатов действий, которые могут быть возвращены из действия контроллера. В частности мы рассмотрели, как вернуть ViewResult, RedirectToActionResult и ContentResult из действия контроллера.

> [!div class="step-by-step"]
> [Назад](creating-an-action-vb.md)
> [Вперед](creating-custom-routes-cs.md)
