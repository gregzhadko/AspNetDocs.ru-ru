---
uid: mvc/overview/older-versions-1/controllers-and-routing/asp-net-mvc-routing-overview-cs
title: Сведения о маршрутизации ASP.NET MVC (C#) | Документация Майкрософт
author: StephenWalther
description: В этом руководстве Стивен Вальтер показано, как платформа ASP.NET MVC сопоставляет запросы браузера к действиям контроллера.
ms.author: riande
ms.date: 08/19/2008
ms.assetid: 5b39d2d5-4bf9-4d04-94c7-81b84dfeeb31
msc.legacyurl: /mvc/overview/older-versions-1/controllers-and-routing/asp-net-mvc-routing-overview-cs
msc.type: authoredcontent
ms.openlocfilehash: e2f2246e2126bd6e648f861bcb296fab62a748bb
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59380110"
---
# <a name="aspnet-mvc-routing-overview-c"></a>Общие сведения о маршрутизации в ASP.NET MVC (C#)

по [Стивен Вальтер](https://github.com/StephenWalther)

> В этом руководстве Стивен Вальтер показано, как платформа ASP.NET MVC сопоставляет запросы браузера к действиям контроллера.


В этом руководстве представлена важной особенностью каждое приложение ASP.NET MVC вызывается *маршрутизация ASP.NET*. Модуль маршрутизации ASP.NET отвечает за сопоставление входящий запрос браузера с определенного действия контроллера MVC. Изучив этот учебник вы сможете понять, как в таблице Стандартная Маршрутизация сопоставляет запросы к действиям контроллера.

## <a name="using-the-default-route-table"></a>С помощью таблицы маршрутов по умолчанию

При создании нового приложения ASP.NET MVC, приложение уже настроен для использования маршрутизации ASP.NET. В двух местах используется маршрутизация ASP.NET.

Во-первых маршрутизация ASP.NET включена в файле конфигурации веб-приложения (файл Web.config). Существует четыре раздела в файле конфигурации, относящиеся к маршрутизации: разделе system.web.httpModules, в разделе system.web.httpHandlers, system.webserver.modules разделе и разделе system.webserver.handlers. Не следует удалить эти разделы, так как без этих разделов маршрутизации больше не будет работать.

Во-вторых и что более важно таблицы маршрутов создается в файле Global.asax приложения. Файл Global.asax является особым файлом, содержит обработчики событий для события жизненного цикла приложения ASP.NET. В таблице маршрутов будет создан при событии запуска приложения.

Файл в листинге 1 содержит файл Global.asax по умолчанию для приложения ASP.NET MVC.

**В листинге 1 - Global.asax.cs**

[!code-csharp[Main](asp-net-mvc-routing-overview-cs/samples/sample1.cs)]

Когда приложение MVC первом запуске приложения\_вызывается метод Start(). Этот метод в свою очередь, вызывает метод RegisterRoutes(). Метод RegisterRoutes() создает таблицы маршрутов.

Таблица маршрутов по умолчанию содержит один маршрут (с именем по умолчанию). Маршрут по умолчанию сопоставляется первый сегмент URL-адреса, имя контроллера, второй сегмент URL-адреса к действию контроллера и третий сегмент в параметр с именем **идентификатор**.

Представьте себе, что введите следующий URL-адрес в адресную строку веб-браузера.

/ Home/Index/3

Этот URL-адрес маршрута по умолчанию сопоставляется со следующими параметрами:

- контроллер = Home

- Действие = индекс

- идентификатор = 3

При запросе URL-адрес/Home/Index/3, выполняется следующий код:

HomeController.Index(3)

Маршрут по умолчанию включает в себя значения по умолчанию для всех трех параметров. Если вы не указали контроллера, затем параметр контроллера по умолчанию значение **Главная**. Если вы не указали действие, параметр действия по умолчанию используется значение **индекс**. И, наконец Если не указан идентификатор, идентификатор по умолчанию: пустая строка.

Давайте рассмотрим несколько примеров как маршрут по умолчанию сопоставляет URL-адреса к действиям контроллера. Представьте себе, что введите следующий URL-адрес в адресной строке браузера.

/ Home

Из-за умолчанию маршрут по умолчанию введя этот URL-адрес вызовет Index() метод в класс HomeController в листинге 2 для вызова.

**В листинге 2 - HomeController.cs**

[!code-csharp[Main](asp-net-mvc-routing-overview-cs/samples/sample2.cs)]

В листинге 2 в класс HomeController содержит метод с именем Index(), который принимает один параметр с именем Id. URL-адрес/Home вызывает метод Index(), который вызывается с пустой строкой в качестве значения параметра Id.

Из-за того, что платформа MVC вызывает действий контроллера / Home URL-адрес также соответствует Index() метод в класс HomeController в листинге 3.

**Листинг 3 - HomeController.cs (действие индекса без параметра)**

[!code-csharp[Main](asp-net-mvc-routing-overview-cs/samples/sample3.cs)]

Метод Index() в листинге 3 не принимает параметров. URL-адрес/Home вызовет этот метод Index() для вызова. URL-адрес/Home/Index/3 также вызывает этот метод (идентификатор будет пропускаться).

URL-адрес/Home также соответствует Index() метод в класс HomeController в листинге 4.

**Листинг 4 - HomeController.cs (действие Index с параметром, допускающий значение NULL)**

[!code-csharp[Main](asp-net-mvc-routing-overview-cs/samples/sample4.cs)]

В листинге 4 Index() метод имеет один параметр целое число. Поскольку параметр является параметром допускает значения NULL (может иметь значение Null), Index() может быть вызван без возникновения ошибки.

Наконец, вызова метода Index() в листинге 5 с/Home URL-адрес приводит к возникновению исключения, так как параметр Id *не* допускающего значение null параметра. При попытке вызвать метод Index() вы получите сообщение об ошибке на рис. 1.

**В листинге 5 - HomeController.cs (действие Index с параметром Id)**

[!code-csharp[Main](asp-net-mvc-routing-overview-cs/samples/sample5.cs)]


[![Invoking действия контроллера, который ожидает, что значение параметра](asp-net-mvc-routing-overview-cs/_static/image1.jpg)](asp-net-mvc-routing-overview-cs/_static/image1.png)

**Рис 01**: Вызов действия контроллера, который ожидает, что значение параметра ([Просмотр полноразмерного изображения](asp-net-mvc-routing-overview-cs/_static/image2.png))


С другой стороны, URL-адрес/Home/Index/3, хорошо работает с действие контроллера индекса в листинге 5. Запрос /Home/Index/3 вызывает метод Index() может вызываться с параметром идентификатор, который имеет значение 3.

## <a name="summary"></a>Сводка

Целью данного учебника мы хотели предоставить Краткое введение в маршрутизации ASP.NET. Мы рассмотрели таблицы маршрутизации по умолчанию, которую можно получить с помощью нового приложения ASP.NET MVC. Вы узнали, как маршрут по умолчанию сопоставляет URL-адреса к действиям контроллера.

> [!div class="step-by-step"]
> [Далее](understanding-action-filters-cs.md)
