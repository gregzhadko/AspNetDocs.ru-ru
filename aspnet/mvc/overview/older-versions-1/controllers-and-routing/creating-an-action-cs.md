---
uid: mvc/overview/older-versions-1/controllers-and-routing/creating-an-action-cs
title: Создание действия (C) Документы Майкрософт
author: rick-anderson
description: Узнайте, как добавить новое действие в ASP.NET контроллер MVC. Узнайте о требованиях к методу, который должен быть действием.
ms.author: riande
ms.date: 03/02/2009
ms.assetid: cb33b28c-3025-4bd1-a1fa-eaa3af7bb56f
msc.legacyurl: /mvc/overview/older-versions-1/controllers-and-routing/creating-an-action-cs
msc.type: authoredcontent
ms.openlocfilehash: 1c1edfbab41afa58c7cb2c0d306995e9fe491c90
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2020
ms.locfileid: "81542278"
---
# <a name="creating-an-action-c"></a>Создание действия (C#)

[корпорацией Майкрософт](https://github.com/microsoft)

> Узнайте, как добавить новое действие в ASP.NET контроллер MVC. Узнайте о требованиях к методу, который должен быть действием.

Цель этого учебника состоит в том, чтобы объяснить, как вы можете создать новый контроллер действий. Вы узнаете о требованиях метода действия. Вы также узнаете, как предотвратить метод от разоблачения в качестве действия.

## <a name="adding-an-action-to-a-controller"></a>Добавление действия в контроллер

Вы добавляете новое действие контроллеру, добавляя новый метод в контроллер. Например, контроллер в листинге 1 содержит действие под названием Индекс () и действие под названием SayHello(). Оба метода разоблачаются как действия.

**Список 1 - Контролеры**

[!code-csharp[Main](creating-an-action-cs/samples/sample1.cs)]

Для того, чтобы подвергаться воздействию Вселенной как действия, метод должен соответствовать определенным требованиям:

- Метод должен быть общедоступным.
- Метод не может быть статичным методом.
- Метод не может быть методом расширения.
- Метод не может быть конструктором, геттером или сеттером.
- Метод не может иметь открытые типы общего.
- Метод не является методом базового класса контроллера.
- Метод не может содержать параметры **реф** или **из** них.

Обратите внимание, что нет никаких ограничений на тип возврата действия контроллера. Действие контроллера может вернуть строку, DateTime, экземпляр класса Random или пустоту. Платформа ASP.NET MVC преобразует любой тип возврата, который не является результатом действия, в строку и внесет строку в браузер.

При добавлении любого метода, который не нарушает эти требования, в контроллер, метод подвергается действию контроллера. Будь осторожен здесь. Действия контроллера могут вызываться любым лицом, подключенным к Интернету. Не создавайте, например, действия контроллера DeleteMyWebsite()

## <a name="preventing-a-public-method-from-being-invoked"></a>Предотвращение вызова общедоступного метода

Если вам нужно создать общедоступный метод в классе контроллера, и вы не хотите, чтобы разоблачить метод как действие контроллера, то вы можете предотвратить метод от вызова с помощью атрибута «NonAction». Например, контроллер в листинге 2 содержит общедоступный метод под названием CompanySecrets(), который украшен атрибутом «NonAction».

**Список 2 - Контроллеры/WorkController.cs**

[!code-csharp[Main](creating-an-action-cs/samples/sample2.cs)]

Если вы попытаетесь вызвать CompanySecrets () действие контроллера, введя /Work/CompanySecrets в адресную строку вашего браузера, то вы получите сообщение об ошибке на рисунке 1.

[![Ссылаясь на метод NonAction](creating-an-action-cs/_static/image1.jpg)](creating-an-action-cs/_static/image1.png)

**Рисунок 01**: Ссылка на метод NonAction[(Нажмите, чтобы просмотреть полноразмерное изображение)](creating-an-action-cs/_static/image2.png)

> [!div class="step-by-step"]
> [Назад](creating-a-controller-cs.md)
> [Вперед](asp-net-mvc-routing-overview-vb.md)
