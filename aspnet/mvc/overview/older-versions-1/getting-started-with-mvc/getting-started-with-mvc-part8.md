---
uid: mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part8
title: Добавление столбца в модель | Документация Майкрософт
author: shanselman
description: Это руководство для начинающих, в котором представлены основные сведения по ASP.NET MVC. Создание простого веб-приложения, которое считывает и записывает в базу данных.
ms.author: riande
ms.date: 08/14/2010
ms.assetid: 7ae696b9-348f-4993-8ebb-a838acbe0c28
msc.legacyurl: /mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part8
msc.type: authoredcontent
ms.openlocfilehash: 029234cf9a28a80c487504e4e0980c214e45f53a
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59381969"
---
# <a name="adding-a-column-to-the-model"></a>Добавление столбца в модель

по [(Scott hanselman)](https://github.com/shanselman)

> Это руководство для начинающих, в котором представлены основные сведения по ASP.NET MVC. Вы создадите простое веб-приложение, которое считывает и записывает в базу данных. Посетите [центр обучения ASP.NET MVC](../../../index.md) для поиска других ASP.NET MVC, учебники и примеры.


В этом разделе мы собираемся разберем, как можно вносить изменения в схему нашей базы данных и обрабатывать изменения, в наше приложение.

Давайте добавим столбец «Оценка» в таблице Movie. Вернитесь в интегрированную среду разработки и нажмите кнопку обозревателя базы данных. Таблица Movie щелкните правой кнопкой мыши и выберите Открыть определение таблицы.

Добавьте столбец «Оценка», как показано ниже. Поскольку мы не имеем любые оценки, столбец можно разрешить значения NULL. Нажмите кнопку Сохранить.

[![EОграничить редактирование фильмов таблицы](getting-started-with-mvc-part8/_static/image2.png)](getting-started-with-mvc-part8/_static/image1.png)

Затем вернитесь в обозреватель решений и откройте файл Movies.edmx (который находится в папке \Models). Щелкните правой кнопкой мыши в области конструктора (белая область) и выберите Обновить модель из базы данных.

[![Movies - Microsoft Visual Web Developer 2010 Express (11)](getting-started-with-mvc-part8/_static/image4.png)](getting-started-with-mvc-part8/_static/image3.png)

Это приведет к запуску «Мастера обновления». Перейдите на вкладку "обновления" внутри него и нажмите кнопку Готово. Затем наш класс модели Movie обновляется с новым столбцом.

![Мастер обновления (2)](getting-started-with-mvc-part8/_static/image5.png)

После нажатия кнопки Готово, вы увидите, что сущность фильмов в нашей модели добавлен новый столбец оценки.

[![Mильм сущности](getting-started-with-mvc-part8/_static/image7.png)](getting-started-with-mvc-part8/_static/image6.png)

Мы добавили столбец в модели базы данных, но представления не знаете о нем.

## <a name="update-views-with-model-changes"></a>Обновление представлений с изменениями модели

Наши шаблоны представлений, чтобы отразить новый столбец оценки можно изменить несколькими способами. Так как мы создали эти представления путем создания их с помощью диалогового окна Add View, мы могли бы их удалить и повторно создать их снова. Тем не менее обычно людей будут уже были внесены изменения их шаблонов представлений из первоначального формирования шаблонный и хотите добавить или удалить поля вручную, так же, как мы сделали с поле ID для создания.

Откройте шаблон \Views\Movies\Index.aspx и добавьте &lt;th&gt;Оценка&lt;/th&gt; на заголовок таблицы Movie. Я добавил моего после жанра. Затем в той же позиции столбца, но ниже, добавьте строку для вывода наш новый элемент управления Rating.

[!code-aspx[Main](getting-started-with-mvc-part8/samples/sample1.aspx)]

Наши окончательная версия шаблона Index.aspx будет выглядеть следующим образом:

[!code-aspx[Main](getting-started-with-mvc-part8/samples/sample2.aspx)]

Давайте затем откройте шаблон \Views\Movies\Create.aspx и добавьте метку и текстовое поле для новое свойство рейтинг:

[!code-aspx[Main](getting-started-with-mvc-part8/samples/sample3.aspx)]

Наши окончательная версия шаблона Create.aspx будет выглядеть следующим образом и изменим наш обозреватель заголовок и дополнительный &lt;h2&gt; заголовок на нечто вроде «Создание фильма «пока мы находимся здесь!

[!code-aspx[Main](getting-started-with-mvc-part8/samples/sample4.aspx)]

Запустите приложение, и теперь у вас есть новое поле в базе данных, который добавляется на страницу создания. Добавьте новый фильм - со оценку - и нажмите кнопку Создать.

[![Cсоздать фильм - Windows Internet Explorer](getting-started-with-mvc-part8/_static/image9.png)](getting-started-with-mvc-part8/_static/image8.png)

Если нажать кнопку "Создать", после этого вы перейдете на страницу индекса там, где вы новый фильм находится в списке новый столбец оценок в базе данных

[![Mильм список — Windows Internet Explorer (12)](getting-started-with-mvc-part8/_static/image11.png)](getting-started-with-mvc-part8/_static/image10.png)

Этот основам вас к работе, делая контроллеров, связав их с представлениями и передачи вокруг жестко заданные данные. Затем мы создали и разработанные базы данных и поместить данные в. Мы извлекает данные из базы данных и отображения его в таблице HTML. Затем мы добавили Создание формы, что позволило пользователю добавлять данные в базу данных сами из веб-приложения. Мы добавили проверку, то внесенные проверки использовать JavaScript на стороне клиента. Наконец мы изменения базы данных будет содержать новый столбец данных, а затем обновить наши две страницы, для создания и отображения новых данных.

Я теперь рекомендуем перейти к наш учебный курс промежуточного уровня «[MVC Music Store](../../older-versions/mvc-music-store/mvc-music-store-part-1.md)", а также многих видео и материалов на [ https://asp.net/mvc ](https://asp.net/mvc) Чтобы получить дополнительные сведения об ASP.NET MVC!

Желаем удачи!

- Скотт Хансельман - [ http://hanselman.com ](http://hanselman.com) и [ @shanselman ](http://twitter.com/shanselman) в Twitter.

> [!div class="step-by-step"]
> [Назад](getting-started-with-mvc-part7.md)
