---
uid: mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part5
title: Доступ к данным модели из контроллера | Документация Майкрософт
author: shanselman
description: Это руководство для начинающих, в котором представлены основные сведения по ASP.NET MVC. Создание простого веб-приложения, которое считывает и записывает в базу данных.
ms.author: riande
ms.date: 08/14/2010
ms.assetid: 004703cd-e0e9-4ba7-9974-1b0475c71222
msc.legacyurl: /mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part5
msc.type: authoredcontent
ms.openlocfilehash: 207ed880977d794d81efdc1ea458d17a68d501d8
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/06/2019
ms.locfileid: "65122894"
---
# <a name="accessing-your-models-data-from-a-controller"></a>Доступ к данным модели из контроллера

по [(Scott hanselman)](https://github.com/shanselman)

> Это руководство для начинающих, в котором представлены основные сведения по ASP.NET MVC. Вы создадите простое веб-приложение, которое считывает и записывает в базу данных. Посетите [центр обучения ASP.NET MVC](../../../index.md) для поиска других ASP.NET MVC, учебники и примеры.

В этом разделе мы собираемся создавать новый класс MoviesController и написать код, получающий данные фильма и отображает его обратно в браузере с помощью шаблона представления.

Щелкните правой кнопкой папку Controllers и сделать новый MoviesController.

[![Добавление контроллера](getting-started-with-mvc-part5/_static/image2.png)](getting-started-with-mvc-part5/_static/image1.png)

Это создаст новый файл «MoviesController.cs» под наших \Controllers папку в наш проект. Давайте обновим шаблонов для MovieController для извлечения из базы данных вновь заполненный список фильмов.

[!code-csharp[Main](getting-started-with-mvc-part5/samples/sample1.cs)]

Мы занимаемся запрос LINQ, так что мы только получения фильмов, вышедших после лето 1984 г. Нам потребуется шаблону представления для отображения этот список фильмов обратно, поэтому щелкните правой кнопкой мыши в методе и выберите Add View, для его создания.

В диалоговом окне Добавление представления мы будем указывать, что мы передаем список&lt;Movies.Models.Movie&gt; к шаблону представления. В отличие от ранее измеренным временем, мы использовали диалоговое окно Добавить представление и создать шаблон «Empty» это время, мы будем указать, что мы хотим Visual Studio автоматически «сформировать шаблон» шаблона представления для нас с содержимое по умолчанию. Мы сделаем это, выбрав элемент «Список» в «просмотр содержимого в раскрывающемся меню.

Помните, что когда был создан новый класс, вам потребуется скомпилировать приложение для его появления в диалоговом окне Добавить представление.

![Добавление представления](getting-started-with-mvc-part5/_static/image3.png)

Щелкните "Добавить", и система автоматически создаст код для представления для нас, отображает наш список фильмов. Это хорошая возможность изменить &lt;h2&gt; заголовок примерно в «Мои Movie List», как это делалось ранее с помощью представления Hello World.

[![Фильмы - Microsoft Visual Web Developer 2010 Express](getting-started-with-mvc-part5/_static/image5.png)](getting-started-with-mvc-part5/_static/image4.png)

Запустите приложение и посетите /Movies в адресной строке. Теперь мы извлечение данных из базы данных, с помощью простого запроса внутри контроллера и возвращаются данные для представления, который знает о фильмах. Представление затем вращается через список фильмов и создает таблицу данных для нас.

[![Список фильмов - Windows Internet Explorer](getting-started-with-mvc-part5/_static/image7.png)](getting-started-with-mvc-part5/_static/image6.png)

Мы не реализация функциональных возможностей редактирования "," Сведения "и" Delete с помощью этого приложения - поэтому нам не нужен ссылки по умолчанию, который каркаса шаблон создан для нас. Откройте файл /Movies/Index.aspx и удалить их.

Ниже приведен исходный код для наших обновленный шаблон представления должно выглядеть сразу после этих изменений:

[!code-aspx[Main](getting-started-with-mvc-part5/samples/sample2.aspx)]

Идет создание ссылки, которые нам не требуется, поэтому мы удалим их в этом примере. Мы будем сообщать наши Создание новой связи, так как именно Далее! Вот, как выглядит наше приложение с выбранным столбцом удалены.

[![Список фильмов - Windows Internet Explorer](getting-started-with-mvc-part5/_static/image9.png)](getting-started-with-mvc-part5/_static/image8.png)

Теперь у нас есть простой список наших данных фильмов. Тем не менее если мы щелкните ссылку «Создать», мы получаем сообщение об ошибке, так как он не подключен! Давайте реализовать метод действия Create что позволяет пользователю для ввода новых фильмов в нашей базе данных.

> [!div class="step-by-step"]
> [Назад](getting-started-with-mvc-part4.md)
> [Вперед](getting-started-with-mvc-part6.md)
