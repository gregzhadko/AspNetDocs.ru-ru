---
uid: mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part2
title: Добавление контроллера | Документация Майкрософт
author: shanselman
description: Обновленную версию, если это руководство доступно здесь с помощью Visual Studio 2013. Новое учебное использует ASP.NET MVC 5, который обеспечивает множество улучшений t...
ms.author: riande
ms.date: 08/14/2010
ms.assetid: ff03dcc0-da97-458d-838f-0823e7482642
msc.legacyurl: /mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part2
msc.type: authoredcontent
ms.openlocfilehash: 84f9c822f041808184b2c586ce933ba3b24615dc
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "59419838"
---
# <a name="adding-a-controller"></a>Добавление контроллера

по [(Scott hanselman)](https://github.com/shanselman)

> > [!NOTE]
> > Обновленную версию, если это руководство доступно [здесь](../../getting-started/introduction/getting-started.md) с помощью [Visual Studio 2013](https://my.visualstudio.com/Downloads?q=visual%20studio%202013). Новое учебное использует ASP.NET MVC 5, который содержит множество улучшений на этом руководстве.
>
>
> Это руководство для начинающих, в котором представлены основные сведения по ASP.NET MVC. Вы создадите простое веб-приложение, которое считывает и записывает в базу данных. Посетите [центр обучения ASP.NET MVC](../../../index.md) для поиска других ASP.NET MVC, учебники и примеры.


MVC — это модели, представления и контроллера. MVC — это шаблон для разработки приложений, таким образом, что каждая часть имеет ответственности, который отличается от другого.

- Модель: Данные приложения
- Представления: Файлы шаблонов, приложение будет использовать для динамического создания HTML-ответов.
- Контроллеры: Классы, которые обрабатывают входящие запросы на URL-адрес к приложению, извлекают данные модели, а затем укажите шаблоны представлений, которые отображают ответ обратно клиенту

Мы будет обсуждаться всеми этими понятиями в этом руководстве описано и показано, как их использовать для создания приложения.

Давайте создадим новый контроллер, щелкните правой кнопкой мыши папку controllers в обозревателе решений и выбрав Добавление контроллера.

[![AddControllerRightClick](getting-started-with-mvc-part2/_static/image2.png)](getting-started-with-mvc-part2/_static/image1.png)

Назовите новый контроллер «HelloWorldController» и щелкните "Добавить".

[![Aдд диалоговое окно контроллер](getting-started-with-mvc-part2/_static/image4.png)](getting-started-with-mvc-part2/_static/image3.png)

Обратите внимание, что в обозревателе решений в правой части, этот файл открывается в новый файл был создан для Вы вызвали HelloWorldController.cs **IDE**.

[![HelloWorldControllerCode](getting-started-with-mvc-part2/_static/image6.png)](getting-started-with-mvc-part2/_static/image5.png)

Создайте два новых метода, которые выглядят следующим образом внутри новой HelloWorldController открытый класс. Мы вернем строка HTML, непосредственно из нашего контроллера в качестве примера.

[!code-csharp[Main](getting-started-with-mvc-part2/samples/sample1.cs)]

Контроллер с именем HelloWorldController и новый метод вызывается индекса. Запустите приложение еще раз, как и раньше (нажмите кнопку воспроизведения или нажмите клавишу F5, чтобы сделать это). После запуска обозревателя изменения пути в адресной строке, чтобы `http://localhost:xx/HelloWorld` выбрал где xx — все, что номер компьютера. Теперь в браузере должен выглядеть как на снимке экрана ниже. Наши описанного выше метода мы возвращается строка, передаваемая в метод с именем «Содержимое». Мы же говорили, система просто возвращает немного кода HTML, как и!

ASP.NET MVC вызывает различные классы контроллера (и различные методы действия в них), в зависимости от входящего URL-адреса. Логика сопоставления по умолчанию, используемый платформой ASP.NET MVC использует формат следующим образом, чтобы контролировать, какой код выполняется:

/ [Контроллер] / [действие] / [параметры]

Первая часть URL-адреса определяет класс контроллера для выполнения. Поэтому /HelloWorld сопоставляет класс HelloWorldController. Вторая часть URL-адреса определяет метод действия к классу для выполнения. Поэтому /HelloWorld/Index вызовет метод Index() HelloWorldController класса для выполнения. Обратите внимание, что только что нам пришлось посетите /HelloWorld выше и метод, который применен индекс. Это потому, что метод с именем «Индекс» является методом по умолчанию, который будет вызываться на контроллере, если тип не задан явным образом.

[![TНиже приведен Мой действие по умолчанию](getting-started-with-mvc-part2/_static/image8.png)](getting-started-with-mvc-part2/_static/image7.png)

Теперь давайте посетите `http://localhost:xx/HelloWorld/Welcome.` теперь наши приветствия метод выполняются и возвращают его HTML-строки.

Опять же / [контроллер] / [действие] / [параметры], чтобы контроллер является HelloWorld и Добро пожаловать в данном случае это метод. Мы еще не сделали параметров.

[![TНиже приведен метод приветствия действия](getting-started-with-mvc-part2/_static/image10.png)](getting-started-with-mvc-part2/_static/image9.png)

Давайте немного изменить приведенный образец, чтобы можно было передать некоторые сведения в URL-адреса в контроллер, например следующим образом: / HelloWorld/Welcome? name = Скотт&amp;; numtimes = = 4. Измените метод приветствия для включения двух параметров и обновления, например его ниже. Обратите внимание на то, что мы использовали функцию необязательного параметра C# для указания, что; numtimes = параметр по умолчанию 1, если он не передается.

[!code-csharp[Main](getting-started-with-mvc-part2/samples/sample2.cs)]

Запустите приложение и посетите `http://localhost:xx/HelloWorld/Welcome?name=Scott&numtimes=4` изменение значения имени и; numtimes = по своему усмотрению. Система автоматически сопоставляться именованные параметры из строки запроса в адресной строке для параметров в методе.

В обоих этих примерах контроллер был делает всю работу и возвращала HTML напрямую. Обычно мы не станем наших контроллеры Возвращает HTML напрямую - в том случае, поскольку, в конечном итоге заметно усложняется написание кода. Вместо этого обычно используется отдельный файл шаблона представления для создания HTML-ответа. Давайте рассмотрим, как это можно сделать это. Закройте браузер и вернитесь в интегрированную среду разработки.

> [!div class="step-by-step"]
> [Назад](getting-started-with-mvc-part1.md)
> [Вперед](getting-started-with-mvc-part3.md)
