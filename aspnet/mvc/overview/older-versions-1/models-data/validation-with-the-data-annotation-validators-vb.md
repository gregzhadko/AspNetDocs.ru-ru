---
uid: mvc/overview/older-versions-1/models-data/validation-with-the-data-annotation-validators-vb
title: Проверка с помощью средств проверки заметок к данным (VB) | Документация Майкрософт
author: microsoft
description: Воспользуйтесь преимуществами связывателя модели заметок к данным для выполнения проверки в приложении ASP.NET MVC. Узнайте, как использовать различные типы проверяющего элемента управления...
ms.author: riande
ms.date: 05/29/2009
ms.assetid: 0d23ff2b-f2ec-434a-be3b-1180beeccba3
msc.legacyurl: /mvc/overview/older-versions-1/models-data/validation-with-the-data-annotation-validators-vb
msc.type: authoredcontent
ms.openlocfilehash: 00150575baabc659f7dd0c07349cde52105f6c8b
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78435942"
---
# <a name="validation-with-the-data-annotation-validators-vb"></a><span data-ttu-id="8e1c3-104">Проверка с помощью проверяющих элементов управления заметок к данным (VB)</span><span class="sxs-lookup"><span data-stu-id="8e1c3-104">Validation with the Data Annotation Validators (VB)</span></span>

<span data-ttu-id="8e1c3-105">по [Майкрософт](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="8e1c3-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="8e1c3-106">Воспользуйтесь преимуществами связывателя модели заметок к данным для выполнения проверки в приложении ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-106">Take advantage of the Data Annotation Model Binder to perform validation within an ASP.NET MVC application.</span></span> <span data-ttu-id="8e1c3-107">Узнайте, как использовать различные типы атрибутов проверяющего элемента управления и работать с ними в Microsoft Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-107">Learn how to use the different types of validator attributes and work with them in the Microsoft Entity Framework.</span></span>

<span data-ttu-id="8e1c3-108">В этом руководстве описано, как использовать средства проверки заметок к данным для выполнения проверки в приложении ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-108">In this tutorial, you learn how to use the Data Annotation validators to perform validation in an ASP.NET MVC application.</span></span> <span data-ttu-id="8e1c3-109">Преимущество использования средств проверки заметок к данным заключается в том, что они позволяют выполнять проверку просто путем добавления одного или нескольких атрибутов, таких как обязательный или StringLength атрибут, к свойству класса.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-109">The advantage of using the Data Annotation validators is that they enable you to perform validation simply by adding one or more attributes – such as the Required or StringLength attribute – to a class property.</span></span>

<span data-ttu-id="8e1c3-110">Прежде чем можно будет использовать средства проверки заметок к данным, необходимо скачать связыватель модели заметок данных.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-110">Before you can use the Data Annotation validators, you must download the Data Annotations Model Binder.</span></span> <span data-ttu-id="8e1c3-111">Вы можете скачать пример привязки модели заметок к данным на веб-сайте CodePlex, щелкнув [здесь](http://aspnet.codeplex.com/Release/ProjectReleases.aspx?ReleaseId=24471).</span><span class="sxs-lookup"><span data-stu-id="8e1c3-111">You can download the Data Annotations Model Binder Sample from the CodePlex website by clicking [here](http://aspnet.codeplex.com/Release/ProjectReleases.aspx?ReleaseId=24471).</span></span>

<span data-ttu-id="8e1c3-112">Важно понимать, что связыватель модели заметок к данным не является официальной частью платформы Microsoft ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-112">It is important to understand that the Data Annotations Model Binder is not an official part of the Microsoft ASP.NET MVC framework.</span></span> <span data-ttu-id="8e1c3-113">Хотя связыватель модели заметок данных создан группой Microsoft ASP.NET MVC, корпорация Майкрософт не предлагает официальной поддержки для привязки модели заметок к данным, описанной и используемой в этом руководстве.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-113">Although the Data Annotations Model Binder was created by the Microsoft ASP.NET MVC team, Microsoft does not offer official product support for the Data Annotations Model Binder described and used in this tutorial.</span></span>

## <a name="using-the-data-annotation-model-binder"></a><span data-ttu-id="8e1c3-114">Использование связывателя модели заметок к данным</span><span class="sxs-lookup"><span data-stu-id="8e1c3-114">Using the Data Annotation Model Binder</span></span>

<span data-ttu-id="8e1c3-115">Чтобы использовать связыватель модели заметок к данным в приложении MVC ASP.NET, сначала необходимо добавить ссылку на сборку Microsoft. Web. MVC. dll и сборку System. ComponentModel. аннотаций. dll.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-115">In order to use the Data Annotations Model Binder in an ASP.NET MVC application, you first need to add a reference to the Microsoft.Web.Mvc.DataAnnotations.dll assembly and the System.ComponentModel.DataAnnotations.dll assembly.</span></span> <span data-ttu-id="8e1c3-116">Выберите пункт меню **проект, добавить ссылку**.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-116">Select the menu option **Project, Add Reference**.</span></span> <span data-ttu-id="8e1c3-117">Затем перейдите на вкладку **Обзор** и перейдите в расположение, в которое вы скачали (и расzipе) образец привязки модели заметок к данным (см. **рис. 1**).</span><span class="sxs-lookup"><span data-stu-id="8e1c3-117">Next click the **Browse** tab and browse to the location where you downloaded (and unzipped) the Data Annotations Model Binder sample (see **Figure 1**).</span></span>

[![](validation-with-the-data-annotation-validators-vb/_static/image2.png)](validation-with-the-data-annotation-validators-vb/_static/image1.png)

<span data-ttu-id="8e1c3-118">**Рис. 1**. Добавление ссылки на связыватель модели заметок к данным ([щелкните, чтобы просмотреть изображение с полным размером](validation-with-the-data-annotation-validators-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="8e1c3-118">**Figure 1**: Adding a reference to the Data Annotations Model Binder ([Click to view full-size image](validation-with-the-data-annotation-validators-vb/_static/image3.png))</span></span>

<span data-ttu-id="8e1c3-119">Выберите сборку Microsoft. Web. MVC. аннотации. dll и сборку System. ComponentModel. заметок. dll и нажмите кнопку **ОК** .</span><span class="sxs-lookup"><span data-stu-id="8e1c3-119">Select both the Microsoft.Web.Mvc.DataAnnotations.dll assembly and the System.ComponentModel.DataAnnotations.dll assembly and click the **OK** button.</span></span>

<span data-ttu-id="8e1c3-120">Сборку System. ComponentModel. аннотаций. dll, входящую в состав .NET Framework с пакетом обновления 1 (SP1), нельзя использовать с связывателем модели заметок данных.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-120">You cannot use the System.ComponentModel.DataAnnotations.dll assembly included with .NET Framework Service Pack 1 with the Data Annotations Model Binder.</span></span> <span data-ttu-id="8e1c3-121">Необходимо использовать версию сборки System. ComponentModel. Аннотацияs. dll, входящей в состав образца привязки модели заметок к данным.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-121">You must use the version of the System.ComponentModel.DataAnnotations.dll assembly included with the Data Annotations Model Binder Sample download.</span></span>

<span data-ttu-id="8e1c3-122">Наконец, необходимо зарегистрировать связыватель модели аннотаций в файле Global. asax.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-122">Finally, you need to register the DataAnnotations Model Binder in the Global.asax file.</span></span> <span data-ttu-id="8e1c3-123">Добавьте следующую строку кода в обработчик событий приложения\_Start (), чтобы приложение\_Start () выглядело следующим образом:</span><span class="sxs-lookup"><span data-stu-id="8e1c3-123">Add the following line of code to the Application\_Start() event handler so that the Application\_Start() method looks like this:</span></span>

[!code-vb[Main](validation-with-the-data-annotation-validators-vb/samples/sample1.vb)]

<span data-ttu-id="8e1c3-124">Эта строка кода регистрирует Датааннотатионсмоделбиндер в качестве связывателя модели по умолчанию для всего приложения ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-124">This line of code registers the DataAnnotationsModelBinder as the default model binder for the entire ASP.NET MVC application.</span></span>

## <a name="using-the-data-annotation-validator-attributes"></a><span data-ttu-id="8e1c3-125">Использование атрибутов средства проверки заметок к данным</span><span class="sxs-lookup"><span data-stu-id="8e1c3-125">Using the Data Annotation Validator Attributes</span></span>

<span data-ttu-id="8e1c3-126">При использовании связывателя модели заметок данных для выполнения проверки используются атрибуты проверяющего элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-126">When you use the Data Annotations Model Binder, you use validator attributes to perform validation.</span></span> <span data-ttu-id="8e1c3-127">Пространство имен System. ComponentModel. аннотации содержит следующие атрибуты проверяющего элемента управления:</span><span class="sxs-lookup"><span data-stu-id="8e1c3-127">The System.ComponentModel.DataAnnotations namespace includes the following validator attributes:</span></span>

- <span data-ttu-id="8e1c3-128">Range — позволяет проверить, попадает ли значение свойства в указанный диапазон значений.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-128">Range – Enables you to validate whether the value of a property falls between a specified range of values.</span></span>
- <span data-ttu-id="8e1c3-129">RegularExpression — позволяет проверить, соответствует ли значение свойства указанному шаблону регулярного выражения.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-129">RegularExpression – Enables you to validate whether the value of a property matches a specified regular expression pattern.</span></span>
- <span data-ttu-id="8e1c3-130">Required — позволяет пометить свойство как обязательное.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-130">Required – Enables you to mark a property as required.</span></span>
- <span data-ttu-id="8e1c3-131">StringLength — позволяет указать максимальную длину для свойства строки.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-131">StringLength – Enables you to specify a maximum length for a string property.</span></span>
- <span data-ttu-id="8e1c3-132">Проверка — базовый класс для всех атрибутов проверяющего элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-132">Validation – The base class for all validator attributes.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="8e1c3-133">Если требования проверки не удовлетворяют ни одному из стандартных проверяющих элементов управления, то всегда можно создать настраиваемый атрибут проверяющего элемента управления, наследуя новый атрибут проверяющего элемента управления из базового атрибута проверки.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-133">If your validation needs are not satisfied by any of the standard validators then you always have the option of creating a custom validator attribute by inheriting a new validator attribute from the base Validation attribute.</span></span>

<span data-ttu-id="8e1c3-134">Класс Product в **листинге 1** показывает, как использовать эти атрибуты проверяющего элемента управления.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-134">The Product class in **Listing 1** illustrates how to use these validator attributes.</span></span> <span data-ttu-id="8e1c3-135">Свойства Name, Description и UnitPrice помечаются как обязательные.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-135">The Name, Description, and UnitPrice properties are marked as required.</span></span> <span data-ttu-id="8e1c3-136">Длина строки в свойстве Name должна быть меньше 10 символов.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-136">The Name property must have a string length that is less than 10 characters.</span></span> <span data-ttu-id="8e1c3-137">Наконец, свойство UnitPrice должно соответствовать шаблону регулярного выражения, представляющему денежную сумму.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-137">Finally, the UnitPrice property must match a regular expression pattern that represents a currency amount.</span></span>

[!code-vb[Main](validation-with-the-data-annotation-validators-vb/samples/sample2.vb)]

<span data-ttu-id="8e1c3-138">**Листинг 1**. моделс\продукт.ВБ</span><span class="sxs-lookup"><span data-stu-id="8e1c3-138">**Listing 1**: Models\Product.vb</span></span>

<span data-ttu-id="8e1c3-139">Класс Product показывает, как использовать один дополнительный атрибут: атрибут DisplayName.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-139">The Product class illustrates how to use one additional attribute: the DisplayName attribute.</span></span> <span data-ttu-id="8e1c3-140">Атрибут DisplayName позволяет изменить имя свойства при отображении свойства в сообщении об ошибке.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-140">The DisplayName attribute enables you to modify the name of the property when the property is displayed in an error message.</span></span> <span data-ttu-id="8e1c3-141">Вместо отображения сообщения об ошибке "поле UnitPrice является обязательным" можно отобразить сообщение об ошибке "поле цены является обязательным".</span><span class="sxs-lookup"><span data-stu-id="8e1c3-141">Instead of displaying the error message "The UnitPrice field is required" you can display the error message "The Price field is required".</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="8e1c3-142">Если необходимо полностью настроить сообщение об ошибке, отображаемое проверяющим элементом управления, можно назначить пользовательское сообщение об ошибке свойству ErrorMessage проверяющего элемента следующим образом: `<Required(ErrorMessage:="This field needs a value!")>`</span><span class="sxs-lookup"><span data-stu-id="8e1c3-142">If you want to completely customize the error message displayed by a validator then you can assign a custom error message to the validator's ErrorMessage property like this: `<Required(ErrorMessage:="This field needs a value!")>`</span></span>

<span data-ttu-id="8e1c3-143">Вы можете использовать класс Product в **листинге 1** с действием контроллера Create () в **листинге 2**.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-143">You can use the Product class in **Listing 1** with the Create() controller action in **Listing 2**.</span></span> <span data-ttu-id="8e1c3-144">Это действие контроллера повторно отображает представление создания, когда состояние модели содержит ошибки.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-144">This controller action redisplays the Create view when model state contains any errors.</span></span>

[!code-vb[Main](validation-with-the-data-annotation-validators-vb/samples/sample3.vb)]

<span data-ttu-id="8e1c3-145">**Листинг 2**: контроллерс\продуктконтроллер.ВБ</span><span class="sxs-lookup"><span data-stu-id="8e1c3-145">**Listing 2**: Controllers\ProductController.vb</span></span>

<span data-ttu-id="8e1c3-146">Наконец, можно создать представление в **листинге 3** , щелкнув правой кнопкой мыши действие создать () и выбрав пункт меню **Добавить представление**.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-146">Finally, you can create the view in **Listing 3** by right-clicking the Create() action and selecting the menu option **Add View**.</span></span> <span data-ttu-id="8e1c3-147">Создайте строго типизированное представление с классом Product в качестве класса модели.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-147">Create a strongly-typed view with the Product class as the model class.</span></span> <span data-ttu-id="8e1c3-148">Выберите **создать** из раскрывающегося списка Просмотр содержимого (см. **рис. 2**).</span><span class="sxs-lookup"><span data-stu-id="8e1c3-148">Select **Create** from the view content dropdown list (see **Figure 2**).</span></span>

[![](validation-with-the-data-annotation-validators-vb/_static/image5.png)](validation-with-the-data-annotation-validators-vb/_static/image4.png)

<span data-ttu-id="8e1c3-149">**Рис. 2**. Добавление представления создания</span><span class="sxs-lookup"><span data-stu-id="8e1c3-149">**Figure 2**: Adding the Create View</span></span>

[!code-aspx[Main](validation-with-the-data-annotation-validators-vb/samples/sample4.aspx)]

<span data-ttu-id="8e1c3-150">**Листинг 3**: виевс\продукт\креате.аспкс</span><span class="sxs-lookup"><span data-stu-id="8e1c3-150">**Listing 3**: Views\Product\Create.aspx</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="8e1c3-151">Удалите поле идентификатор из формы создать, созданной с помощью команды меню **Добавить представление** .</span><span class="sxs-lookup"><span data-stu-id="8e1c3-151">Remove the Id field from the Create form generated by the **Add View** menu option.</span></span> <span data-ttu-id="8e1c3-152">Поскольку поле идентификатор соответствует столбцу идентификаторов, вы не хотите, чтобы пользователи вводили значение этого поля.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-152">Because the Id field corresponds to an Identity column, you don't want to allow users to enter a value for this field.</span></span>

<span data-ttu-id="8e1c3-153">Если вы отправите форму для создания продукта и не вводите значения для обязательных полей, отобразятся сообщения об ошибках проверки на **рис. 3** .</span><span class="sxs-lookup"><span data-stu-id="8e1c3-153">If you submit the form for creating a Product and you do not enter values for the required fields, then the validation error messages in **Figure 3** are displayed.</span></span>

[![](validation-with-the-data-annotation-validators-vb/_static/image7.png)](validation-with-the-data-annotation-validators-vb/_static/image6.png)

<span data-ttu-id="8e1c3-154">**Рис. 3**. отсутствие обязательных полей</span><span class="sxs-lookup"><span data-stu-id="8e1c3-154">**Figure 3**: Missing required fields</span></span>

<span data-ttu-id="8e1c3-155">При вводе недопустимой суммы валюты отображается сообщение об ошибке на **рис. 4** .</span><span class="sxs-lookup"><span data-stu-id="8e1c3-155">If you enter an invalid currency amount, then the error message in **Figure 4** is displayed.</span></span>

[![](validation-with-the-data-annotation-validators-vb/_static/image9.png)](validation-with-the-data-annotation-validators-vb/_static/image8.png)

<span data-ttu-id="8e1c3-156">**Рис. 4**. недопустимая сумма валюты</span><span class="sxs-lookup"><span data-stu-id="8e1c3-156">**Figure 4**: Invalid currency amount</span></span>

## <a name="using-data-annotation-validators-with-the-entity-framework"></a><span data-ttu-id="8e1c3-157">Использование проверяющих элементов управления заметок к данным с Entity Framework</span><span class="sxs-lookup"><span data-stu-id="8e1c3-157">Using Data Annotation Validators with the Entity Framework</span></span>

<span data-ttu-id="8e1c3-158">Если вы используете Microsoft Entity Framework для создания классов модели данных, нельзя применить атрибуты проверяющего элемента управления непосредственно к классам.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-158">If you are using the Microsoft Entity Framework to generate your data model classes then you cannot apply the validator attributes directly to your classes.</span></span> <span data-ttu-id="8e1c3-159">Поскольку Entity Framework Designer создает классы модели, любые изменения, вносимые в классы модели, будут перезаписаны при следующем внесении изменений в конструкторе.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-159">Because the Entity Framework Designer generates the model classes, any changes you make to the model classes will be overwritten the next time you make any changes in the Designer.</span></span>

<span data-ttu-id="8e1c3-160">Если вы хотите использовать проверяющие элементы управления с классами, созданными Entity Framework то необходимо создать классы Meta Data.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-160">If you want to use the validators with the classes generated by the Entity Framework then you need to create meta data classes.</span></span> <span data-ttu-id="8e1c3-161">Проверяющие элементы управления применяются к классу Meta Data, а не к фактическому классу.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-161">You apply the validators to the meta data class instead of applying the validators to the actual class.</span></span>

<span data-ttu-id="8e1c3-162">Например, представьте, что вы создали класс Movie с помощью Entity Framework (см. **рис. 5**).</span><span class="sxs-lookup"><span data-stu-id="8e1c3-162">For example, imagine that you have created a Movie class using the Entity Framework (see **Figure 5**).</span></span> <span data-ttu-id="8e1c3-163">Предположим, что необходимо сделать так, чтобы название фильма и свойства режиссера требовали свойств.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-163">Imagine, furthermore, that you want to make the Movie Title and Director properties required properties.</span></span> <span data-ttu-id="8e1c3-164">В этом случае можно создать разделяемый класс и класс метаданных в **листинге 4**.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-164">In that case, you can create the partial class and meta data class in **Listing 4**.</span></span>

[![](validation-with-the-data-annotation-validators-vb/_static/image11.png)](validation-with-the-data-annotation-validators-vb/_static/image10.png)

<span data-ttu-id="8e1c3-165">**Рис. 5**. класс Movie, созданный Entity Framework</span><span class="sxs-lookup"><span data-stu-id="8e1c3-165">**Figure 5**: Movie class generated by Entity Framework</span></span>

[!code-vb[Main](validation-with-the-data-annotation-validators-vb/samples/sample5.vb)]

<span data-ttu-id="8e1c3-166">**Листинг 4**. моделс\мовие.ВБ</span><span class="sxs-lookup"><span data-stu-id="8e1c3-166">**Listing 4**: Models\Movie.vb</span></span>

<span data-ttu-id="8e1c3-167">Файл в **листинге 4** содержит два класса с именами Movie и мовиеметадата.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-167">The file in **Listing 4** contains two classes named Movie and MovieMetaData.</span></span> <span data-ttu-id="8e1c3-168">Класс Movie является разделяемым классом.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-168">The Movie class is a partial class.</span></span> <span data-ttu-id="8e1c3-169">Он соответствует разделяемому классу, созданному Entity Framework, который содержится в файле модели DOM. Designer. vb.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-169">It corresponds to the partial class generated by the Entity Framework that is contained in the DataModel.Designer.vb file.</span></span>

<span data-ttu-id="8e1c3-170">В настоящее время платформа .NET Framework не поддерживает разделяемые свойства.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-170">Currently, the .NET framework does not support partial properties.</span></span> <span data-ttu-id="8e1c3-171">Таким образом, невозможно применить атрибуты проверяющего элемента управления к свойствам класса Movie, определенного в файле Model. Designer. vb, применив атрибуты проверяющего элемента управления к свойствам класса Movie, определенного в файле в **листинге 4**.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-171">Therefore, there is no way to apply the validator attributes to the properties of the Movie class defined in the DataModel.Designer.vb file by applying the validator attributes to the properties of the Movie class defined in the file in **Listing 4**.</span></span>

<span data-ttu-id="8e1c3-172">Обратите внимание, что разделяемый класс Movie снабжен атрибутом Метадататипе, который указывает на класс Мовиеметадата.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-172">Notice that the Movie partial class is decorated with a MetadataType attribute that points at the MovieMetaData class.</span></span> <span data-ttu-id="8e1c3-173">Класс Мовиеметадата содержит свойства прокси-сервера для свойств класса Movie.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-173">The MovieMetaData class contains proxy properties for the properties of the Movie class.</span></span>

<span data-ttu-id="8e1c3-174">Атрибуты проверяющего элемента управления применяются к свойствам класса Мовиеметадата.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-174">The validator attributes are applied to the properties of the MovieMetaData class.</span></span> <span data-ttu-id="8e1c3-175">Свойства Title, режиссер и Датерелеасед помечены как обязательные свойства.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-175">The Title, Director, and DateReleased properties are all marked as required properties.</span></span> <span data-ttu-id="8e1c3-176">Свойству Director должно быть присвоено строковое значение, содержащее менее 5 символов.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-176">The Director property must be assigned a string that contains less than 5 characters.</span></span> <span data-ttu-id="8e1c3-177">Наконец, атрибут DisplayName применяется к свойству Датерелеасед для вывода сообщения об ошибке, например "требуется Дата выпуска поля".</span><span class="sxs-lookup"><span data-stu-id="8e1c3-177">Finally, the DisplayName attribute is applied to the DateReleased property to display an error message like "The Date Released field is required."</span></span> <span data-ttu-id="8e1c3-178">вместо ошибки "поле Датерелеасед является обязательным".</span><span class="sxs-lookup"><span data-stu-id="8e1c3-178">instead of the error "The DateReleased field is required."</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="8e1c3-179">Обратите внимание, что свойства прокси-сервера в классе Мовиеметадата не должны представлять те же типы, что и соответствующие свойства в классе Movie.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-179">Notice that the proxy properties in the MovieMetaData class do not need to represent the same types as the corresponding properties in the Movie class.</span></span> <span data-ttu-id="8e1c3-180">Например, свойство Director является строковым свойством в классе Movie и свойством объекта в классе Мовиеметадата.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-180">For example, the Director property is a string property in the Movie class and an object property in the MovieMetaData class.</span></span>

<span data-ttu-id="8e1c3-181">На странице на **рис. 6** показаны сообщения об ошибках, возвращаемые при вводе недопустимых значений свойств фильма.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-181">The page in **Figure 6** illustrates the error messages returned when you enter invalid values for the Movie properties.</span></span>

[![](validation-with-the-data-annotation-validators-vb/_static/image13.png)](validation-with-the-data-annotation-validators-vb/_static/image12.png)

<span data-ttu-id="8e1c3-182">**Рис. 6**. использование проверяющих элементов управления с Entity Framework ([щелкните, чтобы просмотреть изображение с полным размером](validation-with-the-data-annotation-validators-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="8e1c3-182">**Figure 6**: Using validators with the Entity Framework ([Click to view full-size image](validation-with-the-data-annotation-validators-vb/_static/image14.png))</span></span>

## <a name="summary"></a><span data-ttu-id="8e1c3-183">Сводка</span><span class="sxs-lookup"><span data-stu-id="8e1c3-183">Summary</span></span>

<span data-ttu-id="8e1c3-184">В этом руководстве вы узнали, как использовать преимущества связывателя модели заметок к данным для выполнения проверки в приложении ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-184">In this tutorial, you learned how to take advantage of the Data Annotation Model Binder to perform validation within an ASP.NET MVC application.</span></span> <span data-ttu-id="8e1c3-185">Вы узнали, как использовать различные типы атрибутов проверяющего элемента управления, такие как обязательные и StringLength атрибуты.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-185">You learned how to use the different types of validator attributes such as the Required and StringLength attributes.</span></span> <span data-ttu-id="8e1c3-186">Вы также узнали, как использовать эти атрибуты при работе с Microsoft Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="8e1c3-186">You also learned how to use these attributes when working with the Microsoft Entity Framework.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="8e1c3-187">Назад</span><span class="sxs-lookup"><span data-stu-id="8e1c3-187">Previous</span></span>](validating-with-a-service-layer-vb.md)
