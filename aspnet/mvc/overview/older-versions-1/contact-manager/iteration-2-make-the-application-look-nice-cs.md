---
uid: mvc/overview/older-versions-1/contact-manager/iteration-2-make-the-application-look-nice-cs
title: 'Итерация #2 - Сделать приложение хорошо выглядеть (C) Документы Майкрософт'
author: rick-anderson
description: В этой итерации мы улучшаем внешний вид приложения, изменяя страницу по умолчанию ASP.NET MVC просмотра и каскадный стиль листа.
ms.author: riande
ms.date: 02/20/2009
ms.assetid: f1173feb-11ee-4017-8f3f-86599ea6ae13
msc.legacyurl: /mvc/overview/older-versions-1/contact-manager/iteration-2-make-the-application-look-nice-cs
msc.type: authoredcontent
ms.openlocfilehash: ee1d7c92524f6cbdb0f2d7facf85b629e0d91318
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2020
ms.locfileid: "81542447"
---
# <a name="iteration-2--make-the-application-look-nice-c"></a>Итерация 2. Улучшение внешнего вида приложения (C#)

[корпорацией Майкрософт](https://github.com/microsoft)

[Скачать код](iteration-2-make-the-application-look-nice-cs/_static/contactmanager_2_cs1.zip)

> В этой итерации мы улучшаем внешний вид приложения, изменяя страницу по умолчанию ASP.NET MVC просмотра и каскадный стиль листа.

## <a name="building-a-contact-management-aspnet-mvc-application-c"></a>Создание приложения управления контактами ASP.NET MVC (C)

В этой серии учебников мы создаем все приложение Управления Контактами от начала до конца. Приложение Contact Manager позволяет хранить контактную информацию - имена, номера телефонов и адреса электронной почты - для списка людей.

Мы строим приложение по нескольким итерациям. С каждой итерацией мы постепенно совершенствуем приложение. Цель этого подхода с множественной итерацией состоит в том, чтобы вы могли понять причину каждого изменения.

- Итерация #1 - Создайте приложение. В первой итерации мы создаем Контакт-менеджер самым простым способом. Мы добавляем поддержку для основных операций базы данных: Создание, чтение, обновление и удаление (CRUD).

- Итерация #2 - Сделать приложение хорошо выглядеть. В этой итерации мы улучшаем внешний вид приложения, изменяя страницу по умолчанию ASP.NET MVC просмотра и каскадный стиль листа.

- Итерация #3 - Добавить проверку формы. В третьей итерации мы добавляем базовую проверку формы. Мы не позволяем людям подавать форму без заполнения требуемых полей формы. Мы также проверяем адреса электронной почты и номера телефонов.

- Итерация #4 - Сделать приложение слабо связаны. В этой четвертой итерации мы воспользуемся несколькими шаблонами проектирования программного обеспечения, чтобы упростить обслуживание и изменение приложения Contact Manager. Например, мы рефакторизуем наше приложение, чтобы использовать шаблон репозитория и шаблон инъекций зависимостей.

- Итерация #5 - Создание модульных тестов. В пятой итерации мы упрощаем обслуживание и модификацию нашего приложения путем добавления модульных тестов. Мы издеваемся над нашими классами моделей данных и строим модульные тесты для наших контроллеров и логики проверки.

- Итерация #6 - Использование тест-ориентированной разработки. В этой шестой итерации мы добавляем новую функциональность в наше приложение, написав модульные тесты сначала и написав код против модульных тестов. В этой итерации мы добавляем контактные группы.

- Итерация #7 - Добавить функциональность Ajax. В седьмой итерации мы улучшаем отзывчивость и производительность нашего приложения, добавляя поддержку Ajax.

## <a name="this-iteration"></a>Эта итерация

Целью этой итерации является улучшение внешнего вида приложения Contact Manager. В настоящее время менеджер контакта использует страницу ASP.NET MVC просмотра и лист каскадного стиля (см. рисунок 1). Они не выглядят плохо, но я не хочу, чтобы контакт-менеджер выглядеть так же, как и любой другой ASP.NET веб-сайт MVC. Я хочу заменить эти файлы с пользовательскими файлами.

[![Диалоговое окно New Project (Новый проект)](iteration-2-make-the-application-look-nice-cs/_static/image1.jpg)](iteration-2-make-the-application-look-nice-cs/_static/image1.png)

**Рисунок 01**: Появление по умолчанию ASP.NET MVC приложение ([Нажмите, чтобы просмотреть полноразмерное изображение](iteration-2-make-the-application-look-nice-cs/_static/image2.png))

В этой итерации я обсуждаю два подхода к улучшению визуального дизайна нашего приложения. Во-первых, я покажу вам, как воспользоваться ASP.NET MVC Design gallery, чтобы загрузить бесплатный шаблон дизайна MVC ASP.NET. Галерея дизайна ASP.NET MVC позволяет создавать профессиональное веб-приложение, не выполняя никакой работы.

Я решил не использовать шаблон из галереи дизайна ASP.NET MVC для приложения Contact Manager. Вместо этого, у меня был пользовательский дизайн, созданный профессиональной фирмой дизайна. Во второй части этого учебника, я объясню, как я работал с профессиональной компанией дизайна для создания окончательного ASP.NET MVC дизайн.

## <a name="the-aspnet-mvc-design-gallery"></a>Галерея дизайна ASP.NET MVC

Галерея дизайна ASP.NET MVC — это бесплатный ресурс, предоставляемый корпорацией Майкрософт. Галерея ASP.NET MVC расположена по следующему адресу:

[https://www.asp.net/mvc/gallery](https://www.asp.net/mvc/gallery)

В ASP.NET MVC Design Gallery размещается коллекция бесплатных дизайнов веб-сайтов, которые были созданы специально для использования в проекте ASP.NET MVC. Проекты загружаются членами сообщества. Посетители галереи могут проголосовать за свои любимые проекты (см. рисунок 2).

[![Диалоговое окно New Project (Новый проект)](iteration-2-make-the-application-look-nice-cs/_static/image2.jpg)](iteration-2-make-the-application-look-nice-cs/_static/image3.png)

**Рисунок 02**: ASP.NET MVC Дизайн Галерея ([Нажмите, чтобы посмотреть полноразмерное изображение](iteration-2-make-the-application-look-nice-cs/_static/image4.png))

Как я пишу этот учебник, самый популярный дизайн в галерее является дизайн имени октября Дэвид Хаузер. Эту конструкцию можно использовать для проекта mVC ASP.NET, выполнив следующие шаги:

1. Нажмите кнопку **Скачать,** чтобы загрузить файл October.zip на ваш компьютер.
2. Нажмите справа на загруженный файл October.zip и нажмите кнопку **«Разблокировать»** (см. рисунок 3).
3. Расстегните файл в папку с названием Октябрь.
4. Выберите все файлы из папки DesignTemplate, содержащейся в папке октября, нажмите на файлы вправо и выберите вариант меню **Copy.**
5. Нажмите правой кнопкой мыши на узло проекта ContactManager в окне Visual Studio Solution Explorer и выберите вариант меню **«Паста»** (см. рисунок 4).
6. Выберите опцию меню Visual **Studio, отобразивая, найдите и замените, быстро замените** и замените *«MyProjectName»* *на ContactManager* (см. рисунок 5).

[![Диалоговое окно New Project (Новый проект)](iteration-2-make-the-application-look-nice-cs/_static/image3.jpg)](iteration-2-make-the-application-look-nice-cs/_static/image5.png)

**Рисунок 03**: Разблокировка файла, загруженного из Интернета ([Нажмите, чтобы просмотреть полноразмерное изображение](iteration-2-make-the-application-look-nice-cs/_static/image6.png))

[![Диалоговое окно New Project (Новый проект)](iteration-2-make-the-application-look-nice-cs/_static/image4.jpg)](iteration-2-make-the-application-look-nice-cs/_static/image7.png)

**Рисунок 04**: Перезапись файлов в Solution Explorer ([Нажмите, чтобы просмотреть полноразмерное изображение](iteration-2-make-the-application-look-nice-cs/_static/image8.png))

[![Диалоговое окно New Project (Новый проект)](iteration-2-make-the-application-look-nice-cs/_static/image5.jpg)](iteration-2-make-the-application-look-nice-cs/_static/image9.png)

**Рисунок 05**: Замена «ProjectName» с помощью ContactManager[(Нажмите, чтобы просмотреть полноразмерное изображение)](iteration-2-make-the-application-look-nice-cs/_static/image10.png)

После выполнения этих шагов веб-приложение будет использовать новый дизайн. Страница на рисунке 6 иллюстрирует внешний вид приложения Contact Manager с октябрьским дизайном.

[![Диалоговое окно New Project (Новый проект)](iteration-2-make-the-application-look-nice-cs/_static/image6.jpg)](iteration-2-make-the-application-look-nice-cs/_static/image11.png)

**Рисунок 06**: ContactManager с шаблоном октября ([Нажмите, чтобы посмотреть полноразмерное изображение](iteration-2-make-the-application-look-nice-cs/_static/image12.png))

## <a name="creating-a-custom-aspnet-mvc-design"></a>Создание таможенного ASP.NET MVC Design

В ASP.NET MVC Design Gallery имеет хороший выбор различных стилей дизайна. Галерея предоставляет вам безболезненный способ настроить внешний вид ваших ASP.NET MVC приложений. И, конечно, Галерея имеет большое преимущество быть полностью свободным.

Тем не менее, вам может понадобиться создать совершенно уникальный дизайн для вашего сайта. В этом случае имеет смысл работать с компанией по дизайну веб-сайтов. Я решил воспользоваться этим подходом для разработки приложения Contact Manager.

Я застегнул на молнию контактный менеджер из #1 итерации и отправил проект в проектную компанию. Они не собственные Visual Studio (позор на них!), Но это не представляет собой проблему. Они смогли скачать Microsoft Visual Web [https://www.asp.net](https://www.asp.net) Developer бесплатно с веб-сайта и открыть приложение Contact Manager в Visual Web Developer. Через пару дней они выпустили дизайн на рисунке 7.

[![Диалоговое окно New Project (Новый проект)](iteration-2-make-the-application-look-nice-cs/_static/image7.jpg)](iteration-2-make-the-application-look-nice-cs/_static/image13.png)

**Рисунок 07**: ASP.NET MVC Контактный менеджер Дизайн ([Нажмите, чтобы посмотреть полноразмерное изображение](iteration-2-make-the-application-look-nice-cs/_static/image14.png))

Новый дизайн состоял из двух основных файлов: нового каскадного листа стиля и нового файла страницы на главной странице представления. Страница master view содержит макет и общий контент для представлений в приложении mVC ASP.NET. Например, страница "Мастер-поле зрения" включает в себя заголовок, вкладки навигации и колонтитул, которые отображаются на рисунке 7. Я перезаписал существующую страницу просмотра Site.Master в папке Views'Shared с новым файлом Site.Master от проектной компании,

Дизайнерская компания также создала новый каскадный стиль листа и набор изображений. Я поместил эти новые файлы в папку Содержимого и перезаписал существующий файл Site.css. Все статическое содержимое следует поместить в папку Содержимого.

Обратите внимание, что новый дизайн для контактного менеджера включает изображения для редактирования и удаляния контактов. Изображение «Отображение и удаление» отображается рядом с каждым контактом в таблице контактов HTML.

Первоначально эти ссылки, которые были отображаются с HTML. ActionLink () помощник, как это:

[!code-aspx[Main](iteration-2-make-the-application-look-nice-cs/samples/sample1.aspx)]

Метод Html.ActionLink() не поддерживает изображения (метод HTML кодирует текст ссылки по соображениям безопасности). Поэтому я заменил звонки на Html.ActionLink() на звонки на Url.Action() следующим образом:

[!code-aspx[Main](iteration-2-make-the-application-look-nice-cs/samples/sample2.aspx)]

Метод Html.ActionLink() отображает всю гиперссылку HTML. С другой стороны, метод Url.Action() отображает только &lt;URL&gt; без тега.

Кроме того, обратите внимание, что новый дизайн включает в себя как выбранные, так и невыбранные вкладки. Например, на рисунке 8 выбрана вкладка **«Создание нового контакта»** и не выбрана вкладка **«Мои контакты».**

[![Диалоговое окно New Project (Новый проект)](iteration-2-make-the-application-look-nice-cs/_static/image8.jpg)](iteration-2-make-the-application-look-nice-cs/_static/image15.png)

**Рисунок 08**: Выбранные и невыбранные вкладки[(Нажмите, чтобы просмотреть полноразмерное изображение)](iteration-2-make-the-application-look-nice-cs/_static/image16.png)

Для поддержки рендеринга как выбранных, так и невыбранных вкладок я создал пользовательского помощника HTML по имени MenuItemHelper. Этот метод помощника отображает &lt;либо&gt; тег &lt;li, либо тег&gt; li class'"выбранный" в зависимости от того, соответствует ли текущий контроллер и действие контроллеру и имени действия, передаваемого помощнику. Код для MenuItemHelper содержится в листинге 1.

**Список 1 - Помощники-MenuItemHelper.cs**

[!code-csharp[Main](iteration-2-make-the-application-look-nice-cs/samples/sample3.cs)]

MenuItemHelper использует класс TagBuilder внутренне для &lt;&gt; создания тега LI HTML. Класс TagBuilder является очень полезным классом утилиты, который вы можете использовать всякий раз, когда вам нужно создать новый HTML-тег. Она включает в себя методы добавления атрибутов, добавления классов CSS, генерации идентификаторов и изменения внутреннего HTML-метков.

## <a name="summary"></a>Сводка

В этой итерации мы улучшили визуальный дизайн нашего ASP.NET приложения MVC. Во-первых, вы были введены в ASP.NET MVC Design Gallery. Вы узнали, как скачать бесплатные шаблоны дизайна из ASP.NET MVC Design Gallery, которые можно использовать в ASP.NET приложениях MVC.

Далее мы обсудили, как можно создать пользовательский дизайн, изменив файл листа каскадного стиля по умолчанию и файл страницы мастер-страницы. Для поддержки нового дизайна нам пришлось внести некоторые незначительные изменения в наше приложение Contact Manager. Например, мы добавили нового помощника HTML под названием MenuItemHelper, который отображает выбранные и невыбранные вкладки.

В следующей итерации мы занимаемся очень важным вопросом проверки. Мы добавляем код проверки в наше приложение, чтобы пользователь не удавал создать новый контакт без предоставления требуемых значений, таких как имя и фамилия человека.

> [!div class="step-by-step"]
> [Назад](iteration-1-create-the-application-cs.md)
> [Вперед](iteration-3-add-form-validation-cs.md)
