---
uid: visual-studio/overview/2013/creating-web-projects-in-visual-studio
title: Создание веб-проектов ASP.NET в Visual Studio 2013 | Документация Майкрософт
author: tdykstra
description: В этом разделе объясняются варианты создания веб-проектов ASP.NET в Visual Studio 2013 с обновлением 3. ниже приведены некоторые новые возможности веб-разработки c...
ms.author: riande
ms.date: 12/01/2014
ms.assetid: 61941e64-0c0d-4996-9270-cb8ccfd0cabc
msc.legacyurl: /visual-studio/overview/2013/creating-web-projects-in-visual-studio
msc.type: authoredcontent
ms.openlocfilehash: fbb4cd7afa2506879d47bce980bf0164aad40c2c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78447204"
---
# <a name="creating-aspnet-web-projects-in-visual-studio-2013"></a>Создание веб-проектов ASP.NET в Visual Studio 2013

от [Tom Dykstra)](https://github.com/tdykstra)

> В этом разделе объясняются варианты создания веб-проектов ASP.NET в Visual Studio 2013 с обновлением 3.
> 
> Ниже приведены некоторые новые возможности веб-разработки по сравнению с предыдущими версиями Visual Studio.
> 
> - Простой пользовательский интерфейс для создания проектов, которые обеспечивают [поддержку нескольких платформ ASP.NET](#add) (веб-формы, MVC и веб-API).
> - [ASP.NET Identity](#indauth), Новая система членства ASP.NET, которая работает одинаково во всех платформах ASP.NET и работает с программным обеспечением, ОТЛИЧНЫМ от IIS.
> - Использование [начальной загрузки](#bootstrap) для обеспечения гибкой разработки и возможностей.
> - Новые возможности для веб-форм, которые используются только для MVC, например для [автоматического создания проекта тестов](#testproj) и [шаблона сайта интрасети](#winauth).
> 
> Сведения о создании веб-проектов для облачных служб Azure или мобильных служб Azure см. в статье [Начало работы с облачными службами Azure и ASP.NET](https://azure.microsoft.com/documentation/articles/cloud-services-dotnet-get-started/) и [Создание приложения список лидеров с помощью серверной части .NET мобильных служб Azure](https://azure.microsoft.com/documentation/articles/mobile-services-dotnet-backend-windows-store-dotnet-leaderboard/).

<a id="prerequisites"></a>
## <a name="prerequisites"></a>предварительные требования

Эта статья относится к [Visual Studio 2013](https://go.microsoft.com/fwlink/?LinkId=306566) с установленным [обновлением 3](https://go.microsoft.com/fwlink/?linkid=397827&amp;clcid=0x409) .

<a id="wap"></a>
## <a name="web-application-projects-versus-web-site-projects"></a>Проекты веб-приложений и проекты веб-сайтов

ASP.NET предоставляет возможность выбора между двумя видами веб-проектов: *проекты веб-приложений* и *проекты веб-сайтов*. Мы рекомендуем использовать проекты веб-приложений для новой разработки, и эта статья относится только к проектам веб-приложений. Дополнительные сведения см. в разделе [проекты веб-приложений и проекты веб-сайтов в Visual Studio](https://msdn.microsoft.com/library/dd547590(v=vs.120).aspx) на сайте MSDN.

<a id="overview"></a>
## <a name="overview-of-web-application-project-creation"></a>Общие сведения о создании проекта веб-приложения

Ниже показано, как создать веб-проект.

1. Нажмите кнопку **создать проект** на **начальной** странице или в меню **файл** .
2. В диалоговом окне **Новый проект** щелкните **веб-сайт** в левой области и **веб-приложение ASP.NET** в средней области.

    ![Диалоговое окно "Новый проект"](creating-web-projects-in-visual-studio/_static/image1.png)

    Вы можете выбрать **облако** в левой области, чтобы создать [облачную службу Azure](https://docs.microsoft.com/azure/cloud-services/cloud-services-how-to-create-deploy), [мобильную службу Azure](https://msdn.microsoft.com/library/windows/apps/dn629482.aspx)или [веб-задание Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-webjobs). Этот раздел не охватывает эти шаблоны.
3. В области справа установите флажок **добавить Application Insights в проект** , если требуется мониторинг работоспособности и использования приложения. Дополнительные сведения см. в разделе о [мониторинге производительности в веб-приложениях](https://azure.microsoft.com/documentation/articles/app-insights-web-monitor-performance/).
4. Укажите **имя**проекта, **Расположение**и другие параметры, а затем нажмите кнопку **ОК**.

    Откроется диалоговое окно **Новый проект ASP.NET**.

    ![Диалоговое окно "Новый проект"](creating-web-projects-in-visual-studio/_static/image2.png)
5. Щелкните шаблон.

    ![Выберите шаблон](creating-web-projects-in-visual-studio/_static/image3.png)
6. Если вы хотите добавить поддержку для дополнительных платформ, не входящих в шаблон, установите соответствующий флажок. (В приведенном примере можно добавить MVC и/или веб-API в проект веб-форм.)

    ![Добавить платформы](creating-web-projects-in-visual-studio/_static/image4.png)
7. <a id="testproj"></a>Если вы хотите добавить проект модульного теста, щелкните **Добавить модульные тесты**.

    ![Добавление модульных тестов](creating-web-projects-in-visual-studio/_static/image5.png)
8. Если требуется другой метод проверки подлинности по сравнению с тем, который предоставляет шаблон по умолчанию, нажмите кнопку **изменить проверку подлинности**.

    ![Кнопка настройки проверки подлинности](creating-web-projects-in-visual-studio/_static/image6.png)

    ![Диалоговое окно настройки проверки подлинности](creating-web-projects-in-visual-studio/_static/image7.png)

<a id="azurenewproj"></a>
### <a name="create-a-web-app-or-virtual-machine-in-azure"></a>Создание веб-приложения или виртуальной машины в Azure

Visual Studio включает функции, облегчающие работу со службами Azure для размещения веб-приложений. Например, вы можете выполнить все следующие действия прямо из интегрированной среды разработки Visual Studio:

- Создавайте и управляйте веб-приложениями или виртуальными машинами, которые делают ваше приложение доступным через Интернет.
- Просмотр журналов, созданных приложением, в том виде, в котором оно выполняется в облаке.
- Запуск в режиме отладки удаленно, пока приложение выполняется в облаке.
- Просматривайте другие службы Azure, такие как базы данных SQL, и управляйте ими.

Вы можете [создать учетную запись Azure](https://www.windowsazure.com/pricing/free-trial/) , которая включает в себя базовые службы, такие как веб-приложения бесплатно, и если вы являетесь ПОДПИСЧИКом MSDN, вы можете [активировать преимущества](https://azure.microsoft.com/pricing/member-offers/visual-studio-subscriptions/) , которые предоставляют ежемесячные кредиты в отношении дополнительных служб Azure. 

По умолчанию диалоговое окно **Новый проект ASP.NET** позволяет создать веб-приложение или виртуальную машину для нового веб-проекта. Если вы не хотите создавать новое веб-приложение или виртуальную машину, снимите флажок **узел в облаке** .

![Создание удаленных ресурсов](creating-web-projects-in-visual-studio/_static/image8.png)

Заголовок флажка может быть **размещен в облаке** или **создавать удаленные ресурсы**. в любом случае результат будет одинаковым. Если оставить этот флажок установленным, Visual Studio создаст веб-приложение в службе приложений Azure по умолчанию. С помощью раскрывающегося списка можно изменить его на **виртуальную машину** , если вы предпочитаете. Если вы еще не вошли в Azure, вам будет предложено ввести учетные данные Azure. После входа в систему появится диалоговое окно, в котором можно настроить ресурсы, создаваемые Visual Studio для проекта. На следующем рисунке показано диалоговое окно для веб-приложения. Если вы решили создать виртуальную машину, отображаются различные параметры.

![Настройка параметров приложения Azure](creating-web-projects-in-visual-studio/_static/image9.png)

Дополнительные сведения о том, как использовать этот процесс для создания ресурсов Azure, см. в [статьях начало работы с Azure и ASP.NET](https://docs.microsoft.com/azure/app-service-web/app-service-web-get-started-dotnet) и [Создание виртуальной машины для веб-сайта с помощью Visual Studio](https://azure.microsoft.com/documentation/articles/virtual-machines-dotnet-create-visual-studio-powershell/).

Оставшаяся часть этой статьи содержит дополнительные сведения о доступных шаблонах и их параметрах. В этой статье также представлены сведения о начальной загрузке, макете и структуре, используемой в шаблонах.

<a id="vs2013"></a>
## <a name="visual-studio-2013-web-project-templates"></a>Шаблоны веб-проектов Visual Studio 2013

Visual Studio использует шаблоны для создания веб-проектов. Шаблон проекта может создавать файлы и папки в новом проекте, устанавливать пакеты NuGet и предоставлять пример кода для элементарно работающего приложения. Шаблоны реализуют новейшие веб-стандарты и предназначены для демонстрации лучших методов использования ASP.NET технологий, а также для начала создания собственного приложения.

Visual Studio 2013 предоставляет следующие варианты для шаблонов веб-проектов для проектов, предназначенных для .NET 4,5 или более поздних версий .NET Framework:

- [Пустой шаблон](#empty)
- [Шаблон веб-форм](#wf)
- [Шаблон MVC](#mvc)
- [Шаблон веб-API](#webapi)
- [Шаблон одностраничного приложения](#spa)
- [Шаблон мобильной службы Azure](https://azure.microsoft.com/documentation/articles/mobile-services-dotnet-backend-windows-store-dotnet-leaderboard/)
- [Шаблоны Visual Studio 2012](#vs2012)

Вы также можете установить расширение Visual Studio, которое предоставляет [шаблон Facebook](#facebook).

Сведения о создании проектов, предназначенных для .NET 4, см. в подразделе [шаблоны Visual Studio 2012](#vs2012) далее в этой статье.

Сведения о создании приложений ASP.NET для мобильных клиентов см. [в статье поддержка мобильных устройств в ASP.NET](../../../mobile/overview.md).

<a id="empty"></a>
### <a name="empty-template"></a>Пустой шаблон

Пустой шаблон предоставляет минимальные папки и файлы для веб-приложения ASP.NET, например файл проекта ( *. csproj* или. *VBPROJ*) и файл *Web. config* . Можно добавить поддержку веб-форм, MVC и (или) веб-API с помощью флажков в разделе **Добавить папки и основные ссылки для:** метка.

Для пустого шаблона параметры проверки подлинности недоступны. Функция проверки подлинности реализована в примерах приложений, и пустой шаблон не создает пример приложения.

<a id="wf"></a>
### <a name="web-forms-template"></a>Шаблон веб-форм

Платформа веб-форм предоставляет следующие возможности, позволяющие быстро создавать веб-сайты с широкими возможностями в пользовательском интерфейсе и функциях доступа к данным:

- Конструктор WYSIWYG в Visual Studio.
- Серверные элементы управления, которые визуализируют HTML и могут быть настроены путем установки свойств и стилей.
- Широкий ассортимент элементов управления для доступа к данным и их вывода.
- Модель событий, предоставляющая события, которые можно программировать, например, программировать клиентское приложение, такое как WPF.
- Автоматическое сохранение состояния (данных) между HTTP-запросами.

Как правило, создание приложения веб-форм требует меньше усилий на программирование, чем создание того же приложения с помощью платформы MVC ASP.NET. Однако веб-формы не только для быстрой разработки приложений. Существует множество сложных коммерческих приложений и платформ, созданных на основе веб-форм.

Так как страница веб-форм и элементы управления на странице автоматически создают большую часть разметки, которая отправляется в браузер, у вас нет точного контроля над HTML, который ASP.NET MVC. Декларативная модель для настройки страниц и элементов управления позволяет сокращать объем кода, который необходимо написать, но скрывая поведение HTML и HTTP. Например, не всегда можно точно указать, какая разметка может быть создана элементом управления.

Платформа Web Forms не сама по себе, как ASP.NET MVC к методикам разработки на основе шаблонов, таким как разработка с использованием [тестирования](http://en.wikipedia.org/wiki/Test-driven_development), [разделение проблем](http://en.wikipedia.org/wiki/Separation_of_concerns), [инверсия контроля](http://en.wikipedia.org/wiki/Inversion_of_control)и [внедрение зависимостей](http://en.wikipedia.org/wiki/Dependency_injection). Если вы хотите создать код таким образом, вы можете. Это не так автоматически, как в платформе ASP.NET MVC. Проект [MVP по веб-формам ASP.NET](http://webformsmvp.com/) показывает подход, который упрощает разделение проблем и возможность тестирования, сохраняя при этом возможность быстрой разработки, которую создавали веб-формы. Microsoft SharePoint построен на основе MVP по Web Forms.

Шаблон веб-форм создает пример приложения с веб-формами, который использует [начальную загрузку](#bootstrap) для обеспечения быстрого проектирования и реализации функций. На следующей иллюстрации показана домашняя страница.

![Домашняя страница приложения шаблона веб-форм](creating-web-projects-in-visual-studio/_static/image10.png)

Дополнительные сведения о веб-формах см. в разделе [ASP.NET Web Forms](https://asp.net/web-forms). Сведения о том, что делает шаблон веб-форм, см. [в разделе Создание базового приложения Web Forms с помощью Visual Studio 2013](https://blogs.msdn.com/b/webdev/archive/2013/12/19/building-a-basic-web-forms-application-using-visual-studio-2013.aspx).

<a id="mvc"></a>
### <a name="mvc-template"></a>Шаблон MVC

ASP.NET MVC разработан для упрощения методик разработки на основе шаблонов, таких как [Разработка с использованием тестирования](http://en.wikipedia.org/wiki/Test-driven_development), [разделение проблем](http://en.wikipedia.org/wiki/Separation_of_concerns), [инверсия контроля](http://en.wikipedia.org/wiki/Inversion_of_control)и [внедрение зависимостей](http://en.wikipedia.org/wiki/Dependency_injection). Платформа способствует отделению уровня бизнес-логики веб – приложения от уровня представления. Разделив приложение на модели (M), представления (V) и контроллеры (C), ASP.NET MVC может упростить управление сложностью больших приложений.

С помощью ASP.NET MVC вы работаете более прямо с HTML и HTTP, чем в веб-формах. Например, веб-формы могут автоматически сохранять состояние между запросами HTTP, но в MVC необходимо выполнять код явным образом. Преимущество модели MVC состоит в том, что она позволяет получить полный контроль над тем, что делает приложение и как оно работает в веб-среде. Недостаток заключается в том, что вам нужно написать дополнительный код.

Платформа MVC была разработана для расширения, предоставляя разработчикам возможность настраивать платформу в соответствии с потребностями приложений. Кроме того, исходный код MVC ASP.NET доступен по лицензии OSI.

Шаблон MVC создает пример приложения MVC 5, которое использует [начальную загрузку](#bootstrap) для обеспечения реагирования и функций. На следующей иллюстрации показана домашняя страница.

![Пример приложения MVC](creating-web-projects-in-visual-studio/_static/image11.png)

Дополнительные сведения о MVC см. в разделе [ASP.NET MVC](https://asp.net/mvc). Сведения о том, как выбрать шаблон MVC 4, см. в разделе [шаблоны Visual Studio 2012](#vs2012) далее в этой статье.

<a id="webapi"></a>
### <a name="web-api-template"></a>Шаблон веб-API

Шаблон веб-API создает пример веб-службы на основе веб-API, включая страницы справки API на основе MVC.

Веб-API ASP.NET — это платформа, которая позволяет легко создавать HTTP-службы для широкого диапазона клиентов, включая браузеры и мобильные устройства. Веб-API ASP.NET — идеальная платформа для создания служб RESTFUL на .NET Framework.

Шаблон веб-API создает пример веб-службы. На следующих иллюстрациях показаны образцы страниц справки.

![Страница справки веб-API](creating-web-projects-in-visual-studio/_static/image12.png)

![Страница справки веб-API для GET API](creating-web-projects-in-visual-studio/_static/image13.png)

Дополнительные сведения о веб-API см. в разделе [веб-API ASP.NET](https://asp.net/web-api).

<a id="spa"></a>
### <a name="single-page-application-template"></a>Шаблон одностраничного приложения

Шаблон одностраничного приложения (SPA) создает пример приложения, использующего JavaScript, HTML 5 и [KnockoutJS](http://knockoutjs.com/) на клиенте, и веб-API ASP.NET на сервере.

Единственным вариантом проверки подлинности для шаблона SPA являются [учетные записи отдельных пользователей](#indauth).

На следующем рисунке показано начальное состояние примера приложения, которое создается шаблоном SPA.

![Пример приложения SPA](creating-web-projects-in-visual-studio/_static/image14.png)

Сведения о создании приложения с помощью шаблона SPA см. в разделе [веб-API — внешние службы проверки подлинности](../../../web-api/overview/security/external-authentication-services.md).

Дополнительные сведения о ASP.NET одностраничных приложениях и о дополнительных шаблонах SPA, использующих платформы JavaScript, отличные от KnockoutJS, см. в следующих ресурсах:

- [ASP.NET одностраничное приложение](../../../single-page-application/index.md).
- [Основные сведения о функциях безопасности в шаблоне SPA для VS2013 RC](https://blogs.msdn.com/b/webdev/archive/2013/09/20/understanding-security-features-in-spa-template.aspx)
- [Одностраничные приложения: создание современных и реагирующих веб-приложений с помощью ASP.NET](https://msdn.microsoft.com/magazine/dn463786.aspx)

<a id="facebook"></a>
### <a name="facebook-template"></a>Шаблон Facebook

Вы можете установить [расширение Visual Studio, которое предоставляет шаблон Facebook](https://go.microsoft.com/fwlink/?LinkID=509965&amp;clcid=0x409). Этот шаблон создает пример приложения, предназначенного для запуска на веб-сайте Facebook. Он основан на ASP.NET MVC и использует веб-API для функций обновления в режиме реального времени.

Для шаблона Facebook недоступны параметры проверки подлинности, так как приложения Facebook работают на сайте Facebook и используют проверку подлинности Facebook.

Дополнительные сведения о приложениях ASP.NET Facebook см. [в статье обновление MVC Facebook API](https://blogs.msdn.com/b/webdev/archive/2014/06/10/updating-the-mvc-facebook-api.aspx).

<a id="vs2012"></a>
### <a name="visual-studio-2012-templates"></a>Шаблоны Visual Studio 2012

Диалоговое окно создания веб-проекта Visual Studio 2013 не предоставляет доступ к некоторым шаблонам, которые были доступны в Visual Studio 2012. Если вы хотите использовать один из этих шаблонов, можно щелкнуть узел Visual Studio 2012 в левой области диалогового окна Новый проект Visual Studio.

![Шаблоны Visual Studio 2012](creating-web-projects-in-visual-studio/_static/image15.png)

Узел **Visual Studio 2012** позволяет выбрать следующие веб-шаблоны, к которым у вас нет доступа, в списке шаблонов по умолчанию для Visual Studio 2013:

- Веб-приложение ASP.NET MVC 4
- Веб-приложение динамических сущностей данных ASP.NET
- Серверный элемент управления ASP.NET AJAX
- Расширитель серверного элемента управления ASP.NET AJAX
- Серверный элемент управления ASP.NET

<a id="bootstrap"></a>
## <a name="bootstrap-in-the-visual-studio-2013-web-project-templates"></a>Начальная загрузка в шаблонах веб-проектов Visual Studio 2013

В шаблонах проектов Visual Studio 2013 используется [Начальная](http://getbootstrap.com/)Загрузка, макет и инфраструктура, созданные Twitter. Начальная загрузка использует CSS3 для обеспечения быстроты реагирования, что означает возможность динамического адаптации макетов к различным размерам окон браузера. Например, в широком окне браузера Домашняя страница, созданная с помощью шаблона веб-форм, выглядит как на следующем рисунке:

![Домашняя страница приложения шаблона веб-форм](creating-web-projects-in-visual-studio/_static/image16.png)

Сделайте окно более узким, и горизонтально упорядоченные столбцы переходят в вертикальное расположение:

![Расположение начальной загрузки столбцов](creating-web-projects-in-visual-studio/_static/image17.png)

Сократите окно чуть больше, и горизонтальное верхнее меню превращается в значок, который можно развернуть в вертикальное меню:

![Значок меню начальной загрузки](creating-web-projects-in-visual-studio/_static/image18.png)

![Вертикальное меню начальной загрузки](creating-web-projects-in-visual-studio/_static/image19.png)

Вы также можете воспользоваться функцией начальной загрузки, чтобы упростить изменение внешнего вида и поведения приложения. Например, можно выполнить следующие действия, чтобы изменить тему.

1. В браузере перейдите к [http://Bootswatch.com](http://Bootswatch.com), выберите тему и нажмите кнопку **скачать**. (По умолчанию скачивается *начальная версия. min. CSS* ; если вы хотите ИЗУЧИТЬ код CSS, вместо версии минифицированные используйте параметр *начальной загрузки. CSS* ).
2. Скопируйте содержимое скачанного CSS файл.
3. В Visual Studio создайте новый файл **таблицы стилей** с именем *бутстрап-семе. CSS* в папке *Content* и вставьте в него загруженный код CSS.
4. Откройте *приложение\_запустите/упакуйте. config* и измените файл *начальной загрузки. CSS* на *бутстрап-семе. CSS*.

Снова запустите проект, и приложение поменяет новый вид. На следующем рисунке показан результат темы Амелиа:

![Тема Амелиа начальной загрузки](creating-web-projects-in-visual-studio/_static/image20.png)

Доступны многие темы начальной загрузки — версии Free и Premium. В программе начальной загрузки также предусмотрены разнообразные компоненты пользовательского интерфейса, [такие как раскрывающиеся окна](http://twitter.github.io/bootstrap/components.html#dropdowns), [группы кнопок](http://twitter.github.io/bootstrap/components.html#buttonGroups)и [значки](http://twitter.github.io/bootstrap/base-css.html#images). Дополнительные сведения о начальной загрузке см. [на сайте начальной загрузки](http://twitter.github.io/bootstrap/).

Если вы используете конструктор веб-форм в Visual Studio, обратите внимание, что конструктор не поддерживает CSS3, поэтому он не будет точно показывать все эффекты начальной загрузки или отклика на изменения макета. Однако страницы веб-форм отображаются правильно при просмотре в браузере.

<a id="add"></a>
## <a name="adding-support-for-additional-frameworks"></a>Добавление поддержки дополнительных платформ

При выборе шаблона флажки для платформ, используемых шаблоном, автоматически выбираются. Например, если выбрать шаблон **веб-формы** , то флажок **веб-формы** будет установлен, и его нельзя будет очистить.

![Выберите шаблон](creating-web-projects-in-visual-studio/_static/image21.png)

![Добавить платформы](creating-web-projects-in-visual-studio/_static/image22.png)

Можно установить флажок для платформы, которая не включена в шаблон, чтобы добавить поддержку для этой платформы при создании проекта. Например, чтобы включить использование страниц Web Forms *. aspx* при выборе шаблона MVC, установите флажок **веб-формы** . Чтобы включить MVC при использовании шаблона веб-форм, установите флажок **MVC** . Добавление платформы обеспечивает поддержку времени разработки и времени выполнения. Например, если добавить поддержку MVC в проект веб-форм, вы сможете использовать контроллеры и представления формирования шаблонов.

При объединении веб-форм и MVC в проекте и включении [удобных URL-адресов](http://www.hanselman.com/blog/IntroducingASPNETFriendlyUrlsCleanerURLsEasierRoutingAndMobileViewsForASPNETWebForms.aspx) в Web Forms могут возникнуть неожиданные проблемы с маршрутизацией, в которых один URL-адрес имеет несколько возможных целевых объектов. Маршруты, которые определяются первыми, имеют приоритет. Например, если у вас есть контроллер `Home` и страница *Home. aspx* , URL-адрес `http://contoso.com/home` будет переходить к *Home. aspx* при вызове метода `EnableFriendlyUrls` перед вызовом метода `MapRoute` в *RouteConfig.CS*, или тот же URL-адрес будет отправлен в представление по умолчанию для контроллера `Home`, если вы вызовите `MapRoute` перед `EnableFriendlyUrls`.

При добавлении платформы не добавляются функциональные возможности приложения. Например, при добавлении поддержки веб-форм при выборе шаблона MVC файл домашней страницы *Default. aspx* не создается. Добавляются только папки, файлы и ссылки, необходимые для поддержки платформы. По этой причине Добавление платформ не изменяет параметры проверки подлинности, которые реализуются кодом в образцах приложений, созданных с помощью шаблонов. Например, если выбрать пустой шаблон и добавить поддержку веб-форм или MVC, кнопка **Настройка проверки подлинности** будет по-прежнему отключена.

В следующих разделах приводится краткий результат каждого флажка.

### <a name="add-web-forms-support"></a>Добавить поддержку веб-форм

Создает пустое *приложение\_данные* и *модели* данных и файл *Global. asax* . Они уже созданы всеми шаблонами, кроме пустого шаблона, поэтому установка флажка веб-форм не влияет на другие шаблоны.

Шаблон веб-форм по умолчанию позволяет использовать понятные URL-адреса, но при добавлении поддержки веб-форм в другие шаблоны, установив флажки для веб-форм, не включаются автоматически.

### <a name="add-mvc-support"></a>Добавление поддержки MVC

Устанавливает пакеты NuGet MVC, Razor и веб-страниц, создает пустое *приложение\_данные*, *контроллеры*, *модели*и *представления* , создает папку *приложения\_начальной* папке с файлом *RouteConfig.CS* и создает файл *Global. asax* .

### <a name="add-web-api-support"></a>Добавление поддержки веб-API

Устанавливает пакеты NuGet WebApi и Newtonsoft. JSON, создает пустое *приложение\_данные*, *контроллеры*и папки *моделей* , создает *приложение\_начальную* папку с файлом *WebApiConfig.CS* и создает файл *Global. asax* .

<a id="auth"></a>
## <a name="authentication-methods"></a>Методы проверки подлинности

Visual Studio 2013 предлагает несколько вариантов проверки подлинности для шаблонов веб-форм, MVC и веб-API:

- [Без аутентификации](#noauth).
- [Учетные записи отдельных пользователей](#indauth) (ASP.NET Identity, ранее известные как членство в ASP.NET);
- [Учетные записи организации](#orgauth) (Windows Server Active Directory или Azure Active Directory)
- [Проверка подлинности Windows](#winauth) (интрасеть)

![Диалоговое окно настройки проверки подлинности](creating-web-projects-in-visual-studio/_static/image23.png)

<a id="noauth"></a>

### <a name="no-authentication"></a>Без аутентификации

Если выбран вариант **без проверки подлинности**, то в примере приложения не будет веб-страниц для входа, ни одного пользовательского интерфейса, указывающего, кто вошел в систему, нет классов сущностей для базы данных членства и строки подключения для базы данных членства.

<a id="indauth"></a>
### <a name="individual-user-accounts"></a>Учетные записи индивидуальных пользователей

Если выбрать **отдельные учетные записи пользователей**, пример приложения будет настроен на использование ASP.NET Identity (ранее известного как членство в ASP.NET) для проверки подлинности пользователя. ASP.NET Identity позволяет пользователю зарегистрировать учетную запись, создав имя пользователя и пароль на сайте или войдя с поставщиками социальных сетей, такими как Facebook, Google, учетная запись Майкрософт или Twitter. Хранилищем данных по умолчанию для профилей пользователей в ASP.NET Identity является база данных SQL Server LocalDB, которую можно развернуть в SQL Server или базе данных SQL Azure для рабочего сайта.

В Visual Studio 2013 эти функции те же, что и в Visual Studio 2012, но базовый код для системы членства ASP.NET был переписан. Ниже перечислены преимущества новой базы кода.

- Новая система членства основана на [OWIN](http://owin.org/) , а не модуле проверки подлинности форм ASP.NET. Это означает, что один и тот же механизм проверки подлинности можно использовать при использовании веб-форм или MVC в IIS или при самостоятельном размещении веб-API или SignalR.
- Новая база данных членства управляется Entity Framework Code First, а все таблицы представлены классами сущностей, которые можно изменять. Это означает, что можно легко настроить схему базы данных и веб-интерфейс, связанный с профилями, в соответствии с собственными потребностями, а также легко развертывать обновления с помощью Code First Migrations.

Новая система членства автоматически реализуется в новых шаблонах и может быть реализована вручную в любом проекте, предназначенном для .NET 4,5 или более поздней версии.

ASP.NET Identity является хорошим выбором, если вы создаете веб-сайт в Интернете, который главным образом предназначен для внешних клиентов. Если ваша организация использует Active Directory или Office 365 и вы хотите создать проект, обеспечивающий единый вход для сотрудников и бизнес-партнеров, лучше выбрать вариант **учетных записей организации** .

Дополнительные сведения о параметрах отдельных учетных записей пользователей см. в следующих ресурсах:

- [www.ASP.NET/Identity](../../../identity/index.md). Документация по ASP.NET Identity на веб-сайте ASP.NET.
- [Создание приложения ASP.NET MVC 5 с помощью Facebook и Google OAuth2 и OpenID Connect входа](../../../mvc/overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md). Также показывает, как настроить данные профиля пользователя.
- [Веб-API — внешние службы проверки подлинности](../../../web-api/overview/security/external-authentication-services.md)
- [Добавление внешних имен входа в приложение ASP.NET в Visual Studio 2013](https://blogs.msdn.com/b/webdev/archive/2013/06/27/adding-external-logins-to-your-asp-net-application-in-visual-studio-2013.aspx)

<a id="orgauth"></a>
### <a name="organizational-accounts"></a>Учетные записи организации

При выборе **учетных записей организации**в примере приложения будет настроено использование Windows Identity Foundation (WIF) для проверки подлинности на основе учетных записей пользователей в Azure Active Directory (Azure AD, которая включает Office 365) или Windows Server Active Directory. Дополнительные сведения см. в подразделе [Параметры проверки подлинности учетной записи организации](#orgauthoptions) далее в этой статье.

<a id="winauth"></a>
### <a name="windows-authentication"></a>Проверка подлинности Windows

При выборе **проверки подлинности Windows**в примере приложения будет настроено использование модуля IIS проверки подлинности Windows для проверки подлинности. Приложение отобразит домен и идентификатор пользователя учетной записи Active Directory или локального компьютера, которые вошли в Windows, но не будут включать пользовательский интерфейс регистрации или входа. Этот параметр предназначен для веб-сайтов интрасети.

Кроме того, можно создать сайт интрасети, использующий проверку подлинности Active Directory, выбрав [параметр Локальный в разделе Учетные записи организации](#orgauthonprem). Локальный вариант использует Windows Identity Foundation (WIF) вместо модуля проверки подлинности Windows. Чтобы настроить локальный вариант, необходимо выполнить некоторые дополнительные действия, но WIF включает функции, которые недоступны в модуле проверки подлинности Windows. Например, с помощью WIF можно настроить доступ к приложениям в Active Directory и запросить данные каталога.

<a id="orgauthoptions"></a>
## <a name="organizational-account-authentication-options"></a>Параметры проверки подлинности учетной записи Организации

Диалоговое окно **Настройка проверки подлинности** предоставляет несколько вариантов для Azure Active Directory (Azure AD, включающего Office 365) или проверку подлинности учетной записи Windows Server Active Directory (AD):

- [Облако — одна организация](#orgauthsingle) (Azure AD или AD, использующая интеграцию каталогов с Azure AD)
- [Облако. Организация с несколькими организациями](#orgauthmulti) (Azure AD или AD с помощью интеграции каталогов с Azure AD)
- [Локальная](#orgauthonprem) среда (AD)

Если вы хотите попробовать один из вариантов Azure AD, но у вас еще нет учетной записи, [щелкните здесь, чтобы зарегистрироваться для использования учетной записи Azure AD](https://go.microsoft.com/fwlink/?LinkId=309942).

> [!NOTE]
> Если выбран один из вариантов Azure AD, для проекта требуется база данных, и необходимо войти в учетную запись глобального администратора для вашего клиента Azure AD. Введите имя и пароль для учетной записи организации (например, admin@contoso.onmicrosoft.com) с правами администратора для вашего клиента Azure AD.
> 
> **Не вводите учетные данные для учетная запись Майкрософт (например, contoso@hotmail.com) в диалоговом окне входа.**

<a id="orgauthsingle"></a>
### <a name="cloud---single-organization-authentication"></a>Облако — проверка подлинности одной организации

![Проверка подлинности одной организации](creating-web-projects-in-visual-studio/_static/image24.png)

Выберите этот параметр, если требуется включить проверку подлинности для учетных записей пользователей, определенных в одном [клиенте](https://technet.microsoft.com/library/jj573650.aspx)Azure AD. Например, сайт contoso.com, и он будет доступен сотрудникам компании Contoso, которые находятся в клиенте contoso.onmicrosoft.com. Вы не сможете настроить Azure AD, чтобы разрешить пользователям других клиентов доступ к приложению.

#### <a name="domain"></a>Домен

Введите домен Azure AD, в котором вы хотите настроить приложение, например: `contoso.onmicrosoft.com`. Если у вас есть [личный домен](http://www.cloudidentity.com/blog/2013/04/14/adding-a-custom-domain-to-your-windows-azure-ad/), например `contoso.com` вместо `contoso.onmicrosoft.com`, его можно ввести здесь.

#### <a name="access-level"></a>Уровень доступа

Если приложению необходимо запросить или обновить данные каталога с помощью API Graph, выберите **единый вход, чтение данных каталога** или **единый вход, чтение и запись данных каталога**. В противном случае выберите **единый вход**. Дополнительные сведения см. в статьях [уровни доступа к приложениям](https://msdn.microsoft.com/library/windowsazure/b08d91fa-6a64-4deb-92f4-f5857add9ed8#BKMK_AccessLevels) и [Использование API Graph для запроса Azure AD](https://msdn.microsoft.com/library/windowsazure/dn151791.aspx).

#### <a name="application-id-uri"></a>URI идентификатора приложения

По умолчанию шаблон создает URI идентификатора приложения, добавляя имя проекта в домен Azure AD. Например, если имя проекта `Example` и домен `contoso.onmicrosoft.com`, URI идентификатора приложения становится `https://contoso.onmicrosoft.com/Example`. Если вы хотите вручную указать URI идентификатора приложения, разверните раздел **Дополнительные параметры** и введите URI идентификатора приложения в текстовом поле. URI идентификатора приложения должен начинаться с `https://`.

По умолчанию, если приложение, которое уже подготовлено в Azure AD, имеет тот же URI идентификатора приложения, который используется Visual Studio для проекта, то проект будет подключен к существующему приложению вместо подготовки нового. Если в этом случае требуется подготовить новое приложение, снимите флажок **перезаписать запись приложения, если такой объект с таким идентификатором уже существует** .

Если флажок **Перезаписать** снят, а Visual Studio находит существующее приложение с тем же URI идентификатора приложения, он создает новый универсальный код ресурса (URI), добавляя номер к универсальному коду ресурса (URI), который он будет использовать. Например, предположим, что имя проекта `Example`, вы оставляете текстовое поле пустым, флажок **Перезаписать** не установлен, а у клиента Azure AD уже есть приложение с URI `https://contoso.onmicrosoft.com/Example`. В этом случае новое приложение будет подготовлено с помощью URI идентификатора приложения, например `https://contoso.onmicrosoft.com/Example_20130619330903`.

#### <a name="provisioning-the-application-in-azure-ad"></a>Подготовка приложения в Azure AD

Чтобы подготавливать приложение в Azure AD или подключить проект к существующему приложению, Visual Studio требуются учетные данные глобального администратора домена. При нажатии кнопки **ОК** в диалоговом окне **Настройка проверки подлинности** вам будет предложено ввести имя пользователя и пароль глобального администратора для указанного домена. Позднее при нажатии кнопки **создать проект** в диалоговом окне **Новый проект ASP.NET** Visual Studio подготавливает приложение в Azure AD. Обратите внимание, что в рамках этого процесса Visual Studio внедряет значения секрета клиента в файл Web. config, срок действия которого истекает один год после создания.

Сведения о создании приложений, использующих единую проверку подлинности в **облаке** , см. в следующих ресурсах:

- [Проверка подлинности Azure](../2012/windows-azure-authentication.md)
- [Добавление единого входа в веб-приложение с помощью Azure AD](https://msdn.microsoft.com/library/windowsazure/dn151790.aspx)
- [Разработка приложений ASP.NET с Azure Active Directory](../../../identity/overview/getting-started/developing-aspnet-apps-with-windows-azure-active-directory.md)
- [Защита веб-API ASP.NET с помощью Azure AD и компонентов Microsoft OWIN](https://msdn.microsoft.com/magazine/dn463788.aspx)

Руководства еще не обновлены для Visual Studio 2013; Некоторые из руководств, которые можно выполнить вручную, автоматизированы в Visual Studio 2013.

<a id="orgauthmulti"></a>
### <a name="cloud---multi-organization-authentication"></a>Облако — проверка подлинности в нескольких организациях

![Проверка подлинности нескольких организаций](creating-web-projects-in-visual-studio/_static/image25.png)

Выберите этот параметр, если требуется включить проверку подлинности для учетных записей пользователей, определенных в нескольких [клиентах](https://technet.microsoft.com/library/jj573650.aspx)Azure AD. Например, сайт является contoso.com, и он будет доступен сотрудникам компании Contoso, которые находятся в клиенте contoso.onmicrosoft.com, и сотрудникам компании Fabrikam, которая находится в клиенте fabrikam.onmicrosoft.com.

Введенные параметры и шаг подготовки приложения похожи на [проверку подлинности одной организации](#orgauthsingle).

Сведения о создании приложений, использующих облачную проверку подлинности в **нескольких организациях** , см. в следующих ресурсах:

- [Простая интеграция веб-приложений с Azure Active Directory, ASP.NET &amp; Visual Studio](https://blogs.msdn.com/b/active_directory_team_blog/archive/2013/06/26/improved-windows-azure-active-directory-integration-with-asp-net-amp-visual-studio.aspx) в блоге Active Directory разработчиков.
- Руководство [по разработке веб-приложений с несколькими клиентами с помощью Azure AD](https://msdn.microsoft.com/library/windowsazure/dn151789.aspx) . Руководство еще не Обновлено для Visual Studio 2013; Некоторые действия, которые посвящены учебнику, можно автоматизировать вручную в Visual Studio 2013.
- [Прежде чем войти в систему, необходимо зарегистрироваться в своем приложении, ASP.NET несколько организаций](http://www.cloudidentity.com/blog/2013/10/26/you-have-to-sign-up-with-your-own-multiple-organizations-asp-net-app-before-you-can-sign-in/). Блог с помощью Витторио Берточчи, в котором объясняется, как устранить распространенную проблему, с которой сталкиваются пользователи при создании проекта, использующего многоорганизационную проверку подлинности.

<a id="orgauthonprem"></a>
### <a name="on-premises-organizational-authentication"></a>Локальная аутентификация в Организации

![Локальная аутентификация в Организации](creating-web-projects-in-visual-studio/_static/image26.png)

Выберите этот параметр, если требуется включить проверку подлинности для учетных записей пользователей, определенных в Windows Server Active Directory (AD), и вы не хотите использовать Azure AD. С помощью этого параметра можно создать сайт интрасети или Интернет-сайт. Для веб-сайта используйте службы федерации Active Directory (AD FS) (ADFS), чтобы предоставить доступ к AD. Дополнительные сведения см. в статье [использование локального параметра проверки подлинности в Организации (ADFS) с ASP.NET в Visual Studio 2013](http://www.cloudidentity.com/blog/2014/02/12/use-the-on-premises-organizational-authentication-option-adfs-with-asp-net-in-visual-studio-2013/).

В качестве альтернативы для сайта интрасети можно выбрать [проверку подлинности Windows](#winauth) вместо этого параметра. В случае с проверкой подлинности Windows вам не нужно указывать URL-адрес документа метаданных. Однако проверка подлинности Windows не дает возможности управлять доступом к приложениям в Active Directory или для запроса данных каталога.

#### <a name="on-premises-authority"></a>Локальный центр

Введите URL-адрес, указывающий на документ метаданных. Документ метаданных содержит координаты центра. Приложение будет использовать эти координаты для управления потоком веб-входа.

#### <a name="application-id-uri"></a>URI идентификатора приложения

Укажите уникальный URI, который AD может использовать для обнаружения этого приложения, или оставьте поле пустым, чтобы позволить Visual Studio создать его.

<a id="nextsteps"></a>
## <a name="next-steps"></a>Дальнейшие действия

В этом документе представлена простая Справка по созданию нового веб-проекта ASP.NET в Visual Studio 2013. Дополнительные сведения об использовании для разработки веб-приложений в Visual Studio см. в разделе [https://www.asp.net/visual-studio/](../../index.md).
