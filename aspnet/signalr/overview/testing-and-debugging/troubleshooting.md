---
uid: signalr/overview/testing-and-debugging/troubleshooting
title: Устранение неполадок SignalR | Документация Майкрософт
author: bradygaster
description: В этой статье описаны распространенные проблемы с разработкой приложений SignalR.
ms.author: bradyg
ms.date: 06/10/2014
ms.assetid: 4b559e6c-4fb0-4a04-9812-45cf08ae5779
msc.legacyurl: /signalr/overview/testing-and-debugging/troubleshooting
msc.type: authoredcontent
ms.openlocfilehash: 38802814fbb748513274f1fd8a33521fafd48ed3
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57039411"
---
<a name="signalr-troubleshooting"></a><span data-ttu-id="cb5b8-103">Устранение неполадок SignalR</span><span class="sxs-lookup"><span data-stu-id="cb5b8-103">SignalR Troubleshooting</span></span>
====================
<span data-ttu-id="cb5b8-104">по [Патрик Флетчера](https://github.com/pfletcher)</span><span class="sxs-lookup"><span data-stu-id="cb5b8-104">by [Patrick Fletcher](https://github.com/pfletcher)</span></span>

[!INCLUDE [Consider ASP.NET Core SignalR](~/includes/signalr/signalr-version-disambiguation.md)]

> <span data-ttu-id="cb5b8-105">В этом документе описаны распространенные проблемы с SignalR.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-105">This document describes common troubleshooting issues with SignalR.</span></span>
>
> ## <a name="software-versions-used-in-this-topic"></a><span data-ttu-id="cb5b8-106">Версии программного обеспечения, используемого в этом разделе</span><span class="sxs-lookup"><span data-stu-id="cb5b8-106">Software versions used in this topic</span></span>
>
>
> - [<span data-ttu-id="cb5b8-107">Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="cb5b8-107">Visual Studio 2013</span></span>](https://my.visualstudio.com/Downloads?q=visual%20studio%202013)
> - <span data-ttu-id="cb5b8-108">.NET 4.5</span><span class="sxs-lookup"><span data-stu-id="cb5b8-108">.NET 4.5</span></span>
> - <span data-ttu-id="cb5b8-109">SignalR версии 2</span><span class="sxs-lookup"><span data-stu-id="cb5b8-109">SignalR version 2</span></span>
>
>
>
> ## <a name="previous-versions-of-this-topic"></a><span data-ttu-id="cb5b8-110">Предыдущие версии этого раздела</span><span class="sxs-lookup"><span data-stu-id="cb5b8-110">Previous versions of this topic</span></span>
>
> <span data-ttu-id="cb5b8-111">Сведения о более ранних версий SignalR, см. в разделе [более старых версий SignalR](../older-versions/index.md).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-111">For information about earlier versions of SignalR, see [SignalR Older Versions](../older-versions/index.md).</span></span>
>
> ## <a name="questions-and-comments"></a><span data-ttu-id="cb5b8-112">Вопросы и комментарии</span><span class="sxs-lookup"><span data-stu-id="cb5b8-112">Questions and comments</span></span>
>
> <span data-ttu-id="cb5b8-113">Оставьте свои отзывы на том, как вам понравилось, и этот учебник и что можно улучшить в комментариях в нижней части страницы.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-113">Please leave feedback on how you liked this tutorial and what we could improve in the comments at the bottom of the page.</span></span> <span data-ttu-id="cb5b8-114">Если у вас есть вопросы, которые не имеют отношения к руководству, их можно разместить [форум по ASP.NET SignalR](https://forums.asp.net/1254.aspx/1?ASP+NET+SignalR) или [StackOverflow.com](http://stackoverflow.com/).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-114">If you have questions that are not directly related to the tutorial, you can post them to the [ASP.NET SignalR forum](https://forums.asp.net/1254.aspx/1?ASP+NET+SignalR) or [StackOverflow.com](http://stackoverflow.com/).</span></span>


<span data-ttu-id="cb5b8-115">Этот документ содержит следующие разделы.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-115">This document contains the following sections.</span></span>

- [<span data-ttu-id="cb5b8-116">Вызов методов между клиентом и сервером без вмешательства пользователя завершается ошибкой</span><span class="sxs-lookup"><span data-stu-id="cb5b8-116">Calling methods between the client and server silently fails</span></span>](#connection)
- [<span data-ttu-id="cb5b8-117">Настройка WebSocket служб IIS для проверки связи или проверка связи для обнаружения dead клиента</span><span class="sxs-lookup"><span data-stu-id="cb5b8-117">Configuring IIS websockets to ping/pong to detect a dead client</span></span>](#pong)
- [<span data-ttu-id="cb5b8-118">Другие проблемы с подключением</span><span class="sxs-lookup"><span data-stu-id="cb5b8-118">Other connection issues</span></span>](#other)
- [<span data-ttu-id="cb5b8-119">Ошибки компиляции и на стороне сервера</span><span class="sxs-lookup"><span data-stu-id="cb5b8-119">Compilation and server-side errors</span></span>](#server)
- [<span data-ttu-id="cb5b8-120">Проблемы в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="cb5b8-120">Visual Studio issues</span></span>](#vs)
- [<span data-ttu-id="cb5b8-121">Проблемы Internet Information Services</span><span class="sxs-lookup"><span data-stu-id="cb5b8-121">Internet Information Services issues</span></span>](#iis)
- [<span data-ttu-id="cb5b8-122">Проблемы с Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="cb5b8-122">Microsoft Azure issues</span></span>](#azure)

<a id="connection"></a>

## <a name="calling-methods-between-the-client-and-server-silently-fails"></a><span data-ttu-id="cb5b8-123">Вызов методов между клиентом и сервером без вмешательства пользователя завершается ошибкой</span><span class="sxs-lookup"><span data-stu-id="cb5b8-123">Calling methods between the client and server silently fails</span></span>

<span data-ttu-id="cb5b8-124">В этом разделе описываются возможные причины вызова метода между клиентом и сервером, переход на другой без информативное сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-124">This section describes possible causes for a method call between client and server to fail without a meaningful error message.</span></span> <span data-ttu-id="cb5b8-125">В приложении SignalR, сервер не обладает информацией о методах, которые клиент реализует; Когда сервер вызывает клиентский метод, клиенту отправляются данные имени и параметров метода и этот метод выполняется только в том случае, если он существует в формате, который указан сервер.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-125">In a SignalR application, the server has no information about the methods that the client implements; when the server invokes a client method, the method name and parameter data are sent to the client, and the method is executed only if it exists in the format that the server specified.</span></span> <span data-ttu-id="cb5b8-126">Если отсутствует соответствующий метод находится на стороне клиента, ничего не происходит, и сообщение об ошибке не возникает на сервере.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-126">If no matching method is found on the client, nothing happens, and no error message is raised on the server.</span></span>

<span data-ttu-id="cb5b8-127">Для дальнейшей диагностики клиента методов не вызван, можно включить ведение журнала перед вызовом метода, метод start на концентраторе, чтобы увидеть, какие вызовы приходящие с сервера.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-127">To further investigate client methods not getting called, you can turn on logging before the calling the start method on the hub to see what calls are coming from the server.</span></span> <span data-ttu-id="cb5b8-128">Чтобы включить ведение журнала в приложении JavaScript, см. в разделе [как включить ведение журнала на стороне клиента (версия клиента JavaScript)](../guide-to-the-api/hubs-api-guide-javascript-client.md#logging).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-128">To enable logging in a JavaScript application, see [How to enable client-side logging (JavaScript client version)](../guide-to-the-api/hubs-api-guide-javascript-client.md#logging).</span></span> <span data-ttu-id="cb5b8-129">Чтобы включить ведение журнала в клиентском приложении .NET, см. в разделе [как включить ведение журнала на стороне клиента (версия клиента .NET)](../guide-to-the-api/hubs-api-guide-net-client.md#logging).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-129">To enable logging in a .NET client application, see [How to enable client-side logging (.NET Client version)](../guide-to-the-api/hubs-api-guide-net-client.md#logging).</span></span>

### <a name="misspelled-method-incorrect-method-signature-or-incorrect-hub-name"></a><span data-ttu-id="cb5b8-130">Неправильно написанное метода Неверный метод подписи или имя неверные концентратора</span><span class="sxs-lookup"><span data-stu-id="cb5b8-130">Misspelled method, incorrect method signature, or incorrect hub name</span></span>

<span data-ttu-id="cb5b8-131">Если имя или сигнатуру вызываемого метода полностью соответствует подходящего метода на стороне клиента, вызов завершится ошибкой.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-131">If the name or signature of a called method does not exactly match an appropriate method on the client, the call will fail.</span></span> <span data-ttu-id="cb5b8-132">Убедитесь, что имя метода, который вызывается сервером совпадает имя метода на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-132">Verify that the method name called by the server matches the name of the method on the client.</span></span> <span data-ttu-id="cb5b8-133">Кроме того, SignalR создает прокси-сервера концентратора, с помощью методов стиле Camel, как и в JavaScript, поэтому вызов метода `SendMessage` на сервере будет называться `sendMessage` в прокси клиента.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-133">Also, SignalR creates the hub proxy using camel-cased methods, as is appropriate in JavaScript, so a method called `SendMessage` on the server would be called `sendMessage` in the client proxy.</span></span> <span data-ttu-id="cb5b8-134">Если вы используете `HubName` атрибута в коде на стороне сервера, убедитесь, что имя, используемое совпадает имя, используемое для создания концентратора на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-134">If you use the `HubName` attribute in your server-side code, verify that the name used matches the name used to create the hub on the client.</span></span> <span data-ttu-id="cb5b8-135">Если вы не используете `HubName` атрибут, убедитесь, что имя концентратора в клиенте JavaScript в стиле Camel, например chatHub вместо ChatHub.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-135">If you do not use the `HubName` attribute, verify that the name of the hub in a JavaScript client is camel-cased, such as chatHub instead of ChatHub.</span></span>

### <a name="duplicate-method-name-on-client"></a><span data-ttu-id="cb5b8-136">Повторяющееся имя метода на клиенте</span><span class="sxs-lookup"><span data-stu-id="cb5b8-136">Duplicate method name on client</span></span>

<span data-ttu-id="cb5b8-137">Убедитесь, что у вас нет повторяющийся метод на клиенте, который отличается только регистром.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-137">Verify that you do not have a duplicate method on the client that differs only by case.</span></span> <span data-ttu-id="cb5b8-138">Если клиентское приложение содержит метод с именем `sendMessage`, убедитесь, что не существует также метод, вызванный `SendMessage` также.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-138">If your client application has a method called `sendMessage`, verify that there isn't also a method called `SendMessage` as well.</span></span>

### <a name="missing-json-parser-on-the-client"></a><span data-ttu-id="cb5b8-139">Отсутствуют средства синтаксического анализа JSON на стороне клиента</span><span class="sxs-lookup"><span data-stu-id="cb5b8-139">Missing JSON parser on the client</span></span>

<span data-ttu-id="cb5b8-140">SignalR требуется средство синтаксического анализа JSON для сериализации вызовов между сервером и клиентом.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-140">SignalR requires a JSON parser to be present to serialize calls between the server and the client.</span></span> <span data-ttu-id="cb5b8-141">Если клиент не имеет встроенные средства синтаксического анализа JSON (например, Internet Explorer 7), необходимо включить его в приложении.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-141">If your client doesn't have a built-in JSON parser (such as Internet Explorer 7), you'll need to include one in your application.</span></span> <span data-ttu-id="cb5b8-142">Вы можете скачать средство синтаксического анализа JSON [здесь](http://nuget.org/packages/json2).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-142">You can download the JSON parser [here](http://nuget.org/packages/json2).</span></span>

### <a name="mixing-hub-and-persistentconnection-syntax"></a><span data-ttu-id="cb5b8-143">Смешивание концентратора и PersistentConnection синтаксиса</span><span class="sxs-lookup"><span data-stu-id="cb5b8-143">Mixing Hub and PersistentConnection syntax</span></span>

<span data-ttu-id="cb5b8-144">SignalR использует две модели обмена данными: Концентраторы и PersistentConnections.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-144">SignalR uses two communication models: Hubs and PersistentConnections.</span></span> <span data-ttu-id="cb5b8-145">Синтаксис вызова этих моделей связи отличается в клиентском коде.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-145">The syntax for calling these two communication models is different in the client code.</span></span> <span data-ttu-id="cb5b8-146">Если вы добавили концентратору в коде сервера, убедитесь, что весь код клиента использует синтаксис правильный концентратора.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-146">If you have added a hub in your server code, verify that all of your client code uses the proper hub syntax.</span></span>

<span data-ttu-id="cb5b8-147">**Клиентский код JavaScript, создающий PersistentConnection в клиент JavaScript**</span><span class="sxs-lookup"><span data-stu-id="cb5b8-147">**JavaScript client code that creates a PersistentConnection in a JavaScript client**</span></span>

[!code-javascript[Main](troubleshooting/samples/sample1.js)]

<span data-ttu-id="cb5b8-148">**Код клиента JavaScript, который создает прокси-сервер концентратора в клиент Javascript**</span><span class="sxs-lookup"><span data-stu-id="cb5b8-148">**JavaScript client code that creates a Hub Proxy in a Javascript client**</span></span>

[!code-javascript[Main](troubleshooting/samples/sample2.js)]

<span data-ttu-id="cb5b8-149">**Серверный код на C#, соответствующий маршрут PersistentConnection**</span><span class="sxs-lookup"><span data-stu-id="cb5b8-149">**C# server code that maps a route to a PersistentConnection**</span></span>

[!code-csharp[Main](troubleshooting/samples/sample3.cs)]

<span data-ttu-id="cb5b8-150">**Серверный код на C#, сопоставляет маршрут к концентратору или несколько концентраторов, при наличии нескольких приложений**</span><span class="sxs-lookup"><span data-stu-id="cb5b8-150">**C# server code that maps a route to a Hub, or to mulitple hubs if you have multiple applications**</span></span>

[!code-css[Main](troubleshooting/samples/sample4.css)]

### <a name="connection-started-before-subscriptions-are-added"></a><span data-ttu-id="cb5b8-151">Подключение к работе перед добавлением подписки</span><span class="sxs-lookup"><span data-stu-id="cb5b8-151">Connection started before subscriptions are added</span></span>

<span data-ttu-id="cb5b8-152">Если подключение к концентратору запускается перед добавлением методов, которые могут вызываться с сервера на прокси-сервер, сообщения не будут приниматься.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-152">If the Hub's connection is started before methods that can be called from the server are added to the proxy, messages will not be received.</span></span> <span data-ttu-id="cb5b8-153">Следующий код JavaScript не запустится концентратор должным образом:</span><span class="sxs-lookup"><span data-stu-id="cb5b8-153">The following JavaScript code will not start the hub properly:</span></span>

<span data-ttu-id="cb5b8-154">**Неверный код клиента JavaScript, который не позволит концентраторов принимать сообщения**</span><span class="sxs-lookup"><span data-stu-id="cb5b8-154">**Incorrect JavaScript client code that will not allow Hubs messages to be received**</span></span>

[!code-javascript[Main](troubleshooting/samples/sample5.js)]

<span data-ttu-id="cb5b8-155">Вместо этого добавьте метод подписки перед вызовом начала:</span><span class="sxs-lookup"><span data-stu-id="cb5b8-155">Instead, add the method subscriptions before calling Start:</span></span>

<span data-ttu-id="cb5b8-156">**Код клиента JavaScript, который правильно добавляет подписки к концентратору**</span><span class="sxs-lookup"><span data-stu-id="cb5b8-156">**JavaScript client code that correctly adds subscriptions to a hub**</span></span>

[!code-javascript[Main](troubleshooting/samples/sample6.js)]

### <a name="missing-method-name-on-the-hub-proxy"></a><span data-ttu-id="cb5b8-157">Отсутствует имя метода в прокси-сервера концентратора</span><span class="sxs-lookup"><span data-stu-id="cb5b8-157">Missing method name on the hub proxy</span></span>

<span data-ttu-id="cb5b8-158">Убедитесь, что метод, определенный на сервере создана подписка на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-158">Verify that the method defined on the server is subscribed to on the client.</span></span> <span data-ttu-id="cb5b8-159">Несмотря на то, что сервер определяет метод, он по-прежнему должны добавляться к прокси клиента.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-159">Even though the server defines the method, it must still be added to the client proxy.</span></span> <span data-ttu-id="cb5b8-160">Методы могут добавляться на прокси-сервер клиента следующим образом (Обратите внимание, что добавляется метод `client` член концентратора, не концентратор напрямую):</span><span class="sxs-lookup"><span data-stu-id="cb5b8-160">Methods can be added to the client proxy in the following ways (Note that the method is added to the `client` member of the hub, not the hub directly):</span></span>

<span data-ttu-id="cb5b8-161">**Код клиента JavaScript, который добавляет методы для прокси-сервера-концентратора**</span><span class="sxs-lookup"><span data-stu-id="cb5b8-161">**JavaScript client code that adds methods to a hub proxy**</span></span>

[!code-javascript[Main](troubleshooting/samples/sample7.js)]

### <a name="hub-or-hub-methods-not-declared-as-public"></a><span data-ttu-id="cb5b8-162">Концентратор или методов концентратора, не объявлен как Public</span><span class="sxs-lookup"><span data-stu-id="cb5b8-162">Hub or hub methods not declared as Public</span></span>

<span data-ttu-id="cb5b8-163">Чтобы быть видимым на клиенте, реализации концентратора и методов должны объявляться как `public`.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-163">To be visible on the client, the hub implementation and methods must be declared as `public`.</span></span>

### <a name="accessing-hub-from-a-different-application"></a><span data-ttu-id="cb5b8-164">Доступа к концентратору из другого приложения</span><span class="sxs-lookup"><span data-stu-id="cb5b8-164">Accessing hub from a different application</span></span>

<span data-ttu-id="cb5b8-165">Концентраторы SignalR может осуществляться только через приложения, реализующие клиентов SignalR.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-165">SignalR Hubs can only be accessed through applications that implement SignalR clients.</span></span> <span data-ttu-id="cb5b8-166">SignalR не может взаимодействовать с другими библиотеками обмен данными (например, SOAP или WCF веб-служб.) Если клиенты не SignalR доступен для целевой платформы, не может непосредственно доступ к конечной точки сервера.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-166">SignalR cannot interoperate with other communication libraries (like SOAP or WCF web services.) If there is no SignalR client available for your target platform, you cannot access the server's endpoint directly.</span></span>

### <a name="manually-serializing-data"></a><span data-ttu-id="cb5b8-167">Вручную сериализации данных</span><span class="sxs-lookup"><span data-stu-id="cb5b8-167">Manually serializing data</span></span>

<span data-ttu-id="cb5b8-168">SignalR будут автоматически использовать JSON для сериализации метод параметры здесь не нужно сделать это самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-168">SignalR will automatically use JSON to serialize your method parameters- there's no need to do it yourself.</span></span>

### <a name="remote-hub-method-not-executed-on-client-in-ondisconnected-function"></a><span data-ttu-id="cb5b8-169">Не выполняется на клиенте в OnDisconnected функции удаленного метода концентратора</span><span class="sxs-lookup"><span data-stu-id="cb5b8-169">Remote Hub method not executed on client in OnDisconnected function</span></span>

<span data-ttu-id="cb5b8-170">Это сделано намеренно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-170">This behavior is by design.</span></span> <span data-ttu-id="cb5b8-171">Когда `OnDisconnected` — вызове концентратора уже вошел `Disconnected` состояние, которое больше нельзя вызывать методы концентратора.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-171">When `OnDisconnected` is called, the hub has already entered the `Disconnected` state, which does not allow further hub methods to be called.</span></span>

<span data-ttu-id="cb5b8-172">**Код сервера C#, который правильно выполняет код в событии OnDisconnected**</span><span class="sxs-lookup"><span data-stu-id="cb5b8-172">**C# server code that correctly executes code in the OnDisconnected event**</span></span>

[!code-csharp[Main](troubleshooting/samples/sample8.cs)]

### <a name="ondisconnect-not-firing-at-consistent-times"></a><span data-ttu-id="cb5b8-173">Не удается инициировать в согласованное время OnDisconnect</span><span class="sxs-lookup"><span data-stu-id="cb5b8-173">OnDisconnect not firing at consistent times</span></span>

<span data-ttu-id="cb5b8-174">Это сделано намеренно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-174">This behavior is by design.</span></span> <span data-ttu-id="cb5b8-175">Когда пользователь пытается покинуть страницу с активным соединением SignalR, клиентом SignalR, сделает наиболее безопасным местом для уведомления сервера остановку клиентского соединения.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-175">When a user attempts to navigate away from a page with an active SignalR connection, the SignalR client will then make a best-effort attempt to notify the server that the client connection will be stopped.</span></span> <span data-ttu-id="cb5b8-176">Если клиентом SignalR наилучшей попытки не сможет подключиться к серверу, сервер будет освободить соединение после настраиваемое `DisconnectTimeout` позже, после чего `OnDisconnected` событие будет срабатывать.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-176">If the SignalR client's best-effort attempt fails to reach the server, the server will dispose of the connection after a configurable `DisconnectTimeout` later, at which time the `OnDisconnected` event will fire.</span></span> <span data-ttu-id="cb5b8-177">Если клиентом SignalR усилия попытка окажется успешной, `OnDisconnected` событие будет срабатывать немедленно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-177">If the SignalR client's best-effort attempt is successful, the `OnDisconnected` event will fire immediately.</span></span>

<span data-ttu-id="cb5b8-178">Сведения об установке `DisconnectTimeout` настройки, см. в разделе [обработка событий времени существования подключений: DisconnectTimeout](../guide-to-the-api/handling-connection-lifetime-events.md#disconnecttimeout).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-178">For information on setting the `DisconnectTimeout` setting, see [Handling connection lifetime events: DisconnectTimeout](../guide-to-the-api/handling-connection-lifetime-events.md#disconnecttimeout).</span></span>

### <a name="connection-limit-reached"></a><span data-ttu-id="cb5b8-179">Достигнут предел подключения</span><span class="sxs-lookup"><span data-stu-id="cb5b8-179">Connection limit reached</span></span>

<span data-ttu-id="cb5b8-180">При использовании полной версии IIS в клиентской операционной системе, например Windows 7, накладывается ограничение в 10-подключений.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-180">When using the full version of IIS on a client operating system like Windows 7, a 10-connection limit is imposed.</span></span> <span data-ttu-id="cb5b8-181">При использовании операционной системы клиента, используйте IIS Express во избежание этого ограничения.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-181">When using a client OS, use IIS Express instead to avoid this limit.</span></span>

### <a name="cross-domain-connection-not-set-up-properly"></a><span data-ttu-id="cb5b8-182">Подключение между доменами настроены неверно</span><span class="sxs-lookup"><span data-stu-id="cb5b8-182">Cross-domain connection not set up properly</span></span>

<span data-ttu-id="cb5b8-183">Если соединение между доменами (соединение, для которого SignalR URL-адрес не находится в том же домене, что и страница размещения) не установлено правильно, соединение может выдать сбой без сообщения об ошибке.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-183">If a cross-domain connection (a connection for which the SignalR URL is not in the same domain as the hosting page) is not set up correctly, the connection may fail without an error message.</span></span> <span data-ttu-id="cb5b8-184">Сведения о том, как для обеспечения взаимодействия между доменами, см. в разделе [как для установления соединения между доменами](../guide-to-the-api/hubs-api-guide-javascript-client.md#crossdomain).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-184">For information on how to enable cross-domain communication, see [How to establish a cross-domain connection](../guide-to-the-api/hubs-api-guide-javascript-client.md#crossdomain).</span></span>

### <a name="connection-using-ntlm-active-directory-not-working-in-net-client"></a><span data-ttu-id="cb5b8-185">Подключение с помощью NTLM (Active Directory) не работает в клиент .NET</span><span class="sxs-lookup"><span data-stu-id="cb5b8-185">Connection using NTLM (Active Directory) not working in .NET client</span></span>

<span data-ttu-id="cb5b8-186">Подключения в клиентском приложении .NET, которая использует безопасность домена может завершиться ошибкой, если подключение не настроено должным образом.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-186">A connection in a .NET client application that uses Domain security may fail if the connection is not configured properly.</span></span> <span data-ttu-id="cb5b8-187">Для использования SignalR в доменной среде, задайте свойство необходимые соединения следующим образом:</span><span class="sxs-lookup"><span data-stu-id="cb5b8-187">To use SignalR in a domain environment, set the requisite connection property as follows:</span></span>

<span data-ttu-id="cb5b8-188">**Клиентский код на C#, реализующий учетные данные для подключения**</span><span class="sxs-lookup"><span data-stu-id="cb5b8-188">**C# client code that implements connection credentials**</span></span>

[!code-csharp[Main](troubleshooting/samples/sample9.cs)]

<a id="pong"></a>

## <a name="configuring-iis-websockets-to-pingpong-to-detect-a-dead-client"></a><span data-ttu-id="cb5b8-189">Настройка WebSocket служб IIS для проверки связи или проверка связи для обнаружения dead клиента</span><span class="sxs-lookup"><span data-stu-id="cb5b8-189">Configuring IIS websockets to ping/pong to detect a dead client</span></span>

<span data-ttu-id="cb5b8-190">SignalR серверы не знаете, если клиент очередь недоставленных или нет, и они полагаются на уведомления от базового веб-ошибками соединения, то есть, `OnClose` обратного вызова.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-190">SignalR servers don't know if the client is dead or not and they rely on notification from the underlying websocket for connection failures, that is, the `OnClose` callback.</span></span> <span data-ttu-id="cb5b8-191">Одним из решений этой проблемы является настройка WebSocket служб IIS для выполнения проверки связи или проверка связи для вас.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-191">One solution to this problem is to configure IIS websockets to do the ping/pong for you.</span></span> <span data-ttu-id="cb5b8-192">Это гарантирует, что подключение будет закрыто, если оно нарушает работу неожиданно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-192">This ensures that your connection will close if it breaks unexpectedly.</span></span> <span data-ttu-id="cb5b8-193">Дополнительные сведения см. в разделе [публикация на сайте stackoverflow](http://stackoverflow.com/questions/19502755/websocket-clients-state-not-changing-on-network-loss).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-193">For more information see [this stackoverflow post](http://stackoverflow.com/questions/19502755/websocket-clients-state-not-changing-on-network-loss).</span></span>

<a id="other"></a>

## <a name="other-connection-issues"></a><span data-ttu-id="cb5b8-194">Другие проблемы с подключением</span><span class="sxs-lookup"><span data-stu-id="cb5b8-194">Other connection issues</span></span>

<span data-ttu-id="cb5b8-195">В этом разделе описываются причины и способы устранения конкретных проблем или сообщений об ошибках, возникающих во время подключения.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-195">This section describes the causes and solutions for specific symptoms or error messages that occur during a connection.</span></span>

### <a name="start-must-be-called-before-data-can-be-sent-error"></a><span data-ttu-id="cb5b8-196">Ошибка «Start должен вызываться перед отправкой данных»</span><span class="sxs-lookup"><span data-stu-id="cb5b8-196">"Start must be called before data can be sent" error</span></span>

<span data-ttu-id="cb5b8-197">Эта ошибка обычно возникает, если код ссылается на объекты SignalR, прежде чем подключение будет запущена.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-197">This error is commonly seen if code references SignalR objects before the connection is started.</span></span> <span data-ttu-id="cb5b8-198">Присоединит для обработчиков и прочее, будут вызывать методы, определенные на сервере необходимо добавить после создания подключения.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-198">The wireup for handlers and the like that will call methods defined on the server must be added after the connection completes.</span></span> <span data-ttu-id="cb5b8-199">Обратите внимание, что вызов `Start` осуществляется асинхронно, поэтому код после вызова может выполняться до его завершения.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-199">Note that the call to `Start` is asynchronous, so code after the call may be executed before it completes.</span></span> <span data-ttu-id="cb5b8-200">Для добавления обработчиков, после подключения запуска полностью рекомендуется поместить их в функции обратного вызова, который передается как параметр метода start:</span><span class="sxs-lookup"><span data-stu-id="cb5b8-200">The best way to add handlers after a connection starts completely is to put them into a callback function that is passed as a parameter to the start method:</span></span>

<span data-ttu-id="cb5b8-201">**Клиентский код JavaScript, который правильно добавляет обработчики событий, которые ссылаются на объекты SignalR**</span><span class="sxs-lookup"><span data-stu-id="cb5b8-201">**JavaScript client code that correctly adds event handlers that reference SignalR objects**</span></span>

[!code-javascript[Main](troubleshooting/samples/sample10.js?highlight=1)]

<span data-ttu-id="cb5b8-202">Эта ошибка также могут отображаться, если соединение останавливается, хотя по-прежнему ссылаются объекты SignalR.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-202">This error will also be seen if a connection stops while SignalR objects are still being referenced.</span></span>

### <a name="301-moved-permanently-or-302-moved-temporarily-error"></a><span data-ttu-id="cb5b8-203">«301 перемещено навсегда» или «временно перемещен 302» ошибка</span><span class="sxs-lookup"><span data-stu-id="cb5b8-203">"301 Moved Permanently" or "302 Moved Temporarily" error</span></span>

<span data-ttu-id="cb5b8-204">Эта ошибка может возникать, если проект содержит папку с именем SignalR, в которой будет мешать автоматически создается прокси-сервер.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-204">This error may be seen if the project contains a folder called SignalR, which will interfere with the automatically-created proxy.</span></span> <span data-ttu-id="cb5b8-205">Чтобы избежать этой ошибки, не используйте папку с именем `SignalR` в приложении, или создание автоматического прокси-сервера включите off.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-205">To avoid this error, do not use a folder called `SignalR` in your application, or turn automatic proxy generation off.</span></span> <span data-ttu-id="cb5b8-206">См. в разделе [созданного прокси и что он делает для вас](../guide-to-the-api/hubs-api-guide-javascript-client.md#genproxy) для получения дополнительных сведений.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-206">See [The Generated Proxy and what it does for you](../guide-to-the-api/hubs-api-guide-javascript-client.md#genproxy) for more details.</span></span>

### <a name="403-forbidden-error-in-net-or-silverlight-client"></a><span data-ttu-id="cb5b8-207">Ошибка «403 запрещено» в клиенте .NET и Silverlight</span><span class="sxs-lookup"><span data-stu-id="cb5b8-207">"403 Forbidden" error in .NET or Silverlight client</span></span>

<span data-ttu-id="cb5b8-208">Эта ошибка может возникать в средах между доменами, взаимодействие между доменами не поддерживающих должным образом.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-208">This error may occur in cross-domain environments where cross-domain communication is not properly enabled.</span></span> <span data-ttu-id="cb5b8-209">Сведения о том, как для обеспечения взаимодействия между доменами, см. в разделе [как для установления соединения между доменами](../guide-to-the-api/hubs-api-guide-javascript-client.md#crossdomain).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-209">For information on how to enable cross-domain communication, see [How to establish a cross-domain connection](../guide-to-the-api/hubs-api-guide-javascript-client.md#crossdomain).</span></span> <span data-ttu-id="cb5b8-210">Для установления соединения между доменами в клиенте Silverlight, см. в разделе [междоменные подключения от клиентов Silverlight](../guide-to-the-api/hubs-api-guide-net-client.md#slcrossdomain).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-210">To establish a cross-domain connection in a Silverlight client, see [Cross-domain connections from Silverlight clients](../guide-to-the-api/hubs-api-guide-net-client.md#slcrossdomain).</span></span>

### <a name="404-not-found-error"></a><span data-ttu-id="cb5b8-211">Ошибка «404 не найдено»</span><span class="sxs-lookup"><span data-stu-id="cb5b8-211">"404 Not Found" error</span></span>

<span data-ttu-id="cb5b8-212">Существует несколько причин этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-212">There are several causes for this issue.</span></span> <span data-ttu-id="cb5b8-213">Проверьте все указанные ниже:</span><span class="sxs-lookup"><span data-stu-id="cb5b8-213">Verify all of the following:</span></span>

- <span data-ttu-id="cb5b8-214">**Адрес прокси-сервера концентратора ссылку неправильный формат:** Эта ошибка обычно возникает, если ссылку на созданный концентратор прокси-адрес имеет неправильный.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-214">**Hub proxy address reference not formatted correctly:** This error is commonly seen if the reference to the generated hub proxy address is not formatted correctly.</span></span> <span data-ttu-id="cb5b8-215">Убедитесь, что ссылка на адрес центра создается правильно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-215">Verify that the reference to the hub address is made properly.</span></span> <span data-ttu-id="cb5b8-216">См. в разделе [способ создания ссылок динамически формируемых прокси-](../guide-to-the-api/hubs-api-guide-javascript-client.md#dynamicproxy) подробные сведения.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-216">See [How to reference the dynamically generated proxy](../guide-to-the-api/hubs-api-guide-javascript-client.md#dynamicproxy) for details.</span></span>
- <span data-ttu-id="cb5b8-217">**Добавление маршрутов для приложения, прежде чем добавлять маршрут концентратора:** Если приложение использует другие маршруты, убедитесь, что первый маршрут добавлен вызов `MapSignalR`.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-217">**Adding routes to application before adding the hub route:** If your application uses other routes, verify that the first route added is the call to `MapSignalR`.</span></span>
- <span data-ttu-id="cb5b8-218">**С помощью IIS 7 или 7.5 без обновления для URL-адреса приложения без расширений.** С помощью IIS 7 или 7.5 требуется обновление для URL-адреса без расширений приложения таким образом, сервер может предоставлять доступ к определениям концентратора в `/signalr/hubs`.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-218">**Using IIS 7 or 7.5 without the update for extensionless URLs:** Using IIS 7 or 7.5 requires an update for extensionless URLs so that the server can provide access to the hub definitions at `/signalr/hubs`.</span></span> <span data-ttu-id="cb5b8-219">Обновление можно найти [здесь](https://support.microsoft.com/kb/980368).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-219">The update can be found [here](https://support.microsoft.com/kb/980368).</span></span>
- <span data-ttu-id="cb5b8-220">**Кэш IIS устарели или повреждены:** Чтобы убедиться, что содержимое кэша не являются устаревшими, введите следующую команду в окне PowerShell, чтобы очистить кэш:</span><span class="sxs-lookup"><span data-stu-id="cb5b8-220">**IIS cache out of date or corrupt:** To verify that the cache contents are not out of date, enter the following command in a PowerShell window to clear the cache:</span></span>

    [!code-powershell[Main](troubleshooting/samples/sample11.ps1)]

### <a name="500-internal-server-error"></a><span data-ttu-id="cb5b8-221">«500 Внутренняя ошибка сервера»</span><span class="sxs-lookup"><span data-stu-id="cb5b8-221">"500 Internal Server Error"</span></span>

<span data-ttu-id="cb5b8-222">Это очень Общая ошибка, которая может иметь самые разнообразные причины.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-222">This is a very generic error that could have a wide variety of causes.</span></span> <span data-ttu-id="cb5b8-223">Сведения об ошибке должно отображаться в журнале событий сервера, или можно найти по отладку сервера.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-223">The details of the error should appear in the server's event log, or can be found through debugging the server.</span></span> <span data-ttu-id="cb5b8-224">Более подробные сведения об ошибке можно получить, включив подробные сведения об ошибках на сервере.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-224">More detailed error information may be obtained by turning on detailed errors on the server.</span></span> <span data-ttu-id="cb5b8-225">Дополнительные сведения см. в разделе [способ обработки ошибок в классе центр](../guide-to-the-api/hubs-api-guide-server.md#handleErrors).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-225">For more information, see [How to handle errors in the Hub class](../guide-to-the-api/hubs-api-guide-server.md#handleErrors).</span></span>

<span data-ttu-id="cb5b8-226">Эта ошибка обычно возникает, если брандмауэр или прокси-сервер не настроен правильно, вызывая заголовки запроса для перезаписи.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-226">This error is also commonly seen if a firewall or proxy is not configured properly, causing the request headers to be rewritten.</span></span> <span data-ttu-id="cb5b8-227">Решение заключается в том, чтобы убедиться в том, что порт 80 включен брандмауэр или прокси-сервера.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-227">The solution is to make sure that port 80 is enabled on the firewall or proxy.</span></span>

### <a name="unexpected-response-code-500"></a><span data-ttu-id="cb5b8-228">«Код неожиданный ответ: 500"</span><span class="sxs-lookup"><span data-stu-id="cb5b8-228">"Unexpected response code: 500"</span></span>

<span data-ttu-id="cb5b8-229">Эта ошибка может возникать, если версия .NET framework, используемой в приложении не соответствует версии, указанной в файле Web.Config. Решение заключается в том, чтобы убедиться, что в настройках приложения и файл Web.Config используется .NET 4.5.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-229">This error may occur if the version of .NET framework used in the application does not match the version specified in Web.Config. The solution is to verify that .NET 4.5 is used in both the application settings and the Web.Config file.</span></span>

### <a name="typeerror-lthubtypegt-is-undefined-error"></a><span data-ttu-id="cb5b8-230">«TypeError: &lt;hubType&gt; не определено» ошибка</span><span class="sxs-lookup"><span data-stu-id="cb5b8-230">"TypeError: &lt;hubType&gt; is undefined" error</span></span>

<span data-ttu-id="cb5b8-231">Это ошибка возникнет при вызове `MapSignalR` не выполняется должным образом.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-231">This error will result if the call to `MapSignalR` is not made properly.</span></span> <span data-ttu-id="cb5b8-232">См. в разделе [как зарегистрировать по промежуточного слоя SignalR и настроить параметры SignalR](../guide-to-the-api/hubs-api-guide-server.md#route) Дополнительные сведения.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-232">See [How to register SignalR Middleware and configure SignalR options](../guide-to-the-api/hubs-api-guide-server.md#route) for more information.</span></span>

### <a name="jsonserializationexception-was-unhandled-by-user-code"></a><span data-ttu-id="cb5b8-233">JsonSerializationException было обработано пользовательским кодом</span><span class="sxs-lookup"><span data-stu-id="cb5b8-233">JsonSerializationException was unhandled by user code</span></span>

<span data-ttu-id="cb5b8-234">Убедитесь, что параметры, которые можно отправить в методы содержит не поддерживают сериализацию типов (таких как дескрипторы файлов или подключения к базе данных).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-234">Verify that the parameters you send to your methods do not include non-serializable types (like file handles or database connections).</span></span> <span data-ttu-id="cb5b8-235">Если вам нужно использовать члены объекта на стороне сервера, вы не хотите отправить клиенту (либо для обеспечения безопасности, либо в целях сериализации), используйте `JSONIgnore` атрибута.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-235">If you need to use members on a server-side object that you don't want to be sent to the client (either for security or for reasons of serialization), use the `JSONIgnore` attribute.</span></span>

### <a name="protocol-error-unknown-transport-error"></a><span data-ttu-id="cb5b8-236">«Ошибка протокола: Ошибка Неизвестный транспорта»</span><span class="sxs-lookup"><span data-stu-id="cb5b8-236">"Protocol error: Unknown transport" error</span></span>

<span data-ttu-id="cb5b8-237">Эта ошибка может возникать, если клиент не поддерживает транспорты, которые использует SignalR.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-237">This error may occur if the client does not support the transports that SignalR uses.</span></span> <span data-ttu-id="cb5b8-238">См. в разделе [транспорта и в случае ошибки](../getting-started/introduction-to-signalr.md#transports) сведения, на котором браузеры можно использовать с SignalR.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-238">See [Transports and Fallbacks](../getting-started/introduction-to-signalr.md#transports) for information on which browsers can be used with SignalR.</span></span>

### <a name="javascript-hub-proxy-generation-has-been-disabled"></a><span data-ttu-id="cb5b8-239">«Отключено создание прокси JavaScript концентратора.»</span><span class="sxs-lookup"><span data-stu-id="cb5b8-239">"JavaScript Hub proxy generation has been disabled."</span></span>

<span data-ttu-id="cb5b8-240">Эта ошибка возникает в том случае, если `DisableJavaScriptProxies` задается при также включая ссылку на динамически созданный прокси в `signalr/hubs`.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-240">This error will occur if `DisableJavaScriptProxies` is set while also including a reference to the dynamically generated proxy at `signalr/hubs`.</span></span> <span data-ttu-id="cb5b8-241">Дополнительные сведения о создании прокси-сервер вручную, см. в разделе [созданный прокси и что он делает для вас](../guide-to-the-api/hubs-api-guide-javascript-client.md#genproxy).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-241">For more information on creating the proxy manually, see [The generated proxy and what it does for you](../guide-to-the-api/hubs-api-guide-javascript-client.md#genproxy).</span></span>

### <a name="the-connection-id-is-in-the-incorrect-format-or-the-user-identity-cannot-change-during-an-active-signalr-connection-error"></a><span data-ttu-id="cb5b8-242">«Идентификатор подключения имеет неправильный формат» или «удостоверение пользователя нельзя изменить во время подключения SignalR» ошибка</span><span class="sxs-lookup"><span data-stu-id="cb5b8-242">"The connection ID is in the incorrect format" or "The user identity cannot change during an active SignalR connection" error</span></span>

<span data-ttu-id="cb5b8-243">Эта ошибка может возникать, если используется проверка подлинности и выходе клиента, прежде чем подключение остановлен.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-243">This error may be seen if authentication is being used, and the client is logged out before the connection is stopped.</span></span> <span data-ttu-id="cb5b8-244">Решение, необходимо остановить соединение перед при выходе клиента SignalR.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-244">The solution is to stop the SignalR connection before logging the client out.</span></span>

### <a name="uncaught-error-signalr-jquery-not-found-please-ensure-jquery-is-referenced-before-the-signalrjs-file-error"></a><span data-ttu-id="cb5b8-245">«Никаким кодом не перехватывается ошибка: SignalR: jQuery не найден.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-245">"Uncaught Error: SignalR: jQuery not found.</span></span> <span data-ttu-id="cb5b8-246">Ошибка, убедитесь, что существует jQuery, прежде чем файл SignalR.js»</span><span class="sxs-lookup"><span data-stu-id="cb5b8-246">Please ensure jQuery is referenced before the SignalR.js file" error</span></span>

<span data-ttu-id="cb5b8-247">SignalR JavaScript клиенту требуется jQuery для выполнения.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-247">The SignalR JavaScript client requires jQuery to run.</span></span> <span data-ttu-id="cb5b8-248">Убедитесь, что справочной информации для jQuery указан правильно, что путь, используемый является допустимым, и ссылку на jQuery предшествует ссылку SignalR.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-248">Verify that your reference to jQuery is correct, that the path used is valid, and that the reference to jQuery is before the reference to SignalR.</span></span>

### <a name="uncaught-typeerror-cannot-read-property-ltpropertygt-of-undefined-error"></a><span data-ttu-id="cb5b8-249">«Неперехваченное TypeError: Не удается прочитать свойство "&lt;свойство&gt;" неопределенное» ошибка</span><span class="sxs-lookup"><span data-stu-id="cb5b8-249">"Uncaught TypeError: Cannot read property '&lt;property&gt;' of undefined" error</span></span>

<span data-ttu-id="cb5b8-250">Эта ошибка результатом отсутствия jQuery или центров прокси-сервера, правильность ссылок.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-250">This error results from not having jQuery or the hubs proxy referenced properly.</span></span> <span data-ttu-id="cb5b8-251">Убедитесь, что справочной информации для jQuery и центров прокси-сервера указан правильно, что путь, используемый является допустимым, и ссылку на jQuery предшествует ссылку центров прокси-сервер.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-251">Verify that your reference to jQuery and the hubs proxy is correct, that the path used is valid, and that the reference to jQuery is before the reference to the hubs proxy.</span></span> <span data-ttu-id="cb5b8-252">Ссылку по умолчанию на центров прокси-сервер должен иметь следующий вид:</span><span class="sxs-lookup"><span data-stu-id="cb5b8-252">The default reference to the hubs proxy should look like the following:</span></span>

<span data-ttu-id="cb5b8-253">**Код на стороне клиента HTML, который правильно ссылается на центров прокси-сервера**</span><span class="sxs-lookup"><span data-stu-id="cb5b8-253">**HTML client-side code that correctly references the Hubs proxy**</span></span>

[!code-html[Main](troubleshooting/samples/sample12.html)]

### <a name="runtimebinderexception-was-unhandled-by-user-code-error"></a><span data-ttu-id="cb5b8-254">Ошибка «RuntimeBinderException было обработано пользовательским кодом»</span><span class="sxs-lookup"><span data-stu-id="cb5b8-254">"RuntimeBinderException was unhandled by user code" error</span></span>

<span data-ttu-id="cb5b8-255">Эта ошибка может возникать при неверные перегрузку `Hub.On` используется.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-255">This error may occur when the incorrect overload of `Hub.On` is used.</span></span> <span data-ttu-id="cb5b8-256">Если метод имеет возвращаемое значение, тип возвращаемого значения необходимо указывать в качестве параметра универсального типа:</span><span class="sxs-lookup"><span data-stu-id="cb5b8-256">If the method has a return value, the return type must be specified as a generic type parameter:</span></span>

<span data-ttu-id="cb5b8-257">**Метод, определенный на клиенте (без созданный прокси-сервера)**</span><span class="sxs-lookup"><span data-stu-id="cb5b8-257">**Method defined on the client (without generated proxy)**</span></span>

[!code-html[Main](troubleshooting/samples/sample13.html?highlight=1)]

### <a name="connection-id-is-inconsistent-or-connection-breaks-between-page-loads"></a><span data-ttu-id="cb5b8-258">Идентификатор соединения не согласована, или разрыва соединения между загрузок страниц</span><span class="sxs-lookup"><span data-stu-id="cb5b8-258">Connection ID is inconsistent or connection breaks between page loads</span></span>

<span data-ttu-id="cb5b8-259">Это сделано намеренно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-259">This behavior is by design.</span></span> <span data-ttu-id="cb5b8-260">Так как объект концентратора размещается в объект страницы, концентратор уничтожается при обновлении этой страницы.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-260">Since the hub object is hosted in the page object, the hub is destroyed when the page refreshes.</span></span> <span data-ttu-id="cb5b8-261">Приложению многостраничных для поддержания связи между пользователями и идентификаторов подключений, чтобы они будут согласованы между загрузок страниц.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-261">A multi-page application needs to maintain the association between users and connection IDs so that they will be consistent between page loads.</span></span> <span data-ttu-id="cb5b8-262">Идентификаторов подключений, которые могут храниться на сервере в любом `ConcurrentDictionary` объекта или базу данных.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-262">The connection IDs can be stored on the server in either a `ConcurrentDictionary` object or a database.</span></span>

### <a name="value-cannot-be-null-error"></a><span data-ttu-id="cb5b8-263">Ошибка «Значение не может быть null»</span><span class="sxs-lookup"><span data-stu-id="cb5b8-263">"Value cannot be null" error</span></span>

<span data-ttu-id="cb5b8-264">Методы на стороне сервера с необязательными параметрами в настоящее время не поддерживаются; Если указан необязательный параметр, метод завершится с ошибкой.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-264">Server-side methods with optional parameters are not currently supported; if the optional parameter is omitted, the method will fail.</span></span> <span data-ttu-id="cb5b8-265">Дополнительные сведения см. в разделе [необязательные параметры](https://github.com/SignalR/SignalR/issues/324).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-265">For more information, see [Optional Parameters](https://github.com/SignalR/SignalR/issues/324).</span></span>

### <a name="firefox-cant-establish-a-connection-to-the-server-at-ltaddressgt-error-in-firebug"></a><span data-ttu-id="cb5b8-266">«Firefox не удается установить подключение к серверу по адресу &lt;адрес&gt;"Ошибка в Firebug</span><span class="sxs-lookup"><span data-stu-id="cb5b8-266">"Firefox can't establish a connection to the server at &lt;address&gt;" error in Firebug</span></span>

<span data-ttu-id="cb5b8-267">Это сообщение об ошибке может отображаться в Firebug, если происходит сбой согласования транспорта WebSocket и вместо него используется другой протокол.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-267">This error message can be seen in Firebug if negotiation of the WebSocket transport fails and another transport is used instead.</span></span> <span data-ttu-id="cb5b8-268">Это сделано намеренно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-268">This behavior is by design.</span></span>

### <a name="the-remote-certificate-is-invalid-according-to-the-validation-procedure-error-in-net-client-application"></a><span data-ttu-id="cb5b8-269">Ошибка «удаленный сертификат недействителен согласно процедуре проверки» в клиентском приложении .NET</span><span class="sxs-lookup"><span data-stu-id="cb5b8-269">"The remote certificate is invalid according to the validation procedure" error in .NET client application</span></span>

<span data-ttu-id="cb5b8-270">Если сервер требует настраиваемых клиентских сертификатов, затем можно добавить x509certificate соединение перед выполнением запроса.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-270">If your server requires custom client certificates, then you can add an x509certificate to the connection before the request is made.</span></span> <span data-ttu-id="cb5b8-271">Добавить сертификат для соединения с помощью `Connection.AddClientCertificate`.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-271">Add the certificate to the connection using `Connection.AddClientCertificate`.</span></span>

### <a name="connection-drops-after-authentication-times-out"></a><span data-ttu-id="cb5b8-272">После проверки подлинности истекает разрыва подключения</span><span class="sxs-lookup"><span data-stu-id="cb5b8-272">Connection drops after authentication times out</span></span>

<span data-ttu-id="cb5b8-273">Это сделано намеренно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-273">This behavior is by design.</span></span> <span data-ttu-id="cb5b8-274">Учетные данные проверки подлинности нельзя изменить, если подключение активно; Чтобы обновить учетные данные, соединение необходимо остановить и перезапустить.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-274">Authentication credentials cannot be modified while a connection is active; to refresh credentials, the connection must be stopped and restarted.</span></span>

### <a name="onconnected-gets-called-twice-when-using-jquery-mobile"></a><span data-ttu-id="cb5b8-275">OnConnected вызывается два раза в том случае, когда с помощью jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="cb5b8-275">OnConnected gets called twice when using jQuery Mobile</span></span>

<span data-ttu-id="cb5b8-276">jQuery Mobile `initializePage` функция принудительно выполняет скрипты на каждой странице, чтобы выполнить повторно, тем самым создавая второе подключение.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-276">jQuery Mobile's `initializePage` function forces the scripts in each page to be re-executed, thus creating a second connection.</span></span> <span data-ttu-id="cb5b8-277">Решения этой проблемы включают в себя:</span><span class="sxs-lookup"><span data-stu-id="cb5b8-277">Solutions for this issue include:</span></span>

- <span data-ttu-id="cb5b8-278">Включайте ссылку на jQuery Mobile перед в файле JavaScript.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-278">Include the reference to jQuery Mobile before your JavaScript file.</span></span>
- <span data-ttu-id="cb5b8-279">Отключить `initializePage` функции, задав `$.mobile.autoInitializePage = false`.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-279">Disable the `initializePage` function by setting `$.mobile.autoInitializePage = false`.</span></span>
- <span data-ttu-id="cb5b8-280">Подождите, пока страница для завершения инициализации, прежде чем выполнять подключение.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-280">Wait for the page to finish initializing before starting the connection.</span></span>

### <a name="messages-are-delayed-in-silverlight-applications-using-server-sent-events"></a><span data-ttu-id="cb5b8-281">Сообщения задержаны в приложениях Silverlight, с помощью отправки событий сервера</span><span class="sxs-lookup"><span data-stu-id="cb5b8-281">Messages are delayed in Silverlight applications using Server Sent Events</span></span>

<span data-ttu-id="cb5b8-282">Сообщения задержаны в том случае, при использовании сервера пересылке событий Silverlight.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-282">Messages are delayed when using server sent events on Silverlight.</span></span> <span data-ttu-id="cb5b8-283">Чтобы принудительно длинный опрос для использования вместо этого, используйте следующие параметры при запуске соединения.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-283">To force long polling to be used instead, use the following when starting the connection:</span></span>

[!code-css[Main](troubleshooting/samples/sample14.css)]

### <a name="permission-denied-using-forever-frame-protocol"></a><span data-ttu-id="cb5b8-284">С помощью «Разрешение Denied» навсегда кадра протокола</span><span class="sxs-lookup"><span data-stu-id="cb5b8-284">"Permission Denied" using Forever Frame protocol</span></span>

<span data-ttu-id="cb5b8-285">Это известная проблема, описано [здесь](https://github.com/SignalR/SignalR/issues/1963).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-285">This is a known issue, described [here](https://github.com/SignalR/SignalR/issues/1963).</span></span> <span data-ttu-id="cb5b8-286">Эта проблема может возникать, используя последнюю версию библиотеки JQuery; обойти это можно понизить приложению JQuery 1.8.2.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-286">This symptom may be seen using the latest JQuery library; the workaround is to downgrade your application to JQuery 1.8.2.</span></span>

### <a name="invalidoperationexception-not-a-valid-web-socket-request"></a><span data-ttu-id="cb5b8-287">"InvalidOperationException: Не допустимый запрос веб-сокета.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-287">"InvalidOperationException: Not a valid web socket request.</span></span>

<span data-ttu-id="cb5b8-288">Эта ошибка может возникать, если используется протокол WebSocket, но сетевой прокси-сервер изменяет заголовки запроса.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-288">This error may occur if the WebSocket protocol is used, but the network proxy is modifying the request headers.</span></span> <span data-ttu-id="cb5b8-289">Решение заключается в том, чтобы настроить прокси-сервера для веб-сокет на порт 80.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-289">The solution is to configure the proxy to allow WebSocket on port 80.</span></span>

### <a name="exception-ltmethod-namegt-method-could-not-be-resolved-when-client-calls-method-on-server"></a><span data-ttu-id="cb5b8-290">«Исключение: &lt;имя метода&gt; метод не удалось разрешить» когда клиент вызывает метод на сервере</span><span class="sxs-lookup"><span data-stu-id="cb5b8-290">"Exception: &lt;method name&gt; method could not be resolved" when client calls method on server</span></span>

<span data-ttu-id="cb5b8-291">Эта ошибка может быть результатом использования типов данных, которые не могут быть обнаружены в полезные данные JSON, например массив.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-291">This error can result from using data types that cannot be discovered in a JSON payload, such as Array.</span></span> <span data-ttu-id="cb5b8-292">Решение — использовать тип данных, который может быть обнаружен по JSON, например, IList.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-292">The workaround is to use a data type that is discoverable by JSON, such as IList.</span></span> <span data-ttu-id="cb5b8-293">Дополнительные сведения см. в разделе [клиент .NET, не может вызывать методы концентратора с помощью параметров-массивов](https://github.com/SignalR/SignalR/issues/2672).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-293">For more information, see [.NET Client unable to call hub methods with array parameters](https://github.com/SignalR/SignalR/issues/2672).</span></span>

<a id="server"></a>

## <a name="compilation-and-server-side-errors"></a><span data-ttu-id="cb5b8-294">Ошибки компиляции и на стороне сервера</span><span class="sxs-lookup"><span data-stu-id="cb5b8-294">Compilation and server-side errors</span></span>

 <span data-ttu-id="cb5b8-295">В следующем разделе приведены возможные решения для компилятора и ошибки времени выполнения на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-295">The following section contains possible solutions to compiler and server-side runtime errors.</span></span>

### <a name="reference-to-hub-instance-is-null"></a><span data-ttu-id="cb5b8-296">Ссылка на экземпляр концентратора имеет значение null</span><span class="sxs-lookup"><span data-stu-id="cb5b8-296">Reference to Hub instance is null</span></span>

<span data-ttu-id="cb5b8-297">Так как для каждого подключения, создается экземпляр концентратора не может создавать экземпляр концентратора в коде самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-297">Since a hub instance is created for each connection, you can't create an instance of a hub in your code yourself.</span></span> <span data-ttu-id="cb5b8-298">Для вызова методов в концентратор из за пределами сам концентратор, см. в разделе [как вызывать методы клиента и управлять ими групп за пределами классу Hub](../guide-to-the-api/hubs-api-guide-server.md#callfromoutsidehub) способ получить ссылку на контекст концентратора.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-298">To call methods on a hub from outside the hub itself, see [How to call client methods and manage groups from outside the Hub class](../guide-to-the-api/hubs-api-guide-server.md#callfromoutsidehub) for how to obtain a reference to the hub context.</span></span>

### <a name="httpcontextcurrentsession-is-null"></a><span data-ttu-id="cb5b8-299">HTTPContext.Current.Session имеет значение null</span><span class="sxs-lookup"><span data-stu-id="cb5b8-299">HTTPContext.Current.Session is null</span></span>

<span data-ttu-id="cb5b8-300">Это сделано намеренно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-300">This behavior is by design.</span></span> <span data-ttu-id="cb5b8-301">SignalR поддерживает состояние сеанса ASP.NET, так как Включение состояния сеанса нарушит дуплексного обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-301">SignalR does not support the ASP.NET session state, since enabling the session state would break duplex messaging.</span></span>

### <a name="no-suitable-method-to-override"></a><span data-ttu-id="cb5b8-302">Нет метод, пригодный для переопределения</span><span class="sxs-lookup"><span data-stu-id="cb5b8-302">No suitable method to override</span></span>

<span data-ttu-id="cb5b8-303">Эта ошибка может возникнуть при использовании кода из более старой документации и в блогах.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-303">You may see this error if you are using code from older documentation or blogs.</span></span> <span data-ttu-id="cb5b8-304">Убедитесь, что вы не ссылаются на имена методов, которые изменились или устарели (например `OnConnectedAsync`).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-304">Verify that you are not referencing names of methods that have been changed or deprecated (like `OnConnectedAsync`).</span></span>

### <a name="hostcontextextensionswebsocketserverurl-is-null"></a><span data-ttu-id="cb5b8-305">HostContextExtensions.WebSocketServerUrl имеет значение null</span><span class="sxs-lookup"><span data-stu-id="cb5b8-305">HostContextExtensions.WebSocketServerUrl is null</span></span>

<span data-ttu-id="cb5b8-306">Это сделано намеренно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-306">This behavior is by design.</span></span> <span data-ttu-id="cb5b8-307">Этот член является устаревшим и не должны использоваться.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-307">This member is deprecated and should not be used.</span></span>

### <a name="a-route-named-signalrhubs-is-already-in-the-route-collection-error"></a><span data-ttu-id="cb5b8-308">Ошибка «маршрут с именем «signalr.hubs» уже находится в коллекции маршрутов»</span><span class="sxs-lookup"><span data-stu-id="cb5b8-308">"A route named 'signalr.hubs' is already in the route collection" error</span></span>

<span data-ttu-id="cb5b8-309">Эта ошибка возникает, если `MapSignalR` вызывается дважды вашим приложением.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-309">This error will be seen if `MapSignalR` is called twice by your application.</span></span> <span data-ttu-id="cb5b8-310">Некоторые приложения вызывают пример `MapSignalR` непосредственно в классе Startup; другим пользователям в вызове в класс-оболочку.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-310">Some example applications call `MapSignalR` directly in the Startup class; others make the call in a wrapper class.</span></span> <span data-ttu-id="cb5b8-311">Убедитесь, что приложение не оба.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-311">Ensure that your application does not do both.</span></span>

### <a name="websocket-is-not-used"></a><span data-ttu-id="cb5b8-312">WebSocket не используется</span><span class="sxs-lookup"><span data-stu-id="cb5b8-312">WebSocket is not used</span></span>

<span data-ttu-id="cb5b8-313">Если вы убедились, что сервер и клиенты отвечают требованиям для WebSocket (перечисленных в [поддерживаемые платформы](../getting-started/supported-platforms.md) документа), вам потребуется включить WebSocket на сервере.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-313">If you have verified that your server and clients meet the requirements for WebSocket (listed in the [Supported Platforms](../getting-started/supported-platforms.md) document), you will need to enable WebSocket on your server.</span></span> <span data-ttu-id="cb5b8-314">Инструкции для этого можно найти [здесь](https://www.iis.net/learn/get-started/whats-new-in-iis-8/iis-80-websocket-protocol-support).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-314">Instructions for doing this can be found [here](https://www.iis.net/learn/get-started/whats-new-in-iis-8/iis-80-websocket-protocol-support).</span></span>

### <a name="connection-is-undefined"></a><span data-ttu-id="cb5b8-315">$.connection не определено</span><span class="sxs-lookup"><span data-stu-id="cb5b8-315">$.connection is undefined</span></span>

<span data-ttu-id="cb5b8-316">Эта ошибка указывает, что скрипты на странице не загружены правильно, или прокси-сервера концентратора недоступен или осуществляется неправильно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-316">This error indicates that either the scripts on a page are not being loaded properly, or the hub proxy is not reachable or is being accessed incorrectly.</span></span> <span data-ttu-id="cb5b8-317">Убедитесь, что ссылки на скрипты на странице соответствуют скрипты, загруженные в проекте и /signalr/hubs, которые может осуществляться в браузере, когда сервер работает.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-317">Verify that the script references on your page correspond to the scripts loaded in your project, and that /signalr/hubs can be accessed in a browser when the server is running.</span></span>

### <a name="one-or-more-types-required-to-compile-a-dynamic-expression-cannot-be-found"></a><span data-ttu-id="cb5b8-318">Не удается найти один или несколько типов, необходимых для компиляции динамического выражения</span><span class="sxs-lookup"><span data-stu-id="cb5b8-318">One or more types required to compile a dynamic expression cannot be found</span></span>

<span data-ttu-id="cb5b8-319">Эта ошибка указывает, что `Microsoft.CSharp` отсутствует библиотека.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-319">This error indicates that the `Microsoft.CSharp` library is missing.</span></span> <span data-ttu-id="cb5b8-320">Добавьте его в **сборок -&gt;Framework** вкладки.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-320">Add it in the **Assemblies-&gt;Framework** tab.</span></span>

### <a name="caller-state-cannot-be-accessed-from-clientscaller-in-visual-basic-or-in-a-strongly-typed-hub-conversion-from-type-taskof-object-to-type-string-is-not-valid-error"></a><span data-ttu-id="cb5b8-321">Состояние вызывающего объекта нельзя обращаться из Clients.Caller в Visual Basic или в строго типизированный центра; Ошибка «Недопустимое преобразование из типа «Task (Of Object)» в тип «String»»</span><span class="sxs-lookup"><span data-stu-id="cb5b8-321">Caller state cannot be accessed from Clients.Caller in Visual Basic or in a strongly typed hub; "Conversion from type 'Task(Of Object)' to type 'String' is not valid" error</span></span>

<span data-ttu-id="cb5b8-322">Чтобы получить состояние вызывающего объекта в Visual Basic или в строго типизированный концентратора, используйте `Clients.CallerState` (впервые представлено в SignalR 2.1) вместо свойства `Clients.Caller`.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-322">To access caller state in Visual Basic or in a strongly typed hub, use the `Clients.CallerState` property (introduced in SignalR 2.1) instead of `Clients.Caller`.</span></span>

<a id="vs"></a>

## <a name="visual-studio-issues"></a><span data-ttu-id="cb5b8-323">Проблемы в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="cb5b8-323">Visual Studio issues</span></span>

<span data-ttu-id="cb5b8-324">В этом разделе описываются проблемы, возникающие в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-324">This section describes issues encountered in Visual Studio.</span></span>

### <a name="script-documents-node-does-not-appear-in-solution-explorer"></a><span data-ttu-id="cb5b8-325">Сценарий узла "документы" не отображается в обозревателе решений</span><span class="sxs-lookup"><span data-stu-id="cb5b8-325">Script Documents node does not appear in Solution Explorer</span></span>

<span data-ttu-id="cb5b8-326">Некоторые из наших учебниках дать вам ссылки на узел «Документы скриптов» в обозревателе решений во время отладки.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-326">Some of our tutorials direct you to the "Script Documents" node in Solution Explorer while debugging.</span></span> <span data-ttu-id="cb5b8-327">Этот узел создается в отладчике JavaScript и отображается только при отладке клиентов браузера Internet Explorer; узел не будет отображаться, если используются Chrome или Firefox.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-327">This node is produced by the JavaScript debugger, and will only appear while debugging browser clients in Internet Explorer; the node will not appear if Chrome or Firefox are used.</span></span> <span data-ttu-id="cb5b8-328">Отладчик JavaScript также не запустится, если выполняется другой отладчик клиента, такие как отладчик Silverlight.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-328">The JavaScript debugger will also not run if another client debugger is running, such as the Silverlight debugger.</span></span>

### <a name="signalr-does-not-work-on-visual-studio-2008-or-earlier"></a><span data-ttu-id="cb5b8-329">SignalR не работает в Visual Studio 2008 или более ранней версии</span><span class="sxs-lookup"><span data-stu-id="cb5b8-329">SignalR does not work on Visual Studio 2008 or earlier</span></span>

<span data-ttu-id="cb5b8-330">Это сделано намеренно.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-330">This behavior is by design.</span></span> <span data-ttu-id="cb5b8-331">SignalR требуется платформа .NET Framework 4 или более поздней версии; для этого необходимо разрабатывать приложений SignalR в Visual Studio 2010 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-331">SignalR requires .NET Framework 4 or later; this requires that SignalR applications be developed in Visual Studio 2010 or later.</span></span> <span data-ttu-id="cb5b8-332">Серверный компонент служб SignalR требуется .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-332">The server component of SignalR requires .NET Framework 4.5.</span></span>

<a id="iis"></a>

## <a name="iis-issues"></a><span data-ttu-id="cb5b8-333">Проблемы с IIS</span><span class="sxs-lookup"><span data-stu-id="cb5b8-333">IIS issues</span></span>

<span data-ttu-id="cb5b8-334">Этот раздел содержит проблемы с Internet Information Services.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-334">This section contains issues with Internet Information Services.</span></span>

### <a name="signalr-works-on-visual-studio-development-server-but-not-in-iis"></a><span data-ttu-id="cb5b8-335">SignalR работает с Visual Studio development server, но не в службах IIS</span><span class="sxs-lookup"><span data-stu-id="cb5b8-335">SignalR works on Visual Studio development server, but not in IIS</span></span>

<span data-ttu-id="cb5b8-336">SignalR поддерживается в IIS 7.0 и 7.5, но поддержка URL-адреса без расширений приложения необходимо добавить.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-336">SignalR is supported on IIS 7.0 and 7.5, but support for extensionless URLs must be added.</span></span> <span data-ttu-id="cb5b8-337">Чтобы добавить поддержку без расширений URL-адресов, см. в разделе [https://support.microsoft.com/kb/980368](https://support.microsoft.com/kb/980368)</span><span class="sxs-lookup"><span data-stu-id="cb5b8-337">To add support for extensionless URLs, see [https://support.microsoft.com/kb/980368](https://support.microsoft.com/kb/980368)</span></span>

<span data-ttu-id="cb5b8-338">SignalR требует ASP.NET для установки на сервере (ASP.NET не установлена на сервере IIS по умолчанию).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-338">SignalR requires ASP.NET to be installed on the server (ASP.NET is not installed on IIS by default).</span></span> <span data-ttu-id="cb5b8-339">Чтобы установить ASP.NET, см. в разделе [загрузок ASP.NET](https://www.asp.net/downloads).</span><span class="sxs-lookup"><span data-stu-id="cb5b8-339">To install ASP.NET, see [ASP.NET Downloads](https://www.asp.net/downloads).</span></span>

<a id="azure"></a>

## <a name="microsoft-azure-issues"></a><span data-ttu-id="cb5b8-340">Проблемы с Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="cb5b8-340">Microsoft Azure issues</span></span>

<span data-ttu-id="cb5b8-341">Этот раздел содержит проблемы с Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-341">This section contains issues with Microsoft Azure.</span></span>

### <a name="fileloadexception-when-hosting-signalr-in-an-azure-worker-role"></a><span data-ttu-id="cb5b8-342">FileLoadException при размещении SignalR в рабочей роли Azure</span><span class="sxs-lookup"><span data-stu-id="cb5b8-342">FileLoadException when hosting SignalR in an Azure Worker Role</span></span>

<span data-ttu-id="cb5b8-343">Размещение SignalR в рабочей роли Azure может привести к исключение «не удалось загрузить файл или сборку "Microsoft.Owin, Version = 2.0.0.0».</span><span class="sxs-lookup"><span data-stu-id="cb5b8-343">Hosting SignalR in an Azure Worker Role might result in the exception "Could not load file or assembly 'Microsoft.Owin, Version=2.0.0.0".</span></span> <span data-ttu-id="cb5b8-344">Это известная проблема с помощью NuGet; Перенаправление привязки не добавляются автоматически в проектах рабочей роли Azure.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-344">This is a known issue with NuGet; Binding redirects are not added automatically in Azure Worker Role projects.</span></span> <span data-ttu-id="cb5b8-345">Чтобы устранить эту проблему, можно вручную добавить переадресации привязок.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-345">To fix this, you can add the binding redirects manually.</span></span> <span data-ttu-id="cb5b8-346">Добавьте следующие строки `app.config` файл проекта рабочей роли.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-346">Add the following lines to the `app.config` file for your Worker Role project.</span></span>

[!code-xml[Main](troubleshooting/samples/sample15.xml)]

### <a name="messages-are-not-received-through-the-azure-backplane-after-altering-topic-names"></a><span data-ttu-id="cb5b8-347">Сообщения не принимаются через Azure задней панели после изменения имена разделов</span><span class="sxs-lookup"><span data-stu-id="cb5b8-347">Messages are not received through the Azure backplane after altering topic names</span></span>

<span data-ttu-id="cb5b8-348">Разделы, используемые Azure объединительной платы хранятся в системе; они не предназначены для настройки пользователя.</span><span class="sxs-lookup"><span data-stu-id="cb5b8-348">The topics used by the Azure backplane are maintained internally; they are not intended to be user-configurable.</span></span>
