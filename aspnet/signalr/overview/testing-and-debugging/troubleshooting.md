---
uid: signalr/overview/testing-and-debugging/troubleshooting
title: Устранение неполадок SignalR | Документация Майкрософт
author: bradygaster
description: В этой статье описаны распространенные проблемы при разработке приложений SignalR.
ms.author: bradyg
ms.date: 06/10/2014
ms.assetid: 4b559e6c-4fb0-4a04-9812-45cf08ae5779
msc.legacyurl: /signalr/overview/testing-and-debugging/troubleshooting
msc.type: authoredcontent
ms.openlocfilehash: bcd273d839aed64ad2712eb503dd1942a2d4e355
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78467436"
---
# <a name="signalr-troubleshooting"></a><span data-ttu-id="ca761-103">Устранение неполадок SignalR</span><span class="sxs-lookup"><span data-stu-id="ca761-103">SignalR Troubleshooting</span></span>

<span data-ttu-id="ca761-104">по [Патрик Флетчера](https://github.com/pfletcher)</span><span class="sxs-lookup"><span data-stu-id="ca761-104">by [Patrick Fletcher](https://github.com/pfletcher)</span></span>

[!INCLUDE [Consider ASP.NET Core SignalR](~/includes/signalr/signalr-version-disambiguation.md)]

> <span data-ttu-id="ca761-105">В этом документе описаны распространенные проблемы, возникающие при устранении неполадок с SignalR.</span><span class="sxs-lookup"><span data-stu-id="ca761-105">This document describes common troubleshooting issues with SignalR.</span></span>
>
> ## <a name="software-versions-used-in-this-topic"></a><span data-ttu-id="ca761-106">Версии программного обеспечения, используемые в этом разделе</span><span class="sxs-lookup"><span data-stu-id="ca761-106">Software versions used in this topic</span></span>
>
>
> - [<span data-ttu-id="ca761-107">Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="ca761-107">Visual Studio 2013</span></span>](https://my.visualstudio.com/Downloads?q=visual%20studio%202013)
> - <span data-ttu-id="ca761-108">.NET 4.5</span><span class="sxs-lookup"><span data-stu-id="ca761-108">.NET 4.5</span></span>
> - <span data-ttu-id="ca761-109">SignalR версии 2</span><span class="sxs-lookup"><span data-stu-id="ca761-109">SignalR version 2</span></span>
>
>
>
> ## <a name="previous-versions-of-this-topic"></a><span data-ttu-id="ca761-110">Предыдущие версии этого раздела</span><span class="sxs-lookup"><span data-stu-id="ca761-110">Previous versions of this topic</span></span>
>
> <span data-ttu-id="ca761-111">Сведения о более ранних версиях SignalR см. в статье о [старых версиях](../older-versions/index.md)SignalR.</span><span class="sxs-lookup"><span data-stu-id="ca761-111">For information about earlier versions of SignalR, see [SignalR Older Versions](../older-versions/index.md).</span></span>
>
> ## <a name="questions-and-comments"></a><span data-ttu-id="ca761-112">Вопросы и комментарии</span><span class="sxs-lookup"><span data-stu-id="ca761-112">Questions and comments</span></span>
>
> <span data-ttu-id="ca761-113">Оставьте отзыв о том, как вы понравится вам в этом учебнике, и что можно улучшить в комментариях в нижней части страницы.</span><span class="sxs-lookup"><span data-stu-id="ca761-113">Please leave feedback on how you liked this tutorial and what we could improve in the comments at the bottom of the page.</span></span> <span data-ttu-id="ca761-114">Если у вас есть вопросы, не связанные непосредственно с этим руководством, их можно опубликовать на [форуме ASP.NET SignalR](https://forums.asp.net/1254.aspx/1?ASP+NET+SignalR) или [StackOverflow.com](http://stackoverflow.com/).</span><span class="sxs-lookup"><span data-stu-id="ca761-114">If you have questions that are not directly related to the tutorial, you can post them to the [ASP.NET SignalR forum](https://forums.asp.net/1254.aspx/1?ASP+NET+SignalR) or [StackOverflow.com](http://stackoverflow.com/).</span></span>

<span data-ttu-id="ca761-115">Этот документ содержит следующие разделы.</span><span class="sxs-lookup"><span data-stu-id="ca761-115">This document contains the following sections.</span></span>

- [<span data-ttu-id="ca761-116">Неудачный вызов методов между клиентом и сервером</span><span class="sxs-lookup"><span data-stu-id="ca761-116">Calling methods between the client and server silently fails</span></span>](#connection)
- [<span data-ttu-id="ca761-117">Настройка соединений IIS для проверки связи и подключения к удаленному клиенту</span><span class="sxs-lookup"><span data-stu-id="ca761-117">Configuring IIS websockets to ping/pong to detect a dead client</span></span>](#pong)
- [<span data-ttu-id="ca761-118">Другие проблемы с подключением</span><span class="sxs-lookup"><span data-stu-id="ca761-118">Other connection issues</span></span>](#other)
- [<span data-ttu-id="ca761-119">Ошибки компиляции и на стороне сервера</span><span class="sxs-lookup"><span data-stu-id="ca761-119">Compilation and server-side errors</span></span>](#server)
- [<span data-ttu-id="ca761-120">Проблемы Visual Studio</span><span class="sxs-lookup"><span data-stu-id="ca761-120">Visual Studio issues</span></span>](#vs)
- [<span data-ttu-id="ca761-121">Проблемы службы IIS</span><span class="sxs-lookup"><span data-stu-id="ca761-121">Internet Information Services issues</span></span>](#iis)
- [<span data-ttu-id="ca761-122">Проблемы Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="ca761-122">Microsoft Azure issues</span></span>](#azure)

<a id="connection"></a>

## <a name="calling-methods-between-the-client-and-server-silently-fails"></a><span data-ttu-id="ca761-123">Неудачный вызов методов между клиентом и сервером</span><span class="sxs-lookup"><span data-stu-id="ca761-123">Calling methods between the client and server silently fails</span></span>

<span data-ttu-id="ca761-124">В этом разделе описываются возможные причины сбоя вызова метода между клиентом и сервером без осмысленного сообщения об ошибке.</span><span class="sxs-lookup"><span data-stu-id="ca761-124">This section describes possible causes for a method call between client and server to fail without a meaningful error message.</span></span> <span data-ttu-id="ca761-125">В приложении SignalR сервер не имеет сведений о методах, реализуемых клиентом. Когда сервер вызывает клиентский метод, имя метода и данные параметра отправляются клиенту, а метод выполняется только в том случае, если он существует в формате, указанном сервером.</span><span class="sxs-lookup"><span data-stu-id="ca761-125">In a SignalR application, the server has no information about the methods that the client implements; when the server invokes a client method, the method name and parameter data are sent to the client, and the method is executed only if it exists in the format that the server specified.</span></span> <span data-ttu-id="ca761-126">Если на клиенте не найден соответствующий метод, ничего не происходит, и на сервере не выдается сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="ca761-126">If no matching method is found on the client, nothing happens, and no error message is raised on the server.</span></span>

<span data-ttu-id="ca761-127">Для дальнейшего изучения клиентских методов, которые не вызываются, можно включить ведение журнала перед вызовом метода Start в концентраторе, чтобы узнать, какие вызовы поступают от сервера.</span><span class="sxs-lookup"><span data-stu-id="ca761-127">To further investigate client methods not getting called, you can turn on logging before the calling the start method on the hub to see what calls are coming from the server.</span></span> <span data-ttu-id="ca761-128">Сведения о включении ведения журнала в приложении JavaScript см. [в разделе Включение ведения журнала на стороне клиента (версия клиента JavaScript)](../guide-to-the-api/hubs-api-guide-javascript-client.md#logging).</span><span class="sxs-lookup"><span data-stu-id="ca761-128">To enable logging in a JavaScript application, see [How to enable client-side logging (JavaScript client version)](../guide-to-the-api/hubs-api-guide-javascript-client.md#logging).</span></span> <span data-ttu-id="ca761-129">Сведения о включении ведения журнала в клиентском приложении .NET см. [в разделе Включение ведения журнала на стороне клиента (версия клиента .NET)](../guide-to-the-api/hubs-api-guide-net-client.md#logging).</span><span class="sxs-lookup"><span data-stu-id="ca761-129">To enable logging in a .NET client application, see [How to enable client-side logging (.NET Client version)](../guide-to-the-api/hubs-api-guide-net-client.md#logging).</span></span>

### <a name="misspelled-method-incorrect-method-signature-or-incorrect-hub-name"></a><span data-ttu-id="ca761-130">Неправильно написанный метод, неверная сигнатура метода или неправильное имя концентратора</span><span class="sxs-lookup"><span data-stu-id="ca761-130">Misspelled method, incorrect method signature, or incorrect hub name</span></span>

<span data-ttu-id="ca761-131">Если имя или сигнатура вызываемого метода не полностью соответствует соответствующему методу на клиенте, вызов завершится ошибкой.</span><span class="sxs-lookup"><span data-stu-id="ca761-131">If the name or signature of a called method does not exactly match an appropriate method on the client, the call will fail.</span></span> <span data-ttu-id="ca761-132">Убедитесь, что имя метода, вызываемое сервером, совпадает с именем метода на клиенте.</span><span class="sxs-lookup"><span data-stu-id="ca761-132">Verify that the method name called by the server matches the name of the method on the client.</span></span> <span data-ttu-id="ca761-133">Кроме того, SignalR создает прокси-сервер концентратора с помощью методов в стиле Camel, как подходит для JavaScript, поэтому метод с именем `SendMessage` на сервере будет вызываться `sendMessage` в прокси клиента.</span><span class="sxs-lookup"><span data-stu-id="ca761-133">Also, SignalR creates the hub proxy using camel-cased methods, as is appropriate in JavaScript, so a method called `SendMessage` on the server would be called `sendMessage` in the client proxy.</span></span> <span data-ttu-id="ca761-134">Если вы используете атрибут `HubName` в коде на стороне сервера, убедитесь, что используемое имя соответствует имени, используемому для создания концентратора на клиенте.</span><span class="sxs-lookup"><span data-stu-id="ca761-134">If you use the `HubName` attribute in your server-side code, verify that the name used matches the name used to create the hub on the client.</span></span> <span data-ttu-id="ca761-135">Если атрибут `HubName` не используется, убедитесь, что имя центра в клиенте JavaScript имеет стиль Camel, например Часуб вместо Часуб.</span><span class="sxs-lookup"><span data-stu-id="ca761-135">If you do not use the `HubName` attribute, verify that the name of the hub in a JavaScript client is camel-cased, such as chatHub instead of ChatHub.</span></span>

### <a name="duplicate-method-name-on-client"></a><span data-ttu-id="ca761-136">Повторяющееся имя метода в клиенте</span><span class="sxs-lookup"><span data-stu-id="ca761-136">Duplicate method name on client</span></span>

<span data-ttu-id="ca761-137">Убедитесь, что на клиенте отсутствует дублирующий метод, отличающийся только регистром.</span><span class="sxs-lookup"><span data-stu-id="ca761-137">Verify that you do not have a duplicate method on the client that differs only by case.</span></span> <span data-ttu-id="ca761-138">Если у клиентского приложения есть метод, именуемый `sendMessage`, убедитесь, что также не существует и метод, именуемый `SendMessage`.</span><span class="sxs-lookup"><span data-stu-id="ca761-138">If your client application has a method called `sendMessage`, verify that there isn't also a method called `SendMessage` as well.</span></span>

### <a name="missing-json-parser-on-the-client"></a><span data-ttu-id="ca761-139">Отсутствует средство синтаксического анализа JSON на клиенте</span><span class="sxs-lookup"><span data-stu-id="ca761-139">Missing JSON parser on the client</span></span>

<span data-ttu-id="ca761-140">SignalR требует наличия средства синтаксического анализа JSON для сериализации вызовов между сервером и клиентом.</span><span class="sxs-lookup"><span data-stu-id="ca761-140">SignalR requires a JSON parser to be present to serialize calls between the server and the client.</span></span> <span data-ttu-id="ca761-141">Если у клиента нет встроенного средства синтаксического анализа JSON (например, Internet Explorer 7), необходимо включить его в приложение.</span><span class="sxs-lookup"><span data-stu-id="ca761-141">If your client doesn't have a built-in JSON parser (such as Internet Explorer 7), you'll need to include one in your application.</span></span> <span data-ttu-id="ca761-142">Вы можете скачать средство синтаксического анализа JSON [здесь](http://nuget.org/packages/json2).</span><span class="sxs-lookup"><span data-stu-id="ca761-142">You can download the JSON parser [here](http://nuget.org/packages/json2).</span></span>

### <a name="mixing-hub-and-persistentconnection-syntax"></a><span data-ttu-id="ca761-143">Сочетание синтаксиса HUB и Персистентконнектион</span><span class="sxs-lookup"><span data-stu-id="ca761-143">Mixing Hub and PersistentConnection syntax</span></span>

<span data-ttu-id="ca761-144">SignalR использует две модели взаимодействия: центры и Персистентконнектионс.</span><span class="sxs-lookup"><span data-stu-id="ca761-144">SignalR uses two communication models: Hubs and PersistentConnections.</span></span> <span data-ttu-id="ca761-145">Синтаксис вызова этих двух моделей взаимодействия отличается в коде клиента.</span><span class="sxs-lookup"><span data-stu-id="ca761-145">The syntax for calling these two communication models is different in the client code.</span></span> <span data-ttu-id="ca761-146">Если вы добавили центр в код сервера, убедитесь, что весь клиентский код использует правильный синтаксис концентратора.</span><span class="sxs-lookup"><span data-stu-id="ca761-146">If you have added a hub in your server code, verify that all of your client code uses the proper hub syntax.</span></span>

<span data-ttu-id="ca761-147">**Клиентский код JavaScript, создающий Персистентконнектион в клиенте JavaScript**</span><span class="sxs-lookup"><span data-stu-id="ca761-147">**JavaScript client code that creates a PersistentConnection in a JavaScript client**</span></span>

[!code-javascript[Main](troubleshooting/samples/sample1.js)]

<span data-ttu-id="ca761-148">**Клиентский код JavaScript, создающий прокси-сервер концентратора в клиенте JavaScript**</span><span class="sxs-lookup"><span data-stu-id="ca761-148">**JavaScript client code that creates a Hub Proxy in a Javascript client**</span></span>

[!code-javascript[Main](troubleshooting/samples/sample2.js)]

<span data-ttu-id="ca761-149">**C#Серверный код, сопоставляющий маршрут с Персистентконнектион**</span><span class="sxs-lookup"><span data-stu-id="ca761-149">**C# server code that maps a route to a PersistentConnection**</span></span>

[!code-csharp[Main](troubleshooting/samples/sample3.cs)]

<span data-ttu-id="ca761-150">**C#Серверный код, который сопоставляет маршрут с концентратором или с несколькими концентраторами при наличии нескольких приложений**</span><span class="sxs-lookup"><span data-stu-id="ca761-150">**C# server code that maps a route to a Hub, or to multiple hubs if you have multiple applications**</span></span>

[!code-css[Main](troubleshooting/samples/sample4.css)]

### <a name="connection-started-before-subscriptions-are-added"></a><span data-ttu-id="ca761-151">Подключение запущено до добавления подписок</span><span class="sxs-lookup"><span data-stu-id="ca761-151">Connection started before subscriptions are added</span></span>

<span data-ttu-id="ca761-152">Если подключение концентратора запущено до того, как методы, которые могут быть вызваны с сервера, добавляются к прокси-серверу, сообщения не будут приниматься.</span><span class="sxs-lookup"><span data-stu-id="ca761-152">If the Hub's connection is started before methods that can be called from the server are added to the proxy, messages will not be received.</span></span> <span data-ttu-id="ca761-153">Следующий код JavaScript не запустит концентратор должным образом:</span><span class="sxs-lookup"><span data-stu-id="ca761-153">The following JavaScript code will not start the hub properly:</span></span>

<span data-ttu-id="ca761-154">**Неверный код клиента JavaScript, который не позволит получать сообщения концентратора**</span><span class="sxs-lookup"><span data-stu-id="ca761-154">**Incorrect JavaScript client code that will not allow Hubs messages to be received**</span></span>

[!code-javascript[Main](troubleshooting/samples/sample5.js)]

<span data-ttu-id="ca761-155">Вместо этого добавьте подписки метода перед вызовом Start:</span><span class="sxs-lookup"><span data-stu-id="ca761-155">Instead, add the method subscriptions before calling Start:</span></span>

<span data-ttu-id="ca761-156">**Клиентский код JavaScript, который правильно добавляет подписки в центр**</span><span class="sxs-lookup"><span data-stu-id="ca761-156">**JavaScript client code that correctly adds subscriptions to a hub**</span></span>

[!code-javascript[Main](troubleshooting/samples/sample6.js)]

### <a name="missing-method-name-on-the-hub-proxy"></a><span data-ttu-id="ca761-157">Отсутствует имя метода на прокси-сервере концентратора</span><span class="sxs-lookup"><span data-stu-id="ca761-157">Missing method name on the hub proxy</span></span>

<span data-ttu-id="ca761-158">Убедитесь, что метод, определенный на сервере, подписан на клиент.</span><span class="sxs-lookup"><span data-stu-id="ca761-158">Verify that the method defined on the server is subscribed to on the client.</span></span> <span data-ttu-id="ca761-159">Несмотря на то, что сервер определяет метод, он по-прежнему должен быть добавлен к прокси клиента.</span><span class="sxs-lookup"><span data-stu-id="ca761-159">Even though the server defines the method, it must still be added to the client proxy.</span></span> <span data-ttu-id="ca761-160">Методы можно добавить в клиентский прокси следующими способами (Обратите внимание, что метод добавляется к `client` члену концентратора, а не концентратору напрямую):</span><span class="sxs-lookup"><span data-stu-id="ca761-160">Methods can be added to the client proxy in the following ways (Note that the method is added to the `client` member of the hub, not the hub directly):</span></span>

<span data-ttu-id="ca761-161">**Клиентский код JavaScript, добавляющий методы к прокси-серверу концентратора**</span><span class="sxs-lookup"><span data-stu-id="ca761-161">**JavaScript client code that adds methods to a hub proxy**</span></span>

[!code-javascript[Main](troubleshooting/samples/sample7.js)]

### <a name="hub-or-hub-methods-not-declared-as-public"></a><span data-ttu-id="ca761-162">Методы концентратора или концентратора, не объявленные как открытые</span><span class="sxs-lookup"><span data-stu-id="ca761-162">Hub or hub methods not declared as Public</span></span>

<span data-ttu-id="ca761-163">Чтобы быть видимыми на клиенте, реализация и методы концентратора должны быть объявлены как `public`.</span><span class="sxs-lookup"><span data-stu-id="ca761-163">To be visible on the client, the hub implementation and methods must be declared as `public`.</span></span>

### <a name="accessing-hub-from-a-different-application"></a><span data-ttu-id="ca761-164">Доступ к концентратору из другого приложения</span><span class="sxs-lookup"><span data-stu-id="ca761-164">Accessing hub from a different application</span></span>

<span data-ttu-id="ca761-165">Доступ к концентраторам SignalR можно получить только через приложения, которые реализуют клиентов SignalR.</span><span class="sxs-lookup"><span data-stu-id="ca761-165">SignalR Hubs can only be accessed through applications that implement SignalR clients.</span></span> <span data-ttu-id="ca761-166">SignalR не может взаимодействовать с другими библиотеками связи (например, с веб-службами SOAP или WCF). Если для целевой платформы не доступен клиент SignalR, доступ к конечной точке сервера напрямую невозможен.</span><span class="sxs-lookup"><span data-stu-id="ca761-166">SignalR cannot interoperate with other communication libraries (like SOAP or WCF web services.) If there is no SignalR client available for your target platform, you cannot access the server's endpoint directly.</span></span>

### <a name="manually-serializing-data"></a><span data-ttu-id="ca761-167">Сериализация данных вручную</span><span class="sxs-lookup"><span data-stu-id="ca761-167">Manually serializing data</span></span>

<span data-ttu-id="ca761-168">SignalR будет автоматически использовать JSON для сериализации параметров метода. нет необходимости делать это самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="ca761-168">SignalR will automatically use JSON to serialize your method parameters- there's no need to do it yourself.</span></span>

### <a name="remote-hub-method-not-executed-on-client-in-ondisconnected-function"></a><span data-ttu-id="ca761-169">Удаленный метод концентратора не выполняется на клиенте в функции ondisconnectа</span><span class="sxs-lookup"><span data-stu-id="ca761-169">Remote Hub method not executed on client in OnDisconnected function</span></span>

<span data-ttu-id="ca761-170">В этом весь замысел.</span><span class="sxs-lookup"><span data-stu-id="ca761-170">This behavior is by design.</span></span> <span data-ttu-id="ca761-171">При вызове `OnDisconnected` концентратор уже вошел в состояние `Disconnected`, что не позволяет вызывать другие методы концентратора.</span><span class="sxs-lookup"><span data-stu-id="ca761-171">When `OnDisconnected` is called, the hub has already entered the `Disconnected` state, which does not allow further hub methods to be called.</span></span>

<span data-ttu-id="ca761-172">**C#Серверный код, который правильно выполняет код в событии ondisconnectо**</span><span class="sxs-lookup"><span data-stu-id="ca761-172">**C# server code that correctly executes code in the OnDisconnected event**</span></span>

[!code-csharp[Main](troubleshooting/samples/sample8.cs)]

### <a name="ondisconnect-not-firing-at-consistent-times"></a><span data-ttu-id="ca761-173">Ondisconnectие не обрабатывалось в постоянном времени</span><span class="sxs-lookup"><span data-stu-id="ca761-173">OnDisconnect not firing at consistent times</span></span>

<span data-ttu-id="ca761-174">В этом весь замысел.</span><span class="sxs-lookup"><span data-stu-id="ca761-174">This behavior is by design.</span></span> <span data-ttu-id="ca761-175">Когда пользователь пытается перейти с страницы с активным подключением SignalR, клиент SignalR будет пытаться уведомить сервер о том, что клиентское подключение будет остановлено.</span><span class="sxs-lookup"><span data-stu-id="ca761-175">When a user attempts to navigate away from a page with an active SignalR connection, the SignalR client will then make a best-effort attempt to notify the server that the client connection will be stopped.</span></span> <span data-ttu-id="ca761-176">Если неудачная попытка подключения клиента SignalR к серверу не удалась, сервер удаляет подключение после настраиваемого `DisconnectTimeout` позже, когда будет срабатывать событие `OnDisconnected`.</span><span class="sxs-lookup"><span data-stu-id="ca761-176">If the SignalR client's best-effort attempt fails to reach the server, the server will dispose of the connection after a configurable `DisconnectTimeout` later, at which time the `OnDisconnected` event will fire.</span></span> <span data-ttu-id="ca761-177">Если попробная работа клиента SignalR завершается успешно, событие `OnDisconnected` будет срабатывать немедленно.</span><span class="sxs-lookup"><span data-stu-id="ca761-177">If the SignalR client's best-effort attempt is successful, the `OnDisconnected` event will fire immediately.</span></span>

<span data-ttu-id="ca761-178">Сведения о настройке параметра `DisconnectTimeout` см. в разделе [Обработка событий времени жизни подключения: дисконнекттимеаут](../guide-to-the-api/handling-connection-lifetime-events.md#disconnecttimeout).</span><span class="sxs-lookup"><span data-stu-id="ca761-178">For information on setting the `DisconnectTimeout` setting, see [Handling connection lifetime events: DisconnectTimeout](../guide-to-the-api/handling-connection-lifetime-events.md#disconnecttimeout).</span></span>

### <a name="connection-limit-reached"></a><span data-ttu-id="ca761-179">Достигнуто предельное число подключений</span><span class="sxs-lookup"><span data-stu-id="ca761-179">Connection limit reached</span></span>

<span data-ttu-id="ca761-180">При использовании полной версии IIS в клиентской операционной системе, например Windows 7, ограничение на 10 подключений накладывается.</span><span class="sxs-lookup"><span data-stu-id="ca761-180">When using the full version of IIS on a client operating system like Windows 7, a 10-connection limit is imposed.</span></span> <span data-ttu-id="ca761-181">При использовании клиентской ОС используйте IIS Express, чтобы избежать этого ограничения.</span><span class="sxs-lookup"><span data-stu-id="ca761-181">When using a client OS, use IIS Express instead to avoid this limit.</span></span>

### <a name="cross-domain-connection-not-set-up-properly"></a><span data-ttu-id="ca761-182">Подключение между доменами настроено неправильно</span><span class="sxs-lookup"><span data-stu-id="ca761-182">Cross-domain connection not set up properly</span></span>

<span data-ttu-id="ca761-183">Если междоменное подключение (подключение, для которого URL-адрес SignalR находится не в том же домене, что и страница размещения), настроено неправильно, подключение может завершиться ошибкой без сообщения об ошибке.</span><span class="sxs-lookup"><span data-stu-id="ca761-183">If a cross-domain connection (a connection for which the SignalR URL is not in the same domain as the hosting page) is not set up correctly, the connection may fail without an error message.</span></span> <span data-ttu-id="ca761-184">Сведения о том, как включить междоменное взаимодействие, см. в разделе [как установить междоменное подключение](../guide-to-the-api/hubs-api-guide-javascript-client.md#crossdomain).</span><span class="sxs-lookup"><span data-stu-id="ca761-184">For information on how to enable cross-domain communication, see [How to establish a cross-domain connection](../guide-to-the-api/hubs-api-guide-javascript-client.md#crossdomain).</span></span>

### <a name="connection-using-ntlm-active-directory-not-working-in-net-client"></a><span data-ttu-id="ca761-185">Подключение с использованием NTLM (Active Directory) не работает в клиенте .NET</span><span class="sxs-lookup"><span data-stu-id="ca761-185">Connection using NTLM (Active Directory) not working in .NET client</span></span>

<span data-ttu-id="ca761-186">Подключение в клиентском приложении .NET, использующем безопасность домена, может завершиться ошибкой, если подключение настроено неправильно.</span><span class="sxs-lookup"><span data-stu-id="ca761-186">A connection in a .NET client application that uses Domain security may fail if the connection is not configured properly.</span></span> <span data-ttu-id="ca761-187">Чтобы использовать SignalR в доменной среде, установите свойство "Обязательное подключение" следующим образом:</span><span class="sxs-lookup"><span data-stu-id="ca761-187">To use SignalR in a domain environment, set the requisite connection property as follows:</span></span>

<span data-ttu-id="ca761-188">**C#клиентский код, который реализует учетные данные подключения**</span><span class="sxs-lookup"><span data-stu-id="ca761-188">**C# client code that implements connection credentials**</span></span>

[!code-csharp[Main](troubleshooting/samples/sample9.cs)]

<a id="pong"></a>

## <a name="configuring-iis-websockets-to-pingpong-to-detect-a-dead-client"></a><span data-ttu-id="ca761-189">Настройка соединений IIS для проверки связи и подключения к удаленному клиенту</span><span class="sxs-lookup"><span data-stu-id="ca761-189">Configuring IIS websockets to ping/pong to detect a dead client</span></span>

<span data-ttu-id="ca761-190">Серверы SignalR не имеют сведений о том, не существует ли клиент, и используют уведомление от базового WebSocket для сбоев соединения, то есть `OnClose`ого обратного вызова.</span><span class="sxs-lookup"><span data-stu-id="ca761-190">SignalR servers don't know if the client is dead or not and they rely on notification from the underlying websocket for connection failures, that is, the `OnClose` callback.</span></span> <span data-ttu-id="ca761-191">Одним из решений этой проблемы является настройка WebSockets для служб IIS.</span><span class="sxs-lookup"><span data-stu-id="ca761-191">One solution to this problem is to configure IIS websockets to do the ping/pong for you.</span></span> <span data-ttu-id="ca761-192">Это гарантирует, что подключение будет закрыто в случае непредвиденного прерывания.</span><span class="sxs-lookup"><span data-stu-id="ca761-192">This ensures that your connection will close if it breaks unexpectedly.</span></span> <span data-ttu-id="ca761-193">Дополнительные сведения см. в [этой записи StackOverflow](http://stackoverflow.com/questions/19502755/websocket-clients-state-not-changing-on-network-loss).</span><span class="sxs-lookup"><span data-stu-id="ca761-193">For more information see [this stackoverflow post](http://stackoverflow.com/questions/19502755/websocket-clients-state-not-changing-on-network-loss).</span></span>

<a id="other"></a>

## <a name="other-connection-issues"></a><span data-ttu-id="ca761-194">Другие проблемы с подключением</span><span class="sxs-lookup"><span data-stu-id="ca761-194">Other connection issues</span></span>

<span data-ttu-id="ca761-195">В этом разделе описываются причины и решения для конкретных симптомов или сообщений об ошибках, возникающих во время подключения.</span><span class="sxs-lookup"><span data-stu-id="ca761-195">This section describes the causes and solutions for specific symptoms or error messages that occur during a connection.</span></span>

### <a name="start-must-be-called-before-data-can-be-sent-error"></a><span data-ttu-id="ca761-196">Ошибка "начало должно быть вызвано до отправки данных"</span><span class="sxs-lookup"><span data-stu-id="ca761-196">"Start must be called before data can be sent" error</span></span>

<span data-ttu-id="ca761-197">Эта ошибка обычно возникает, если код ссылается на объекты SignalR перед запуском подключения.</span><span class="sxs-lookup"><span data-stu-id="ca761-197">This error is commonly seen if code references SignalR objects before the connection is started.</span></span> <span data-ttu-id="ca761-198">Виреуп для обработчиков и аналогичных методов, которые будут вызывать методы, определенные на сервере, необходимо добавить после завершения соединения.</span><span class="sxs-lookup"><span data-stu-id="ca761-198">The wireup for handlers and the like that will call methods defined on the server must be added after the connection completes.</span></span> <span data-ttu-id="ca761-199">Обратите внимание, что вызов `Start` является асинхронным, поэтому код после вызова может быть выполнен до завершения.</span><span class="sxs-lookup"><span data-stu-id="ca761-199">Note that the call to `Start` is asynchronous, so code after the call may be executed before it completes.</span></span> <span data-ttu-id="ca761-200">Лучший способ добавления обработчиков после полного запуска соединения — поместить их в функцию обратного вызова, которая передается в качестве параметра в метод Start:</span><span class="sxs-lookup"><span data-stu-id="ca761-200">The best way to add handlers after a connection starts completely is to put them into a callback function that is passed as a parameter to the start method:</span></span>

<span data-ttu-id="ca761-201">**Клиентский код JavaScript, который правильно добавляет обработчики событий, ссылающиеся на объекты SignalR**</span><span class="sxs-lookup"><span data-stu-id="ca761-201">**JavaScript client code that correctly adds event handlers that reference SignalR objects**</span></span>

[!code-javascript[Main](troubleshooting/samples/sample10.js?highlight=1)]

<span data-ttu-id="ca761-202">Эта ошибка также возникает, если соединение останавливается, пока на объекты SignalR все еще имеются ссылки.</span><span class="sxs-lookup"><span data-stu-id="ca761-202">This error will also be seen if a connection stops while SignalR objects are still being referenced.</span></span>

### <a name="301-moved-permanently-or-302-moved-temporarily-error"></a><span data-ttu-id="ca761-203">Ошибка "301 перемещено навсегда" или "302 временно перемещен"</span><span class="sxs-lookup"><span data-stu-id="ca761-203">"301 Moved Permanently" or "302 Moved Temporarily" error</span></span>

<span data-ttu-id="ca761-204">Эта ошибка может возникать, если проект содержит папку с именем SignalR, которая повлияет на автоматически созданный прокси-сервер.</span><span class="sxs-lookup"><span data-stu-id="ca761-204">This error may be seen if the project contains a folder called SignalR, which will interfere with the automatically-created proxy.</span></span> <span data-ttu-id="ca761-205">Чтобы избежать этой ошибки, не используйте в приложении папку с именем `SignalR` или отключите автоматическое создание прокси-сервера.</span><span class="sxs-lookup"><span data-stu-id="ca761-205">To avoid this error, do not use a folder called `SignalR` in your application, or turn automatic proxy generation off.</span></span> <span data-ttu-id="ca761-206">Для получения дополнительных сведений см. [созданный прокси-сервер и его назначение](../guide-to-the-api/hubs-api-guide-javascript-client.md#genproxy) .</span><span class="sxs-lookup"><span data-stu-id="ca761-206">See [The Generated Proxy and what it does for you](../guide-to-the-api/hubs-api-guide-javascript-client.md#genproxy) for more details.</span></span>

### <a name="403-forbidden-error-in-net-or-silverlight-client"></a><span data-ttu-id="ca761-207">Ошибка "403 запрещено" в клиенте .NET или Silverlight</span><span class="sxs-lookup"><span data-stu-id="ca761-207">"403 Forbidden" error in .NET or Silverlight client</span></span>

<span data-ttu-id="ca761-208">Эта ошибка может возникать в междоменных средах, где междоменное взаимодействие не включено должным образом.</span><span class="sxs-lookup"><span data-stu-id="ca761-208">This error may occur in cross-domain environments where cross-domain communication is not properly enabled.</span></span> <span data-ttu-id="ca761-209">Сведения о том, как включить междоменное взаимодействие, см. в разделе [как установить междоменное подключение](../guide-to-the-api/hubs-api-guide-javascript-client.md#crossdomain).</span><span class="sxs-lookup"><span data-stu-id="ca761-209">For information on how to enable cross-domain communication, see [How to establish a cross-domain connection](../guide-to-the-api/hubs-api-guide-javascript-client.md#crossdomain).</span></span> <span data-ttu-id="ca761-210">Сведения о подключении между доменами в клиенте Silverlight см. в разделе [междоменное подключение от клиентов Silverlight](../guide-to-the-api/hubs-api-guide-net-client.md#slcrossdomain).</span><span class="sxs-lookup"><span data-stu-id="ca761-210">To establish a cross-domain connection in a Silverlight client, see [Cross-domain connections from Silverlight clients](../guide-to-the-api/hubs-api-guide-net-client.md#slcrossdomain).</span></span>

### <a name="404-not-found-error"></a><span data-ttu-id="ca761-211">Ошибка "404 не найдено"</span><span class="sxs-lookup"><span data-stu-id="ca761-211">"404 Not Found" error</span></span>

<span data-ttu-id="ca761-212">Существует несколько причин возникновения этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="ca761-212">There are several causes for this issue.</span></span> <span data-ttu-id="ca761-213">Проверьте все следующие:</span><span class="sxs-lookup"><span data-stu-id="ca761-213">Verify all of the following:</span></span>

- <span data-ttu-id="ca761-214">**Ссылка на адрес прокси-сервера концентратора имеет неправильный формат:** Эта ошибка обычно возникает, если ссылка на созданный прокси-адрес концентратора имеет неправильный формат.</span><span class="sxs-lookup"><span data-stu-id="ca761-214">**Hub proxy address reference not formatted correctly:** This error is commonly seen if the reference to the generated hub proxy address is not formatted correctly.</span></span> <span data-ttu-id="ca761-215">Убедитесь, что ссылка на адрес концентратора выполнена правильно.</span><span class="sxs-lookup"><span data-stu-id="ca761-215">Verify that the reference to the hub address is made properly.</span></span> <span data-ttu-id="ca761-216">Дополнительные сведения см. [в статье как ссылаться на динамически создаваемый прокси-сервер](../guide-to-the-api/hubs-api-guide-javascript-client.md#dynamicproxy) .</span><span class="sxs-lookup"><span data-stu-id="ca761-216">See [How to reference the dynamically generated proxy](../guide-to-the-api/hubs-api-guide-javascript-client.md#dynamicproxy) for details.</span></span>
- <span data-ttu-id="ca761-217">**Добавление маршрутов в приложение перед добавлением маршрута концентратора:** Если приложение использует другие маршруты, убедитесь, что первый добавленный маршрут является вызовом `MapSignalR`.</span><span class="sxs-lookup"><span data-stu-id="ca761-217">**Adding routes to application before adding the hub route:** If your application uses other routes, verify that the first route added is the call to `MapSignalR`.</span></span>
- <span data-ttu-id="ca761-218">**Использование IIS 7 или 7,5 без обновления для URL-адресов, не поддерживающих расширение:** Для использования IIS 7 или 7,5 требуется обновление для URL-адресов, не имеющих расширения, чтобы сервер мог предоставлять доступ к определениям концентратора на `/signalr/hubs`.</span><span class="sxs-lookup"><span data-stu-id="ca761-218">**Using IIS 7 or 7.5 without the update for extensionless URLs:** Using IIS 7 or 7.5 requires an update for extensionless URLs so that the server can provide access to the hub definitions at `/signalr/hubs`.</span></span> <span data-ttu-id="ca761-219">Обновление можно найти [здесь](https://support.microsoft.com/kb/980368).</span><span class="sxs-lookup"><span data-stu-id="ca761-219">The update can be found [here](https://support.microsoft.com/kb/980368).</span></span>
- <span data-ttu-id="ca761-220">**Кэш IIS устарел или поврежден:** Чтобы убедиться, что содержимое кэша устарело, введите следующую команду в окне PowerShell, чтобы очистить кэш:</span><span class="sxs-lookup"><span data-stu-id="ca761-220">**IIS cache out of date or corrupt:** To verify that the cache contents are not out of date, enter the following command in a PowerShell window to clear the cache:</span></span>

    [!code-powershell[Main](troubleshooting/samples/sample11.ps1)]

### <a name="500-internal-server-error"></a><span data-ttu-id="ca761-221">"500 Внутренняя ошибка сервера"</span><span class="sxs-lookup"><span data-stu-id="ca761-221">"500 Internal Server Error"</span></span>

<span data-ttu-id="ca761-222">Это общая ошибка, которая может иметь множество различных причин.</span><span class="sxs-lookup"><span data-stu-id="ca761-222">This is a very generic error that could have a wide variety of causes.</span></span> <span data-ttu-id="ca761-223">Сведения об ошибке должны появиться в журнале событий сервера или можно найти с помощью отладки сервера.</span><span class="sxs-lookup"><span data-stu-id="ca761-223">The details of the error should appear in the server's event log, or can be found through debugging the server.</span></span> <span data-ttu-id="ca761-224">Подробные сведения об ошибке можно получить, включив подробные ошибки на сервере.</span><span class="sxs-lookup"><span data-stu-id="ca761-224">More detailed error information may be obtained by turning on detailed errors on the server.</span></span> <span data-ttu-id="ca761-225">Дополнительные сведения см. в разделе [как выполнять обработку ошибок в классе Hub](../guide-to-the-api/hubs-api-guide-server.md#handleErrors).</span><span class="sxs-lookup"><span data-stu-id="ca761-225">For more information, see [How to handle errors in the Hub class](../guide-to-the-api/hubs-api-guide-server.md#handleErrors).</span></span>

<span data-ttu-id="ca761-226">Эта ошибка также обычно возникает, если брандмауэр или прокси-сервер настроен неправильно, что приводит к перезаписи заголовков запроса.</span><span class="sxs-lookup"><span data-stu-id="ca761-226">This error is also commonly seen if a firewall or proxy is not configured properly, causing the request headers to be rewritten.</span></span> <span data-ttu-id="ca761-227">Решение заключается в том, чтобы на брандмауэре или прокси-сервере был включен порт 80.</span><span class="sxs-lookup"><span data-stu-id="ca761-227">The solution is to make sure that port 80 is enabled on the firewall or proxy.</span></span>

### <a name="unexpected-response-code-500"></a><span data-ttu-id="ca761-228">"Непредвиденный код ответа: 500"</span><span class="sxs-lookup"><span data-stu-id="ca761-228">"Unexpected response code: 500"</span></span>

<span data-ttu-id="ca761-229">Эта ошибка может возникать, если используемая в приложении версия .NET Framework не совпадает с версией, указанной в файле Web. config. Решение заключается в том, чтобы убедиться в том, что .NET 4,5 используется как в параметрах приложения, так и в файле Web. config.</span><span class="sxs-lookup"><span data-stu-id="ca761-229">This error may occur if the version of .NET framework used in the application does not match the version specified in Web.Config. The solution is to verify that .NET 4.5 is used in both the application settings and the Web.Config file.</span></span>

### <a name="typeerror-lthubtypegt-is-undefined-error"></a><span data-ttu-id="ca761-230">"Типиррор: &lt;Хубтипе&gt; не определена"</span><span class="sxs-lookup"><span data-stu-id="ca761-230">"TypeError: &lt;hubType&gt; is undefined" error</span></span>

<span data-ttu-id="ca761-231">Эта ошибка может возникнуть, если вызов `MapSignalR` не выполняется должным образом.</span><span class="sxs-lookup"><span data-stu-id="ca761-231">This error will result if the call to `MapSignalR` is not made properly.</span></span> <span data-ttu-id="ca761-232">Дополнительные сведения см. [в разделе Регистрация по промежуточного слоя SignalR и Настройка параметров SignalR](../guide-to-the-api/hubs-api-guide-server.md#route) .</span><span class="sxs-lookup"><span data-stu-id="ca761-232">See [How to register SignalR Middleware and configure SignalR options](../guide-to-the-api/hubs-api-guide-server.md#route) for more information.</span></span>

### <a name="jsonserializationexception-was-unhandled-by-user-code"></a><span data-ttu-id="ca761-233">JsonSerializationException не обработано пользовательским кодом</span><span class="sxs-lookup"><span data-stu-id="ca761-233">JsonSerializationException was unhandled by user code</span></span>

<span data-ttu-id="ca761-234">Убедитесь, что параметры, отправляемые в методы, не содержат несериализуемые типы (например, дескрипторы файлов или подключения к базам данных).</span><span class="sxs-lookup"><span data-stu-id="ca761-234">Verify that the parameters you send to your methods do not include non-serializable types (like file handles or database connections).</span></span> <span data-ttu-id="ca761-235">Если необходимо использовать элементы на серверном объекте, который не должен отправляться клиенту (для безопасности или по причине сериализации), используйте атрибут `JSONIgnore`.</span><span class="sxs-lookup"><span data-stu-id="ca761-235">If you need to use members on a server-side object that you don't want to be sent to the client (either for security or for reasons of serialization), use the `JSONIgnore` attribute.</span></span>

### <a name="protocol-error-unknown-transport-error"></a><span data-ttu-id="ca761-236">Ошибка "ошибка протокола: неизвестный транспорт"</span><span class="sxs-lookup"><span data-stu-id="ca761-236">"Protocol error: Unknown transport" error</span></span>

<span data-ttu-id="ca761-237">Эта ошибка может возникать, если клиент не поддерживает транспорты, используемые SignalR.</span><span class="sxs-lookup"><span data-stu-id="ca761-237">This error may occur if the client does not support the transports that SignalR uses.</span></span> <span data-ttu-id="ca761-238">Сведения о том, какие браузеры можно использовать с SignalR, см. в разделе [транспорты и резервные](../getting-started/introduction-to-signalr.md#transports) варианты.</span><span class="sxs-lookup"><span data-stu-id="ca761-238">See [Transports and Fallbacks](../getting-started/introduction-to-signalr.md#transports) for information on which browsers can be used with SignalR.</span></span>

### <a name="javascript-hub-proxy-generation-has-been-disabled"></a><span data-ttu-id="ca761-239">"Создание прокси-сервера для концентратора JavaScript отключено".</span><span class="sxs-lookup"><span data-stu-id="ca761-239">"JavaScript Hub proxy generation has been disabled."</span></span>

<span data-ttu-id="ca761-240">Эта ошибка возникает, если `DisableJavaScriptProxies` установлен, а также включает ссылку на динамически создаваемый прокси-сервер в `signalr/hubs`.</span><span class="sxs-lookup"><span data-stu-id="ca761-240">This error will occur if `DisableJavaScriptProxies` is set while also including a reference to the dynamically generated proxy at `signalr/hubs`.</span></span> <span data-ttu-id="ca761-241">Дополнительные сведения о создании прокси-сервера вручную см. [в разделе созданный прокси-сервер и его предназначение](../guide-to-the-api/hubs-api-guide-javascript-client.md#genproxy).</span><span class="sxs-lookup"><span data-stu-id="ca761-241">For more information on creating the proxy manually, see [The generated proxy and what it does for you](../guide-to-the-api/hubs-api-guide-javascript-client.md#genproxy).</span></span>

### <a name="the-connection-id-is-in-the-incorrect-format-or-the-user-identity-cannot-change-during-an-active-signalr-connection-error"></a><span data-ttu-id="ca761-242">"Идентификатор подключения имеет неправильный формат" или "не удается изменить удостоверение пользователя во время активного подключения SignalR"</span><span class="sxs-lookup"><span data-stu-id="ca761-242">"The connection ID is in the incorrect format" or "The user identity cannot change during an active SignalR connection" error</span></span>

<span data-ttu-id="ca761-243">Эта ошибка может возникнуть, если используется проверка подлинности и клиент выходит из систему до остановки подключения.</span><span class="sxs-lookup"><span data-stu-id="ca761-243">This error may be seen if authentication is being used, and the client is logged out before the connection is stopped.</span></span> <span data-ttu-id="ca761-244">Решение заключается в том, чтобы отключить подключение SignalR перед регистрацией клиента.</span><span class="sxs-lookup"><span data-stu-id="ca761-244">The solution is to stop the SignalR connection before logging the client out.</span></span>

### <a name="uncaught-error-signalr-jquery-not-found-please-ensure-jquery-is-referenced-before-the-signalrjs-file-error"></a><span data-ttu-id="ca761-245">"Неперехваченная ошибка: не найдена программа SignalR: jQuery.</span><span class="sxs-lookup"><span data-stu-id="ca761-245">"Uncaught Error: SignalR: jQuery not found.</span></span> <span data-ttu-id="ca761-246">Убедитесь, что указана jQuery перед файлом SignalR. js "ошибка".</span><span class="sxs-lookup"><span data-stu-id="ca761-246">Please ensure jQuery is referenced before the SignalR.js file" error</span></span>

<span data-ttu-id="ca761-247">Для запуска клиента SignalR JavaScript требуется jQuery.</span><span class="sxs-lookup"><span data-stu-id="ca761-247">The SignalR JavaScript client requires jQuery to run.</span></span> <span data-ttu-id="ca761-248">Убедитесь, что ссылка на jQuery правильна, что используемый путь допустим и ссылка на jQuery находится перед ссылкой на SignalR.</span><span class="sxs-lookup"><span data-stu-id="ca761-248">Verify that your reference to jQuery is correct, that the path used is valid, and that the reference to jQuery is before the reference to SignalR.</span></span>

### <a name="uncaught-typeerror-cannot-read-property-ltpropertygt-of-undefined-error"></a><span data-ttu-id="ca761-249">"Uncaughtные Типиррор: не удается прочитать свойство"&lt;свойства&gt;"для неопределенного" ошибки "</span><span class="sxs-lookup"><span data-stu-id="ca761-249">"Uncaught TypeError: Cannot read property '&lt;property&gt;' of undefined" error</span></span>

<span data-ttu-id="ca761-250">Эта ошибка возникает из-за отсутствия правильной ссылки jQuery или прокси концентраторов.</span><span class="sxs-lookup"><span data-stu-id="ca761-250">This error results from not having jQuery or the hubs proxy referenced properly.</span></span> <span data-ttu-id="ca761-251">Убедитесь, что ссылка на jQuery и прокси-сервер концентраторов правильна, что используемый путь допустим и ссылка на jQuery находится перед ссылкой на прокси-сервер концентраторов.</span><span class="sxs-lookup"><span data-stu-id="ca761-251">Verify that your reference to jQuery and the hubs proxy is correct, that the path used is valid, and that the reference to jQuery is before the reference to the hubs proxy.</span></span> <span data-ttu-id="ca761-252">Ссылка по умолчанию на прокси-сервер концентраторов должна выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="ca761-252">The default reference to the hubs proxy should look like the following:</span></span>

<span data-ttu-id="ca761-253">**Код на стороне клиента HTML, который правильно ссылается на прокси-сервер концентраторов**</span><span class="sxs-lookup"><span data-stu-id="ca761-253">**HTML client-side code that correctly references the Hubs proxy**</span></span>

[!code-html[Main](troubleshooting/samples/sample12.html)]

### <a name="runtimebinderexception-was-unhandled-by-user-code-error"></a><span data-ttu-id="ca761-254">Ошибка "RuntimeBinderException не обработана пользовательским кодом"</span><span class="sxs-lookup"><span data-stu-id="ca761-254">"RuntimeBinderException was unhandled by user code" error</span></span>

<span data-ttu-id="ca761-255">Эта ошибка может возникать, если используется неправильная перегрузка `Hub.On`.</span><span class="sxs-lookup"><span data-stu-id="ca761-255">This error may occur when the incorrect overload of `Hub.On` is used.</span></span> <span data-ttu-id="ca761-256">Если метод имеет возвращаемое значение, тип возвращаемого значения должен быть указан как параметр универсального типа:</span><span class="sxs-lookup"><span data-stu-id="ca761-256">If the method has a return value, the return type must be specified as a generic type parameter:</span></span>

<span data-ttu-id="ca761-257">**Метод, определенный на клиенте (без созданного прокси-сервера)**</span><span class="sxs-lookup"><span data-stu-id="ca761-257">**Method defined on the client (without generated proxy)**</span></span>

[!code-html[Main](troubleshooting/samples/sample13.html?highlight=1)]

### <a name="connection-id-is-inconsistent-or-connection-breaks-between-page-loads"></a><span data-ttu-id="ca761-258">Несогласованный идентификатор подключения или разрыв соединения между страницами</span><span class="sxs-lookup"><span data-stu-id="ca761-258">Connection ID is inconsistent or connection breaks between page loads</span></span>

<span data-ttu-id="ca761-259">В этом весь замысел.</span><span class="sxs-lookup"><span data-stu-id="ca761-259">This behavior is by design.</span></span> <span data-ttu-id="ca761-260">Так как объект концентратора размещается в объекте Page, концентратор уничтожается при обновлении страницы.</span><span class="sxs-lookup"><span data-stu-id="ca761-260">Since the hub object is hosted in the page object, the hub is destroyed when the page refreshes.</span></span> <span data-ttu-id="ca761-261">Многостраничное приложение должно поддерживать связь между пользователями и идентификаторами подключений, чтобы они были согласованы между загрузками страниц.</span><span class="sxs-lookup"><span data-stu-id="ca761-261">A multi-page application needs to maintain the association between users and connection IDs so that they will be consistent between page loads.</span></span> <span data-ttu-id="ca761-262">Идентификаторы соединения могут храниться на сервере либо в объекте `ConcurrentDictionary`, либо в базе данных.</span><span class="sxs-lookup"><span data-stu-id="ca761-262">The connection IDs can be stored on the server in either a `ConcurrentDictionary` object or a database.</span></span>

### <a name="value-cannot-be-null-error"></a><span data-ttu-id="ca761-263">Ошибка "значение не может быть null"</span><span class="sxs-lookup"><span data-stu-id="ca761-263">"Value cannot be null" error</span></span>

<span data-ttu-id="ca761-264">Методы на стороне сервера с необязательными параметрами в настоящее время не поддерживаются; Если необязательный параметр пропущен, метод завершится ошибкой.</span><span class="sxs-lookup"><span data-stu-id="ca761-264">Server-side methods with optional parameters are not currently supported; if the optional parameter is omitted, the method will fail.</span></span> <span data-ttu-id="ca761-265">Дополнительные сведения см. в разделе [необязательные параметры](https://github.com/SignalR/SignalR/issues/324).</span><span class="sxs-lookup"><span data-stu-id="ca761-265">For more information, see [Optional Parameters](https://github.com/SignalR/SignalR/issues/324).</span></span>

### <a name="firefox-cant-establish-a-connection-to-the-server-at-ltaddressgt-error-in-firebug"></a><span data-ttu-id="ca761-266">"Firefox не может установить соединение с сервером по адресу &lt;&gt;" ошибка в Firebug</span><span class="sxs-lookup"><span data-stu-id="ca761-266">"Firefox can't establish a connection to the server at &lt;address&gt;" error in Firebug</span></span>

<span data-ttu-id="ca761-267">Это сообщение об ошибке можно увидеть в Firebug, если согласование транспорта WebSocket завершается с ошибкой, а вместо этого используется другой транспорт.</span><span class="sxs-lookup"><span data-stu-id="ca761-267">This error message can be seen in Firebug if negotiation of the WebSocket transport fails and another transport is used instead.</span></span> <span data-ttu-id="ca761-268">В этом весь замысел.</span><span class="sxs-lookup"><span data-stu-id="ca761-268">This behavior is by design.</span></span>

### <a name="the-remote-certificate-is-invalid-according-to-the-validation-procedure-error-in-net-client-application"></a><span data-ttu-id="ca761-269">"Недопустимый удаленный сертификат согласно процедуре проверки" ошибка в клиентском приложении .NET</span><span class="sxs-lookup"><span data-stu-id="ca761-269">"The remote certificate is invalid according to the validation procedure" error in .NET client application</span></span>

<span data-ttu-id="ca761-270">Если серверу требуются пользовательские сертификаты клиента, можно добавить сертификат x509 в соединение перед запросом.</span><span class="sxs-lookup"><span data-stu-id="ca761-270">If your server requires custom client certificates, then you can add an x509certificate to the connection before the request is made.</span></span> <span data-ttu-id="ca761-271">Добавьте сертификат в соединение с помощью `Connection.AddClientCertificate`.</span><span class="sxs-lookup"><span data-stu-id="ca761-271">Add the certificate to the connection using `Connection.AddClientCertificate`.</span></span>

### <a name="connection-drops-after-authentication-times-out"></a><span data-ttu-id="ca761-272">Разрыв соединения после истечения времени ожидания проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="ca761-272">Connection drops after authentication times out</span></span>

<span data-ttu-id="ca761-273">В этом весь замысел.</span><span class="sxs-lookup"><span data-stu-id="ca761-273">This behavior is by design.</span></span> <span data-ttu-id="ca761-274">Учетные данные для проверки подлинности нельзя изменить, пока подключение активно. чтобы обновить учетные данные, соединение должно быть остановлено и перезапущено.</span><span class="sxs-lookup"><span data-stu-id="ca761-274">Authentication credentials cannot be modified while a connection is active; to refresh credentials, the connection must be stopped and restarted.</span></span>

### <a name="onconnected-gets-called-twice-when-using-jquery-mobile"></a><span data-ttu-id="ca761-275">Onconnectd вызывается дважды при использовании jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="ca761-275">OnConnected gets called twice when using jQuery Mobile</span></span>

<span data-ttu-id="ca761-276">Функция `initializePage` jQuery Mobile выполняет принудительное повторное выполнение сценариев на каждой странице, тем самым создавая второе соединение.</span><span class="sxs-lookup"><span data-stu-id="ca761-276">jQuery Mobile's `initializePage` function forces the scripts in each page to be re-executed, thus creating a second connection.</span></span> <span data-ttu-id="ca761-277">Ниже приведены решения для этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="ca761-277">Solutions for this issue include:</span></span>

- <span data-ttu-id="ca761-278">Включите ссылку на jQuery Mobile перед файлом JavaScript.</span><span class="sxs-lookup"><span data-stu-id="ca761-278">Include the reference to jQuery Mobile before your JavaScript file.</span></span>
- <span data-ttu-id="ca761-279">Отключите функцию `initializePage`, установив `$.mobile.autoInitializePage = false`.</span><span class="sxs-lookup"><span data-stu-id="ca761-279">Disable the `initializePage` function by setting `$.mobile.autoInitializePage = false`.</span></span>
- <span data-ttu-id="ca761-280">Дождитесь завершения инициализации страницы, прежде чем запускать подключение.</span><span class="sxs-lookup"><span data-stu-id="ca761-280">Wait for the page to finish initializing before starting the connection.</span></span>

### <a name="messages-are-delayed-in-silverlight-applications-using-server-sent-events"></a><span data-ttu-id="ca761-281">Сообщения откладываются в приложениях Silverlight с помощью событий, отправленных сервером</span><span class="sxs-lookup"><span data-stu-id="ca761-281">Messages are delayed in Silverlight applications using Server Sent Events</span></span>

<span data-ttu-id="ca761-282">Сообщения откладываются при использовании серверных событий, отправленных в Silverlight.</span><span class="sxs-lookup"><span data-stu-id="ca761-282">Messages are delayed when using server sent events on Silverlight.</span></span> <span data-ttu-id="ca761-283">Чтобы использовать вместо этого длительный опрос, используйте следующую команду при запуске подключения:</span><span class="sxs-lookup"><span data-stu-id="ca761-283">To force long polling to be used instead, use the following when starting the connection:</span></span>

[!code-css[Main](troubleshooting/samples/sample14.css)]

### <a name="permission-denied-using-forever-frame-protocol"></a><span data-ttu-id="ca761-284">"Отказ в разрешении" при использовании протокола бесконечного кадра</span><span class="sxs-lookup"><span data-stu-id="ca761-284">"Permission Denied" using Forever Frame protocol</span></span>

<span data-ttu-id="ca761-285">Это известная проблема, описанная [здесь](https://github.com/SignalR/SignalR/issues/1963).</span><span class="sxs-lookup"><span data-stu-id="ca761-285">This is a known issue, described [here](https://github.com/SignalR/SignalR/issues/1963).</span></span> <span data-ttu-id="ca761-286">Этот симптом можно увидеть с помощью последней библиотеки JQuery; обходной путь заключается в том, чтобы понизить приложение до JQuery 1.8.2.</span><span class="sxs-lookup"><span data-stu-id="ca761-286">This symptom may be seen using the latest JQuery library; the workaround is to downgrade your application to JQuery 1.8.2.</span></span>

### <a name="invalidoperationexception-not-a-valid-web-socket-request"></a><span data-ttu-id="ca761-287">"InvalidOperationException: не является допустимым запросом веб-сокета.</span><span class="sxs-lookup"><span data-stu-id="ca761-287">"InvalidOperationException: Not a valid web socket request.</span></span>

<span data-ttu-id="ca761-288">Эта ошибка может возникать, если используется протокол WebSocket, но сетевой прокси-сервер изменяет заголовки запроса.</span><span class="sxs-lookup"><span data-stu-id="ca761-288">This error may occur if the WebSocket protocol is used, but the network proxy is modifying the request headers.</span></span> <span data-ttu-id="ca761-289">Решение заключается в настройке прокси-сервера для разрешения WebSocket через порт 80.</span><span class="sxs-lookup"><span data-stu-id="ca761-289">The solution is to configure the proxy to allow WebSocket on port 80.</span></span>

### <a name="exception-ltmethod-namegt-method-could-not-be-resolved-when-client-calls-method-on-server"></a><span data-ttu-id="ca761-290">"Exception: не удалось разрешить метод &lt;имя метода&gt;", когда клиент вызывает метод на сервере</span><span class="sxs-lookup"><span data-stu-id="ca761-290">"Exception: &lt;method name&gt; method could not be resolved" when client calls method on server</span></span>

<span data-ttu-id="ca761-291">Эта ошибка может быть вызвана использованием типов данных, которые не могут быть обнаружены в полезных данных JSON, например массива.</span><span class="sxs-lookup"><span data-stu-id="ca761-291">This error can result from using data types that cannot be discovered in a JSON payload, such as Array.</span></span> <span data-ttu-id="ca761-292">Обходной путь заключается в использовании типа данных, обнаруживаемого JSON, например IList.</span><span class="sxs-lookup"><span data-stu-id="ca761-292">The workaround is to use a data type that is discoverable by JSON, such as IList.</span></span> <span data-ttu-id="ca761-293">Дополнительные сведения см. [в разделе клиент .NET не удалось вызвать методы концентратора с параметрами массива](https://github.com/SignalR/SignalR/issues/2672).</span><span class="sxs-lookup"><span data-stu-id="ca761-293">For more information, see [.NET Client unable to call hub methods with array parameters](https://github.com/SignalR/SignalR/issues/2672).</span></span>

<a id="server"></a>

## <a name="compilation-and-server-side-errors"></a><span data-ttu-id="ca761-294">Ошибки компиляции и на стороне сервера</span><span class="sxs-lookup"><span data-stu-id="ca761-294">Compilation and server-side errors</span></span>

 <span data-ttu-id="ca761-295">В следующем разделе содержатся возможные решения для ошибок компилятора и ошибки времени выполнения на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="ca761-295">The following section contains possible solutions to compiler and server-side runtime errors.</span></span>

### <a name="reference-to-hub-instance-is-null"></a><span data-ttu-id="ca761-296">Ссылка на экземпляр концентратора имеет значение null</span><span class="sxs-lookup"><span data-stu-id="ca761-296">Reference to Hub instance is null</span></span>

<span data-ttu-id="ca761-297">Поскольку для каждого подключения создается экземпляр концентратора, нельзя самостоятельно создать экземпляр концентратора в коде.</span><span class="sxs-lookup"><span data-stu-id="ca761-297">Since a hub instance is created for each connection, you can't create an instance of a hub in your code yourself.</span></span> <span data-ttu-id="ca761-298">Сведения о вызове методов концентратора извне самого концентратора см. в разделе [как вызывать клиентские методы и управлять группами извне класса Hub](../guide-to-the-api/hubs-api-guide-server.md#callfromoutsidehub) для получения ссылки на контекст концентратора.</span><span class="sxs-lookup"><span data-stu-id="ca761-298">To call methods on a hub from outside the hub itself, see [How to call client methods and manage groups from outside the Hub class](../guide-to-the-api/hubs-api-guide-server.md#callfromoutsidehub) for how to obtain a reference to the hub context.</span></span>

### <a name="httpcontextcurrentsession-is-null"></a><span data-ttu-id="ca761-299">HTTPContext. Current. Session имеет значение null</span><span class="sxs-lookup"><span data-stu-id="ca761-299">HTTPContext.Current.Session is null</span></span>

<span data-ttu-id="ca761-300">В этом весь замысел.</span><span class="sxs-lookup"><span data-stu-id="ca761-300">This behavior is by design.</span></span> <span data-ttu-id="ca761-301">SignalR не поддерживает состояние сеанса ASP.NET, так как включение состояния сеанса приведет к нарушению дуплексного обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="ca761-301">SignalR does not support the ASP.NET session state, since enabling the session state would break duplex messaging.</span></span>

### <a name="no-suitable-method-to-override"></a><span data-ttu-id="ca761-302">Нет подходящего метода переопределения</span><span class="sxs-lookup"><span data-stu-id="ca761-302">No suitable method to override</span></span>

<span data-ttu-id="ca761-303">Эта ошибка может возникать, если вы используете код из более старой документации или из блогов.</span><span class="sxs-lookup"><span data-stu-id="ca761-303">You may see this error if you are using code from older documentation or blogs.</span></span> <span data-ttu-id="ca761-304">Убедитесь, что вы не ссылаетесь на имена методов, которые были изменены или устарели (например, `OnConnectedAsync`).</span><span class="sxs-lookup"><span data-stu-id="ca761-304">Verify that you are not referencing names of methods that have been changed or deprecated (like `OnConnectedAsync`).</span></span>

### <a name="hostcontextextensionswebsocketserverurl-is-null"></a><span data-ttu-id="ca761-305">Хостконтекстекстенсионс. Вебсоккетсерверурл имеет значение null</span><span class="sxs-lookup"><span data-stu-id="ca761-305">HostContextExtensions.WebSocketServerUrl is null</span></span>

<span data-ttu-id="ca761-306">В этом весь замысел.</span><span class="sxs-lookup"><span data-stu-id="ca761-306">This behavior is by design.</span></span> <span data-ttu-id="ca761-307">Этот член является устаревшим и не должен использоваться.</span><span class="sxs-lookup"><span data-stu-id="ca761-307">This member is deprecated and should not be used.</span></span>

### <a name="a-route-named-signalrhubs-is-already-in-the-route-collection-error"></a><span data-ttu-id="ca761-308">"Маршрут с именем SignalR. Hubs уже находится в коллекции маршрутов"</span><span class="sxs-lookup"><span data-stu-id="ca761-308">"A route named 'signalr.hubs' is already in the route collection" error</span></span>

<span data-ttu-id="ca761-309">Эта ошибка будет отображаться, если приложение вызывает `MapSignalR` дважды.</span><span class="sxs-lookup"><span data-stu-id="ca761-309">This error will be seen if `MapSignalR` is called twice by your application.</span></span> <span data-ttu-id="ca761-310">Некоторые примеры приложений вызывают `MapSignalR` непосредственно в классе Startup; другие делают вызов в классе-оболочке.</span><span class="sxs-lookup"><span data-stu-id="ca761-310">Some example applications call `MapSignalR` directly in the Startup class; others make the call in a wrapper class.</span></span> <span data-ttu-id="ca761-311">Убедитесь, что приложение не выполняет никаких действий.</span><span class="sxs-lookup"><span data-stu-id="ca761-311">Ensure that your application does not do both.</span></span>

### <a name="websocket-is-not-used"></a><span data-ttu-id="ca761-312">WebSocket не используется</span><span class="sxs-lookup"><span data-stu-id="ca761-312">WebSocket is not used</span></span>

<span data-ttu-id="ca761-313">Если вы проверили соответствие сервера и клиентов требованиям WebSocket (перечисленные в документе [Поддерживаемые платформы](../getting-started/supported-platforms.md) ), необходимо включить WebSocket на сервере.</span><span class="sxs-lookup"><span data-stu-id="ca761-313">If you have verified that your server and clients meet the requirements for WebSocket (listed in the [Supported Platforms](../getting-started/supported-platforms.md) document), you will need to enable WebSocket on your server.</span></span> <span data-ttu-id="ca761-314">Инструкции по выполнению этой операции можно найти [здесь](https://www.iis.net/learn/get-started/whats-new-in-iis-8/iis-80-websocket-protocol-support).</span><span class="sxs-lookup"><span data-stu-id="ca761-314">Instructions for doing this can be found [here](https://www.iis.net/learn/get-started/whats-new-in-iis-8/iis-80-websocket-protocol-support).</span></span>

### <a name="connection-is-undefined"></a><span data-ttu-id="ca761-315">$. соединение не определено</span><span class="sxs-lookup"><span data-stu-id="ca761-315">$.connection is undefined</span></span>

<span data-ttu-id="ca761-316">Эта ошибка означает, что скрипты на странице не загружаются должным образом, или прокси-сервер концентратора недоступен или неверно обращается к серверу.</span><span class="sxs-lookup"><span data-stu-id="ca761-316">This error indicates that either the scripts on a page are not being loaded properly, or the hub proxy is not reachable or is being accessed incorrectly.</span></span> <span data-ttu-id="ca761-317">Убедитесь, что ссылки на скрипты на странице соответствуют скриптам, загруженным в проект, и что доступ к/сигналр/хубс можно получить в браузере, когда сервер работает.</span><span class="sxs-lookup"><span data-stu-id="ca761-317">Verify that the script references on your page correspond to the scripts loaded in your project, and that /signalr/hubs can be accessed in a browser when the server is running.</span></span>

### <a name="one-or-more-types-required-to-compile-a-dynamic-expression-cannot-be-found"></a><span data-ttu-id="ca761-318">Не удается найти один или несколько типов, необходимых для компиляции динамического выражения</span><span class="sxs-lookup"><span data-stu-id="ca761-318">One or more types required to compile a dynamic expression cannot be found</span></span>

<span data-ttu-id="ca761-319">Эта ошибка означает, что библиотека `Microsoft.CSharp` отсутствует.</span><span class="sxs-lookup"><span data-stu-id="ca761-319">This error indicates that the `Microsoft.CSharp` library is missing.</span></span> <span data-ttu-id="ca761-320">Добавьте его на вкладке **сборки —&gt;Framework** .</span><span class="sxs-lookup"><span data-stu-id="ca761-320">Add it in the **Assemblies-&gt;Framework** tab.</span></span>

### <a name="caller-state-cannot-be-accessed-from-clientscaller-in-visual-basic-or-in-a-strongly-typed-hub-conversion-from-type-taskof-object-to-type-string-is-not-valid-error"></a><span data-ttu-id="ca761-321">Не удается получить доступ к состоянию вызывающего объекта из клиентов. вызывающий объект в Visual Basic или в концентраторе со строгой типизацией; "Преобразование типа" Task "(Of Object)" в тип "String" является недопустимым "ошибка"</span><span class="sxs-lookup"><span data-stu-id="ca761-321">Caller state cannot be accessed from Clients.Caller in Visual Basic or in a strongly typed hub; "Conversion from type 'Task(Of Object)' to type 'String' is not valid" error</span></span>

<span data-ttu-id="ca761-322">Чтобы получить доступ к состоянию вызывающего объекта в Visual Basic или в строго типизированном концентраторе, используйте свойство `Clients.CallerState` (представленное в SignalR 2,1) вместо `Clients.Caller`.</span><span class="sxs-lookup"><span data-stu-id="ca761-322">To access caller state in Visual Basic or in a strongly typed hub, use the `Clients.CallerState` property (introduced in SignalR 2.1) instead of `Clients.Caller`.</span></span>

<a id="vs"></a>

## <a name="visual-studio-issues"></a><span data-ttu-id="ca761-323">Проблемы Visual Studio</span><span class="sxs-lookup"><span data-stu-id="ca761-323">Visual Studio issues</span></span>

<span data-ttu-id="ca761-324">В этом разделе описываются проблемы, возникающие в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ca761-324">This section describes issues encountered in Visual Studio.</span></span>

### <a name="script-documents-node-does-not-appear-in-solution-explorer"></a><span data-ttu-id="ca761-325">Узел "документы скриптов" не отображается в обозреватель решений</span><span class="sxs-lookup"><span data-stu-id="ca761-325">Script Documents node does not appear in Solution Explorer</span></span>

<span data-ttu-id="ca761-326">В некоторых наших руководствах вы научитесь переходить на узел «Script Documents» в обозреватель решений во время отладки.</span><span class="sxs-lookup"><span data-stu-id="ca761-326">Some of our tutorials direct you to the "Script Documents" node in Solution Explorer while debugging.</span></span> <span data-ttu-id="ca761-327">Этот узел создается отладчиком JavaScript и отображается только при отладке клиентов браузера в Internet Explorer. узел не отображается, если используются Chrome или Firefox.</span><span class="sxs-lookup"><span data-stu-id="ca761-327">This node is produced by the JavaScript debugger, and will only appear while debugging browser clients in Internet Explorer; the node will not appear if Chrome or Firefox are used.</span></span> <span data-ttu-id="ca761-328">Отладчик JavaScript также не будет выполняться, если запущен другой клиентский отладчик, например отладчик Silverlight.</span><span class="sxs-lookup"><span data-stu-id="ca761-328">The JavaScript debugger will also not run if another client debugger is running, such as the Silverlight debugger.</span></span>

### <a name="signalr-does-not-work-on-visual-studio-2008-or-earlier"></a><span data-ttu-id="ca761-329">SignalR не работает в Visual Studio 2008 или более ранней версии</span><span class="sxs-lookup"><span data-stu-id="ca761-329">SignalR does not work on Visual Studio 2008 or earlier</span></span>

<span data-ttu-id="ca761-330">В этом весь замысел.</span><span class="sxs-lookup"><span data-stu-id="ca761-330">This behavior is by design.</span></span> <span data-ttu-id="ca761-331">Для SignalR требуется .NET Framework 4 или более поздней версии. для этого необходимо разработать приложения SignalR в Visual Studio 2010 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="ca761-331">SignalR requires .NET Framework 4 or later; this requires that SignalR applications be developed in Visual Studio 2010 or later.</span></span> <span data-ttu-id="ca761-332">Серверному компоненту SignalR требуется .NET Framework 4,5.</span><span class="sxs-lookup"><span data-stu-id="ca761-332">The server component of SignalR requires .NET Framework 4.5.</span></span>

<a id="iis"></a>

## <a name="iis-issues"></a><span data-ttu-id="ca761-333">Проблемы IIS</span><span class="sxs-lookup"><span data-stu-id="ca761-333">IIS issues</span></span>

<span data-ttu-id="ca761-334">В этом разделе содержатся проблемы с службы IIS.</span><span class="sxs-lookup"><span data-stu-id="ca761-334">This section contains issues with Internet Information Services.</span></span>

### <a name="signalr-works-on-visual-studio-development-server-but-not-in-iis"></a><span data-ttu-id="ca761-335">SignalR работает на Visual Studio Development Server, но не в службах IIS</span><span class="sxs-lookup"><span data-stu-id="ca761-335">SignalR works on Visual Studio development server, but not in IIS</span></span>

<span data-ttu-id="ca761-336">SignalR поддерживается в IIS 7,0 и 7,5, но необходимо добавить поддержку URL-адресов без расширений.</span><span class="sxs-lookup"><span data-stu-id="ca761-336">SignalR is supported on IIS 7.0 and 7.5, but support for extensionless URLs must be added.</span></span> <span data-ttu-id="ca761-337">Дополнительные сведения о поддержке URL-адресов, поддерживающих расширение, см. в разделе [https://support.microsoft.com/kb/980368](https://support.microsoft.com/kb/980368)</span><span class="sxs-lookup"><span data-stu-id="ca761-337">To add support for extensionless URLs, see [https://support.microsoft.com/kb/980368](https://support.microsoft.com/kb/980368)</span></span>

<span data-ttu-id="ca761-338">Для SignalR требуется установка ASP.NET на сервере (по умолчанию ASP.NET не установлен в службах IIS).</span><span class="sxs-lookup"><span data-stu-id="ca761-338">SignalR requires ASP.NET to be installed on the server (ASP.NET is not installed on IIS by default).</span></span> <span data-ttu-id="ca761-339">Сведения об установке ASP.NET см. в разделе [загрузки ASP.NET](https://www.asp.net/downloads).</span><span class="sxs-lookup"><span data-stu-id="ca761-339">To install ASP.NET, see [ASP.NET Downloads](https://www.asp.net/downloads).</span></span>

<a id="azure"></a>

## <a name="microsoft-azure-issues"></a><span data-ttu-id="ca761-340">Проблемы Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="ca761-340">Microsoft Azure issues</span></span>

<span data-ttu-id="ca761-341">В этом разделе содержатся проблемы с Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="ca761-341">This section contains issues with Microsoft Azure.</span></span>

### <a name="fileloadexception-when-hosting-signalr-in-an-azure-worker-role"></a><span data-ttu-id="ca761-342">FileLoadException при размещении SignalR в рабочей роли Azure</span><span class="sxs-lookup"><span data-stu-id="ca761-342">FileLoadException when hosting SignalR in an Azure Worker Role</span></span>

<span data-ttu-id="ca761-343">Размещение SignalR в рабочей роли Azure может привести к исключению "не удалось загрузить файл или сборку" Microsoft. Owin, Version = 2.0.0.0 ".</span><span class="sxs-lookup"><span data-stu-id="ca761-343">Hosting SignalR in an Azure Worker Role might result in the exception "Could not load file or assembly 'Microsoft.Owin, Version=2.0.0.0".</span></span> <span data-ttu-id="ca761-344">Это известная проблема с NuGet; Перенаправления привязок не добавляются автоматически в проектах рабочих ролей Azure.</span><span class="sxs-lookup"><span data-stu-id="ca761-344">This is a known issue with NuGet; Binding redirects are not added automatically in Azure Worker Role projects.</span></span> <span data-ttu-id="ca761-345">Чтобы устранить эту проблему, можно добавить перенаправления привязок вручную.</span><span class="sxs-lookup"><span data-stu-id="ca761-345">To fix this, you can add the binding redirects manually.</span></span> <span data-ttu-id="ca761-346">Добавьте следующие строки в файл `app.config` для проекта рабочей роли.</span><span class="sxs-lookup"><span data-stu-id="ca761-346">Add the following lines to the `app.config` file for your Worker Role project.</span></span>

[!code-xml[Main](troubleshooting/samples/sample15.xml)]

### <a name="messages-are-not-received-through-the-azure-backplane-after-altering-topic-names"></a><span data-ttu-id="ca761-347">Сообщения не поступают через объединительную плату Azure после изменения имен разделов</span><span class="sxs-lookup"><span data-stu-id="ca761-347">Messages are not received through the Azure backplane after altering topic names</span></span>

<span data-ttu-id="ca761-348">Разделы, используемые объединительной платой Azure, поддерживаются внутренним образом. они не предназначены для настройки пользователем.</span><span class="sxs-lookup"><span data-stu-id="ca761-348">The topics used by the Azure backplane are maintained internally; they are not intended to be user-configurable.</span></span>
