---
ms.openlocfilehash: c3b00951d2f9e22a1c677a88261a36238d2b12fc
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57061551"
---
# <a name="cookie-sharing-sample-app"></a><span data-ttu-id="1dad9-101">Пример совместного использования файлов cookie приложения</span><span class="sxs-lookup"><span data-stu-id="1dad9-101">Cookie Sharing Sample App</span></span>

<span data-ttu-id="1dad9-102">В примере показано совместное использование трех приложениях, использующих файл cookie проверки подлинности файла cookie:</span><span class="sxs-lookup"><span data-stu-id="1dad9-102">The sample illustrates cookie sharing across three apps that use cookie authentication:</span></span>

| <span data-ttu-id="1dad9-103">Проект</span><span class="sxs-lookup"><span data-stu-id="1dad9-103">Project</span></span>                             | <span data-ttu-id="1dad9-104">Описание:</span><span class="sxs-lookup"><span data-stu-id="1dad9-104">Description</span></span> |
| ----------------------------------- | ----------- |
| <span data-ttu-id="1dad9-105">CookieAuth.Core</span><span class="sxs-lookup"><span data-stu-id="1dad9-105">CookieAuth.Core</span></span>                     | <span data-ttu-id="1dad9-106">Приложения ASP.NET Core Razor Pages без использования удостоверения ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="1dad9-106">ASP.NET Core Razor Pages app without using ASP.NET Core Identity</span></span> |
| <span data-ttu-id="1dad9-107">CookieAuthWithIdentity.Core</span><span class="sxs-lookup"><span data-stu-id="1dad9-107">CookieAuthWithIdentity.Core</span></span>         | <span data-ttu-id="1dad9-108">Приложение MVC ASP.NET Core с помощью ASP.NET Core Identity</span><span class="sxs-lookup"><span data-stu-id="1dad9-108">ASP.NET Core MVC app with ASP.NET Core Identity</span></span> |
| <span data-ttu-id="1dad9-109">CookieAuthWithIdentity.NETFramework</span><span class="sxs-lookup"><span data-stu-id="1dad9-109">CookieAuthWithIdentity.NETFramework</span></span> | <span data-ttu-id="1dad9-110">Приложения MVC ASP.NET Framework с ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="1dad9-110">ASP.NET Framework MVC app with ASP.NET Identity</span></span> |

<span data-ttu-id="1dad9-111">Инструкции:</span><span class="sxs-lookup"><span data-stu-id="1dad9-111">Instructions:</span></span>

1. <span data-ttu-id="1dad9-112">Запустите приложение CookieAuth.Core.</span><span class="sxs-lookup"><span data-stu-id="1dad9-112">Run the CookieAuth.Core app.</span></span> <span data-ttu-id="1dad9-113">Регистрация пользователя.</span><span class="sxs-lookup"><span data-stu-id="1dad9-113">Register a user.</span></span> <span data-ttu-id="1dad9-114">Приложение проверяет подлинность пользователя, при регистрации пользователя.</span><span class="sxs-lookup"><span data-stu-id="1dad9-114">The app authenticates the user when the user is registered.</span></span> <span data-ttu-id="1dad9-115">Выход пользователя.</span><span class="sxs-lookup"><span data-stu-id="1dad9-115">Sign the user out.</span></span>
1. <span data-ttu-id="1dad9-116">Запустите приложение CookieAuthWithIdentity.Core в том же сеансе браузера.</span><span class="sxs-lookup"><span data-stu-id="1dad9-116">In the same browser session, run the CookieAuthWithIdentity.Core app.</span></span> <span data-ttu-id="1dad9-117">Зарегистрируйте тот же пользователь, как используется только с приложения Core.</span><span class="sxs-lookup"><span data-stu-id="1dad9-117">Register the same user as used with the Core app.</span></span> <span data-ttu-id="1dad9-118">Приложение проверяет подлинность пользователя, при регистрации пользователя.</span><span class="sxs-lookup"><span data-stu-id="1dad9-118">The app authenticates the user when the user is registered.</span></span> <span data-ttu-id="1dad9-119">Выход пользователя.</span><span class="sxs-lookup"><span data-stu-id="1dad9-119">Sign the user out.</span></span>
1. <span data-ttu-id="1dad9-120">Запустите приложение CookieAuthWithIdentity.NETFramework в том же сеансе браузера.</span><span class="sxs-lookup"><span data-stu-id="1dad9-120">In the same browser session, run the CookieAuthWithIdentity.NETFramework app.</span></span> <span data-ttu-id="1dad9-121">Зарегистрируйте тот же пользователь, как используется совместно с другими приложениями.</span><span class="sxs-lookup"><span data-stu-id="1dad9-121">Register the same user as used with the other apps.</span></span> <span data-ttu-id="1dad9-122">Приложение проверяет подлинность пользователя, при регистрации пользователя.</span><span class="sxs-lookup"><span data-stu-id="1dad9-122">The app authenticates the user when the user is registered.</span></span> <span data-ttu-id="1dad9-123">Выход пользователя.</span><span class="sxs-lookup"><span data-stu-id="1dad9-123">Sign the user out.</span></span>
1. <span data-ttu-id="1dad9-124">Вход пользователя в любую из этих трех приложений.</span><span class="sxs-lookup"><span data-stu-id="1dad9-124">Sign in the user to any of the three apps.</span></span> <span data-ttu-id="1dad9-125">Файл cookie проверки подлинности является общим для приложений.</span><span class="sxs-lookup"><span data-stu-id="1dad9-125">The authentication cookie is shared among the apps.</span></span> <span data-ttu-id="1dad9-126">Обратите внимание на то, что пользователь автоматически входит в двух других приложений.</span><span class="sxs-lookup"><span data-stu-id="1dad9-126">Note that the user is automatically signed into the other two apps.</span></span>
1. <span data-ttu-id="1dad9-127">Выйдите из системы пользователя, из каких-либо приложений.</span><span class="sxs-lookup"><span data-stu-id="1dad9-127">Sign out the user from any of the apps.</span></span> <span data-ttu-id="1dad9-128">Обратите внимание на то, что пользователь будет автоматически выходить двух других приложений.</span><span class="sxs-lookup"><span data-stu-id="1dad9-128">Note that the user is automatically signed out of the other two apps.</span></span>

<span data-ttu-id="1dad9-129">В этом примере демонстрируются функции, описываемые в [совместное использование приложениями файлов cookie](https://docs.microsoft.com/aspnet/core/security/cookie-sharing) раздела.</span><span class="sxs-lookup"><span data-stu-id="1dad9-129">This sample demonstrates the features described in the [Share cookies among apps](https://docs.microsoft.com/aspnet/core/security/cookie-sharing) topic.</span></span>
