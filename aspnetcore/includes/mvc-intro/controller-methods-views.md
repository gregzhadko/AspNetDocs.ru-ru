---
ms.openlocfilehash: 96790edbeb4313fd9de585fc176611946b313355
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/01/2019
ms.locfileid: "57063731"
---

<span data-ttu-id="4849e-101">Пространство имен [DataAnnotations](/aspnet/mvc/overview/older-versions/mvc-music-store/mvc-music-store-part-6) будет рассмотрено в следующем руководстве.</span><span class="sxs-lookup"><span data-stu-id="4849e-101">We cover [DataAnnotations](/aspnet/mvc/overview/older-versions/mvc-music-store/mvc-music-store-part-6) in the next tutorial.</span></span> <span data-ttu-id="4849e-102">Атрибут [Display](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.metadata.displaymetadata) определяет отображаемое имя поля (в этом случае "Release Date" вместо "ReleaseDate").</span><span class="sxs-lookup"><span data-stu-id="4849e-102">The [Display](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.metadata.displaymetadata) attribute specifies what to display for the name of a field (in this case "Release Date" instead of "ReleaseDate").</span></span> <span data-ttu-id="4849e-103">Атрибут [DataType](/dotnet/api/microsoft.aspnetcore.mvc.dataannotations.internal.datatypeattributeadapter) определяет тип данных (Date), поэтому сведения о времени, хранящиеся в поле, не отображаются.</span><span class="sxs-lookup"><span data-stu-id="4849e-103">The [DataType](/dotnet/api/microsoft.aspnetcore.mvc.dataannotations.internal.datatypeattributeadapter) attribute specifies the type of the data (Date), so the time information stored in the field isn't displayed.</span></span>

<span data-ttu-id="4849e-104">Требуются заметки к данным `[Column(TypeName = "decimal(18, 2)")]`, чтобы Entity Framework Core корректно сопоставила `Price` с валютой в базе данных.</span><span class="sxs-lookup"><span data-stu-id="4849e-104">The `[Column(TypeName = "decimal(18, 2)")]` data annotation is required so Entity Framework Core can correctly map `Price` to currency in the database.</span></span> <span data-ttu-id="4849e-105">Дополнительные сведения см. в разделе [Типы данных](/ef/core/modeling/relational/data-types).</span><span class="sxs-lookup"><span data-stu-id="4849e-105">For more information, see [Data Types](/ef/core/modeling/relational/data-types).</span></span>

<span data-ttu-id="4849e-106">Перейдите к контроллеру `Movies`. Наведите указатель мыши на ссылку **Edit** (Изменить) и удерживайте его на месте, чтобы просмотреть целевой URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="4849e-106">Browse to the `Movies` controller and hold the mouse pointer over an **Edit** link to see the target URL.</span></span>

![Окно браузера с указателем, наведенным на ссылку Edit (Изменить), и URL-адресом ссылки http://localhost:1234/Movies/Edit/5](~/tutorials/first-mvc-app/controller-methods-views/_static/edit7.png)

<span data-ttu-id="4849e-108">Ссылки **Edit** (Изменить), **Details** (Сведения) и **Delete** (Удалить) создаются вспомогательной функцией тегов привязки Core MVC в файле *Views/Movies/Index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="4849e-108">The **Edit**, **Details**, and **Delete** links are generated by the Core MVC Anchor Tag Helper in the *Views/Movies/Index.cshtml* file.</span></span>

[!code-HTML[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Views/Movies/IndexOriginal.cshtml?highlight=1-3&range=46-50)]

<span data-ttu-id="4849e-109">[Вспомогательные функции тегов](xref:mvc/views/tag-helpers/intro) позволяют серверному коду участвовать в создании и отображении HTML-элементов в файлах Razor.</span><span class="sxs-lookup"><span data-stu-id="4849e-109">[Tag Helpers](xref:mvc/views/tag-helpers/intro) enable server-side code to participate in creating and rendering HTML elements in Razor files.</span></span> <span data-ttu-id="4849e-110">В представленном выше коде `AnchorTagHelper` динамически создает значение атрибута HTML `href` на основании метода действия контроллера и идентификатора маршрута. Для изучения созданной разметки используйте функцию **просмотра исходного кода** в вашем любимом браузере или средства для разработчика.</span><span class="sxs-lookup"><span data-stu-id="4849e-110">In the code above, the `AnchorTagHelper` dynamically generates the HTML `href` attribute value from the controller action method and route id. You use **View Source** from your favorite browser or use the developer tools to examine the generated markup.</span></span> <span data-ttu-id="4849e-111">Ниже показана часть созданного кода HTML:</span><span class="sxs-lookup"><span data-stu-id="4849e-111">A portion of the generated HTML is shown below:</span></span>

```html
 <td>
    <a href="/Movies/Edit/4"> Edit </a> |
    <a href="/Movies/Details/4"> Details </a> |
    <a href="/Movies/Delete/4"> Delete </a>
</td>
```

<span data-ttu-id="4849e-112">Повторите вызов формата [routing](xref:mvc/controllers/routing), настроенный в файле *Startup.cs*:</span><span class="sxs-lookup"><span data-stu-id="4849e-112">Recall the format for [routing](xref:mvc/controllers/routing) set in the *Startup.cs* file:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]

<span data-ttu-id="4849e-113">ASP.NET Core преобразует `http://localhost:1234/Movies/Edit/4` в запрос метода действия `Edit` контроллера `Movies` с параметром `Id`, равным 4.</span><span class="sxs-lookup"><span data-stu-id="4849e-113">ASP.NET Core translates `http://localhost:1234/Movies/Edit/4` into a request to the `Edit` action method of the `Movies` controller with the parameter `Id` of 4.</span></span> <span data-ttu-id="4849e-114">(Методы контроллера также называются методами действия.)</span><span class="sxs-lookup"><span data-stu-id="4849e-114">(Controller methods are also known as action methods.)</span></span>

<span data-ttu-id="4849e-115">[Вспомогательные функции тегов](xref:mvc/views/tag-helpers/intro) являются одной из самых популярных новых возможностей в ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="4849e-115">[Tag Helpers](xref:mvc/views/tag-helpers/intro) are one of the most popular new features in ASP.NET Core.</span></span> <span data-ttu-id="4849e-116">Дополнительные сведения см. в разделе [Дополнительные ресурсы](#additional-resources).</span><span class="sxs-lookup"><span data-stu-id="4849e-116">See [Additional resources](#additional-resources) for more information.</span></span>

<span data-ttu-id="4849e-117">Откройте контроллер `Movies` и изучите два метода действия `Edit`.</span><span class="sxs-lookup"><span data-stu-id="4849e-117">Open the `Movies` controller and examine the two `Edit` action methods.</span></span> <span data-ttu-id="4849e-118">В следующем коде демонстрируется метод `HTTP GET Edit`, который выполняет выборку фильмов и заполняет форму редактирования, созданную файлом Razor *Edit.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="4849e-118">The following code shows the `HTTP GET Edit` method, which fetches the movie and populates the edit form generated by the *Edit.cshtml* Razor file.</span></span>

::: moniker range=">= aspnetcore-2.1"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie21/Controllers/MC1.cs?name=snippet_edit1)]

<span data-ttu-id="4849e-119">В следующем коде показан метод `HTTP POST Edit`, который является владельцем переданных значений фильмов:</span><span class="sxs-lookup"><span data-stu-id="4849e-119">The following code shows the `HTTP POST Edit` method, which processes the posted movie values:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/MC1.cs?name=snippet_edit2)]

::: moniker-end

::: moniker range="<= aspnetcore-2.0"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/MC1.cs?name=snippet_edit1)]

<span data-ttu-id="4849e-120">В следующем коде показан метод `HTTP POST Edit`, который является владельцем переданных значений фильмов:</span><span class="sxs-lookup"><span data-stu-id="4849e-120">The following code shows the `HTTP POST Edit` method, which processes the posted movie values:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/MC1.cs?name=snippet_edit2)]

::: moniker-end

<span data-ttu-id="4849e-121">Атрибут `[Bind]` является одним из способов защиты от [чрезмерной передачи данных](/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application#overpost).</span><span class="sxs-lookup"><span data-stu-id="4849e-121">The `[Bind]` attribute is one way to protect against [over-posting](/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application#overpost).</span></span> <span data-ttu-id="4849e-122">Свойства необходимо включать только в тот атрибут `[Bind]`, который вы хотите изменить.</span><span class="sxs-lookup"><span data-stu-id="4849e-122">You should only include properties in the `[Bind]` attribute that you want to change.</span></span> <span data-ttu-id="4849e-123">Дополнительные сведения см. в разделе [Защита контроллера от чрезмерной передачи данных](/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application).</span><span class="sxs-lookup"><span data-stu-id="4849e-123">See [Protect your controller from over-posting](/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application) for more information.</span></span> <span data-ttu-id="4849e-124">[ViewModels](http://rachelappel.com/use-viewmodels-to-manage-data-amp-organize-code-in-asp-net-mvc-applications/) реализует альтернативный подход к защите от чрезмерной передачи данных.</span><span class="sxs-lookup"><span data-stu-id="4849e-124">[ViewModels](http://rachelappel.com/use-viewmodels-to-manage-data-amp-organize-code-in-asp-net-mvc-applications/) provide an alternative approach to prevent over-posting.</span></span>

<span data-ttu-id="4849e-125">Обратите внимание на второй метод действия `Edit`, которому предшествует атрибут `[HttpPost]`.</span><span class="sxs-lookup"><span data-stu-id="4849e-125">Notice the second `Edit` action method is preceded by the `[HttpPost]` attribute.</span></span>

::: moniker range=">= aspnetcore-2.1"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie21/Controllers/MC1.cs?name=snippet_edit2&highlight=1)]

::: moniker-end

::: moniker range="<= aspnetcore-2.0"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/MC1.cs?name=snippet_edit2&highlight=4)]

::: moniker-end

<span data-ttu-id="4849e-126">Атрибут `HttpPost` указывает на то, что этот метод `Edit` может вызываться *только* для запросов `POST`.</span><span class="sxs-lookup"><span data-stu-id="4849e-126">The `HttpPost` attribute specifies that this `Edit` method can be invoked *only* for `POST` requests.</span></span> <span data-ttu-id="4849e-127">Вы могли бы применить атрибут `[HttpGet]` к первому методу редактирования, однако это необязательно, поскольку значение `[HttpGet]` задается по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="4849e-127">You could apply the `[HttpGet]` attribute to the first edit method, but that's not necessary because `[HttpGet]` is the default.</span></span>

<span data-ttu-id="4849e-128">Атрибут `ValidateAntiForgeryToken` используется для [защиты от подделки запросов](xref:security/anti-request-forgery) и используется совместно с соответствующим маркером безопасности, который создается в файле представления редактирования (*Views/Movies/Edit.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="4849e-128">The `ValidateAntiForgeryToken` attribute is used to [prevent forgery of a request](xref:security/anti-request-forgery) and is paired up with an anti-forgery token generated in the edit view file (*Views/Movies/Edit.cshtml*).</span></span> <span data-ttu-id="4849e-129">В файле представления редактирования для создания маркера защиты от подделки используется [вспомогательная функция тега Form](xref:mvc/views/working-with-forms).</span><span class="sxs-lookup"><span data-stu-id="4849e-129">The edit view file generates the anti-forgery token with the [Form Tag Helper](xref:mvc/views/working-with-forms).</span></span>

[!code-HTML[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Views/Movies/Edit.cshtml?range=9)]

<span data-ttu-id="4849e-130">[Вспомогательная функция тега Form](xref:mvc/views/working-with-forms) создает скрытый маркер защиты от подделки, который должен соответствовать `[ValidateAntiForgeryToken]` аналогичному маркеру безопасности в методе `Edit` контроллера Movies.</span><span class="sxs-lookup"><span data-stu-id="4849e-130">The [Form Tag Helper](xref:mvc/views/working-with-forms) generates a hidden anti-forgery token that must match the `[ValidateAntiForgeryToken]` generated anti-forgery token in the `Edit` method of the Movies controller.</span></span> <span data-ttu-id="4849e-131">Дополнительные сведения см. в разделе [Защита от подделки запросов](xref:security/anti-request-forgery).</span><span class="sxs-lookup"><span data-stu-id="4849e-131">For more information, see [Anti-Request Forgery](xref:security/anti-request-forgery).</span></span>

<span data-ttu-id="4849e-132">Метод `HttpGet Edit` принимает параметр фильма `ID`, выполняет поиск фильма с использованием метода `SingleOrDefaultAsync` платформы Entity Framework и возвращает выбранный фильм в представление редактирования.</span><span class="sxs-lookup"><span data-stu-id="4849e-132">The `HttpGet Edit` method takes the movie `ID` parameter, looks up the movie using the Entity Framework `SingleOrDefaultAsync` method, and returns the selected movie to the Edit view.</span></span> <span data-ttu-id="4849e-133">Если фильм найти не удается, возвращается ошибка `NotFound` (HTTP 404).</span><span class="sxs-lookup"><span data-stu-id="4849e-133">If a movie cannot be found, `NotFound` (HTTP 404) is returned.</span></span>

::: moniker range=">= aspnetcore-2.1"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie21/Controllers/MC1.cs?name=snippet_edit1)]

::: moniker-end

::: moniker range="<= aspnetcore-2.0"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/MC1.cs?name=snippet_edit1)]

::: moniker-end

<span data-ttu-id="4849e-134">Если в представлении редактирования создана система формирования шаблонов, она проверяет класс `Movie` и создает код для отображения элементов `<label>` и `<input>` для каждого свойства класса.</span><span class="sxs-lookup"><span data-stu-id="4849e-134">When the scaffolding system created the Edit view, it examined the `Movie` class and created code to render `<label>` and `<input>` elements for each property of the class.</span></span> <span data-ttu-id="4849e-135">В следующем примере показано представление редактирования, созданное системой формирования шаблонов Visual Studio:</span><span class="sxs-lookup"><span data-stu-id="4849e-135">The following example shows the Edit view that was generated by the Visual Studio scaffolding system:</span></span>

[!code-HTML[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Views/Movies/EditCopy.cshtml?highlight=1)]

<span data-ttu-id="4849e-136">Обратите внимание, что в начале файла шаблона представления содержится оператор `@model MvcMovie.Models.Movie`.</span><span class="sxs-lookup"><span data-stu-id="4849e-136">Notice how the view template has a `@model MvcMovie.Models.Movie` statement at the top of the file.</span></span> <span data-ttu-id="4849e-137">`@model MvcMovie.Models.Movie` указывает, что в представлении требуется модель представления шаблона с типом `Movie`.</span><span class="sxs-lookup"><span data-stu-id="4849e-137">`@model MvcMovie.Models.Movie` specifies that the view expects the model for the view template to be of type `Movie`.</span></span>

<span data-ttu-id="4849e-138">Для оптимизации разметки HTML сформированный код использует несколько методов вспомогательных функций тегов.</span><span class="sxs-lookup"><span data-stu-id="4849e-138">The scaffolded code uses several Tag Helper methods to streamline the HTML markup.</span></span> <span data-ttu-id="4849e-139">[Вспомогательная функция тега Label](xref:mvc/views/working-with-forms) отображает имя поля ("Title", "ReleaseDate", "Genre" или "Price").</span><span class="sxs-lookup"><span data-stu-id="4849e-139">The - [Label Tag Helper](xref:mvc/views/working-with-forms) displays the name of the field ("Title", "ReleaseDate", "Genre", or "Price").</span></span> <span data-ttu-id="4849e-140">[Вспомогательная функция тега Input](xref:mvc/views/working-with-forms) отображает элемент HTML `<input>`.</span><span class="sxs-lookup"><span data-stu-id="4849e-140">The [Input Tag Helper](xref:mvc/views/working-with-forms) renders an HTML `<input>` element.</span></span> <span data-ttu-id="4849e-141">[Вспомогательная функция тега Validation](xref:mvc/views/working-with-forms) отображает любые сообщения проверки, связанные с указанным свойством.</span><span class="sxs-lookup"><span data-stu-id="4849e-141">The [Validation Tag Helper](xref:mvc/views/working-with-forms) displays any validation messages associated with that property.</span></span>

<span data-ttu-id="4849e-142">Запустите приложение и перейдите по URL-адресу `/Movies`.</span><span class="sxs-lookup"><span data-stu-id="4849e-142">Run the application and navigate to the `/Movies` URL.</span></span> <span data-ttu-id="4849e-143">Щелкните ссылку **Edit** (Изменить).</span><span class="sxs-lookup"><span data-stu-id="4849e-143">Click an **Edit** link.</span></span> <span data-ttu-id="4849e-144">Просмотрите исходный код страницы в окне браузера.</span><span class="sxs-lookup"><span data-stu-id="4849e-144">In the browser, view the source for the page.</span></span> <span data-ttu-id="4849e-145">Созданный HTML-код для элемента `<form>` показан ниже.</span><span class="sxs-lookup"><span data-stu-id="4849e-145">The generated HTML for the `<form>` element is shown below.</span></span>

[!code-HTML[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Views/Shared/edit_view_source.html?highlight=1,6,10,17,24,28)]

<span data-ttu-id="4849e-146">Элементы `<input>` находятся в элементе `HTML <form>`, атрибут `action` которого задает передачу данных по URL-адресу `/Movies/Edit/id`.</span><span class="sxs-lookup"><span data-stu-id="4849e-146">The `<input>` elements are in an `HTML <form>` element whose `action` attribute is set to post to the `/Movies/Edit/id` URL.</span></span> <span data-ttu-id="4849e-147">Данные формы будут передаваться на сервер при нажатии кнопки `Save`.</span><span class="sxs-lookup"><span data-stu-id="4849e-147">The form data will be posted to the server when the `Save` button is clicked.</span></span> <span data-ttu-id="4849e-148">В последней строке перед закрывающим элементом `</form>` отображается скрытый маркер [XSRF](xref:security/anti-request-forgery), созданный [вспомогательной функцией тега Form](xref:mvc/views/working-with-forms).</span><span class="sxs-lookup"><span data-stu-id="4849e-148">The last line before the closing `</form>` element shows the hidden [XSRF](xref:security/anti-request-forgery) token generated by the [Form Tag Helper](xref:mvc/views/working-with-forms).</span></span>

## <a name="processing-the-post-request"></a><span data-ttu-id="4849e-149">Обработка запроса POST</span><span class="sxs-lookup"><span data-stu-id="4849e-149">Processing the POST Request</span></span>

<span data-ttu-id="4849e-150">В следующем листинге демонстрируется версия `[HttpPost]` метода действия `Edit`.</span><span class="sxs-lookup"><span data-stu-id="4849e-150">The following listing shows the `[HttpPost]` version of the `Edit` action method.</span></span>

::: moniker range=">= aspnetcore-2.1"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie21/Controllers/MC1.cs?name=snippet_edit2)]

::: moniker-end

::: moniker range="<= aspnetcore-2.0"

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/MC1.cs?name=snippet_edit2)]

::: moniker-end

<span data-ttu-id="4849e-151">Атрибут `[ValidateAntiForgeryToken]` проверяет скрытый маркер безопасности [XSRF](xref:security/anti-request-forgery), который был создан генератором маркеров во [вспомогательной функции тега Form](xref:mvc/views/working-with-forms)</span><span class="sxs-lookup"><span data-stu-id="4849e-151">The `[ValidateAntiForgeryToken]` attribute validates the hidden [XSRF](xref:security/anti-request-forgery) token generated by the anti-forgery token generator in the [Form Tag Helper](xref:mvc/views/working-with-forms)</span></span>

<span data-ttu-id="4849e-152">Система [модели привязки](xref:mvc/models/model-binding) принимает переданные значения формы и создает объект `Movie`, который передается в качестве параметра `movie`.</span><span class="sxs-lookup"><span data-stu-id="4849e-152">The [model binding](xref:mvc/models/model-binding) system takes the posted form values and creates a `Movie` object that's passed as the `movie` parameter.</span></span> <span data-ttu-id="4849e-153">Метод `ModelState.IsValid` проверяет, можно ли использовать переданные в форме данные для изменения (редактирования или обновления) объекта `Movie`.</span><span class="sxs-lookup"><span data-stu-id="4849e-153">The `ModelState.IsValid` method verifies that the data submitted in the form can be used to modify (edit or update) a `Movie` object.</span></span> <span data-ttu-id="4849e-154">Допустимые данные сохраняются.</span><span class="sxs-lookup"><span data-stu-id="4849e-154">If the data is valid it's saved.</span></span> <span data-ttu-id="4849e-155">Обновленные (измененные) данные фильма сохраняются в базе данных посредством вызова метода `SaveChangesAsync` в контексте базы данных.</span><span class="sxs-lookup"><span data-stu-id="4849e-155">The updated (edited) movie data is saved to the database by calling the `SaveChangesAsync` method of database context.</span></span> <span data-ttu-id="4849e-156">После сохранения данных код перенаправляет пользователя в метод действия `Index` класса `MoviesController`, который отображает коллекцию фильмов с учетом только что внесенных изменений.</span><span class="sxs-lookup"><span data-stu-id="4849e-156">After saving the data, the code redirects the user to the `Index` action method of the `MoviesController` class, which displays the movie collection, including the changes just made.</span></span>

<span data-ttu-id="4849e-157">Перед отправкой формы на сервер на стороне клиента проверяется выполнение всех правил проверки для полей.</span><span class="sxs-lookup"><span data-stu-id="4849e-157">Before the form is posted to the server, client side validation checks any validation rules on the fields.</span></span> <span data-ttu-id="4849e-158">При обнаружении ошибок проверки отображается сообщение об ошибке, а форма не передается.</span><span class="sxs-lookup"><span data-stu-id="4849e-158">If there are any validation errors, an error message is displayed and the form isn't posted.</span></span> <span data-ttu-id="4849e-159">Если JavaScript отключен, проверка на стороне клиента не выполняется. Тем не менее сервер обнаружит переданные недопустимые значения, в результате чего значения формы будут отображены повторно с сообщениями об ошибках.</span><span class="sxs-lookup"><span data-stu-id="4849e-159">If JavaScript is disabled, you won't have client side validation but the server will detect the posted values that are not valid, and the form values will be redisplayed with error messages.</span></span> <span data-ttu-id="4849e-160">Далее в этом руководстве мы более подробно изучим [проверку модели](xref:mvc/models/validation).</span><span class="sxs-lookup"><span data-stu-id="4849e-160">Later in the tutorial we examine [Model Validation](xref:mvc/models/validation) in more detail.</span></span> <span data-ttu-id="4849e-161">[Вспомогательная функция тега Validation](xref:mvc/views/working-with-forms) в шаблоне представления *Views/Movies/Edit.cshtml* обеспечивает отображение соответствующих сообщений об ошибке.</span><span class="sxs-lookup"><span data-stu-id="4849e-161">The [Validation Tag Helper](xref:mvc/views/working-with-forms) in the *Views/Movies/Edit.cshtml* view template takes care of displaying appropriate error messages.</span></span>

![Представление редактирования: исключение, связанное с некорректным значением Price для abc, указывает, что поле Price должно содержать числовое значение.](~/tutorials/first-mvc-app/controller-methods-views/_static/val.png)

<span data-ttu-id="4849e-164">Все методы `HttpGet` в контроллере Movie имеют схожий шаблон.</span><span class="sxs-lookup"><span data-stu-id="4849e-164">All the `HttpGet` methods in the movie controller follow a similar pattern.</span></span> <span data-ttu-id="4849e-165">Они получают объект фильма (или список объектов для метода `Index`) и передают объект (модель) в представление.</span><span class="sxs-lookup"><span data-stu-id="4849e-165">They get a movie object (or list of objects, in the case of `Index`), and pass the object (model) to the view.</span></span> <span data-ttu-id="4849e-166">Метод `Create` передает в представление пустой объект фильма `Create`.</span><span class="sxs-lookup"><span data-stu-id="4849e-166">The `Create` method passes an empty movie object to the `Create` view.</span></span> <span data-ttu-id="4849e-167">Все методы, которые создают, редактируют, удаляют или иным образом изменяют данные, делают это в перегрузке метода `[HttpPost]`.</span><span class="sxs-lookup"><span data-stu-id="4849e-167">All the methods that create, edit, delete, or otherwise modify data do so in the `[HttpPost]` overload of the method.</span></span> <span data-ttu-id="4849e-168">Изменение данных в методе `HTTP GET` сопряжено с угрозой безопасности.</span><span class="sxs-lookup"><span data-stu-id="4849e-168">Modifying data in an `HTTP GET` method is a security risk.</span></span> <span data-ttu-id="4849e-169">Изменение данных в методе `HTTP GET` также не соответствует рекомендациям по использованию протокола HTTP и модели архитектуры [REST](http://rest.elkstein.org/), в которых указывается, что запросы GET не должны изменять состояние приложения.</span><span class="sxs-lookup"><span data-stu-id="4849e-169">Modifying data in an `HTTP GET` method also violates HTTP best practices and the architectural [REST](http://rest.elkstein.org/) pattern, which specifies that GET requests shouldn't change the state of your application.</span></span> <span data-ttu-id="4849e-170">Другими словами, операция GET должна выполняться безопасным способом, то есть не иметь побочных эффектов и не изменять существующие данные.</span><span class="sxs-lookup"><span data-stu-id="4849e-170">In other words, performing a GET operation should be a safe operation that has no side effects and doesn't modify your persisted data.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="4849e-171">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="4849e-171">Additional resources</span></span>

* [<span data-ttu-id="4849e-172">Глобализация и локализация</span><span class="sxs-lookup"><span data-stu-id="4849e-172">Globalization and localization</span></span>](xref:fundamentals/localization)
* [<span data-ttu-id="4849e-173">Общие сведения о вспомогательных функциях тегов</span><span class="sxs-lookup"><span data-stu-id="4849e-173">Introduction to Tag Helpers</span></span>](xref:mvc/views/tag-helpers/intro)
* [<span data-ttu-id="4849e-174">Создание вспомогательных функций тегов</span><span class="sxs-lookup"><span data-stu-id="4849e-174">Author Tag Helpers</span></span>](xref:mvc/views/tag-helpers/authoring)
* [<span data-ttu-id="4849e-175">Защита от подделки запросов</span><span class="sxs-lookup"><span data-stu-id="4849e-175">Anti-Request Forgery</span></span>](xref:security/anti-request-forgery)
* <span data-ttu-id="4849e-176">Защита контроллера от [чрезмерной передачи данных](/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application)</span><span class="sxs-lookup"><span data-stu-id="4849e-176">Protect your controller from [over-posting](/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/implementing-basic-crud-functionality-with-the-entity-framework-in-asp-net-mvc-application)</span></span>
* [<span data-ttu-id="4849e-177">ViewModels</span><span class="sxs-lookup"><span data-stu-id="4849e-177">ViewModels</span></span>](http://rachelappel.com/use-viewmodels-to-manage-data-amp-organize-code-in-asp-net-mvc-applications/)
* [<span data-ttu-id="4849e-178">Вспомогательная функция тега Form</span><span class="sxs-lookup"><span data-stu-id="4849e-178">Form Tag Helper</span></span>](xref:mvc/views/working-with-forms)
* [<span data-ttu-id="4849e-179">Вспомогательная функция тега Input</span><span class="sxs-lookup"><span data-stu-id="4849e-179">Input Tag Helper</span></span>](xref:mvc/views/working-with-forms)
* [<span data-ttu-id="4849e-180">Вспомогательная функция тега Label</span><span class="sxs-lookup"><span data-stu-id="4849e-180">Label Tag Helper</span></span>](xref:mvc/views/working-with-forms)
* [<span data-ttu-id="4849e-181">Вспомогательная функция тега Select</span><span class="sxs-lookup"><span data-stu-id="4849e-181">Select Tag Helper</span></span>](xref:mvc/views/working-with-forms)
* [<span data-ttu-id="4849e-182">Вспомогательная функция тега Validation</span><span class="sxs-lookup"><span data-stu-id="4849e-182">Validation Tag Helper</span></span>](xref:mvc/views/working-with-forms)
